- en: Chapter 5. Composite Photography
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第5章。合成摄影
- en: In [Chapter 2](ch02.html "Chapter 2. Photograph Retouching"), we retouched existing
    images. In this chapter, we show you how to create unique pictures, using multiple
    photographs to build composite images.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第2章](ch02.html "第2章。照片修饰")中，我们修饰了现有的图像。在本章中，我们将向您展示如何通过使用多张照片来创建独特的图片，制作合成图像。
- en: '5.1 Tutorial: Building a Composite Portrait'
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5.1 教程：构建合成肖像
- en: A *composite portrait* is an image that combines several different portraits
    to build a new portrait. For example, you could merge several artists’ renderings
    of eyewitness accounts to create the most accurate possible likeness of a dangerous
    criminal. You could also use these techniques to guess what the child of two people
    would look like or to invent a strange hybrid animal.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*合成肖像* 是将多个不同的肖像组合成一张新的肖像图像。例如，你可以将几位艺术家对目击者描述的绘画合并，创建出一个最接近真实的危险罪犯形象。你也可以使用这些技术来推测两个人的孩子长什么样，或者发明一种奇特的混合动物。'
- en: In this example, we create a composite of several young women who kindly agreed
    to let us use their pictures for this demonstration.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们创建了几位年轻女性的合成肖像，她们友好地同意了我们使用她们的照片来进行这个演示。
- en: Each portrait was taken in front of the same neutral background, with the same
    lighting, and with the girls in approximately the same position. But differences
    in skin hue or in the tilt of their head will create some interesting challenges.
    Using photographs taken under disparate conditions would be much more difficult,
    though. Imagine trying to copy a nose lit from the left onto a face lit from the
    right. Of course, you could flip the first image vertically, but that could lead
    to undesirable effects elsewhere in the image. Scaling a feature because the source
    photograph is much larger—or much smaller— than the target one would lead to differences
    in sharpness. And putting the chin of a middle-age man on the face of a young
    woman, or vice versa, would, for many reasons, look odd. For this example, we
    chose conditions that make the project feasible and simple while still being instructive.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 每张肖像都拍摄于相同的中性背景前，使用相同的光照，并且女孩们大致处于相同的位置。但肤色的差异或头部倾斜的不同会带来一些有趣的挑战。如果使用在不同条件下拍摄的照片，那将更加困难。想象一下，将左侧光照下拍摄的鼻子复制到右侧光照下的脸上。当然，你可以将第一张图片垂直翻转，但那可能会导致图像其他部分出现不理想的效果。如果源照片的尺寸比目标照片大得多——或小得多——进行特征缩放会导致清晰度差异。而将一个中年男子的下巴放到年轻女性的脸上，或反之，出于多种原因也会显得很奇怪。在这个例子中，我们选择了在可行且简单的条件下进行项目操作，同时仍然具有教学意义。
- en: Begin with the four 900 × 1200 portraits shown in [Figure 5-1](ch05s01.html#four_source_portraits
    "Figure 5-1. The four source portraits"). The four portraits are arranged as layers
    within a single image. Our composite will have the eyes from portrait 1, the hair
    from portrait 2, the nose from portrait 3, and the mouth and chin from portrait
    4.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图5-1](ch05s01.html#four_source_portraits "图5-1。四个源肖像")中展示的四张900 × 1200的肖像开始。这四张肖像作为图层排列在一张单独的图像中。我们的合成肖像将使用肖像1的眼睛，肖像2的头发，肖像3的鼻子，以及肖像4的嘴巴和下巴。
- en: 'The first thing you need to do is correct the lighting so it’s the same across
    all four portraits. Use the **Image: Colors > Levels** tool on each layer separately:
    Select the layer in the Layers dialog and then the Levels tool, and click AUTO.
    The result is shown in [Figure 5-2](ch05s01.html#after_lighting_correction "Figure 5-2. After
    lighting correction"). The skin hues still vary widely but less than they did
    before the adjustment.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你需要修正光照，使所有四张肖像的光照一致。使用**图像：颜色 > 色阶**工具分别对每一层进行调整：在图层对话框中选择该图层，然后选择色阶工具，并点击自动。调整后的效果如[图5-2](ch05s01.html#after_lighting_correction
    "图5-2。经过光照修正后的效果")所示。肤色差异仍然很大，但比调整前有所减少。
- en: '![The four source portraits](httpatomoreillycomsourcenostarchimages1454682.png.jpg)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![四个源肖像](httpatomoreillycomsourcenostarchimages1454682.png.jpg)'
- en: Figure 5-1. The four source portraits
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-1。四个源肖像
- en: '![After lighting correction](httpatomoreillycomsourcenostarchimages1454684.png.jpg)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![经过光照修正后的效果](httpatomoreillycomsourcenostarchimages1454684.png.jpg)'
- en: Figure 5-2. After lighting correction
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-2。经过光照修正后的效果
- en: Taking Features from Different Portraits
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从不同肖像中提取特征
- en: Of all the features, the girls’ hair is the most difficult to copy. No selection
    tool could capture it precisely, and correcting it with the Quick Mask tool would
    be tedious—and extremely difficult. The best solution is, therefore, to copy the
    other features onto the face with the hair you want (for this example, portrait
    2). The composite girl will be wearing the black shirt from this portrait, but
    all of the girls are dressed in black anyway, so the shirt doesn’t make much of
    a difference.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 所有特征中，女孩的头发是最难复制的。没有任何选择工具可以精确地捕捉到它，而用快速蒙版工具修正它又既繁琐又极为困难。因此，最佳的解决方案是将其他特征复制到你想要的头发上（例如，肖像
    2）。合成女孩将穿上这张肖像中的黑色衬衫，但因为所有女孩都是穿黑色衣服，所以衬衫并不重要。
- en: To create the new image that will be the composite portrait, simply click and
    drag the layer of portrait 2 from the Layers dialog to the Toolbox. Immediately
    save this image (![](httpatomoreillycomsourcenostarchimages1453852.png.jpg), and
    from time to time, save it again (![](httpatomoreillycomsourcenostarchimages1453858.png.jpg)),
    so you don’t risk losing all your work.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建新的合成肖像，只需从图层对话框中点击并拖动肖像 2 的图层到工具箱中。立刻保存这个图像（![](httpatomoreillycomsourcenostarchimages1453852.png.jpg)），并不时重新保存（![](httpatomoreillycomsourcenostarchimages1453858.png.jpg)），这样可以避免丢失所有工作。
- en: 'Next, copy the features from the other portraits. You can do this in two ways:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，从其他肖像中复制特征。你可以通过两种方式进行操作：
- en: Select the feature in the source image, copy it, paste it into the target image,
    and create a new layer (![](httpatomoreillycomsourcenostarchimages1454182.png.jpg))
    with the resulting floating selection.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在源图像中选择特征，复制它，将其粘贴到目标图像中，并用结果的浮动选择创建一个新图层（![](httpatomoreillycomsourcenostarchimages1454182.png.jpg)）。
- en: Use the Clone tool to copy from the source image to the target one, preferably
    into a new transparent layer.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用克隆工具从源图像复制到目标图像，最好是复制到一个新的透明图层中。
- en: Each technique has advantages and drawbacks, so we show you both techniques
    and let you decide which one works best for you. Creating a new layer for each
    new feature is important because it allows you to change one feature without having
    to rebuild the whole portrait. Containing the features in different layers also
    lets you make adjustments to the color, orientation, or size of one feature without
    changing the rest of the portrait.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 每种技术都有其优缺点，所以我们展示了两种方法，让你自行决定哪一种最适合你。为每个新特征创建一个新图层非常重要，因为它允许你更改一个特征而不必重建整个肖像。将特征包含在不同的图层中，也让你能够对其中一个特征的颜色、方向或大小进行调整，而不影响其他部分的肖像。
- en: '![Selecting the mouth and chin](httpatomoreillycomsourcenostarchimages1454686.png.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![选择嘴巴和下巴](httpatomoreillycomsourcenostarchimages1454686.png.jpg)'
- en: Figure 5-3. Selecting the mouth and chin
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-3. 选择嘴巴和下巴
- en: '![Pasting the mouth and chin](httpatomoreillycomsourcenostarchimages1454688.png.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![粘贴嘴巴和下巴](httpatomoreillycomsourcenostarchimages1454688.png.jpg)'
- en: Figure 5-4. Pasting the mouth and chin
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-4. 粘贴嘴巴和下巴
- en: Once you’re satisfied with the placement, size, and coloration of the copied
    features, you can flatten the image and then do some minor retouching to better
    incorporate the new features into the face.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你对复制的特征的位置、大小和颜色感到满意，可以将图像合并并进行一些细微的修饰，以更好地将新特征融入脸部。
- en: Zoom the initial portraits and your new portrait to the same zoom factor, for
    example 50%. Make sure portrait 4 is the active layer. Select the Free Select
    tool (![](httpatomoreillycomsourcenostarchimages1453982.png.jpg)). Check the FEATHER
    EDGES box and choose a RADIUS of 10\. Build a tight selection around the mouth
    and chin of portrait 4, as shown in [Figure 5-3](ch05s01.html#selecting_the_mouth_and_chin
    "Figure 5-3. Selecting the mouth and chin"). If you copy too large an area, you
    might end up with discrepancies in skin color.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 将初始人像和新的肖像放大到相同的缩放比例，例如 50%。确保肖像 4 是活动图层。选择“自由选择工具”（![](httpatomoreillycomsourcenostarchimages1453982.png.jpg)）。勾选“羽化边缘”框，并选择一个半径为
    10 的值。围绕肖像 4 的嘴巴和下巴创建一个紧密的选择区域，如[图 5-3](ch05s01.html#selecting_the_mouth_and_chin
    "图 5-3. 选择嘴巴和下巴")所示。如果复制的区域过大，可能会导致肤色差异。
- en: 'Copy the selection made in portrait 4, and paste it into the composite picture.
    Press ![](httpatomoreillycomsourcenostarchimages1454182.png.jpg) to create a new
    layer with the floating selection. The copy appears in the center of the image;
    move the copy to its proper place with the Move tool. Because the girl in portrait
    4 tilted her head, the new mouth and chin are crooked. To correct this, flip the
    new layer horizontally with **Image: Layer > Transform > Flip Horizontally** and
    then rotate it (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg)) into
    the proper position. The mouth and chin are now aligned, but the color is uneven,
    as shown in [Figure 5-4](ch05s01.html#pasting_the_mouth_and_chin "Figure 5-4. Pasting
    the mouth and chin"). We’ll correct this later. Double-click the new layer in
    the Layers dialog and change the name to `mouth`.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 复制肖像4中的选区，并将其粘贴到合成图像中。按下![](httpatomoreillycomsourcenostarchimages1454182.png.jpg)创建一个带有浮动选区的新图层。复制图像出现在图像中心；使用移动工具将复制图像移到正确的位置。由于肖像4中的女孩歪了头，因此新粘贴的嘴巴和下巴有些歪。为纠正此问题，通过**图像：图层
    > 变换 > 水平翻转**来水平翻转新图层，然后旋转它 (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg))
    到合适的位置。嘴巴和下巴现在对齐了，但颜色不均匀，如[图5-4](ch05s01.html#pasting_the_mouth_and_chin "图5-4.
    粘贴嘴巴和下巴")所示。稍后我们会纠正这个问题。双击图层对话框中的新图层并将其名称更改为`mouth`。
- en: '![Selecting the eyes](httpatomoreillycomsourcenostarchimages1454690.png.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![选择眼睛](httpatomoreillycomsourcenostarchimages1454690.png.jpg)'
- en: Figure 5-5. Selecting the eyes
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-5. 选择眼睛
- en: '![After pasting the eyes](httpatomoreillycomsourcenostarchimages1454692.png.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![粘贴眼睛之后](httpatomoreillycomsourcenostarchimages1454692.png.jpg)'
- en: Figure 5-6. After pasting the eyes
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-6. 粘贴眼睛之后
- en: Make sure portrait 1 is visible and active and then copy the eyes, again using
    the Free Select tool. To avoid selecting the eyebrows and the bridge of the nose,
    build the selection in two parts. First, draw a circle around one eye, press and
    hold the ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) key, and draw
    a second circle around the other eye. See [Figure 5-5](ch05s01.html#selecting_the_eyes-id00053
    "Figure 5-5. Selecting the eyes"). You could also change the MODE in the tool’s
    options, rather than pressing ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg).
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 确保肖像1可见并处于活动状态，然后再次使用自由选择工具复制眼睛。为了避免选择到眉毛和鼻梁，将选区分成两部分。首先，围绕一个眼睛绘制一个圆圈，按住![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)键，再围绕另一个眼睛绘制第二个圆圈。参见[图5-5](ch05s01.html#selecting_the_eyes-id00053
    "图5-5. 选择眼睛")。你也可以通过更改工具选项中的模式，而不是按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)键来进行选择。
- en: Again, copy the selection, paste it into the composite picture, and create a
    new layer from the floating selection. Name this layer `eyes`. Move the layer
    into place, and rotate it slightly (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg)).
    The result, shown in [Figure 5-6](ch05s01.html#after_pasting_the_eyes "Figure 5-6. After
    pasting the eyes"), isn’t bad, although you could improve the skin color transition.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 再次复制选区，将其粘贴到合成图像中，并从浮动选区创建一个新图层。将此图层命名为`eyes`。将图层移动到合适的位置，并稍微旋转它 (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg))。结果，如[图5-6](ch05s01.html#after_pasting_the_eyes
    "图5-6. 粘贴眼睛之后")所示，效果不错，尽管你可以改进肤色过渡。
- en: 'For the nose, use the Clone tool (![](httpatomoreillycomsourcenostarchimages1454096.png.jpg)).
    Create a new transparent layer and call it `nose`. Select the Clone tool and select
    the `Hardness 075` brush. Set the Clone tool’s size option to 20, and select ALIGNED
    as your ALIGNMENT option. Using a tablet stylus if you have one, or the mouse
    if you don’t, ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-click
    the tip of the nose in portrait 3 and then paint on the composite picture, beginning
    at the tip of the nose. The resulting image has two main problems: First, the
    skin color is inconsistent, and second, the tilt of the nose isn’t quite right.
    The nose tilt can be corrected by rotating the new layer slightly. One possible
    result appears in [Figure 5-7](ch05s01.html#copying_the_nose "Figure 5-7. Copying
    the nose").'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对于鼻子，使用克隆工具 (![](httpatomoreillycomsourcenostarchimages1454096.png.jpg))。创建一个新的透明图层并命名为`nose`。选择克隆工具，并选择`Hardness
    075`画笔。将克隆工具的大小选项设置为20，并选择ALIGNED作为对齐选项。如果你有平板手写笔，可以使用它；如果没有，则使用鼠标，![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)单击肖像3中的鼻尖，然后在合成图像上开始从鼻尖处涂抹。结果图像有两个主要问题：首先，肤色不一致；其次，鼻子的倾斜角度不对。可以通过稍微旋转新图层来修正鼻子的倾斜。一个可能的结果如[图5-7](ch05s01.html#copying_the_nose
    "图5-7. 复制鼻子")所示。
- en: '![Copying the nose](httpatomoreillycomsourcenostarchimages1454694.png.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![复制鼻子](httpatomoreillycomsourcenostarchimages1454694.png.jpg)'
- en: Figure 5-7. Copying the nose
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-7. 复制鼻子
- en: Smoothing Transitions
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 平滑过渡
- en: Next, smooth the features to create a more coherent composite portrait. Here,
    we demonstrate a few of the ways you can do this.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，平滑面部特征，以创建更具连贯性的合成肖像。这里，我们展示了几种实现此目标的方法。
- en: For the mouth and chin, use the Levels tool. Select it, and with the mouth layer
    active, move the right and middle triangles slightly for each of the three color
    channels. You should get a skin color similar to that of the original portrait.
    The area under the chin is still much too dark, however. Because the chin is on
    a separate layer, you can simply erase the part you don’t need. Select the Eraser
    tool (![](httpatomoreillycomsourcenostarchimages1454130.png.jpg)), and choose
    the brush and size that you used with the Clone tool. Zoom in to work more precisely,
    and if you have one, use a tablet pen. You’ll still see a hue discrepancy between
    the chin and the neck, but don’t worry about that.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 对于嘴巴和下巴，使用“色阶”工具。选择它，并在嘴巴图层激活的状态下，轻微调整三个颜色通道中的右三角和中三角。你应该得到一个接近原始肖像的肤色。然而，下巴下方的区域仍然太暗。因为下巴在一个单独的图层中，你可以直接擦除不需要的部分。选择橡皮擦工具
    (![](httpatomoreillycomsourcenostarchimages1454130.png.jpg))，然后选择你在使用克隆工具时使用的画笔和大小。放大以更精确地操作，如果你有数位板，使用它会更方便。你仍然会看到下巴和脖子之间的色调差异，但不必太担心。
- en: '![The final composite picture](httpatomoreillycomsourcenostarchimages1454696.png.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![最终合成图](httpatomoreillycomsourcenostarchimages1454696.png.jpg)'
- en: Figure 5-8. The final composite picture
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-8. 最终合成图
- en: The main problem now is the color of the nose. Correct it using the Levels tool.
    Move the middle triangle in the Value channel liberally toward the left. Try somewhere
    near 1.8.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在主要的问题是鼻子的颜色。使用色阶工具来调整它。将“值”通道中的中三角形大幅度向左移动，尝试调到 1.8 附近。
- en: 'Now you’ve done all you can with a multilayer image. To complete the composite
    portrait, you need to flatten the image. As a precaution, save the multilayer
    image and then duplicate it (![](httpatomoreillycomsourcenostarchimages1454698.png.jpg)),
    and work on the copy. Merge all layers (**Layers: right-click > Flatten Image**),
    so you can use the Smudge, Dodge/Burn, or Clone tools on the image as a whole.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经完成了多层图像的所有操作。为了完成合成肖像，你需要将图像合并。为了预防，保存多层图像并将其复制 (![](httpatomoreillycomsourcenostarchimages1454698.png.jpg))，然后在副本上进行操作。合并所有图层（**图层：右键点击
    > 合并图像**），这样你就可以对整个图像使用涂抹、加深/减淡或克隆工具。
- en: Several parts of the composite portrait require delicate touch-ups. Use the
    Smudge tool (![](httpatomoreillycomsourcenostarchimages1454162.png.jpg)) to smooth
    the transitions between the various components of the final portrait, especially
    around the nose and on the upper part of the mouth and chin fragment copied from
    portrait 4\. You can also use the Healing tool (![](httpatomoreillycomsourcenostarchimages1454700.png.jpg))
    to correct slight irregularities on the nose bridge or on the cheekbones.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 合成肖像的几个部分需要精细的修整。使用涂抹工具 (![](httpatomoreillycomsourcenostarchimages1454162.png.jpg))
    来平滑最终肖像中各个组成部分之间的过渡，特别是在鼻子周围和从肖像 4 中复制过来的嘴巴和下巴上部碎片部分。你还可以使用修复工具 (![](httpatomoreillycomsourcenostarchimages1454700.png.jpg))
    来修正鼻梁或颧骨上的轻微不规则。
- en: Finally, select the whole face, but not the hair, and apply a very light Gaussian
    blur with a radius of 1 or 2 pixels. This makes the face smoother and helps to
    hide any visible borders that remain between the features and the face. [Figure 5-8](ch05s01.html#final_composite_picture
    "Figure 5-8. The final composite picture") shows the final result.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，选择整个面部，但不包括头发，并应用一个半径为 1 或 2 像素的非常轻微的高斯模糊。这会使面部更加平滑，并有助于隐藏面部特征与面部之间可能残留的可见边界。[图
    5-8](ch05s01.html#final_composite_picture "图 5-8. 最终合成图") 显示了最终结果。
- en: 5.2 Selections, Overlaying, and Blending Modes
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5.2 选择、叠加与混合模式
- en: This chapter focuses on the construction of composite images using elements
    from several different photographs. The three main tools for this process are
    selections, overlaying, and blending modes.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 本章重点讲解如何使用来自不同照片的元素构建合成图像。这个过程的三个主要工具是选择、叠加和混合模式。
- en: Masks and Selections
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 蒙版与选择
- en: As the preceding tutorial demonstrates, making selections is one of the most
    important, and trickiest, tasks involved in photo manipulation. So we’ll spend
    some time clarifying the functionality of the selection tools available in GIMP.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 正如前面的教程所演示的，制作选区是照片处理中最重要且最棘手的任务之一。所以我们将花些时间澄清 GIMP 中可用的选区工具的功能。
- en: 'When you build a selection with the Rectangle Select tool, you get an area
    bounded by a simple geometric form. The simplicity makes it easy to tell whether
    pixels are within the selection. If you choose to feather the edges of the selection,
    however, the boundary is less clear: Some pixels are clearly out of the selection
    and some are deep within it, but what about those pixels on the feathered border?'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用矩形选择工具建立选区时，你会得到一个由简单几何形状所界定的区域。这种简单性使得你可以轻松判断像素是否在选区内。然而，如果你选择羽化选区的边缘，边界就不那么清晰了：有些像素显然不在选区内，有些像素则深深位于选区内，但那些位于羽化边缘的像素呢？
- en: The situation is even more complicated when you use the Fuzzy Select tool or
    the Select by Color tool. The selections that these tools build are usually not
    defined by clear and simple outlines. This shortcoming is obvious when you turn
    on Quick Mask, which displays the unselected pixels in red (by default). If the
    selection is feathered, you see that some pixels are completely red (unselected);
    others aren’t red at all (selected); and some pixels are, well, reddish. [Figure 5-9](ch05s02.html#feathered_selection_made_by_the_select_b
    "Figure 5-9. A feathered selection made by the Select by Color tool") shows a
    feathered selection made with the Select by Color tool, whereas [Figure 5-10](ch05s02.html#selection_as_a_quick_mask
    "Figure 5-10. The selection as a Quick Mask") shows the same selection with the
    Quick Mask tool active. Both images are shown with a zoom factor of 800%.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用模糊选择工具或按颜色选择工具时，情况会更加复杂。这些工具所建立的选区通常没有明确简单的轮廓。这一缺点在你启用快速蒙版时尤为明显，快速蒙版会将未选择的像素显示为红色（默认情况下）。如果选区是羽化的，你会看到一些像素完全是红色的（未选择）；一些像素根本不是红色的（已选择）；而另一些像素则是，嗯，有点红色。[图
    5-9](ch05s02.html#feathered_selection_made_by_the_select_b "图 5-9. 使用按颜色选择工具制作的羽化选区")展示了使用按颜色选择工具制作的羽化选区，而[图
    5-10](ch05s02.html#selection_as_a_quick_mask "图 5-10. 作为快速蒙版的选区")则展示了启用快速蒙版工具后的同一选区。这两幅图像的显示倍数为
    800%。
- en: '![A feathered selection made by the Select by Color tool](httpatomoreillycomsourcenostarchimages1454702.png.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![使用按颜色选择工具制作的羽化选区](https://example.com/sourcenostarchimages1454702.png.jpg)'
- en: Figure 5-9. A feathered selection made by the Select by Color tool
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-9. 使用按颜色选择工具制作的羽化选区
- en: '![The selection as a Quick Mask](httpatomoreillycomsourcenostarchimages1454704.png.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![作为快速蒙版的选区](https://example.com/sourcenostarchimages1454704.png.jpg)'
- en: Figure 5-10. The selection as a Quick Mask
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-10. 作为快速蒙版的选区
- en: As you may have guessed, those reddish pixels are partially selected. A selection
    and a mask are actually the same thing. They are both grayscale images that specify
    to what degree each pixel is selected. If the pixel value of the mask is 0 (i.e.,
    black), the corresponding pixel in the image is not selected at all. If this value
    is 255 (i.e., white), the corresponding pixel is fully selected. A partially selected
    pixel has a value somewhere between 0 and 255.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所猜测的那样，这些带有红色的像素是部分选中的。选区和蒙版实际上是相同的东西。它们都是灰度图像，用来指定每个像素被选中的程度。如果蒙版的像素值为 0（即黑色），则图像中的相应像素完全没有被选中。如果这个值是
    255（即白色），则相应的像素完全被选中。部分选中的像素的值介于 0 和 255 之间。
- en: '![A selection saved in the Channels dialog](httpatomoreillycomsourcenostarchimages1454706.png.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![在通道对话框中保存的选区](https://example.com/sourcenostarchimages1454706.png.jpg)'
- en: Figure 5-11. A selection saved in the Channels dialog
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-11. 在通道对话框中保存的选区
- en: 'Along the feathered edge of a selection, pixels are partially selected. All
    actions made to the selection affect these partially selected pixels to a lesser
    degree: Painting is semitransparent; burning is partial; cutting leaves some of
    the pixels in place; and so on. Partial selections are what make selections so
    useful in photo manipulation. They allow you to build composite pictures that
    don’t look like clumsy collages.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在选区的羽化边缘，像素是部分选中的。对选区所做的所有操作都会以较小的程度影响这些部分选中的像素：绘画时是半透明的；加深时是部分的；裁切时留下部分像素；等等。部分选区是使选区在照片处理中非常有用的原因。它们使你能够构建看起来不像笨拙拼贴画的合成图像。
- en: 'Because a selection and a mask are the same thing, and a mask is a grayscale
    image, you can manipulate it with the same tools that you would use on an image.
    You can paint on it with the painting tools demonstrated in [Chapter 3](ch03.html
    "Chapter 3. Drawing and Illustration"). You can select and edit specific areas.
    And you can save it and use it later with **Image: Select > Save to Channel**.
    The mask appears as an additional channel in the Channels dialog, as shown in
    [Figure 5-11](ch05s02.html#selection_saved_in_the_channels_dialog "Figure 5-11. A
    selection saved in the Channels dialog"). In this figure, the channel is selected
    (its line is emphasized), so if you paint on the image now, you’ll be painting
    on the mask. To paint on the image itself, switch to the Layers tab, select the
    layer you want to modify, and begin painting.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 由于选区和蒙版是相同的，而且蒙版是灰度图像，你可以使用与图像相同的工具来操作它。你可以使用[第 3 章](ch03.html "第 3 章. 绘图与插图")中演示的绘画工具在其上绘制。你可以选择和编辑特定区域。你还可以保存并稍后使用**图像：选择
    > 保存到通道**。蒙版会作为额外的通道出现在“通道”对话框中，如[图 5-11](ch05s02.html#selection_saved_in_the_channels_dialog
    "图 5-11. 保存在通道中的选区")所示。在此图中，通道被选中（其线条被强调），所以如果你现在在图像上绘制，你是在绘制蒙版。要在图像本身上绘制，请切换到“图层”标签，选择你想修改的图层，然后开始绘制。
- en: 'You can also use this property to change the mask in the same way we use the
    Quick Mask tool. To do this, open the Channels dialog and click the box to the
    left of the mask so the eye is visible. The mask now appears over the image (in
    gray by default). You can change the mask’s display color by selecting **Channels:
    right-click > Edit Channel Attributes** to open the dialog shown in [Figure 5-12](ch05s02.html#edit_channel_attributes_dialog
    "Figure 5-12. The Edit Channel Attributes dialog"). You can change the channel’s
    name and its opacity, as well as the color of the mask. Click the large button
    on the right to open the Color chooser, where you can pick any color you want.
    But keep in mind that using a color that contrasts with the image is generally
    best.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用此属性以与使用快速蒙版工具相同的方式更改蒙版。为此，打开“通道”对话框，然后单击蒙版左侧的框，使眼睛图标可见。现在，蒙版会出现在图像上（默认是灰色）。你可以通过选择**通道：右键单击
    > 编辑通道属性**来更改蒙版的显示颜色，这会打开[图 5-12](ch05s02.html#edit_channel_attributes_dialog
    "图 5-12. 编辑通道属性对话框")所示的对话框。你可以更改通道的名称和透明度，以及蒙版的颜色。单击右侧的大按钮打开颜色选择器，在这里你可以选择任何你喜欢的颜色。但请记住，通常选择与图像对比的颜色效果最佳。
- en: '![The Edit Channel Attributes dialog](httpatomoreillycomsourcenostarchimages1454708.png.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![编辑通道属性对话框](httpatomoreillycomsourcenostarchimages1454708.png.jpg)'
- en: Figure 5-12. The Edit Channel Attributes dialog
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-12. 编辑通道属性对话框
- en: When a selection (a mask) is saved in a channel, you can use it again later
    by simply clicking the red square button at the bottom of the Channels dialog.
    If you hover the pointer over the button, you’ll see that the standard key combinations
    allow you to activate different selection modes. You can save an unlimited number
    of selections as masks in the Channels dialog.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 当选区（蒙版）保存在通道中时，你可以通过简单地单击“通道”对话框底部的红色方框按钮来再次使用它。如果你将鼠标指针悬停在按钮上，你会看到标准的键盘快捷键组合允许你激活不同的选区模式。你可以在“通道”对话框中保存无限数量的选区作为蒙版。
- en: A mask used to determine the transparency of pixels in a layer is known as a
    *layer mask*. A layer mask is a part of a specific layer, and its pixels specify
    the transparency of the corresponding pixels in that layer. If a mask pixel is
    white, the corresponding layer pixel is opaque and thus visible in the image if
    not hidden by another pixel located in an upper layer. If a mask pixel is black,
    the corresponding layer pixel is transparent and thus invisible. Intermediate
    values for the mask pixels produce intermediate transparency levels for the layer
    pixels. Note, however, that the layer itself is unchanged.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 用于确定图层中像素透明度的蒙版被称为*图层蒙版*。图层蒙版是特定图层的一部分，其像素指定该图层中相应像素的透明度。如果蒙版像素是白色的，则对应的图层像素是完全不透明的，因此如果没有被位于上层的其他像素遮挡，它将在图像中可见。如果蒙版像素是黑色的，则对应的图层像素是透明的，因此不可见。蒙版像素的中间值会产生图层像素的中间透明度级别。然而，请注意，图层本身并不会改变。
- en: 'You can add a layer mask by applying Add Layer Mask from the **Image: Layer
    > Mask** menu. Once added, you can access its options via the same menu. You can
    also add or manipulate a layer mask by right-clicking in the Layers dialog. When
    you add a mask to a layer, you can choose among several options: a completely
    white or completely black mask, the current selection, a specified channel, and
    others. Once you’ve built the mask, you can change it by painting on it, for example,
    with Quick Mask. You can change some of its properties, such as how it displays
    on the image. Finally, you can apply it to the layer, making its effect final.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过**图像：图层 > 蒙版**菜单中的“添加图层蒙版”来添加图层蒙版。添加后，你可以通过相同的菜单访问其选项。你还可以通过右键单击图层对话框中的图层来添加或编辑图层蒙版。当你向图层添加蒙版时，可以选择几种选项：完全白色或完全黑色的蒙版、当前选择、指定的通道等。一旦建立了蒙版，你可以通过涂抹来改变它，例如使用快速蒙版。你还可以改变其显示属性，例如它在图像中的显示方式。最后，你可以将其应用到图层上，使其效果最终确定。
- en: '![The first photograph](httpatomoreillycomsourcenostarchimages1454710.png.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![第一张照片](httpatomoreillycomsourcenostarchimages1454710.png.jpg)'
- en: Figure 5-13. The first photograph
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-13. 第一张照片
- en: '![The second photograph](httpatomoreillycomsourcenostarchimages1454712.png.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![第二张照片](httpatomoreillycomsourcenostarchimages1454712.png.jpg)'
- en: Figure 5-14. The second photograph
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-14. 第二张照片
- en: We already demonstrated some of these options in previous chapters, and we come
    back to them later in this chapter.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在之前的章节中已经展示了一些这些选项，稍后在本章中我们会再次提到它们。
- en: Overlaying Images
  id: totrans-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图像叠加
- en: Simply overlaying opaque images isn’t very interesting. Modifying the opacity
    of the top layer sometimes yields a satisfying result, but doing so doesn’t give
    us much control over it. Once you build a selection, however, you can create your
    own unique and imaginative images.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 单纯叠加不透明的图像并不有趣。修改顶部图层的不透明度有时会产生令人满意的结果，但这样做并不能给我们太多的控制。可是，一旦你建立了选择，就可以创造出自己独特且富有想象力的图像。
- en: For example, take the photographs shown in [Figure 5-13](ch05s02.html#first_photograph
    "Figure 5-13. The first photograph") and [Figure 5-14](ch05s02.html#second_photograph
    "Figure 5-14. The second photograph"). Open the first one, and add the second
    one as a layer (![](httpatomoreillycomsourcenostarchimages1454210.png.jpg)). Then,
    with the Fuzzy Select and Select by Color tools, select the sky in the top layer,
    which requires about a dozen clicks in several areas of the sky. Recall that pressing
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) allows you to add to
    the selection, whereas pressing ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)
    allows you to subtract from the selection. The completed selection is shown as
    a Quick Mask in [Figure 5-15](ch05s02.html#selecting_the_sky-id00054 "Figure 5-15. Selecting
    the sky").
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，取[图 5-13](ch05s02.html#first_photograph "图 5-13. 第一张照片")和[图 5-14](ch05s02.html#second_photograph
    "图 5-14. 第二张照片")中的照片。打开第一张照片，并将第二张作为一个图层添加（![](httpatomoreillycomsourcenostarchimages1454210.png.jpg)）。然后，使用模糊选择和按颜色选择工具，选择顶部图层中的天空，这需要在天空的多个区域点击约十几次。记住，按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)可以将区域添加到选择中，而按下![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)则可以从选择中减去。完成的选择将作为快速蒙版显示在[图
    5-15](ch05s02.html#selecting_the_sky-id00054 "图 5-15. 选择天空")中。
- en: '![Selecting the sky](httpatomoreillycomsourcenostarchimages1454714.png.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![选择天空](httpatomoreillycomsourcenostarchimages1454714.png.jpg)'
- en: Figure 5-15. Selecting the sky
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-15. 选择天空
- en: '![The final result](httpatomoreillycomsourcenostarchimages1454716.png.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![最终结果](httpatomoreillycomsourcenostarchimages1454716.png.jpg)'
- en: Figure 5-16. The final result
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-16. 最终结果
- en: 'Our goal is to make the sky transparent so the building from the other photograph
    is visible behind the tropical vegetation. If we simply cut the selection, however,
    the sky is replaced by opaque white because the layer doesn’t contain any transparency
    (indicated by the boldface layer name) and so any cut pixels are replaced by the
    background color. To add transparency, add an Alpha channel to the top layer:
    **Layers: right-click > Add Alpha Channel**. Now if you cut the selection, you
    get [Figure 5-16](ch05s02.html#final_result-id00055 "Figure 5-16. The final result").'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的目标是让天空变得透明，以便从另一张照片中的建筑物能通过热带植物显示出来。然而，如果我们仅仅裁剪选择，天空会被不透明的白色替代，因为图层本身没有透明度（由粗体图层名称表示），因此任何裁剪的像素都会被背景颜色替换。为了添加透明度，可以将Alpha通道添加到顶部图层：**图层：右键
    > 添加Alpha通道**。现在如果你裁剪选择，你将得到[图 5-16](ch05s02.html#final_result-id00055 "图 5-16.
    最终结果")。
- en: You can also use a selection to copy something from one photograph and paste
    it into another one. You did this earlier on a smaller scale when you created
    the composite portrait at the beginning of the chapter. Moving larger objects
    from one photograph to another presents its own challenges, as you’ll soon see.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用选择工具将一张照片中的某个部分复制并粘贴到另一张照片中。你在本章开头创建合成肖像时，就已经在较小的范围内做过这件事。将较大的物体从一张照片移动到另一张照片会带来一些挑战，正如你将很快看到的那样。
- en: '![The first photograph](httpatomoreillycomsourcenostarchimages1454718.png.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![第一张照片](httpatomoreillycomsourcenostarchimages1454718.png.jpg)'
- en: Figure 5-17. The first photograph
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-17. 第一张照片
- en: '![The second photograph](httpatomoreillycomsourcenostarchimages1454720.png.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![第二张照片](httpatomoreillycomsourcenostarchimages1454720.png.jpg)'
- en: 'Credit: Vincent Lecarme'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 版权归属：Vincent Lecarme
- en: Figure 5-18. The second photograph
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-18. 第二张照片
- en: '![Pasting the man](httpatomoreillycomsourcenostarchimages1454722.png.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![粘贴人物](httpatomoreillycomsourcenostarchimages1454722.png.jpg)'
- en: Figure 5-19. Pasting the man
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-19. 粘贴人物
- en: As you saw previously, newly pasted objects are added to an image as a *floating
    selection*. They appear in the Layers dialog (which you should always keep visible
    in your workspace) and act somewhat like a layer located on the top of the stack.
    But as long as a floating selection exists, you can’t change anything else in
    the image. The other layers are inactivated, just as the unselected regions of
    an image are inactive as long as a selection exists.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你之前所见，新粘贴的对象作为*浮动选择*被添加到图像中。它们出现在图层对话框中（你应该始终将其保持可见），并且表现得有点像堆叠最上层的图层。但是，只要浮动选择存在，你就无法更改图像中的其他内容。其他图层将被禁用，就像图像中未选中的区域在存在选择时处于非活动状态一样。
- en: '![The new layer as a floating selection](httpatomoreillycomsourcenostarchimages1454724.png.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![新图层作为浮动选择](httpatomoreillycomsourcenostarchimages1454724.png.jpg)'
- en: Figure 5-20. The new layer as a floating selection
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-20. 新图层作为浮动选择
- en: '![The final result](httpatomoreillycomsourcenostarchimages1454726.png.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![最终结果](httpatomoreillycomsourcenostarchimages1454726.png.jpg)'
- en: Figure 5-21. The final result
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-21. 最终结果
- en: 'With a floating selection, you can do the following:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 使用浮动选择，你可以执行以下操作：
- en: Create a new layer to contain the object you’ve just pasted.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个新图层，用来包含你刚刚粘贴的对象。
- en: '*Anchor* the pasted content to whatever was active just before you created
    the floating selection. This layer might be the active layer (high-lighted in
    the Layers dialog) or the active layer mask (see the previous section), but not
    the active channel.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将粘贴的内容*锚定*到你创建浮动选择之前处于激活状态的任何内容。这个图层可能是激活的图层（在图层对话框中高亮显示）或激活的图层蒙版（见前一节），但不能是激活的通道。
- en: Let’s say you want to combine elements from the photographs shown in [Figure 5-17](ch05s02.html#first_photograph-id00056
    "Figure 5-17. The first photograph") and [Figure 5-18](ch05s02.html#second_photograph-id00057
    "Figure 5-18. The second photograph"). You’ve decided to place an overdressed
    man in front of a sunny villa on the French Riviera. Select the man on the right,
    as shown in [Figure 5-18](ch05s02.html#second_photograph-id00057 "Figure 5-18. The
    second photograph"). Make the selection with the Free Select tool and complete
    it by painting with Quick Mask. Don’t very careful when selecting his legs, however,
    because they won’t be visible.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想要将[图5-17](ch05s02.html#first_photograph-id00056 "图5-17. 第一张照片")和[图5-18](ch05s02.html#second_photograph-id00057
    "图5-18. 第二张照片")中的元素结合起来。你决定将一位穿着过于华丽的男士放在法国里维埃拉的阳光明媚的别墅前。选择右侧的那位男士，如[图5-18](ch05s02.html#second_photograph-id00057
    "图5-18. 第二张照片")所示。使用自由选择工具进行选择，并通过快速蒙版完成。选择他的腿时要非常小心，因为它们将不可见。
- en: '![The upper layer and the lower layer](httpatomoreillycomsourcenostarchimages1454728.png.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![上层和下层](httpatomoreillycomsourcenostarchimages1454728.png.jpg)'
- en: Figure 5-22. The upper layer and the lower layer
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-22. 上层和下层
- en: Copy the selection from [Figure 5-18](ch05s02.html#second_photograph-id00057
    "Figure 5-18. The second photograph") and paste it onto the image in [Figure 5-17](ch05s02.html#first_photograph-id00056
    "Figure 5-17. The first photograph"). The man appears in the center of the image,
    as shown in [Figure 5-19](ch05s02.html#pasting_the_man "Figure 5-19. Pasting the
    man"), as a floating selection (see [Figure 5-20](ch05s02.html#new_layer_as_a_floating_selection
    "Figure 5-20. The new layer as a floating selection")).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 复制[图 5-18](ch05s02.html#second_photograph-id00057 "图 5-18. 第二张照片")中的选择区域，并将其粘贴到[图
    5-17](ch05s02.html#first_photograph-id00056 "图 5-17. 第一张照片")中的图像上。人物出现在图像的中央，如[图
    5-19](ch05s02.html#pasting_the_man "图 5-19. 粘贴人物")所示，作为一个浮动选择（见[图 5-20](ch05s02.html#new_layer_as_a_floating_selection
    "图 5-20. 新图层作为浮动选择")）。
- en: 'Create a new layer for this floating selection and move the man to the bottom-right
    corner of the sunny scene. He’s darker than his surroundings, so select the Levels
    tool and add some light and contrast. Also apply **Image: Layer > Transform >
    Flip Horizontally** to flip him around. You can see the result in [Figure 5-21](ch05s02.html#final_result-id00058
    "Figure 5-21. The final result").'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 为这个浮动选择创建一个新图层，并将人物移动到阳光场景的右下角。他的颜色比周围环境更暗，因此选择“色阶”工具，增加一些亮度和对比度。同时，应用**图像：图层
    > 变换 > 水平翻转**来翻转人物。你可以在[图 5-21](ch05s02.html#final_result-id00058 "图 5-21. 最终结果")中查看效果。
- en: Using Blending Modes
  id: totrans-99
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用混合模式
- en: GIMP has 21 blending modes, which you can select from the Layers dialog. The
    MODE option contains a drop-down menu with a list of blending modes that will
    act on the active layer. Each blending mode uses a different mathematical model
    to compute a new pixel value from the active layer and the layer below. Although
    we won’t go into any detail regarding the mathematics of blending modes, we will
    introduce some of the modes most useful for overlaying images.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP 提供了21种混合模式，你可以从图层对话框中选择。MODE选项包含一个下拉菜单，列出了将作用于活动图层的混合模式。每种混合模式使用不同的数学模型来计算来自活动图层和下层的新像素值。虽然我们不会深入讲解混合模式的数学原理，但我们会介绍一些最常用于图像叠加的模式。
- en: Begin with the photographs from [Figure 5-22](ch05s02.html#upper_layer_and_the_lower_layer
    "Figure 5-22. The upper layer and the lower layer"). Put them into the same image
    with the first one as the upper layer. The blending modes are arranged in a logical
    order, as explained in [Chapter 12](ch12.html "Chapter 12. Color"). In the following
    list, we briefly introduce these modes, in a different order, so we can run through
    them more quickly.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图 5-22](ch05s02.html#upper_layer_and_the_lower_layer "图 5-22. 上层和下层")中的照片开始。将它们合并为一张图像，第一张作为上层。混合模式按逻辑顺序排列，详见[第
    12 章](ch12.html "第 12 章. 颜色")。在接下来的列表中，我们将按不同顺序简要介绍这些模式，以便快速浏览。
- en: If the mode is set to Normal, the upper layer completely hides the lower one,
    except if its opacity is less than 100%. [Figure 5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per
    "Figure 5-23. Normal mode and Dissolve mode, 50% opacity; Multiply mode") (left)
    shows an image with a top layer opacity of 50%. Each new pixel contains half of
    the upper pixel and half of the lower one.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果模式设置为“正常”，上层完全覆盖下层，除非其不透明度低于100%。[图 5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per
    "图 5-23. 正常模式和溶解模式，50% 不透明度；正片叠底模式")（左图）显示了一个上层不透明度为50%的图像。每个新像素包含上层像素和下层像素各一半。
- en: Dissolve mode looks the same as Normal mode until you reduce the opacity of
    the top layer. As you decrease the opacity of the top layer, the layers are blended
    using *dithering*, and the resulting pixels are a random mixture of the upper
    and lower pixels. Opacity corresponds to the likelihood that the new pixel value
    will be taken from the upper layer. [Figure 5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per
    "Figure 5-23. Normal mode and Dissolve mode, 50% opacity; Multiply mode") (middle)
    shows the effect of Dissolve mode with the top layer at 50% opacity.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 溶解模式与正常模式看起来相同，直到你减少上层的透明度。当你降低上层的透明度时，图层通过*抖动*混合，生成的像素是上层和下层像素的随机混合。透明度对应于新像素值从上层获取的可能性。[图
    5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per "图 5-23. 正常模式和溶解模式，50%
    不透明度；正片叠底模式")（中图）显示了溶解模式在上层透明度为50%时的效果。
- en: 'In Multiply mode, the pixels’ values are multiplied and then *normalized*.
    The resulting pixels are darker than those of the initial layers. [Figure 5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per
    "Figure 5-23. Normal mode and Dissolve mode, 50% opacity; Multiply mode") (right)
    shows the result of Multiply mode: black pixels whenever one of the pixels is
    black and light pixels only when both pixels are light.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Multiply模式下，像素的值被相乘然后*标准化*。结果的像素比初始层的像素更暗。[图5-23](ch05s02.html#normal_mode_and_dissolve_modecomma_50per
    "图5-23. Normal模式和Dissolve模式，50%透明度；Multiply模式")（右侧）展示了Multiply模式的结果：当其中一个像素为黑色时，结果为黑色像素，而只有当两个像素都为亮色时，结果才为亮色像素。
- en: Divide mode divides and normalizes the pixel values. The result depends largely
    on the upper pixel. If the upper pixel is black, the result is almost white, as
    shown in [Figure 5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov "Figure 5-24. Divide
    mode, Screen mode, and Overlay mode") (left).
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Divide模式对像素值进行除法和标准化。结果主要取决于上层像素。如果上层像素为黑色，结果几乎是白色，如[图5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "图5-24. Divide模式，Screen模式和Overlay模式")（左侧）所示。
- en: '![Normal mode and Dissolve mode, 50% opacity; Multiply mode](httpatomoreillycomsourcenostarchimages1454730.png.jpg)'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Normal模式和Dissolve模式，50%透明度；Multiply模式](httpatomoreillycomsourcenostarchimages1454730.png.jpg)'
- en: Figure 5-23. Normal mode and Dissolve mode, 50% opacity; Multiply mode
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-23. Normal模式和Dissolve模式，50%透明度；Multiply模式
- en: '![Divide mode, Screen mode, and Overlay mode](httpatomoreillycomsourcenostarchimages1454732.png.jpg)'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Divide模式，Screen模式和Overlay模式](httpatomoreillycomsourcenostarchimages1454732.png.jpg)'
- en: Figure 5-24. Divide mode, Screen mode, and Overlay mode
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-24. Divide模式，Screen模式和Overlay模式
- en: The mathematics of Screen mode are more complicated. As [Figure 5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "Figure 5-24. Divide mode, Screen mode, and Overlay mode") (middle) shows, the
    dark areas in the top layer are more transparent than the light ones. If you want
    to learn more about Screen mode, flip ahead to [Chapter 12](ch12.html "Chapter 12. Color").
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Screen模式的数学原理更加复杂。如[图5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "图5-24. Divide模式，Screen模式和Overlay模式")（中间）所示，上层中的暗区域比亮区域更透明。如果你想了解更多关于Screen模式的内容，请翻到[第12章](ch12.html
    "第12章. 颜色")。
- en: Overlay mode combines Multiply and Screen modes and results in a washed-out
    upper layer. As [Figure 5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "Figure 5-24. Divide mode, Screen mode, and Overlay mode") (right) shows, the
    upper layer is no more than a ghost in the picture.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Overlay模式结合了Multiply和Screen模式，导致上层变得褪色。如[图5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "图5-24. Divide模式，Screen模式和Overlay模式")（右侧）所示，上层在图像中几乎像幽灵一样。
- en: 'Dodge and Burn are the traditional techniques used in analog photo development
    to make areas in a picture lighter or darker. As you can see in [Figure 5-25](ch05s02.html#dodge_modecomma_burn_modecomma_and_hard
    "Figure 5-25. Dodge mode, Burn mode, and Hard light mode") (left and middle),
    these modes operate according to the same principles: The upper layer is used
    to dodge or burn the lower one, and the intensity of the action corresponds to
    the value of the upper layer.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dodge和Burn是传统的模拟照片冲洗技术，用于使照片中的某些区域变得更亮或更暗。如[图5-25](ch05s02.html#dodge_modecomma_burn_modecomma_and_hard
    "图5-25. Dodge模式，Burn模式和Hard光模式")（左侧和中间）所示，这些模式按照相同的原理操作：上层用于遮挡或加深下层，操作的强度与上层的数值相对应。
- en: Hard light and Soft light are similar combinations of Multiply and Screen. As
    shown in [Figure 5-25](ch05s02.html#dodge_modecomma_burn_modecomma_and_hard "Figure 5-25. Dodge
    mode, Burn mode, and Hard light mode") (right), Hard light mode isn’t very useful
    in this example because the upper layer almost completely hides the lower one.
    As [Figure 5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec "Figure 5-26. Soft
    light mode, Grain extract mode, and Grain merge mode") (left) shows, Soft light
    mode produces a more interesting result, although in this example, the result
    is very similar to Overlay mode (see [Figure 5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "Figure 5-24. Divide mode, Screen mode, and Overlay mode"), right).
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Hard光和Soft光是Multiply模式和Screen模式的类似组合。如[图5-25](ch05s02.html#dodge_modecomma_burn_modecomma_and_hard
    "图5-25. Dodge模式，Burn模式和Hard光模式")（右侧）所示，在此示例中，Hard光模式并不是很有用，因为上层几乎完全隐藏了下层。如[图5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec
    "图5-26. Soft光模式，Grain提取模式和Grain合并模式")（左侧）所示，Soft光模式产生了更有趣的结果，尽管在这个例子中，结果与Overlay模式非常相似（见[图5-24](ch05s02.html#divide_modecomma_screen_modecomma_and_ov
    "图5-24. Divide模式，Screen模式和Overlay模式")，右侧）。
- en: '![Dodge mode, Burn mode, and Hard light mode](httpatomoreillycomsourcenostarchimages1454734.png.jpg)'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![减淡模式、加深模式和硬光模式](httpatomoreillycomsourcenostarchimages1454734.png.jpg)'
- en: Figure 5-25. Dodge mode, Burn mode, and Hard light mode
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5-25。减淡模式、加深模式和硬光模式
- en: '![Soft light mode, Grain extract mode, and Grain merge mode](httpatomoreillycomsourcenostarchimages1454736.png.jpg)'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![柔光模式、颗粒提取模式和颗粒合并模式](httpatomoreillycomsourcenostarchimages1454736.png.jpg)'
- en: Figure 5-26. Soft light mode, Grain extract mode, and Grain merge mode
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5-26。柔光模式、颗粒提取模式和颗粒合并模式
- en: Grain extract and Grain merge are another pair of sibling modes. Grain extract
    is similar to Difference mode, whereas Grain merge is similar to Addition mode
    (which we explain next). These modes are suppose to mimic film grain, but sometimes
    the similarity isn’t apparent. [Figure 5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec
    "Figure 5-26. Soft light mode, Grain extract mode, and Grain merge mode") (middle)
    illustrates how Grain extract uses the light areas from the upper layer to exaggerate
    the light areas in the lower one. [Figure 5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec
    "Figure 5-26. Soft light mode, Grain extract mode, and Grain merge mode") (right)
    shows the more subtle effects of Grain merge, which uses the texture of the upper
    layer to change the lower layer.
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 颗粒提取和颗粒合并是另一对兄弟模式。颗粒提取类似于差值模式，而颗粒合并类似于加法模式（我们将在后面解释）。这些模式本应模拟电影颗粒，但有时相似性并不明显。[图
    5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec "图 5-26。柔光模式、颗粒提取模式和颗粒合并模式")（中）展示了颗粒提取如何利用上层的亮区来夸大下层的亮区。[图
    5-26](ch05s02.html#soft_light_modecomma_grain_extract_modec "图 5-26。柔光模式、颗粒提取模式和颗粒合并模式")（右）展示了颗粒合并的更微妙效果，它利用上层的纹理来改变下层的效果。
- en: Difference, Addition, and Subtract are also sibling modes. Difference mode,
    shown in [Figure 5-27](ch05s02.html#difference_modecomma_addition_modecomma "Figure 5-27. Difference
    mode, Addition mode, and Subtract mode") (left), subtracts the lower pixel from
    the upper one and uses the absolute value of the result. The resulting image is
    difficult to predict. Addition mode, shown in [Figure 5-27](ch05s02.html#difference_modecomma_addition_modecomma
    "Figure 5-27. Difference mode, Addition mode, and Subtract mode") (middle), adds
    pixel values, and values greater than 255 appear white. The resulting image is
    much lighter. Subtract mode, shown in [Figure 5-27](ch05s02.html#difference_modecomma_addition_modecomma
    "Figure 5-27. Difference mode, Addition mode, and Subtract mode") (right), subtracts
    the pixel values, and values that would be negative appear black.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 差值、加法和减法也是兄弟模式。差值模式，如[图 5-27](ch05s02.html#difference_modecomma_addition_modecomma
    "图 5-27。差值模式、加法模式和减法模式")（左）所示，从上层像素中减去下层像素，并使用结果的绝对值。生成的图像难以预测。加法模式，如[图 5-27](ch05s02.html#difference_modecomma_addition_modecomma
    "图 5-27。差值模式、加法模式和减法模式")（中）所示，将像素值相加，超过 255 的值显示为白色。生成的图像会变得更亮。减法模式，如[图 5-27](ch05s02.html#difference_modecomma_addition_modecomma
    "图 5-27。差值模式、加法模式和减法模式")（右）所示，将像素值相减，负值显示为黑色。
- en: '![Difference mode, Addition mode, and Subtract mode](httpatomoreillycomsourcenostarchimages1454738.png.jpg)'
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![差值模式、加法模式和减法模式](httpatomoreillycomsourcenostarchimages1454738.png.jpg)'
- en: Figure 5-27. Difference mode, Addition mode, and Subtract mode
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5-27。差值模式、加法模式和减法模式
- en: '![Darken only mode, Lighten only mode, and Hue mode](httpatomoreillycomsourcenostarchimages1454740.png.jpg)'
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![仅暗化模式、仅亮化模式和色相模式](httpatomoreillycomsourcenostarchimages1454740.png.jpg)'
- en: Figure 5-28. Darken only mode, Lighten only mode, and Hue mode
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5-28。仅暗化模式、仅亮化模式和色相模式
- en: 'Darken only and Lighten only, shown in [Figure 5-28](ch05s02.html#darken_only_modecomma_lighten_only_modec
    "Figure 5-28. Darken only mode, Lighten only mode, and Hue mode") (left and middle),
    do what their names imply: The darkest or the lightest pixel is selected from
    the two layers.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅暗化和仅亮化，如[图 5-28](ch05s02.html#darken_only_modecomma_lighten_only_modec "图 5-28。仅暗化模式、仅亮化模式和色相模式")（左和中）所示，正如它们的名称所暗示的：从两层中选择最暗或最亮的像素。
- en: 'The last four modes are related: The new pixel gets some combination of HSV
    components from the initial layers. In Hue mode ([Figure 5-28](ch05s02.html#darken_only_modecomma_lighten_only_modec
    "Figure 5-28. Darken only mode, Lighten only mode, and Hue mode"), right), the
    upper layer colorizes the lower one. Saturation mode ([Figure 5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "Figure 5-29. Saturation mode, Color mode, and Value mode"), left) takes the hue
    and value components from the lower layer. Color mode ([Figure 5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "Figure 5-29. Saturation mode, Color mode, and Value mode"), middle) takes only
    the value from the lower layer. Value mode ([Figure 5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "Figure 5-29. Saturation mode, Color mode, and Value mode"), right) is the exact
    opposite: It takes only the value from the upper layer.'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最后四种模式是相关的：新像素从初始图层中获取一些HSV组件的组合。在色相模式（[图5-28](ch05s02.html#darken_only_modecomma_lighten_only_modec
    "图5-28. 仅加深模式、仅加亮模式和色相模式")，右侧），上层给下层着色。饱和度模式（[图5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "图5-29. 饱和度模式、色彩模式和值模式")，左侧）从下层获取色相和值组件。色彩模式（[图5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "图5-29. 饱和度模式、色彩模式和值模式")，中间）只从下层获取值。值模式（[图5-29](ch05s02.html#saturation_modecomma_color_modecomma_and
    "图5-29. 饱和度模式、色彩模式和值模式")，右侧）则完全相反：它只从上层获取值。
- en: '![Saturation mode, Color mode, and Value mode](httpatomoreillycomsourcenostarchimages1454742.png.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![饱和度模式、色彩模式和值模式](httpatomoreillycomsourcenostarchimages1454742.png.jpg)'
- en: Figure 5-29. Saturation mode, Color mode, and Value mode
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-29. 饱和度模式、色彩模式和值模式
- en: 5.3 Building a Panorama
  id: totrans-128
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5.3 构建全景
- en: With a digital camera, you can easily take several pictures of the same subject
    and capture a view from multiple vantage points. You can also build *panoramic
    images* (i.e., wide pictures that cover a larger area than you can see at any
    one time).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 使用数码相机，你可以轻松拍摄多张相同主题的照片，并从多个角度捕捉画面。你还可以制作*全景图像*（即比你一次能看到的更大范围的宽幅照片）。
- en: Software tools that specialize in building panoramas are available. One of them
    is Hugin (see *[http://hugin.sourceforge.net/](http://hugin.sourceforge.net/)*),
    which is free and works on GNU/Linux, Mac OS X, and Windows. It uses a powerful
    algorithm called *SIFT*, which was developed at the University of British Columbia.
    It builds the panorama in a completely automated way. The algorithm finds a collection
    of *control points* in the different photographs. The result is spectacular, but
    the algorithm is processor intensive, especially if the panorama is being built
    from a lot of large photographs.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 专门用于构建全景的软件工具是可以找到的。其中一个是Hugin（请参见* [http://hugin.sourceforge.net/](http://hugin.sourceforge.net/)*），它是免费的，支持GNU/Linux、Mac
    OS X和Windows。它使用了一种强大的算法，名为*SIFT*，该算法由不列颠哥伦比亚大学开发。它以完全自动化的方式构建全景图像。该算法会在不同的照片中找到一组*控制点*。最终效果非常壮观，但该算法对处理器的要求很高，特别是当全景图像由大量大尺寸照片构建时。
- en: 'We also use Pandora, a GIMP plug-in developed by Akkana Peck, at the end of
    this section. After you install it, Pandora is accessible in **Image: Filters
    > Combine**.'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节的最后，我们还使用了由Akkana Peck开发的GIMP插件Pandora。安装后，Pandora可以通过**图像：滤镜 > 合并**访问。
- en: Taking the Pictures
  id: totrans-132
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 拍摄照片
- en: 'Some digital cameras offer a panorama mode designed to ensure the images overlap
    sufficiently. Don’t worry if your camera lacks that feature; taking the pictures
    you need for your panorama, using normal settings, is easy. Just follow this advice:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 一些数码相机提供了全景模式，旨在确保图像足够重叠。如果你的相机没有这个功能，不用担心；用普通设置拍摄你需要的照片来制作全景图像其实很简单。只需遵循以下建议：
- en: Keep your feet firmly planted as you shoot. Rotate the top of your body to capture
    each successive shot, but try to keep the camera at the same height as you move
    across the landscape so each shot has the same amount of sky visible. Too much
    vertical motion can reduce your final panorama to a very narrow strip. If feasible,
    use a tripod for greater stability.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拍摄时，双脚稳稳站好。旋转身体的上半部分来拍摄每一张连续的照片，但尽量保持相机的高度一致，以便每张照片的天空部分都差不多。过多的垂直移动会让你的最终全景变得非常狭窄。如果可能，使用三脚架以提高稳定性。
- en: 'Do not change the exposure as you move: The settings must be the same for all
    pictures, even if the lighting conditions are not the same. Choose the optimal
    settings for some part of the intended panorama (the center, for example), fix
    them, and then take all the pictures. If you’re not sure how to do this, refer
    to your camera’s manual.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在移动时不要改变曝光：所有照片的设置必须相同，即使光照条件不同。选择目标全景的一部分（例如中心）的最佳设置，固定它们，然后拍摄所有照片。如果您不确定如何操作，请参考相机的手册。
- en: Take more pictures than necessary. To build a panorama, you need a lot of overlap.
    A camera’s optical system generally distorts the corners, and sometimes the sides,
    of every image. Only the center of an image isn’t distorted in any perceptible
    way. This is why you build your panorama using mainly the center of each picture.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 拍摄比必要的更多照片。要构建全景图，您需要大量重叠。相机的光学系统通常会扭曲每张图像的角落，有时甚至是边缘。只有图像的中心部分不会以任何可察觉的方式发生失真。这就是为什么在构建全景图时，主要使用每张照片的中心部分。
- en: '![Adding the first photograph](httpatomoreillycomsourcenostarchimages1454744.png.jpg)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![添加第一张照片](httpatomoreillycomsourcenostarchimages1454744.png.jpg)'
- en: Figure 5-30. Adding the first photograph
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-30. 添加第一张照片
- en: Perhaps your camera can take photos with a really high pixel count. For example,
    Olivier’s camera has a maximum image size of 3888 × 2592\. When loaded in GIMP,
    an image of that size occupies 90.9MB. If you load six of them, probably the minimum
    number for a panorama, they occupy 545.4MB, which is too much for most computers
    to handle. And as soon as you begin working on an image, its size increases because
    of the stored information that allows you to undo. Basically, unless your computer
    is an extraordinary beast with a huge amount of memory, building an enormous panorama
    causes it to crash.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 也许您的相机可以拍摄非常高像素的照片。例如，奥利维耶的相机最大图像尺寸为3888 × 2592。当在GIMP中加载时，大小为90.9MB。如果加载六张照片，可能是构建全景图所需的最少数量，它们的总大小为545.4MB，这对大多数电脑来说太大了。而且，一旦您开始处理图像，其大小会增加，因为存储的信息允许您撤销操作。基本上，除非您的电脑是一个拥有大量内存的强大机器，否则构建一个巨大的全景图会导致电脑崩溃。
- en: Generally, really large panoramas are impractical anyway. A panorama intended
    for a web page shouldn’t be much wider than 1000 pixels. If you want to print
    the image, a width of 4000 pixels results in a print size of 13.3 inches or 33.9
    cm when printed at 300 ppi.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 通常来说，真正巨大的全景图其实并不实用。用于网页的全景图宽度不应该超过1000像素。如果您想打印图像，4000像素的宽度在以300 ppi打印时，打印尺寸为13.3英寸或33.9厘米。
- en: You can take the pictures for your panorama using the highest setting available
    on your camera and then scale them down to a usable size. Be careful not to scale
    down too much, however, or you’ll lose precision and sharpness.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用相机的最高设置拍摄全景照片，然后将其缩小到可用的尺寸。然而，要小心不要缩小得太多，否则您将失去精度和清晰度。
- en: Superimposing the Pictures
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将照片叠加
- en: 'Olivier took eight photographs of the view from his balcony, following the
    advice in the previous section. The images are 3888 × 2592, but we scaled them
    down to 1200 × 800\. When scaling an image, choose the Sinc (Lanczos) algorithm,
    which, although somewhat processor intensive, does the best job. After scaling
    down, we applied the **Image: Filters > Enhance > Unsharp Mask** filter with its
    default parameters to compensate for the loss of sharpness caused by scaling.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 奥利维耶拍摄了八张来自他阳台的照片，按照上一节的建议进行拍摄。图像尺寸为3888 × 2592，但我们将它们缩小为1200 × 800。在缩放图像时，选择Sinc（Lanczos）算法，虽然处理器占用较大，但它能达到最好的效果。缩小后，我们使用**图像：滤镜
    > 增强 > 锐化蒙版**滤镜并应用默认参数，以补偿因缩放导致的清晰度损失。
- en: Because these photographs overlapped a lot, as they should, the complete panorama
    will not be more than 2800 pixels wide. As keeping the camera at exactly the same
    height for all shots was difficult, we created a new image that was 2800 × 1000,
    which happened to give us some wiggle room. This image isn’t extremely large,
    but it will have to be scaled down for a web page. On the other hand, this image
    is rather small for printing. Here’s how we would build the panorama.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这些照片重叠较多，正如应该的那样，完整的全景图宽度不会超过2800像素。由于保持相机在所有拍摄中精确高度比较困难，我们创建了一张2800 × 1000的图像，恰好给我们留出了些许空间。这张图像并不算特别大，但它将不得不为网页进行缩小处理。另一方面，这张图像对于打印来说相当小。下面是我们构建全景图的方法。
- en: '![Loading the second photograph](httpatomoreillycomsourcenostarchimages1454746.png.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![加载第二张照片](httpatomoreillycomsourcenostarchimages1454746.png.jpg)'
- en: Figure 5-31. Loading the second photograph
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-31. 加载第二张照片
- en: Load the first photograph into this new image with ![](httpatomoreillycomsourcenostarchimages1454210.png.jpg).
    The new layer appears in the center of the image; move it completely to the left,
    as shown in [Figure 5-30](ch05s03.html#adding_the_first_photograph "Figure 5-30. Adding
    the first photograph").
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 ![](httpatomoreillycomsourcenostarchimages1454210.png.jpg)将第一张照片加载到这个新图像中。新图层出现在图像的中心；将其完全移到左侧，如[图5-30](ch05s03.html#adding_the_first_photograph
    "图5-30. 添加第一张照片")所示。
- en: Load the second photograph as a new layer and change its opacity to 50% so you
    can see whether it’s positioned correctly. Move it so the overlapping areas of
    the two photographs align. Focus on superimposing the house in the middle so it’s
    as sharp as possible. Use the arrow keys to tap it into place. As [Figure 5-31](ch05s03.html#loading_the_second_photograph
    "Figure 5-31. Loading the second photograph") shows, a perfect superimposition
    is impossible because of the lens distortion. Here, we are able to get the house
    in sharp focus, but the surrounding hills are blurry and the electric pole on
    the left is doubled. We can tell from the horizon that the camera was slightly
    tilted when the second picture was taken.
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第二张照片作为新图层加载，并将其透明度调整为50%，以便检查其是否正确定位。将其移动，使得两张照片重叠的区域对齐。重点是将中间的房子重叠，使其尽可能清晰。使用箭头键轻轻调整位置。如[图5-31](ch05s03.html#loading_the_second_photograph
    "图5-31. 加载第二张照片")所示，由于镜头畸变，完美重叠是不可能的。在这里，我们能够使房子聚焦清晰，但周围的山丘模糊，左边的电线杆出现了双影。从地平线可以看出，拍摄第二张照片时，相机略微倾斜。
- en: To improve the transition from one photo to the other, add a white layer mask
    to the top layer. Select the Blend tool and choose a linear gradient from black
    to white without repetition. You want the top layer to transition from transparent
    on the left to opaque on the right. To create a perfectly horizontal gradient,
    press ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg) while dragging
    from left to right, beginning somewhat to the right of the left edge and ending
    at the house.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了改善从一张照片到另一张照片的过渡，在顶层添加一个白色图层蒙版。选择混合工具，并选择从黑色到白色的线性渐变，且不要重复。你希望顶层从左侧透明渐变到右侧不透明。为了创建一个完全水平的渐变，在拖动时按住
    ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)，从左到右拖动，起始位置稍微偏右于左边缘，结束于房子的位置。
- en: Once the gradient is built, click the layer thumbnail to select the layer itself.
    Set the opacity of this layer back to 100% and move it very slightly (with the
    arrow keys) so the house is as sharp as possible. You also need to rotate the
    top layer a tiny bit to compensate for the camera’s tilt. This is tricky because
    partial transparency disappears while you are using the rotation tool. [Figure 5-32](ch05s03.html#positioning_the_second_photograph
    "Figure 5-32. Positioning the second photograph") shows the result so far as well
    as the Layers dialog.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦渐变建立完成，点击图层缩略图以选择该图层本身。将该图层的透明度恢复到100%，然后稍微移动它（使用箭头键），使得房子尽可能清晰。你还需要稍微旋转顶层，以补偿相机的倾斜。这个过程很棘手，因为在使用旋转工具时，部分透明度会消失。[图5-32](ch05s03.html#positioning_the_second_photograph
    "图5-32. 定位第二张照片")展示了到目前为止的结果以及图层对话框。
- en: Touching Up the Panorama
  id: totrans-151
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修整全景图
- en: 'Repeat this process for the remaining photographs: Load the photograph, set
    transparency to 50%, position it, remove the transparency, add a layer mask, draw
    a gradient on this mask, and finish positioning the photograph. To avoid creating
    weird artifacts in the scenery, be careful not to make the gradient too wide and
    avoid placing it in an area with a lot of fine detail. As you add layers, the
    size of the image increases and, in this case, is 123.4MB after we’ve added all
    eight photographs.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对剩余的照片重复此过程：加载照片，将透明度设置为50%，定位照片，去除透明度，添加图层蒙版，在该蒙版上绘制渐变，并完成照片的定位。为了避免在景物中产生奇怪的伪影，务必小心不要将渐变做得太宽，并避免将其放置在细节较多的区域。随着图层的添加，图像的大小会增加，在此情况下，当我们添加完所有八张照片后，图像大小为123.4MB。
- en: '![Positioning the second photograph](httpatomoreillycomsourcenostarchimages1454748.png.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![定位第二张照片](httpatomoreillycomsourcenostarchimages1454748.png.jpg)'
- en: Figure 5-32. Positioning the second photograph
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-32. 定位第二张照片
- en: '![All the photographs are positioned.](httpatomoreillycomsourcenostarchimages1454750.png.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![所有照片已经定位。](httpatomoreillycomsourcenostarchimages1454750.png.jpg)'
- en: Figure 5-33. All the photographs are positioned.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-33. 所有照片已经定位。
- en: Sometimes, if a detail from the lower layer appears out of place, changing the
    gradient is helpful. You can adjust the gradient by painting on the layer mask,
    or you can add another gradient over the problem area—above the existing gradient.
    Set the second gradient to Multiply mode (from the MODE menu in the tool options
    dialog). To see the layer mask itself, ![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-click
    its thumbnail or right-click in the Layers dialog.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，如果下层的某个细节看起来不合适，改变渐变设置会有帮助。你可以通过在图层蒙版上绘制来调整渐变，或者可以在问题区域上方再添加一个渐变，叠加在现有渐变之上。将第二个渐变设置为“叠加”模式（在工具选项对话框中的模式菜单中）。要查看图层蒙版本身，![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)右键点击其缩略图或在图层对话框中右键点击。
- en: The current result appears in [Figure 5-33](ch05s03.html#all_the_photographs_are_positioneddot
    "Figure 5-33. All the photographs are positioned."). The color of the sky is uneven
    at a couple of the junctions between photographs. Because the sky contains clouds
    and a light haze on the extreme right, replacing it completely with some gradient
    between two different shades of blue would detract from the image. We prefer to
    leave the panorama as is, although some careful (and tedious) work with the Dodge/Burn
    tool (in Dodge mode) or the Clone tool could improve the result.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 当前的结果出现在[图 5-33](ch05s03.html#all_the_photographs_are_positioneddot "图 5-33.
    所有照片已定位")中。天空的颜色在几张照片的接缝处不均匀。由于天空中有云层和极右侧的轻微雾霾，完全用两种不同蓝色渐变来替换会削弱图像的效果。我们倾向于保持全景图不变，尽管通过使用减淡/加深工具（在减淡模式下）或克隆工具进行一些细致（且繁琐）的修正，可能会改善效果。
- en: '![The final panorama](httpatomoreillycomsourcenostarchimages1454754.png.jpg)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![最终全景图](httpatomoreillycomsourcenostarchimages1454754.png.jpg)'
- en: Figure 5-34. The final panorama
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-34. 最终全景图
- en: '![The Pandora filter dialog](httpatomoreillycomsourcenostarchimages1454756.png.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![Pandora 滤镜对话框](httpatomoreillycomsourcenostarchimages1454756.png.jpg)'
- en: Figure 5-35. The Pandora filter dialog
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-35. Pandora 滤镜对话框
- en: With all the pictures in place, all that’s left is to crop and flatten the image.
    Our final panorama appears in [Figure 5-34](ch05s03.html#final_panorama "Figure 5-34. The
    final panorama").
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 当所有图片都放置好后，剩下的就是裁剪并将图像合并。我们的最终全景图呈现在[图 5-34](ch05s03.html#final_panorama "图
    5-34. 最终全景图")中。
- en: The Pandora Plug-in
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Pandora 插件
- en: 'The Pandora plug-in, mentioned at the beginning of this section, can also be
    used to build a panorama. Here’s how you use it:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 开头提到的 Pandora 插件也可以用来构建全景图。下面是如何使用它的方法：
- en: Load all the photographs as layers in a new image. Do this quickly using ![](httpatomoreillycomsourcenostarchimages1454210.png.jpg).
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将所有照片作为图层加载到一个新图像中。可以通过使用![](httpatomoreillycomsourcenostarchimages1454210.png.jpg)快速完成此操作。
- en: 'Select the **Image: Filters > Combine > Spread out layers** filter. In the
    dialog that appears ([Figure 5-35](ch05s03.html#pandora_filter_dialog "Figure 5-35. The
    Pandora filter dialog")), select the OVERLAP quantity between images (in this
    case, 80 is better than 50) and decide whether the top layer is on the left or
    right. Note that the last image loaded becomes the top layer.'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**图像：滤镜 > 合并 > 展开图层**滤镜。在出现的对话框中（[图 5-35](ch05s03.html#pandora_filter_dialog
    "图 5-35. Pandora 滤镜对话框")），选择图像之间的重叠量（在这种情况下，80 比 50 好），并决定顶部图层是在左侧还是右侧。请注意，最后加载的图像会成为顶部图层。
- en: '![The original image](httpatomoreillycomsourcenostarchimages1454758.png.jpg)'
  id: totrans-168
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![原始图像](httpatomoreillycomsourcenostarchimages1454758.png.jpg)'
- en: Figure 5-36. The original image
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 5-36. 原始图像
- en: The finishing touches are left up to you. Move the layers and fine-tune the
    layer masks to get a smooth panorama.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后的细节处理由你来完成。移动图层并微调图层蒙版，直到得到一个平滑的全景图。
- en: 5.4 Image Overlaying
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5.4 图像叠加
- en: In the previous section, we considered a very specific application of image
    overlaying. Now, we show you techniques for more general use.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，我们讨论了图像叠加的一个非常具体的应用。现在，我们将向你展示一些更通用的技术。
- en: Digital Collage
  id: totrans-173
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数字拼贴
- en: Begin with the photograph shown in [Figure 5-36](ch05s03.html#original_image-id00059
    "Figure 5-36. The original image"). We want to replace the seascape, seen through
    the window, with [Figure 5-37](ch05s04.html#new_background "Figure 5-37. A new
    background"). To do this, you need to make the seascape transparent. You could
    try selecting it with the Select by Color tool or the Fuzzy Select tool, but this
    time try a brand new method instead.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图 5-36](ch05s03.html#original_image-id00059 "图 5-36. 原始图像")中展示的照片开始。我们希望用[图
    5-37](ch05s04.html#new_background "图 5-37. 新背景")替换窗户外的海景。为此，你需要将海景部分设置为透明。你可以尝试使用“按颜色选择工具”或“模糊选择工具”，但这次不妨尝试一种全新的方法。
- en: '![A new background](httpatomoreillycomsourcenostarchimages1454760.png.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![新背景](httpatomoreillycomsourcenostarchimages1454760.png.jpg)'
- en: Figure 5-37. A new background
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-37. 新背景
- en: '![The Apply Threshold dialog](httpatomoreillycomsourcenostarchimages1454762.png.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![应用阈值对话框](httpatomoreillycomsourcenostarchimages1454762.png.jpg)'
- en: Figure 5-38. The Apply Threshold dialog
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-38. 应用阈值对话框
- en: 'Duplicate the layer, and choose the **Image: Colors > Threshold** tool, which
    opens the dialog shown in [Figure 5-38](ch05s04.html#apply_threshold_dialog "Figure 5-38. The
    Apply Threshold dialog"). Move the black triangle to the left until you see a
    silhouette of the window only. Invert it with **Image: Colors > Invert** to get
    the result in [Figure 5-39](ch05s04.html#threshold_result_after_inversion "Figure 5-39. Threshold
    result after inversion"). Use this as a mask to make the window fully transparent.'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 复制该图层，选择**图像：颜色 > 阈值**工具，打开[图 5-38](ch05s04.html#apply_threshold_dialog "图 5-38.
    应用阈值对话框")中显示的对话框。将黑色三角形向左移动，直到只看到窗户的轮廓。使用**图像：颜色 > 反转**将其反转，得到[图 5-39](ch05s04.html#threshold_result_after_inversion
    "图 5-39. 反转后的阈值结果")中的结果。将此作为蒙版，使窗户完全透明。
- en: 'Now do the following:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 现在做以下操作：
- en: Select the top layer and copy it.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择顶部图层并复制它。
- en: 'Open the image shown in [Figure 5-37](ch05s04.html#new_background "Figure 5-37. A
    new background") as a new layer by selecting **Image: File > Open as Layers**
    or pressing ![](httpatomoreillycomsourcenostarchimages1454210.png.jpg).'
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开[图 5-37](ch05s04.html#new_background "图 5-37. 新背景")中显示的图像，作为新图层选择**图像：文件 >
    以图层打开**或按下 ![](httpatomoreillycomsourcenostarchimages1454210.png.jpg)。
- en: Duplicate the bottom layer, and move it to the top of the layer stack.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 复制底部图层，并将其移动到图层堆栈的顶部。
- en: 'Add to it a layer mask (**Layers: right-click > Add Layer Mask**).'
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为其添加一个图层蒙版（**图层：右键点击 > 添加图层蒙版**）。
- en: Paste the copy made earlier, and anchor it to the layer mask (![](httpatomoreillycomsourcenostarchimages1454184.png.jpg)
    and ![](httpatomoreillycomsourcenostarchimages1454186.png.jpg)).
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 粘贴先前复制的内容，并将其固定到图层蒙版上（![](httpatomoreillycomsourcenostarchimages1454184.png.jpg)
    和 ![](httpatomoreillycomsourcenostarchimages1454186.png.jpg)）。
- en: Arrange the layers as shown in [Figure 5-40](ch05s04.html#layers_dialog_for_figure_5dot41
    "Figure 5-40. The Layers dialog for Figure 5-41").
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照[图 5-40](ch05s04.html#layers_dialog_for_figure_5dot41 "图 5-40. 图层对话框")中的方式排列图层。
- en: '![Threshold result after inversion](httpatomoreillycomsourcenostarchimages1454764.png.jpg)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![反转后的阈值结果](httpatomoreillycomsourcenostarchimages1454764.png.jpg)'
- en: Figure 5-39. Threshold result after inversion
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-39. 反转后的阈值结果
- en: '![The Layers dialog for](httpatomoreillycomsourcenostarchimages1454766.png.jpg)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![图层对话框](httpatomoreillycomsourcenostarchimages1454766.png.jpg)'
- en: Figure 5-40. The Layers dialog for [Figure 5-41](ch05s04.html#with_the_new_background_added
    "Figure 5-41. With the new background added")
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-40. [图 5-41](ch05s04.html#with_the_new_background_added "图 5-41. 添加新背景")的图层对话框
- en: '![With the new background added](httpatomoreillycomsourcenostarchimages1454768.png.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![添加新背景后](httpatomoreillycomsourcenostarchimages1454768.png.jpg)'
- en: Figure 5-41. With the new background added
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-41. 添加新背景后
- en: 'The resulting image appears in [Figure 5-41](ch05s04.html#with_the_new_background_added
    "Figure 5-41. With the new background added"). You could stop here. But the wall
    is so dark that its stones are almost invisible. Fortunately you can adjust this
    without altering the landscape seen through the window: In the Layers dialog,
    click the thumbnail in the top layer to select the layer and not the layer mask.
    Use the Levels tool (**Image: Colors > Levels**) to adjust the Gamma triangle
    until you’re satisfied. Only the layer is affected, not the layer mask or the
    other layers in the stack. If, on the other hand, you want to adjust the layer
    mask, you could select its thumbnail and then use the Brush tool to add to or
    remove from the mask.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 最终的图像显示在[图 5-41](ch05s04.html#with_the_new_background_added "图 5-41. 添加新背景后")中。你可以在此停止。但墙壁非常黑，石块几乎看不见。幸运的是，你可以在不改变窗外景色的情况下调整这一点：在图层对话框中，点击顶部图层的缩略图以选择该图层，而不是图层蒙版。使用“色阶”工具（**图像：颜色
    > 色阶**）调整伽马三角形，直到你满意为止。只会影响该图层，而不会影响图层蒙版或堆栈中的其他图层。另一方面，如果你想调整图层蒙版，你可以选择其缩略图，然后使用画笔工具来添加或删除蒙版中的内容。
- en: '![The final result](httpatomoreillycomsourcenostarchimages1454770.png.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![最终结果](httpatomoreillycomsourcenostarchimages1454770.png.jpg)'
- en: Figure 5-42. The final result
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-42. 最终结果
- en: '![The frame](httpatomoreillycomsourcenostarchimages1454772.png.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![框架](httpatomoreillycomsourcenostarchimages1454772.png.jpg)'
- en: Figure 5-43. The frame
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-43. 框架
- en: The final image appears in [Figure 5-42](ch05s04.html#final_result-id00060 "Figure 5-42. The
    final result"). Note the initial image is still present and unchanged in the bottom
    layer.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 最终图像显示在[图5-42](ch05s04.html#final_result-id00060 "Figure 5-42. The final result")中。注意，最初的图像仍然存在，并且未改变，位于底部图层。
- en: Next, use the same principles to build an image that’s slightly more complicated.
    The photograph shown in [Figure 5-43](ch05s04.html#frame "Figure 5-43. The frame")
    will serve as a frame for the portrait shown in [Figure 5-44](ch05s04.html#portrait
    "Figure 5-44. The portrait"). You want this portrait to appear in the open French
    windows, larger than life, but with the landscape still visible behind her. You
    first need to remove the beige background that’s currently behind the subject,
    which is easy enough. Once you’ve done that, however, you can’t simply copy the
    portrait and paste it in because her shoulders would extend beyond the window
    frame.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，使用相同的原则构建一个稍微复杂的图像。图5-43中显示的照片将作为图5-44中显示的肖像的框架。你希望肖像出现在打开的法式窗户中，比实际尺寸大，但背景中的景观仍然可见。首先，你需要去除当前在人物背后的米色背景，这个很容易做到。然而，完成这一步后，你不能直接复制肖像并粘贴，因为她的肩膀会超出窗框。
- en: '![The portrait](httpatomoreillycomsourcenostarchimages1454774.png.jpg)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![肖像](httpatomoreillycomsourcenostarchimages1454774.png.jpg)'
- en: Figure 5-44. The portrait
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-44. 肖像
- en: 'To position the portrait properly in its unconventional frame, follow these
    steps:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 要正确地将肖像放置在其非传统的框架中，请按照以下步骤操作：
- en: 'Open the image shown in [Figure 5-43](ch05s04.html#frame "Figure 5-43. The
    frame"). Add an Alpha channel (**Image: Layer > Transparency > Add an Alpha Channel**
    or **Layers: right-click > Add an Alpha Channel**).'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开[图5-43](ch05s04.html#frame "Figure 5-43. The frame")中显示的图像。添加Alpha通道（**图像：图层
    > 透明度 > 添加Alpha通道**或**图层：右键点击 > 添加Alpha通道**）。
- en: Using the Free Select tool, make a selection by clicking the four corners of
    the French windows.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用自由选择工具，通过点击法式窗户的四个角来进行选择。
- en: When the selection is complete, cut it and then paste it back into the image
    as a floating selection. Create a new layer from the floating selection (click
    the leftmost button at the bottom of the Layers dialog or press ![](httpatomoreillycomsourcenostarchimages1454182.png.jpg)).
    Move the new layer to the bottom of the layer stack. The image looks the same,
    but it’s divided into two different layers.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择完成后，剪切该区域，然后将其作为浮动选择粘贴回图像。通过浮动选择创建一个新图层（点击图层对话框底部最左侧的按钮或按下![](httpatomoreillycomsourcenostarchimages1454182.png.jpg)）。将新图层移动到图层堆栈的底部。图像看起来一样，但它已分为两个不同的图层。
- en: Open the photograph shown in [Figure 5-44](ch05s04.html#portrait "Figure 5-44. The
    portrait") as a new layer. Add an Alpha channel to this layer. Select the Fuzzy
    Select tool and select the beige background. Decrease the THRESHOLD in the tool
    options, and as usual, press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to add to, or ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg) to remove
    from, the selection as you build. Take care when selecting the area around her
    hair. When you’re finished, cut the selection (![](httpatomoreillycomsourcenostarchimages1454122.png.jpg))
    and discard it (![](httpatomoreillycomsourcenostarchimages1454172.png.jpg)).
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开图5-44中显示的照片作为新的图层。给这个图层添加Alpha通道。选择模糊选择工具并选择米色背景。降低工具选项中的阈值，并像往常一样，按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)来增加选择，或按![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)来移除选择。选择人物头发周围的区域时要小心。完成后，剪切选择区域（![](httpatomoreillycomsourcenostarchimages1454122.png.jpg)）并丢弃它（![](httpatomoreillycomsourcenostarchimages1454172.png.jpg)）。
- en: '![The Layers dialog for](httpatomoreillycomsourcenostarchimages1454776.png.jpg)'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图层对话框](httpatomoreillycomsourcenostarchimages1454776.png.jpg)'
- en: Figure 5-45. The Layers dialog for [Figure 5-46](ch05s04.html#final_result-id00061
    "Figure 5-46. The final result")
  id: totrans-208
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-45. [图5-46](ch05s04.html#final_result-id00061 "Figure 5-46. The final result")的图层对话框
- en: '![The final result](httpatomoreillycomsourcenostarchimages1454778.png.jpg)'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![最终效果](httpatomoreillycomsourcenostarchimages1454778.png.jpg)'
- en: Figure 5-46. The final result
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-46. 最终效果
- en: Select the Scale tool (![](httpatomoreillycomsourcenostarchimages1453992.png.jpg)),
    choose NUMBER OF LINES in the GUIDES options, and click in the portrait layer.
    Enlarge the portrait, and move it into the window opening.
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择缩放工具（![](httpatomoreillycomsourcenostarchimages1453992.png.jpg)），在指南选项中选择“行数”，然后点击人物肖像图层。放大肖像，并将其移动到窗口打开处。
- en: '![The initial photograph](httpatomoreillycomsourcenostarchimages1454780.png.jpg)'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![初始照片](httpatomoreillycomsourcenostarchimages1454780.png.jpg)'
- en: 'Credit: Vincent Lecarme'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图片来源：Vincent Lecarme
- en: Figure 5-47. The initial photograph
  id: totrans-214
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-47. 初始照片
- en: '![Self-compositing in Hard light mode](httpatomoreillycomsourcenostarchimages1454782.png.jpg)'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![硬光模式下的自我合成](httpatomoreillycomsourcenostarchimages1454782.png.jpg)'
- en: Figure 5-48. Self-compositing in Hard light mode
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-48. 硬光模式下的自我合成
- en: '![Duplicating the top layer twice more](httpatomoreillycomsourcenostarchimages1454784.png.jpg)'
  id: totrans-217
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![再次复制顶部图层两次](httpatomoreillycomsourcenostarchimages1454784.png.jpg)'
- en: Figure 5-49. Duplicating the top layer twice more
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图5-49. 再次复制顶部图层两次
- en: Finally, arrange the layers so the French window is on top, the portrait layer
    is in the middle, and the cutout landscape is at the bottom, as shown in [Figure 5-45](ch05s04.html#layers_dialog_for_figure_5dot46
    "Figure 5-45. The Layers dialog for Figure 5-46").
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，将图层排列，使得法式窗户位于最上层，肖像图层位于中间，剪裁的风景位于底部，如[图5-45](ch05s04.html#layers_dialog_for_figure_5dot46
    "图5-45. 图5-46的图层对话框")所示。
- en: The final result should resemble [Figure 5-46](ch05s04.html#final_result-id00061
    "Figure 5-46. The final result").
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 最终结果应该类似于[图5-46](ch05s04.html#final_result-id00061 "图5-46. 最终结果")。
- en: Self-Compositing
  id: totrans-221
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自我合成
- en: Here, begin with a photograph of a winter scene, shown in [Figure 5-47](ch05s04.html#initial_photograph-id00062
    "Figure 5-47. The initial photograph"), that is almost uniformly gray and flat.
    To transform this picture into the image shown in [Figure 5-48](ch05s04.html#self-compositing_in_hard_light_mode
    "Figure 5-48. Self-compositing in Hard light mode"), simply duplicate the layer
    and change the mode of the top layer to Hard light. By repeating this process,
    you can increase the contrast further, but this adds a strong blue cast to the
    image, as shown in [Figure 5-49](ch05s04.html#duplicating_the_top_layer_twice_more
    "Figure 5-49. Duplicating the top layer twice more"). Correct this effect using
    the Levels tool.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，首先使用[图5-47](ch05s04.html#initial_photograph-id00062 "图5-47. 初始照片")显示的冬季场景照片，该照片几乎均匀灰暗且平坦。要将此图片转化为[图5-48](ch05s04.html#self-compositing_in_hard_light_mode
    "图5-48. 硬光模式下的自我合成")所示的图像，只需复制图层并将顶部图层的模式更改为硬光模式。通过重复此过程，您可以进一步增加对比度，但这会使图像呈现出强烈的蓝色调，如[图5-49](ch05s04.html#duplicating_the_top_layer_twice_more
    "图5-49. 再次复制顶部图层两次")所示。使用“色阶”工具修正此效果。
- en: '![The initial photograph](httpatomoreillycomsourcenostarchimages1454786.png.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![初始照片](httpatomoreillycomsourcenostarchimages1454786.png.jpg)'
- en: Figure 5-50. The initial photograph
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-50. 初始照片
- en: '![Self-compositing in Screen mode](httpatomoreillycomsourcenostarchimages1454788.png.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![屏幕模式下的自我合成](httpatomoreillycomsourcenostarchimages1454788.png.jpg)'
- en: Figure 5-51. Self-compositing in Screen mode
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-51. 屏幕模式中的自我合成
- en: The photograph shown in [Figure 5-50](ch05s04.html#initial_photograph-id00063
    "Figure 5-50. The initial photograph") (taken from an airplane) is much too dark.
    To lighten it, begin by duplicating the layer, as you did in the previous example,
    but this time use Screen mode.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图5-50](ch05s04.html#initial_photograph-id00063 "图5-50. 初始照片")（从飞机上拍摄）中显示的照片过于昏暗。为了使其变亮，首先像在前面的示例中那样复制图层，但这次使用“屏幕”模式。
- en: '[Figure 5-51](ch05s04.html#self-compositing_in_screen_mode "Figure 5-51. Self-compositing
    in Screen mode") shows the result after two duplications. Now the color and detail
    in the foreground are visible, but some details in the lighter areas of the background
    have been lost.'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-51](ch05s04.html#self-compositing_in_screen_mode "图5-51. 屏幕模式中的自我合成")展示了经过两次复制后的结果。现在前景的颜色和细节清晰可见，但背景中较亮区域的一些细节丧失了。'
- en: To bring back some of that background detail, select the light areas in the
    image (i.e., the sky and the clouds) with the Fuzzy Select tool, but this time,
    forget about pressing ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    or ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg). Instead, click
    somewhere in the sky, and then drag the cursor down or to the right. As you do,
    the tool threshold increases, which increases the selected area. If you drag the
    cursor up or to the left, the selected area decreases. The result appears in [Figure 5-52](ch05s04.html#selecting_the_light_areas-id00064
    "Figure 5-52. Selecting the light areas").
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 要恢复一些背景细节，使用模糊选择工具选择图像中的亮区（即天空和云朵），但这次，忘记按下 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    或 ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)。相反，点击天空中的某个位置，然后将光标向下或向右拖动。这样做时，工具的阈值增加，选择区域也会增大。如果将光标向上或向左拖动，选择区域会减小。结果如[图
    5-52](ch05s04.html#selecting_the_light_areas-id00064 "图 5-52. 选择亮区")所示。
- en: '![Selecting the light areas](httpatomoreillycomsourcenostarchimages1454790.png.jpg)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![选择亮区](httpatomoreillycomsourcenostarchimages1454790.png.jpg)'
- en: Figure 5-52. Selecting the light areas
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-52. 选择亮区
- en: '![Adding a layer mask to shield the lighter parts](httpatomoreillycomsourcenostarchimages1454792.png.jpg)'
  id: totrans-232
  prefs: []
  type: TYPE_IMG
  zh: '![添加图层蒙版以保护亮部](httpatomoreillycomsourcenostarchimages1454792.png.jpg)'
- en: Figure 5-53. Adding a layer mask to shield the lighter parts
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-53. 添加图层蒙版以保护亮部
- en: Invert the selection (![](httpatomoreillycomsourcenostarchimages1453948.png.jpg)),
    add a layer mask to the top layer, and in the dialog that appears, choose to create
    the mask from the current selection. Do this for the top layer only, however,
    to avoid creating an unnatural effect on the lighter areas of the mountains. [Figure 5-53](ch05s04.html#adding_a_layer_mask_to_shield_the_lighte
    "Figure 5-53. Adding a layer mask to shield the lighter parts") shows the result.
    The image could be improved more by adjusting the Gamma pointer in the Levels
    tool and by removing a few minor, age-related imperfections from the photograph,
    as you saw in [Chapter 2](ch02.html "Chapter 2. Photograph Retouching").
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 反选区域 (![](httpatomoreillycomsourcenostarchimages1453948.png.jpg))，给顶层添加图层蒙版，在弹出的对话框中选择从当前选择创建蒙版。请注意，只对顶层进行此操作，以避免对山脉的亮区产生不自然的效果。[图
    5-53](ch05s04.html#adding_a_layer_mask_to_shield_the_lighte "图 5-53. 添加图层蒙版以保护亮部")显示了结果。通过调整色阶工具中的伽玛指针，并去除照片中的一些轻微的、因时间导致的瑕疵，图像可以进一步改善，正如你在[第
    2 章](ch02.html "第 2 章. 照片修饰")中所看到的。
- en: Self-compositing photographs can also be used to create some artistic, filter-like
    effects. Open the photograph shown in [Figure 5-54](ch05s04.html#initial_photograph-id00065
    "Figure 5-54. The initial photograph") and duplicate the layer. If you set the
    top layer’s mode to Difference, the resulting image will be completely black because
    the difference between two equal quantities is always zero. But if you use the
    Move tool to move the top layer a few pixels up and to the left, you get the image
    shown in [Figure 5-55](ch05s04.html#using_difference_mode "Figure 5-55. Using
    Difference mode"), which is a bit more interesting.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 自我合成的照片也可以用来创建一些艺术性的、滤镜般的效果。打开[图 5-54](ch05s04.html#initial_photograph-id00065
    "图 5-54. 初始照片")中显示的照片并复制图层。如果将顶层的模式设置为差异模式，最终图像将完全变黑，因为两个相等数量之间的差异始终为零。但如果你使用移动工具将顶层图像向上和向左移动几个像素，你将得到如[图
    5-55](ch05s04.html#using_difference_mode "图 5-55. 使用差异模式")所示的图像，这样看起来更有趣。
- en: '![The initial photograph](httpatomoreillycomsourcenostarchimages1454794.png.jpg)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![初始照片](httpatomoreillycomsourcenostarchimages1454794.png.jpg)'
- en: Figure 5-54. The initial photograph
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-54. 初始照片
- en: '![Using Difference mode](httpatomoreillycomsourcenostarchimages1454796.png.jpg)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![使用差异模式](httpatomoreillycomsourcenostarchimages1454796.png.jpg)'
- en: Figure 5-55. Using Difference mode
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-55. 使用差异模式
- en: '![Using Grain extract mode](httpatomoreillycomsourcenostarchimages1454798.png.jpg)'
  id: totrans-240
  prefs: []
  type: TYPE_IMG
  zh: '![使用颗粒提取模式](httpatomoreillycomsourcenostarchimages1454798.png.jpg)'
- en: Figure 5-56. Using Grain extract mode
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-56. 使用颗粒提取模式
- en: '![Using Divide mode](httpatomoreillycomsourcenostarchimages1454800.png.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![使用差异模式](httpatomoreillycomsourcenostarchimages1454800.png.jpg)'
- en: Figure 5-57. Using Divide mode
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-57. 使用差异模式
- en: '![The initial photograph](httpatomoreillycomsourcenostarchimages1454802.png.jpg)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![初始照片](httpatomoreillycomsourcenostarchimages1454802.png.jpg)'
- en: Figure 5-58. The initial photograph
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-58. 初始照片
- en: Change the top layer’s mode to Grain extract to get [Figure 5-56](ch05s04.html#using_grain_extract_mode
    "Figure 5-56. Using Grain extract mode"). Then change it to Divide mode to get
    [Figure 5-57](ch05s04.html#using_divide_mode "Figure 5-57. Using Divide mode").
    You can create variations on these effects by changing the amount and direction
    of offset or the top layer’s opacity or by adding new layers in different modes,
    and so on.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 将顶层图像的模式更改为“颗粒提取”模式，以获得[图5-56](ch05s04.html#using_grain_extract_mode "图5-56.
    使用颗粒提取模式")。然后将其更改为“除法”模式，以获得[图5-57](ch05s04.html#using_divide_mode "图5-57. 使用除法模式")。你可以通过改变偏移量的大小和方向、调整顶层图像的透明度或添加不同模式的新图层来创建这些效果的变化，等等。
- en: A Composite Photography Project
  id: totrans-247
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 合成摄影项目
- en: The photograph shown in [Figure 5-58](ch05s04.html#initial_photograph-id00066
    "Figure 5-58. The initial photograph") was taken early in the morning when clouds
    partly filled in the valleys in front of Olivier’s house. He planned to use that
    image in a composite photography project, but he snapped the photo in a rush and
    the image doesn’t truly capture what he saw.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '[图5-58](ch05s04.html#initial_photograph-id00066 "图5-58. 初始照片")中显示的这张照片拍摄于清晨，当时云层部分填满了奥利维耶房子前面的山谷。他计划将这张图像用于合成摄影项目，但由于匆忙拍摄，这张照片并没有完全捕捉到他所看到的景象。'
- en: '![The Blue channel’s histogram](httpatomoreillycomsourcenostarchimages1454804.png.jpg)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![蓝色通道的直方图](httpatomoreillycomsourcenostarchimages1454804.png.jpg)'
- en: Figure 5-59. The Blue channel’s histogram
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-59. 蓝色通道的直方图
- en: '![After extending the levels](httpatomoreillycomsourcenostarchimages1454806.png.jpg)'
  id: totrans-251
  prefs: []
  type: TYPE_IMG
  zh: '![扩展等级后的结果](httpatomoreillycomsourcenostarchimages1454806.png.jpg)'
- en: Figure 5-60. After extending the levels
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-60. 扩展等级后的结果
- en: If you call the Levels tool and look at the color histograms, you see the Green
    and Blue channels are truncated on the right. The Blue channel, which appears
    in [Figure 5-59](ch05s04.html#blue_channelapostrophes_histogram "Figure 5-59. The
    Blue channel’s histogram"), is the worst. Simply clicking the AUTO button corrects
    this, and you get the result shown in [Figure 5-60](ch05s04.html#after_extending_the_levels
    "Figure 5-60. After extending the levels"). This landscape is now very much as
    Olivier remembers, so he decided to use it in the following creative project,
    shown in [Figure 5-61](ch05s04.html#compositing_with_another_image_in_darken "Figure 5-61. Compositing
    with another image in Darken only mode").
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你调用“等级”工具并查看颜色直方图，你会看到绿色和蓝色通道在右侧被截断。蓝色通道，如[图5-59](ch05s04.html#blue_channelapostrophes_histogram
    "图5-59. 蓝色通道的直方图")中所示，是最严重的。简单地点击“自动”按钮就能修正这一点，结果如[图5-60](ch05s04.html#after_extending_the_levels
    "图5-60. 扩展等级后的结果")所示。现在这张风景图像非常接近奥利维耶的记忆，因此他决定在接下来的创意项目中使用它，如[图5-61](ch05s04.html#compositing_with_another_image_in_darken
    "图5-61. 在“仅暗化”模式下与另一张图片合成")所示。
- en: 'Here’s how to create this image:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是创建此图像的步骤：
- en: Add the image shown in [Figure 5-36](ch05s03.html#original_image-id00059 "Figure 5-36. The
    original image") to Olivier’s landscape as a new layer.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将[图5-36](ch05s03.html#original_image-id00059 "图5-36. 原始图像")中的图像作为新图层添加到奥利维耶的风景中。
- en: 'Scale this layer to the same width as the underlying image (**Image: Layer
    > Scale Layer**).'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此图层缩放至与底层图像相同的宽度（**图像：图层 > 缩放图层**）。
- en: Set the top layer to Darken only mode.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将顶层图像设置为“仅暗化”模式。
- en: Crop the image.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 裁剪图像。
- en: '![Compositing with another image in Darken only mode](httpatomoreillycomsourcenostarchimages1454808.png.jpg)'
  id: totrans-259
  prefs: []
  type: TYPE_IMG
  zh: '![在“仅暗化”模式下与另一张图片合成](httpatomoreillycomsourcenostarchimages1454808.png.jpg)'
- en: Figure 5-61. Compositing with another image in Darken only mode
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-61. 在“仅暗化”模式下与另一张图片合成
- en: '![Another image to be composited](httpatomoreillycomsourcenostarchimages1454810.png.jpg)'
  id: totrans-261
  prefs: []
  type: TYPE_IMG
  zh: '![要合成的另一张图像](httpatomoreillycomsourcenostarchimages1454810.png.jpg)'
- en: Figure 5-62. Another image to be composited
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-62. 要合成的另一张图像
- en: '![Compositing with another image in Burn mode](httpatomoreillycomsourcenostarchimages1454812.png.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![在“烧伤”模式下与另一张图片合成](httpatomoreillycomsourcenostarchimages1454812.png.jpg)'
- en: Figure 5-63. Compositing with another image in Burn mode
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 图5-63. 在“烧伤”模式下与另一张图片合成
- en: Similarly, add the photograph shown in [Figure 5-62](ch05s04.html#another_image_to_be_composited
    "Figure 5-62. Another image to be composited") to the image as another layer,
    and select Burn mode. You’ll get the image shown in [Figure 5-63](ch05s04.html#compositing_with_another_image_in_burn_m
    "Figure 5-63. Compositing with another image in Burn mode").
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，将[图5-62](ch05s04.html#another_image_to_be_composited "图5-62. 要合成的另一张图像")中显示的照片作为另一个图层添加到图像中，并选择“烧伤”模式。你将得到[图5-63](ch05s04.html#compositing_with_another_image_in_burn_m
    "图5-63. 在“烧伤”模式下与另一张图片合成")所示的图像。
- en: In the following examples, we duplicated an image layer and then coupled various
    blending modes with a Gaussian blur of radius 10 that we applied to the top layer.
    [Figure 5-64](ch05s04.html#blurred_layer_in_divide_mode "Figure 5-64. A blurred
    layer in Divide mode") shows the result when the top layer is set to Divide mode.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下示例中，我们复制了一个图像图层，然后将不同的混合模式与我们应用于顶部图层的半径为 10 的高斯模糊结合使用。[图 5-64](ch05s04.html#blurred_layer_in_divide_mode
    "图 5-64. 在“除法”模式下的模糊图层")展示了当顶部图层设置为“除法”模式时的结果。
- en: '![A blurred layer in Divide mode](httpatomoreillycomsourcenostarchimages1454814.png.jpg)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![在“除法”模式下的模糊图层](httpatomoreillycomsourcenostarchimages1454814.png.jpg)'
- en: Figure 5-64. A blurred layer in Divide mode
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-64. 在“除法”模式下的模糊图层
- en: '![A blurred layer in Difference mode](httpatomoreillycomsourcenostarchimages1454816.png.jpg)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![在“差异”模式下的模糊图层](httpatomoreillycomsourcenostarchimages1454816.png.jpg)'
- en: Figure 5-65. A blurred layer in Difference mode
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-65. 在“差异”模式下的模糊图层
- en: '![The top layer in Burn mode](httpatomoreillycomsourcenostarchimages1454818.png.jpg)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![在“加深”模式下的顶部图层](httpatomoreillycomsourcenostarchimages1454818.png.jpg)'
- en: Figure 5-66. The top layer in Burn mode
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-66. 在“加深”模式下的顶部图层
- en: To create [Figure 5-65](ch05s04.html#blurred_layer_in_difference_mode "Figure 5-65. A
    blurred layer in Difference mode"), we chose Difference mode, and we also adjusted
    the Levels by moving the Gamma triangle to the left.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建[图 5-65](ch05s04.html#blurred_layer_in_difference_mode "图 5-65. 在“差异”模式下的模糊图层")，我们选择了“差异”模式，并且通过将伽马三角形向左移动来调整了色阶。
- en: In [Figure 5-66](ch05s04.html#top_layer_in_burn_mode "Figure 5-66. The top layer
    in Burn mode"), we removed the Gaussian blur and set the layer to Burn mode. Note
    how this enhances the clouds in the foreground.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图 5-66](ch05s04.html#top_layer_in_burn_mode "图 5-66. 在“加深”模式下的顶部图层")中，我们移除了高斯模糊并将图层设置为“加深”模式。注意这如何增强了前景中的云层。
- en: You can add depth by moving the top layer 10 pixels up and to the left. The
    offset images in [Figure 5-67](ch05s04.html#offset_layer_in_divide_mode "Figure 5-67. An
    offset layer in Divide mode") and [Figure 5-68](ch05s04.html#offset_layer_in_difference_mode
    "Figure 5-68. An offset layer in Difference mode") were cropped to illustrate
    the effect.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过将顶部图层向上和向左移动 10 像素来增加深度。[图 5-67](ch05s04.html#offset_layer_in_divide_mode
    "图 5-67. 在“除法”模式下的偏移图层")和[图 5-68](ch05s04.html#offset_layer_in_difference_mode
    "图 5-68. 在“差异”模式下的偏移图层")中的偏移图像已被裁剪，以说明效果。
- en: '![An offset layer in Divide mode](httpatomoreillycomsourcenostarchimages1454820.png.jpg)'
  id: totrans-276
  prefs: []
  type: TYPE_IMG
  zh: '![在“除法”模式下的偏移图层](httpatomoreillycomsourcenostarchimages1454820.png.jpg)'
- en: Figure 5-67. An offset layer in Divide mode
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-67. 在“除法”模式下的偏移图层
- en: '![An offset layer in Difference mode](httpatomoreillycomsourcenostarchimages1454822.png.jpg)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![在“差异”模式下的偏移图层](httpatomoreillycomsourcenostarchimages1454822.png.jpg)'
- en: Figure 5-68. An offset layer in Difference mode
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5-68. 在“差异”模式下的偏移图层
- en: 5.5 Exercises
  id: totrans-280
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 5.5 练习
- en: '**Exercise 5.1.** Finding a single set of images that can be used to accurately
    demonstrate all blending modes is a difficult task. The choice made in [Using
    Blending Modes](ch05s02.html#using_blending_modes "Using Blending Modes") is not
    ideal. Find a better set of images for this demonstration.'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 5.1.** 找到一组可以准确演示所有混合模式的单一图像是一项困难的任务。在[使用混合模式](ch05s02.html#using_blending_modes
    "使用混合模式")中的选择并不理想。找到一组更好的图像来进行这个演示。'
- en: '**Exercise 5.2.** Creating a uniform sky is often the most difficult part of
    panorama construction. Explore solutions to the problems seen in [Figure 5-34](ch05s03.html#final_panorama
    "Figure 5-34. The final panorama"). Adjust the layer mask before merging the layers
    or touch up the final result using the Smudge tool, for example.'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 5.2.** 创建均匀的天空通常是全景构建中最困难的部分。探索解决[图 5-34](ch05s03.html#final_panorama
    "图 5-34. 最终全景")中看到的问题。在合并图层之前调整图层蒙版，或者使用涂抹工具修整最终结果。'
- en: '**Exercise 5.3.** The photograph shown in [Figure 5-43](ch05s04.html#frame
    "Figure 5-43. The frame") contains two potted plants with large leaves, which
    might look nice in front of the subject instead of behind her. Devise a method
    to do this.'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 5.3.** 在[图 5-43](ch05s04.html#frame "图 5-43. 框架")中显示的照片包含了两盆大叶植物，这些植物可能会更适合放在主题的前面，而不是在她的背后。设计一种方法来实现这一点。'
- en: '**Exercise 5.4.** Using the concepts demonstrated in [Self-Compositing](ch05s04.html#self-compositing
    "Self-Compositing"), create a unique work of art with your own digital photos.'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 5.4.** 使用[自我合成](ch05s04.html#self-compositing "自我合成")中演示的概念，用你自己的数码照片创作一件独特的艺术作品。'
