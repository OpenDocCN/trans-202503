- en: Chapter 6. Animation
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第6章 动画
- en: Although GIMP wasn’t designed to build animations, it does have some video-editing
    capabilities that you can use to animate a logo, for instance, or decorate a web
    page. In this chapter, we first introduce some simple animations, and then, in
    subsequent sections of this chapter as well as in [Chapter 18](ch18.html "Chapter 18. Animation
    Tools"), we demonstrate more complex animations and show how to manipulate existing
    video sequences in GIMP.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然GIMP并非专为构建动画而设计，但它确实具备一些视频编辑功能，可以用来为标志制作动画，或者装饰网页。在本章中，我们首先介绍一些简单的动画，然后在本章的后续部分以及[第18章](ch18.html
    "第18章. 动画工具")中，演示更复杂的动画，并展示如何在GIMP中操作现有的视频序列。
- en: '6.1 Tutorial: Animated Text'
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6.1 教程：动画文本
- en: Suppose, for the purposes of this tutorial, that your first name is Carol, a
    respectable, non-gender-specific name. Suppose you, Carol, want to decorate an
    online photo album with an animated logo of your first name. The letters of your
    name will appear progressively and then move into position. Once your entire name
    has appeared, the animation stops.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 假设为了本教程的目的，你的名字是Carol，这是一个受尊敬的、不具性别特征的名字。假设你，Carol，想用你的名字做一个动画标志来装饰一个在线相册。你的名字字母将逐渐出现，然后移动到指定位置。一旦你的整个名字都出现了，动画就停止了。
- en: In [Chapter 4](ch04.html "Chapter 4. Logos and Textures"), you learned how to
    build a complex logo. Because the focus of this tutorial is the animation, the
    logo will be very simple. If you like, you can combine these animation techniques
    with more advanced logo designs, but be advised that such combinations often result
    in an awkward mess.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第4章](ch04.html "第4章. 标志与纹理")中，你学会了如何构建一个复杂的标志。由于本教程的重点是动画，因此标志会非常简单。如果你愿意，你可以将这些动画技巧与更高级的标志设计相结合，但请注意，这种组合通常会导致尴尬的混乱。
- en: As you’ll see in [18.1 Principles of Animation](ch18s01.html "18.1 Principles
    of Animation"), an animation is made from successive image frames. One of the
    ways to create an animation is to build a multilayer image in which each layer
    is one frame.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你将在[18.1 动画原理](ch18s01.html "18.1 动画原理")中看到的，动画是由连续的图像帧组成的。创建动画的一种方法是构建一个多层图像，其中每一层都是一帧。
- en: 'Method One: Frame by Frame'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 方法一：逐帧制作
- en: The simplest way to create the frames is to build each one in turn by hand.
    Of course, this method is also the most cumbersome and feasible only for very
    simple animations.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 创建每一帧最简单的方法是手动逐帧构建。当然，这种方法也是最繁琐的，只适用于非常简单的动画。
- en: In this tutorial, we use the background layer as the animation background and
    move only the letters of the name in successive image layers.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们使用背景图层作为动画背景，并仅在连续的图像层中移动名字的字母。
- en: To begin, create a new 600 × 400 image (![](httpatomoreillycomsourcenostarchimages1454498.png.jpg)).
    Fill the background with the color of your choice. To do this, click the Color
    chooser in the Toolbox (see [Figure 3-3](ch03s01.html#foreground_and_background_colors
    "Figure 3-3. The foreground and background colors")), choose your color, and then
    press ![](httpatomoreillycomsourcenostarchimages1454534.png.jpg) to fill the layer
    with the foreground color. Alternatively, you could choose the Bucket Fill tool
    (![](httpatomoreillycomsourcenostarchimages1454242.png.jpg)) and click to fill
    the area.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，创建一个新的600 × 400像素的图像（![](httpatomoreillycomsourcenostarchimages1454498.png.jpg)）。用你选择的颜色填充背景。为此，点击工具箱中的颜色选择器（见[图3-3](ch03s01.html#foreground_and_background_colors
    "图3-3. 前景色和背景色")），选择你的颜色，然后按下 ![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)
    用前景色填充图层。或者，你可以选择油漆桶填充工具（![](httpatomoreillycomsourcenostarchimages1454242.png.jpg)），点击填充该区域。
- en: Now select the Text tool (![](httpatomoreillycomsourcenostarchimages1454520.png.jpg)).
    Pick a bold font (in our case, we selected `DejaVu Sans Bold Semicondensed`),
    and set the size to 100\. Select a text color that shows up clearly against your
    background color.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 现在选择文本工具（![](httpatomoreillycomsourcenostarchimages1454520.png.jpg)）。选择一个粗体字体（在我们的案例中，选择了`DejaVu
    Sans Bold Semicondensed`），并将大小设置为100。选择一种在背景色上清晰显示的文本颜色。
- en: '![Typing the letters](httpatomoreillycomsourcenostarchimages1454824.png.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![输入字母](httpatomoreillycomsourcenostarchimages1454824.png.jpg)'
- en: Figure 6-1. Typing the letters
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-1. 输入字母
- en: The first click corresponds to the upper-left corner of the box containing the
    first letter. If you click elsewhere in the image after typing the first letter,
    a new layer is automatically created for the next letter, which is exactly what
    you want. After adding all the letters, your image should look like [Figure 6-1](ch06s01.html#typing_the_letters
    "Figure 6-1. Typing the letters"). The colors we chose for the logo are `2f91dc`
    and `f6ee11` in HTML notation.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次点击对应的是包含第一个字母的框的左上角。如果在输入第一个字母后点击图像的其他地方，系统会自动为下一个字母创建新图层，这正是你所需要的。添加所有字母后，你的图像应该看起来像[图6-1](ch06s01.html#typing_the_letters
    "图6-1. 输入字母")。我们为logo选择的颜色是HTML表示法中的`2f91dc`和`f6ee11`。
- en: 'This image is already a simple animation. To test it, select **Image: Filters
    > Animation > Playback**. In the window that opens, simply click the PLAY button,
    and you see the animation playing.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这张图已经是一个简单的动画。要测试它，选择**图像：滤镜 > 动画 > 播放**。在打开的窗口中，点击播放按钮，你就可以看到动画播放。
- en: Why does it work? When you click PLAY, GIMP reveals the layers one by one, and
    because text layers have transparent backgrounds, the letters don’t cover up the
    background, or the rest of the logo, when they appear.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么它有效？当你点击播放时，GIMP会逐一显示图层，因为文本图层有透明背景，所以字母出现时不会覆盖背景或logo的其余部分。
- en: To complete this logo, press (![](httpatomoreillycomsourcenostarchimages1453856.png.jpg))
    and export it as a GIF image. In the dialog that opens, check SAVE AS ANIMATION
    and uncheck LOOP FOREVER.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 为完成这个logo，按下 (![](httpatomoreillycomsourcenostarchimages1453856.png.jpg)) 并将其导出为GIF图像。在弹出的对话框中，勾选保存为动画，并取消勾选“循环播放”。
- en: As explained in [Output Formats](ch18s01.html#output_formats "Output Formats"),
    this produces a file that you can display in a browser. After exporting your logo
    as a GIF, you can use it at the top of your web page, for example.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 如[输出格式](ch18s01.html#output_formats "输出格式")中所述，这会生成一个可以在浏览器中显示的文件。在将logo导出为GIF后，你可以将其用作网页顶部的内容，例如。
- en: Test your animation by opening it in your browser, generally by selecting **File
    > Open** or pressing ![](httpatomoreillycomsourcenostarchimages1453822.png.jpg).
    You can also include the animation in an HTML page with the `<img src='...' />`
    tag.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在浏览器中打开动画进行测试，通常选择**文件 > 打开**或按下 ![](httpatomoreillycomsourcenostarchimages1453822.png.jpg)。你也可以将动画嵌入到HTML页面中，使用`<img
    src='...' />`标签。
- en: 'Method Two: Filtering All Layers'
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 方法二：过滤所有图层
- en: The previous animation was simple. Suppose you want something more complicated.
    Building all the frames by hand would be time consuming and boring—especially
    if you want to create a smooth animation, which requires many frames. To make
    such animations in a practical way, you need a program that automatically generates
    frames from an initial image. The GIMP Animation Package (GAP) does just that.
    You install it separately from GIMP, but the process is simple (see [Appendix E](ape.html
    "Appendix E. Installing GIMP") for help installing GAP).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 之前的动画很简单。假设你需要更复杂的内容。手动构建所有帧会非常耗时且枯燥——特别是如果你想创建一个流畅的动画，那就需要许多帧。为了更实际地制作这种动画，你需要一个可以从初始图像自动生成帧的程序。GIMP动画包（GAP）正是做到了这一点。你需要单独安装它，但过程很简单（安装GAP的帮助请参见[附录E](ape.html
    "附录E. 安装GIMP")）。
- en: 'When GAP is installed, a menu called VIDEO appears in the Image window, and
    two additional entries appear in the FILTERS menu: FILTER ALL LAYERS and FILTERMACRO.
    Another tool installed with GAP is **Image: Filters > Animation > Selection to
    AnimImage**, which is similar to Filter all Layers.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 安装GAP后，图像窗口中会出现一个名为VIDEO的菜单，并且在FILTERS菜单中会出现两个额外的选项：FILTER ALL LAYERS和FILTERMACRO。与GAP一起安装的另一个工具是**图像：滤镜
    > 动画 > 选择为动画图像**，它类似于“过滤所有图层”。
- en: Create a new image that’s the same size and background color as used in the
    last exercise. As before, use the Text tool to create the logo in the same color,
    size, and font, but this time type the name as a single layer. Our result is shown
    in [Figure 6-2](ch06s01.html#initial_logo "Figure 6-2. The initial logo").
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新图像，大小和背景颜色与上一个练习中使用的相同。像以前一样，使用文本工具创建相同颜色、大小和字体的logo，但这次将名称作为单一图层输入。我们的结果如[图6-2](ch06s01.html#initial_logo
    "图6-2. 初始logo")所示。
- en: '![The initial logo](httpatomoreillycomsourcenostarchimages1454826.png.jpg)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![初始logo](httpatomoreillycomsourcenostarchimages1454826.png.jpg)'
- en: Figure 6-2. The initial logo
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-2。初始logo
- en: '![The duplicate layer button](httpatomoreillycomsourcenostarchimages1454828.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![重复图层按钮](httpatomoreillycomsourcenostarchimages1454828.png)'
- en: Figure 6-3. The duplicate layer button
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-3。重复图层按钮
- en: '![The Layers dialog](httpatomoreillycomsourcenostarchimages1454830.png.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![图层对话框](httpatomoreillycomsourcenostarchimages1454830.png.jpg)'
- en: Figure 6-4. The Layers dialog
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-4. 图层对话框
- en: 'For this animation, the text layers must be opaque. Merge the text layer with
    the background by selecting **Image: Layer > Merge Down** or right-clicking on
    the text layer in the Layers dialog and selecting Merge Down.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个动画，文本图层必须是不透明的。通过选择**图像：图层 > 合并下层**，或右击图层对话框中的文本图层并选择“合并下层”来将文本图层与背景合并。
- en: 'The animation has 20 layers, which begin as identical copies of the initial
    logo image. After you’ve merged the text with the background, change the name
    of the layer, for example, to `CAROL #1`, by double-clicking in the layer name.
    Then click the DUPLICATE LAYER button 19 times ([Figure 6-3](ch06s01.html#duplicate_layer_button
    "Figure 6-3. The duplicate layer button")) in the Layers dialog (see [Figure 6-4](ch06s01.html#layers_dialog-id00067
    "Figure 6-4. The Layers dialog")).'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '动画有20个图层，它们最初是初始 logo 图像的相同副本。在你将文本与背景合并后，通过双击图层名称，修改图层的名称，例如，改为`CAROL #1`。然后，在图层对话框中点击“复制图层”按钮19次
    ([图 6-3](ch06s01.html#duplicate_layer_button "图 6-3. 复制图层按钮"))（见[图 6-4](ch06s01.html#layers_dialog-id00067
    "图 6-4. 图层对话框")）。'
- en: 'Now select **Image: Filters > Filter all Layers**. This tool applies a filter
    to all the layers of an image. You choose the parameters of the filter for the
    first and last layers, and the tool interpolates the values for the layers in
    between.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在选择**图像：滤镜 > 所有图层滤镜**。此工具将滤镜应用于图像的所有图层。你为第一层和最后一层选择滤镜的参数，工具会插值计算中间图层的参数。
- en: '![Parameters for the first layer](httpatomoreillycomsourcenostarchimages1454832.png.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![第一个图层的参数](httpatomoreillycomsourcenostarchimages1454832.png.jpg)'
- en: Figure 6-5. Parameters for the first layer
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-5. 第一个图层的参数
- en: '![Intermediary step](httpatomoreillycomsourcenostarchimages1454834.png.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![中间步骤](httpatomoreillycomsourcenostarchimages1454834.png.jpg)'
- en: Figure 6-6. Intermediary step
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-6. 中间步骤
- en: '![The final dialog](httpatomoreillycomsourcenostarchimages1454836.png.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![最终对话框](httpatomoreillycomsourcenostarchimages1454836.png.jpg)'
- en: Figure 6-7. The final dialog
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-7. 最终对话框
- en: For our logo, we apply a blurring filter. Type the word `blur` in the Search
    field and click SEARCH BY BLURB.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我们的 logo，我们应用一个模糊滤镜。在搜索字段中输入“blur”并点击“按模糊搜索”。
- en: 'Choose `plug-in-gauss`, and click APPLY. The numeric field and the small curve
    next to APPLY allow you to change the speed of the progression: It can be uniform
    or slow at the beginning and faster at the end (for this example, choose 4), or
    vice versa (a negative number would reverse the speed). When the next dialog appears,
    set a large blur radius, such as 50 pixels, as shown in [Figure 6-5](ch06s01.html#parameters_for_the_first_layer
    "Figure 6-5. Parameters for the first layer").'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 选择`plug-in-gauss`，然后点击“应用”。数字字段和位于“应用”旁的小曲线允许你更改渐变速度：可以是均匀的，或一开始较慢，最后较快（例如，选择
    4），反之亦然（负数将反转速度）。当下一个对话框出现时，将模糊半径设置为较大值，例如 50 像素，如[图 6-5](ch06s01.html#parameters_for_the_first_layer
    "图 6-5. 第一个图层的参数")所示。
- en: Click CONTINUE. The dialog shown in [Figure 6-6](ch06s01.html#intermediary_step
    "Figure 6-6. Intermediary step") appears. Click CONTINUE again, and another dialog
    similar to [Figure 6-5](ch06s01.html#parameters_for_the_first_layer "Figure 6-5. Parameters
    for the first layer") appears. This time, set the blur to 0 for the final frame.
    Click OK. Now the dialog shown in [Figure 6-7](ch06s01.html#final_dialog "Figure 6-7. The
    final dialog") appears.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“继续”。出现[图 6-6](ch06s01.html#intermediary_step "图 6-6. 中间步骤")所示的对话框。再次点击“继续”，然后会出现一个与[图
    6-5](ch06s01.html#parameters_for_the_first_layer "图 6-5. 第一个图层的参数")类似的对话框。这时，将模糊设置为0，适用于最终帧。点击“确定”。现在，出现[图
    6-7](ch06s01.html#final_dialog "图 6-7. 最终对话框")所示的对话框。
- en: Next you need to name a temporary file where the animation will be stored. Choose
    a directory, type `caroltemp.xcf` (or any name you like), and then click CONTINUE
    once more. The process takes some time because GIMP is applying the Gaussian Blur
    filter to 20 layers.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要为临时文件命名，以便保存动画。选择一个目录，输入`caroltemp.xcf`（或任何你喜欢的名称），然后再次点击“继续”。由于 GIMP
    正在对20个图层应用高斯模糊滤镜，因此该过程需要一些时间。
- en: 'Once this process finishes, the animation is ready. Test it by selecting **Image:
    Filters > Animation > Playback**. When the animation finishes playing, it returns
    to the beginning.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦这个过程完成，动画就准备好了。通过选择**图像：滤镜 > 动画 > 播放**来测试它。当动画播放结束时，它会返回到起始位置。
- en: 'You can change this in several ways :'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过多种方式来更改这一点：
- en: Export the animation as a GIF image, and uncheck the LOOP FOREVER option.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将动画导出为 GIF 图像，并取消勾选“循环播放”选项。
- en: Change the duration of the last frame (i.e., the topmost layer); to do this,
    double-click the layer name in the Layers dialog and type `(1000ms)` after the
    name. Be sure to include the parentheses and a space between the name and the
    duration. The final frame now displays for a full second while the others last
    for only 100 milliseconds.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改最后一帧的持续时间（即最上面的图层）；为此，双击图层对话框中的图层名称，并在名称后输入`(1000ms)`。确保括号和名称与持续时间之间有一个空格。现在，最后一帧将显示整整一秒钟，而其他帧则只显示100毫秒。
- en: Duplicate the top layer as many times as you’d like.
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据需要多次复制顶层图层。
- en: 'Method Three: Moving Along a Path'
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 方法三：沿路径移动
- en: When using FILTER ALL LAYERS, you can only control what is done to the first
    and the last frame. Additionally, because frames are represented by layers, you
    can’t have multilayer frames. GAP provides tools that you can use to build animations
    with much more control.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 使用FILTER ALL LAYERS时，你只能控制第一个和最后一帧的操作。此外，由于帧是通过图层表示的，所以无法拥有多层帧。GAP提供了可以用来创建动画并进行更精细控制的工具。
- en: 'In the **Image: Video** menu that was added when you installed the GAP plug-in,
    you’ll find tools for creating animations with frames stored as separate image
    files.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在安装GAP插件时添加的**图像：视频**菜单中，你将找到用于创建将帧作为单独图像文件存储的动画的工具。
- en: The names of these image files must be of the form *namexxxx*`.xcf`, where *name*
    is the name you give to the animation and *xxxx* is a number beginning with *0001*
    and increasing consecutively until the last frame. The number of digits can vary
    depending on the length of the animation.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这些图像文件的名称必须是*namexxxx*`.xcf`的形式，其中*name*是你给动画命名的部分，*xxxx*是一个从*0001*开始的数字，并按顺序递增，直到最后一帧。数字的位数可以根据动画的长度有所不同。
- en: '![Model of the intended animation](httpatomoreillycomsourcenostarchimages1454838.png.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![预期动画的模型](httpatomoreillycomsourcenostarchimages1454838.png.jpg)'
- en: Figure 6-8. Model of the intended animation
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-8. 预期动画的模型
- en: '![The Image: Video > Duplicate Frames dialog](httpatomoreillycomsourcenostarchimages1454840.png.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![图像：视频 > 复制帧对话框](httpatomoreillycomsourcenostarchimages1454840.png.jpg)'
- en: 'Figure 6-9. The Image: Video > Duplicate Frames dialog'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-9. 图像：视频 > 复制帧对话框
- en: The first frame of a very short animation might be named *01*. Longer animations
    can have 6, or even 10, digits.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 一个非常短的动画的第一帧可能命名为*01*。较长的动画可能会有6位，甚至10位数字。
- en: For this example, imagine you want to build a new animation, similar to the
    last two but a bit more complex. This time, the name `CAROL` will grow progressively
    larger and become increasingly opaque. Simultaneously, a rectangular frame will
    grow and become opaque and then rotate from a vertical position, perpendicular
    to the text, to its horizontal position, neatly framing the text.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，假设你想创建一个新的动画，类似于之前的两个，但稍微复杂一些。这一次，`CAROL`的名字将逐渐变大并变得越来越不透明。同时，一个矩形框架将增长并变得不透明，然后从垂直位置（垂直于文本）旋转到水平位置，整齐地框住文本。
- en: 'First, build a model for the animation, which is a three-layer image. Create
    a new 300*×*150 image (![](httpatomoreillycomsourcenostarchimages1454498.png.jpg))
    with the same blue background color. Once again, add the text layer with the name
    `CAROL`. Finally, build the frame in the same color as the text:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，为动画创建一个模型，这是一个三层图像。创建一个新的300*×*150的图像（![](httpatomoreillycomsourcenostarchimages1454498.png.jpg)），并使用相同的蓝色背景色。再一次，添加文本图层并命名为`CAROL`。最后，创建一个与文本相同颜色的框架：
- en: Create a new transparent layer.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个新的透明图层。
- en: Using the Rectangle Select tool, select the frame of the text layer.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用矩形选择工具，选择文本图层的框架。
- en: 'Apply **Image: Select > Border** to this selection; choose a width of 5 for
    the border.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对这个选择应用**图像：选择 > 边框**，并选择5像素的边框宽度。
- en: Fill the selection with the foreground color (for example, ![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)
    ), and cancel the selection (![](httpatomoreillycomsourcenostarchimages1454172.png.jpg)).
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用前景色填充选择区域（例如，![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)），然后取消选择（![](httpatomoreillycomsourcenostarchimages1454172.png.jpg)）。
- en: '![The Move Path dialog](httpatomoreillycomsourcenostarchimages1454842.png.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![移动路径对话框](httpatomoreillycomsourcenostarchimages1454842.png.jpg)'
- en: Figure 6-10. The Move Path dialog
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-10. 移动路径对话框
- en: The result is shown in [Figure 6-8](ch06s01.html#model_of_the_intended_animation
    "Figure 6-8. Model of the intended animation"). Keep this image opened in GIMP.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 结果如[图6-8](ch06s01.html#model_of_the_intended_animation "图6-8. 预期动画的模型")所示。保持这个图像在GIMP中打开。
- en: To better organize your workspace, create a new folder called `Carol` in whatever
    directory you use to store images. You’ll store all of the animation frames in
    that new folder.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地组织工作空间，请在你用于存储图像的目录中创建一个名为`Carol`的新文件夹。你将把所有动画帧存储在该文件夹中。
- en: Create the first frame by clicking and dragging the background layer thumbnail
    of your model image from the Layers dialog to the Toolbox. Save this image (![](httpatomoreillycomsourcenostarchimages1453852.png.jpg))
    in the new folder, and name it `carol-0001.xcf`. This is the background of the
    first frame.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从图层对话框中点击并拖动模型图像的背景图层缩略图到工具箱来创建第一个帧。将此图像（![](httpatomoreillycomsourcenostarchimages1453852.png.jpg)）保存在新文件夹中，并命名为`carol-0001.xcf`。这是第一个帧的背景。
- en: 'Next duplicate this frame. The simplest method is to use **Image: Video > Duplicate
    Frames**. The dialog shown in [Figure 6-9](ch06s01.html#image_video_greater_than_duplicate_frame
    "Figure 6-9. The Image: Video > Duplicate Frames dialog") appears. Move the N
    TIMES slider to 20 and click OK. After GIMP finishes working, nothing seems to
    have happened, but if you check, you’ll see the new frames are in the `Carol`
    folder. We’ll be working on the first frame only, so ignore the new frames for
    now.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，复制这个帧。最简单的方法是使用**图像：视频 > 复制帧**。如[图6-9](ch06s01.html#image_video_greater_than_duplicate_frame
    "图6-9. 图像：视频 > 复制帧对话框")所示，出现的对话框中，将N TIMES滑块移到20，并点击确定。GIMP完成工作后，似乎什么也没发生，但如果你检查，你会看到新的帧已经在`Carol`文件夹中。我们只会处理第一个帧，所以现在忽略这些新帧。
- en: 'One of the most useful tools in the GAP plug-in is **Image: Video > Move Path**.
    Open the first frame, `carol-0001.xcf`, and then call the Move Path tool. As shown
    in [Figure 6-10](ch06s01.html#move_path_dialog "Figure 6-10. The Move Path dialog"),
    the dialog that appears is quite large, but don’t panic—in this tutorial, we focus
    on just a few of its features.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: GAP插件中最有用的工具之一是**图像：视频 > 移动路径**。打开第一个帧`carol-0001.xcf`，然后调用移动路径工具。如[图6-10](ch06s01.html#move_path_dialog
    "图6-10. 移动路径对话框")所示，出现的对话框非常大，但不要慌张——在本教程中，我们只关注其部分功能。
- en: Use the MOVE PATH tool to add layers, which are taken from an open image (the
    model image in our case), to the animation frames. The move is applied along a
    path defined with points. At each point, you can apply transformations such as
    blending modes, scaling, opacity, rotation, and perspective to the added layer.
    If you add several layers at the same time, you can choose how they are taken
    from the model image.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 使用MOVE PATH工具将图层（我们这里是从打开的模型图像中获取的图层）添加到动画帧中。移动是沿着通过各个点定义的路径进行的。在每个点上，你可以应用变换，例如混合模式、缩放、不透明度、旋转和透视等。若同时添加多个图层，你可以选择从模型图像中获取图层的方式。
- en: We’ve added numbers to [Figure 6-10](ch06s01.html#move_path_dialog "Figure 6-10. The
    Move Path dialog") that correspond to numbers in the text to guide you through
    the following steps. Select the layer in the SOURCE IMAGE/LAYER menu from among
    those in the currently open images (1). First, choose the frame layer. Because
    there is only one layer, choose NONE from the STEPMODE menu (2).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在[图6-10](ch06s01.html#move_path_dialog "图6-10. 移动路径对话框")中添加了数字，这些数字与文本中的数字相对应，帮助你完成接下来的步骤。从当前打开的图像中，在SOURCE
    IMAGE/LAYER菜单中选择图层（1）。首先，选择框架图层。因为只有一个图层，所以从STEPMODE菜单（2）中选择NONE。
- en: The coordinates of the path’s points are taken according to the origin selected
    in the HANDLE menu. Choose CENTER (3), and then set the X and Y coordinates (4)
    to 150 and 75, respectively. A red crosshair appears in the background frame.
    To see the frame, check the INSTANT APPLY box (5) at the bottom of the dialog.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 路径点的坐标是根据在HANDLE菜单中选择的原点来确定的。选择CENTER（3），然后将X和Y坐标（4）分别设置为150和75。背景框中会出现一个红色的十字准线。要查看这个框，请勾选对话框底部的INSTANT
    APPLY框（5）。
- en: '![After adding the rectangle to the first frame](httpatomoreillycomsourcenostarchimages1454844.png.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![添加矩形到第一个帧后](httpatomoreillycomsourcenostarchimages1454844.png.jpg)'
- en: Figure 6-11. After adding the rectangle to the first frame
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-11. 添加矩形到第一个帧后
- en: The original characteristics of the frame layer are 20.0% for scaling (6), 20.0%
    for opacity (7), and –90° for rotation (8).
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 原始框架图层的特征为缩放（6）为20.0%，不透明度（7）为20.0%，旋转（8）为-90°。
- en: Now you’ve set the first point, which applies to the first frame. Add another
    point by clicking the ADD POINT button. Note that the point number has changed
    (9). For this point, which will be the last frame, the layer’s position and opacity
    change, but the point coordinates should remain the same. change WIDTH, HEIGHT,
    and OPACITY to 100% and ROTATE to 0.0\. The first layer of the animation is now
    complete.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经设置了第一个点，该点适用于第一个帧。通过点击“添加点”按钮，添加另一个点。注意，点的编号已更改（9）。对于这个点，它将成为最后一帧，图层的位置和不透明度发生变化，但点的坐标应该保持不变。将宽度（WIDTH）、高度（HEIGHT）和不透明度（OPACITY）设置为
    100%，将旋转（ROTATE）设置为 0.0。动画的第一个图层现在已完成。
- en: 'Click OK, and GIMP processes the frames. This process can take a while, depending
    on the size and number of frames. When GIMP finishes, you’ll see the first frame
    with an additional layer: the logo’s rectangular frame in its initial position,
    as seen in [Figure 6-11](ch06s01.html#after_adding_the_rectangle_to_the_first
    "Figure 6-11. After adding the rectangle to the first frame").'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“确定”，GIMP 将处理各个帧。这个过程可能会花一些时间，具体取决于帧的大小和数量。当 GIMP 完成时，你将看到第一个帧，并且会有一个额外的图层：Logo
    的矩形框处于其初始位置，见于[图 6-11](ch06s01.html#after_adding_the_rectangle_to_the_first "图
    6-11. 添加矩形到第一个帧之后")。
- en: To add the second layer (the text), use the MOVE PATH tool again. This time,
    select the text layer in the model image. Select the same values for STEPMODE,
    HANDLE, the X and Y coordinates, WIDTH and HEIGHT, and OPACITY, as you used for
    the previous layer. Check INSTANT APPLY to see the result.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加第二个图层（文本），请再次使用“移动路径”工具。这次，选择模型图像中的文本图层。选择与前一个图层相同的 STEPMODE、HANDLE、X 和 Y
    坐标、宽度（WIDTH）、高度（HEIGHT）和不透明度（OPACITY）值。勾选“即时应用”（INSTANT APPLY）以查看效果。
- en: Add a new point, and set WIDTH, HEIGHT, and OPACITY to 100%, but don’t change
    the coordinates. The animation is finished! To check it before saving, click ANIM
    PREVIEW (10). The dialog shown in [Figure 6-12](ch06s01.html#anim_preview_dialog
    "Figure 6-12. The Anim Preview dialog") appears. Click OK. GIMP builds a reduced
    version of the animation as a multilayer image, with the Playback window already
    open. Although previewing the new animation is exciting, it not only takes a while
    but also builds an unnecessary image that clutters up your workspace. We recommend
    skipping this feature and simply clicking OK (11) in the Move Path dialog.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 添加一个新点，并将宽度（WIDTH）、高度（HEIGHT）和不透明度（OPACITY）设置为 100%，但不要更改坐标。动画完成了！在保存之前，点击“动画预览”（ANIM
    PREVIEW）（10）。如[图 6-12](ch06s01.html#anim_preview_dialog "图 6-12. 动画预览对话框")所示的对话框将会出现。点击“确定”。GIMP
    会生成一个缩略版本的动画，作为多图层图像，并且回放窗口已打开。虽然预览新动画很激动人心，但这不仅会花费一些时间，还会生成一个不必要的图像， clutter
    你的工作空间。我们建议跳过此功能，直接点击“确定”（11）在“移动路径”对话框中。
- en: '![The Anim Preview dialog](httpatomoreillycomsourcenostarchimages1454846.png.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![动画预览对话框](httpatomoreillycomsourcenostarchimages1454846.png.jpg)'
- en: Figure 6-12. The Anim Preview dialog
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-12. 动画预览对话框
- en: 'Once GIMP finishes processing, all the frames of the animation contain the
    same three layers as the model image but with progressive changes to the frame
    and text layers. You can view this animation by selecting **Image: Video > VCR
    Navigator** and clicking the PLAYBACK button.'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '一旦 GIMP 完成处理，所有动画帧都包含与模型图像相同的三个图层，但帧和文本图层逐渐发生变化。你可以通过选择 **图像: 视频 > VCR 导航器**
    并点击“回放”按钮来查看这个动画。'
- en: 'Suppose you want to export this video as a GIF animation. To do this, you need
    to transform this multi-image animation to a multilayer one and merge the layers
    in each frame. You can do this automatically using **Image: Video > Frames to
    Image**, which brings up the dialog shown in [Figure 6-13](ch06s02.html#frames_to_image_dialog
    "Figure 6-13. The Frames to Image dialog"). Leave everything as is and click OK.
    Once again, GIMP works for a while, eventually creating a new multilayer image.
    Change the duration of the last frame (the topmost layer) to 1000 ms by typing
    `(1000ms)` after the layer name. You can then check your animation with **Image:
    Filters > Animation > Playback** or export it as a GIF file.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '假设你想将这个视频导出为 GIF 动画。为此，你需要将这个多图像动画转换为多图层动画，并合并每个帧中的图层。你可以使用 **图像: 视频 > 帧到图像**
    来自动完成此操作，这会弹出[图 6-13](ch06s02.html#frames_to_image_dialog "图 6-13. 帧到图像对话框")所示的对话框。保持所有设置不变，点击“确定”。再次，GIMP
    将进行一段时间的处理，最终创建一个新的多图层图像。通过在图层名称后输入 `(1000ms)` 来将最后一帧（最顶层图层）的持续时间设置为 1000 毫秒。然后，你可以通过
    **图像: 滤镜 > 动画 > 回放** 来查看动画，或将其导出为 GIF 文件。'
- en: 6.2 Building an Animated GIF by Hand
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6.2 手动创建动画 GIF
- en: 'At the beginning of this chapter, we built an animation frame by frame as layers
    in one image. Here is a general list of the steps to use as a guide for building
    similar animations:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章开始时，我们逐帧构建了一个动画，将每一帧作为图层放入一张图像中。以下是构建类似动画时可以作为指南的一般步骤列表：
- en: '![The Frames to Image dialog](httpatomoreillycomsourcenostarchimages1454848.png.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![Frames to Image对话框](httpatomoreillycomsourcenostarchimages1454848.png.jpg)'
- en: Figure 6-13. The Frames to Image dialog
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-13. Frames to Image对话框
- en: Create a stationary background for the animation.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为动画创建一个静止的背景。
- en: Create another layer with the object that will move; it may be cut from a photograph,
    drawn using paint tools, or typed in as text.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建另一个包含要移动的对象的图层；它可以从照片中剪切，使用绘画工具绘制，或输入为文本。
- en: 'For each new position of the object, duplicate the preceding layer and apply
    some transformation to the new layer: Move, rotate, or deform the object, zoom
    in or out, and so on. Take care when doing this, or the animation will be choppy.'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于对象的每个新位置，复制前一个图层并对新图层应用一些变换：移动、旋转、变形、放大或缩小，等等。进行这些操作时要小心，否则动画会显得卡顿。
- en: Because each new layer must replace the preceding one, duplicate the background
    layer once per object layer, intersperse these copies between the object layers,
    and then merge each object layer with a background layer.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于每个新图层必须替换前一个图层，因此每创建一个对象图层，都需要复制背景图层一次，并将这些副本插入到对象图层之间，然后将每个对象图层与背景图层合并。
- en: The animation is finished!
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 动画完成了！
- en: You’ve just created a simple animation in which a single object moves along
    a fixed background. While you can use this technique to animate multiple objects,
    the process is awkward and repetitive. Remember that if you’re doing a repetitive
    task on a computer, you’re not using the computer in a clever way.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 你刚刚创建了一个简单的动画，其中一个对象沿着固定的背景移动。虽然你可以使用这种技术来动画化多个对象，但这个过程是笨拙和重复的。请记住，如果你在计算机上做重复的任务，那说明你没有以聪明的方式使用计算机。
- en: '![The background image](httpatomoreillycomsourcenostarchimages1454850.png.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![背景图像](httpatomoreillycomsourcenostarchimages1454850.png.jpg)'
- en: Figure 6-14. The background image
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-14. 背景图像
- en: '![Parameters for the first color](httpatomoreillycomsourcenostarchimages1454852.png.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![第一个颜色的参数](httpatomoreillycomsourcenostarchimages1454852.png.jpg)'
- en: Figure 6-15. Parameters for the first color
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-15. 第一个颜色的参数
- en: In the next section, we demonstrate some other ways to create simple animations.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们展示了一些其他创建简单动画的方法。
- en: Drawing a Rainbow Daisy
  id: totrans-98
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 绘制彩虹雏菊
- en: 'The first example is so simple that duplicating the background is not necessary:
    Layers are progressively added to draw the petals of the daisy.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个例子非常简单，因此不需要复制背景：图层逐步添加，以绘制雏菊的花瓣。
- en: Begin with the background image shown in [Figure 6-14](ch06s02.html#background_image
    "Figure 6-14. The background image").
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图6-14](ch06s02.html#background_image "图6-14. 背景图像")所示的背景图像开始。
- en: Then we draw the petals by hand with the Paintbrush tool. We draw one petal
    at a time, using different colors for each petal. To change the color, we change
    only the hue by a set amount from petal to petal. The background is rather dark,
    so we choose a bright, saturated color, beginning at one end of the hue scale,
    as shown in [Figure 6-15](ch06s02.html#parameters_for_the_first_color "Figure 6-15. Parameters
    for the first color").
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们用画笔工具手工绘制花瓣。我们每次绘制一个花瓣，且每个花瓣使用不同的颜色。为了更改颜色，我们只在花瓣之间按一定的幅度改变色相。背景相对较暗，因此我们选择一个明亮、饱和的颜色，从色相范围的一端开始，如[图6-15](ch06s02.html#parameters_for_the_first_color
    "图6-15. 第一个颜色的参数")所示。
- en: '![Workspace after the petals have been added](httpatomoreillycomsourcenostarchimages1454854.png.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![添加花瓣后的工作空间](httpatomoreillycomsourcenostarchimages1454854.png.jpg)'
- en: Figure 6-16. Workspace after the petals have been added
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-16. 添加花瓣后的工作空间
- en: Every petal has its own layer. First create a new layer. In the dialog that
    appears, add a number to the layer name. With the `Hardness 100` brush set to
    a small size, draw the first petal in the upper-left corner of the image.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 每个花瓣都有一个独立的图层。首先创建一个新图层。在弹出的对话框中，为图层名称添加一个编号。使用`Hardness 100`的画笔设置为小尺寸，在图像的左上角绘制第一个花瓣。
- en: For the second petal, choose a color with the same saturation and value as the
    first one but with a different hue. To change the hue, set the new value in the
    field to the right of the radio button labeled H. The hue values range from 0
    to 360\. Because the daisy has seven petals, plus its stem, we need eight different
    hues. So we add 40 to the preceding hue value for each new petal, create the new
    layer, name it, and draw the petal in the proper place until the daisy is finished.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第二片花瓣，选择与第一片花瓣相同饱和度和明度的颜色，但色调不同。要改变色调，在右侧的H字段中设置新的值。色调值范围从0到360。由于雏菊有七片花瓣，加上它的茎部，我们需要八种不同的色调。所以每增加一片新的花瓣，我们在前一个色调值的基础上加40，创建新的图层，命名它，并在正确的位置绘制花瓣，直到整个雏菊完成。
- en: When the daisy is finished, we have nine layers, and the animation is almost
    complete. The animation will look better if it pauses at the beginning and at
    the end, so add an explicit duration of 1000 ms to the first and last layers by
    typing `(1000ms)` after the layer name.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 当雏菊完成时，我们有九个图层，动画几乎完成。如果动画在开始和结束时暂停，效果会更好，因此在第一个和最后一个图层的名称后添加显式持续时间`(1000ms)`。
- en: 'To test the animation, go to **Image: Filters > Animation > Playback**. [Figure 6-16](ch06s02.html#workspace_after_the_petals_have_been_add
    "Figure 6-16. Workspace after the petals have been added") shows the final image
    with the Layers dialog.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 要测试动画，转到**图像：滤镜 > 动画 > 播放**。[图 6-16](ch06s02.html#workspace_after_the_petals_have_been_add
    "图 6-16. 添加花瓣后的工作区")显示了带有图层对话框的最终图像。
- en: Notice that the Playback window always displays the image at its actual size—this
    can be problematic if you build an animation with an image that’s larger than
    your screen. When an animation takes up most of the screen, detach it from the
    Playback window by clicking the fourth button from the left at the top of the
    window.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，播放窗口始终以图像的实际大小显示图像——如果你创建的动画包含一个比屏幕更大的图像，这可能会成为问题。当动画占据大部分屏幕时，点击窗口顶部左侧第四个按钮，将其从播放窗口中分离出来。
- en: 'When you’re satisfied with the animation, you can export it as an animated
    GIF, as shown in [Method One: Frame by Frame](ch06s01.html#method_one_frame_by_frame
    "Method One: Frame by Frame").'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 当你对动画满意时，可以将其导出为动画GIF，参考[方法一：逐帧动画](ch06s01.html#method_one_frame_by_frame "方法一：逐帧动画")。
- en: Zooming Toward the Viewer
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 朝向观察者缩放
- en: The second animation is slightly more complicated to build. This time, we want
    to make a word zoom toward the viewer.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个动画稍微复杂一些。这次，我们想让一个单词朝向观察者缩放。
- en: We begin with a new background image. Select the Text tool, choose your favorite
    font, in a large size and a bright color, and write “Hello!” on the image. [Figure 6-17](ch06s02.html#adding_text_to_an_image
    "Figure 6-17. Adding text to an image") shows the result, with a `FreeSans Bold`
    font in size 140 in a bright red.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从一张新的背景图像开始。选择文本工具，选择你喜欢的字体，设置较大的字号和亮眼的颜色，在图像上写上“Hello！”[图 6-17](ch06s02.html#adding_text_to_an_image
    "图 6-17. 向图像添加文本")显示了结果，使用的是`FreeSans Bold`字体，字号为140，颜色为亮红色。
- en: '![Adding text to an image](httpatomoreillycomsourcenostarchimages1454856.png.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![向图像添加文本](httpatomoreillycomsourcenostarchimages1454856.png.jpg)'
- en: Figure 6-17. Adding text to an image
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-17. 向图像添加文本
- en: '![Scaling the layer](httpatomoreillycomsourcenostarchimages1454858.png.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![缩放图层](httpatomoreillycomsourcenostarchimages1454858.png.jpg)'
- en: Figure 6-18. Scaling the layer
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-18. 缩放图层
- en: Next, we build several copies of this layer, each with a smaller and smaller
    zoom factor and an increasing blur. We build the layers in reverse order, so the
    last built is the first to display. To build a smooth animation, we change the
    height of the layer by the same amount each time, and we use the same blurring
    factor.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们构建该图层的多个副本，每个副本都有更小的缩放因子和更强的模糊效果。我们按相反的顺序构建图层，因此最后构建的图层是第一个显示的图层。为了构建平滑的动画，我们每次都按相同的幅度改变图层的高度，并使用相同的模糊系数。
- en: 'Duplicate the text layer, and work on the lower copy. Using **Image: Layer
    > Scale Layer**, reduce the layer height by 20 pixels (see [Figure 6-18](ch06s02.html#scaling_the_layer
    "Figure 6-18. Scaling the layer")). Then select **Image: Filters > Blur > Gaussian
    Blur** and apply a blur with the default parameters. If you’re not sure whether
    the parameters are set to their default values, reset all the filters via **Image:
    Filters > Reset all Filters**.'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 复制文本图层，并处理下面的副本。使用**图像：图层 > 缩放图层**，将图层高度减少20像素（参见[图 6-18](ch06s02.html#scaling_the_layer
    "图 6-18. 缩放图层")）。然后选择**图像：滤镜 > 模糊 > 高斯模糊**，应用默认参数的模糊效果。如果你不确定参数是否已设置为默认值，可以通过**图像：滤镜
    > 重置所有滤镜**来重置所有滤镜。
- en: Repeat this process four more times, always working on the lower text layer
    (the one that has just been transformed). You can speed up the process by pressing
    ![](httpatomoreillycomsourcenostarchimages1453888.png.jpg) to repeat the last
    filter used.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 再重复这个过程四次，每次都在下方的文本层上工作（即刚刚被转换的那个层）。你可以通过按 ![](httpatomoreillycomsourcenostarchimages1453888.png.jpg)
    来加速过程，重复上次使用的滤镜。
- en: '![The Layers dialog with text and background layers](httpatomoreillycomsourcenostarchimages1454860.png.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![带有文本和背景层的图层对话框](httpatomoreillycomsourcenostarchimages1454860.png.jpg)'
- en: Figure 6-19. The Layers dialog with text and background layers
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-19. 带有文本和背景层的图层对话框
- en: At the end, you should have six text layers. As it stands now, however, you
    can’t use this image as an animation because all the layers are visible. The solution
    is to duplicate the background layer so you have one background layer per text
    layer. By alternatively clicking the DUPLICATE button and the RAISE button at
    the bottom of the Layers dialog, you can quickly create the sequence of layers
    shown in [Figure 6-19](ch06s02.html#layers_dialog_with_text_and_background_l "Figure 6-19. The
    Layers dialog with text and background layers").
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，你应该会有六个文本层。然而，目前你不能将这个图像用作动画，因为所有层都是可见的。解决方案是复制背景层，使每个文本层都有一个背景层。通过交替点击“DUPLICATE”按钮和“RAISE”按钮，在图层对话框底部，你可以快速创建出[图6-19](ch06s02.html#layers_dialog_with_text_and_background_l
    "图6-19. 带有文本和背景层的图层对话框")中所示的图层序列。
- en: 'Then merge each text layer with the underlying background layer by selecting
    **Layer: right-click > Merge Down**. Keep one more version of the background at
    the bottom of the layer stack so the animation begins with the original background.
    The resulting sequence of layers is shown in [Figure 6-20](ch06s02.html#layers_dialog_after_merging_text_and_bac
    "Figure 6-20. The Layers dialog after merging text and background layers").'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，通过选择**图层：右键点击 > 向下合并**，将每个文本层与下方的背景层合并。保持背景的一个版本位于图层堆栈的底部，以便动画从原始背景开始。最终的图层序列如[图6-20](ch06s02.html#layers_dialog_after_merging_text_and_bac
    "图6-20. 合并文本和背景层后的图层对话框")所示。
- en: Our animation is almost ready. Because we duplicated the background layer so
    many times, the file is 12MB, which is quite large. But much of the background
    actually remains the same, creating redundancy, so we can reduce the size without
    losing valuable information.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的动画几乎准备好了。由于我们复制了背景层很多次，文件达到了12MB，比较大。但实际上，很多背景内容是相同的，造成了冗余，因此我们可以在不丢失有价值信息的情况下减小文件大小。
- en: 'GIMP provides a way to reduce the size: Apply **Image: Filters > Animation
    > Optimize (for GIF)**. The filter has no dialog and does its job immediately.
    It generates another, smaller image file: In our case, the file is 362KB. The
    filter replaces parts of the image that don’t change with transparency, as shown
    in [Figure 6-21](ch06s02.html#first_layer_after_optimization_for_gif "Figure 6-21. The
    first layer after optimization for GIF"). Because the animated word doesn’t move
    across the background, most of the background remains unchanged, and, as a result,
    the size is reduced significantly.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP提供了一种减小文件大小的方法：应用**图像：滤镜 > 动画 > 优化（针对GIF）**。该滤镜没有对话框，立即完成操作。它会生成另一个更小的图像文件：在我们的案例中，文件大小为362KB。该滤镜将图像中不会变化的部分替换为透明，正如[图6-21](ch06s02.html#first_layer_after_optimization_for_gif
    "图6-21. GIF优化后的第一层")所示。由于动画中的文字没有在背景上移动，大部分背景保持不变，因此文件大小大大减少。
- en: '![The Layers dialog after merging text and background layers](httpatomoreillycomsourcenostarchimages1454862.png.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![合并文本和背景层后的图层对话框](httpatomoreillycomsourcenostarchimages1454862.png.jpg)'
- en: Figure 6-20. The Layers dialog after merging text and background layers
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-20. 合并文本和背景层后的图层对话框
- en: '![The first layer after optimization for GIF](httpatomoreillycomsourcenostarchimages1454864.png.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![GIF优化后的第一层](httpatomoreillycomsourcenostarchimages1454864.png.jpg)'
- en: Figure 6-21. The first layer after optimization for GIF
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-21. GIF优化后的第一层
- en: The optimization tool also adds the layer replacement mode `(combine)` to every
    layer except the bottom one. Therefore, the new layer does not replace the previous
    one but is *combined* with it. In the previous animation, we used the `(replace)`
    combination mode, which is the default.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 优化工具还将图层替换模式`(combine)`添加到除了底部层之外的每一层。因此，新的图层不会替换原有图层，而是与之*合并*。在之前的动画中，我们使用了`(replace)`组合模式，这是默认设置。
- en: We still need to do two things before this animation is complete. First, we
    need to change the timing of the first and last frames (bottom and top layers)
    to make the animation smoother. Because the optimization process automatically
    added a duration of 100 ms, we have to change the timing already specified for
    these two layers by adding another zero to the duration, so it becomes `(1000ms)`.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在动画完成之前，我们还需要做两件事。首先，我们需要更改第一个和最后一个帧（底部和顶部图层）的时序，以使动画更流畅。由于优化过程自动添加了100毫秒的持续时间，我们必须通过为这两个图层的持续时间添加一个零，将其更改为`(1000ms)`。
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454866.png.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![初始图像](httpatomoreillycomsourcenostarchimages1454866.png.jpg)'
- en: Figure 6-22. The initial image
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-22。初始图像
- en: '![Building the layer](httpatomoreillycomsourcenostarchimages1454868.png.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![构建图层](httpatomoreillycomsourcenostarchimages1454868.png.jpg)'
- en: Figure 6-23. Building the layer
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-23。构建图层
- en: Finally, we export the completed animation as a GIF.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，将完成的动画导出为GIF格式。
- en: Adding Rain to a Landscape
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向景观中添加雨滴
- en: This animation is easy to build and takes less than 10 minutes. Those of you
    with a little programming knowledge could even automate this process by creating
    a script.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这个动画很容易构建，且不到10分钟就能完成。如果你有一些编程知识，甚至可以通过创建脚本来自动化这个过程。
- en: As a background, we use the photograph in [Figure 6-22](ch06s02.html#initial_image-id00068
    "Figure 6-22. The initial image"), a sandy beach on the North Coast of New South
    Wales, Australia. We want to add some rain falling on this landscape.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 作为背景，我们使用[图6-22](ch06s02.html#initial_image-id00068 "图6-22。初始图像")中的照片，它是一张拍摄自澳大利亚新南威尔士北海岸的沙滩照片。我们想在这个景观上添加一些雨滴。
- en: '![The resulting Layers dialog](httpatomoreillycomsourcenostarchimages1454870.png.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![生成的图层对话框](httpatomoreillycomsourcenostarchimages1454870.png.jpg)'
- en: Figure 6-24. The resulting Layers dialog
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-24。生成的图层对话框
- en: Duplicate the background image three times. Now you have four layers. Next,
    add a new, white layer above each background layer (see [Figure 6-23](ch06s02.html#building_the_layer
    "Figure 6-23. Building the layer")). The resulting Layers dialog is shown in [Figure 6-24](ch06s02.html#resulting_layers_dialog
    "Figure 6-24. The resulting Layers dialog").
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 将背景图像复制三次。现在你有四个图层。接下来，在每个背景图层上方添加一个新的白色图层（参见[图6-23](ch06s02.html#building_the_layer
    "图6-23。构建图层")）。生成的图层对话框如[图6-24](ch06s02.html#resulting_layers_dialog "图6-24。生成的图层对话框")所示。
- en: 'Use the white layers for the rain. First, add noise to the white layers with
    **Image: Filters > Noise > RGB Noise**, using the parameters shown in [Figure 6-25](ch06s02.html#creating_the_rain_adding_noise
    "Figure 6-25. Creating the rain: adding noise"). Do this for each white layer
    by selecting it and pressing ![](httpatomoreillycomsourcenostarchimages1453888.png.jpg).
    Change this noise into rain by applying **Image: Filters > Blur > Motion Blur**,
    using the parameters shown in [Figure 6-26](ch06s02.html#creating_the_rain_adding_motion_blur
    "Figure 6-26. Creating the rain: adding motion blur"). Repeat this process for
    each white layer.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 使用白色图层来制作雨滴。首先，使用**图像：滤镜 > 噪声 > RGB噪声**，按照[图6-25](ch06s02.html#creating_the_rain_adding_noise
    "图6-25。创建雨滴：添加噪声")中的参数将噪声添加到白色图层。对每个白色图层执行此操作，选择该图层并按下![](httpatomoreillycomsourcenostarchimages1453888.png.jpg)。然后，应用**图像：滤镜
    > 模糊 > 运动模糊**，使用[图6-26](ch06s02.html#creating_the_rain_adding_motion_blur "图6-26。创建雨滴：添加运动模糊")中的参数将噪声转换为雨滴。对每个白色图层重复此过程。
- en: 'The animation is almost finished. Here are the remaining steps:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 动画几乎完成了。以下是剩余的步骤：
- en: Change the blend mode of every rain layer to Multiply; note that other blend
    modes work too, for example, Screen or even Grain Merge.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个雨层的混合模式更改为“正片叠底”；请注意，其他混合模式也适用，例如“滤色”或甚至“颗粒合并”。
- en: 'Merge each rain layer with the underlying background layer (use **Layers: right-click
    > Merge Down**).'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个雨层与底层背景层合并（使用**图层：右键点击 > 合并向下**）。
- en: '![Creating the rain: adding noise](httpatomoreillycomsourcenostarchimages1454872.png.jpg)'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![创建雨滴：添加噪声](httpatomoreillycomsourcenostarchimages1454872.png.jpg)'
- en: 'Figure 6-25. Creating the rain: adding noise'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图6-25。创建雨滴：添加噪声
- en: '![Creating the rain: adding motion blur](httpatomoreillycomsourcenostarchimages1454874.png.jpg)'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![创建雨滴：添加运动模糊](httpatomoreillycomsourcenostarchimages1454874.png.jpg)'
- en: 'Figure 6-26. Creating the rain: adding motion blur'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图6-26。创建雨滴：添加运动模糊
- en: 'Test the animation with **Image: Filters > Animation > Playback**.'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**图像：滤镜 > 动画 > 播放**来测试动画。
- en: Optimize the animation for GIF, and export it as an animated GIF.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为GIF优化动画，并将其导出为动画GIF。
- en: '![The final image](httpatomoreillycomsourcenostarchimages1454876.png.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![最终图像](httpatomoreillycomsourcenostarchimages1454876.png.jpg)'
- en: Figure 6-27. The final image
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-27。最终图像
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454878.png.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![初始图像](httpatomoreillycomsourcenostarchimages1454878.png.jpg)'
- en: Figure 6-28. The initial image
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-28。初始图像
- en: The final result appears in [Figure 6-27](ch06s02.html#final_image-id00069 "Figure 6-27. The
    final image"). Of course, the actual animation is a lot more interesting than
    the still image shown. To see it, visit the book’s website (*[http://the-book-ofgimp.blogspot.com](http://the-book-ofgimp.blogspot.com)*).
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 最终结果出现在[图6-27](ch06s02.html#final_image-id00069 "图6-27。最终图像")中。当然，实际的动画比显示的静态图像要有趣得多。要查看它，请访问本书的官方网站（*[http://the-book-ofgimp.blogspot.com](http://the-book-ofgimp.blogspot.com)*）。
- en: Adding Snow to a Landscape
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向景观中添加雪
- en: You can use a similar process to add snow to a picture. To demonstrate more
    of the tools available, in this example, we apply some alternative methods to
    arrive at the result. In GIMP, you’ll generally discover many different ways to
    complete a given task.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用类似的过程向图片中添加雪。为了展示更多可用工具，在这个示例中，我们应用了一些替代方法来获得结果。在GIMP中，你通常会发现许多不同的方法来完成给定的任务。
- en: 'We begin with the image shown in [Figure 6-28](ch06s02.html#initial_image-id00070
    "Figure 6-28. The initial image"), a photograph taken in the northern French Alps.
    We create snow by again applying **Image: Filters > Noise > RGB Noise** but this
    time on a new, transparent layer. To apply the noise to a transparent layer, make
    sure Correlated noise is unchecked and then move the ALPHA cursor to 100.'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从[图6-28](ch06s02.html#initial_image-id00070 "图6-28。初始图像")所示的图像开始，这是一张在法国北阿尔卑斯山拍摄的照片。我们通过再次应用**图像：滤镜
    > 噪声 > RGB噪声**来制造雪，但这次是在一个新的透明图层上。为了将噪声应用到透明图层，请确保取消勾选“相关噪声”，然后将ALPHA游标移动到100。
- en: '![Applying the noise filter](httpatomoreillycomsourcenostarchimages1454880.png.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![应用噪声滤镜](httpatomoreillycomsourcenostarchimages1454880.png.jpg)'
- en: Figure 6-29. Applying the noise filter
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-29。应用噪声滤镜
- en: '![Inverting the layer](httpatomoreillycomsourcenostarchimages1454882.png.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![反转图层](httpatomoreillycomsourcenostarchimages1454882.png.jpg)'
- en: Figure 6-30. Inverting the layer
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-30。反转图层
- en: 'The snow is black, as shown in [Figure 6-29](ch06s02.html#applying_the_noise_filter
    "Figure 6-29. Applying the noise filter"). In the previous example, we adjusted
    the color of the rain when we changed the blending mode to Multiply. This time
    we use **Image: Color > Invert** to make the snow white, as it should be (see
    [Figure 6-30](ch06s02.html#inverting_the_layer "Figure 6-30. Inverting the layer")).'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 雪是黑色的，如[图6-29](ch06s02.html#applying_the_noise_filter "图6-29。应用噪声滤镜")所示。在前面的示例中，我们在将混合模式更改为“正片叠底”时调整了雨的颜色。这次，我们使用**图像：颜色
    > 反转**将雪变成白色，如它应有的样子（参见[图6-30](ch06s02.html#inverting_the_layer "图6-30。反转图层")）。
- en: 'Now we want to make the snow fall slowly over the landscape. First, duplicate
    the snow layer and then apply the Offset tool: Select **Image: Layer > Transform
    > Offset** or press ![](httpatomoreillycomsourcenostarchimages1454634.png.jpg).
    Set a small, positive Y offset— around 10\. Check the WRAP AROUND box, or the
    snow will disappear from the top of the image (see [Figure 6-31](ch06s02.html#offset_dialog
    "Figure 6-31. The Offset dialog")).'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们想让雪在景观上缓慢下落。首先，复制雪层，然后应用偏移工具：选择**图像：图层 > 变换 > 偏移**，或者按 ![](httpatomoreillycomsourcenostarchimages1454634.png.jpg)。设置一个小的正Y偏移量——大约10。勾选“环绕”框，否则雪会从图像顶部消失（参见[图6-31](ch06s02.html#offset_dialog
    "图6-31。偏移对话框")）。
- en: Duplicate this offset copy, and apply the tool again on the copy of the copy.
    Repeat this process several times.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 复制这个偏移副本，再次对副本进行偏移工具操作。重复这个过程几次。
- en: 'As shown in [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers"), duplicate the background, add copies under
    every snow layer, and merge each snow layer with the underlying background copy.
    The result is a working animation.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 如[方法二：过滤所有图层](ch06s01.html#method_two_filtering_all_layers "方法二：过滤所有图层")所示，复制背景，将副本添加到每个雪层下方，并将每个雪层与下面的背景副本合并。结果是一个可用的动画。
- en: '![The Offset dialog](httpatomoreillycomsourcenostarchimages1454884.png.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![偏移对话框](httpatomoreillycomsourcenostarchimages1454884.png.jpg)'
- en: Figure 6-31. The Offset dialog
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-31。偏移对话框
- en: To make the snow fall gracefully, we have to generate many layers, and we have
    to apply the same Y offset relative to the preceding snow layer. A smooth animation
    would require at least 30 frames. In [Animating a Still Image](ch06s03.html#animating_a_still_image
    "Animating a Still Image") and [18.4 The Move Path Tool](ch18s04.html "18.4 The
    Move Path Tool") we show you two different methods for generating these layers
    automatically, saving a lot of time.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让雪花优雅地飘落，我们必须生成许多图层，并且我们需要对前一层的雪花应用相同的Y偏移量。一部顺畅的动画至少需要30帧。在[为静态图像添加动画](ch06s03.html#animating_a_still_image
    "为静态图像添加动画")和[18.4 移动路径工具](ch18s04.html "18.4 移动路径工具")中，我们向您展示了两种自动生成这些图层的方法，节省了大量时间。
- en: 6.3 Using Animation Tools
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6.3 使用动画工具
- en: GIMP offers numerous tools and filters for creating animations. In this section,
    we show you some of those tools.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP提供了许多工具和滤镜来创建动画。在本节中，我们将向您展示其中的一些工具。
- en: Interactive Deformation
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 交互式变形
- en: With this tool and little work, you can create an impressive, or at least amusing,
    animation.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个工具和稍微的努力，您可以创造出令人印象深刻，或者至少是有趣的动画。
- en: Basically, we’ll warp an existing image and then automatically generate the
    intermediate layers of the animation. To do this, we need to introduce an additional
    capability of a tool used previously to distort still images.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，我们将扭曲一张现有的图片，然后自动生成动画的中间层。为此，我们需要引入之前用来扭曲静态图像的工具的额外功能。
- en: We start with a picture of a rather serious girl, the first one in [Figure 5-1](ch05s01.html#four_source_portraits
    "Figure 5-1. The four source portraits"). Our animation will make her smile in
    a silly, exaggerated way. First, select the face with the Fuzzy Select tool.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从一张相当严肃的女孩的照片开始，见[图5-1](ch05s01.html#four_source_portraits "图5-1。四张源图像")中的第一张。我们的动画将让她以一种傻乎乎、夸张的方式微笑。首先，使用模糊选择工具选择面部。
- en: 'Select the IWarp tool: **Image: Filters > Distorts > IWarp**. The dialog shown
    in [Figure 6-32](ch06s03.html#iwarp_dialog-id00071 "Figure 6-32. The IWarp dialog")
    pops up. Select the MOVE Deform Mode, and choose a small DEFORM RADIUS, such as
    10 pixels. With the mouse pointer, or a tablet stylus if you have one, click and
    drag both sides of the mouth up and out with small, careful strokes. Increase
    the deform radius and move the lower lip down slightly and the upper lip up slightly.
    You can also move the lower eyelids down a little and pull the corners of the
    eyes out just a tiny bit. This tool has no real undo capability, but if you make
    a mistake, you can use the REMOVE Deform Mode to correct what you just did.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 选择IWarp工具：**图像：滤镜 > 扭曲 > IWarp**。如[图6-32](ch06s03.html#iwarp_dialog-id00071
    "图6-32。IWarp对话框")所示，弹出对话框。选择移动变形模式，并选择一个小的变形半径，例如10像素。使用鼠标指针，或者如果有的话，使用手写板笔，轻轻地向上和向外拖动嘴巴两侧。增大变形半径，然后稍微向下移动下唇，稍微向上移动上唇。您还可以稍微向下移动下眼睑，并轻轻拉伸眼角。这款工具没有真正的撤销功能，但如果您犯了错误，可以使用移除变形模式来纠正您刚刚做的修改。
- en: We could use this tool to change the still image. If we click the ANIMATE tab,
    however, we can automatically generate an animation. Set the NUMBER OF FRAMES
    to 20 and check the PING PONG box. The additional layers of the animation are
    built by GIMP after you click OK.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用此工具来更改静态图像。不过，如果我们点击ANIMATE标签，我们可以自动生成动画。将帧数设置为20，并勾选PING PONG框。动画的额外层将在您点击OK后由GIMP生成。
- en: As with the preceding animations, adjust the timing of layers, optimize the
    image for GIF, and then export the image as a GIF.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前的动画一样，调整图层的时序，优化图像以适应GIF格式，然后将图像导出为GIF。
- en: Animating a Still Image
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为静态图像添加动画
- en: 'Earlier in this chapter, we used the Filter all Layers tool to make an animation
    from a multilayer image (see [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers")). Filter all Layers can also be used to apply
    systematic changes to all the frames of an existing animation. The tool works
    by applying a filter to all the layers. You can set the initial and final values
    of the filter parameters, and if those values are different, the tool filters
    each layer by varying the parameters progressively from the beginning value to
    the final one.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章前面，我们使用了“过滤所有图层”工具从一个多图层图像制作动画（见[方法二：过滤所有图层](ch06s01.html#method_two_filtering_all_layers
    "方法二：过滤所有图层")）。过滤所有图层也可以用于对现有动画的所有帧应用系统性的更改。该工具通过对所有图层应用过滤器来工作。您可以设置过滤器参数的初始值和最终值，如果这两个值不同，工具会通过逐步变化参数从起始值过渡到最终值，从而过滤每一层。
- en: Most of the filters available in GIMP can be applied progressively to the layers
    of an image. You can even use the Filter all Layers tool with several different
    filters, one after the other.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP中大多数可用的滤镜可以逐步应用到图像的各个图层上。你甚至可以连续使用多个不同的滤镜，依次应用“滤镜所有图层”工具。
- en: 'To demonstrate, we’ll animate the image of Olivier’s Siamese cat shown in [Figure 6-33](ch06s03.html#initial_image-id00072
    "Figure 6-33. The initial image"). Because her name is Aria, change the first
    layer name to `Aria #1`. Duplicate the layer 39 times, and the successive layers
    are automatically named and numbered from 1 to 40.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '为了演示，我们将对[图 6-33](ch06s03.html#initial_image-id00072 "图 6-33. 初始图像")中显示的Olivier的暹罗猫图像进行动画处理。因为她的名字是Aria，所以将第一个图层的名称更改为`Aria
    #1`。将图层复制39次，后续的图层会自动命名并编号，从1到40。'
- en: '![The IWarp dialog](httpatomoreillycomsourcenostarchimages1454886.png.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![IWarp对话框](httpatomoreillycomsourcenostarchimages1454886.png.jpg)'
- en: Figure 6-32. The IWarp dialog
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-32. IWarp对话框
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454888.png.jpg)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![初始图像](httpatomoreillycomsourcenostarchimages1454888.png.jpg)'
- en: Figure 6-33. The initial image
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-33. 初始图像
- en: To choose among the mapping filters in the Filter all Layers tool, type the
    word `map` in the Search box and click SEARCH BY NAME. Choose the `plug-in-map-object`
    filter, and click APPLY.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 要在“滤镜所有图层”工具中选择映射滤镜，请在搜索框中输入`map`，然后点击“按名称搜索”。选择`plug-in-map-object`滤镜，然后点击“应用”。
- en: Map the image on a plane and then change the Y value on the `Orientation` tab.
    We want the image to rotate on a vertical axis and make a full 360-degree rotation,
    so we change the value of Y to –180, as shown in [Figure 6-34](ch06s03.html#parameters_for_the_first_filter
    "Figure 6-34. Parameters for the first filter") (taken after we clicked PREVIEW!).
    Click OK, and after the first layer is transformed, a small dialog appears.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 将图像映射到平面上，然后在`Orientation`选项卡中修改Y值。我们希望图像围绕垂直轴旋转并完成360度的旋转，因此将Y值更改为–180，如[图
    6-34](ch06s03.html#parameters_for_the_first_filter "图 6-34. 第一个滤镜的参数")所示（此时是点击了“预览”后拍摄的！）。点击“确定”，第一次图层转换后，会弹出一个小对话框。
- en: Click CONTINUE. As shown in [Figure 6-35](ch06s03.html#parameters_for_the_second_filter
    "Figure 6-35. Parameters for the second filter"), change the Y rotation to +180\.
    Click OK, type some filename in the continuation dialog, and click CONTINUE. The
    process takes a long time to run because of the number of layers. In the resulting
    animation, Aria rotates around the vertical axis, as shown in [Figure 6-36](ch06s03.html#first_animation
    "Figure 6-36. The first animation").
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“继续”。如[图 6-35](ch06s03.html#parameters_for_the_second_filter "图 6-35. 第二个滤镜的参数")所示，将Y旋转更改为+180°。点击“确定”，在继续对话框中输入文件名，然后点击“继续”。由于图层数量较多，整个过程需要较长时间才能完成。在生成的动画中，Aria围绕垂直轴旋转，如[图
    6-36](ch06s03.html#first_animation "图 6-36. 第一个动画")所示。
- en: '![Parameters for the first filter](httpatomoreillycomsourcenostarchimages1454890.png.jpg)'
  id: totrans-192
  prefs: []
  type: TYPE_IMG
  zh: '![第一个滤镜的参数](httpatomoreillycomsourcenostarchimages1454890.png.jpg)'
- en: Figure 6-34. Parameters for the first filter
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-34. 第一个滤镜的参数
- en: Now we want to apply a second filter to all of the layers. We apply the filter
    PLUG-INAPPLYLENS, using the same parameters for every layer. Apply the filter
    via Filter all Layers and click the APPLY button to get [Figure 6-37](ch06s03.html#parameters_for_the_second_global_filter
    "Figure 6-37. Parameters for the second global filter"). Leave the parameters
    as they are and click OK. The same dialogs as shown previously appear, but this
    time leave the parameters unchanged. The result appears in [Figure 6-38](ch06s03.html#final_animation
    "Figure 6-38. The final animation").
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们想对所有图层应用第二个滤镜。我们使用相同的参数对每个图层应用滤镜PLUG-INAPPLYLENS。通过“滤镜所有图层”应用滤镜，并点击“应用”按钮，得到[图
    6-37](ch06s03.html#parameters_for_the_second_global_filter "图 6-37. 第二个全局滤镜的参数")。保持参数不变，点击“确定”。与之前显示的对话框相同，这次保持参数不变。结果显示在[图
    6-38](ch06s03.html#final_animation "图 6-38. 最终动画")中。
- en: '![Parameters for the second filter](httpatomoreillycomsourcenostarchimages1454892.png.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![第二个滤镜的参数](httpatomoreillycomsourcenostarchimages1454892.png.jpg)'
- en: Figure 6-35. Parameters for the second filter
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-35. 第二个滤镜的参数
- en: '![The first animation](httpatomoreillycomsourcenostarchimages1454894.png.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![第一个动画](httpatomoreillycomsourcenostarchimages1454894.png.jpg)'
- en: Figure 6-36. The first animation
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-36. 第一个动画
- en: 'You can use the Filter all Layers tool with more than a hundred filters. But
    the tool does have some limitations:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用“滤镜所有图层”工具搭配超过一百个滤镜。但该工具也有一些限制：
- en: Although the tool interface lists all the filters, from time to time, we encounter
    a filter that does not work correctly. A filter isn’t working if you don’t see
    the successive dialogs that usually appear. This discrepancy happens because each
    filter must be adapted by the programmer to work with Filter all Layers, and sometimes
    filters are released without the necessary adaptation. If you run into this problem,
    all you can do is be patient and hope for an update. In the meantime, you can
    probably find another, similar filter that does work with the tool.
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管工具界面列出了所有滤镜，但我们偶尔会遇到某些滤镜无法正常工作。如果滤镜不起作用，你不会看到通常会出现的连续对话框。这种差异发生的原因是每个滤镜必须由程序员进行调整，才能与“滤镜所有图层”配合使用，而有时滤镜会在没有必要调整的情况下发布。如果遇到这个问题，你只能耐心等待更新。与此同时，你可能能找到其他类似的滤镜，它能够与该工具正常配合使用。
- en: 'Although Filter all Layers can be used with a variety of filters, the tool
    itself is fairly straightforward and performs one basic function: It generates
    a smooth transition between the initial image and the filter-transformed image.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽管“滤镜所有图层”可以与多种滤镜一起使用，但该工具本身相当简单，只执行一个基本功能：它在初始图像和经过滤镜变换后的图像之间生成平滑过渡。
- en: '![Parameters for the second global filter](httpatomoreillycomsourcenostarchimages1454896.png.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![第二个全局滤镜的参数](httpatomoreillycomsourcenostarchimages1454896.png.jpg)'
- en: Figure 6-37. Parameters for the second global filter
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-37。第二个全局滤镜的参数
- en: '![The final animation](httpatomoreillycomsourcenostarchimages1454898.png.jpg)'
  id: totrans-204
  prefs: []
  type: TYPE_IMG
  zh: '![最终动画](httpatomoreillycomsourcenostarchimages1454898.png.jpg)'
- en: Figure 6-38. The final animation
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-38。最终动画
- en: Morphing
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 变形
- en: 'The next tool is simple to use, but it produces a very interesting effect if
    the parameters are set correctly. The main function of the Morphing tool, found
    in the **Image: Video > Morph > Morph** menu, is to progressively transform a
    given image into another one. Generally, this works best if the images have something
    in common. Note that this tool is also a part of GAP, so you need to install this
    set of plug-ins to use it.'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个工具使用起来很简单，但如果参数设置正确，会产生非常有趣的效果。Morphing 工具位于 **图像：视频 > 变形 > 变形** 菜单中，主要功能是将给定图像逐渐转换为另一幅图像。通常，当两幅图像有相似之处时，这个效果最佳。请注意，这个工具也是
    GAP 的一部分，因此你需要安装这套插件才能使用它。
- en: To demonstrate this tool, we’ll morph one portrait into another. The two portraits
    were taken on the same day and under the same conditions. As [Figure 6-39](ch06s03.html#first_portrait
    "Figure 6-39. The first portrait") and [Figure 6-40](ch06s03.html#second_portrait
    "Figure 6-40. The second portrait") show, these girls are of the same age, both
    are blond with blue eyes, both are wearing black clothes, and both were photographed
    in front of the same background. But their faces, hair and clothing styles, and
    head tilts are different.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示这个工具，我们将把一张肖像变形为另一张肖像。这两张肖像是在同一天、相同条件下拍摄的。如 [图6-39](ch06s03.html#first_portrait
    "图6-39。第一张肖像") 和 [图6-40](ch06s03.html#second_portrait "图6-40。第二张肖像") 所示，这两位女孩的年龄相同，都是金发碧眼，穿着黑色衣服，拍摄时背景也相同。但她们的面部、发型、穿着风格以及头部倾斜角度都不同。
- en: '![The first portrait](httpatomoreillycomsourcenostarchimages1454900.png.jpg)'
  id: totrans-209
  prefs: []
  type: TYPE_IMG
  zh: '![第一张肖像](httpatomoreillycomsourcenostarchimages1454900.png.jpg)'
- en: Figure 6-39. The first portrait
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-39。第一张肖像
- en: '![The second portrait](httpatomoreillycomsourcenostarchimages1454902.png.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![第二张肖像](httpatomoreillycomsourcenostarchimages1454902.png.jpg)'
- en: Figure 6-40. The second portrait
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-40。第二张肖像
- en: Open both images as layers in a new image, for example, by dragging the thumbnail
    of one portrait to the Toolbox to create a new image and then dragging the thumbnail
    of the second portrait into the new image you just created. Make the top layer
    semitransparent by adjusting the opacity and then move it slightly to align the
    shoulders and faces of the two girls. Crop the layers so they’re the same size.
    [Figure 6-41](ch06s03.html#portraits_as_layers "Figure 6-41. The portraits as
    layers") shows the result, with the top layer still semitransparent.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 将两幅图像作为图层打开到一个新图像中，例如，通过将其中一张肖像的缩略图拖到工具箱中创建一个新图像，然后将第二张肖像的缩略图拖入刚创建的新图像中。通过调整不透明度将顶部图层设为半透明，然后稍微移动它，确保两位女孩的肩膀和面部对齐。裁剪图层，使它们的大小相同。[图6-41](ch06s03.html#portraits_as_layers
    "图6-41。肖像作为图层") 显示了结果，顶部图层仍然是半透明的。
- en: '![The portraits as layers](httpatomoreillycomsourcenostarchimages1454904.png.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![肖像作为图层](httpatomoreillycomsourcenostarchimages1454904.png.jpg)'
- en: Figure 6-41. The portraits as layers
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-41。肖像作为图层
- en: 'Before you use the Morphing tool, both layers *must* have an alpha channel:
    **Layers: right-click > Add Alpha Channel**. After you add an Alpha channel, the
    layer name is no longer in boldface in the Layers dialog.'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用形变工具之前，两个图层*必须*具有Alpha通道：**图层：右键点击 > 添加Alpha通道**。添加Alpha通道后，图层名称在图层对话框中不再是粗体显示。
- en: Now select the Morphing tool. Its large dialog has many components, but you
    need to use only a few of them. The purpose of the Morphing tool is to progressively
    transform the source image (which appears on the left side of the dialog) to the
    destination image (which appears on the right side of the dialog). Here the lower
    layer serves as the source, but you may change that if you prefer. Choose images
    of a moderate size, so they appear in the preview windows in a correct scale.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 现在选择形变工具。它的对话框很大，包含许多组件，但你只需要使用其中的几个。形变工具的目的是逐步将源图像（显示在对话框的左侧）转换为目标图像（显示在对话框的右侧）。这里，较低层作为源图像，但如果你愿意，可以更改此设置。选择适当大小的图像，以便它们在预览窗口中按正确的比例显示。
- en: The morphing process uses points placed on the source image and corresponding
    points placed on the destination image. The source image is transformed by the
    animation to move each point, as well as its neighboring pixels, to the position
    of the corresponding point.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 形变过程使用放置在源图像上的点和放置在目标图像上的相应点。通过动画，源图像中的每个点及其相邻像素被移动到相应点的位置。
- en: First, place *shapepoints* around the border of both images to prevent weird
    deformations of the image frame. Leave the default number, 64, un changed, and
    click the SHAPE button. Now the outlines of the images correspond.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，在两张图像的边界周围放置*形状点*，以防止图像框架出现奇怪的变形。保持默认的数量64不变，然后点击“形状”按钮。现在，图像的轮廓已对应。
- en: Next we add shapepoints to the source image and move the corresponding points
    on the destination image. Click some characteristic feature in the first image.
    A yellow point appears, and a corresponding yellow point appears on the destination
    image. We add points on the tip of the nose, at the corners of the eyes, around
    the mouth, along the chin and hair, and so on. You can experiment with the Edit
    modes while adding shapepoints. For example, you can move existing shapepoints
    or delete them or zoom in or out to place difficult shapepoints.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将形状点添加到源图像上，并移动目标图像上的相应点。点击第一张图像中的某个特征，出现一个黄色点，目标图像上也会出现一个相应的黄色点。我们在鼻尖、眼角、嘴巴周围、下巴和头发等位置添加点。你可以在添加形状点时尝试不同的编辑模式。例如，你可以移动现有的形状点，删除它们，或者放大或缩小以放置难以放置的形状点。
- en: After adding the shapepoints, the only parameter we change from its default
    value is the number of steps. This value is the number of layers that will be
    built as intermediate layers between the source and the destination. We recommend
    at least 20 steps—or more if the two images being morphed are very different.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 添加形状点后，我们唯一更改的参数是步骤数。这个值表示将在源图像和目标图像之间构建的中间图层数量。我们建议至少设置20步——如果两个图像差异很大，可以增加步骤数。
- en: 'Finally, click OK. The large dialog disappears, and GIMP begins to create the
    new layers. This process may take a while, depending on the size of the images
    and on the number of steps. When GIMP is done, the image is ready to be tested
    with **Image: Filters > Animation > Playback**. We recommend you increase the
    duration of the first and last frames.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，点击确定。大对话框消失，GIMP开始创建新的图层。根据图像的大小和步骤数，这个过程可能需要一些时间。当GIMP完成时，图像已经准备好进行测试，方法是使用**图像：滤镜
    > 动画 > 播放**。我们建议你增加第一帧和最后一帧的持续时间。
- en: The best results are obtained when the images are fairly similar and the shapepoints
    have been carefully placed. [Figure 6-42](ch06s04.html#frame_7_of_the_animation
    "Figure 6-42. Frame 7 of the animation") and [Figure 6-43](ch06s04.html#frame_14_of_the_animation
    "Figure 6-43. Frame 14 of the animation") show frames 7 and 14 of our 22-frame
    animation, respectively. Because the hair and clothing styles were different,
    the morphing is unnatural for these features, but the faces morphed smoothly.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 最好的效果是图像相似度较高且形状点已仔细放置时获得的。[图6-42](ch06s04.html#frame_7_of_the_animation "图6-42.
    动画的第7帧")和[图6-43](ch06s04.html#frame_14_of_the_animation "图6-43. 动画的第14帧")分别展示了我们22帧动画中的第7帧和第14帧。由于头发和服装风格不同，这些特征的形变看起来不自然，但面部形变平滑。
- en: To finish the animation, optimize for GIF, and then export the image as an animated
    GIF.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成动画，请优化为GIF格式，然后将图像导出为动画GIF。
- en: 6.4 Using GAP
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6.4 使用GAP
- en: 'The two simple GAP examples demonstrated on [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers") and [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path") are only a brief introduction to this complex
    and powerful plug-in. In fact, GAP isn’t a plug-in at all, but rather a diverse
    collection of animation-related plug-ins. Most, but not all, are found in the
    **Image: Video** menu.'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 在[方法二：过滤所有图层](ch06s01.html#method_two_filtering_all_layers "方法二：过滤所有图层")和[方法三：沿路径移动](ch06s01.html#method_three_moving_along_a_path
    "方法三：沿路径移动")中演示的两个简单的GAP示例只是对这个复杂且强大的插件的简要介绍。实际上，GAP根本不是一个插件，而是一个包含多种动画相关插件的集合。大多数插件（但不是全部）可以在**图像：视频**菜单中找到。
- en: '![Frame 7 of the animation](httpatomoreillycomsourcenostarchimages1454906.png.jpg)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![动画的第7帧](httpatomoreillycomsourcenostarchimages1454906.png.jpg)'
- en: Figure 6-42. Frame 7 of the animation
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-42. 动画的第7帧
- en: '![Frame 14 of the animation](httpatomoreillycomsourcenostarchimages1454908.png.jpg)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![动画的第14帧](httpatomoreillycomsourcenostarchimages1454908.png.jpg)'
- en: Figure 6-43. Frame 14 of the animation
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-43. 动画的第14帧
- en: 'In this section, we consider only the plug-ins that are found on this menu.
    All of these plug-ins (except the ones in the Morph submenu) deal with multi-image
    animations rather than multilayer animations, which we’ve created in all but one
    of the preceding examples (see [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path")).'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们只考虑菜单中找到的插件。这些插件（除了形态子菜单中的插件）都处理多图像动画，而不是我们在之前的所有示例中创建的多层动画（请参见[方法三：沿路径移动](ch06s01.html#method_three_moving_along_a_path
    "方法三：沿路径移动")）。
- en: The multi-image format is ideal for building and manipulating large and complex
    animations. It allows you to convert to and from popular video formats like MPEG.
    When necessary, GAP also converts between multi-image and multilayer animation
    formats. All these benefits take this set of plug-ins a long way toward being
    a complete video manipulation tool embedded within GIMP.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 多图像格式非常适合构建和操作大型复杂动画。它允许您转换为和从流行的视频格式（如MPEG）进行转换。必要时，GAP还可以在多图像和多层动画格式之间进行转换。所有这些优点使得这一套插件在很大程度上成为了一个完整的视频处理工具，嵌入在GIMP中。
- en: The Move Path Tool
  id: totrans-233
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 移动路径工具
- en: 'The Move Path tool (**Image: Video > Move Path**) is the main interface for
    GAP. As you learned in [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), you first need to follow these steps:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: “移动路径”工具（**图像：视频 > 移动路径**）是GAP的主要界面。如您在[方法三：沿路径移动](ch06s01.html#method_three_moving_along_a_path
    "方法三：沿路径移动")中所学，您首先需要按照以下步骤操作：
- en: Open at least one multilayered or multi-image animation in GIMP. This image
    will serve as the source of the layers you’ll add to your animation; you may choose
    to open several images.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在GIMP中至少打开一个多层或多图像的动画。该图像将作为您添加到动画中的图层源；您可以选择打开多个图像。
- en: Create a new folder to contain the new animation.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新文件夹来存放新的动画。
- en: Place a background image for the new animation in this folder. Call it something
    like *name*`-00001.xcf`.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此文件夹中为新动画放置一个背景图像。可以将其命名为*name*`-00001.xcf`。
- en: 'Open this background image in GIMP, and duplicate it using **Image: Video >
    Duplicate Frames**. The number of copies should equal the desired number of frames.'
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在GIMP中打开这个背景图像，并使用**图像：视频 > 复制帧**进行复制。复制的数量应等于所需的帧数。
- en: Once you have the source and background files open, select the Move Path tool
    from the animation’s source image.
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开源文件和背景文件后，从动画的源图像中选择“移动路径”工具。
- en: If you haven’t set up the environment properly before opening the Move Path
    tool, the tool complains and refuses to work. Note that you can use an existing
    multi-image animation as the background, rather than creating one as we’ve done.
    In this case, simply open the source animation (Step 1 ) and then open the background
    animation, and you’re ready to open the Move Path tool.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在打开“移动路径”工具之前没有正确设置环境，工具会报错并拒绝工作。请注意，您可以使用现有的多图像动画作为背景，而不是像我们一样创建一个。在这种情况下，只需打开源动画（步骤1），然后打开背景动画，之后就可以打开“移动路径”工具了。
- en: 'The Move Path tool adds layers from the source image to a sequence of frames
    in the target animation. You define how layers are added to the frames by modifying
    several parameters. Basically, you define *positions* (i.e., relative locations)
    in the target animation; for each position, define these values for the following
    parameters:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: “移动路径”工具将源图像中的图层添加到目标动画的一系列帧中。通过修改多个参数，你可以定义图层如何添加到帧中。基本上，你需要在目标动画中定义*位置*（即相对位置）；对于每个位置，定义以下参数的值：
- en: '![The initial landscape](httpatomoreillycomsourcenostarchimages1454910.png.jpg)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![初始景观](httpatomoreillycomsourcenostarchimages1454910.png.jpg)'
- en: Figure 6-44. The initial landscape
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-44. 初始景观
- en: Position
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位置
- en: Orientation
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 方向
- en: Scale in X and Y
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: X 和 Y 轴缩放
- en: Opacity
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不透明度
- en: Perspective
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 透视
- en: If the source image has an active selection, however, you can choose to add
    just the selection to the new animation.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果源图像有一个活动选择区域，你也可以选择只将选择区域添加到新动画中。
- en: You can use the Move Path tool to build an animation with several scenes by
    building a complex path for the layers in the successive frames and applying changes
    to only a subset of the frames that correspond to a specific scene.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用“移动路径”工具通过为连续帧中的图层构建复杂的路径来制作多个场景的动画，并仅对与特定场景对应的帧进行更改。
- en: Finally, and this point is important, to add several layers to the target frames,
    apply the Move Path tool multiple times—once for each layer.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，这一点很重要，若要向目标帧添加多个图层，请多次使用“移动路径”工具——每个图层一次。
- en: We’ll walk you through two new examples to demonstrate some nifty things this
    tool can do.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过两个新的示例，演示这个工具可以实现的一些巧妙功能。
- en: Binocular Animation
  id: totrans-253
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 双筒望远镜动画
- en: First, we make an animation that simulates somebody looking at a scene through
    binoculars and moving the binoculars in search of a target. The scene is a village
    surrounded by mountains, as shown in [Figure 6-44](ch06s04.html#initial_landscape
    "Figure 6-44. The initial landscape").
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们制作一个模拟某人通过双筒望远镜观察场景并移动望远镜寻找目标的动画。场景是一个被山脉环绕的村庄，如[图6-44](ch06s04.html#initial_landscape
    "图6-44. 初始景观")所示。
- en: 'We add the binoculars as a new layer that’s completely black except for two
    overlapping circles that are transparent. Here are the steps to create the binoculars:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了双筒望远镜作为一个新图层，除了两个重叠的透明圆圈外，整个图层是完全黑色的。以下是创建双筒望远镜的步骤：
- en: '![Adding the binoculars](httpatomoreillycomsourcenostarchimages1454912.png.jpg)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![添加双筒望远镜](httpatomoreillycomsourcenostarchimages1454912.png.jpg)'
- en: Figure 6-45. Adding the binoculars
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-45. 添加双筒望远镜
- en: '![Moving the binoculars](httpatomoreillycomsourcenostarchimages1454914.png.jpg)'
  id: totrans-258
  prefs: []
  type: TYPE_IMG
  zh: '![移动双筒望远镜](httpatomoreillycomsourcenostarchimages1454914.png.jpg)'
- en: Figure 6-46. Moving the binoculars
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-46. 移动双筒望远镜
- en: Create a new transparent layer.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的透明图层。
- en: Build a circular selection.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一个圆形选择区域。
- en: 'Save it to a channel (**Image: Select > Save to Channel**) and then select
    the layer again.'
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其保存为通道（**图像：选择 > 保存到通道**），然后再次选择该图层。
- en: Move the selection a horizontal distance equal to about two-thirds its diameter.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将选择区域水平移动一个大约是其直径三分之二的距离。
- en: In the Channels dialog, add the saved channel to the current selection.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在通道对话框中，将保存的通道添加到当前选择中。
- en: Save the new binocular selection as a channel.
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将新的双筒望远镜选择保存为通道。
- en: Select the top layer on the Layers tab, invert the selection, and fill it with
    black.
  id: totrans-266
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择图层选项卡上的顶层，反转选择，并填充为黑色。
- en: The result should look like [Figure 6-45](ch06s04.html#adding_the_binoculars
    "Figure 6-45. Adding the binoculars").
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 结果应该类似于[图6-45](ch06s04.html#adding_the_binoculars "图6-45. 添加双筒望远镜")。
- en: In our animation, we move the binoculars around the landscape. But both layers
    are currently the same size, so as the binoculars move, the black won’t fully
    cover the background, resulting in something like [Figure 6-46](ch06s04.html#moving_the_binoculars
    "Figure 6-46. Moving the binoculars"). To avoid this, we need to enlarge the top
    layer to cover the landscape.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的动画中，我们让双筒望远镜在景观中移动。但目前两个图层的大小相同，所以当望远镜移动时，黑色区域不会完全覆盖背景，造成类似于[图6-46](ch06s04.html#moving_the_binoculars
    "图6-46. 移动双筒望远镜")的效果。为了避免这种情况，我们需要放大顶层以覆盖整个景观。
- en: '![Enlarging the upper layer](httpatomoreillycomsourcenostarchimages1454916.png.jpg)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![放大上层](httpatomoreillycomsourcenostarchimages1454916.png.jpg)'
- en: Figure 6-47. Enlarging the upper layer
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 图6-47. 放大上层
- en: 'Select **Image: Layer > Layer Boundary Size**, increase the size in both directions,
    and center the canvas around the enlarged layer, as shown in [Figure 6-47](ch06s04.html#enlarging_the_upper_layer
    "Figure 6-47. Enlarging the upper layer"). Then make this entire layer black,
    except for the binocular window. Because this layer is now larger than the canvas,
    this step is somewhat tricky. Here’s one way to do it:'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '选择**图像: 图层 > 图层边界大小**，在两个方向上增大大小，并将画布居中于放大的图层，如[图 6-47](ch06s04.html#enlarging_the_upper_layer
    "图 6-47. 放大上层")所示。然后将整个图层变为黑色，除了双筒望远镜窗口之外。由于该图层现在比画布大，因此这个步骤有点棘手。这里有一种方法：'
- en: Save the binocular selection in a channel, if you haven’t already, and then
    return to the layer and cancel the selection.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果还没有，将双筒望远镜的选择保存到通道中，然后返回到图层并取消选择。
- en: 'Select **Image: Image > Fit Canvas to Layers**.'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '选择**图像: 图像 > 适应画布到图层**。'
- en: Fill the layer with the foreground color (![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)).
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用前景色填充图层 (![](httpatomoreillycomsourcenostarchimages1454534.png.jpg))。
- en: Restore the selection saved in a channel, return to the layer, and clear the
    selection contents (![](httpatomoreillycomsourcenostarchimages1454482.png.jpg)).
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 恢复保存在通道中的选择，返回到图层，并清除选择内容 (![](httpatomoreillycomsourcenostarchimages1454482.png.jpg))。
- en: Cancel the selection.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取消选择。
- en: Because we enlarged the image, we need to crop it at the end of the process.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 因为我们放大了图像，所以在处理结束时需要裁剪它。
- en: Now create a new folder for the animation; call it `Binoculars`. Drag the background
    layer thumbnail from the Layers dialog to the Toolbox, and save the image as `bin-0001.xcf`
    in the new folder `Binoculars`.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 现在为动画创建一个新文件夹，命名为`Binoculars`。将图层对话框中的背景图层缩略图拖到工具箱中，并将图像保存为`bin-0001.xcf`，保存在新建的`Binoculars`文件夹中。
- en: 'Duplicate this frame 59 times, using **Image: Video > Duplicate Frames**. The
    animation now has 60 frames. We use a path to move the binoculars around the landscape.
    Choose the Path tool in the Toolbox (![](httpatomoreillycomsourcenostarchimages1454490.png.jpg))
    and click to add points to the background image you just saved, as shown in [Figure 6-48](ch06s04.html#binocular_path_across_the_landscape
    "Figure 6-48. The binocular path across the landscape").'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: '使用**图像: 视频 > 复制帧**，将该帧复制 59 次。动画现在有 60 帧。我们使用路径将双筒望远镜在景观中移动。在工具箱中选择路径工具 (![](httpatomoreillycomsourcenostarchimages1454490.png.jpg))，然后点击添加点到你刚刚保存的背景图像中，如[图
    6-48](ch06s04.html#binocular_path_across_the_landscape "图 6-48. 穿越景观的双筒望远镜路径")所示。'
- en: '![The binocular path across the landscape](httpatomoreillycomsourcenostarchimages1454918.png.jpg)'
  id: totrans-280
  prefs: []
  type: TYPE_IMG
  zh: '![穿越景观的双筒望远镜路径](httpatomoreillycomsourcenostarchimages1454918.png.jpg)'
- en: Figure 6-48. The binocular path across the landscape
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-48. 穿越景观的双筒望远镜路径
- en: '![Importing the path as a sequence of controlpoints](httpatomoreillycomsourcenostarchimages1454920.png.jpg)'
  id: totrans-282
  prefs: []
  type: TYPE_IMG
  zh: '![将路径作为控制点序列导入](httpatomoreillycomsourcenostarchimages1454920.png.jpg)'
- en: Figure 6-49. Importing the path as a sequence of controlpoints
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-49. 将路径作为控制点序列导入
- en: 'Select the Move Path tool (**Image: Video > Move Path. . .** ). In the dialog,
    check that the selected layer is the top layer of the source image, which appears
    mostly black in the thumbnail. Choose None for the STEPMODE and Center for the
    HANDLE.'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '选择移动路径工具 (**图像: 视频 > 移动路径. . .** )。在对话框中，检查所选图层是源图像的顶部图层，缩略图中大部分为黑色。对于STEPMODE选择“无”（None），对于HANDLE选择“居中”（Center）。'
- en: Click the GRAB PATH button in the EDIT CONTROLPOINTS area of the dialog to import
    the path we just built as a sequence of control-points, which are equally placed
    across the 60 frames. Then the dialog should look similar to [Figure 6-49](ch06s04.html#importing_the_path_as_a_sequence_of_cont
    "Figure 6-49. Importing the path as a sequence of controlpoints").
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 点击对话框中“编辑控制点”（EDIT CONTROLPOINTS）区域的“抓取路径”按钮，将我们刚刚构建的路径导入为控制点序列，这些控制点在 60 帧中均匀分布。然后，对话框应该类似于[图
    6-49](ch06s04.html#importing_the_path_as_a_sequence_of_cont "图 6-49. 将路径作为控制点序列导入")。
- en: The GAP plug-ins lack the capability to undo, so check the animation you just
    built by clicking ANIM PREVIEW. If everything is correct, click OK to generate
    the final animation. Discard the multilayer image that was created for the preview.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: GAP 插件没有撤销功能，因此请通过点击“动画预览”（ANIM PREVIEW）检查你刚刚构建的动画。如果一切正确，点击“确定”生成最终的动画。丢弃为预览创建的多图层图像。
- en: Improving the Binocular Animation
  id: totrans-287
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 改善双筒望远镜动画
- en: Although it did serve as a basic introduction to using paths with the Move Path
    tool, the animation we just created isn’t very realistic. If you are looking through
    binoculars, it’s the landscape that appears to be moving, not you.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这确实作为了一个使用“移动路径”工具的路径基础介绍，但我们刚刚创建的动画并不非常真实。如果你通过望远镜观看，移动的应该是横向图像，而不是你。
- en: 'If you closed it, open the binocular animation that you just made. Create a
    new folder for the next version of the animation and then create a new blank image
    that’s much smaller than the landscape in the source image. For this example,
    we create a 521 × 338 image, and our landscape image is 1042*×*676\. Save this
    image into the new folder with name `bin-0001.xcf`, and duplicate it 59 times
    with **Image: Video > Duplicate Frames**.'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你关闭了它，打开你刚刚制作的望远镜动画。为下一个版本的动画创建一个新文件夹，然后创建一个比源图像中的横向图像小得多的新空白图像。对于这个示例，我们创建了一个521
    × 338的图像，而我们的横向图像是1042×676。将此图像保存到新文件夹中，命名为`bin-0001.xcf`，并使用**图像：视频 > 重复帧**将其复制59次。
- en: 'Open the Move Path tool dialog (**Image: Video > Move Path**). Choose the landscape
    layer of the previous animation as the source layer (top left of the dialog),
    None for STEPMODE (below SOURCE IMAGE/LAYER), and Center for HANDLE (to the right
    of STEPMODE), and check INSTANT APPLY at the bottom of the dialog. This time,
    let’s build the path within the Move Path tool dialog by clicking in the preview
    to place points. Click ADD POINT and then click in the preview to add a new point.
    If you click close to an existing point in the preview, you end up moving that
    point rather than adding a new one, so click the last point and drag it to add
    a new one instead. Note that the source image moves around as you place the points.
    Our result is shown in [Figure 6-50](ch06s04.html#creating_the_path_by_hand "Figure 6-50. Creating
    the path by hand").'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 打开“移动路径”工具对话框（**图像：视频 > 移动路径**）。选择前一个动画的横向层作为源层（对话框的左上角），将 STEPMODE 设置为 None（在
    SOURCE IMAGE/LAYER 下方），将 HANDLE 设置为 Center（在 STEPMODE 右侧），并勾选对话框底部的 INSTANT APPLY。接下来，让我们通过点击预览区添加点来在“移动路径”工具对话框中构建路径。点击“添加点”，然后点击预览区以添加新点。如果你点击现有点附近，你会移动那个点，而不是添加新点，所以点击最后一个点并拖动它来添加新的点。注意，随着你放置点，源图像会发生移动。我们的结果显示在[图
    6-50](ch06s04.html#creating_the_path_by_hand "图 6-50. 手动创建路径")中。
- en: 'Before finalizing this animation, check the CLIP TO FRAME checkbox and then
    click OK. GIMP processes for a while as it builds the first part of the animation,
    with the landscape moving in the smaller image. You can test the result by selecting
    **Image: Video > Playback**.'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在最终确定此动画之前，勾选“CLIP TO FRAME”复选框，然后点击“确定”。GIMP 会处理一段时间，构建动画的第一部分，横向图像在较小的图像中移动。你可以通过选择**图像：视频
    > 播放回放**来测试结果。
- en: '![Creating the path by hand](httpatomoreillycomsourcenostarchimages1454922.png.jpg)'
  id: totrans-292
  prefs: []
  type: TYPE_IMG
  zh: '![手动创建路径](httpatomoreillycomsourcenostarchimages1454922.png.jpg)'
- en: Figure 6-50. Creating the path by hand
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-50. 手动创建路径
- en: '![Placing the second layer](httpatomoreillycomsourcenostarchimages1454924.png.jpg)'
  id: totrans-294
  prefs: []
  type: TYPE_IMG
  zh: '![放置第二层](httpatomoreillycomsourcenostarchimages1454924.png.jpg)'
- en: Figure 6-51. Placing the second layer
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-51. 放置第二层
- en: Now place the binoculars above these landscape frames. Use a layer mask. Add
    the mask as a new layer to all the frames with the Move Path tool again. [Figure 6-51](ch06s04.html#placing_the_second_layer
    "Figure 6-51. Placing the second layer") shows the settings we used. The binocular
    layer is chosen as source layer and placed in the center of the image.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 现在将望远镜放置在这些横向帧的上方。使用图层蒙版。使用“移动路径”工具再次将蒙版作为新图层添加到所有帧中。[图 6-51](ch06s04.html#placing_the_second_layer
    "图 6-51. 放置第二层")显示了我们使用的设置。选择望远镜层作为源层并将其放置在图像的中央。
- en: 'Simply click OK to get the new animation. Each frame contains three layers—from
    top to bottom: the binocular image, the landscape, and a white background. We
    want to merge the topmost layer with the background and use the resulting layer
    as a mask for the landscape layer. This reduces the number of layers and demonstrates
    the **Image: Video > Frames Modify** tool at the same time.'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 只需点击“确定”即可获得新动画。每一帧包含三个图层——从上到下分别是：望远镜图像、横向图像和白色背景。我们想要将最上层与背景合并，并使用合并后的图层作为横向图层的蒙版。这不仅减少了图层数量，同时也演示了**图像：视频
    > 帧修改**工具的使用。
- en: '![Lowering the topmost layer](httpatomoreillycomsourcenostarchimages1454926.png.jpg)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![降低最上层](httpatomoreillycomsourcenostarchimages1454926.png.jpg)'
- en: Figure 6-52. Lowering the topmost layer
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-52. 降低最上层
- en: '![Merging the two bottom layers](httpatomoreillycomsourcenostarchimages1454928.png.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
  zh: '![合并底部两个图层](httpatomoreillycomsourcenostarchimages1454928.png.jpg)'
- en: Figure 6-53. Merging the two bottom layers
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-53. 合并两个底部图层
- en: The Frames Modify tool is handy for modifying a set of layers across all the
    frames in a multi-image animation. The dialog appears in [Figure 6-52](ch06s04.html#lowering_the_topmost_layer
    "Figure 6-52. Lowering the topmost layer"), showing our first selections. Click
    the FUNCTION menu (at the top of the dialog) and select LAYER STACKPOSITION >LOWER
    LAYER(S). Leave PATTERN IS A LIST OF LAYER STACK NUMBERS checked, and enter 0
    for LAYER PATTERN. Click OK.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: “修改帧”工具非常方便，用于修改多图层动画中所有帧的图层。对话框如图 [Figure 6-52](ch06s04.html#lowering_the_topmost_layer
    "Figure 6-52. 降低最上层图层") 所示，显示了我们的第一次选择。点击对话框顶部的 FUNCTION 菜单，选择 LAYER STACKPOSITION
    >LOWER LAYER(S)。保持勾选“PATTERN IS A LIST OF LAYER STACK NUMBERS”，并为 LAYER PATTERN
    输入 0。点击 OK。
- en: '![Using the bottom layer as a layer mask](httpatomoreillycomsourcenostarchimages1454930.png.jpg)'
  id: totrans-303
  prefs: []
  type: TYPE_IMG
  zh: '![使用底部图层作为图层蒙版](httpatomoreillycomsourcenostarchimages1454930.png.jpg)'
- en: Figure 6-54. Using the bottom layer as a layer mask
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 图 6-54. 使用底部图层作为图层蒙版
- en: Next we merge the two bottom layers. Select the Modify Frames tool again, and
    this time choose the settings shown in [Figure 6-53](ch06s04.html#merging_the_two_bottom_layers
    "Figure 6-53. Merging the two bottom layers"). Because the layers are numbered
    from top to bottom beginning at 0, the layer pattern is “1 2.” The resulting composite
    layer is named `Background`.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们合并两个底部图层。再次选择“修改帧”工具，这次选择图 [Figure 6-53](ch06s04.html#merging_the_two_bottom_layers
    "Figure 6-53. 合并两个底部图层") 中显示的设置。因为图层是从上到下按 0 开始编号的，所以图层顺序是“1 2”。合成后的图层命名为 `Background`。
- en: The final step is shown in [Figure 6-54](ch06s04.html#using_the_bottom_layer_as_a_layer_mask
    "Figure 6-54. Using the bottom layer as a layer mask"). The bottom layer acts
    as a mask for the landscape layer.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步如图 [Figure 6-54](ch06s04.html#using_the_bottom_layer_as_a_layer_mask "Figure
    6-54. 使用底部图层作为图层蒙版") 所示。底部图层作为景观图层的蒙版。
- en: 6.5 Exercises
  id: totrans-307
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 6.5 练习
- en: '**Exercise 6.1.** You know those exasperating advertisements that flash tirelessly
    on some web pages? Build one in which the logo progressively fades in and out.
    Do it entirely by hand.'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.1.** 你知道那些在某些网页上不断闪现让人恼火的广告吗？制作一个广告，其中的标志会逐渐消失和出现。完全手动制作。'
- en: '**Exercise 6.2.** Make the same flashing logo as in the preceding exercise,
    but this time use the Filter all Layers tool.'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.2.** 制作与前一个练习相同的闪烁标志，但这次使用“过滤所有图层”工具。'
- en: '**Exercise 6.3.** If you have two multilayer animations with the same background,
    creating an animation that combines all these layers is easy. Use this idea to
    build an animation in which the logo first appears progressively from the background
    and then flashes in the foreground. You can do it by hand or by using the Filter
    all Layers tool.'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.3.** 如果你有两个具有相同背景的多层动画，创建一个合并这些图层的动画很简单。使用这个思路制作一个动画，其中标志首先逐渐从背景中显现出来，然后在前景中闪烁。你可以手动制作或使用“过滤所有图层”工具。'
- en: '**Exercise 6.4.** Use the IWarp tool to animate a photographic portrait. You
    can get an aesthetic result, but more likely you’ll get a funny result. So use
    the tool on the portrait of somebody you know extremely well, for example, yourself.'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.4.** 使用 IWarp 工具制作一个摄影肖像的动画。你可以获得一个美学效果，但更可能的是你会得到一个有趣的效果。所以，使用这个工具在你非常熟悉的某个人的肖像上制作，比如你自己。'
- en: '**Exercise 6.5.** Use the Morphing tool to build an animation in which a logo
    progressively changes to another one. Both logos should be the same size.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.5.** 使用 Morphing 工具制作一个动画，其中一个标志逐渐变换成另一个标志。两个标志应该是相同大小的。'
- en: '**Exercise 6.6.** Use the Move Path tool to build an animation in which a logo
    moves horizontally across the background.'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.6.** 使用移动路径工具制作一个动画，其中一个标志在背景上水平移动。'
- en: '**Exercise 6.7.** You can use the Move Path tool to add successive layers from
    a multilayer animation to an animation that you’re building, in effect merging
    the contents of two different animations using LOOP as a Stepmode. Use this idea
    to create a logo that moves horizontally while flashing.'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.7.** 你可以使用移动路径工具将多层动画中的连续图层添加到你正在制作的动画中，实际上是通过使用 LOOP 作为 Stepmode 来合并两个不同动画的内容。用这个思路创建一个标志，标志在水平方向移动，同时闪烁。'
- en: '**Exercise 6.8.** Re-create the animation from the third exercise in this chapter,
    [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), but this time use the tools found in the
    **Image: Video** menu. First, you must build the two multilayer animations, using
    the Filter all Layers tool, and then convert these animations from multilayer
    to multi-image. Edit them to produce the final animation.'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 6.8.** 重新创建本章第三个练习中的动画，[方法三：沿路径移动](ch06s01.html#method_three_moving_along_a_path
    "方法三：沿路径移动")，但这次使用在**图像：视频**菜单中找到的工具。首先，你必须使用“过滤所有图层”工具构建两个多层动画，然后将这些动画从多层转换为多图像。编辑它们以生成最终的动画。'
