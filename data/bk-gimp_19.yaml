- en: Chapter 12. Color
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第12章 颜色
- en: Representing and handling colors is one of the fundamental tasks of an image-manipulation
    program like GIMP. Thus, we cover the topic in several places in this book. In
    this chapter, we present the main concepts and tools. In [Appendix A](apa.html
    "Appendix A. Vision and Image Representation"), we discuss the foundations of
    color perception, so refer to that appendix if you need to refresh your knowledge.
    The theories of color and vision form the foundation of color handling in GIMP,
    and a thorough understanding of that appendix will help you to understand this
    chapter fully.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 表示和处理颜色是像GIMP这样的图像处理程序的基本任务之一。因此，我们在本书的多个章节中都涉及到这个话题。在这一章中，我们介绍了主要的概念和工具。在[附录A](apa.html
    "附录A. 视觉与图像表示")中，我们讨论了颜色感知的基础知识，如果需要复习相关知识，可以参考该附录。颜色和视觉的理论构成了GIMP中颜色处理的基础，全面理解该附录将帮助您完全理解本章内容。
- en: Additionally, [Chapter 19](ch19.html "Chapter 19. Obtaining and Printing Images")
    contains information about 16-bit color depth and handling photographs from a
    digital camera in raw format. [Chapter 20](ch20.html "Chapter 20. Image Formats")
    describes all the image formats handled by GIMP, focusing on the definition and
    use of color palettes. And in [Chapter 22](ch22.html "Chapter 22. Customizing
    GIMP"), we explain how to set the parameters of color management.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，[第19章](ch19.html "第19章. 获取与打印图像")包含有关16位色深和处理数码相机原始格式照片的信息。[第20章](ch20.html
    "第20章. 图像格式")描述了GIMP处理的所有图像格式，重点讲解了色板的定义和使用。而在[第22章](ch22.html "第22章. 自定义GIMP")中，我们解释了如何设置颜色管理的参数。
- en: 12.1 Concepts
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.1 概念
- en: The concept of color is a very complex one, and many books have been written
    on the subject. Great thinkers like Aristotle, Huygens, Newton, Goethe, and many
    others developed theories of color. These theories dealt with physiology, philosophy,
    psychology, and even physics and high-level mathematics. The modern technology
    of computers, display screens, and printers now relies on a well-established theory
    that you can read about in any text on color theory.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色的概念是非常复杂的，许多书籍已经对这一主题进行了详细探讨。像亚里士多德、惠更斯、牛顿、歌德等伟大的思想家们都曾提出过关于颜色的理论。这些理论涉及了生理学、哲学、心理学，甚至物理学和高级数学。现代计算机技术、显示屏和打印机现在依赖于一套成熟的理论，您可以在任何关于颜色理论的文本中阅读到这些内容。
- en: In this section, we begin by briefly reviewing color models, which are presented
    in more detail in [A.3 Color Representation](apas03.html "A.3 Color Representation").
    We’ll then consider the three internal representations that GIMP uses to store
    image information while you work. External formats used to store images on hard
    disks or on the Web are considered in [Chapter 20](ch20.html "Chapter 20. Image
    Formats").
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们首先简要回顾一下颜色模型，更多细节将在[A.3 颜色表示](apas03.html "A.3 颜色表示")中介绍。然后，我们将讨论GIMP在工作过程中用来存储图像信息的三种内部表示方式。用于存储图像的外部格式，通常存储在硬盘或网络上的格式，将在[第20章](ch20.html
    "第20章. 图像格式")中讨论。
- en: Color Models
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 颜色模型
- en: GIMP handles raster images, which are composed of *pixels*. A pixel is the smallest
    image component and represents a single color (and any associated transparency).
    Each color is made up of a unique mixture of components, which depend on the chosen
    color model. Several color models exist, and GIMP uses three of them. In all the
    models, a given color is represented as coordinates in some number of dimensions,
    generally three. The size of the coordinate range indicates the number of possible
    colors. Due to file size constraints, the coordinates are generally integers,
    at least when stored on external media. A floating number needs 32 or even 64
    bits, while all color representations on files use at most 8 bits per color.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP处理的是由*像素*组成的栅格图像。像素是最小的图像组成部分，表示单一颜色（及其相关的透明度）。每种颜色都是由独特的组成部分混合而成，这些组成部分取决于所选的颜色模型。存在多种颜色模型，GIMP使用其中的三种。在所有这些模型中，给定的颜色都通过某些维度的坐标表示，通常是三维坐标。坐标范围的大小表示可能的颜色数量。由于文件大小的限制，坐标通常是整数，至少在存储在外部介质上时是如此。浮动数字需要32位甚至64位，而所有图像文件中的颜色表示最多使用每个颜色8位。
- en: 'The RGB model is additive, meaning that a color with a value of zero in each
    of its components is black, and a color with a maximum value in each of its components
    is white. The three fundamental colors are red, green, and blue, and the combination
    of two fundamental colors is a complementary color: red + green = yellow, red
    + blue = magenta, and green + blue = cyan. This model can be depicted as a cube,
    the contents of which define the gamut (or range) of colors that can be represented
    (see [Figure A-37](apas03.html#rgb_cube "Figure A-37. The RGB cube")).'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: RGB模型是加法模型，意味着每个分量值为零的颜色是黑色，而每个分量值为最大值的颜色是白色。三种基础颜色是红色、绿色和蓝色，两个基础颜色的组合是互补色：红+绿=黄，红+蓝=品红，绿+蓝=青色。这个模型可以表现为一个立方体，其内容定义了可以表示的颜色的色域（或范围）（见[图A-37](apas03.html#rgb_cube
    "图A-37. RGB立方体")）。
- en: 'The CMY model is a subtractive model, so a pixel with a value of zero in each
    of its components is white, and a pixel with a maximum value in each of its components
    is black. The three fundamental colors are cyan, magenta, and yellow. They are
    combined to create the complementary colors of the CMY model, which are the fundamental
    colors of the RGB model: cyan + magenta = blue, cyan + yellow = green, and magenta
    + yellow = red. The CMY cube ([Figure A-40](apas03.html#cmy_cube "Figure A-40. The
    CMY cube")) is the opposite of the RGB cube but defines the same gamut.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: CMY模型是减法模型，因此每个分量值为零的像素是白色，而每个分量值为最大值的像素是黑色。三种基础颜色是青色、品红色和黄色。它们被组合起来生成CMY模型的互补色，这些互补色也是RGB模型的基础颜色：青+品红=蓝色，青+黄=绿色，品红+黄=红色。CMY立方体（见[图A-40](apas03.html#cmy_cube
    "图A-40. CMY立方体")）是RGB立方体的对立面，但定义了相同的色域。
- en: The HSV model is neither additive nor subtractive. The hue component represents
    an angle on a circle that goes from red to violet and purple, ending in red again.
    The saturation component is a percentage of color, from 0% for white (no color
    at all) to 100% for full saturation. The value component is also a percentage,
    from 0% for black (no light at all) to 100% for full intensity (maximum light).
    This model can be depicted as a cone or a cylinder.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: HSV模型既不是加法的，也不是减法的。色相（hue）分量表示的是一个圆圈上的角度，范围从红色到紫色，最后又回到红色。饱和度（saturation）分量是颜色的百分比，从0%（白色，完全没有颜色）到100%（完全饱和）。亮度（value）分量也是百分比，从0%（黑色，完全没有光）到100%（完全亮度，最大光亮度）。这个模型可以用一个圆锥或圆柱来表示。
- en: Display devices generate color by combining the light of different colors and
    usually use the RGB model. This model also corresponds to the main internal representation
    in the computer, as you’ll see later in this chapter. Printing devices, which
    generate color by superimposing inks, use the CMY model. To reduce the cost of
    ink, a fourth component, black, is often added, resulting in the CMYK model. With
    this model, black can be represented in many ways. For example, 100% C, M, and
    Y with 0% K and 100% K with 0% C, M, and Y would both result in a black color,
    but the former would look muddier and require more ink and a longer time to dry.
    The CMY and CMYK models, therefore, have the same gamut, and the appropriate choice
    depends on the printer. The HSV model was designed to be intuitive for humans.
    It provides a visual interface. Rather than inputting a color as a combination
    of three numeric coordinates, you can choose a hue (H) component and then set
    the saturation (S) and value (V) components.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 显示设备通过组合不同颜色的光来生成颜色，通常使用RGB模型。这个模型也对应计算机内部的主要表示方式，正如本章稍后所展示的。打印设备通过叠加墨水来生成颜色，使用的是CMY模型。为了降低墨水成本，通常会增加一个第四个分量——黑色，从而形成CMYK模型。在该模型中，黑色可以通过多种方式表示。例如，100%
    C、M和Y与0% K，或者100% K与0% C、M和Y都可以表示黑色，但前者看起来较浑浊，并且需要更多的墨水和更长的干燥时间。因此，CMY和CMYK模型的色域是相同的，选择哪种模型取决于打印机。HSV模型的设计旨在对人类直观易懂。它提供了一个视觉界面，用户可以选择色相（H）分量，然后设置饱和度（S）和亮度（V）分量，而不是输入由三个数值坐标组成的颜色。
- en: Stored Representations
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 存储表示
- en: In GIMP memory, a pixel is always represented in the RGB model. In GIMP 2.8,
    each RGB component is represented by 1 byte, which means that its range is [0
    to 255]. The number of different colors is thus 256³ = 16, 777, 216\. This seems
    like a lot of colors, but in some cases, it’s not enough, as you’ll see later.
    A pixel requires 3 bytes if there is no transparency. If there is an Alpha channel
    for transparency, this component is represented by one additional byte.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GIMP 的内存中，一个像素始终使用 RGB 模型表示。在 GIMP 2.8 中，每个 RGB 组件由 1 字节表示，这意味着其范围是 [0 到 255]。因此，不同颜色的数量是
    256³ = 16,777,216。这看起来颜色很多，但在某些情况下，这还不够，稍后你会看到。如果没有透明度，一个像素需要 3 字节。如果有用于透明度的 Alpha
    通道，那么该组件由额外的 1 字节表示。
- en: When an image is stored in the XCF format native to GIMP, just the three or
    four necessary bytes are stored. Storage and retrieval do not require any conversion,
    but an image file can still be quite large. A 10-megapixel image with an Alpha
    channel, for example, takes up 40MB.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 当图像以 GIMP 原生的 XCF 格式存储时，只会存储三个或四个必要的字节。存储和检索不需要任何转换，但图像文件仍然可能非常大。例如，一个带有 Alpha
    通道的 1000 万像素图像占用 40MB 的空间。
- en: 'The *mode* of an image, found in **Image: Image > Mode**, doesn’t determine
    how an image is represented in memory. Rather, it determines how the image is
    handled. *RGB mode* is the most powerful because it corresponds to the stored
    representation of the image and allows for storage of a large number of different
    colors.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '图像的*模式*，位于 **图像: 图像 > 模式**，并不决定图像在内存中的表示方式。相反，它决定了图像的处理方式。*RGB 模式*是最强大的，因为它对应于图像的存储表示，并允许存储大量不同的颜色。'
- en: For a grayscale image, RGB representation is overkill. In *Grayscale mode*,
    only one component per pixel (assuming no Alpha channel) is present; this component
    represents the intensity of light, from 0 for black to the maximum value for white.
    In GIMP 2.8, a grayscale pixel uses 1 byte, so the value range is [0 to 255].
    This range is not very large, and a very large grayscale gradient—for example,
    in the sky of a landscape photograph—can appear striped. A grayscale image is
    best stored in that mode in GIMP, but keep in mind, any operation dealing with
    color won’t work unless you change the image mode to RGB.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 对于灰度图像，RGB 表示过于复杂。在*灰度模式*下，每个像素只包含一个组件（假设没有 Alpha 通道）；这个组件表示光的强度，从 0 代表黑色，到最大值代表白色。在
    GIMP 2.8 中，一个灰度像素使用 1 字节，因此值的范围是 [0 到 255]。这个范围不算大，而且非常大的灰度渐变——例如，风景照片中的天空——可能会显得有条纹。灰度图像最好在
    GIMP 中以这种模式存储，但请记住，除非你将图像模式更改为 RGB，否则任何与颜色相关的操作都无法进行。
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1455440.png.jpg)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![初始图像](httpatomoreillycomsourcenostarchimages1455440.png.jpg)'
- en: Figure 12-1. The initial image
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-1. 初始图像
- en: 'The third and last internal mode is the *Indexed mode*. In this mode, a pixel
    is not represented by the direct value of its color components but by an index
    in a table of predefined colors, called a *colormap*. This table can be of any
    size up to 256 entries, so an image in Indexed mode contains at most 256 different
    colors. This has several advantages and disadvantages:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个也是最后一个内部模式是*索引模式*。在这种模式下，一个像素不是通过其颜色组件的直接值表示，而是通过一个预定义颜色表中的索引表示，该表称为*颜色映射表*。此表的大小可以达到
    256 个条目，因此索引模式中的图像最多包含 256 种不同的颜色。这有几个优点和缺点：
- en: A pixel takes up only 1 byte or less if the colormap is smaller than 256 entries.
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果颜色映射表的条目少于 256 个，则一个像素只占用 1 字节或更少。
- en: By simply changing entries in the colormap, full image transformations can be
    done easily and efficiently.
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 只需更改颜色映射表中的条目，就可以轻松高效地进行完整的图像转换。
- en: This mode is ideal if you’re creating a tapestry or a mosaic because such designs
    contain only a limited number of colors.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你正在创建挂毯或马赛克，这种模式是理想的，因为这种设计只包含有限数量的颜色。
- en: Many image manipulations are impossible to achieve because the necessary colors
    cannot be represented.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 许多图像操作无法实现，因为必要的颜色无法表示。
- en: The image quality that’s achievable in this mode is acceptable only in very
    specific or simple cases, for example, when the image is small or is a sketch.
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这种模式下可以达到的图像质量仅在非常特定或简单的情况下可接受，例如图像很小或是草图时。
- en: '![The Indexed Color Conversion dialog](httpatomoreillycomsourcenostarchimages1455442.png.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![索引颜色转换对话框](httpatomoreillycomsourcenostarchimages1455442.png.jpg)'
- en: Figure 12-2. The Indexed Color Conversion dialog
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-2. 索引颜色转换对话框
- en: '![Optimum palette with 256 colors](httpatomoreillycomsourcenostarchimages1455444.png.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![256色的最佳调色板](httpatomoreillycomsourcenostarchimages1455444.png.jpg)'
- en: Figure 12-3. Optimum palette with 256 colors
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-3. 256色的最佳调色板
- en: Now, let’s consider Indexed mode in more detail.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们更详细地考虑索引模式。
- en: Indexed Mode
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 索引模式
- en: '[Figure 12-1](ch12s01.html#initial_image-id00091 "Figure 12-1. The initial
    image") shows a part of an image in RGB mode, zoomed to show the individual pixels.
    To convert it to Indexed mode, select **Image: Image > Mode > Indexed**, which
    opens the dialog shown in [Figure 12-2](ch12s01.html#indexed_color_conversion_dialog
    "Figure 12-2. The Indexed Color Conversion dialog"). The following Colormap choices
    are available:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 12-1](ch12s01.html#initial_image-id00091 "图 12-1. 初始图像")展示了RGB模式下的图像部分，已放大显示单独的像素。要将其转换为索引模式，选择**图像：图像
    > 模式 > 索引**，这会打开[图 12-2](ch12s01.html#indexed_color_conversion_dialog "图 12-2.
    索引颜色转换对话框")中显示的对话框。以下是可用的调色板选择：'
- en: GENERATE OPTIMUM PALETTE allows you to choose the maximum number of colors,
    and GIMP then attempts to generate the best palette for the image. Even with the
    maximum of 256 colors, [Figure 12-3](ch12s01.html#optimum_palette_with_256_colors
    "Figure 12-3. Optimum palette with 256 colors") shows that the conversion results
    in a clear decrease in image quality.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成最佳调色板允许你选择最大颜色数，GIMP会尝试生成适合该图像的最佳调色板。即使是最多256种颜色，[图 12-3](ch12s01.html#optimum_palette_with_256_colors
    "图 12-3. 256色的最佳调色板")显示，转换后图像质量明显下降。
- en: USE WEB-OPTIMIZED PALETTE uses a specific palette that’s supposed to have a
    consistent appearance on different screens. Unfortunately, the appearance is consistently
    bad, and this mode is now considered obsolete.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Web优化调色板使用一种特定的调色板，旨在不同的屏幕上具有一致的显示效果。不幸的是，这种效果始终不理想，现在这种模式已经被认为过时。
- en: '![An image dithered to black and white](httpatomoreillycomsourcenostarchimages1455446.png.jpg)'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![抖动后的黑白图像](httpatomoreillycomsourcenostarchimages1455446.png.jpg)'
- en: Figure 12-4. An image dithered to black and white
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-4. 抖动后的黑白图像
- en: '![Using Floyd-Steinberg (normal) dithering](httpatomoreillycomsourcenostarchimages1455448.png.jpg)'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![使用Floyd-Steinberg（正常）抖动](httpatomoreillycomsourcenostarchimages1455448.png.jpg)'
- en: Figure 12-5. Using Floyd-Steinberg (normal) dithering
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-5. 使用Floyd-Steinberg（正常）抖动
- en: 'USE BLACK AND WHITE (1-BIT) PALETTE converts the image to black and white in
    the same way as the **Image: Colors > Threshold** tool, unless color dithering
    is used. With color dithering, a usable black and white copy of an image can be
    created, as shown in [Figure 12-4](ch12s01.html#image_dithered_to_black_and_white
    "Figure 12-4. An image dithered to black and white").'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用黑白（1位）调色板将图像转换为黑白，就像**图像：颜色 > 阈值**工具一样，除非使用颜色抖动。通过颜色抖动，可以创建一副可用的黑白图像，如[图 12-4](ch12s01.html#image_dithered_to_black_and_white
    "图 12-4. 抖动后的黑白图像")所示。
- en: USE CUSTOM PALETTE allows you to choose from the available palettes, which are
    usually not as good as the optimum palette that GIMP can generate.
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用自定义调色板允许你从可用的调色板中进行选择，通常这些调色板的效果不如GIMP生成的最佳调色板。
- en: The REMOVE UNUSED COLORS FROM COLORMAP checkbox is useful only when you select
    USE CUSTOM PALETTE.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 删除调色板中未使用的颜色复选框仅在选择使用自定义调色板时才有用。
- en: As [Figure 12-3](ch12s01.html#optimum_palette_with_256_colors "Figure 12-3. Optimum
    palette with 256 colors") shows, indexing can lead to image degradation. A better
    result can be achieved with dithering, which uses a diffusion of pixels in available
    colors to approximate the colors that are not available. Four dithering algorithms
    are provided in the Index Color Conversion dialog, and [Figure 12-5](ch12s01.html#using_floyd-steinberg_left_parenthesisno
    "Figure 12-5. Using Floyd-Steinberg (normal) dithering") shows the result of the
    first one. ENABLE DITHERING OF TRANSPARENCY can be used to help smooth boundaries
    in a GIF image that includes transparent areas.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图 12-3](ch12s01.html#optimum_palette_with_256_colors "图 12-3. 256色的最佳调色板")所示，索引模式可能会导致图像质量下降。通过使用抖动技术，可以获得更好的效果，它通过在可用颜色中扩散像素，来近似无法显示的颜色。在索引颜色转换对话框中提供了四种抖动算法，[图
    12-5](ch12s01.html#using_floyd-steinberg_left_parenthesisno "图 12-5. 使用Floyd-Steinberg（正常）抖动")展示了第一种算法的效果。启用透明度抖动可以帮助平滑包含透明区域的GIF图像的边界。
- en: '![The available layer blending modes](httpatomoreillycomsourcenostarchimages1455450.png.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![可用的图层混合模式](httpatomoreillycomsourcenostarchimages1455450.png.jpg)'
- en: Figure 12-6. The available layer blending modes
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-6. 可用的图层混合模式
- en: 12.2 Blending Modes
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.2 混合模式
- en: The blending modes apply an additional color plane to an image, either as a
    layer or as a design created with the painting tools. [Figure 12-6](ch12s01.html#available_layer_blending_modes
    "Figure 12-6. The available layer blending modes") shows 21 of the 23 blending
    modes available for painting tools. In layers, the Behind and Color erase modes
    are not available.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 混合模式会在图像上应用一个额外的颜色平面，无论是作为一层还是通过绘图工具创建的设计。[图 12-6](ch12s01.html#available_layer_blending_modes
    "图 12-6. 可用的图层混合模式")显示了 23 种混合模式中 21 种可供绘图工具使用的模式。在图层中，“Behind”和“Color erase”模式不可用。
- en: The blending modes are arranged in the menu according to their effect. The first
    four modes (Normal, Dissolve, Behind, and Color erase, or just the first two for
    layers) leave the pixels intact and change only which pixels are displayed. The
    next four modes (Lighten only, Screen, Dodge, and Addition) lighten the image
    and are arranged by impact, from least to greatest. The next three modes (Darken
    only, Multiply, and Burn) darken the image, and they are also arranged by impact,
    from least to greatest. The next three modes (Overlay, Soft light, and Hard light)
    alter the image’s luminosity. The next five modes (Difference, Subtract, Grain
    extract, Grain merge, and Divide) distort the image’s hues rather than just its
    saturation and value. The last four modes (Hue, Saturation, Color, and Value)
    use the HSV model components as the basis for blending the layers.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 混合模式在菜单中按效果排列。前四种模式（正常、溶解、Behind 和 Color erase，或仅图层的前两种模式）保持像素不变，只改变显示哪些像素。接下来的四种模式（仅提亮、屏幕、减淡和加法）会提亮图像，并按影响力从小到大排列。接下来的三种模式（仅加深、正片叠底和烧焦）会使图像变暗，它们也按影响力从小到大排列。接下来的三种模式（叠加、柔光和强光）改变图像的亮度。接下来的五种模式（差异、减去、颗粒提取、颗粒合并和除法）扭曲图像的色调，而不仅仅是饱和度和明度。最后四种模式（色相、饱和度、颜色和值）使用
    HSV 模型组件作为混合图层的基础。
- en: '![The top layer](httpatomoreillycomsourcenostarchimages1455452.png.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![顶层](httpatomoreillycomsourcenostarchimages1455452.png.jpg)'
- en: Figure 12-7. The top layer
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-7. 顶层
- en: '![The bottom layer](httpatomoreillycomsourcenostarchimages1455454.png.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![底层](httpatomoreillycomsourcenostarchimages1455454.png.jpg)'
- en: Figure 12-8. The bottom layer
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-8. 底层
- en: To demonstrate the blending modes, we’ll build an image with two layers. [Figure 12-7](ch12s02.html#top_layer
    "Figure 12-7. The top layer") is the top layer, and [Figure 12-8](ch12s02.html#bottom_layer
    "Figure 12-8. The bottom layer") is the bottom layer. We’ll use specific examples
    for the two modes that exist only with the painting tools.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示混合模式，我们将创建一个包含两层的图像。[图 12-7](ch12s02.html#top_layer "图 12-7. 顶层")是顶层，[图
    12-8](ch12s02.html#bottom_layer "图 12-8. 底层")是底层。我们将为仅在绘图工具中存在的两种模式提供具体示例。
- en: '![Normal mode, 50% opacity](httpatomoreillycomsourcenostarchimages1455456.png.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![正常模式，50% 不透明度](httpatomoreillycomsourcenostarchimages1455456.png.jpg)'
- en: Figure 12-9. Normal mode, 50% opacity
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-9. 正常模式，50% 不透明度
- en: We also need a notation for explaining the mathematics underlying the blending
    modes. Recall that a pixel is made of three values—the channels R, G, and B—and
    so can be thought of as a vector. We’ll use *U* to refer to the vector of a pixel
    in the upper layer, *L* to refer to the vector of a pixel in the lower layer,
    and *R* to refer to the vector of the resulting pixel.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要一种符号来解释混合模式背后的数学原理。回想一下，一个像素由三个值组成——R、G 和 B 通道——因此可以将其视为一个向量。我们将使用*U*表示上层像素的向量，*L*表示下层像素的向量，*R*表示结果像素的向量。
- en: Modes That Leave Pixels Intact
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保持像素不变的模式
- en: 'The four modes in this category have an important property in common: They
    all assign a value to *R* by taking the exact values either from *U* or from *L*.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这一类别中的四种模式有一个重要的共同特点：它们通过精确地从*U*或*L*中获取值来为*R*赋值。
- en: In *Normal* mode, the upper pixel is always chosen (i.e., *R* = *U*). But if
    *U* isn’t fully opaque, then the value of *R* is a combination of *U* and *L*.
    If the opacity of *U* is set to percentage *x*, then
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在*正常*模式下，始终选择上层像素（即*R* = *U*）。但是，如果*U*不是完全不透明的，那么*R*的值是*U*和*L*的组合。如果*U*的不透明度设置为百分比*x*，那么
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455458.png.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![没有标题的图像](httpatomoreillycomsourcenostarchimages1455458.png.jpg)'
- en: '[Figure 12-9](ch12s02.html#normal_modecomma_50percent_opacity "Figure 12-9. Normal
    mode, 50% opacity") shows the result when the top layer opacity is 50%. Opacity
    works in the same way for all of the blending modes.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 12-9](ch12s02.html#normal_modecomma_50percent_opacity "图 12-9. 正常模式，50%
    不透明度")显示了当顶层不透明度为 50% 时的结果。不透明度在所有混合模式中都以相同的方式工作。'
- en: In *Dissolve* mode, the choice between the upper and lower pixel is random but
    proportional to the opacity. Given a function *f*(*r*) that yields a random result
    between 0 and 1, the formula is *R* = [if 100 × *f*(*r*) *< x*] then *U,* else
    *L*. [Figure 12-10](ch12s02.html#dissolve_modecomma_50percent_opacity "Figure 12-10. Dissolve
    mode, 50% opacity") shows this result with 50% opacity, and [Figure 12-11](ch12s02.html#zooming_in_on_a_part_of_figure_12dot10
    "Figure 12-11. Zooming in on a part of Figure 12-10") magnifies a portion of this
    image.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在*溶解*模式中，上下像素的选择是随机的，但与不透明度成比例。给定一个函数 *f*(*r*)，它产生一个 0 到 1 之间的随机结果，公式为 *R* =
    [如果 100 × *f*(*r*) *< x*] 则为 *U,* 否则为 *L*。[图 12-10](ch12s02.html#dissolve_modecomma_50percent_opacity
    "图 12-10. 溶解模式，50% 不透明度") 显示了 50% 不透明度的结果，而 [图 12-11](ch12s02.html#zooming_in_on_a_part_of_figure_12dot10
    "图 12-11. 放大图 12-10 的一部分") 放大了该图像的一部分。
- en: '![Dissolve mode, 50% opacity](httpatomoreillycomsourcenostarchimages1455460.png.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![溶解模式，50% 不透明度](httpatomoreillycomsourcenostarchimages1455460.png.jpg)'
- en: Figure 12-10. Dissolve mode, 50% opacity
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-10. 溶解模式，50% 不透明度
- en: '![Zooming in on a part of](httpatomoreillycomsourcenostarchimages1455462.png.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![放大图 12-10 的一部分](httpatomoreillycomsourcenostarchimages1455462.png.jpg)'
- en: Figure 12-11. Zooming in on a part of [Figure 12-10](ch12s02.html#dissolve_modecomma_50percent_opacity
    "Figure 12-10. Dissolve mode, 50% opacity")
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-11. 放大 [图 12-10](ch12s02.html#dissolve_modecomma_50percent_opacity "图 12-10.
    溶解模式，50% 不透明度") 的一部分
- en: To demonstrate *Behind* mode, we’ll use [Figure 12-12](ch12s02.html#image_with_transparency
    "Figure 12-12. An image with transparency"). We first removed the portrait’s background,
    replacing it with transparency. An underlying white layer is visible beneath the
    portrait layer. If we paint on this image in Behind mode, only the transparent
    pixels are affected, as shown in [Figure 12-13](ch12s02.html#painting_in_behind_mode
    "Figure 12-13. Painting in Behind mode"). If semitransparency had been used rather
    than full transparency, we would see a combination of the green and semi-transparent
    background color.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示*后景*模式，我们将使用 [图 12-12](ch12s02.html#image_with_transparency "图 12-12. 带透明度的图像")。我们首先移除了人像的背景，替换为透明度。人像图层下方可见一个白色底层。如果我们在此图像上使用后景模式绘画，只有透明像素会受到影响，如
    [图 12-13](ch12s02.html#painting_in_behind_mode "图 12-13. 后景模式绘画") 所示。如果使用的是半透明而非完全透明，则我们将看到绿色和半透明背景颜色的组合。
- en: '*Color erase* mode removes the color that you’re painting with from the image
    and replaces it with partial transparency. In [Figure 12-14](ch12s02.html#painting_in_color_erase_mode
    "Figure 12-14. Painting in Color erase mode"), we used a large round brush and
    selected the hue of the face as the foreground color by ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    the girl’s left cheek. The white background layer is visible through the semitransparency.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*颜色擦除*模式会将你正在绘制的颜色从图像中移除，并将其替换为部分透明度。在 [图 12-14](ch12s02.html#painting_in_color_erase_mode
    "图 12-14. 颜色擦除模式绘画") 中，我们使用了一个大圆刷，并通过右键单击女孩的左脸颊，选择了脸部的色调作为前景色。白色背景层通过半透明层可见。'
- en: '![An image with transparency](httpatomoreillycomsourcenostarchimages1455464.png.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![带透明度的图像](httpatomoreillycomsourcenostarchimages1455464.png.jpg)'
- en: Figure 12-12. An image with transparency
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-12. 带透明度的图像
- en: '![Painting in Behind mode](httpatomoreillycomsourcenostarchimages1455466.png.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![后景模式绘画](httpatomoreillycomsourcenostarchimages1455466.png.jpg)'
- en: Figure 12-13. Painting in Behind mode
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-13. 后景模式绘画
- en: Lightening Modes
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 亮化模式
- en: When you use lightening modes, the image will be lighter than in Normal mode.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用亮化模式时，图像会比正常模式更亮。
- en: In *Lighten only* mode, the resulting pixel is the same as the lighter of the
    two pixels being blended. In [Figure 12-15](ch12s02.html#lighten_only_mode "Figure 12-15. Lighten
    only mode"), the brightly lit seascape was taken from the upper layer, and the
    rest was taken from the lower layer. The formula is simply *R* = max(*U, L*).
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在*仅亮化*模式中，结果像素与两种像素中较亮的那个相同。在 [图 12-15](ch12s02.html#lighten_only_mode "图 12-15.
    仅亮化模式") 中，明亮的海景取自上层，其余部分取自下层。公式非常简单，*R* = max(*U, L*)。
- en: '*Screen* mode yields an even lighter result via a more complicated formula:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '*屏幕*模式通过更复杂的公式产生更亮的结果：'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455468.png.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
  zh: '![没有标题的图像](httpatomoreillycomsourcenostarchimages1455468.png.jpg)'
- en: The upper and lower pixels are inverted, which is done by subtracting their
    value from 255 (in 8-bit depth). The results are multiplied, and then the product
    is normalized to subrange [0 to 255] by dividing it by 255 and inverting it again.
    As you see in [Figure 12-16](ch12s02.html#screen_mode "Figure 12-16. Screen mode"),
    the dark areas of the upper layer disappear, the light areas look washed out,
    and the image seems to be more transparent.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 上下像素被反转，这通过从 255 中减去它们的值（在 8 位深度下）来完成。然后将结果相乘，再通过除以 255 并再次反转来将乘积归一化到子范围 [0
    到 255]。正如你在[图 12-16](ch12s02.html#screen_mode "图 12-16. 屏幕模式")中看到的，顶部图层的暗区消失，亮区看起来褪色，图像似乎更透明。
- en: '![Painting in Color erase mode](httpatomoreillycomsourcenostarchimages1455470.png.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![在颜色擦除模式下绘画](httpatomoreillycomsourcenostarchimages1455470.png.jpg)'
- en: Figure 12-14. Painting in Color erase mode
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-14. 在颜色擦除模式下绘画
- en: '![Lighten only mode](httpatomoreillycomsourcenostarchimages1455472.png.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![仅变亮模式](httpatomoreillycomsourcenostarchimages1455472.png.jpg)'
- en: Figure 12-15. Lighten only mode
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-15. 仅变亮模式
- en: '*Dodge* mode exaggerates the lighting. The formula for this mode is:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '*闪避*模式夸大了光照效果。此模式的公式为：'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455474.png.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![无标题的图像](httpatomoreillycomsourcenostarchimages1455474.png.jpg)'
- en: The lower pixel value is multiplied by 256 and then divided by the inverse value
    of the upper pixel. To prevent division by 0, 1 is added to the divisor. [Figure 12-17](ch12s02.html#dodge_mode
    "Figure 12-17. Dodge mode") shows the result. This mode works best when used with
    a painting tool to simulate the dodging process used in the darkroom to decrease
    exposure in specific areas. This mode can be used to bring out details in the
    darkest areas of an image.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 下层像素值与 256 相乘，然后除以上层像素的反向值。为了防止除以 0，除数加上 1。[图 12-17](ch12s02.html#dodge_mode
    "图 12-17. 闪避模式")展示了结果。此模式最适合与绘画工具一起使用，以模拟暗房中的闪避过程，在特定区域减少曝光。此模式可用于突出图像最暗区域的细节。
- en: '![Screen mode](httpatomoreillycomsourcenostarchimages1455476.png.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![屏幕模式](httpatomoreillycomsourcenostarchimages1455476.png.jpg)'
- en: Figure 12-16. Screen mode
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-16. 屏幕模式
- en: '![Dodge mode](httpatomoreillycomsourcenostarchimages1455478.png.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![闪避模式](httpatomoreillycomsourcenostarchimages1455478.png.jpg)'
- en: Figure 12-17. Dodge mode
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-17. 闪避模式
- en: '*Addition* mode exaggerates the lighting even further without any color inversion.
    Some areas may become completely white, as shown in [Figure 12-18](ch12s02.html#addition_mode
    "Figure 12-18. Addition mode"). To achieve this result, the pixel values are added,
    and then the result is truncated to 255 because greater values can’t be represented
    in the RGB cube. The formula is *R* = min(*U* + *L,* 255).'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '*加法*模式在不进行颜色反转的情况下，进一步夸大了光照效果。一些区域可能会变成完全白色，如[图 12-18](ch12s02.html#addition_mode
    "图 12-18. 加法模式")所示。为了达到这种效果，像素值会相加，然后结果会被截断为 255，因为 RGB 立方体无法表示更大的值。公式是 *R* =
    min(*U* + *L*, 255)。'
- en: Darkening Modes
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 变暗模式
- en: With these modes, the resulting image is darker than the original.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些模式，生成的图像比原始图像更暗。
- en: '![Addition mode](httpatomoreillycomsourcenostarchimages1455480.png.jpg)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![加法模式](httpatomoreillycomsourcenostarchimages1455480.png.jpg)'
- en: Figure 12-18. Addition mode
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-18. 加法模式
- en: '![Darken only mode](httpatomoreillycomsourcenostarchimages1455482.png.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![仅变暗模式](httpatomoreillycomsourcenostarchimages1455482.png.jpg)'
- en: Figure 12-19. Darken only mode
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-19. 仅变暗模式
- en: '*Darken only* mode is the opposite of Lighten only mode: The resulting pixel
    is the darker of the two pixels being blended. As shown in [Figure 12-19](ch12s02.html#darken_only_mode
    "Figure 12-19. Darken only mode"), the resulting image contains content from the
    upper layer where it’s darker and the lower layer elsewhere. The formula is *R*
    = min(*U,L*).'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '*仅变暗*模式与*仅变亮*模式相反：生成的像素是两者中较暗的一个。正如[图 12-19](ch12s02.html#darken_only_mode
    "图 12-19. 仅变暗模式")所示，生成的图像包含上层较暗的部分，以及下层其他部分。公式是 *R* = min(*U,L*)。'
- en: 'In *Multiply* mode, the pixel values are multiplied, and the result is normalized
    by dividing by 255: *R* = (*U* × *L*)*/*255\. As [Figure 12-20](ch12s02.html#multiply_mode
    "Figure 12-20. Multiply mode") shows, the result is much darker than the two layers.'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在*乘法*模式中，像素值相乘，然后通过除以 255 来进行归一化：*R* = (*U* × *L*) / 255。如[图 12-20](ch12s02.html#multiply_mode
    "图 12-20. 乘法模式")所示，结果比两层的合成更暗。
- en: '*Burn* mode simulates a darkroom process, similar to Dodge mode, and also works
    best with painting tools. This mode decreases the exposure of the image and can
    lead to a loss of detail in dark areas. The formula for this mode is:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '*加深*模式模拟了一种暗房过程，类似于“减淡”模式，也最适合与绘画工具一起使用。该模式会减少图像的曝光度，可能会导致暗部细节丧失。该模式的公式为：'
- en: '![Multiply mode](httpatomoreillycomsourcenostarchimages1455484.png.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![乘法模式](httpatomoreillycomsourcenostarchimages1455484.png.jpg)'
- en: Figure 12-20. Multiply mode
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-20. 乘法模式
- en: '![Burn mode](httpatomoreillycomsourcenostarchimages1455486.png.jpg)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![加深模式](httpatomoreillycomsourcenostarchimages1455486.png.jpg)'
- en: Figure 12-21. Burn mode
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-21. 加深模式
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455488.png.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图像](httpatomoreillycomsourcenostarchimages1455488.png.jpg)'
- en: The lower pixel value is inverted and divided by the upper pixel value. That
    number is then normalized by multiplying by 256, and the result is inverted. Again,
    1 is added to the divisor to prevent division by 0\. In [Figure 12-21](ch12s02.html#burn_mode
    "Figure 12-21. Burn mode"), the only parts that are not completely burned out
    are those that were light in both layers.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 较低的像素值被反转并除以较高的像素值。然后，这个数值通过乘以256进行归一化，结果被反转。再次强调，为防止除以0，除数上加了1。在[图12-21](ch12s02.html#burn_mode
    "图12-21. 加深模式")中，唯一未完全烧毁的部分是那些在两个图层中都较亮的部分。
- en: Luminosity Modes
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 亮度模式
- en: The three modes in this section are so similar that the first two currently
    have identical effects.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 本节中的三个模式非常相似，以至于前两个当前具有相同的效果。
- en: '![Overlay or Soft light mode](httpatomoreillycomsourcenostarchimages1455490.png.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![覆盖或软光模式](httpatomoreillycomsourcenostarchimages1455490.png.jpg)'
- en: Figure 12-22. Overlay or Soft light mode
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-22. 覆盖或软光模式
- en: These modes deal with the luminosity of the image rather than its colors.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 这些模式处理的是图像的亮度，而不是其颜色。
- en: '*Overlay* mode combines Multiply and Screen modes, and it darkens the image
    a little less than Multiply. Its complicated equation is theoretically this:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*覆盖*模式结合了“乘法”和“滤色”模式，它使图像变暗的程度略低于“乘法”模式。它的复杂公式理论上是这样的：'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455492.png.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图像](httpatomoreillycomsourcenostarchimages1455492.png.jpg)'
- en: But in GIMP 2.8, this mode actually uses the equation for Soft light mode. This
    bug has intentionally been left because correcting it would result in unexpected
    changes appearing in existing images that use Overlay mode. Developers are currently
    working on a strategy to correct the bug without altering existing images.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 但在GIMP 2.8中，该模式实际上使用的是软光模式的公式。这个bug故意没有修正，因为修复它会导致现有使用“覆盖”模式的图像出现意外的变化。开发人员目前正在努力寻找一种修复该bug而不改变现有图像的策略。
- en: 'The equation for *Soft light* mode incorporates the result of the Screen mode
    calculation, here called *R**[S]*:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '*软光*模式的公式包含了“滤色”模式计算的结果，这里称为 *R**[S]*：'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455494.png.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图像](httpatomoreillycomsourcenostarchimages1455494.png.jpg)'
- en: As [Figure 12-22](ch12s02.html#overlay_or_soft_light_mode "Figure 12-22. Overlay
    or Soft light mode") shows, the resulting image is darker than the original image,
    having dim colors and softened edges.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图12-22](ch12s02.html#overlay_or_soft_light_mode "图12-22. 覆盖或软光模式")所示，生成的图像比原始图像更暗，颜色昏暗，边缘柔和。
- en: '*Hard light* mode uses the most complicated equation of all the modes. It handles
    darker colors differently than brighter colors. Hard light is yet another combination
    of Multiply and Screen, and it results in brighter colors and sharper edges (i.e.,
    the exact opposite of Soft light). The upper layer is treated differently than
    the lower layer, unlike most of the modes already considered. [Figure 12-23](ch12s02.html#hard_light_mode
    "Figure 12-23. Hard light mode") and [Figure 12-24](ch12s02.html#hard_light_mode_with_the_layers_reversed
    "Figure 12-24. Hard light mode with the layers reversed") show two examples, with
    the layer order reversed in the second one. The equation is as follows:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '*强光*模式使用了所有模式中最复杂的公式。它对暗色和亮色的处理方式不同。强光是“乘法”和“滤色”模式的另一种组合，它使颜色变得更亮，边缘更锋利（即与“软光”模式完全相反）。上层与下层的处理方式不同，这与我们之前讨论的大多数模式不同。[图12-23](ch12s02.html#hard_light_mode
    "图12-23. 强光模式")和[图12-24](ch12s02.html#hard_light_mode_with_the_layers_reversed
    "图12-24. 反转图层的强光模式")展示了两个示例，第二个示例中的图层顺序被反转。公式如下：'
- en: 'If *U* > 128:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '如果 *U* > 128:'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455496.png.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![无标题图像](httpatomoreillycomsourcenostarchimages1455496.png.jpg)'
- en: 'If *U* ≤ 128: *R* = (2 × *U* × *L*)/256'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '如果 *U* ≤ 128: *R* = (2 × *U* × *L*)/256'
- en: '![Hard light mode](httpatomoreillycomsourcenostarchimages1455498.png.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![强光模式](httpatomoreillycomsourcenostarchimages1455498.png.jpg)'
- en: Figure 12-23. Hard light mode
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-23. 强光模式
- en: '![Hard light mode with the layers reversed](httpatomoreillycomsourcenostarchimages1455500.png.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![反转图层的强光模式](httpatomoreillycomsourcenostarchimages1455500.png.jpg)'
- en: Figure 12-24. Hard light mode with the layers reversed
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-24. 反转图层的强光模式
- en: Color Distortion Modes
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 颜色扭曲模式
- en: These modes distort colors in various ways.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这些模式以不同的方式扭曲颜色。
- en: 'In *Difference* mode, the resulting pixel is the absolute value of the difference
    between the upper and lower pixels: *R* = *|**U* – *L**|*. For example, if *U*
    = 50 and *L* = 200, then *R* will be the absolute value of –150, which is 150\.
    When this occurs, the colors appear to be inverted, as shown in [Figure 12-25](ch12s02.html#difference_mode
    "Figure 12-25. Difference mode").'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在*差异*模式中，结果像素是上层和下层像素差的绝对值：*R* = *|**U* – *L**|*。例如，如果*U* = 50且*L* = 200，那么*R*将是-150的绝对值，即150。当这种情况发生时，颜色会呈现出反转的效果，如[图12-25](ch12s02.html#difference_mode
    "图12-25. 差异模式")所示。
- en: '![Difference mode](httpatomoreillycomsourcenostarchimages1455502.png.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![差异模式](httpatomoreillycomsourcenostarchimages1455502.png.jpg)'
- en: Figure 12-25. Difference mode
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-25. 差异模式
- en: '![Subtract mode](httpatomoreillycomsourcenostarchimages1455504.png.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![减去模式](httpatomoreillycomsourcenostarchimages1455504.png.jpg)'
- en: Figure 12-26. Subtract mode
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-26. 减去模式
- en: '*Subtract* mode is based on the same idea as Difference mode, but it doesn’t
    take the absolute value after subtraction. This means the order of the layers
    affects the result, as illustrated by [Figure 12-26](ch12s02.html#subtract_mode
    "Figure 12-26. Subtract mode") and [Figure 12-27](ch12s02.html#subtract_mode_with_the_layers_reversed
    "Figure 12-27. Subtract mode with the layers reversed"). Subtract mode deals with
    negative values by setting them to 0, according to the following formula: *R*
    = max(*U* – *L*, 0). Any 0 values correspond to black areas.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '*减去*模式基于与差异模式相同的原理，但在减法后不取绝对值。这意味着图层的顺序会影响结果，如[图12-26](ch12s02.html#subtract_mode
    "图12-26. 减去模式")和[图12-27](ch12s02.html#subtract_mode_with_the_layers_reversed "图12-27.
    图层反转后的减去模式")所示。减去模式通过将负值设置为0来处理负值，公式如下：*R* = max(*U* – *L*, 0)。任何0值对应黑色区域。'
- en: According to its name, the *Grain extract* mode should extract the film grain
    from a layer, but whether it does this is debatable. Some people think it gives
    images an embossed appearance. [Figure 12-28](ch12s02.html#grain_extract_mode
    "Figure 12-28. Grain extract mode") and [Figure 12-29](ch12s02.html#grain_extract_mode_with_the_layers_rever
    "Figure 12-29. Grain extract mode with the layers reversed") show the effect of
    Grain extract on our example images. The official formula is *R* = *L* – *U* +
    128, but negative values or values greater than 255 are truncated. Negative values
    are replaced with 0, and values greater than 255 are replaced with 255.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 根据其名称，*颗粒提取*模式应该从图层中提取胶片颗粒，但是否真的这样做仍有争议。有些人认为它给图像带来了浮雕效果。[图12-28](ch12s02.html#grain_extract_mode
    "图12-28. 颗粒提取模式")和[图12-29](ch12s02.html#grain_extract_mode_with_the_layers_rever
    "图12-29. 图层反转后的颗粒提取模式")展示了颗粒提取模式对示例图像的影响。官方公式是*R* = *L* – *U* + 128，但负值或大于255的值会被截断。负值会被替换为0，超出255的值会被替换为255。
- en: '![Subtract mode with the layers reversed](httpatomoreillycomsourcenostarchimages1455506.png.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![反转图层的减去模式](httpatomoreillycomsourcenostarchimages1455506.png.jpg)'
- en: Figure 12-27. Subtract mode with the layers reversed
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-27. 图层反转后的减去模式
- en: '![Grain extract mode](httpatomoreillycomsourcenostarchimages1455508.png.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![颗粒提取模式](httpatomoreillycomsourcenostarchimages1455508.png.jpg)'
- en: Figure 12-28. Grain extract mode
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-28. 颗粒提取模式
- en: Whereas Grain extract mode extracts the grain from the layer, *Grain merge*
    mode merges the grain layer into the current layer. This mode is symmetric, so
    the order of the layers doesn’t matter. Our result is shown in [Figure 12-30](ch12s02.html#grain_merge_mode
    "Figure 12-30. Grain merge mode"). The formula for this mode is *R* = *U* + *L*
    – 128, and again, values that are negative or greater than 255 are truncated.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 而*颗粒合并*模式将颗粒层合并到当前图层中。该模式是对称的，因此图层的顺序并不重要。我们的结果显示在[图12-30](ch12s02.html#grain_merge_mode
    "图12-30. 颗粒合并模式")中。该模式的公式是*R* = *U* + *L* – 128，同样，负值或大于255的值会被截断。
- en: '*Divide* mode is yet another nonsymmetrical mode, wherein the value of the
    lower pixel is divided by that of the upper pixel (plus 1). The result is multiplied
    by 256 to normalize the value. The result, shown in [Figure 12-31](ch12s02.html#divide_mode
    "Figure 12-31. Divide mode"), is lighter than the original and completely white
    in some places. The equation is'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '*除法*模式是另一种非对称模式，其中下层像素的值被上层像素的值（加 1）除以。结果乘以 256 以归一化该值。结果如[图 12-31](ch12s02.html#divide_mode
    "图 12-31. 除法模式")所示，比原始图像更亮，在某些地方完全变白。公式为：'
- en: '![image with no caption](httpatomoreillycomsourcenostarchimages1455510.png.jpg)![Grain
    extract mode with the layers reversed](httpatomoreillycomsourcenostarchimages1455512.png.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![没有标题的图像](httpatomoreillycomsourcenostarchimages1455510.png.jpg)![颗粒提取模式，图层反转](httpatomoreillycomsourcenostarchimages1455512.png.jpg)'
- en: Figure 12-29. Grain extract mode with the layers reversed
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-29. 颗粒提取模式，图层反转
- en: '![Grain merge mode](httpatomoreillycomsourcenostarchimages1455514.png.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![颗粒合并模式](httpatomoreillycomsourcenostarchimages1455514.png.jpg)'
- en: Figure 12-30. Grain merge mode
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-30. 颗粒合并模式
- en: HSV Modes
  id: totrans-142
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: HSV 模式
- en: The last four modes operate in the HSV space. They work by replacing one component
    (hue, saturation, or value) in the upper layer with the corresponding component
    from the lower layer.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 最后四种模式在 HSV 空间中工作。它们通过将上层中的一个分量（色相、饱和度或值）替换为下层中对应的分量来实现。
- en: In *Hue* mode, the resulting pixel has the hue of the upper pixel and the saturation
    and value of the lower pixel. But if the saturation of the upper pixel is 0, the
    hue is also taken from the lower pixel. This explains why in [Figure 12-32](ch12s02.html#hue_mode
    "Figure 12-32. Hue mode"), the pixels corresponding to the black areas in the
    upper layer are completely replaced with the pixels from the lower layer.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在*色相*模式下，结果像素具有上层像素的色相和下层像素的饱和度与值。如果上层像素的饱和度为0，则色相也取自下层像素。这解释了为什么在[图 12-32](ch12s02.html#hue_mode
    "图 12-32. 色相模式")中，位于上层的黑色区域的像素完全被下层的像素替代。
- en: '![Divide mode](httpatomoreillycomsourcenostarchimages1455516.png.jpg)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![除法模式](httpatomoreillycomsourcenostarchimages1455516.png.jpg)'
- en: Figure 12-31. Divide mode
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-31. 除法模式
- en: '![Hue mode](httpatomoreillycomsourcenostarchimages1455518.png.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![色相模式](httpatomoreillycomsourcenostarchimages1455518.png.jpg)'
- en: Figure 12-32. Hue mode
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-32. 色相模式
- en: In *Saturation* mode, the saturation is taken only from the upper layer. Because
    the saturation of the top layer was low throughout most of the image, the result,
    shown in [Figure 12-33](ch12s02.html#saturation_mode "Figure 12-33. Saturation
    mode"), is almost completely unsaturated.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在*饱和度*模式下，饱和度仅取自上层。由于上层的饱和度在图像的大部分区域都很低，因此结果如[图 12-33](ch12s02.html#saturation_mode
    "图 12-33. 饱和度模式")所示，几乎完全无饱和度。
- en: In *Color* mode, the hue and saturation are taken from the upper layer, whereas
    the value is taken from the lower layer. As shown in [Figure 12-34](ch12s02.html#color_mode
    "Figure 12-34. Color mode"), the effect is that the lower layer is painted with
    the upper layer’s colors.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在*色彩*模式下，色相和饱和度取自上层，而值取自下层。如[图 12-34](ch12s02.html#color_mode "图 12-34. 色彩模式")所示，效果是下层使用上层的颜色进行绘制。
- en: 'In *Value* mode, the value is taken from the upper layer, and the saturation
    and hue are taken from the lower layer. As shown in [Figure 12-35](ch12s03.html#value_mode
    "Figure 12-35. Value mode"), the result of this mode is the reverse of Color mode:
    The upper layer is painted with the colors of the lower layer.'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在*值*模式下，值取自上层，而饱和度和色相取自下层。如[图 12-35](ch12s03.html#value_mode "图 12-35. 值模式")所示，该模式的结果是色彩模式的反向：上层使用下层的颜色进行绘制。
- en: '![Saturation mode](httpatomoreillycomsourcenostarchimages1455520.png.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![饱和度模式](httpatomoreillycomsourcenostarchimages1455520.png.jpg)'
- en: Figure 12-33. Saturation mode
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-33. 饱和度模式
- en: '![Color mode](httpatomoreillycomsourcenostarchimages1455522.png.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![色彩模式](httpatomoreillycomsourcenostarchimages1455522.png.jpg)'
- en: Figure 12-34. Color mode
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-34. 色彩模式
- en: 12.3 Color Management
  id: totrans-156
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.3 色彩管理
- en: Color perception is one of the most complicated aspects of image processing.
    We see images in the real world, capture them with a camera or maybe scan them,
    and then we look at them on a screen and perhaps print them. All these stages
    change the image, rendering the visible colors and the values differently. The
    purpose of color management is to control these changes so what others see on
    the screen or in print is the image as we intended them to see it.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 色彩感知是图像处理中最复杂的方面之一。我们在现实世界中看到图像，用相机拍摄它们或可能扫描它们，然后我们在屏幕上查看它们，甚至可能打印出来。这些阶段都会改变图像，导致可见的颜色和数值发生变化。色彩管理的目的是控制这些变化，使得别人看到的屏幕或打印图像和我们原本想要他们看到的图像一致。
- en: '![Value mode](httpatomoreillycomsourcenostarchimages1455524.png.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![值模式](httpatomoreillycomsourcenostarchimages1455524.png.jpg)'
- en: Figure 12-35. Value mode
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-35. 值模式
- en: Color-Managed Workflow
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 色彩管理工作流
- en: The gamuts of devices (i.e., the sets of colors those devices are able to represent)
    are inevitably smaller than the gamut of normal human vision. (See [Digitalization](apas02.html#digitalization
    "Digitalization") for an in-depth discussion of image representation.) Furthermore,
    the digital camera or the scanner that digitalized the image, the monitor that
    displays it, and the printer that makes a copy all use different color spaces
    that are characterized by their gamuts and some adjustable parameters. [Figure 12-36](ch12s03.html#color-managed_workflow-id00092
    "Figure 12-36. A color-managed workflow") shows a diagram of a computer using
    a device-independent *working color space*, usually RGB. A working color space
    includes the color spaces of the most commonly used devices. It should include
    the color spaces of a scanner and a camera and those of a standard screen and
    of most printers. The working color space should contain only colors that can
    be represented on the devices being used. When an image file is loaded from a
    scanner or a digital camera, it must first be converted from its initial color
    space to the working one, and a similar conversion must be done when displaying
    the image on a monitor or printing it.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 设备的色域（即这些设备能够表示的颜色集合）不可避免地比正常人类视力的色域要小。（有关图像表示的深入讨论，请参见[数字化](apas02.html#digitalization
    "Digitalization")）。此外，数字相机或扫描仪对图像的数字化、显示图像的显示器以及打印出副本的打印机都使用不同的色彩空间，这些色彩空间通过它们的色域和一些可调参数来特征化。[图
    12-36](ch12s03.html#color-managed_workflow-id00092 "图 12-36. 色彩管理的工作流")展示了一个使用设备无关的*工作色彩空间*（通常是
    RGB）的计算机示意图。工作色彩空间包括最常用设备的色彩空间。它应包括扫描仪和相机的色彩空间，以及标准屏幕和大多数打印机的色彩空间。工作色彩空间应仅包含可以在所使用设备上表示的颜色。当从扫描仪或数字相机加载图像文件时，它必须首先从其初始色彩空间转换到工作色彩空间，当在显示器上显示图像或打印图像时，也需要进行类似的转换。
- en: This conversion process is automatic if we have the necessary information, which
    is stored as a *color profile*. A color profile provides the information needed
    to convert from one color space to another. One profile describes the camera color
    space and is attached to the image file of a digital photograph. Other profiles
    specify the color spaces of the scanner, printer, and monitor.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们拥有必要的信息，这一转换过程是自动的，这些信息存储在一个*色彩配置文件*中。色彩配置文件提供了从一个色彩空间转换到另一个色彩空间所需的信息。一个配置文件描述了相机的色彩空间，并附加到数字照片的图像文件上。其他配置文件则指定扫描仪、打印机和显示器的色彩空间。
- en: '![A color-managed workflow](httpatomoreillycomsourcenostarchimages1455526.png.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![色彩管理工作流](httpatomoreillycomsourcenostarchimages1455526.png.jpg)'
- en: Figure 12-36. A color-managed workflow
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-36. 色彩管理的工作流
- en: '![The Image: Image > Mode menu](httpatomoreillycomsourcenostarchimages1455528.png.jpg)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
  zh: '![图像：图像 > 模式菜单](httpatomoreillycomsourcenostarchimages1455528.png.jpg)'
- en: 'Figure 12-37. The Image: Image > Mode menu'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-37. 图像：图像 > 模式菜单
- en: '![Assigning a color profile](httpatomoreillycomsourcenostarchimages1455530.png.jpg)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![分配色彩配置文件](httpatomoreillycomsourcenostarchimages1455530.png.jpg)'
- en: Figure 12-38. Assigning a color profile
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-38. 分配色彩配置文件
- en: 'You can assign a color profile to an image if it doesn’t have one or if you
    want to change the assigned one. The **Image: Image > Mode** menu ([Figure 12-37](ch12s03.html#image_image_greater_than_mode_menu
    "Figure 12-37. The Image: Image > Mode menu")) contains two entries that allow
    you to edit the color profile. Select the ASSIGN COLOR PROFILE entry to open the
    dialog shown in [Figure 12-38](ch12s03.html#assigning_a_color_profile "Figure 12-38. Assigning
    a color profile"). In the ASSIGN field, you can choose a previously used profile
    or search for a profile on the computer. On a GNU/Linux platform, the profiles
    are generally located in the `/usr/share/color/icc/` folder.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 如果图像没有色彩配置文件，或者你想更改现有的配置文件，你可以为图像指定一个色彩配置文件。**图像：图像 > 模式** 菜单 ([图 12-37](ch12s03.html#image_image_greater_than_mode_menu
    "图 12-37. 图像：图像 > 模式菜单")) 包含两个条目，允许你编辑色彩配置文件。选择“分配色彩配置文件”条目，打开如 [图 12-38](ch12s03.html#assigning_a_color_profile
    "图 12-38. 分配色彩配置文件") 所示的对话框。在“分配”字段中，你可以选择一个以前使用过的配置文件，或在计算机上搜索配置文件。在 GNU/Linux
    平台上，配置文件通常位于 `/usr/share/color/icc/` 文件夹中。
- en: '![Converting to a color profile](httpatomoreillycomsourcenostarchimages1455532.png.jpg)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![转换为色彩配置文件](httpatomoreillycomsourcenostarchimages1455532.png.jpg)'
- en: Figure 12-39. Converting to a color profile
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-39. 转换为色彩配置文件
- en: '**Image: Image > Mode > Convert to Color Profile** opens the dialog shown in
    [Figure 12-39](ch12s03.html#converting_to_a_color_profile "Figure 12-39. Converting
    to a color profile"). In addition to the name of the profile, this dialog allows
    you to choose the rendering intent and black point compensation, which we’ll discuss
    in [Using Color Management](ch12s03.html#using_color_management "Using Color Management").'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：图像 > 模式 > 转换为色彩配置文件** 打开如 [图 12-39](ch12s03.html#converting_to_a_color_profile
    "图 12-39. 转换为色彩配置文件") 所示的对话框。除了配置文件名称之外，这个对话框还允许你选择渲染意图和黑点补偿，我们将在 [使用色彩管理](ch12s03.html#using_color_management
    "使用色彩管理") 中讨论这些内容。'
- en: Color management can also be used to simulate the result of converting an image
    to the color space of another device. The gamut of a printer is smaller than the
    gamut of a monitor. Printers are especially poor at rendering saturated colors,
    particularly shades of blue and green. A picture that we painstakingly crafted
    in GIMP may look terrible when printed if the conversion isn’t managed. If you
    intend to print your image, displaying the image so it looks like the final printed
    result is best, rather than creating an image that exploits monitor capabilities
    that aren’t shared by the printer. This technique is called *softproofing*.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 色彩管理也可以用来模拟将图像转换为另一台设备色彩空间的效果。打印机的色域通常小于显示器的色域。打印机在渲染饱和色彩时特别差，尤其是蓝色和绿色的阴影。如果转换没有得到妥善管理，我们在
    GIMP 中精心制作的图像打印出来可能效果很差。如果你打算打印图像，最好是将图像显示成接近最终打印效果的样子，而不是创建一个利用显示器能力的图像，这些能力是打印机所不具备的。这种技术被称为
    *软校样*。
- en: Color profiles are generally known as *ICC profiles* because they are defined
    by the International Color Consortium. The two most frequently used profiles are
    shown in [Figure 12-40](ch12s03.html#adobe_rgb_and_srgb_gamuts "Figure 12-40. Adobe
    RGB and sRGB gamuts"). Although using the profile with the largest gamut (i.e.,
    Adobe RGB) might seem best, this is generally not the case because color distortion
    can occur when converting the image to the more restricted printer gamut. Thus,
    the default color space is usually sRGB.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 色彩配置文件通常被称为 *ICC 配置文件*，因为它们是由国际色彩联盟（International Color Consortium）定义的。最常用的两个配置文件在
    [图 12-40](ch12s03.html#adobe_rgb_and_srgb_gamuts "图 12-40. Adobe RGB 和 sRGB 色域")
    中展示。尽管使用色域最广的配置文件（即 Adobe RGB）似乎是最好的选择，但通常并非如此，因为在将图像转换为更有限的打印机色域时，可能会发生色彩失真。因此，默认的色彩空间通常是
    sRGB。
- en: In fact, if we load an image into GIMP without any embedded color profile, GIMP
    assumes it’s sRGB, although we can assign another profile. If an embedded profile
    exists, GIMP will ask whether you want to use it, and generally you should select
    yes.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，如果我们将一张没有嵌入色彩配置文件的图像加载到 GIMP 中，GIMP 会默认假设它是 sRGB，尽管我们可以指定其他配置文件。如果图像中包含嵌入的配置文件，GIMP
    会询问是否使用它，通常你应该选择“是”。
- en: '![Adobe RGB and sRGB gamuts](httpatomoreillycomsourcenostarchimages1455534.png.jpg)'
  id: totrans-176
  prefs: []
  type: TYPE_IMG
  zh: '![Adobe RGB 和 sRGB 色域](httpatomoreillycomsourcenostarchimages1455534.png.jpg)'
- en: Figure 12-40. Adobe RGB and sRGB gamuts
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-40. Adobe RGB 和 sRGB 色域
- en: Getting the color profile for a device is not always easy. This is especially
    true for monitors, which often require the purchase of a display calibration device.
    The retrieval of color profiles is beyond the scope of this book, but if you would
    like more information, we recommend the excellent website by Norman Koren (*[http://www.normankoren.com/color_management.html](http://www.normankoren.com/color_management.html)*).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 获取设备的颜色配置文件并不总是容易的。尤其是对于显示器，通常需要购买显示校准设备。颜色配置文件的获取超出了本书的范围，但如果你想了解更多信息，我们推荐诺曼·科伦（Norman
    Koren）的网站（*[http://www.normankoren.com/color_management.html](http://www.normankoren.com/color_management.html)*）。
- en: Using Color Management
  id: totrans-179
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用颜色管理
- en: 'You can set the color management parameters in two places in GIMP. One is the
    **Image: Edit > Preferences** dialog, described in [Color Management](ch22s01.html#color_management
    "Color Management"). The other is the **Image: View > Display Filters** tool,
    described in [Display Filters](ch22s03.html#display_filters "Display Filters").'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 GIMP 中的两个地方设置颜色管理参数。一个是在**图像：编辑 > 偏好设置**对话框中，详细描述见[颜色管理](ch22s01.html#color_management
    "颜色管理")。另一个是在**图像：查看 > 显示过滤器**工具中，详细描述见[显示过滤器](ch22s03.html#display_filters "显示过滤器")。
- en: 'Apply *rendering intent* via the **Image: Edit > Preferences** dialog. Rendering
    intent can be used to generate the so-called softproof of an image that you want
    to print. It specifies how colors are converted from one gamut to another. If
    no conversion is carried out, the colors in the first gamut that cannot be represented
    in the second one are simply clipped, leading to ugly distortions. By using a
    more sophisticated conversion technique, you can often achieve a much more satisfactory
    result. The two main techniques, perceptual and colorimetric, are shown in [Figure 12-41](ch12s03.html#perceptual_and_colorimetric_gamut_mappin
    "Figure 12-41. Perceptual and colorimetric gamut mappings").'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 通过**图像：编辑 > 偏好设置**对话框应用*渲染意图*。渲染意图可用于生成你希望打印的图像的软打样（softproof）。它指定了颜色如何从一个色域转换到另一个色域。如果没有进行转换，原色域中无法在目标色域中表示的颜色将被剪裁，导致难看的失真。通过使用更复杂的转换技术，通常可以获得更令人满意的结果。两种主要技术，感知和色度技术，显示在[图
    12-41](ch12s03.html#perceptual_and_colorimetric_gamut_mappin "图 12-41. 感知与色度色域映射")中。
- en: '![Perceptual and colorimetric gamut mappings](httpatomoreillycomsourcenostarchimages1455536.png.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![感知与色度色域映射](httpatomoreillycomsourcenostarchimages1455536.png.jpg)'
- en: Figure 12-41. Perceptual and colorimetric gamut mappings
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-41. 感知与色度色域映射
- en: With *perceptual intent*, the color spectrum is compressed, and so the differences
    among colors are maintained. This process affects fully saturated colors much
    more than those with low saturation. If it is done with a large enough color depth,
    this process is mostly reversible and so is a good choice if you will be converting
    the image between color spaces multiple times. This is also a good choice if the
    image contains saturated colors.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 使用*感知意图*时，色域被压缩，因此颜色之间的差异得以保持。这个过程对完全饱和的颜色影响较大，而对低饱和度的颜色影响较小。如果采用足够大的色深进行处理，这个过程大多数情况下是可逆的，因此如果你需要在多个色彩空间之间转换图像，这是一个不错的选择。如果图像包含饱和的颜色，这也是一个不错的选择。
- en: '*Colorimetric intent* leaves the colors that belong to both gamuts completely
    unaltered and clips the others to the nearest color. This process is not reversible,
    and although it preserves the whites, it often yields poor results for images
    with saturated colors.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '*色度意图* 保留了两个色域都能表示的颜色不变，并将其他颜色剪裁到最接近的颜色。这个过程是不可逆的，虽然它保留了白色，但对于饱和颜色的图像来说，效果往往较差。'
- en: 12.4 The Major Color Tools
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.4 主要颜色工具
- en: In the rest of this chapter, we’ll discuss the tools that you can use to adjust
    the colors in an image. Here we delve into the Color chooser, Levels, and Curves
    tools.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的其余部分，我们将讨论你可以用来调整图像颜色的工具。这里我们深入探讨颜色选择器、色阶和曲线工具。
- en: The Color Chooser
  id: totrans-188
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 颜色选择器
- en: The Color chooser is the main tool for choosing a color for any painting tool.
    To open the Color chooser from the Toolbox, click one of the rectangles that display
    the current foreground and background colors, as shown in ([Figure 12-42](ch12s04.html#opening_the_color_chooser_dialog
    "Figure 12-42. Opening the Color chooser dialog")).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色选择器是选择任何绘图工具颜色的主要工具。要从工具箱中打开颜色选择器，请点击显示当前前景色和背景色的矩形，如([图 12-42](ch12s04.html#opening_the_color_chooser_dialog
    "图 12-42. 打开颜色选择器对话框"))所示。
- en: '![Opening the Color chooser dialog](httpatomoreillycomsourcenostarchimages1455538.png.jpg)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![打开颜色选择对话框](httpatomoreillycomsourcenostarchimages1455538.png.jpg)'
- en: Figure 12-42. Opening the Color chooser dialog
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-42. 打开颜色选择器对话框
- en: The Color chooser appears as shown in [Figure 12-43](ch12s04.html#color_chooser-id00093
    "Figure 12-43. The Color chooser"). This dialog is packed with features, so we’ll
    break our discussion into several areas and look at them separately.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图12-43](ch12s04.html#color_chooser-id00093 "图12-43. 颜色选择器")所示，颜色选择器对话框展示了许多功能，因此我们将把讨论分成几个部分分别查看。
- en: The top-right quadrant of the dialog contains six sliders corresponding to the
    channels in the HSV and RGB models. To the right of the sliders are counters that
    you can use to make precise changes. The radio buttons on the left are related
    to the first tab in the top-left quadrant, the one with Wilber’s head displayed
    on it. If any of the other tabs are selected, these buttons are not active.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的右上象限包含六个滑块，分别对应HSV和RGB模型中的通道。滑块右侧是计数器，可以用来精确调整数值。左侧的单选按钮与左上角第一个标签页相关，该标签页上显示着Wilber的头像。如果选择了其他标签，这些按钮将无法使用。
- en: The sliders are correlated, so if we move one of them, several others are also
    affected. For example, moving the S slider also changes all the RGB sliders. Moving
    one of the RGB sliders changes the H slider and can also change the S and V sliders,
    depending on their initial values. The color spectrum for the sliders changes
    to display the effect based on the current selection. Only the H slider always
    displays the same rainbow of colors.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 各个滑块之间是有关联的，因此如果我们移动其中一个，其他几个滑块也会受到影响。例如，移动S滑块也会改变所有的RGB滑块。调整任何一个RGB滑块会改变H滑块的值，且根据初始值的不同，也可能会影响S和V滑块。滑块的颜色谱会根据当前的选择显示相应的效果，只有H滑块始终显示相同的彩虹颜色。
- en: The bottom-right quadrant of the dialog contains a number of controls. The HTML
    NOTATION field contains the hexadecimal representation of the current color in
    HTML code. This code is composed of three groups of two hexadecimal digits, representing
    the values of the three RGB channels. If we choose a color elsewhere in the dialog,
    the code will change to match, but we can also type a number into the field and
    look at the result, or we can even type in a color name. If we type the beginning
    of a name, all the available names that begin with those letters are displayed,
    as shown in [Figure 12-44](ch12s04.html#typing_a_color_name_in_the_html_notation
    "Figure 12-44. Typing a color name in the HTML notation field").
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的右下象限包含多个控件。HTML符号字段显示当前颜色的十六进制表示法（HTML代码）。此代码由三组两位十六进制数字组成，表示三个RGB通道的值。如果我们在对话框中的其他位置选择颜色，代码将自动更改以匹配所选颜色，但我们也可以直接在字段中输入数字并查看结果，或者直接输入颜色名称。如果我们输入名称的开头字母，所有以这些字母开头的可用名称将会显示出来，如[图12-44](ch12s04.html#typing_a_color_name_in_the_html_notation
    "图12-44. 在HTML符号字段中输入颜色名称")所示。
- en: The small button to the right of the field is used to select a color from an
    image or from anywhere on the screen. If we click this button, the mouse pointer
    icon becomes an eyedropper. When we click somewhere on the screen (even outside
    of a GIMP window), the corresponding pixel color is selected for the Color chooser,
    and this color defines the value of the six sliders and the HTML notation field.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 字段右侧的小按钮用于从图像或屏幕上的任何位置选择颜色。如果我们点击这个按钮，鼠标指针图标将变为吸管。当我们点击屏幕上的某个位置（即使是在GIMP窗口外），该位置对应的像素颜色将被选中作为颜色选择器的颜色，并且该颜色将决定六个滑块和HTML符号字段的值。
- en: Below this field are 12 colored buttons that represent the *color history*.
    The button on the left with a `>` sign is used to add the current color to this
    history and remove the oldest color (the bottom-right one). If we click any of
    these buttons, its color becomes the current one.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在此字段下方是12个彩色按钮，表示*颜色历史记录*。左侧带有`>`符号的按钮用于将当前颜色添加到历史记录中，并移除最旧的颜色（右下角的颜色）。如果我们点击这些按钮中的任何一个，它的颜色将成为当前颜色。
- en: The three buttons in the bottom-right corner of the dialog are mostly self-explanatory.
    RESET changes the current color to black but does not affect the history.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框右下角的三个按钮大多数都是不言自明的。RESET按钮将当前颜色更改为黑色，但不会影响历史记录。
- en: The bottom-left quadrant of the dialog contains only three controls. CURRENT
    and OLD represent, respectively, the current color as defined in the Color chooser
    dialog and the color defined before that. Click and drag the color from either
    of these two buttons to an image to fill the current selection. The HELP button
    does what you’d expect.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的左下角只包含三个控件。CURRENT和OLD分别表示当前颜色（在颜色选择器对话框中定义的颜色）和之前定义的颜色。点击并拖动这两个按钮中的任何一个颜色到图像上，以填充当前选择的颜色。HELP按钮会执行你预期的操作。
- en: The top-left quadrant contains a rectangular display and five tabs, which give
    five different ways to finely tune the desired color. [Figure 12-43](ch12s04.html#color_chooser-id00093
    "Figure 12-43. The Color chooser") shows the Wilber tab, the only one that uses
    the six radio buttons to the left of the HSV and RGB sliders. Here, the selected
    radio button is H, which means the spectrum to the right of the large rectangular
    area shows the Hue scale. The pointer in this display indicates the current hue,
    whereas the rectangle on the left represents the possible variations of saturation
    and value when this hue is chosen. If we click this rectangle, we choose a specific
    value (in the horizontal scale) and a specific saturation (in the vertical scale).
    Two perpendicular lines cross at the chosen point, and the sliders on the right
    side of the dialog change to reflect the new saturation and value.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 左上角的区域包含一个矩形显示框和五个标签，这些标签提供了五种不同的方式来精细调整所需的颜色。[图 12-43](ch12s04.html#color_chooser-id00093
    "图 12-43. 颜色选择器")显示了Wilber标签，这是唯一一个使用HSV和RGB滑块左侧的六个单选按钮的标签。在这里，选中的单选按钮是H，这意味着大矩形区域右侧的色谱显示了色调（Hue）刻度。显示中的指针表示当前的色调，而左侧的矩形表示选择此色调时饱和度和亮度的可能变化。如果我们点击这个矩形，就会选择一个特定的值（在水平方向上）和一个特定的饱和度（在垂直方向上）。两条垂直线在选定的点交叉，且对话框右侧的滑块会随之变化，以反映新的饱和度和亮度。
- en: '![The Color chooser](httpatomoreillycomsourcenostarchimages1455540.png.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![颜色选择器](httpatomoreillycomsourcenostarchimages1455540.png.jpg)'
- en: Figure 12-43. The Color chooser
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-43. 颜色选择器
- en: '![Typing a color name in the HTML notation field](httpatomoreillycomsourcenostarchimages1455542.png.jpg)'
  id: totrans-203
  prefs: []
  type: TYPE_IMG
  zh: '![在HTML表示法字段中输入颜色名称](httpatomoreillycomsourcenostarchimages1455542.png.jpg)'
- en: Figure 12-44. Typing a color name in the HTML notation field
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-44. 在HTML表示法字段中输入颜色名称
- en: Selecting a different radio button changes the rectangular display on the left.
    For example, [Figure 12-45](ch12s04.html#wilber_tabcomma_blue_selection "Figure 12-45. The
    Wilber tab, Blue selection") shows the display when the B (blue) radio button
    has been selected. The thin vertical rectangle allows us to choose the quantity
    of blue, and the large rectangle allows us to adjust the quantities of red and
    green. Occasionally, the combination that’s activated when you check the B radio
    button is more convenient, but usually the default (H) works best.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 选择不同的单选按钮会改变左侧的矩形显示。例如，[图 12-45](ch12s04.html#wilber_tabcomma_blue_selection
    "图 12-45. Wilber标签，蓝色选择")显示了选中B（蓝色）单选按钮时的显示。细长的垂直矩形让我们选择蓝色的量，而大矩形让我们调整红色和绿色的量。有时，选中B单选按钮时激活的组合更方便，但通常默认的（H）设置效果最佳。
- en: The Triangle tab has an icon showing a thumbnail of that tab’s display ([Figure 12-46](ch12s04.html#triangle_tab
    "Figure 12-46. The Triangle tab")). This tab offers another graphical way to choose
    the color using the HSV model. Clicking the hue circle selects the H component.
    A click in the triangle then changes the values of the S and V components. At
    one of the triangle’s points, S is 0; at another point, V is 0; at the final point,
    both are at the maximum (100). Some people find this tab more intuitive than the
    Wilber tab.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: Triangle标签有一个图标，显示该标签显示框的缩略图([图 12-46](ch12s04.html#triangle_tab "图 12-46. Triangle标签"))。这个标签提供了另一种基于HSV模型选择颜色的图形方式。点击色调圆圈选择H分量。点击三角形则会改变S和V分量的值。在三角形的一个点，S为0；在另一个点，V为0；在最后一个点，S和V都是最大值（100）。一些人觉得这个标签比Wilber标签更直观。
- en: '![The Wilber tab, Blue selection](httpatomoreillycomsourcenostarchimages1455544.png.jpg)'
  id: totrans-207
  prefs: []
  type: TYPE_IMG
  zh: '![Wilber标签，蓝色选择](httpatomoreillycomsourcenostarchimages1455544.png.jpg)'
- en: Figure 12-45. The Wilber tab, Blue selection
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-45. Wilber标签，蓝色选择
- en: The tab with a paintbrush icon behaves like a simulation of watercolor painting
    ([Figure 12-47](ch12s04.html#watercolor_tab "Figure 12-47. The Watercolor tab")).
    A click anywhere in the rectangle adds a small quantity of that color to the current
    one. The vertical slider sets the quantity of color being added, from 0 at the
    bottom to the maximum at the top. Because colors are added to the existing color,
    this tab uses the CMY model, and the color obtained becomes stronger the more
    we click. If we click one of the rectangle’s sides, the saturation increases.
    If we click in the center of the rectangle, the value decreases. This tab is especially
    useful for building a light color, like a pastel, beginning with a full white.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 带有画笔图标的选项卡表现得像是水彩画的模拟（[图 12-47](ch12s04.html#watercolor_tab "图 12-47. 水彩选项卡")）。点击矩形的任何位置都会将少量该颜色添加到当前颜色中。垂直滑块设置添加颜色的数量，从底部的
    0 到顶部的最大值。由于颜色是添加到现有颜色中的，因此此选项卡使用 CMY 模型，且颜色越强烈，我们点击的次数越多。如果点击矩形的一侧，饱和度会增加。如果点击矩形的中心，值会减少。这个选项卡特别适合用来构建浅色，如从完全白色开始的粉彩色。
- en: '![The Triangle tab](httpatomoreillycomsourcenostarchimages1455546.png.jpg)'
  id: totrans-210
  prefs: []
  type: TYPE_IMG
  zh: '![三角形选项卡](httpatomoreillycomsourcenostarchimages1455546.png.jpg)'
- en: Figure 12-46. The Triangle tab
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-46. 三角形选项卡
- en: '![The Watercolor tab](httpatomoreillycomsourcenostarchimages1455548.png.jpg)'
  id: totrans-212
  prefs: []
  type: TYPE_IMG
  zh: '![水彩选项卡](httpatomoreillycomsourcenostarchimages1455548.png.jpg)'
- en: Figure 12-47. The Watercolor tab
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-47. 水彩选项卡
- en: The tab marked with a printer icon contains options based on the CMYK color
    model ([Figure 12-48](ch12s04.html#print_tab "Figure 12-48. The Print tab")).
    This tab is useful mainly for gathering information about how the colors will
    be mixed when printing rather than as a way to adjust a color, particularly because
    you can’t automatically change the CMY channels when changing the K channel, which
    is a common printing adjustment.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 标有打印机图标的选项卡包含基于 CMYK 颜色模型的选项（[图 12-48](ch12s04.html#print_tab "图 12-48. 打印选项卡")）。此选项卡主要用于收集有关打印时颜色如何混合的信息，而不是用来调整颜色，特别是因为在更改
    K 通道时，无法自动更改 CMY 通道，这在打印调整中很常见。
- en: '![The Print tab](httpatomoreillycomsourcenostarchimages1455550.png.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![打印选项卡](httpatomoreillycomsourcenostarchimages1455550.png.jpg)'
- en: Figure 12-48. The Print tab
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-48. 打印选项卡
- en: '![The Palette tab](httpatomoreillycomsourcenostarchimages1455552.png.jpg)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![调色板选项卡](httpatomoreillycomsourcenostarchimages1455552.png.jpg)'
- en: Figure 12-49. The Palette tab
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-49. 调色板选项卡
- en: 'The remaining tab has an icon showing a finger on a palette ([Figure 12-49](ch12s04.html#palette_tab
    "Figure 12-49. The Palette tab")). The center square shows the contents of the
    current palette, a concept explained in [22.7 Building New Palettes](ch22s07.html
    "22.7 Building New Palettes"). The only colors you can choose are from this palette,
    but you can change the palette in the Palettes dialog, which you open via **Image:
    Windows > Dockable Dialogs > Palettes**.'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 剩下的选项卡有一个图标，显示了一只手指指向调色板（[图 12-49](ch12s04.html#palette_tab "图 12-49. 调色板选项卡")）。中心的方块显示当前调色板的内容，这是[22.7
    创建新调色板](ch22s07.html "22.7 创建新调色板")中解释的一个概念。你只能从这个调色板中选择颜色，但你可以通过**图像：窗口 > 可停靠对话框
    > 调色板**来更改调色板。
- en: 'Access a simplified dockable dialog for choosing colors by selecting **Image:
    Windows > Dockable dialogs > Colors**, as shown in [Figure 12-50](ch12s04.html#colors_dialogcomma_wilber_tab
    "Figure 12-50. The Colors dialog, Wilber tab"). The Colors dialog is a modified
    version of the left portion of the Color chooser. The Wilber tab contains six
    buttons on the right, used to choose the color model and the master channel. The
    Triangle, Watercolor, Printer, and Palette tabs are identical to those on the
    Color chooser. The last tab is a slightly modified version of the right portion
    of the Color chooser dialog ([Figure 12-51](ch12s04.html#colors_dialogcomma_sliders_tab
    "Figure 12-51. The Colors dialog, Sliders tab")).'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 通过选择**图像：窗口 > 可停靠对话框 > 颜色**来访问简化的颜色选择对话框，如[图 12-50](ch12s04.html#colors_dialogcomma_wilber_tab
    "图 12-50. 颜色对话框，Wilber 选项卡")所示。颜色对话框是颜色选择器左侧部分的修改版。Wilber 选项卡包含右侧的六个按钮，用于选择颜色模型和主通道。三角形、水彩、打印机和调色板选项卡与颜色选择器中的完全相同。最后一个选项卡是颜色选择器对话框右侧部分的稍微修改版（[图
    12-51](ch12s04.html#colors_dialogcomma_sliders_tab "图 12-51. 颜色对话框，滑块选项卡")）。
- en: '![The Colors dialog, Wilber tab](httpatomoreillycomsourcenostarchimages1455554.png.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![颜色对话框，Wilber 选项卡](httpatomoreillycomsourcenostarchimages1455554.png.jpg)'
- en: Figure 12-50. The Colors dialog, Wilber tab
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-50. 颜色对话框，Wilber 选项卡
- en: '![The Colors dialog, Sliders tab](httpatomoreillycomsourcenostarchimages1455556.png.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![颜色对话框，滑块选项卡](httpatomoreillycomsourcenostarchimages1455556.png.jpg)'
- en: Figure 12-51. The Colors dialog, Sliders tab
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-51. Colors 对话框，滑块标签
- en: The bottom of the Colors dialog contains several useful buttons. On the left
    are the buttons for setting the foreground and background colors. On the right
    is the button for applying the eyedropper and the field containing the HTML notation
    for the current color.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: Colors 对话框的底部包含几个有用的按钮。左侧是设置前景色和背景色的按钮。右侧是应用吸管工具的按钮和显示当前颜色 HTML 表示法的字段。
- en: Levels
  id: totrans-226
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Levels
- en: 'The Levels tool, opened by selecting **Image: Colors > Levels** or **Image:
    Tools > Color Tools > Levels**, is one of the most useful tools in GIMP for photo
    processing. In a nutshell, use the Levels tool (and the Curves tool, discussed
    in the next section) to adjust the relationship between initial pixel values (the
    input) and pixel values in the new, transformed image (the output). The Levels
    tool dialog is shown in [Figure 12-52](ch12s04.html#levels_dialog-id00094 "Figure 12-52. The
    Levels dialog").'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '通过选择 **图像: 颜色 > Levels** 或 **图像: 工具 > 颜色工具 > Levels** 打开的 Levels 工具，是 GIMP
    中用于照片处理的最有用工具之一。简而言之，使用 Levels 工具（以及下节将讨论的 Curves 工具）调整初始像素值（输入）与新图像中的像素值（输出）之间的关系。[图
    12-52](ch12s04.html#levels_dialog-id00094 "图 12-52. Levels 对话框") 显示了 Levels 工具对话框。'
- en: '![The Levels dialog](httpatomoreillycomsourcenostarchimages1455558.png.jpg)'
  id: totrans-228
  prefs: []
  type: TYPE_IMG
  zh: '![Levels 对话框](httpatomoreillycomsourcenostarchimages1455558.png.jpg)'
- en: Figure 12-52. The Levels dialog
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-52. Levels 对话框
- en: '![Preset settings](httpatomoreillycomsourcenostarchimages1455560.png.jpg)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![预设设置](httpatomoreillycomsourcenostarchimages1455560.png.jpg)'
- en: Figure 12-53. Preset settings
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-53. 预设设置
- en: The PRESETS field at the top of the Levels dialog opens a menu of previously
    saved settings. The settings are identified in ISO format by the date and time
    they were saved (see [Figure 12-53](ch12s04.html#preset_settings "Figure 12-53. Preset
    settings")). The plus sign on the right saves the current settings. This is more
    convenient than remembering the ISO date and time when you used a specific setting.
    Named settings are listed at the end of the saved settings. The same capabilities
    are available in the other color tools. The small triangle on the far right opens
    the menu shown in [Figure 12-54](ch12s04.html#levels_dialog_menu "Figure 12-54. The
    Levels dialog menu"). Use the first two entries to import or export settings to
    or from a file. The last entry opens the dialog shown in [Figure 12-55](ch12s04.html#settings_management
    "Figure 12-55. Settings management"), which lists the saved settings and contains
    three buttons to import settings, export settings, and delete the selected settings.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: Levels 对话框顶部的 **PRESETS** 字段打开了一个包含之前保存的设置的菜单。设置的标识采用 ISO 格式，显示它们保存的日期和时间（见
    [图 12-53](ch12s04.html#preset_settings "图 12-53. 预设设置")）。右侧的加号按钮保存当前设置。这比记住使用特定设置时的
    ISO 日期和时间更为方便。命名的设置列在保存的设置末尾。其他颜色工具也具备相同的功能。最右侧的小三角形打开 [图 12-54](ch12s04.html#levels_dialog_menu
    "图 12-54. Levels 对话框菜单") 中显示的菜单。使用前两项条目可将设置导入或导出到文件。最后一项打开 [图 12-55](ch12s04.html#settings_management
    "图 12-55. 设置管理") 中显示的对话框，其中列出了保存的设置，并包含三个按钮，用于导入设置、导出设置和删除选定的设置。
- en: '![The Levels dialog menu](httpatomoreillycomsourcenostarchimages1455562.png.jpg)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![Levels 对话框菜单](httpatomoreillycomsourcenostarchimages1455562.png.jpg)'
- en: Figure 12-54. The Levels dialog menu
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-54. Levels 对话框菜单
- en: '![Settings management](httpatomoreillycomsourcenostarchimages1455564.png.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![设置管理](httpatomoreillycomsourcenostarchimages1455564.png.jpg)'
- en: Figure 12-55. Settings management
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-55. 设置管理
- en: The next line of the Levels dialog contains a menu to select the Channel that
    will be affected. The choices are Value, Red, Green, Blue, and Alpha (if an Alpha
    channel is available). When you select the Value channel, all three color channels
    change. The Value channel is the only channel available for a grayscale image.
    The RESET CHANNEL button resets the selected channel to its initial value without
    affecting any changes made elsewhere in the dialog.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: Levels 对话框的下一行包含一个菜单，用于选择将受影响的通道。可选的通道有：Value（值）、Red（红色）、Green（绿色）、Blue（蓝色）和
    Alpha（如果有 Alpha 通道的话）。当选择 Value 通道时，所有三个颜色通道都会发生变化。对于灰度图像，唯一可用的通道是 Value 通道。**RESET
    CHANNEL** 按钮将所选通道重置为其初始值，而不会影响对话框中其他部分的更改。
- en: The two buttons on the right set the characteristic of the histogram shown below.
    The histogram is a way to display the frequency of different values in the chosen
    channel. In 8-bit depth representation, there are 256 different values, from 0
    on the left to 255 on the right. The height of a bar in the graph is proportional
    to the number of pixels in the image with this value. If the leftmost button is
    pressed, the peak corresponds literally to the number of pixels, whereas in the
    logarithmic histogram, which you select with the rightmost button, the values
    are calculated using a logarithm. As [Figure 12-56](ch12s04.html#logarithmic_histogram
    "Figure 12-56. A logarithmic histogram") shows, the logarithmic histogram better
    illustrates variations in the low values, whereas the linear histogram (shown
    in [Figure 12-52](ch12s04.html#levels_dialog-id00094 "Figure 12-52. The Levels
    dialog")) exaggerates the peaks.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 右侧的两个按钮设置下方直方图的特征。直方图是一种显示所选通道中不同值频率的方式。在8位深度表示中，共有256个不同的值，从左侧的0到右侧的255。图中条形的高度与图像中具有该值的像素数量成正比。如果按下最左侧的按钮，峰值表示像素的数量，而在使用最右侧按钮选择的对数直方图中，值是通过对数计算得出的。如[图12-56](ch12s04.html#logarithmic_histogram
    "图12-56。对数直方图")所示，对数直方图更好地显示了低值的变化，而线性直方图（见[图12-52](ch12s04.html#levels_dialog-id00094
    "图12-52。级别对话框")）则夸大了峰值。
- en: '![A logarithmic histogram](httpatomoreillycomsourcenostarchimages1455566.png.jpg)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![对数直方图](httpatomoreillycomsourcenostarchimages1455566.png.jpg)'
- en: Figure 12-56. A logarithmic histogram
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-56。对数直方图
- en: The purpose of the Levels tool is to change the histogram by assigning new values
    to certain pixels. Generally, images look best when pixels are distributed across
    the full range. As you can see, the values greater than 200 are not represented
    at all in the example we’ve used.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: Levels 工具的目的是通过为某些像素分配新值来改变直方图。通常，当像素分布在整个范围内时，图像效果最好。如您所见，在我们使用的示例中，大于200的值根本没有被表示。
- en: 'Just under the histogram are three movable triangles. The black one on the
    left corresponds to the *black point*: All pixels with a value less than or equal
    to the position of this triangle are set to 0 (i.e., black for color channels
    or full transparency for the Alpha channel). When this point moves to the right,
    more pixels become black, which is generally only beneficial if the histogram
    is empty on the left. The white triangle on the right corresponds to the *white
    point*: All pixels with a value greater than or equal to the position of that
    triangle are set to 255 (i.e., the maximum). Our example image would benefit from
    this adjustment because values greater than 200 are not represented at all. If
    we move the white triangle to 200, the full range of available values is represented
    in the image, which improves the contrast. The result is shown in [Figure 12-57](ch12s04.html#figure_12dot8_after_moving_the_white_tri
    "Figure 12-57. Figure 12-8 after moving the white triangle to 200"), which you
    can compare to the original image, shown in [Figure 12-8](ch12s02.html#bottom_layer
    "Figure 12-8. The bottom layer").'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 在直方图下方有三个可移动的三角形。左侧的黑色三角形对应于*黑色点*：所有像素值小于或等于该三角形位置的像素会被设置为0（即，颜色通道为黑色，或 Alpha
    通道为完全透明）。当这个点向右移动时，更多的像素变为黑色，通常只有在直方图的左侧为空时才有利。右侧的白色三角形对应于*白色点*：所有像素值大于或等于该三角形位置的像素会被设置为255（即最大值）。我们的示例图像需要进行此调整，因为大于200的值完全没有表示。如果我们将白色三角形移动到200，图像中将表示可用值的完整范围，从而提高对比度。结果如[图12-57](ch12s04.html#figure_12dot8_after_moving_the_white_tri
    "图12-57。将白色三角形移动到200后的图12-8")所示，您可以与原始图像进行对比，原始图像见[图12-8](ch12s02.html#bottom_layer
    "图12-8。底层图像")。
- en: '![after moving the white triangle to 200](httpatomoreillycomsourcenostarchimages1455568.png.jpg)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![将白色三角形移动到200后的图像](httpatomoreillycomsourcenostarchimages1455568.png.jpg)'
- en: Figure 12-57. [Figure 12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom
    layer") after moving the white triangle to 200
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-57。[图12-8](ch12s02.html#bottom_layer "图12-8。底层图像")将白色三角形移动到200后的图像
- en: The middle, gray triangle corresponds to the *midpoint*. Moving it to the left
    makes the image lighter in the Value channel, more saturated in a color channel,
    or more opaque in the Alpha channel. Moving it to the right has the opposite effect.
    This slider changes the value of the *Gamma factor*, or Gamma correction, which
    specifies the shape of the *answering curve*. The answering curve represents the
    relationship between the input (initial pixel) and the output (new pixel) values.
    If Gamma = 1, the curve is a straight line. Increasing Gamma makes the curve convex,
    and decreasing it makes the curve concave.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 中间的灰色三角形对应于*中点*。将其向左移动会使图像在亮度通道中变亮，在颜色通道中更加饱和，或在Alpha通道中更加不透明。将其向右移动则会产生相反的效果。这个滑块改变的是*Gamma因子*的值，或称为Gamma校正，它指定了*响应曲线*的形状。响应曲线表示输入（初始像素）和输出（新像素）值之间的关系。如果Gamma
    = 1，则曲线是一条直线。增加Gamma会使曲线变为凸形，而减少Gamma则会使曲线变为凹形。
- en: Instead of moving one of the triangles by hand, we can also change the corresponding
    numeric field. Additionally, two eyedroppers, one for the black point and the
    other for the white point, are available. By clicking one of them and then clicking
    in the image on a pixel of the corresponding shade, we can adjust the triangles
    so they bracket the values that are represented in the image.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 我们不仅可以手动移动其中一个三角形，还可以更改相应的数值字段。此外，提供了两个吸管工具，一个用于黑色点，一个用于白色点。点击其中一个吸管工具，然后在图像中点击对应阴影的像素，我们可以调整三角形，以便它们括住图像中表示的值。
- en: All the settings covered so far deal with the INPUT LEVELS, which enlarge the
    range of pixel values in the image to build a new image. Just below those controls
    are two triangles that alter the OUTPUT LEVELS. Moving the OUTPUT LEVELS triangles
    toward each other restricts the range of possible values. In the Value channel,
    for example, this reduces the image contrast, making the image duller, as shown
    in [Figure 12-58](ch12s04.html#figure_12dot8_after_restricting_the_outp "Figure 12-58. Figure 12-8
    after restricting the output levels to [100 to 200]").
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，所有的设置都涉及到输入级别（INPUT LEVELS），它们通过扩大图像中像素值的范围来构建新图像。紧接着这些控制项下方是两个可以改变输出级别（OUTPUT
    LEVELS）的三角形。将输出级别的三角形向彼此靠近会限制可能值的范围。例如，在亮度通道（Value channel）中，这样做会减少图像的对比度，使图像看起来更暗淡，如[图12-58](ch12s04.html#figure_12dot8_after_restricting_the_outp
    "Figure 12-58. Figure 12-8 after restricting the output levels to [100 to 200]")所示。
- en: '![after restricting the output levels to [100 to 200]](httpatomoreillycomsourcenostarchimages1455570.png.jpg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![将输出级别限制为[100到200]后](httpatomoreillycomsourcenostarchimages1455570.png.jpg)'
- en: Figure 12-58. [Figure 12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom
    layer") after restricting the output levels to [100 to 200]
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-58。[图12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom layer")在将输出级别限制为[100到200]之后
- en: '![after inverting the output levels](httpatomoreillycomsourcenostarchimages1455572.png.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![反转输出级别后](httpatomoreillycomsourcenostarchimages1455572.png.jpg)'
- en: Figure 12-59. [Figure 12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom
    layer") after inverting the output levels
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-59。[图12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom layer")在反转输出级别之后
- en: 'If we move the white triangle to the left side and the black triangle to the
    right side, then we invert the image, as illustrated in [Figure 12-59](ch12s04.html#figure_12dot8_after_inverting_the_output
    "Figure 12-59. Figure 12-8 after inverting the output levels"). Doing this accomplishes
    the same thing as applying **Image: Colors > Invert**, except that when using
    the Levels tool, we can invert each of the RGB color channels separately.'
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们将白色三角形移动到左侧，将黑色三角形移动到右侧，那么我们就会反转图像，如[图12-59](ch12s04.html#figure_12dot8_after_inverting_the_output
    "Figure 12-59. Figure 12-8 after inverting the output levels")所示。这样做的效果和应用**图像：颜色
    > 反转**相同，唯一的不同是，在使用“级别”工具时，我们可以分别反转每个RGB颜色通道。
- en: So far we’ve discussed the manual settings, which alter only the selected channel.
    The Levels tool also includes some automatic settings, which act on all channels
    at the same time. The simplest and most useful of these is the AUTO button, which
    extends the input range of the three color channels as far as possible. [Figure 12-60](ch12s04.html#figure_12dot8_after_using_the_auto_butto
    "Figure 12-60. Figure 12-8 after using the Auto button") shows the result for
    our image. Generally this improves the image, but in this example, the change
    is too dramatic.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们讨论的是手动设置，只会改变选定通道的内容。级别工具还包括一些自动设置，这些设置会同时作用于所有通道。其中最简单且最有用的是“自动”按钮，它会尽可能扩展三个颜色通道的输入范围。[图
    12-60](ch12s04.html#figure_12dot8_after_using_the_auto_butto "图 12-60. 使用自动按钮后的图
    12-8")展示了我们图像的结果。通常这会改善图像，但在这个例子中，变化过于剧烈。
- en: '![after using the Auto button](httpatomoreillycomsourcenostarchimages1455574.png.jpg)'
  id: totrans-254
  prefs: []
  type: TYPE_IMG
  zh: '![使用自动按钮后的效果](httpatomoreillycomsourcenostarchimages1455574.png.jpg)'
- en: Figure 12-60. [Figure 12-8](ch12s02.html#bottom_layer "Figure 12-8. The bottom
    layer") after using the Auto button
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-60. 使用自动按钮后的[图 12-8](ch12s02.html#bottom_layer "图 12-8. 底层")效果
- en: '![The Levels tool options](httpatomoreillycomsourcenostarchimages1455576.png.jpg)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![级别工具选项](httpatomoreillycomsourcenostarchimages1455576.png.jpg)'
- en: Figure 12-61. The Levels tool options
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-61. 级别工具选项
- en: The three eyedroppers on the right, like the histogram eyedroppers, can be used
    to select the black and white points and also a midpoint in the image. But unlike
    the histogram eyedroppers, these eyedroppers change all the channels, which can
    lead to strange and unnatural effects. Note that the order in which these points
    are picked is significant, and picking them all is not necessary. Generally, the
    midpoint is the most difficult to pick accurately.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 右侧的三个吸管工具，与直方图吸管类似，可用于选择图像中的黑白点以及一个中间点。但与直方图吸管不同，这些吸管会更改所有通道，这可能导致奇怪和不自然的效果。请注意，选择这些点的顺序很重要，并且并非所有点都必须选择。通常，中间点是最难准确选择的。
- en: 'Although the Levels tool is, by default, not accessed from the Toolbox (change
    this in the **Image: Edit > Preferences** dialog, TOOLBOX entry), it does have
    Toolbox options, which appear when the tool is selected. These are shown in [Figure 12-61](ch12s04.html#levels_tool_options
    "Figure 12-61. The Levels tool options"). The HISTOGRAM SCALE radio buttons do
    the same thing as the buttons at the top right of the Levels dialog. The SAMPLE
    AVERAGE option, if checked, sets the radius of the area used to pick a color in
    the image when using one of the eyedroppers. This square appears if you press
    the mouse button when clicking the image with the eyedropper selected.'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管级别工具默认情况下无法通过工具箱访问（可以在**图像：编辑 > 偏好设置**对话框中的工具箱条目中更改此设置），它确实有工具箱选项，在选择该工具时会显示。这些选项如[图
    12-61](ch12s04.html#levels_tool_options "图 12-61. 级别工具选项")所示。直方图比例单选按钮的功能与级别对话框右上角的按钮相同。勾选“样本平均值”选项时，设置用于从图像中选择颜色的区域半径。当选择吸管工具并点击图像时，如果按下鼠标按钮，则会出现此方块。
- en: '![The Curves dialog](httpatomoreillycomsourcenostarchimages1455578.png.jpg)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![曲线对话框](httpatomoreillycomsourcenostarchimages1455578.png.jpg)'
- en: Figure 12-62. The Curves dialog
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-62. 曲线对话框
- en: Use the Curves tool to make the same adjustments as the Levels tool, but the
    Curves tool offers more control. Below the three eyedroppers in the Levels dialog
    is an EDIT THESE SETTINGS AS CURVES button, which retains any changes that were
    made in the Levels dialog and applies the Curves tool. The PREVIEW button allows
    you to see the effect of your changes and should always be checked. The four buttons
    at the bottom of the Levels dialog are self-explanatory.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 使用曲线工具可以进行与级别工具相同的调整，但曲线工具提供了更多的控制。级别对话框中三个吸管下方有一个“将这些设置作为曲线编辑”按钮，它会保留在级别对话框中所做的任何更改，并应用曲线工具。预览按钮允许你查看更改的效果，应该始终勾选。级别对话框底部的四个按钮自解释。
- en: Curves
  id: totrans-263
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 曲线
- en: 'The Curves tool is found via **Image: Colors > Curves** or **Image: Tools >
    Color Tools > Curves** and opens the dialog shown in [Figure 12-62](ch12s04.html#curves_dialog-id00095
    "Figure 12-62. The Curves dialog"). The Curves tool’s effect is similar to that
    of the Levels tool, but it offers fewer automatized options and more control.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 曲线工具可以通过**图像：颜色 > 曲线**或**图像：工具 > 颜色工具 > 曲线**找到，并打开如[图 12-62](ch12s04.html#curves_dialog-id00095
    "图 12-62. 曲线对话框")所示的对话框。曲线工具的效果类似于级别工具，但它提供的自动化选项较少，控制更精细。
- en: The top and the bottom of the Curves dialog are the same as the Levels dialog.
    In the rectangle at the center of the Curves dialog, you’ll see an image of the
    histogram. The diagonal of this rectangle represents the answering curve. Input
    values vary horizontally, and output values vary vertically. Initially, the input
    and output values are equal. When the mouse pointer is in the rectangle, its coordinates
    are displayed in the top-left corner.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 曲线对话框的顶部和底部与级别对话框相同。在曲线对话框中央的矩形区域内，你会看到直方图的图像。这个矩形的对角线表示响应曲线。输入值水平变化，输出值垂直变化。最初，输入值和输出值是相等的。当鼠标指针位于矩形区域时，其坐标会显示在左上角。
- en: '![A smooth curve](httpatomoreillycomsourcenostarchimages1455580.png.jpg)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![平滑曲线](httpatomoreillycomsourcenostarchimages1455580.png.jpg)'
- en: Figure 12-63. A smooth curve
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-63. 平滑曲线
- en: '![A freehand curve](httpatomoreillycomsourcenostarchimages1455582.png.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![自由手绘曲线](httpatomoreillycomsourcenostarchimages1455582.png.jpg)'
- en: Figure 12-64. A freehand curve
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-64. 自由手绘曲线
- en: By clicking and dragging the answering curve, we can change its shape. If the
    CURVE TYPE button shows SMOOTH, as it does by default, the curve, which remains
    smooth, is adjusted to pass by the points added, as shown in [Figure 12-63](ch12s04.html#smooth_curve
    "Figure 12-63. A smooth curve"). These points, called *anchors*, are automatically
    added every time you click in the histogram. The current anchor is a black dot.
    Move it by clicking and dragging or by using the up and down arrow keys on the
    keyboard. Press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) to
    move the arrow keys by 15 pixels at a time, rather than the default of 1 pixel.
    The left and right arrow keys select the next anchor in the corresponding direction.
    If you click near an existing anchor, you can drag it to another position, thus
    changing the curve. To remove an anchor, drag it into one of the other anchors.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 通过点击并拖动响应曲线，我们可以改变其形状。如果CURVE TYPE按钮显示为平滑（SMOOTH），如默认设置，曲线将保持平滑，并且调整为通过添加的点，如[图12-63](ch12s04.html#smooth_curve
    "图12-63. 平滑曲线")所示。这些点称为*锚点*，每次点击直方图时会自动添加。当前的锚点是黑色圆点。通过点击并拖动或使用键盘上的上下箭头键来移动锚点。按住![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)可让箭头键一次移动15像素，而非默认的1像素。左右箭头键选择相应方向上的下一个锚点。如果你点击现有锚点附近的区域，可以将其拖动到另一个位置，从而改变曲线。要删除锚点，只需将其拖入其他锚点。
- en: While the tool is in use, the mouse pointer takes the form of an eyedropper
    when you hover over the image. If you click the image, a vertical line appears
    in the Curves dialog at the value of the clicked pixel. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-clicking
    creates an anchor in the selected channel, and ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    creates an anchor in all the channels. The anchor is inserted only when the mouse
    button is released, so we can drag the point around the image to find a target
    value.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 当工具在使用时，当鼠标指针悬停在图像上时，它会变成吸管形状。如果点击图像，则在曲线对话框中会出现一条垂直线，指示点击像素的值。![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)点击会在所选通道中创建一个锚点，而![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)点击会在所有通道中创建一个锚点。锚点仅在松开鼠标按钮时插入，因此我们可以拖动该点在图像上找到目标值。
- en: '![The result of the freehand curve](httpatomoreillycomsourcenostarchimages1455584.png.jpg)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![自由手绘曲线的结果](httpatomoreillycomsourcenostarchimages1455584.png.jpg)'
- en: Figure 12-65. The result of the freehand curve
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-65. 自由手绘曲线的结果
- en: If the CURVE TYPE is set to FREEHAND, the curve is built by clicking and dragging
    in the rectangle and generally comes out jagged, as shown in [Figure 12-64](ch12s04.html#freehand_curve
    "Figure 12-64. A freehand curve"). The result is also more difficult to control,
    as illustrated in [Figure 12-65](ch12s04.html#result_of_the_freehand_curve "Figure 12-65. The
    result of the freehand curve"). But if we then choose SMOOTH as the curve type,
    the curve is automatically smoothed, and the necessary anchors are added.
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 如果将曲线类型设置为自由手绘（FREEHAND），则曲线通过在矩形内点击并拖动来构建，通常会呈现出锯齿状，如[图12-64](ch12s04.html#freehand_curve
    "图12-64. 自由手绘曲线")所示。结果也更难以控制，如[图12-65](ch12s04.html#result_of_the_freehand_curve
    "图12-65. 自由手绘曲线的结果")所示。但如果我们随后选择平滑（SMOOTH）作为曲线类型，曲线会自动平滑，且会添加必要的锚点。
- en: The options for the Curves tool are the same as for the Levels tool (see [Figure 12-61](ch12s04.html#levels_tool_options
    "Figure 12-61. The Levels tool options")).
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 曲线工具的选项与级别工具的选项相同（参见[图12-61](ch12s04.html#levels_tool_options "图12-61. 级别工具选项")）。
- en: The Curves tool does not have any automatic controls and can be more difficult
    to master than the Levels tool, but it allows for more precise color handling.
    If we keep the curve straight and move only its end anchors horizontally, the
    effect is the same as moving the end triangles under INPUT LEVELS in the Levels
    tool. Moving them vertically has the same effect as moving the triangles under
    OUTPUT LEVELS. Adding an anchor in the middle of the curve and moving it vertically
    does the same thing as moving the middle triangle in the Levels tool and is a
    more intuitive visualization of the Gamma value.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 曲线工具没有任何自动控制，相比于 Levels 工具，它更难掌握，但它允许更精确的颜色处理。如果我们保持曲线平直，仅水平移动它的端点锚点，那么效果与在
    Levels 工具下移动输入级别（INPUT LEVELS）下的端点三角形相同。垂直移动它们的效果与在输出级别（OUTPUT LEVELS）下移动三角形相同。在曲线中间添加一个锚点并垂直移动它，效果与在
    Levels 工具中移动中间三角形相同，并且它是对 Gamma 值更直观的可视化。
- en: '![Inverting the curve](httpatomoreillycomsourcenostarchimages1455586.png.jpg)'
  id: totrans-277
  prefs: []
  type: TYPE_IMG
  zh: '![反转曲线](httpatomoreillycomsourcenostarchimages1455586.png.jpg)'
- en: Figure 12-66. Inverting the curve
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-66. 反转曲线
- en: Inverting the curve by putting the left (lower) anchor in the top-left corner
    and the right (upper) anchor in the bottom-right corner results in a negative
    image, as shown in [Figure 12-66](ch12s04.html#inverting_the_curve "Figure 12-66. Inverting
    the curve"). We can also do this in one channel only, with strange and colorful
    results. If we change the curves of individual color channels, they appear in
    their respective colors on the histogram, whereas the current curve is always
    black. These colored curves are not displayed when the Value channel is selected.
    Adjusting the shape of the curve can be tricky. Deforming the curve too much is
    easy and results in exaggerated, unnatural colors.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将左侧（下方）锚点放置在左上角，右侧（上方）锚点放置在右下角，可以反转曲线，从而得到负片效果，如[图 12-66](ch12s04.html#inverting_the_curve
    "图 12-66. 反转曲线")所示。我们也可以仅在一个通道中进行此操作，得到奇异且多彩的结果。如果我们改变单独的颜色通道曲线，它们将在直方图上以各自的颜色显示，而当前曲线始终是黑色的。当选择值通道（Value）时，这些彩色曲线不会显示。调整曲线的形状可能会很棘手，过度变形曲线很容易导致夸张且不自然的颜色。
- en: 12.5 Additional Color Tools
  id: totrans-280
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.5 额外的颜色工具
- en: 'The **Image: Colors** menu contains lots of entries (see [Figure 12-67](ch12s05.html#image_colors_menu
    "Figure 12-67. The Image: Colors menu")). The first section of the menu contains
    the more basic tools, including Levels and Curves, which we just discussed. Now,
    we’ll demonstrate the other tools in this part of the menu using the photograph
    shown in [Figure 12-68](ch12s05.html#sample_image "Figure 12-68. A sample image").
    (Tip: You can access these entries by placing them in the Toolbox or via **Image:
    Tools > Color Tools**.)'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：颜色**菜单包含了许多条目（见[图 12-67](ch12s05.html#image_colors_menu "图 12-67. 图像：颜色菜单")）。菜单的第一部分包含更基础的工具，包括我们刚才讨论的
    Levels 和 Curves。现在，我们将使用[图 12-68](ch12s05.html#sample_image "图 12-68. 样本图像")中显示的照片演示菜单中其他工具。（提示：你可以将这些条目放入工具箱或通过
    **图像：工具 > 颜色工具** 访问。）'
- en: Color Balance
  id: totrans-282
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 颜色平衡
- en: 'The adjustments you can make with the Color Balance tool can also be made with
    the Levels or Curves tool, but some people find the Color Balance tool more intuitive.
    Its dialog is shown in [Figure 12-69](ch12s05.html#color_balance_dialog-id00096
    "Figure 12-69. The Color Balance dialog"). The top of this dialog contains the
    same settings as the Levels and Curves tools, settings that are also shared by
    the next four tools in the menu: Hue-Saturation, Colorize, Brightness-Contrast,
    and Threshold.'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 使用颜色平衡工具进行的调整，也可以通过 Levels 或 Curves 工具完成，但一些人发现颜色平衡工具更直观。它的对话框如[图 12-69](ch12s05.html#color_balance_dialog-id00096
    "图 12-69. 颜色平衡对话框")所示。此对话框的顶部包含与 Levels 和 Curves 工具相同的设置，这些设置也与菜单中接下来的四个工具共享：色相-饱和度（Hue-Saturation）、着色（Colorize）、亮度-对比度（Brightness-Contrast）和阈值（Threshold）。
- en: '![The Image: Colors menu](httpatomoreillycomsourcenostarchimages1455588.png.jpg)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![图像：颜色菜单](httpatomoreillycomsourcenostarchimages1455588.png.jpg)'
- en: 'Figure 12-67. The Image: Colors menu'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-67. 图像：颜色菜单
- en: Adjust the color balance using three sliders [–100 to +100], one for each combination
    of a fundamental color and complementary color in the RGB and CMY models. Recall
    that the pairings are the same in these two models, but the designation of fundamental
    versus complementary differs.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 使用三个滑块调整颜色平衡 [–100 到 +100]，每个滑块对应 RGB 和 CMY 模型中一个基础颜色和互补颜色的组合。请记住，这两个模型中的配对相同，但基础颜色与互补颜色的指定不同。
- en: 'Balance tool to make adjustments in three different ranges: Shadows, Midtones,
    and Highlights. These ranges overlap, and precisely distinguishing them in an
    image is difficult. Because the sliders are very sensitive, achieving a natural-looking
    result is hard, as demonstrated in [Figure 12-70](ch12s05.html#after_using_the_color_balance_tool
    "Figure 12-70. After using the Color Balance tool"). Each of the ranges can be
    reset individually (by setting the value to 0), which makes adjusting an image
    by trial and error easier. Leave the two boxes at the bottom of the dialog checked
    to preview the effects of an adjustment.'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色平衡工具用于在三个不同的范围内进行调整：阴影、中间调和高光。这些范围是重叠的，因此在图像中准确区分它们是很难的。由于滑块非常敏感，要获得自然的效果非常困难，正如在[图12-70](ch12s05.html#after_using_the_color_balance_tool
    "图12-70. 使用颜色平衡工具后的效果")中所示。每个范围都可以单独重置（通过将值设置为0），这使得通过反复试验调整图像变得更容易。保持对话框底部的两个框被选中，以预览调整的效果。
- en: '![A sample image](httpatomoreillycomsourcenostarchimages1455590.png.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![示例图像](httpatomoreillycomsourcenostarchimages1455590.png.jpg)'
- en: Figure 12-68. A sample image
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-68. 示例图像
- en: '![The Color Balance dialog](httpatomoreillycomsourcenostarchimages1455592.png.jpg)'
  id: totrans-290
  prefs: []
  type: TYPE_IMG
  zh: '![颜色平衡对话框](httpatomoreillycomsourcenostarchimages1455592.png.jpg)'
- en: Figure 12-69. The Color Balance dialog
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-69. 颜色平衡对话框
- en: Hue-Saturation
  id: totrans-292
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 色相-饱和度
- en: 'This tool offers yet another way to make adjustments that you could also make
    using the Curves tool. The advantage of Hue-Saturation is that the controls are
    based on the three color models: RGB, CMY, and HSV. Another important difference
    is that Hue-Saturation deals with color ranges rather than color channels. For
    example, how would you change the saturation of yellow pixels using the Curves
    tool? With Hue-Saturation, it’s easy.'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具提供了另一种调整方式，虽然你也可以使用曲线工具进行调整。色相-饱和度的优势在于它的控制基于三种颜色模型：RGB、CMY和HSV。另一个重要的区别是，色相-饱和度处理的是颜色范围，而不是颜色通道。例如，如何使用曲线工具改变黄色像素的饱和度？使用色相-饱和度，操作就很简单。
- en: '![After using the Color Balance tool](httpatomoreillycomsourcenostarchimages1455594.png.jpg)'
  id: totrans-294
  prefs: []
  type: TYPE_IMG
  zh: '![使用颜色平衡工具后](httpatomoreillycomsourcenostarchimages1455594.png.jpg)'
- en: Figure 12-70. After using the Color Balance tool
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-70. 使用颜色平衡工具后的效果
- en: '![The Hue-Saturation dialog](httpatomoreillycomsourcenostarchimages1455596.png.jpg)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
  zh: '![色相-饱和度对话框](httpatomoreillycomsourcenostarchimages1455596.png.jpg)'
- en: Figure 12-71. The Hue-Saturation dialog
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-71. 色相-饱和度对话框
- en: The Hue-Saturation dialog, shown in [Figure 12-71](ch12s05.html#hue-saturation_dialog-id00097
    "Figure 12-71. The Hue-Saturation dialog"), begins with the customary line for
    the PRESETS settings.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图12-71](ch12s05.html#hue-saturation_dialog-id00097 "图12-71. 色相-饱和度对话框")所示，色相-饱和度对话框首先是预设设置的常规行。
- en: '![After using the Hue-Saturation tool](httpatomoreillycomsourcenostarchimages1455598.png.jpg)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
  zh: '![使用色相-饱和度工具后的效果](httpatomoreillycomsourcenostarchimages1455598.png.jpg)'
- en: Figure 12-72. After using the Hue-Saturation tool
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-72. 使用色相-饱和度工具后的效果
- en: '![The Colorize dialog](httpatomoreillycomsourcenostarchimages1455600.png.jpg)'
  id: totrans-301
  prefs: []
  type: TYPE_IMG
  zh: '![颜色化对话框](httpatomoreillycomsourcenostarchimages1455600.png.jpg)'
- en: Figure 12-73. The Colorize dialog
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-73. 颜色化对话框
- en: The next part of the dialog lets us select what color range to change. The center
    button, called MASTER, allows us to change all the colors simultaneously. The
    six colored buttons specify color ranges, each representing a sixth of the hue
    circle. The OVERLAP slider [0 to 100] extends the chosen range into the two neighboring
    ranges.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的下一部分让我们选择要更改的颜色范围。中间的按钮，称为“MASTER”，允许我们同时更改所有颜色。六个彩色按钮指定颜色范围，每个按钮代表色相圆的一六分之一。OVERLAP滑块[0到100]将所选范围扩展到两个相邻的范围。
- en: The next three sliders are based on the HSV model. (Here, Value is called Lightness).
    The effect of adjusting any of the three sliders is visible not only in the image
    but also in the color buttons in the upper part of the dialog. Adjust the hue,
    saturation, or lightness of any of the six colors, or select the Master control.
    The many different possible combinations make this tool a difficult one to master.
    One possible result of the Hue-Saturation tool is shown in [Figure 12-72](ch12s05.html#after_using_the_hue-saturation_tool
    "Figure 12-72. After using the Hue-Saturation tool").
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的三个滑块基于HSV模型。（此处，Value称为亮度）。调整这三个滑块中的任何一个的效果不仅可以在图像中看到，还可以在对话框上部的颜色按钮中看到。调整任意六种颜色的色相、饱和度或亮度，或者选择主控“Master”。多种不同的组合使得这个工具很难掌握。色相-饱和度工具的一个可能效果在[图12-72](ch12s05.html#after_using_the_hue-saturation_tool
    "图12-72. 使用色相-饱和度工具后的效果")中展示。
- en: '![Creating a sepia photograph with the Colorize tool](httpatomoreillycomsourcenostarchimages1455602.png.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![使用上色工具创建褐色照片](httpatomoreillycomsourcenostarchimages1455602.png.jpg)'
- en: Figure 12-74. Creating a sepia photograph with the Colorize tool
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-74. 使用上色工具创建褐色照片
- en: '![The Brightness-Contrast dialog](httpatomoreillycomsourcenostarchimages1455604.png.jpg)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
  zh: '![亮度-对比度对话框](httpatomoreillycomsourcenostarchimages1455604.png.jpg)'
- en: Figure 12-75. The Brightness-Contrast dialog
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-75. 亮度-对比度对话框
- en: Colorize
  id: totrans-309
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 上色
- en: The Colorize tool first desaturates the image and then adds color to a grayscale
    version in RGB mode. Its dialog ([Figure 12-73](ch12s05.html#colorize_dialog "Figure 12-73. The
    Colorize dialog")) begins with the standard color tool PRESETS option. Below that
    are sliders to specify the HSV components to apply to the image. The effect is
    similar to looking at a grayscale image through colored glass. The parameters
    shown in [Figure 12-73](ch12s05.html#colorize_dialog "Figure 12-73. The Colorize
    dialog") produce the sepia photograph in [Figure 12-74](ch12s05.html#creating_a_sepia_photograph_with_the_col
    "Figure 12-74. Creating a sepia photograph with the Colorize tool").
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 上色工具首先将图像去饱和，然后在RGB模式下为灰度版本添加颜色。其对话框（[图 12-73](ch12s05.html#colorize_dialog
    "图 12-73. 上色对话框")）首先是标准颜色工具的预设选项。下面是滑块，用于指定应用于图像的HSV组件。其效果类似于通过彩色玻璃查看灰度图像。[图 12-73](ch12s05.html#colorize_dialog
    "图 12-73. 上色对话框")中显示的参数产生了[图 12-74](ch12s05.html#creating_a_sepia_photograph_with_the_col
    "图 12-74. 使用上色工具创建褐色照片")中的褐色照片效果。
- en: Brightness-Contrast
  id: totrans-311
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 亮度-对比度
- en: 'The Brightness-Contrast tool is very simple, as you can see from its dialog
    ([Figure 12-75](ch12s05.html#brightness-contrast_dialog "Figure 12-75. The Brightness-Contrast
    dialog")). As the name implies, you can use it to adjust two characteristics of
    an image: brightness and contrast.'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 亮度-对比度工具非常简单，从其对话框（[图 12-75](ch12s05.html#brightness-contrast_dialog "图 12-75.
    亮度-对比度对话框")）中可以看到。顾名思义，您可以使用它来调整图像的两个特性：亮度和对比度。
- en: '![Adjusting brightness and contrast](httpatomoreillycomsourcenostarchimages1455606.png.jpg)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
  zh: '![调整亮度和对比度](httpatomoreillycomsourcenostarchimages1455606.png.jpg)'
- en: Figure 12-76. Adjusting brightness and contrast
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-76. 调整亮度和对比度
- en: 'Because this tool’s abilities are rather limited, a button is included (EDIT
    THESE SETTINGS AS LEVELS) that opens the Levels tool, which you can use to edit
    brightness and contrast with much more flexibility. The sliders in the Brightness-Contrast
    tool work in the usual way, but when the tool is active, we can also click and
    drag in the image itself: Vertical strokes change the brightness, horizontal strokes
    change the contrast. [Figure 12-76](ch12s05.html#adjusting_brightness_and_contrast
    "Figure 12-76. Adjusting brightness and contrast") shows the result of the settings
    shown in [Figure 12-75](ch12s05.html#brightness-contrast_dialog "Figure 12-75. The
    Brightness-Contrast dialog").'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 由于该工具的功能较为有限，包含了一个按钮（编辑这些设置为“级别”），该按钮打开“级别”工具，您可以使用它更灵活地编辑亮度和对比度。亮度-对比度工具中的滑块按常规方式工作，但当该工具处于活动状态时，您还可以在图像本身上点击并拖动：垂直滑动改变亮度，水平滑动改变对比度。[图
    12-76](ch12s05.html#adjusting_brightness_and_contrast "图 12-76. 调整亮度和对比度")展示了在[图
    12-75](ch12s05.html#brightness-contrast_dialog "图 12-75. 亮度-对比度对话框")中设置的效果。
- en: Threshold
  id: totrans-316
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 阈值
- en: The Threshold tool transforms the current layer into a black and white image.
    Pixels that have a value within the set range are white, and those that have a
    value outside the range are black. Set the range by moving the two triangles below
    the histogram. Generally, you can achieve a better result by setting the threshold
    manually than by using the AUTO button. The settings shown in [Figure 12-77](ch12s05.html#threshold_dialog
    "Figure 12-77. The Threshold dialog") generate the result in [Figure 12-78](ch12s05.html#after_applying_the_threshold_tool
    "Figure 12-78. After applying the Threshold tool").
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 阈值工具将当前图层转换为黑白图像。像素值在设定范围内的为白色，范围外的为黑色。通过移动直方图下方的两个三角形来设置范围。通常，手动设置阈值比使用自动按钮获得更好的效果。[图
    12-77](ch12s05.html#threshold_dialog "图 12-77. 阈值对话框")中的设置生成了[图 12-78](ch12s05.html#after_applying_the_threshold_tool
    "图 12-78. 应用阈值工具后的效果")中的结果。
- en: Use the Threshold tool to generate a *natural mask*, as described in [Building
    a Natural Mask](ch14s03.html#building_a_natural_mask "Building a Natural Mask").
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 使用阈值工具生成一个*自然蒙版*，具体操作请参见[构建自然蒙版](ch14s03.html#building_a_natural_mask "构建自然蒙版")。
- en: '![The Threshold dialog](httpatomoreillycomsourcenostarchimages1455608.png.jpg)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
  zh: '![阈值对话框](httpatomoreillycomsourcenostarchimages1455608.png.jpg)'
- en: Figure 12-77. The Threshold dialog
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-77. 阈值对话框
- en: '![After applying the Threshold tool](httpatomoreillycomsourcenostarchimages1455610.png.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
  zh: '![应用阈值工具后](httpatomoreillycomsourcenostarchimages1455610.png.jpg)'
- en: Figure 12-78. After applying the Threshold tool
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-78. 应用阈值工具后
- en: Posterize
  id: totrans-323
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 海报化
- en: The Posterize tool reduces the number of colors in an image. The only slider,
    which has a range of [2 to 256], is used to set the number of colors in each RGB
    channel. Setting the level to 8 generates the result shown in [Figure 12-79](ch12s05.html#after_posterization
    "Figure 12-79. After posterization").
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 海报化工具减少图像中的颜色数量。唯一的滑块范围是 [2 到 256]，用于设置每个 RGB 通道中的颜色数量。将级别设置为 8 会生成如 [图 12-79](ch12s05.html#after_posterization
    "图 12-79. 应用海报化后") 所示的结果。
- en: Desaturate
  id: totrans-325
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 去饱和
- en: The Desaturate tool removes all color from the current layer, but the image
    remains in RGB mode, so you can add color later. The dialog includes three ways
    to compute the gray levels of the pixels.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 去饱和工具会移除当前图层中的所有颜色，但图像仍保持在 RGB 模式下，因此可以稍后添加颜色。该对话框包括三种计算像素灰度值的方式。
- en: '![After posterization](httpatomoreillycomsourcenostarchimages1455612.png.jpg)'
  id: totrans-327
  prefs: []
  type: TYPE_IMG
  zh: '![应用海报化后](httpatomoreillycomsourcenostarchimages1455612.png.jpg)'
- en: Figure 12-79. After posterization
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-79. 应用海报化后
- en: '![After desaturation](httpatomoreillycomsourcenostarchimages1455614.png.jpg)'
  id: totrans-329
  prefs: []
  type: TYPE_IMG
  zh: '![去饱和后](httpatomoreillycomsourcenostarchimages1455614.png.jpg)'
- en: Figure 12-80. After desaturation
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-80. 去饱和后
- en: LIGHTNESS is the average between the maximum and minimum of the three RGB values.
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LIGHTNESS 是三个 RGB 值的最大值与最小值之间的平均值。
- en: 'LUMINOSITY is a weighted average among the three RGB values. The coefficients
    used correspond to *luminance* in colorimetry are: 0.21 × *R* + 0.71 × *G* + 0.07
    × *B*.'
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LUMINOSITY 是三个 RGB 值的加权平均值。所使用的系数与色度学中的*亮度*对应，公式为：0.21 × *R* + 0.71 × *G* +
    0.07 × *B*。
- en: AVERAGE is the average of the three RGB values.
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AVERAGE 是三个 RGB 值的平均值。
- en: '[Figure 12-80](ch12s05.html#after_desaturation "Figure 12-80. After desaturation")
    shows the result of applying LUMINOSITY.'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 12-80](ch12s05.html#after_desaturation "图 12-80. 去饱和后") 显示了应用 LUMINOSITY
    的结果。'
- en: '![After applying Invert](httpatomoreillycomsourcenostarchimages1455616.png.jpg)'
  id: totrans-335
  prefs: []
  type: TYPE_IMG
  zh: '![反转后](httpatomoreillycomsourcenostarchimages1455616.png.jpg)'
- en: Figure 12-81. After applying Invert
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-81. 反转后
- en: '![After applying Value Invert](httpatomoreillycomsourcenostarchimages1455618.png.jpg)'
  id: totrans-337
  prefs: []
  type: TYPE_IMG
  zh: '![数值反转后](httpatomoreillycomsourcenostarchimages1455618.png.jpg)'
- en: Figure 12-82. After applying Value Invert
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-82. 数值反转后
- en: Inversion
  id: totrans-339
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 反转
- en: 'The two inversion tools operate instantly on the current layer. **Image: Colors
    > Invert** generates the result shown in [Figure 12-81](ch12s05.html#after_applying_invert
    "Figure 12-81. After applying Invert"). The colors are inverted (i.e., they are
    replaced by their complementary color, as in a photographic negative). **Image:
    Colors > Value Invert** generates the result shown in [Figure 12-82](ch12s05.html#after_applying_value_invert
    "Figure 12-82. After applying Value Invert"). When this tool is used, only the
    Value component in the HSV model is inverted via the formula *V* = 100 – *V*,
    where *V* is the pixel value. Rounding errors can lead to a strong color distortion.'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个反转工具会立即作用于当前图层。**图像：颜色 > 反转** 生成的结果如 [图 12-81](ch12s05.html#after_applying_invert
    "图 12-81. 反转后"). 颜色被反转（即，它们被其互补色替代，如同照片负片效果）。**图像：颜色 > 数值反转** 生成的结果如 [图 12-82](ch12s05.html#after_applying_value_invert
    "图 12-82. 数值反转后"). 使用此工具时，只有 HSV 模型中的数值分量会根据公式 *V* = 100 – *V* 进行反转，其中 *V* 是像素值。四舍五入误差可能会导致强烈的颜色失真。
- en: '![The Auto submenu](httpatomoreillycomsourcenostarchimages1455620.png.jpg)'
  id: totrans-341
  prefs: []
  type: TYPE_IMG
  zh: '![自动子菜单](httpatomoreillycomsourcenostarchimages1455620.png.jpg)'
- en: Figure 12-83. The Auto submenu
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-83. 自动子菜单
- en: '![The initial image with its histogram](httpatomoreillycomsourcenostarchimages1455622.png.jpg)'
  id: totrans-343
  prefs: []
  type: TYPE_IMG
  zh: '![初始图像及其直方图](httpatomoreillycomsourcenostarchimages1455622.png.jpg)'
- en: Figure 12-84. The initial image with its histogram
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-84. 初始图像及其直方图
- en: 12.6 The Color Submenus
  id: totrans-345
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 12.6 颜色子菜单
- en: 'The next part of the **Image: Colors** menu contains four submenus: Auto, Components,
    Map, and Info. We’ll consider them each in turn.'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：颜色** 菜单的下一部分包含四个子菜单：自动、组件、映射和信息。我们将依次讨论它们。'
- en: The Auto Submenu
  id: totrans-347
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自动子菜单
- en: The Auto submenu is shown in [Figure 12-83](ch12s05.html#auto_submenu "Figure 12-83. The
    Auto submenu"). It contains tools that have no corresponding dialogs. When selected,
    they adjust the image instantly, using automatic settings, as the name suggests.
    Because you can’t customize the settings for these tools, their utility depends
    on the image being processed. To demonstrate their effects, we have included the
    Histogram dialog with each demonstration image and with the initial image, which
    is shown in [Figure 12-84](ch12s05.html#initial_image_with_its_histogram "Figure 12-84. The
    initial image with its histogram").
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: Auto 子菜单在 [图 12-83](ch12s05.html#auto_submenu "图 12-83. Auto 子菜单") 中展示。它包含一些没有对应对话框的工具。选中后，这些工具会立即调整图像，使用自动设置，正如其名称所示。因为无法自定义这些工具的设置，它们的效用取决于处理的图像。为了演示它们的效果，我们在每个演示图像及初始图像中都包含了直方图对话框，初始图像展示在
    [图 12-84](ch12s05.html#initial_image_with_its_histogram "图 12-84. 带有直方图的初始图像")
    中。
- en: '![After applying Equalize](httpatomoreillycomsourcenostarchimages1455624.png.jpg)'
  id: totrans-349
  prefs: []
  type: TYPE_IMG
  zh: '![应用 Equalize 后](httpatomoreillycomsourcenostarchimages1455624.png.jpg)'
- en: Figure 12-85. After applying Equalize
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-85. 应用 Equalize 后
- en: Equalize
  id: totrans-351
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Equalize
- en: 'The Equalize tool automatically adjusts the brightness of all colors, so that
    each possible brightness value occurs about the same number of times in the image.
    The histogram for the image in [Figure 12-85](ch12s06.html#after_applying_equalize
    "Figure 12-85. After applying Equalize") shows that the color values that occur
    most frequently, in this case [0 to 80], are stretched the most: See the flat
    part in the middle of the histogram. In this example, the result is bizarre and
    is not an improvement. In other cases, the result may look better.'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: Equalize 工具会自动调整所有颜色的亮度，使得每个可能的亮度值在图像中出现的次数大致相同。[图 12-85](ch12s06.html#after_applying_equalize
    "图 12-85. 应用 Equalize 后") 中的直方图显示，最常出现的颜色值，在本例中是 [0 到 80]，被拉伸得最多：请看直方图中间的平坦部分。在这个例子中，结果显得有些奇怪，并没有改进。在其他情况下，结果可能看起来更好。
- en: White Balance
  id: totrans-353
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: White Balance
- en: The White Balance tool operates separately on each of the RGB channels. It removes
    the least-used pixel values from both ends of the histogram and then stretches
    the remaining pixels to extend across the full range. In [Figure 12-86](ch12s06.html#after_applying_white_balance
    "Figure 12-86. After applying White Balance"), the brightest pixels disappeared,
    and the remaining pixels were stretched along the full range. The picture is much
    lighter, and this time the result could be considered an improvement.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: White Balance 工具分别对每个 RGB 通道进行操作。它会从直方图的两端去除使用最少的像素值，然后拉伸剩余的像素值，使其扩展到整个范围。[图
    12-86](ch12s06.html#after_applying_white_balance "图 12-86. 应用 White Balance 后")
    中，最亮的像素消失了，剩余的像素被拉伸到整个范围。图片变得更亮，这次的结果可以认为是有所改进的。
- en: Color Enhance
  id: totrans-355
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Color Enhance
- en: 'The Color Enhance tool makes adjustments using the HSV model: It increases
    the saturation without changing the hue or the value. The effect on this image,
    shown in [Figure 12-87](ch12s06.html#after_applying_color_enhance "Figure 12-87. After
    applying Color Enhance"), is rather unpleasant. The Color Enhance tool flattened
    the histogram without extending the color range. The result is slightly better
    when we apply the White Balance tool first, but automatic tools such as this one
    clearly have limitations.'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: Color Enhance 工具使用 HSV 模型进行调整：它增加饱和度，而不改变色相或亮度。[图 12-87](ch12s06.html#after_applying_color_enhance
    "图 12-87. 应用 Color Enhance 后") 中的效果相当不愉快。Color Enhance 工具使直方图变平，且未扩展颜色范围。我们首先应用
    White Balance 工具后，结果稍微好一些，但像这样的自动工具显然有其局限性。
- en: '![After applying White Balance](httpatomoreillycomsourcenostarchimages1455626.png.jpg)'
  id: totrans-357
  prefs: []
  type: TYPE_IMG
  zh: '![应用 White Balance 后](httpatomoreillycomsourcenostarchimages1455626.png.jpg)'
- en: Figure 12-86. After applying White Balance
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-86. 应用 White Balance 后
- en: '![After applying Color Enhance](httpatomoreillycomsourcenostarchimages1455628.png.jpg)'
  id: totrans-359
  prefs: []
  type: TYPE_IMG
  zh: '![应用 Color Enhance 后](httpatomoreillycomsourcenostarchimages1455628.png.jpg)'
- en: Figure 12-87. After applying Color Enhance
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-87. 应用 Color Enhance 后
- en: '![Before applying Normalize](httpatomoreillycomsourcenostarchimages1455630.png.jpg)'
  id: totrans-361
  prefs: []
  type: TYPE_IMG
  zh: '![应用 Normalize 前](httpatomoreillycomsourcenostarchimages1455630.png.jpg)'
- en: Figure 12-88. Before applying Normalize
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-88. 应用 Normalize 前
- en: '![After applying Normalize](httpatomoreillycomsourcenostarchimages1455632.png.jpg)'
  id: totrans-363
  prefs: []
  type: TYPE_IMG
  zh: '![应用 Normalize 后](httpatomoreillycomsourcenostarchimages1455632.png.jpg)'
- en: Figure 12-89. After applying Normalize
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-89. 应用 Normalize 后
- en: Normalize
  id: totrans-365
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Normalize
- en: 'The Normalize tool stretches the brightness of the image so the darkest point
    is black and the brightest point is as bright as possible in its current hue.
    To best demonstrate this, we’ll use the image shown in [Figure 12-88](ch12s06.html#before_applying_normalize
    "Figure 12-88. Before applying Normalize"), which we modified with the Levels
    tool: We moved the right triangle under INPUT LEVELS to position 212 to remove
    the few pixels brighter than this value and the right triangle under OUTPUT LEVELS
    to the same position to retain the same overall brightness in the image. When
    applied to this modified image, the Normalize tool produces a visible effect ([Figure 12-89](ch12s06.html#after_applying_normalize
    "Figure 12-89. After applying Normalize")), which it does only when there are
    no pixels on the far left or right of the histogram.'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: 归一化工具拉伸图像的亮度，使最暗的点变为黑色，最亮的点在当前色调下尽可能明亮。为了最佳演示这一点，我们将使用[图12-88](ch12s06.html#before_applying_normalize
    "图12-88. 应用归一化前")中显示的图像，我们通过“色阶”工具进行了修改：我们将INPUT LEVELS下的右三角形移至位置212，以去除亮度高于该值的少数像素，将OUTPUT
    LEVELS下的右三角形移至同一位置，以保持图像的整体亮度。当应用于这个修改后的图像时，归一化工具产生了明显的效果（[图12-89](ch12s06.html#after_applying_normalize
    "图12-89. 应用归一化后的效果")），只有在直方图两侧没有像素时才会产生这种效果。
- en: '![After applying Stretch Contrast](httpatomoreillycomsourcenostarchimages1455634.png.jpg)'
  id: totrans-367
  prefs: []
  type: TYPE_IMG
  zh: '![应用拉伸对比度后的效果](httpatomoreillycomsourcenostarchimages1455634.png.jpg)'
- en: Figure 12-90. After applying Stretch Contrast
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-90. 应用拉伸对比度后的效果
- en: Stretch Contrast
  id: totrans-369
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 拉伸对比度
- en: The Stretch Contrast tool works the same way as the Normalize tool, but rather
    than stretching the Value channel, it stretches the RGB channels separately. These
    two tools result in visibly different effects only if the RGB channel ranges differ
    significantly, and when the Stretch Contrast tool does produce a unique result,
    it can generate color distortions. To create [Figure 12-90](ch12s06.html#after_applying_stretch_contrast
    "Figure 12-90. After applying Stretch Contrast"), we began with the same modified
    example that we used for the Normalize tool, and the result is very similar.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 拉伸对比度工具的工作原理与归一化工具相同，但它不是拉伸亮度通道，而是分别拉伸RGB通道。这两种工具只有在RGB通道范围差异显著时才会产生明显不同的效果，当拉伸对比度工具确实产生独特结果时，它可能会导致色彩失真。为了创建[图12-90](ch12s06.html#after_applying_stretch_contrast
    "图12-90. 应用拉伸对比度后的效果")，我们从与归一化工具相同的修改过的示例开始，结果非常相似。
- en: Stretch HSV
  id: totrans-371
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 拉伸HSV
- en: The Stretch HSV tool works the same way as the Stretch Contrast tool, but it
    operates on the three channels of the HSV model instead of on the three RGB channels.
    This method can produce a better or worse result, depending on the image. Our
    result, shown in [Figure 12-91](ch12s06.html#after_applying_stretch_hsv "Figure 12-91. After
    applying Stretch HSV"), is almost identical to the initial image.
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: 拉伸HSV工具的工作原理与拉伸对比度工具相同，但它作用于HSV模型的三个通道，而不是RGB模型的三个通道。根据图像的不同，这种方法可能产生更好或更差的效果。我们的结果，如[图12-91](ch12s06.html#after_applying_stretch_hsv
    "图12-91. 应用拉伸HSV后的效果")所示，与初始图像几乎相同。
- en: '![After applying Stretch HSV](httpatomoreillycomsourcenostarchimages1455636.png.jpg)'
  id: totrans-373
  prefs: []
  type: TYPE_IMG
  zh: '![应用拉伸HSV后的效果](httpatomoreillycomsourcenostarchimages1455636.png.jpg)'
- en: Figure 12-91. After applying Stretch HSV
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-91. 应用拉伸HSV后的效果
- en: '![The Components menu](httpatomoreillycomsourcenostarchimages1455638.png.jpg)'
  id: totrans-375
  prefs: []
  type: TYPE_IMG
  zh: '![组件菜单](httpatomoreillycomsourcenostarchimages1455638.png.jpg)'
- en: Figure 12-92. The Components menu
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-92. 组件菜单
- en: The Components Submenu
  id: totrans-377
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 组件子菜单
- en: The Components menu is shown in [Figure 12-92](ch12s06.html#components_menu
    "Figure 12-92. The Components menu"). Its four tools operate on the RGB channels.
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 组件菜单如[图12-92](ch12s06.html#components_menu "图12-92. 组件菜单")所示。它的四个工具操作于RGB通道。
- en: Channel Mixer
  id: totrans-379
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 通道混合器
- en: This tool uses the values from all three of the RGB channels to compute new
    values for each one of them. Initially, each output channel receives only the
    corresponding input channel. [Figure 12-93](ch12s06.html#channel_mixer_dialogcomma_red_channel
    "Figure 12-93. The Channel Mixer dialog, Red channel") shows the Red channel dialog.
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具使用所有三个RGB通道的值来计算它们各自的新值。最初，每个输出通道仅接收对应的输入通道。[图12-93](ch12s06.html#channel_mixer_dialogcomma_red_channel
    "图12-93. 通道混合器对话框，红色通道")显示了红色通道对话框。
- en: At the top of the Channel Mixer dialog is a preview of the image, with zooming
    and panning enabled. Below that is the OUTPUT CHANNEL selection menu. The next
    three sliders, which have a range of [–200 to +200], allow you to set the percentage
    of the corresponding channel that will be assigned to the current output channel.
    If we change the output channel, we can define another set of percentages.
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: 在通道混合器对话框的顶部是图像的预览，启用了缩放和平移。下方是输出通道选择菜单。接下来的三个滑块，范围为[–200到+200]，允许你设置将分配给当前输出通道的相应通道的百分比。如果我们更改输出通道，则可以定义另一组百分比。
- en: '![The Channel Mixer dialog, Red channel](httpatomoreillycomsourcenostarchimages1455640.png.jpg)'
  id: totrans-382
  prefs: []
  type: TYPE_IMG
  zh: '![通道混合器对话框，红色通道](httpatomoreillycomsourcenostarchimages1455640.png.jpg)'
- en: Figure 12-93. The Channel Mixer dialog, Red channel
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-93。通道混合器对话框，红色通道
- en: 'If we check the MONOCHROME box, the image becomes grayscale, and we can use
    the sliders to set the proportion of each of the RGB channels that are used to
    build the monochrome image. For example, when we select **Image: Image > Mode
    > Grayscale**, a grayscale image is created using the values 21, 72, and 7 for
    the three RGB channels, from top to bottom.'
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们勾选MONOCHROME框，图像将变为灰度图像，我们可以使用滑块设置用于构建单色图像的各个RGB通道的比例。例如，当我们选择**图像：图像 >
    模式 > 灰度**时，会使用21、72和7这三个RGB通道的值（从上到下）创建一幅灰度图像。
- en: The PRESERVE LUMINOSITY checkbox maintains the initial luminosity of each pixel,
    which prevents the resulting image from being overly bright.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: PRESERVE LUMINOSITY复选框保持每个像素的初始亮度，防止生成的图像过亮。
- en: The set of buttons at the bottom of the dialog allow us to save the current
    settings, reload previously saved settings, and reset everything to the initial
    values.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框底部的一组按钮允许我们保存当前设置、重新加载先前保存的设置，并将所有内容重置为初始值。
- en: You can make very fine adjustments to the colors of an image with this tool,
    but mastering it is difficult.
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个工具，你可以对图像的颜色进行非常精细的调整，但掌握它是有难度的。
- en: Decompose
  id: totrans-388
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分解
- en: The Decompose tool separates the channels of the image into separate grayscale
    images or layers based on the chosen color model. Its dialog, shown in [Figure 12-94](ch12s06.html#decompose_dialog
    "Figure 12-94. The Decompose dialog"), is fairly simple. At the top is the COLOR
    MODEL menu, and below that are two checkboxes. Checking the first box decomposes
    the image to layers; otherwise the decomposition results in separate images. The
    second box is included for CMYK printing purposes. When checked, every pixel that’s
    part of the current foreground color will be black in the decomposed images or
    layers. This is commonly used to show crop marks on all channels as a way to aid
    in alignment.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 分解工具根据所选择的颜色模型将图像的通道分离为独立的灰度图像或图层。其对话框，如[图12-94](ch12s06.html#decompose_dialog
    "图12-94。分解对话框")所示，非常简单。顶部是颜色模型菜单，下面是两个复选框。勾选第一个框将图像分解为图层；否则，分解结果为独立的图像。第二个框是为了CMYK打印而设计的。当勾选时，当前前景色的每个像素将在分解后的图像或图层中变为黑色。这通常用于显示所有通道的裁剪标记，以帮助对齐。
- en: '![The Decompose dialog](httpatomoreillycomsourcenostarchimages1455642.png.jpg)'
  id: totrans-390
  prefs: []
  type: TYPE_IMG
  zh: '![分解对话框](httpatomoreillycomsourcenostarchimages1455642.png.jpg)'
- en: Figure 12-94. The Decompose dialog
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-94。分解对话框
- en: '![Color models](httpatomoreillycomsourcenostarchimages1455644.png.jpg)'
  id: totrans-392
  prefs: []
  type: TYPE_IMG
  zh: '![颜色模型](httpatomoreillycomsourcenostarchimages1455644.png.jpg)'
- en: Figure 12-95. Color models
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-95。颜色模型
- en: The available color models, shown in [Figure 12-95](ch12s06.html#color_models-id00099
    "Figure 12-95. Color models"), are explained next.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 可用的颜色模型，如[图12-95](ch12s06.html#color_models-id00099 "图12-95。颜色模型")所示，接下来将进行解释。
- en: 'RGB: This decomposition allows us to work on the channels separately and then
    recompose the image. One of the channels can also be used as a mask.'
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RGB：这种分解方法使我们能够分别处理各个通道，然后重新合成图像。某个通道还可以用作蒙版。
- en: '![The Hue channel](httpatomoreillycomsourcenostarchimages1455646.png.jpg)'
  id: totrans-396
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![色调通道](httpatomoreillycomsourcenostarchimages1455646.png.jpg)'
- en: Figure 12-96. The Hue channel
  id: totrans-397
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图12-96。色调通道
- en: '![The Saturation channel](httpatomoreillycomsourcenostarchimages1455648.png.jpg)'
  id: totrans-398
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![饱和度通道](httpatomoreillycomsourcenostarchimages1455648.png.jpg)'
- en: Figure 12-97. The Saturation channel
  id: totrans-399
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图12-97。饱和度通道
- en: 'RGBA: Similar to the RGB model, except with this model, an Alpha layer or image
    is also created for the image’s Alpha channel.'
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RGBA：与RGB模型类似，不同之处在于这个模型还为图像创建了Alpha通道或图像。
- en: 'HSV: The layers or images represent the components of the HSV model. The Hue
    channel is rather compressed, and the result has no natural meaning, as shown
    in [Figure 12-96](ch12s06.html#hue_channel "Figure 12-96. The Hue channel"). The
    Saturation channel is also not very meaningful ([Figure 12-97](ch12s06.html#saturation_channel
    "Figure 12-97. The Saturation channel")). In contrast, the Value channel returns
    an accurate grayscale representation of the image.'
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HSV：图层或图像表示 HSV 模型的组件。色相（Hue）通道相对压缩，结果没有自然含义，如[图 12-96](ch12s06.html#hue_channel
    "图 12-96. 色相通道")所示。饱和度（Saturation）通道也不太有意义（[图 12-97](ch12s06.html#saturation_channel
    "图 12-97. 饱和度通道")）。相比之下，明度（Value）通道返回图像的准确灰度表示。
- en: 'HSL: Similar to the HSV model, but the Value channel is replaced with Lightness,
    which is similar conceptually but calculated a little differently. The calculations
    for the Saturation channel also differ slightly.'
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HSL：与 HSV 模型类似，但明度（Value）通道被亮度（Lightness）替代，虽然概念上相似，但计算方式有所不同。饱和度（Saturation）通道的计算方式也有所不同。
- en: '![The Alpha channel](httpatomoreillycomsourcenostarchimages1455650.png.jpg)'
  id: totrans-403
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Alpha 通道](httpatomoreillycomsourcenostarchimages1455650.png.jpg)'
- en: Figure 12-98. The Alpha channel
  id: totrans-404
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-98. Alpha 通道
- en: 'CMY and CMYK: These models are generally used to decompose an image in order
    to pass it to printing software that requires decomposition.'
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CMY 和 CMYK：这些模型通常用于分解图像，以便将其传递给需要分解的打印软件。
- en: 'ALPHA: A new image is created from the Alpha channel of the image. For example,
    [Figure 12-98](ch12s06.html#alpha_channel "Figure 12-98. The Alpha channel") was
    generated from an Alpha channel built with **Image: Colors > Color to Alpha**,
    using white as the color.'
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ALPHA：从图像的 Alpha 通道创建新图像。例如，[图 12-98](ch12s06.html#alpha_channel "图 12-98. Alpha
    通道")就是通过使用 **图像：颜色 > 颜色转 Alpha** 并选择白色作为颜色来生成的 Alpha 通道。
- en: 'LAB: The Lab (or L*a*b*) color space includes several models that are intended
    to be more representative of human vision than the other color models. The L channel
    represents luminosity, and the A and B channels represent color in the form of
    *opponent color axes*. The Lab color space was designed based on the *opponent
    process theory*, which states that signals received by the rods and cones are
    processed antagonistically: red versus green signals (A channel), yellow versus
    blue signals (B channel), and black versus white signals (L channel).'
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAB：Lab（或 L*a*b*）颜色空间包含几种模型，旨在比其他颜色模型更能代表人类视觉。L 通道表示亮度，A 和 B 通道表示色彩，采用*对立色轴*的形式。Lab
    颜色空间基于*对立过程理论*设计，该理论认为，视网膜的感光细胞处理信号时是对立的：红色与绿色信号（A 通道）、黄色与蓝色信号（B 通道）以及黑色与白色信号（L
    通道）。
- en: 'YCBCR: The last four color models are based on this color space, which has
    channels for Luminance, Blue, and Red. This color space is used for digital video,
    and the various decompositions correspond to different recommendations by the
    International Telecommunication Union.'
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: YCBCR：最后四个颜色模型基于这个颜色空间，颜色空间包含亮度（Luminance）、蓝色和红色通道。该颜色空间用于数字视频，不同的分解方式对应国际电信联盟（ITU）提出的不同推荐。
- en: '![The Compose dialog](httpatomoreillycomsourcenostarchimages1455652.png.jpg)'
  id: totrans-409
  prefs: []
  type: TYPE_IMG
  zh: '![合成对话框](httpatomoreillycomsourcenostarchimages1455652.png.jpg)'
- en: Figure 12-99. The Compose dialog
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-99. 合成对话框
- en: Generally, you’ll use only the RGB, CMY, and HSV color models to make adjustments
    to an image. The other models are mainly for transferring the image information
    to an application.
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你只会使用 RGB、CMY 和 HSV 颜色模型来调整图像。其他模型主要用于将图像信息传输到应用程序中。
- en: Recompose
  id: totrans-412
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 重新合成
- en: You can use the Recompose tool only on an image that has been decomposed with
    the Decompose tool. When this tool is applied, the original image is rebuilt using
    the component images or layers, allowing you to decompose the image, manipulate
    the layers or images separately, and then recompose the image.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 你只能在使用分解工具分解后的图像上使用重新合成工具。当应用此工具时，原始图像将使用组件图像或图层重建，使你能够分解图像、分别操作图层或图像，然后重新合成图像。
- en: Compose
  id: totrans-414
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 合成
- en: The Compose tool is much more powerful than the Recompose tool because any grayscale
    image can be used to represent the channels. As [Figure 12-99](ch12s06.html#compose_dialog
    "Figure 12-99. The Compose dialog") shows, the dialog first asks us to choose
    the COLOR MODEL. The available choices are the same as for the Decompose tool.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: 合成工具比重新合成工具更强大，因为任何灰度图像都可以用来表示通道。如[图 12-99](ch12s06.html#compose_dialog "图 12-99.
    合成对话框")所示，首先要求我们选择颜色模型。可用的选项与分解工具相同。
- en: Next, choose the CHANNEL REPRESENTATIONS. If the current image has multiple
    layers, use the successive layers as the channels. If the image is in grayscale
    with only one layer, then that layer is initially used for all the channels. For
    each channel, we can either choose one of the available grayscale images or layers,
    or a mask value. If we choose a mask value, the slider on the right becomes operational,
    and we can choose a value in the range [0 to 255], which replaces the channel
    for all pixels. But at least one of the channels must be an image or a layer.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，选择通道表示。如果当前图像有多个图层，可以使用连续的图层作为通道。如果图像是灰度图并且只有一个图层，则该图层最初用于所有通道。对于每个通道，我们可以选择一个可用的灰度图像或图层，或者一个掩码值。如果选择了掩码值，右侧的滑块会变得可操作，我们可以选择一个范围在[0到255]之间的值，替代所有像素的通道。但至少有一个通道必须是图像或图层。
- en: '![Interpreting RGB channels as HSL channels](httpatomoreillycomsourcenostarchimages1455654.png.jpg)'
  id: totrans-417
  prefs: []
  type: TYPE_IMG
  zh: '![将RGB通道解释为HSL通道](httpatomoreillycomsourcenostarchimages1455654.png.jpg)'
- en: Figure 12-100. Interpreting RGB channels as HSL channels
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-100。将RGB通道解释为HSL通道
- en: '![The Map submenu](httpatomoreillycomsourcenostarchimages1455656.png.jpg)'
  id: totrans-419
  prefs: []
  type: TYPE_IMG
  zh: '![地图子菜单](httpatomoreillycomsourcenostarchimages1455656.png.jpg)'
- en: Figure 12-101. The Map submenu
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-101。地图子菜单
- en: The Compose tool lets you exchange channels without changing the color model,
    use channels from one color model and interpret them with another model, add an
    Alpha channel taken from another image (if a model with an Alpha channel, such
    as RGBA, has been chosen), or replace a channel with a constant value. As you
    can see, this tool is powerful. [Figure 12-100](ch12s06.html#interpreting_rgb_channels_as_hsl_channel
    "Figure 12-100. Interpreting RGB channels as HSL channels") was obtained by decomposing
    in the RGB model and then composing the layers in the HSL model.
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: Compose工具让你可以在不改变颜色模型的情况下交换通道，使用一个颜色模型中的通道并用另一个模型来解释，添加从其他图像中提取的Alpha通道（如果已选择具有Alpha通道的模型，例如RGBA），或者用常量值替换某个通道。如你所见，此工具非常强大。[图12-100](ch12s06.html#interpreting_rgb_channels_as_hsl_channel
    "图12-100. 将RGB通道解释为HSL通道")是通过在RGB模型中分解并在HSL模型中合成层得到的。
- en: '![A sample image before colormapping](httpatomoreillycomsourcenostarchimages1455658.png.jpg)'
  id: totrans-422
  prefs: []
  type: TYPE_IMG
  zh: '![色彩映射前的示例图像](httpatomoreillycomsourcenostarchimages1455658.png.jpg)'
- en: Figure 12-102. A sample image before colormapping
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-102。色彩映射前的示例图像
- en: '![Rearranging the colormap](httpatomoreillycomsourcenostarchimages1455660.png.jpg)'
  id: totrans-424
  prefs: []
  type: TYPE_IMG
  zh: '![调整色彩映射表](httpatomoreillycomsourcenostarchimages1455660.png.jpg)'
- en: Figure 12-103. Rearranging the colormap
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-103。调整色彩映射表
- en: The Map Submenu
  id: totrans-426
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 地图子菜单
- en: The Map submenu, shown in [Figure 12-101](ch12s06.html#map_submenu "Figure 12-101. The
    Map submenu"), is separated into two sections. Tools in the first section apply
    only to images in Indexed mode. Tools in the second section apply only to images
    in RGB mode or, for some of the entries, Grayscale mode. We’ll use the image in
    [Figure 12-102](ch12s06.html#sample_image_before_colormapping "Figure 12-102. A
    sample image before colormapping") as an example and convert a copy of it to Indexed
    mode with an optimal palette of 256 colors and Floyd-Steinberg dithering to demonstrate
    the first two tools (see [Indexed Mode](ch12s01.html#indexed_mode "Indexed Mode")
    for more information about indexing).
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图12-101](ch12s06.html#map_submenu "图12-101. 地图子菜单")所示，地图子菜单分为两个部分。第一部分的工具仅适用于索引模式下的图像。第二部分的工具仅适用于RGB模式下的图像，或者对于某些条目，适用于灰度模式下的图像。我们将使用[图12-102](ch12s06.html#sample_image_before_colormapping
    "图12-102. 色彩映射前的示例图像")中的图像作为示例，并将其复制转换为索引模式，使用256色的最佳调色板和Floyd-Steinberg抖动算法来演示前两个工具（有关索引的更多信息，请参见[索引模式](ch12s01.html#indexed_mode
    "索引模式")）。
- en: '![Choosing a colormap](httpatomoreillycomsourcenostarchimages1455662.png.jpg)'
  id: totrans-428
  prefs: []
  type: TYPE_IMG
  zh: '![选择色彩映射表](httpatomoreillycomsourcenostarchimages1455662.png.jpg)'
- en: Figure 12-104. Choosing a colormap
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-104。选择色彩映射表
- en: Rearrange Colormap
  id: totrans-430
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调整色彩映射表
- en: This tool does not change the image. It simply changes the numbering of the
    entries in the colormap. As shown in [Figure 12-103](ch12s06.html#rearranging_the_colormap
    "Figure 12-103. Rearranging the colormap") (only a quarter of the actual window
    is visible), we can move the entries by dragging and dropping. Right-click anywhere
    in the window to sort the colormap according to one of the HSV components or to
    reverse or reset the order.
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: 此工具不会改变图像，它仅仅改变色彩映射表中条目的编号。如[图12-103](ch12s06.html#rearranging_the_colormap
    "图12-103. 调整色彩映射表")所示（实际窗口的四分之一可见），我们可以通过拖放来移动条目。在窗口的任意位置右键单击，可以根据HSV组件之一对色彩映射表进行排序，或者反转或重置顺序。
- en: Set Colormap
  id: totrans-432
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设置色彩映射表
- en: The Set Colormap tool opens a dialog in which we can only choose a new colormap
    from among those available ([Figure 12-104](ch12s06.html#choosing_a_colormap "Figure 12-104. Choosing
    a colormap")). Some of the colormaps yield odd results, as you can see in [Figure 12-105](ch12s06.html#after_setting_the_colormap_to_blues
    "Figure 12-105. After setting the colormap to Blues").
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: Set Colormap工具打开一个对话框，在其中我们只能从可用的色彩映射中选择一个新的色彩映射（[图12-104](ch12s06.html#choosing_a_colormap
    "图12-104. 选择色彩映射")）。某些色彩映射会产生奇怪的效果，正如在[图12-105](ch12s06.html#after_setting_the_colormap_to_blues
    "图12-105. 设置色彩映射为蓝色后")中看到的那样。
- en: Alien Map
  id: totrans-434
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 外星地图
- en: The Alien Map tool transforms the colors of an image in the RGB or the HSL model
    by applying trigonometric functions to the pixel values.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: 外星地图工具通过对像素值应用三角函数，改变图像的RGB或HSL模型中的颜色。
- en: The dialog shown in [Figure 12-106](ch12s06.html#alien_map_dialog "Figure 12-106. The
    Alien Map dialog") begins with a preview. Then we choose the color model, called
    *mode* in this dialog. The checkboxes on the right control which of the channels
    will be affected.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 如[图12-106](ch12s06.html#alien_map_dialog "图12-106. 外星地图对话框")所示的对话框，开始时显示一个预览。然后我们选择颜色模型，这个对话框中称为*模式*。右侧的复选框控制哪些通道将被影响。
- en: '![After setting the colormap to Blues](httpatomoreillycomsourcenostarchimages1455664.png.jpg)'
  id: totrans-437
  prefs: []
  type: TYPE_IMG
  zh: '![设置色彩映射为蓝色后](httpatomoreillycomsourcenostarchimages1455664.png.jpg)'
- en: Figure 12-105. After setting the colormap to Blues
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-105. 设置色彩映射为蓝色后
- en: '![The Alien Map dialog](httpatomoreillycomsourcenostarchimages1455666.png.jpg)'
  id: totrans-439
  prefs: []
  type: TYPE_IMG
  zh: '![外星地图对话框](httpatomoreillycomsourcenostarchimages1455666.png.jpg)'
- en: Figure 12-106. The Alien Map dialog
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-106. 外星地图对话框
- en: 'Each channel has two sliders: frequency [0 to 20] and phaseshift [0 to 360].
    Frequencies that are less than 0.7 yield a result similar to the original. Higher
    values give an increasingly “alien” result. [Figure 12-107](ch12s06.html#after_applying_alien_map
    "Figure 12-107. After applying Alien Map") is the result of using a frequency
    of 6.00 in the three RGB channels and a phaseshift of 0.00 in the three HSV channels.'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 每个通道有两个滑块：频率[0到20]和相位移[0到360]。频率小于0.7的结果类似于原始图像。较高的值则会产生越来越“外星”的效果。[图12-107](ch12s06.html#after_applying_alien_map
    "图12-107. 应用外星地图后的效果")是使用频率6.00在三个RGB通道中和在三个HSV通道中使用相位移0.00的结果。
- en: '![After applying Alien Map](httpatomoreillycomsourcenostarchimages1455668.png.jpg)'
  id: totrans-442
  prefs: []
  type: TYPE_IMG
  zh: '![应用外星地图后的效果](httpatomoreillycomsourcenostarchimages1455668.png.jpg)'
- en: Figure 12-107. After applying Alien Map
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-107. 应用外星地图后的效果
- en: Color Exchange
  id: totrans-444
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 色彩交换
- en: As its name indicates, this tool replaces a color in the image with a different
    one.
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 如其名称所示，该工具将图像中的某种颜色替换为另一种颜色。
- en: The dialog, shown in [Figure 12-108](ch12s06.html#color_exchange_dialog "Figure 12-108. The
    Color Exchange dialog"), contains a preview that you middle-click to define the
    FROM COLOR. This color can also be defined by clicking the corresponding button,
    which opens the Color chooser, or by setting the three sliders for the RGB channels.
    Each channel also has threshold sliders [0 to 1], which you adjust to set how
    much of the channel will be replaced.
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框，如[图12-108](ch12s06.html#color_exchange_dialog "图12-108. 色彩交换对话框")所示，包含一个预览，你可以通过中键点击来定义FROM
    COLOR。这个颜色也可以通过点击相应的按钮来定义，按钮会打开颜色选择器，或者通过设置RGB通道的三个滑块来定义。每个通道还有阈值滑块[0到1]，你可以调整它们以设置替换该通道的颜色量。
- en: The pixels in the image that are similar to the chosen FROM COLOR, within the
    threshold limits, are replaced with the TO COLOR, which you select using the button
    or the three sliders.
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 图像中与选定的FROM COLOR相似的像素，在阈值限制范围内，将被你使用按钮或三个滑块选择的TO COLOR替换。
- en: Gradient Map
  id: totrans-448
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 渐变映射
- en: The Gradient Map tool has no dialog. It uses the current gradient, which you
    can change in the Gradients dialog, usually a dockable dialog in the multi-dialog
    window below the layers tab. The mapping occurs between the color intensities
    in the image (represented as the Value channel in the Levels tool, for example)
    and the colors in the gradient. The left end of the gradient is mapped to the
    darkest pixel, and the right end to the lightest pixel. [Figure 12-109](ch12s06.html#after_applying_gradient_map
    "Figure 12-109. After applying Gradient Map") shows the result using the `Greens`
    gradient.
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 渐变映射工具没有对话框。它使用当前的渐变，你可以在渐变对话框中更改，通常是多对话框窗口下方的可停靠对话框中的一部分。映射发生在图像中的颜色强度（例如在Levels工具中的Value通道表示）和渐变中的颜色之间。渐变的左端映射到最暗的像素，右端映射到最亮的像素。[图12-109](ch12s06.html#after_applying_gradient_map
    "图12-109. 应用渐变映射后的效果")展示了使用`Greens`渐变的结果。
- en: '![The Color Exchange dialog](httpatomoreillycomsourcenostarchimages1455670.png.jpg)'
  id: totrans-450
  prefs: []
  type: TYPE_IMG
  zh: '![颜色交换对话框](httpatomoreillycomsourcenostarchimages1455670.png.jpg)'
- en: Figure 12-108. The Color Exchange dialog
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-108。颜色交换对话框
- en: '![After applying Gradient Map](httpatomoreillycomsourcenostarchimages1455672.png.jpg)'
  id: totrans-452
  prefs: []
  type: TYPE_IMG
  zh: '![应用渐变映射后的效果](httpatomoreillycomsourcenostarchimages1455672.png.jpg)'
- en: Figure 12-109. After applying Gradient Map
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-109。应用渐变映射后的效果
- en: Palette Map
  id: totrans-454
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 调色板映射
- en: 'The Palette Map tool works like the Gradient Map tool, only it uses the current
    palette instead of the current gradient. Change the current palette via the Palettes
    dialog. This dialog can be opened by clicking the small button to the right of
    any dockable dialog or from the **Image: Windows > Dockable Dialogs** menu. [Figure 12-110](ch12s06.html#after_applying_palette_map
    "Figure 12-110. After applying Palette Map") shows the result using the `Gold`
    palette.'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 调色板映射工具与渐变映射工具类似，只是它使用当前调色板而不是当前渐变。通过调色板对话框可以更改当前调色板。此对话框可以通过点击任何可停靠对话框右侧的小按钮，或者通过**图像：窗口
    > 可停靠对话框**菜单打开。[图12-110](ch12s06.html#after_applying_palette_map "图12-110。应用调色板映射后的效果")展示了使用`金色`调色板的结果。
- en: '![After applying Palette Map](httpatomoreillycomsourcenostarchimages1455674.png.jpg)'
  id: totrans-456
  prefs: []
  type: TYPE_IMG
  zh: '![应用调色板映射后的效果](httpatomoreillycomsourcenostarchimages1455674.png.jpg)'
- en: Figure 12-110. After applying Palette Map
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-110。应用调色板映射后的效果
- en: '![The Rotate Colors dialog](httpatomoreillycomsourcenostarchimages1455676.png.jpg)'
  id: totrans-458
  prefs: []
  type: TYPE_IMG
  zh: '![旋转颜色对话框](httpatomoreillycomsourcenostarchimages1455676.png.jpg)'
- en: Figure 12-111. The Rotate Colors dialog
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-111。旋转颜色对话框
- en: '![After applying Rotate Colors](httpatomoreillycomsourcenostarchimages1455678.png.jpg)'
  id: totrans-460
  prefs: []
  type: TYPE_IMG
  zh: '![应用旋转颜色后的效果](httpatomoreillycomsourcenostarchimages1455678.png.jpg)'
- en: Figure 12-112. After applying Rotate Colors
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-112。应用旋转颜色后的效果
- en: Rotate Colors
  id: totrans-462
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 旋转颜色
- en: The Rotate Colors tool uses the Hue color circle to alter the image colors.
    A hue subrange is defined on the FROM circle as a sector, and another sector is
    defined on the TO circle. The colors in the input range are mapped to the colors
    in the output range. The other colors are not affected.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 旋转颜色工具使用色相圆盘来改变图像的颜色。在**FROM**圆盘上定义了一个色相子范围，作为一个扇形，另一个扇形则定义在**TO**圆盘上。输入范围中的颜色会映射到输出范围中的颜色，其他颜色不受影响。
- en: '![The Gray Options tab](httpatomoreillycomsourcenostarchimages1455680.png.jpg)'
  id: totrans-464
  prefs: []
  type: TYPE_IMG
  zh: '![灰色选项标签页](httpatomoreillycomsourcenostarchimages1455680.png.jpg)'
- en: Figure 12-113. The Gray Options tab
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-113。灰色选项标签页
- en: This dialog is shown in [Figure 12-111](ch12s06.html#rotate_colors_dialog "Figure 12-111. The
    Rotate Colors dialog"). You can adjust the two color ranges in various ways. The
    previews on the left show the original image and the current result. To get the
    dramatic change shown in [Figure 12-112](ch12s06.html#after_applying_rotate_colors
    "Figure 12-112. After applying Rotate Colors"), we clicked the CHANGE ORDER OF
    ARROWS button.
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 该对话框如[图12-111](ch12s06.html#rotate_colors_dialog "图12-111。旋转颜色对话框")所示。您可以通过多种方式调整两个颜色范围。左侧的预览图展示了原始图像和当前结果。为了得到[图12-112](ch12s06.html#after_applying_rotate_colors
    "图12-112。应用旋转颜色后的效果")所示的剧烈变化，我们点击了**CHANGE ORDER OF ARROWS**按钮。
- en: '![The Sample Colorize dialog](httpatomoreillycomsourcenostarchimages1455682.png.jpg)'
  id: totrans-467
  prefs: []
  type: TYPE_IMG
  zh: '![样本上色对话框](httpatomoreillycomsourcenostarchimages1455682.png.jpg)'
- en: Figure 12-114. The Sample Colorize dialog
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-114。样本上色对话框
- en: 'This dialog contains a second tab, shown in [Figure 12-113](ch12s06.html#gray_options_tab
    "Figure 12-113. The Gray Options tab"). On this tab, we specify a color in the
    image to replace with gray, as long as the CHANGE TO THIS radio button is checked.
    The center circle is a visual representation of the GRAY THRESHOLD saturation:
    It extends when the threshold saturation is increased. The position of the small
    circle defines the hue and saturation of the color that will be converted to gray.
    If the TREAT AS THIS radio button is checked, the hue that will be converted to
    gray is defined by the rotation specified on the Main Options tab.'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: 该对话框包含第二个标签页，如[图12-113](ch12s06.html#gray_options_tab "图12-113。灰色选项标签页")所示。在此标签页中，我们指定图像中的某种颜色，用灰色替换，只要选中**CHANGE
    TO THIS**单选按钮。中间圆圈是**灰度阈值**饱和度的可视化表示：当阈值饱和度增加时，圆圈会扩展。小圆圈的位置定义了将被转换为灰色的颜色的色调和饱和度。如果选中**TREAT
    AS THIS**单选按钮，则将根据主选项标签页中指定的旋转角度定义转换为灰色的色调。
- en: Sample Colorize
  id: totrans-470
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 样本上色
- en: The Sample Colorize tool uses a sampling image to colorize a destination image.
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: 样本上色工具使用采样图像为目标图像上色。
- en: The destination image must be in RGB mode but can be either grayscale or color.
    Its colors will be discarded; only the Value channel will be used in the resulting
    image. [Figure 12-114](ch12s06.html#sample_colorize_dialog "Figure 12-114. The
    Sample Colorize dialog") shows the dialog for this tool. We created a sample image
    by applying a linear gradient to a blank canvas, using the Blend tool and the
    `Incandescent` gradient. The drop-down menus at the top of the dialog contain
    all of the images currently open in GIMP; use them to select a sample or use the
    current gradient as the sample, either as is or reversed. We can use the triangles
    or the numbers below the sample image preview to restrict the output range. We
    can also change the prominence of dark, medium, and light tones, using the triangles
    or the numbers in the input range below the destination image preview.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 目标图像必须处于RGB模式，但可以是灰度图像或彩色图像。其颜色将被丢弃；最终图像中只会使用亮度（Value）通道。[图12-114](ch12s06.html#sample_colorize_dialog
    "图12-114. 示例色彩化对话框")展示了此工具的对话框。我们通过将线性渐变应用到一个空白画布上，使用混合工具和`Incandescent`渐变创建了一个示例图像。对话框顶部的下拉菜单包含当前在GIMP中打开的所有图像；可以用它们来选择一个示例图像，或使用当前的渐变作为示例，可以选择原始或反转的渐变。我们可以使用下方图像预览中三角形或数字来限制输出范围。我们还可以使用下方目标图像预览中的三角形或数字，调整暗调、中间调和亮调的突出程度。
- en: Various checkboxes set the parameters. HOLD INTENSITY applies the average light
    intensity of the source image to the destination image. ORIGINAL INTENSITY inactivates
    the Input levels intensity settings. USE SUBCOLORS makes the colors of an output
    pixel a mixture of the source and destination image values; otherwise, only the
    dominant color (the color with the maximum value) is used. SMOOTH SAMPLES improves
    the transition between colors selected after clicking the GET SAMPLE COLORS button.
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 各种复选框用于设置参数。HOLD INTENSITY将源图像的平均光强度应用到目标图像。ORIGINAL INTENSITY使输入级别的光强度设置失效。USE
    SUBCOLORS使输出像素的颜色成为源图像和目标图像值的混合；否则，只会使用最强的颜色（具有最大值的颜色）。SMOOTH SAMPLES在点击获取样本颜色按钮后改善颜色过渡。
- en: The Info Submenu
  id: totrans-474
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 信息子菜单
- en: The Info submenu is shown in [Figure 12-115](ch12s06.html#info_submenu-id00101
    "Figure 12-115. The Info submenu"). These entries don’t change the image. Rather,
    they offer ways to gather information about the image properties, which allow
    you to make informed adjustments using the other tools.
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: 信息子菜单如[图12-115](ch12s06.html#info_submenu-id00101 "图12-115. 信息子菜单")所示。这些条目不会改变图像，而是提供一种方法来收集图像属性的信息，从而让你通过其他工具做出明智的调整。
- en: '![The Info submenu](httpatomoreillycomsourcenostarchimages1455684.png.jpg)'
  id: totrans-476
  prefs: []
  type: TYPE_IMG
  zh: '![信息子菜单](httpatomoreillycomsourcenostarchimages1455684.png.jpg)'
- en: Figure 12-115. The Info submenu
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-115. 信息子菜单
- en: '![The Value histogram](httpatomoreillycomsourcenostarchimages1455686.png.jpg)'
  id: totrans-478
  prefs: []
  type: TYPE_IMG
  zh: '![亮度直方图](httpatomoreillycomsourcenostarchimages1455686.png.jpg)'
- en: Figure 12-116. The Value histogram
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-116. 亮度直方图
- en: Histogram
  id: totrans-480
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 直方图
- en: 'The Histogram tool opens a dockable dialog that can be selected via **Image:
    Windows > Dockable Dialogs > Histogram** and docked in one of the multi-dialog
    windows.'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 直方图工具会打开一个可停靠的对话框，可以通过**图像：窗口 > 可停靠对话框 > 直方图**来选择并停靠在多个对话框窗口中的一个。
- en: 'Keeping this dialog open on the screen is helpful, because it’s automatically
    updated when the current image changes and it provides a way to track the effect
    of various adjustments. Adjust its size, either to reduce the histogram and save
    space on the screen or to extend the histogram and show more precise information.
    In [Figure 12-116](ch12s06.html#value_histogram "Figure 12-116. The Value histogram"),
    only the Value channel is displayed in linear mode. Numeric data about the image
    pixels is displayed at the bottom of the dialog: the mean, standard deviation,
    and median of the values, and the number of pixels.'
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 保持此对话框在屏幕上是很有帮助的，因为当当前图像变化时，它会自动更新，并提供一种跟踪各种调整效果的方法。你可以调整它的大小，要么缩小直方图以节省屏幕空间，要么扩展直方图以显示更精确的信息。在[图12-116](ch12s06.html#value_histogram
    "图12-116. 亮度直方图")中，仅显示了线性模式下的亮度通道。图像像素的数值数据会显示在对话框的底部：均值、标准差、中位数以及像素数量。
- en: '![The Red histogram with reduced range](httpatomoreillycomsourcenostarchimages1455688.png.jpg)'
  id: totrans-483
  prefs: []
  type: TYPE_IMG
  zh: '![减小范围的红色直方图](httpatomoreillycomsourcenostarchimages1455688.png.jpg)'
- en: Figure 12-117. The Red histogram with reduced range
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-117. 减小范围的红色直方图
- en: '![The RGB histogram in Logarithmic mode](httpatomoreillycomsourcenostarchimages1455690.png.jpg)'
  id: totrans-485
  prefs: []
  type: TYPE_IMG
  zh: '![对数模式下的RGB直方图](httpatomoreillycomsourcenostarchimages1455690.png.jpg)'
- en: Figure 12-118. The RGB histogram in Logarithmic mode
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-118. 对数模式下的RGB直方图
- en: 'In [Figure 12-117](ch12s06.html#red_histogram_with_reduced_range "Figure 12-117. The
    Red histogram with reduced range"), we’ve displayed the Red channel and defined
    a subrange by moving the white triangle below the histogram. Because this is an
    informational dialog, the image doesn’t change, but the data does: The pixel count
    is different from the total, and the percentile is less than 100.'
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图12-117](ch12s06.html#red_histogram_with_reduced_range "图12-117。减少范围的红色直方图")中，我们显示了红色通道，并通过移动直方图下方的白色三角形来定义了一个子范围。因为这是一个信息对话框，图像本身不会改变，但数据会发生变化：像素计数不同于总数，百分位数小于100。
- en: In [Figure 12-118](ch12s06.html#rgb_histogram_in_logarithmic_mode "Figure 12-118. The
    RGB histogram in Logarithmic mode"), we’ve displayed the three RGB channels at
    the same time, and the histogram is logarithmic. In Logarithmic mode, the low
    values are more prominent, which is generally better since small differences in
    small values are much easier to see than small differences in high values.
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图12-118](ch12s06.html#rgb_histogram_in_logarithmic_mode "图12-118。RGB对数模式直方图")中，我们同时显示了三个RGB通道，且直方图是对数形式的。在对数模式下，低值更加突出，这通常更好，因为在低值中小的差异比在高值中小的差异更容易被察觉。
- en: '![The Border Average dialog](httpatomoreillycomsourcenostarchimages1455692.png.jpg)'
  id: totrans-489
  prefs: []
  type: TYPE_IMG
  zh: '![边界平均对话框](httpatomoreillycomsourcenostarchimages1455692.png.jpg)'
- en: Figure 12-119. The Border Average dialog
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-119。边界平均对话框
- en: Border Average
  id: totrans-491
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 边界平均
- en: The Border Average tool is useful for finding an appropriate background color
    to go behind an image on a web page. It determines which color occurs most often
    along the border of the current layer and sets it as the foreground color. Because
    this does not change the image itself, this tool has no undo capability.
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: 边界平均工具对于在网页上为图像找出合适的背景色非常有用。它通过确定当前图层边界上最常出现的颜色并将其设置为前景色。由于这不会改变图像本身，因此该工具没有撤销功能。
- en: 'The Border Average dialog, shown in [Figure 12-119](ch12s06.html#border_average_dialog
    "Figure 12-119. The Border Average dialog"), contains only two settings. The thickness
    of the BORDER SIZE specifies how much of the current layer is used in the calculation.
    The NUMBER OF COLORS is specified by the bucket size in the following way: Colors
    found in the border are placed in different buckets, depending on their similarity.
    The bucket containing the most colors is used to set the foreground color. A small
    bucket size leads to a large number of buckets and, often, an unexpected result.
    For example, when we applied the tool for the image in [Figure 12-102](ch12s06.html#sample_image_before_colormapping
    "Figure 12-102. A sample image before colormapping"), a bucket size of 16 yielded
    black, because the model’s black shirt spans much of the bottom border of the
    image and the tone is fairly consistent. A bucket size of 64 yielded a gray color,
    which is a mixture of the beige in the background of the photograph and the black
    of the woman’s shirt.'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: 边界平均对话框，如[图12-119](ch12s06.html#border_average_dialog "图12-119。边界平均对话框")所示，仅包含两个设置项。BORDER
    SIZE（边界大小）指定了在计算中使用当前图层的多少部分。NUMBER OF COLORS（颜色数量）由桶大小指定，方法如下：在边界找到的颜色根据相似度被放入不同的桶中。包含最多颜色的桶将用于设置前景色。较小的桶大小会导致大量的桶，并且通常会产生意外的结果。例如，当我们为[图12-102](ch12s06.html#sample_image_before_colormapping
    "图12-102。色彩映射前的示例图像")中的图像应用该工具时，桶大小为16产生了黑色，因为该模型的黑色衬衫占据了图像底部的大部分边界，且色调相当一致。桶大小为64时产生了灰色，这种灰色是背景中的米色和女人衬衫上的黑色混合而成。
- en: Colorcube Analysis
  id: totrans-494
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 色立方分析
- en: 'This tool has been more or less obsolete since GIMP 2.4: Its dialog ([Figure 12-120](ch12s06.html#colorcube_analysis_dialog
    "Figure 12-120. The Colorcube Analysis dialog")) only displays the RGB logarithmic
    histogram, the image dimensions, and the number of unique colors.'
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具自GIMP 2.4以来或多或少已经过时：它的对话框（[图12-120](ch12s06.html#colorcube_analysis_dialog
    "图12-120。色立方分析对话框")）仅显示RGB对数直方图、图像尺寸以及独特颜色的数量。
- en: '![The Colorcube Analysis dialog](httpatomoreillycomsourcenostarchimages1455694.png.jpg)'
  id: totrans-496
  prefs: []
  type: TYPE_IMG
  zh: '![色立方分析对话框](httpatomoreillycomsourcenostarchimages1455694.png.jpg)'
- en: Figure 12-120. The Colorcube Analysis dialog
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-120。色立方分析对话框
- en: '![The generated palette](httpatomoreillycomsourcenostarchimages1455696.png.jpg)'
  id: totrans-498
  prefs: []
  type: TYPE_IMG
  zh: '![生成的调色板](httpatomoreillycomsourcenostarchimages1455696.png.jpg)'
- en: Figure 12-121. The generated palette
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-121。生成的调色板
- en: '![The Smooth Palette dialog](httpatomoreillycomsourcenostarchimages1455698.png.jpg)'
  id: totrans-500
  prefs: []
  type: TYPE_IMG
  zh: '![平滑调色板对话框](httpatomoreillycomsourcenostarchimages1455698.png.jpg)'
- en: Figure 12-122. The Smooth Palette dialog
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-122。平滑调色板对话框
- en: Smooth Palette
  id: totrans-502
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 平滑调色板
- en: This tool uses the various colors in the current layer to generate a palette
    in the form of a series of color stripes, as shown in [Figure 12-121](ch12s06.html#generated_palette
    "Figure 12-121. The generated palette"). We use it mainly with the Flame filter
    (see [Flame](ch17s13.html#flame "Flame")).
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具使用当前图层中的各种颜色来生成一组色带形式的调色板，如[图12-121](ch12s06.html#generated_palette "图12-121.
    生成的调色板")所示。我们主要将它与火焰滤镜一起使用（见[火焰](ch17s13.html#flame "火焰")）。
- en: In the dialog shown in [Figure 12-122](ch12s06.html#smooth_palette_dialog "Figure 12-122. The
    Smooth Palette dialog"), the first two parameters set the dimensions of the new
    image for the palette. SEARCH DEPTH [1 to 1024] generates more colors when you
    increase the value.
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: 在[图12-122](ch12s06.html#smooth_palette_dialog "图12-122. 平滑调色板对话框")中显示的对话框中，前两个参数设置新图像的尺寸。搜索深度[1到1024]可以通过增大数值来生成更多的颜色。
- en: The Remaining Color Tools
  id: totrans-505
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 剩余的颜色工具
- en: The last part of the Colors menu contains six tools that aren’t really related
    but are grouped here. We’ll use the sample image shown in [Figure 12-123](ch12s06.html#sample_image-id00102
    "Figure 12-123. The sample image") to demonstrate the effect of each of these
    tools.
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色菜单的最后部分包含六个工具，这些工具并没有直接关系，但被分组在一起。我们将使用[图12-123](ch12s06.html#sample_image-id00102
    "图12-123. 示例图像")中显示的示例图像来演示每个工具的效果。
- en: '![The sample image](httpatomoreillycomsourcenostarchimages1455700.png.jpg)'
  id: totrans-507
  prefs: []
  type: TYPE_IMG
  zh: '![示例图像](httpatomoreillycomsourcenostarchimages1455700.png.jpg)'
- en: Figure 12-123. The sample image
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-123. 示例图像
- en: '![The Color to Alpha dialog](httpatomoreillycomsourcenostarchimages1455702.png.jpg)'
  id: totrans-509
  prefs: []
  type: TYPE_IMG
  zh: '![颜色到透明对话框](httpatomoreillycomsourcenostarchimages1455702.png.jpg)'
- en: Figure 12-124. The Color to Alpha dialog
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-124. 颜色到透明对话框
- en: Color to Alpha
  id: totrans-511
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 颜色到透明
- en: The Color to Alpha tool replaces some chosen color with transparency. Its dialog,
    shown in [Figure 12-124](ch12s06.html#color_to_alpha_dialog "Figure 12-124. The
    Color to Alpha dialog"), contains a preview and a button for choosing the color,
    which opens a simplified version of the Color chooser. We chose a color from the
    picture using the eyedropper, and the result appears in [Figure 12-125](ch12s06.html#after_applying_color_to_alpha
    "Figure 12-125. After applying Color to Alpha").
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: 颜色到透明工具将某些选定的颜色替换为透明。其对话框显示在[图12-124](ch12s06.html#color_to_alpha_dialog "图12-124.
    颜色到透明对话框")中，包含一个预览和一个选择颜色的按钮，点击后会打开一个简化版的颜色选择器。我们通过吸管工具从图像中选择了一种颜色，结果显示在[图12-125](ch12s06.html#after_applying_color_to_alpha
    "图12-125. 应用“颜色到透明”后的效果")中。
- en: Colorify
  id: totrans-513
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 上色
- en: The Colorify tool desaturates the image and then colorizes it, as if it were
    a grayscale image seen through colored glass. The Colorify tool actually does
    the same thing as the Colorize tool but with a different user interface. Its dialog,
    shown in [Figure 12-126](ch12s06.html#colorify_dialog "Figure 12-126. The Colorify
    dialog"), contains a preview; a small palette of fully saturated colors; and a
    button for defining a custom color, which opens a simplified version of the Color
    chooser. Choosing a light color is best because darker colors reduce the contrast
    in the image, as demonstrated in [Figure 12-127](ch12s06.html#after_applying_colorify
    "Figure 12-127. After applying Colorify").
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 上色工具将图像去饱和后再进行上色，仿佛它是通过有色玻璃看到的灰度图像。上色工具实际上与色彩化工具做的是相同的事情，只是用户界面不同。其对话框显示在[图12-126](ch12s06.html#colorify_dialog
    "图12-126. 上色对话框")中，包含一个预览、一个小型的完全饱和的颜色调色板，以及一个用于定义自定义颜色的按钮，点击后会打开简化版的颜色选择器。选择浅色最为合适，因为深色会降低图像的对比度，如[图12-127](ch12s06.html#after_applying_colorify
    "图12-127. 应用“上色”后的效果")所示。
- en: '![After applying Color to Alpha](httpatomoreillycomsourcenostarchimages1455704.png.jpg)'
  id: totrans-515
  prefs: []
  type: TYPE_IMG
  zh: '![应用“颜色到透明”后的效果](httpatomoreillycomsourcenostarchimages1455704.png.jpg)'
- en: Figure 12-125. After applying Color to Alpha
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-125. 应用“颜色到透明”后的效果
- en: '![The Colorify dialog](httpatomoreillycomsourcenostarchimages1455706.png.jpg)'
  id: totrans-517
  prefs: []
  type: TYPE_IMG
  zh: '![上色对话框](httpatomoreillycomsourcenostarchimages1455706.png.jpg)'
- en: Figure 12-126. The Colorify dialog
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-126. 上色对话框
- en: Filter Pack
  id: totrans-519
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 滤镜包
- en: 'As its name suggests, this entry is actually a collection of tools, called
    *filters*, although they don’t have any specific connection to the collection
    of tools found in the **Image: Filters** menu.'
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: 顾名思义，这一条目实际上是一个工具集，称为*滤镜*，尽管它们与**图像：滤镜**菜单中找到的工具集并没有直接的联系。
- en: '![After applying Colorify](httpatomoreillycomsourcenostarchimages1455708.png.jpg)'
  id: totrans-521
  prefs: []
  type: TYPE_IMG
  zh: '![应用“上色”后的效果](httpatomoreillycomsourcenostarchimages1455708.png.jpg)'
- en: Figure 12-127. After applying Colorify
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: 图12-127. 应用“上色”后的效果
- en: '![The Filter Pack dialog](httpatomoreillycomsourcenostarchimages1455710.png.jpg)'
  id: totrans-523
  prefs: []
  type: TYPE_IMG
  zh: '![滤镜包对话框](httpatomoreillycomsourcenostarchimages1455710.png.jpg)'
- en: Figure 12-128. The Filter Pack dialog
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-128. 滤镜包对话框
- en: 'Its dialog, shown in [Figure 12-128](ch12s06.html#filter_pack_dialog "Figure 12-128. The
    Filter Pack dialog"), contains the following options:'
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: 它的对话框，如[图 12-128](ch12s06.html#filter_pack_dialog "图 12-128. 滤镜包对话框")所示，包含以下选项：
- en: Two previews, before and after the filter. These previews are very small and
    you can’t zoom in, so we often find it useful to first make a small selection
    in the image, work on that selection, invert it, and apply the tool again with
    the same parameters.
  id: totrans-526
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两个预览，滤镜前后的效果。这些预览非常小，您不能放大，因此我们通常发现首先在图像中选择一个小区域，处理该区域，然后反转选择，再使用相同的参数再次应用工具是很有用的。
- en: '![The Hue variations](httpatomoreillycomsourcenostarchimages1455712.png.jpg)'
  id: totrans-527
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![色相变化](httpatomoreillycomsourcenostarchimages1455712.png.jpg)'
- en: Figure 12-129. The Hue variations
  id: totrans-528
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-129. 色相变化
- en: SHOW allows you to change what’s shown in the preview. To use the trick just
    described, choose to show only the selection rather than the entire image.
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示（SHOW）允许您更改预览中显示的内容。为了使用刚才提到的技巧，可以选择只显示选区而不是整个图像。
- en: The four checkboxes in WINDOWS open corresponding windows, which are explained
    next.
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 滤镜包对话框中的四个复选框打开相应的窗口，接下来会对这些窗口进行说明。
- en: AFFECTED RANGE works in the same way as in the Color Balance tool (see [Color
    Balance](ch12s05.html#color_balance "Color Balance")).
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受影响的范围（AFFECTED RANGE）与色彩平衡工具中的工作方式相同（参见[色彩平衡](ch12s05.html#color_balance "色彩平衡")）。
- en: SELECT PIXELS BY further determines which subrange will be affected by the changes.
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过进一步确定哪些子范围会受到更改的影响，SELECT PIXELS BY 进行操作。
- en: The ROUGHNESS slider [0 to 1] sets the strength of changes made when you click
    a window.
  id: totrans-533
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 粗糙度滑块（ROUGHNESS）[0 到 1]设置在点击窗口时所做更改的强度。
- en: 'The windows, which open when the corresponding boxes in the Filter Pack dialog
    are checked, each contain a filter linked to the main dialog but offering a unique
    way to edit the image. The four windows are these:'
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: 当滤镜包对话框中的相应框被勾选时，打开的窗口中每个都包含一个滤镜，它与主对话框关联，但提供了一种独特的图像编辑方式。这四个窗口是：
- en: 'HUE: Its dialog, shown in [Figure 12-129](ch12s06.html#hue_variations "Figure 12-129. The
    Hue variations"), contains seven previews. The center one displays the current
    state of the image. The others correspond to the three RGB colors and their complementary
    colors. Clicking one of the previews adds the corresponding color to the selected
    subrange (set in the Filter Pack dialog) with the current ROUGHNESS. Subtract
    a color by clicking its complementary color.'
  id: totrans-535
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 色相：它的对话框，如[图 12-129](ch12s06.html#hue_variations "图 12-129. 色相变化")所示，包含七个预览。中间的预览显示图像的当前状态。其他的对应三个RGB颜色及其互补颜色。点击其中一个预览会将相应的颜色添加到已选子范围（在滤镜包对话框中设置）中，并使用当前的粗糙度。点击互补色则可减去该颜色。
- en: '![The Saturation variations](httpatomoreillycomsourcenostarchimages1455714.png.jpg)'
  id: totrans-536
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![饱和度变化](httpatomoreillycomsourcenostarchimages1455714.png.jpg)'
- en: Figure 12-130. The Saturation variations
  id: totrans-537
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-130. 饱和度变化
- en: '![The Value variations](httpatomoreillycomsourcenostarchimages1455716.png.jpg)'
  id: totrans-538
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![亮度变化](httpatomoreillycomsourcenostarchimages1455716.png.jpg)'
- en: Figure 12-131. The Value variations
  id: totrans-539
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-131. 亮度变化
- en: '![The Advanced Filter Pack Options dialog](httpatomoreillycomsourcenostarchimages1455718.png.jpg)'
  id: totrans-540
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![高级滤镜包选项对话框](httpatomoreillycomsourcenostarchimages1455718.png.jpg)'
- en: Figure 12-132. The Advanced Filter Pack Options dialog
  id: totrans-541
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 12-132. 高级滤镜包选项对话框
- en: 'SATURATION: Its dialog, shown in [Figure 12-130](ch12s06.html#saturation_variations
    "Figure 12-130. The Saturation variations"), contains only three previews, allowing
    you to increase or decrease the saturation in the current subrange.'
  id: totrans-542
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 饱和度：它的对话框，如[图 12-130](ch12s06.html#saturation_variations "图 12-130. 饱和度变化")所示，仅包含三个预览，允许您在当前子范围内增加或减少饱和度。
- en: 'VALUE: Its dialog, shown in [Figure 12-131](ch12s06.html#value_variations "Figure 12-131. The
    Value variations"), also contains three previews, allowing you to increase or
    decrease the value in the image.'
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 亮度：它的对话框，如[图 12-131](ch12s06.html#value_variations "图 12-131. 亮度变化")所示，也包含三个预览，允许您在图像中增加或减少亮度。
- en: 'ADVANCED: This checkbox opens the dialog shown in [Figure 12-132](ch12s06.html#advanced_filter_pack_options_dialog
    "Figure 12-132. The Advanced Filter Pack Options dialog"). The PREVIEW SIZE slider
    [50 to 125] allows you to change the size of the preview slightly. The AFFECTED
    RANGE specifies the meaning of Shadows, Midtones, and Highlights. The blue triangle
    allows you to remove the darkest pixels from the affected subrange. You can use
    the two other triangles to define the limits of the three subranges. The shape
    of the curve depends on the range chosen in the main window, on the roughness,
    and on the position of the bottom slider [0 to 1]. This shape represents the intensity
    of the changes that will be made to the image.'
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级：此复选框打开在[图 12-132](ch12s06.html#advanced_filter_pack_options_dialog "图 12-132.
    高级过滤器包选项对话框")中显示的对话框。预览大小滑块[50到125]允许您稍微调整预览的大小。受影响范围指定阴影、中间调和高光的含义。蓝色三角形允许您从受影响的子范围中移除最暗的像素。您可以使用其他两个三角形来定义三个子范围的限制。曲线的形状取决于主窗口中选择的范围、粗糙度和底部滑块的位置[0到1]。此形状表示将对图像进行的变化强度。
- en: '![The Hot dialog](httpatomoreillycomsourcenostarchimages1455720.png.jpg)'
  id: totrans-545
  prefs: []
  type: TYPE_IMG
  zh: '![热对话框](httpatomoreillycomsourcenostarchimages1455720.png.jpg)'
- en: Figure 12-133. The Hot dialog
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-133. 热对话框
- en: Hot
  id: totrans-547
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 热
- en: The Hot tool selects pixels that could cause problems when displayed in NTSC
    or PAL video. In its dialog, shown in [Figure 12-133](ch12s06.html#hot_dialog
    "Figure 12-133. The Hot dialog"), you can select the video mode as well as the
    process used to mitigate the potential problem. You can reduce luminance or saturation
    or blacken the pixels. By default, the changes made with this tool are done on
    an additional, transparent layer.
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: 热工具选择可能在NTSC或PAL视频中显示时引发问题的像素。在其对话框中，如[图 12-133](ch12s06.html#hot_dialog "图
    12-133. 热对话框")所示，您可以选择视频模式以及用于减轻潜在问题的处理方式。您可以降低亮度或饱和度，或将像素变黑。默认情况下，使用此工具所做的更改会应用于一个附加的透明图层。
- en: Maximum RGB
  id: totrans-549
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 最大RGB
- en: The Maximum RGB tool keeps only the RGB component with the maximum (or minimum)
    value. This explains why in its dialog, shown in [Figure 12-134](ch12s06.html#maximum_rgb_dialog
    "Figure 12-134. The Maximum RGB dialog"), the preview shows an image that’s mainly
    red, except for the eyes, which are blue. If we choose the minimal channels, the
    result is mainly blue, except for the eyes, which are now red.
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 最大RGB工具仅保留最大（或最小）值的RGB组件。这解释了为什么在其对话框中，如[图 12-134](ch12s06.html#maximum_rgb_dialog
    "图 12-134. 最大RGB对话框")所示，预览图像主要是红色的，除了眼睛是蓝色的。如果选择最小的通道，结果则主要是蓝色，除了眼睛，现在变成了红色。
- en: Retinex
  id: totrans-551
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Retinex
- en: Retinex algorithms are designed to mimic the dynamics of human vision, making
    images viewed on a screen appear more realistic. The human eye distinguishes colors
    even in poor or colored lighting. The Retinex tool uses the MSRCR algorithm, which
    is used in digital photography or for processing astronomical and medical photographs.
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: Retinex算法旨在模拟人类视觉的动态，使在屏幕上查看的图像看起来更逼真。人眼即使在光线较差或带有颜色的光照下，也能分辨颜色。Retinex工具使用MSRCR算法，这一算法广泛应用于数字摄影、天文摄影和医学照片处理。
- en: '![The Maximum RGB dialog](httpatomoreillycomsourcenostarchimages1455722.png.jpg)'
  id: totrans-553
  prefs: []
  type: TYPE_IMG
  zh: '![最大RGB对话框](httpatomoreillycomsourcenostarchimages1455722.png.jpg)'
- en: Figure 12-134. The Maximum RGB dialog
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-134. 最大RGB对话框
- en: The options in its [Figure 12-135](ch12s06.html#retinex_dialog "Figure 12-135. The
    Retinex dialog"), assume that the user has some knowledge of the mathematics of
    the Retinex MSRCR algorithm. Those who don’t possess the required knowledge can
    simply fiddle with the options and sliders until the result is appealing. An example
    is shown in [Figure 12-136](ch12s06.html#after_applying_retinex "Figure 12-136. After
    applying Retinex").
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 它在[图 12-135](ch12s06.html#retinex_dialog "图 12-135. Retinex对话框")中的选项假设用户具备一些Retinex
    MSRCR算法的数学知识。那些没有相关知识的用户可以简单地调整选项和滑块，直到得到令人满意的效果。一个示例如[图 12-136](ch12s06.html#after_applying_retinex
    "图 12-136. 应用Retinex后的效果")所示。
- en: '![The Retinex dialog](httpatomoreillycomsourcenostarchimages1455724.png.jpg)'
  id: totrans-556
  prefs: []
  type: TYPE_IMG
  zh: '![Retinex对话框](httpatomoreillycomsourcenostarchimages1455724.png.jpg)'
- en: Figure 12-135. The Retinex dialog
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-135. Retinex对话框
- en: '![After applying Retinex](httpatomoreillycomsourcenostarchimages1455726.png.jpg)'
  id: totrans-558
  prefs: []
  type: TYPE_IMG
  zh: '![应用Retinex后的效果](httpatomoreillycomsourcenostarchimages1455726.png.jpg)'
- en: Figure 12-136. After applying Retinex
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 图 12-136. 应用Retinex后的效果
