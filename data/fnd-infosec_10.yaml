- en: '10'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '10'
- en: NETWORK SECURITY
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 网络安全
- en: '![Image](../images/common.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/common.jpg)'
- en: A computer network is a group of computers or other devices that are connected
    to facilitate the sharing of resources. You likely depend on a variety of networks
    to function daily. Networks control and enable modern automobiles, airplanes,
    medical devices, refrigerators, and countless other devices. Networks provide
    the ability for you to communicate, navigate road systems, go to school, play
    games, watch TV, and listen to music. Without a secure and stable system of networks,
    many of the daily conveniences that you enjoy would be made considerably more
    difficult to interact with or just fail to function entirely.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机网络是一组互相连接的计算机或其他设备，用于便于共享资源。你很可能依赖多种网络来进行日常操作。网络控制并使现代汽车、飞机、医疗设备、冰箱以及无数其他设备得以运行。网络让你能够进行通信、导航道路系统、上学、玩游戏、看电视和听音乐。如果没有一个安全稳定的网络系统，你日常享受的许多便利将变得非常难以使用，甚至完全无法使用。
- en: Your networks may face threats from attackers; they may also suffer from misconfigurations
    of their infrastructure or network-enabled devices, or even from simple outages.
    Most of the world is network dependent, so losing network connectivity and the
    services it provides can suffocate you. At worst, it can devastate your business.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你的网络可能会面临攻击者的威胁；它们也可能遭遇基础设施或网络设备配置错误，甚至是简单的故障。全球大多数地区都依赖网络，因此失去网络连接及其提供的服务可能会让你陷入困境。最严重的情况是，它可能会摧毁你的业务。
- en: In January 2017, civil unrest in Cameroon reached a high point when large-scale
    protests erupted over the dominance of French in a country where both French and
    English are official languages. In what appears to have been an attempt to rein
    in the protestors, the government deliberately disconnected large, primarily English-speaking
    areas of the country from the global networks that comprise the internet. These
    regions remained offline for 93 days before the government restored access.[¹](notes.xhtml#ch10fn1)
    These types of outages can have wide-reaching impacts across industries, disrupting
    medical care, communications, employment, education, shopping, and many other
    aspects of people’s lives.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 2017年1月，喀麦隆的社会动荡达到了高潮，因大规模抗议活动爆发，抗议焦点是法语在一个官方语言为法语和英语的国家中的主导地位。为了遏制抗议者，政府故意将该国大部分以英语为主的地区从全球网络中断开，使其无法连接互联网。这些地区在93天后才恢复了网络连接。[¹](notes.xhtml#ch10fn1)
    这种类型的故障可能会对各行各业产生深远的影响，破坏医疗、通信、就业、教育、购物以及人们生活的许多其他方面。
- en: Although the situation in Cameroon may be an extreme example, smaller network
    outages and other malfunctions cause serious impacts all over the world every
    day. Some of these problems may result from technical issues. Others may result
    from the specific *distributed denial-of-service (DDoS) attacks* (DoS attacks
    that originate from many distributed sources) I’ll discuss in this chapter, or
    from temporary causes entirely unknown to the network users.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管喀麦隆的情况可能是一个极端例子，但全球每天都发生着较小的网络故障和其他故障，造成严重的影响。这些问题有些可能源于技术故障。其他可能源于本章中我将讨论的特定*分布式拒绝服务攻击（DDoS攻击）*（来自多个分布式来源的DoS攻击），或是完全由网络用户未知的临时原因造成。
- en: This chapter will cover the infrastructure and devices you can put in place
    to secure your networks and the methods you can use to protect the network traffic
    itself. You’ll also learn about tools that can help verify your security.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将介绍你可以部署的基础设施和设备，用于保护你的网络安全，以及你可以用来保护网络流量本身的方法。你还将了解一些工具，帮助你验证安全性。
- en: Protecting Networks
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 保护网络
- en: You can use two methods to protect your networks and network resources. One
    option is to design your networks securely by laying them out so they’re resistant
    to attack or technical mishap. You can also implement a variety of devices, such
    as firewalls and intrusion detection systems, in and around your networks.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用两种方法来保护你的网络和网络资源。一个选项是通过安全设计网络结构，使其对攻击或技术故障具有抗性。你还可以在网络中及周围部署各种设备，如防火墙和入侵检测系统。
- en: '*Designing Secure Networks*'
  id: totrans-10
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*设计安全的网络*'
- en: By designing your networks properly, you can prevent some attacks entirely,
    mitigate others, and, when you fail, fail in a graceful way.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 通过正确设计网络，你可以完全防止某些攻击，减轻其他攻击的影响，并且在失败时优雅地应对。
- en: One strategy for reducing the impact of attacks is *network segmentation*. When
    you segment a network, you divide it into multiple smaller networks called *subnets*.
    You can control the flow of traffic between subnets, allowing or disallowing it
    based on a variety of factors or even blocking the flow of traffic entirely if
    necessary. Properly segmented networks can boost network performance by containing
    certain traffic to the portions of the network that need to see it, and they can
    help you localize technical network issues. Additionally, network segmentation
    can prevent unauthorized network traffic or attacks from reaching particularly
    sensitive portions of the network.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 减少攻击影响的一个策略是*网络分段*。当你进行网络分段时，你将网络划分为多个较小的网络，称为*子网*。你可以控制子网之间的流量流动，根据不同的因素来允许或禁止流量，必要时甚至可以完全阻止流量流动。合理分段的网络可以通过将某些流量限制在需要访问的网络部分内来提升网络性能，同时还可以帮助你局部化技术性网络问题。此外，网络分段可以防止未经授权的网络流量或攻击进入特别敏感的网络部分。
- en: You can also secure your networks by funneling traffic through *choke points*,
    or locations where you can inspect, filter, and control the traffic. The choke
    points might be the routers that move traffic from one subnet to another, the
    firewalls that filter traffic through your networks or portions of your networks,
    or the application proxies that filter the traffic for applications such as web
    or email. I’ll discuss some of these devices at greater length in the next section
    of this chapter.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过将流量引导到*瓶颈点*来保护你的网络，瓶颈点是你可以检查、过滤和控制流量的位置。瓶颈点可能是将流量从一个子网转移到另一个子网的路由器，过滤流量的防火墙，或者为像网页或电子邮件等应用过滤流量的应用代理。我将在本章的下一节中详细讨论这些设备。
- en: Creating redundancies when designing your networks can also help mitigate issues.
    Certain technical failures or attacks may render portions of your technology—including
    networks, network infrastructure devices, or border devices such as firewalls—unusable.
    For example, if one of your border devices is subjected to a DDoS attack, you
    can’t do much to stop it. You can, however, switch to a different internet connection
    or route traffic through a different device until you can come to a longer-term
    solution.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在设计网络时创建冗余可以帮助缓解问题。某些技术故障或攻击可能会导致部分技术设备（包括网络、网络基础设施设备或如防火墙等边界设备）无法使用。例如，如果你的某个边界设备遭受了DDoS攻击，你无法做太多来阻止它。然而，你可以切换到不同的互联网连接或通过不同的设备路由流量，直到找到一个长期的解决方案。
- en: '*Using Firewalls*'
  id: totrans-15
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*使用防火墙*'
- en: A *firewall* is a mechanism for maintaining control over the traffic that flows
    in and out of networks. One of the first papers to discuss the idea was “Simple
    and Flexible Datagram Access Controls,” written in 1989 by Jeffrey Mogul,[²](notes.xhtml#ch10fn2)
    then at Digital Equipment Corporation. In 1992, Digital Equipment Corporation
    created first commercial firewall, the DEC SEAL.[³](notes.xhtml#ch10fn3)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '*防火墙*是一种用于控制进出网络流量的机制。讨论这一理念的第一篇论文是由Jeffrey Mogul于1989年撰写的《简单而灵活的数据报访问控制》[²](notes.xhtml#ch10fn2)，当时他在数字设备公司（Digital
    Equipment Corporation）工作。1992年，数字设备公司创建了第一款商业防火墙——DEC SEAL[³](notes.xhtml#ch10fn3)。'
- en: You typically place firewalls at points where the level of trust changes, like
    the border between an internal network and the internet, as shown in [Figure 10-1](#ch10fig1).
    You may also install a firewall on your internal network to prevent unauthorized
    users from accessing network traffic of a sensitive nature.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你会将防火墙放置在信任级别变化的地方，比如内部网络和互联网之间的边界，如[图10-1](#ch10fig1)所示。你也可以在内部网络上安装防火墙，防止未经授权的用户访问敏感性质的网络流量。
- en: '![Image](../images/10fig01.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/10fig01.jpg)'
- en: '*Figure 10-1: Firewall placement*'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '*图10-1：防火墙放置*'
- en: Many of the firewalls in use today work by examining the *packets* (blocks of
    data) moving through the network to determine which ones it should allow in or
    out. They base their decision on a variety of factors. For example, they might
    allow or disallow traffic depending on the protocol being used to let web and
    email traffic pass but block everything else. I’ll go over the types of firewalls
    in this section.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 目前许多防火墙通过检查*数据包*（数据块）在网络中流动来决定哪些应该允许进出。它们的决策依据有多种因素。例如，它们可能根据所使用的协议来允许或拒绝流量，让网页和电子邮件流量通过，但阻止其他一切。我将在本节中介绍防火墙的类型。
- en: Packet Filtering
  id: totrans-21
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 包括过滤
- en: In packet filtering, one of the oldest and simplest firewall technologies, the
    firewall looks at the contents of each packet in the traffic individually and
    either allows or disallows it based on the source and destination IP addresses,
    the port number, and the protocol being used.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 数据包过滤是一种最古老和最简单的防火墙技术，防火墙会查看流量中每个数据包的内容，并根据源和目标 IP 地址、端口号以及所使用的协议来决定是否允许或拒绝该数据包。
- en: Since the packet filtering firewall examines each packet individually and not
    in concert with the rest of the packets making up the traffic, an attacker could
    slip attacks through this type of firewall by sending attack traffic that spans
    more than one packet. To find these, you need to employ more complex methods of
    detection.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 由于数据包过滤防火墙会逐个检查数据包，而不是与构成流量的其他数据包一起考虑，因此攻击者可以通过发送跨越多个数据包的攻击流量，绕过这种类型的防火墙。为了发现这些攻击，你需要采用更复杂的检测方法。
- en: Stateful Packet Inspection
  id: totrans-24
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 有状态数据包检查
- en: Stateful packet inspection firewalls, or stateful firewalls, function on the
    same general principle as packet filtering firewalls, but they can keep track
    of the traffic at a granular level. While a packet filtering firewall examines
    an individual packet out of context, a stateful firewall can watch the traffic
    over a given connection. A connection is defined by the source and destination
    IP addresses, the ports being used, and the already existing network traffic.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 有状态数据包检查防火墙，或称有状态防火墙，基于与数据包过滤防火墙相同的基本原理，但它们可以在更细粒度的层面上跟踪流量。数据包过滤防火墙检查单个数据包时没有上下文，而有状态防火墙可以监控特定连接上的流量。连接由源和目标
    IP 地址、使用的端口以及已存在的网络流量定义。
- en: A stateful firewall uses a state table to keep track of the connection state
    (the normal sequence of traffic) and allows traffic that is part of a new or already
    established connection only. This can help to prevent some intentionally disruptive
    attack traffic that doesn’t resemble a proper and expected connection. Most stateful
    firewalls can also function as packet filtering firewalls, and they often combine
    the two forms of filtering. In addition to packet filtering features, stateful
    firewalls might also identify and track the traffic related to a user-initiated
    connection to a website, and they’ll know when the connection has been closed,
    meaning no further legitimate traffic would be present.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 有状态防火墙使用状态表来跟踪连接状态（流量的正常顺序），只允许属于新连接或已建立连接的流量通过。这有助于防止一些有意破坏的攻击流量，因为它们不像正常的、预期的连接。大多数有状态防火墙也可以作为数据包过滤防火墙使用，且它们通常将两种过滤方式结合使用。除了数据包过滤功能外，有状态防火墙还可以识别并跟踪与用户发起的连接相关的流量，如连接到网站时的流量，并且它们会知道连接何时关闭，这意味着不会再有合法的流量。
- en: Deep Packet Inspection
  id: totrans-27
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 深度数据包检测
- en: Deep packet inspection firewalls add yet another layer of intelligence to your
    firewall capabilities because they can analyze the actual content of the traffic
    that flows through them. While packet filtering firewalls and stateful firewalls
    can look at only the structure of the network traffic to filter out attacks and
    undesirable content, deep packet inspection firewalls can reassemble the contents
    of the traffic to see what it will deliver to the application for which it’s destined.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 深度数据包检测防火墙为你的防火墙功能增加了另一层智能，因为它们可以分析流经它们的流量的实际内容。虽然数据包过滤防火墙和有状态防火墙只能查看网络流量的结构来过滤攻击和不良内容，但深度数据包检测防火墙可以重新组装流量内容，以查看它将交付给哪个目标应用程序。
- en: To use an analogy, when you ship a package, the parcel carrier will look at
    the size and shape of the package, how much it weighs, how it’s wrapped, and the
    sending and destination addresses. This is generally what packet filter firewalls
    and stateful firewalls do. In deep packet inspection, the parcel carrier would
    do all of this as well as open the package, inspect its contents, and then make
    a judgment about whether to ship it.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 使用一个类比，当你寄送包裹时，快递公司会查看包裹的大小、形状、重量、包装方式以及寄件和收件地址。这通常是数据包过滤防火墙和有状态防火墙的工作方式。而在深度数据包检测中，快递公司不仅会查看这些内容，还会打开包裹，检查其内容，然后判断是否继续运输。
- en: Although this technology has great promise for blocking many attacks, it also
    raises privacy concerns. In theory, someone in control of a deep packet inspection
    device could read every one of your email messages, see every web page exactly
    as you saw it, and easily listen in on your instant messaging conversations.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管该技术在阻止许多攻击方面有很大的潜力，但它也引发了隐私问题。理论上，控制深度包检测设备的人可以读取你的每一封电子邮件消息，看到你所看到的每一个网页，并且轻松监听你的即时消息对话。
- en: Proxy Servers
  id: totrans-31
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 代理服务器
- en: Proxy servers are special kinds of firewall that pertain specifically to applications.
    These servers provide security and performance features, generally for an application,
    such as mail or web browsing. Proxy servers can provide a layer of security for
    the devices behind them by serving as choke points, and they allow you to log
    the traffic that goes through them for later inspection. They are a single source
    for requests.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 代理服务器是一种专门针对应用程序的防火墙。这些服务器提供安全性和性能特性，通常用于邮件或网页浏览等应用程序。代理服务器可以通过充当瓶颈点，为其后面的设备提供一层安全保护，并允许你记录通过它们的流量以便稍后检查。它们是请求的唯一来源。
- en: Many companies rely on proxy servers to keep spam from reaching their users’
    email accounts and lowering productivity, to keep employees from visiting websites
    that might have objectionable material, and to filter out traffic that might indicate
    the presence of malware.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 许多公司依赖代理服务器来阻止垃圾邮件进入用户的电子邮件帐户，减少工作效率，防止员工访问可能含有不良内容的网站，并过滤可能表明存在恶意软件的流量。
- en: DMZs
  id: totrans-34
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: DMZ
- en: A *demilitarized zone* (DMZ) is a layer of protection that separates a device
    from the rest of a network. You accomplish this by using multiple layers of firewalls,
    as shown in [Figure 10-2](#ch10fig2). In this case, the internet-facing firewall
    might allow traffic through to a web server sitting in the DMZ, but the internal
    firewall would not allow traffic from the internet through to the internal servers.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '*非军事区*（DMZ）是一种保护层，用于将设备与网络的其他部分分隔开来。你可以通过使用多个防火墙层来实现这一点，如[图 10-2](#ch10fig2)所示。在这种情况下，面向互联网的防火墙可能允许流量通过，连接到位于
    DMZ 中的 Web 服务器，但内部防火墙则不会允许来自互联网的流量访问内部服务器。'
- en: '![Image](../images/10fig02.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/10fig02.jpg)'
- en: '*Figure 10-2: A DMZ*'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 10-2：DMZ*'
- en: The DMZ creates a zone that allows public-facing servers to be accessed from
    the outside while both providing a measure of protection for them and restricting
    traffic from those servers from penetrating the more sensitive portions of your
    network. This helps to prevent the scenario where attackers compromise your public-facing
    servers and use them to attack the other servers behind them.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: DMZ 创建了一个区域，允许外部访问面向公众的服务器，同时为这些服务器提供一定程度的保护，并限制这些服务器的流量渗透到网络中更敏感的部分。这有助于防止攻击者入侵你的面向公众的服务器，并利用它们攻击位于其后面的其他服务器。
- en: '*Implementing Network Intrusion Detection Systems*'
  id: totrans-39
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*实施网络入侵检测系统*'
- en: '*Intrusion detection systems (IDS)* are hardware or software tools that monitor
    networks, hosts, or applications for unauthorized activity. You can classify IDS
    based on the way they detect attacks: signature-based detection and anomaly-based
    detection.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '*入侵检测系统（IDS）* 是监控网络、主机或应用程序是否存在未经授权活动的硬件或软件工具。你可以根据它们检测攻击的方式将 IDS 分类：基于签名的检测和基于异常的检测。'
- en: '*Signature-based IDS* work like most antivirus systems. They maintain a database
    of the signatures that might signal an attack and compare incoming traffic to
    those signatures. In general, this method works well—except when an attack is
    new or has been specifically constructed to not match existing attack signatures.
    One of the large drawbacks to this method is that if you don’t have a signature
    for the attack, you may not see it at all. In addition to this, the attacker crafting
    the traffic may have access to the same IDS tools you’re using and may be able
    to test the attack against them to specifically avoid your security measures.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '*基于签名的 IDS* 像大多数防病毒系统一样工作。它们维护一个可能表示攻击的签名数据库，并将传入的流量与这些签名进行比较。通常，这种方法效果良好——除非攻击是新的，或者专门设计成不匹配现有的攻击签名。该方法的一个大缺点是，如果你没有针对该攻击的签名，可能根本不会发现它。此外，攻击者可能可以访问与你使用的
    IDS 工具相同的工具，并且可能能够测试攻击，以特意避开你的安全措施。'
- en: '*Anomaly-based IDS* typically work by determining the normal kinds of traffic
    and activity taking place on the network. They then measure the present traffic
    against this baseline in order to detect patterns that aren’t present in the traffic
    normally. This method can detect new attacks, or attacks that have been deliberately
    assembled to avoid IDS, very well. On the other hand, it may produce a larger
    number of false positives than a signature-based IDS because it might flag legitimate
    activity that causes unusual traffic patterns or spikes in traffic.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '*基于异常的IDS*通常通过确定网络上发生的正常流量和活动类型来工作。然后，它们将当前的流量与此基线进行比较，以检测流量中不常见的模式。此方法可以很好地检测新型攻击或特意设计来避开IDS的攻击。另一方面，它可能会比基于签名的IDS产生更多的误报，因为它可能会标记那些引起不寻常流量模式或流量激增的合法活动。'
- en: You can, of course, install an IDS that uses both the signature-based and anomaly-based
    methods, giving you some of the advantages of each type of detection. This would
    detect attacks more reliably, although it would perhaps operate a bit more slowly
    and cause a lag in detection.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，你可以安装一个同时使用基于签名和基于异常的IDS，从而获得每种检测类型的一些优点。这种方式能够更可靠地检测攻击，尽管可能会稍微慢一些，导致检测延迟。
- en: You typically attach a network IDS to a location where it can monitor the traffic
    going by, but you need to place them carefully so the quantity of data to examine
    won’t overloaded it. Putting a network IDS behind another filtering device, such
    as a firewall, can eliminate some of the obviously unwanted traffic.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，你会将网络IDS安装在一个能够监控经过流量的位置，但需要小心放置，以免流量量过大导致IDS过载。将网络IDS放置在其他过滤设备（如防火墙）之后，可以去除一些明显的不需要的流量。
- en: Since network IDS typically examine a large amount of traffic, they can generally
    do only a relatively cursory inspection of it, and they may miss some types of
    attacks, especially those that are specifically crafted to pass through such inspections.
    *Packet crafting attacks* use packets of traffic that carry attacks or malicious
    code but are designed to avoid detection by IDS, firewalls, and other similar
    devices.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 由于网络IDS通常检查大量流量，它们一般只能对流量进行相对粗略的检查，可能会漏掉一些类型的攻击，尤其是那些专门设计来绕过此类检查的攻击。*数据包构造攻击*使用带有攻击或恶意代码的流量包，但这些数据包的设计目的是避开IDS、防火墙和其他类似设备的检测。
- en: Protecting Network Traffic
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 保护网络流量
- en: In addition to protecting your networks from intrusion, you need to separately
    protect the traffic that flows over them. When you send data over networks that
    aren’t secure or trusted, an eavesdropper can glean a large amount of information
    from what you send. If you use applications or protocols that don’t encrypt the
    information they’re sending, you may end up giving away your login credentials,
    credit card numbers, banking information, and other data to anyone who happens
    to be listening.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 除了保护你的网络免受入侵外，你还需要单独保护流经网络的流量。当你在不安全或不受信任的网络上传输数据时，窃听者可能会从你发送的数据中窃取大量信息。如果你使用的应用程序或协议没有加密它们发送的信息，你可能会不小心将你的登录凭证、信用卡号、银行信息和其他数据暴露给任何正好在监听的人。
- en: Attackers can intercept data from both wired and wireless networks, often with
    little effort, depending on the design of the network. But although insecure networks
    are a security problem, they’re not an insurmountable one, if you have the right
    tools.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可以从有线和无线网络中截取数据，通常只需很少的努力，这取决于网络的设计。尽管不安全的网络是一个安全问题，但如果你拥有正确的工具，它们并非无法克服的问题。
- en: '*Using Virtual Private Networks*'
  id: totrans-49
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*使用虚拟专用网络*'
- en: Virtual private networks (VPNs) can help you send sensitive traffic over insecure
    networks. Often called a tunnel, a *VPN connection* is an encrypted connection
    between two points. You usually create the connection using a VPN client application
    on one end and a device called a *VPN concentrator* on the other end—a client
    and server, in simple terms. The client uses the VPN client application to authenticate
    to the VPN concentrator, usually over the internet. Once you’ve established a
    connection, all traffic exchanged from the network interface connected to the
    VPN flows through the encrypted VPN tunnel.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟专用网络（VPN）可以帮助你在不安全的网络上发送敏感流量。VPN连接通常被称为隧道，它是两个节点之间的加密连接。你通常通过在一端使用VPN客户端应用程序，并在另一端使用一种叫做*VPN集中器*的设备来创建连接——简单来说，就是客户端和服务器。客户端使用VPN客户端应用程序来对VPN集中器进行身份验证，通常通过互联网进行。一旦建立连接，通过连接到VPN的网络接口交换的所有流量都将通过加密的VPN隧道传输。
- en: VPNs can allow remote workers to access the internal resources of their organization;
    in that case, the worker’s device acts as though it were connected directly to
    the organization’s internal network.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: VPN可以让远程工作人员访问其组织的内部资源；在这种情况下，工作人员的设备就像是直接连接到组织的内部网络一样。
- en: You could also use VPNs to protect or anonymize the traffic you’re sending over
    untrusted connections. Companies such as StrongVPN (*[https://strongvpn.com/](https://strongvpn.com/)*)
    sell their services to the public for exactly such purposes. You might use these
    to keep your internet service provider from logging the contents of your traffic,
    stop people on the same network from eavesdropping on your activity, or obscure
    your geographical location and bypass location-oriented blocking. People who use
    peer-to-peer (P2P) file-sharing services to share pirated media sometimes hide
    their traffic and IP addresses with VPNs.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用VPN来保护或匿名化你通过不受信任的连接发送的流量。像StrongVPN这样的公司（* [https://strongvpn.com/](https://strongvpn.com/)
    *）将其服务出售给公众，正是为了这样的目的。你可以使用这些VPN来防止你的互联网服务提供商记录你流量的内容，阻止同一网络中的其他人窃听你的活动，或隐藏你的地理位置并绕过基于位置的封锁。使用P2P文件共享服务分享盗版媒体的人，有时会通过VPN来隐藏他们的流量和IP地址。
- en: '*Protecting Data over Wireless Networks*'
  id: totrans-53
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*通过无线网络保护数据*'
- en: If you use wireless networks to send your data, you face several specific security
    risks. Today, a wide variety of places provide free wireless internet access.
    In general, public wireless networks are set up without a password or encryption
    of any kind—measures you’d normally put in place to protect the confidentiality
    of the traffic flowing over the network. Even in cases where accessing a network
    does require a password, like in a hotel, everyone else connected to the hotel’s
    network could potentially see your data. The present record for the range of an
    unamplified 802.11 wireless connection is about 238 miles.[⁴](notes.xhtml#ch10fn4)
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用无线网络发送数据，你将面临几种特定的安全风险。如今，许多地方提供免费的无线互联网接入。一般来说，公共无线网络通常没有设置密码或加密——这些措施通常是用来保护网络流量的机密性。即使在一些需要密码才能接入的网络中，比如酒店的网络，连接到该酒店网络的其他人也有可能看到你的数据。目前，未加放大器的802.11无线连接的最远距离大约是238英里。[⁴](notes.xhtml#ch10fn4)
- en: In addition, it’s possible for someone to attach wireless devices to your network
    without your knowledge. Unauthorized wireless access points, commonly known as
    *rogue access points*, present a serious security issue. For example, if you worked
    in an area that banned wireless connections, such as a secure government facility,
    an enterprising individual could decide to bring in an access point of his own
    and install it under his desk to provide wireless access to a nearby outdoor smoking
    area. Although he might have good intentions, his simple action might have invalidated
    an entire set of carefully planned network security measures.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，有人可能在你不知情的情况下将无线设备连接到你的网络。未经授权的无线接入点，通常被称为*恶意接入点*，是一个严重的安全隐患。例如，如果你在禁止无线连接的区域工作，比如一个安全的政府设施，一些有心人可能决定带上自己的接入点并将其安装在桌子下，为附近的户外吸烟区提供无线接入。尽管他的动机可能是良好的，但他简单的行为可能已经使一整套精心设计的网络安全措施无效。
- en: If the rogue access point were set up with poor security or no security at all,
    the well-intentioned access point installer would provide anyone within range
    with an easy path directly into the network that bypassed any border security
    in place. It’s possible that a network IDS might pick up the activity from the
    rogue access point, but you can’t guarantee that it will. A better solution to
    finding rogue equipment is to carefully document the legitimate devices that are
    part of the wireless network infrastructure and regularly scan for additional
    devices using a tool such as Kismet, which I’ll discuss later in this chapter.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 如果恶意接入点的安全性设置不当或完全没有安全性，原本出于良好意图设置接入点的人员，实际上会为在范围内的任何人提供一条直接进入网络的便捷通道，绕过了任何现有的边界安全措施。网络IDS可能会发现来自恶意接入点的活动，但不能保证一定会发现。更好的解决方案是仔细记录作为无线网络基础设施一部分的合法设备，并定期使用如Kismet之类的工具扫描是否有额外设备，稍后我会在本章中详细讨论这个工具。
- en: 'When it comes to the legitimate and authorized devices on your network, your
    chief method of protecting the traffic that flows through them is with encryption.
    You can separate the encryption used by 802.11 wireless devices—the most common
    family of wireless network devices—into two major categories: Wired Equivalent
    Privacy (WEP) and Wi-Fi Protected Access (WPA, WPA2, and WPA3). WPA3 is the current
    standard. Compared to the other common encryption types, WPA3 makes it easier
    to set up client devices and offers stronger encryption, improving protections
    against brute-force attacks and eavesdropping.[⁵](notes.xhtml#ch10fn5)'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于你网络中合法和授权的设备，保护它们通过的流量的主要方法是加密。你可以将 802.11 无线设备使用的加密分为两大类：有线等效隐私（WEP）和 Wi-Fi
    保护接入（WPA、WPA2 和 WPA3）。WPA3 是当前的标准。与其他常见的加密类型相比，WPA3 更容易配置客户端设备，并提供更强的加密，增强了对暴力破解攻击和窃听的保护。[⁵](notes.xhtml#ch10fn5)
- en: '*Using Secure Protocols*'
  id: totrans-58
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*使用安全协议*'
- en: One of the simplest and easiest ways you can protect your data is by using secure
    protocols. Many of the more common and older protocols, such as File Transfer
    Protocol (FTP) for transferring files, Telnet for interacting with remote machines,
    and Post Office Protocol (POP) for retrieving email, handle data insecurely. Such
    protocols often send sensitive information, such as logins and passwords, in cleartext
    (unencrypted data) over the network. Anyone listening on the network can pick
    up the traffic from such protocols and easily glean the sensitive information.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 保护数据的最简单和最有效的方式之一就是使用安全协议。许多常见的旧协议，比如用于文件传输的文件传输协议（FTP）、用于远程操作机器的 Telnet 协议和用于接收电子邮件的邮局协议（POP），在传输数据时并不安全。这些协议通常以明文（未加密的数据）在网络上传输敏感信息，如登录名和密码。任何在网络上监听的人都可以轻松获取这些协议传输的流量，从中窃取敏感信息。
- en: Many insecure protocols have secure equivalents, as I’ll discuss at greater
    length in [Chapter 13](ch13.xhtml). In brief, you can often find a secure protocol
    for the type of traffic you want to carry. Instead of operating over the command
    line with Telnet, you can use Secure Shell (SSH), and instead of transferring
    files with FTP, you can use Secure File Transfer Protocol (SFTP), which is based
    on SSH.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 许多不安全的协议都有安全的替代协议，正如我在[第13章](ch13.xhtml)中将详细讨论的那样。简而言之，你通常可以找到适用于你要传输的流量类型的安全协议。你可以使用安全外壳（SSH）代替
    Telnet 进行命令行操作，也可以使用基于 SSH 的安全文件传输协议（SFTP）来代替 FTP 进行文件传输。
- en: SSH is a handy protocol for securing communications because you can send many
    types of traffic over it. You can use it for file transfers and terminal access,
    as mentioned, and to secure traffic in a variety of other situations, such as
    when connecting to a remote desktop, communicating over a VPN, and mounting remote
    file systems.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: SSH 是一种非常实用的协议，用于保护通信，因为你可以通过它传输多种类型的流量。正如前面提到的，你可以用它进行文件传输和终端访问，此外，它还可以保护其他多种情况下的流量，比如远程桌面连接、通过
    VPN 通信和挂载远程文件系统。
- en: Network Security Tools
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 网络安全工具
- en: You can use a broad variety of tools to improve your network security. Attackers
    rely on many of the same tools to penetrate networks, so by using them to locate
    security holes in your networks, you can preemptively keep the attackers out.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用多种工具来提高你的网络安全性。攻击者依赖许多相同的工具来渗透网络，因此通过使用这些工具来查找你网络中的安全漏洞，你可以提前防止攻击者入侵。
- en: An enormous number of security tools are on the market today, and many of them
    are free or have free alternatives. Many run on Linux operating systems and can
    be a bit difficult to configure. Fortunately, you can use these tools without
    having to set them up by installing one of the Security Live CD distributions,
    which are versions of Linux that come with all the tools preconfigured. One of
    the better-known distributions is Kali, available for download at *[https://www.kali.org/](https://www.kali.org/)*.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 目前市场上有大量的安全工具，其中许多是免费的或有免费的替代品。许多工具可以在 Linux 操作系统上运行，并且可能需要一些配置。幸运的是，你可以通过安装其中一种安全
    Live CD 发行版来使用这些工具，这些 Linux 版本已经预配置了所有工具。一个知名的发行版是 Kali，可以从 *[https://www.kali.org/](https://www.kali.org/)*
    下载。
- en: As I discussed in earlier chapters, the key to assessing vulnerabilities is
    to conduct assessments thoroughly and regularly enough that you can find the holes
    before the attackers do. If you perform penetration testing only on an occasional
    and shallow basis, you’ll likely not catch all the issues present in your environment.
    Additionally, as you update, add, or remove the various network hardware devices
    and the software running on them, the vulnerabilities present in your environment
    will change. It’s also worth noting that most of the tools you’re likely to use
    will be capable of finding only known issues. New or unpublished attacks or vulnerabilities,
    commonly known as *zero-day attacks*, can still take you by surprise.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我在前面的章节中所讨论的，评估漏洞的关键是要进行彻底且定期的评估，以便在攻击者之前发现漏洞。如果你只是偶尔进行浅显的渗透测试，很可能无法捕捉到环境中所有存在的问题。此外，随着你更新、增加或移除各种网络硬件设备及其上运行的软件，环境中的漏洞也会发生变化。值得注意的是，你可能使用的大多数工具只会发现已知的问题。新出现的或未公开的攻击或漏洞，通常称为*零日攻击*，仍然可能会让你措手不及。
- en: '*Wireless Protection Tools*'
  id: totrans-66
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*无线保护工具*'
- en: As I discussed earlier in the chapter, attackers who can access your network
    via a wireless device could bypass all your carefully planned security measures.
    If you don’t take steps to protect against unauthorized wireless devices, such
    as rogue access points, you could allow a large hole in your network security
    and never know it.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我在本章前面所讨论的那样，能够通过无线设备访问你网络的攻击者，可能会绕过你精心规划的安全措施。如果你没有采取措施防止未经授权的无线设备，如流氓接入点，可能会在你的网络安全中留下一个大漏洞，而你却浑然不觉。
- en: You can use several tools to detect wireless devices. One of the best-known
    tools for detecting such devices is called Kismet. It runs on Linux and macOS
    and can also be found on the Kali distribution. Penetration testers commonly use
    Kismet to detect wireless access points and can find them even when they’re well-hidden.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用几种工具来检测无线设备。最著名的工具之一叫做Kismet，它可以在Linux和macOS上运行，也可以在Kali发行版中找到。渗透测试人员常用Kismet来检测无线接入点，甚至可以在它们隐藏得很好的情况下找到它们。
- en: Other tools enable you to break through the different kinds of encryption in
    use on wireless networks. A few of the more common ones, for cracking WEP, WPA,
    and WPA2, include coWPAtty and Aircrack-NG.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 其他工具使你能够突破无线网络中使用的不同类型的加密。几种常见的工具，如coWPAtty和Aircrack-NG，可用于破解WEP、WPA和WPA2加密。
- en: '*Scanners*'
  id: totrans-70
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*扫描仪*'
- en: 'Scanners, mainstays of the security testing and assessment industry, are hardware
    or software tools that enable you to interrogate devices and networks for information.
    You can divide scanners into two main categories: port scanners and vulnerability
    scanners. These types sometimes overlap, depending on the specific tool.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 扫描仪，作为安全测试和评估行业的主力工具，是硬件或软件工具，能够使你对设备和网络进行信息查询。你可以将扫描仪分为两大类：端口扫描仪和漏洞扫描仪。这些类型有时会重叠，具体取决于所使用的工具。
- en: In network security, people tend to use scanners as tools for discovering the
    networks and systems in an environment. One of the more famous port scanners is
    a free tool called Nmap, short for network mapper. Although generally considered
    a port scanner, Nmap can also search for hosts on a network, identify the operating
    systems those hosts are running, and detect the versions of the services running
    on any open ports.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络安全中，人们倾向于使用扫描仪作为工具来发现环境中的网络和系统。一个著名的端口扫描工具是一个免费的工具，叫做Nmap，网络映射器的缩写。尽管通常被认为是端口扫描器，Nmap也可以用于在网络上查找主机，识别这些主机运行的操作系统，并检测任何开放端口上运行的服务的版本。
- en: '*Packet Sniffers*'
  id: totrans-73
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*数据包嗅探器*'
- en: A network or protocol analyzer, also known as a packet sniffer or just plain
    sniffer, is a tool that can intercept (or sniff) traffic on a network. The sniffer
    listens for any traffic that your computer or device’s network interface can see,
    whether you were intended to receive it or not.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 网络或协议分析仪，也称为数据包嗅探器或简单的嗅探器，是一种可以拦截（或嗅探）网络上流量的工具。嗅探器会监听任何你的计算机或设备的网络接口能够看到的流量，无论你是否被设计为接收这些流量。
- en: '**NOTE**'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*Sniffer (with a capital S) is a registered trademark of NetScout (previously
    Network General Corporation). I use the term sniffer in the generic sense in this
    book.*'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '*Sniffer（大写的S）是NetScout（前身为Network General Corporation）注册商标。我在本书中使用sniffer一词时，指的是通用意义上的嗅探器。*'
- en: To use a sniffer, you have to place it on the network in a position that allows
    you to see the traffic you’d like to sniff. In most modern networks, the traffic
    is segmented in such a way that you’ll likely not be able to see much of it at
    all (other than the traffic you generate from your own machine). That means you’ll
    likely need to gain access to one of the higher-level network switches and may
    need to use specialized equipment or configurations to access your target traffic.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用嗅探器，你需要将其放置在网络中的一个位置，使其能够看到你想要嗅探的流量。在大多数现代网络中，流量被分割得如此之细，以至于你可能无法看到很多流量（除非是你自己机器上生成的流量）。这意味着你很可能需要访问更高级别的网络交换机，并且可能需要使用专用设备或配置来访问目标流量。
- en: A classic sniffer invented in the 1980s, Tcpdump, is a command-line tool. It
    has a few other key features, such as the ability to filter traffic. Tcpdump runs
    only on UNIX-like operating systems, but Windows systems can run a version of
    the tool called WinDump.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Tcpdump是1980年代发明的经典嗅探器，它是一个命令行工具。它还具有一些其他关键功能，例如流量过滤功能。Tcpdump仅在类UNIX操作系统上运行，但Windows系统可以运行该工具的版本，称为WinDump。
- en: Previously known as Ethereal, Wireshark is a fully featured sniffer capable
    of intercepting traffic from a wide variety of wired and wireless sources. It
    has a graphical interface, shown in [Figure 10-3](#ch10fig3), and includes many
    filtering, sorting, and analysis tools. It’s one of the more popular sniffers
    on the market today.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 以前被称为Ethereal的Wireshark是一个功能齐全的嗅探器，能够从各种有线和无线来源拦截流量。它具有图形界面，如[图10-3](#ch10fig3)所示，并包括许多过滤、排序和分析工具。它是当前市场上最受欢迎的嗅探器之一。
- en: '![Image](../images/10fig03.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/10fig03.jpg)'
- en: '*Figure 10-3: Wireshark*'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '*图10-3：Wireshark*'
- en: You can also use Kismet, a tool discussed earlier in this chapter, to sniff
    from wireless networks.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用Kismet，这个工具在本章之前讨论过，用于从无线网络嗅探流量。
- en: Packet sniffers also come in hardware form, such as the OptiView Portable Network
    Analyzer from Fluke Networks. Although well-equipped portable analyzers such as
    this may provide benefits, such as increased capture capacity and capabilities,
    they’re often expensive, well beyond the budget of the average network or security
    professional.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 数据包嗅探器也有硬件形式，例如Fluke Networks的OptiView便携式网络分析仪。尽管像这样的装备齐全的便携式分析仪可能提供一些好处，如增加的捕获能力和功能，但它们通常价格昂贵，远远超出了普通网络或安全专业人员的预算。
- en: '*Honeypots*'
  id: totrans-84
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*蜜罐*'
- en: A somewhat controversial tool in the network security arsenal, a honeypot is
    a system that can detect, monitor, and sometimes tamper with the activities of
    an attacker. You configure them to deliberately display fake vulnerabilities or
    materials that would make the system attractive to an attacker, such as an intentionally
    insecure service, an outdated and unpatched operating system, or a network share
    named “top-secret UFO documents.”
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 蜜罐是网络安全工具箱中的一种有些有争议的工具，它是一个系统，可以检测、监控，甚至有时干扰攻击者的活动。你可以配置它们故意展示假的漏洞或材料，使系统对攻击者具有吸引力，例如故意不安全的服务、过时且未打补丁的操作系统，或名为“顶级机密UFO文件”的网络共享。
- en: When attackers access the system, the honeypot monitors their activity without
    their knowledge. You might set up a honeypot to provide an early warning system
    for a corporation, to discover an attacker’s methods, or as an intentional target
    to monitor the activities of malware in the wild.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 当攻击者访问系统时，蜜罐在他们不知情的情况下监视他们的活动。你可以设置蜜罐为公司提供早期警告系统，发现攻击者的手段，或作为一个故意的目标来监控恶意软件在网络上的活动。
- en: You can also expand honeypots into larger structures by creating networks of
    them, called *honeynets*. A honeynet connects multiple honeypots with varying
    configurations and vulnerabilities, generally with some sort of centralized instrumentation
    for monitoring all the honeypots on the network. Honeynets can be particularly
    useful for understanding malware activity on a large scale since you can reproduce
    a variety of operating systems and vulnerabilities.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过创建蜜罐网络（称为 *honeynets*）来扩展蜜罐的应用。蜜罐网络将多个蜜罐连接起来，具有不同的配置和漏洞，通常配有某种集中式的监控工具来监视网络中所有蜜罐的活动。蜜罐网络特别有助于理解大规模的恶意软件活动，因为你可以复现多种操作系统和漏洞。
- en: An excellent resource for more information on honeypots and honeynets is the
    Honeynet Project at *[https://www.honeynet.org/](https://www.honeynet.org/)*.
    The Honeynet Project provides access to a variety of resources, including software,
    the results of research, and numerous papers on the subject.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 关于蜜罐和蜜网的更多信息，*Honeynet Project*是一个极好的资源，网址是*[https://www.honeynet.org/](https://www.honeynet.org/)*。Honeynet
    Project提供了各种资源，包括软件、研究成果和大量关于这一主题的论文。
- en: '*Firewall Tools*'
  id: totrans-89
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '*防火墙工具*'
- en: In your kit of network tools, you may also find it useful to include tools that
    can map the topology of firewalls and help you locate vulnerabilities in them.
    Scapy (*[https://github.com/secdev/scapy/](https://github.com/secdev/scapy/)*)
    is a well-known and useful tool for such efforts. It can construct specially crafted
    Internet Control Message Protocol (ICMP) packets that evade some of the normal
    measures put in place to prevent you from seeing the devices that are behind a
    firewall and may allow you to enumerate some of them. You can also script Scapy’s
    abilities to manipulate network traffic and test how firewalls and IDS respond,
    which could give you an idea of the rules on which they’re operating.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在你的网络工具包中，你可能还会发现包含可以绘制防火墙拓扑图并帮助你找到防火墙漏洞的工具会很有用。Scapy (*[https://github.com/secdev/scapy/](https://github.com/secdev/scapy/)*）是一个广为人知且有用的工具，适用于此类工作。它可以构造特别设计的互联网控制消息协议（ICMP）数据包，避开一些正常的防护措施，这些措施通常用于防止你看到防火墙后面的设备，并可能允许你枚举其中的一些设备。你还可以编写Scapy脚本来操控网络流量并测试防火墙和IDS的响应，这可以帮助你了解它们运行的规则。
- en: You could use some of the other tools I’ve discussed in this section to test
    the security of your firewalls, as well. You can use port and vulnerability scanners
    to look at them from the outside to find any ports that are unexpectedly open
    or any services running on your open ports that are vulnerable to known attacks.
    You can also use sniffers to examine the traffic that is entering and leaving
    firewalls, presuming that you can get such a tool in place in a network location
    that will enable you to see the traffic.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用我在本节中讨论的其他一些工具来测试你的防火墙安全性。你可以使用端口扫描器和漏洞扫描器从外部检查防火墙，找出任何意外打开的端口或在你的开放端口上运行的、容易受到已知攻击的服务。你还可以使用嗅探器检查进出防火墙的流量，前提是你能够在一个网络位置安装这样的工具，以便你能看到流量。
- en: Summary
  id: totrans-92
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 总结
- en: When you protect your networks, you should do so from a variety of angles. You
    should use secure network design to ensure that you’ve properly segmented your
    networks, that you have choke points to monitor and control traffic, and that
    you create redundancies where you need them. You should also implement security
    devices such as firewalls and IDS to protect yourself both inside and outside
    the networks.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 当你保护网络时，应从多个角度进行。你应该使用安全的网络设计，确保你已经正确地分段网络，设置了监控和控制流量的瓶颈点，并在需要的地方创建冗余。你还应该实施像防火墙和IDS这样的安全设备，以保护自己在网络内部和外部的安全。
- en: In addition to protecting the networks themselves, you also need to protect
    your network traffic. To do this, you can use VPNs to secure your connections
    when using untrusted networks, implement security measures specific to wireless
    networks, and apply secure protocols.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 除了保护网络本身外，你还需要保护网络流量。为此，你可以使用VPN在使用不可信网络时保护连接，实施专门针对无线网络的安全措施，并应用安全协议。
- en: A variety of security tools can help you keep your networks secure. When working
    with wireless networks, you can use Kismet. You can also listen in on network
    traffic with Wireshark or Tcpdump, scan for devices on your networks with Nmap,
    and test your firewalls using Scapy and other similar utilities. You can also
    place devices called honeypots on your networks specifically to attract the attention
    of attackers and then study them and their tools.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 各种安全工具可以帮助你保持网络的安全。在处理无线网络时，你可以使用Kismet。你还可以使用Wireshark或Tcpdump监听网络流量，使用Nmap扫描网络上的设备，使用Scapy和其他类似工具测试防火墙。你还可以在网络上放置被称为蜜罐的设备，专门吸引攻击者的注意，然后研究他们及其工具。
- en: Exercises
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 练习
- en: For what might you use the tool Kismet?
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可能会使用工具Kismet做什么？
- en: Explain the concept of segmentation.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释分段的概念。
- en: What are the three main types of wireless encryption?
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无线加密的三种主要类型是什么？
- en: What tool might you use to scan for devices on a network?
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以使用什么工具扫描网络上的设备？
- en: Which tools can you use to sniff traffic on a wireless network?
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以使用哪些工具来嗅探无线网络上的流量？
- en: Why would you use a honeypot?
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为什么你会使用蜜罐？
- en: Explain the difference between signature and anomaly detection in IDS.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 解释一下IDS中签名检测和异常检测的区别。
- en: What would you use if you needed to send sensitive data over an untrusted network?
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你需要通过不受信任的网络发送敏感数据，你会使用什么？
- en: What would you use a DMZ to protect?
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会使用DMZ来保护什么？
- en: What is the difference between a stateful firewall and a deep packet inspection
    firewall?
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 状态防火墙和深度包检查防火墙有什么区别？
