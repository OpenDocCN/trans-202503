- en: —5—
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: —5—
- en: Binary Search for a Smuggler’s Ship
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 二分查找走私船
- en: The port of Usb was little more than a fishing village. A dozen weathered buildings
    clustered around the end of a single long pier. A few pockets of meager activity
    surrounded the most recent arrivals, but otherwise the town was reassuringly quiet.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Usb的港口不过是一个渔村。十几座风化的建筑聚集在一条长长的码头尽头。几个零星的活动点围绕着最新到达的船只，但总体来说，这个小镇安静得令人放心。
- en: Frank headed straight for the Crab’s Pinch, a fisherman’s bar renowned for its
    clam chowder and Wednesday night sea shanty contests. With any luck, one of his
    contacts would turn up before the day was out. After all, the Crab’s Pinch was
    the only place to go in Usb. So Frank planted himself at a table in the back corner,
    ordered the chowder, and waited.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克直接走向“螃蟹之钳”，那是一个以蛤蜊浓汤和每周三晚的海洋民谣比赛闻名的渔民酒吧。运气好的话，他的一个联系人可能会在今天之内出现。毕竟，“螃蟹之钳”是Usb唯一的去处。所以，弗兰克坐到了酒吧后角的一张桌子旁，点了浓汤，开始等。
- en: It wasn’t long before a freelance smuggler named Mavis entered the dank little
    bar. Careful by nature, Mavis had never technically been convicted of a crime,
    though it was well-known that she’d once set her own ship on fire to destroy evidence.
    Frank got along with her well enough, at least once he’d left the force, and they
    even exchanged the occasional scrap of information.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 没过多久，一名自由走私者梅维斯走进了这个阴暗的小酒吧。天生小心的梅维斯虽然从未被正式定罪，但众所周知，她曾为了销毁证据而故意纵火烧毁了自己的船。弗兰克和她相处得还不错，至少在他离开警队之后，他们偶尔也会交换一些信息。
- en: Frank, having nursed his chowder for a solid hour, finally pushed away his bowl
    and motioned to Mavis. She hesitated a moment by the door before jostling her
    way through the bar.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克已经喝了一个小时的浓汤，终于推开了碗，示意梅维斯过来。她在门口犹豫了一下，才挤进了酒吧。
- en: '![image](../images/f0030-01.jpg)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0030-01.jpg)'
- en: “Mavis,” said Frank as she joined him in the corner, “how are you?”
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: “梅维斯，”弗兰克在她走到角落里时说，“你怎么样？”
- en: “I was doing a lot better 10 minutes ago,” she spat.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: “十分钟前我还好多了，”她吐槽道。
- en: Before Frank could ask, Officer Notation strode through the door and held up
    her hands. “Ladies and gentlemen,” she called. “If I could have your attention
    for a moment. I’m looking for a cart that came through here two nights ago.”
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在弗兰克能开口之前，诺塔申警官大步走进了房间，举起了双手。“女士们，先生们，”她喊道。“能借我一点时间吗？我在找一辆两天前经过这里的货车。”
- en: Frank cursed under his breath. So much for his lead.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克在心里咒骂了一声。看来他的线索就到此为止了。
- en: “I come in from the dawn run, hoping for a bowl of hot chowder and a few minutes
    of peace,” Mavis complained. “Instead I get this copper clammering about donkey
    carts.”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: “我从黎明航班回来，本想着吃一碗热腾腾的蛤蜊浓汤，享受几分钟的安宁，”梅维斯抱怨道。“结果我遇到了这个警察，整天嚷嚷着驴车的事。”
- en: Frank laughed dryly. “And until she goes away, you can’t unload your cargo.
    Right?”
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克干笑了一声。“直到她走了，你就不能卸货，对吧？”
- en: Mavis scowled at him but didn’t object. Usb had never found success in either
    the fishing or shipping industries. The port did, however, appeal to those criminals
    concerned with moving merchandise without dealing with nosy government officials.
    Frank would wager a month’s rent that there wasn’t a single ship at dock that
    wasn’t smuggling something.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯皱了皱眉看着他，但没有反驳。Usb无论在渔业还是航运业上都没找到什么成功。不过，这个港口确实吸引了那些不愿与麻烦的政府官员打交道的罪犯。弗兰克敢打赌，一个月的租金都能确保这里码头上的每一艘船都在走私某些东西。
- en: “Do you know anything about the cart?” Frank dropped his voice to just above
    a whisper.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: “你知道这辆车的事吗？”弗兰克把声音压得几乎听不见。
- en: Mavis shrugged. “There’s always carts on the docks. This is a port, Frank. People
    move things.”
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯耸耸肩。“码头上总是有货车，弗兰克。这是个港口，人们搬运货物。”
- en: “This is a special cart,” Frank pressed. “A bunch of individual animal pens,
    like a giant array on wheels.”
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: “这是一辆特别的货车，”弗兰克逼问道。“一堆单独的动物栏，就像一个巨大的轮式阵列。”
- en: “Sounds fancy,” said Mavis. “But I haven’t heard of any ships moving animals.
    I might have heard a rumor about a crate or two of miniature turtles, but nothing
    large enough to need a pen. You sure it came through here?”
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: “听起来很高级，”梅维斯说。“但我没听说过有什么船在搬运动物。我倒是听说过几只小型乌龟的木箱，但没听说有什么大到需要动物栏的。你确定是从这里经过的吗？”
- en: Frank nodded. The smell had been like a fish-scented air freshener in an outhouse,
    and few places smelled as bad as Usb.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克点了点头。那股味道就像是厕所里散发的鱼腥空气清新剂，而没有哪个地方的味道比Usb更糟糕了。
- en: “Anybody casting off at that time?” he asked. If the thieves had transported
    the stolen documents this far, they wouldn’t have waited around.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “那个时候有谁出港吗？”他问。如果小偷已经把被盗的文件运送到这么远的地方，他们应该不会再等下去。
- en: “Only the *Retry Loop*,” said Mavis. “And I’m only telling you that because
    it’s public knowledge. I don’t know what it was carrying, and I don’t care.”
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “只有*重试循环*，”梅维斯说。“我告诉你这些只是因为它是公开的。我不知道它运载了什么，也不关心。”
- en: “Do you know when it returns?” asked Frank.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: “你知道它什么时候回来吗？”弗兰克问道。
- en: “Got back into port 19 hours ago,” replied Mavis. “Don’t know what it was carrying
    then either.”
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: “19小时前刚刚返回港口，”梅维斯回答道。“那时我也不知道它运载了什么。”
- en: Frank smiled widely. “Sounds like it’s time for me to take a stroll around town,”
    he said.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克露出一个灿烂的笑容。“听起来是时候在城里转一圈了，”他说。
- en: Mavis smiled halfheartedly at him and turned to flag down a waiter.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯心不在焉地对他微笑，并转身招手叫服务员。
- en: Frank made it less than 20 meters down the pier before Officer Notation marched
    up beside him.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克走了不到20米，警官诺泰申便走到他身边。
- en: “Mr. Runtime, this is my investigation,” she began. “If you have information—”
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: “Runtime先生，这是我的调查，”她开始说道。“如果你有信息——”
- en: Frank stopped, causing her to pull up short. “What exactly are you investigating,
    Officer?” he asked.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克停下脚步，让她也不得不停下来。“诺泰申警官，您究竟在调查什么？”他问道。
- en: It was better than Frank had hoped. Notation opened and closed her mouth a few
    times as a red flush spread up her neck.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 结果比弗兰克预期的还要好。诺泰申几次张口又闭口，红色的潮热从脖子向上蔓延。
- en: “The captain doesn’t know you’re here, does he?” Frank asked. “This isn’t exactly
    an *official* investigation.”
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: “船长不知道你在这里，对吧？”弗兰克问。“这可不算是一次*正式的*调查。”
- en: “I don’t know what you’re—” started Officer Notation, but Frank cut her off.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: “我不知道你在——”诺泰申警官开口说道，但弗兰克打断了她。
- en: “Cut the act,” he said. “The fact you’re out here alone is all the proof I need.
    You’re running this investigation on your own time. The question is, why?”
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: “别装了，”他说。“你一个人出来就是我需要的所有证据。你在用自己的时间独立进行这个调查。问题是，为什么？”
- en: The flush had now finished its ascent of Officer Notation’s face. Her ears burned
    a particularly vivid shade of red.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 红潮已经完全爬上了诺泰申警官的脸颊。她的耳朵染上了特别鲜明的红色。
- en: “That’s none of your concern,” she said.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: “那不关你的事。”她回答道。
- en: “It is when the captain comes to me because he can’t trust his own officers,”
    Frank replied calmly.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: “当船长来找我，因为他无法信任自己的官员时，这就成了我的事，”弗兰克平静地回答道。
- en: “The *captain* hired a washed-up gumshoe like *you*?”
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: “*船长*雇了像*你*这样的落魄侦探？”
- en: “Yes. Because he can trust *me*.”
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: “是的。因为他能信任*我*。”
- en: Officer Notation’s face grew hard and her eyes burned. For a second, Frank thought
    she might end this conversation with her billy club. But almost as quickly as
    her anger had flared, it deflated.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 警官诺泰申的脸色变得严峻，眼中燃烧着怒火。弗兰克一度以为她会用警棍结束这场对话。但几乎在她的怒火爆发的同时，它也迅速消退了。
- en: “I need to recover those documents,” she said mournfully. “It was my fault—I
    was on guard duty that night.”
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: “我必须找回那些文件，”她悲伤地说道。“是我的错——那天晚上我负责守卫。”
- en: “I see,” said Frank thoughtfully.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: “我明白了，”弗兰克若有所思地说。
- en: “I need to recover those documents,” repeated Officer Notation, sounding agitated.
    “I’ve only been on the force for a few months and—”
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: “我必须找回那些文件，”诺泰申警官焦虑地重复道。“我才加入警局几个月，而且——”
- en: Frank cut her off and gave her what he hoped was a reassuring smile. This was
    what he had expected. Rookies rarely dealt well with their first mistakes, and
    Notation seemed more tightly wound than most. “We’re looking for the *Retry Loop*,”
    he said. “The Crannocks’ cart unloaded something there the night of the robbery.
    The ship docked 19 hours ago.”
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克打断了她，给了她一个他希望能让她安心的微笑。这正是他所预料的。新手在面对第一次错误时很难处理得好，而诺泰申看起来比大多数人都更紧张。“我们在找*重试循环*，”他说。“克兰诺克家的马车在抢劫的那晚在那里卸下了什么东西。那艘船19小时前入港。”
- en: He didn’t trust her, of course, but he wanted to keep her close, keep an eye
    on her. The fact that she had found the Crannocks meant she knew more than she
    had put in her report. Something was missing from her story, and he needed to
    find out what else she knew.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，弗兰克不信任她，但他想把她留在身边，保持对她的观察。她找到了克兰诺克家，这意味着她知道的比报告中说的要多。她的故事中有遗漏，他需要找出她还知道些什么。
- en: “We better get started,” said Notation, looking worriedly down the pier. “There
    are a lot of ships to check. Should we start at the front?” As most of the vessels
    in port belonged to smugglers, none of them displayed identification. They would
    have to ask each ship’s name in turn.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: “我们最好开始了，”符号看着码头，神色有些焦虑。“有很多船要检查。我们应该从前面开始吗？”由于港口的大多数船只都属于走私者，因此它们都没有显示身份标识。他们必须逐一询问每艘船的名字。
- en: “We can do better than that,” Frank explained. “The harbormaster is fanatical
    about organization. He insists that the docked ships be sorted in order of their
    arrival time. The newest arrival gets a prime spot near town, where the crew can
    easily load and unload, but when a new ship arrives, the rest of them are forced
    to shift down to give it space in front.”
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: “我们可以做得更好，”弗兰克解释道。“港务局长对组织有着近乎狂热的追求。他坚持要求停靠的船只按到达时间排序。最新到达的船只停在离市区近的最佳位置，船员可以轻松上下货物，但每当有新船到达，其他船只都必须向后挪动，为新船腾出前面的空间。”
- en: “That’s absurd,” protested Notation. “What a tremendous amount of wasted effort.
    Why would he do that?”
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: “这太荒谬了，”符号抗议道。“这简直是浪费精力。为什么他要这么做？”
- en: Frank chuckled. “He claims it’s for efficiency, but anyone who’s spent a week
    in Usb knows the truth. The harbormaster can’t stand the smell of rotting fish.
    Ships that remain in harbor without selling their loads become, well . . . fragrant.
    The harbormaster’s organizational scheme moves the ones that have been here longer
    away from his shack.”
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克笑了。“他说这是为了效率，但任何在Usb待过一周的人都知道真相。港务局长受不了腐烂鱼的味道。停靠在港口的船只如果没有销售货物，会变得，嗯……有点‘芳香’。港务局长的组织方案就是把那些停留时间更长的船移到他小屋的远处。”
- en: Officer Notation stared at him. “Are you serious?” she asked finally.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 符号警官盯着他看。“你是认真的吗？”她终于问道。
- en: Frank chuckled again. “Yes. You’ll start picking up these useful bits of information,
    too, once you’ve walked the beat awhile. The point is that we know the ships are
    in sorted order and we know the *Retry Loop* has been here for 19 hours, so we
    can just do a *binary search*.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克再次笑了。“是的。一旦你在巡逻一段时间后，你也会开始获得这些有用的信息。关键是我们知道船只是按顺序排好的，而*重试循环*已经在这里停了19小时，所以我们可以直接做*二分查找*。”
- en: “Our target value is 19, and our algorithm is binary search. Right now the search
    space is that whole line of ships, so we already have an upper and lower bound.
    If we use inclusive bounds, our lower bound is the first ship and our upper bound
    is the last ship. If the *Retry Loop* is here, it obviously can’t be in front
    of the first ship or after the last ship.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: “我们的目标值是19，我们的算法是二分查找。现在搜索空间就是这一整排船只，所以我们已经有了上限和下限。如果使用包含边界，我们的下限是第一艘船，上限是最后一艘船。如果*重试循环*就在这里，显然它不可能在第一艘船之前或最后一艘船之后。”
- en: “So we start with the middle ship and ask how long it’s been in port. If it’s
    been there less than 19 hours, then it must come before the *Retry Loop.* That
    will split our search space in two. And—”
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: “所以我们从中间的船开始，问它停港了多长时间。如果它停得不到19小时，那它一定是在*重试循环*之前。这样就能将我们的搜索空间一分为二。然后——”
- en: “If it’s been there more than 19 hours, then it must come after the *Retry Loop*,”
    interrupted Notation. “I know about binary search. My Police Algorithms final
    was just two and a half months ago.”
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: “如果它已经在那里超过19小时，那它一定是在*重试循环*之后，”符号打断了。“我知道二分查找。我刚刚参加完警察算法的期末考试，就在两个月前。”
- en: With that, the two of them set off in search of the *Retry Loop.* The middle
    ship, a yellow schooner that smelled oddly of bananas, had been in port for 17
    hours.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 说完，两人开始寻找*重试循环*。中间的那艘船是一艘黄色的双桅帆船，奇怪地散发着香蕉的气味，它已经在港口停了17小时。
- en: '![image](../images/f0034-01.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0034-01.jpg)'
- en: That meant they could rule out the half of the ships at the front, including
    the middle ship. Frank adjusted the lower bound to the first ship that *could*
    be the *Retry Loop*, one ship past the yellow schooner.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着他们可以排除前半部分的船只，包括那艘中间的船。弗兰克将下限调整为那艘*可能*是*重试循环*的船，只比黄色双桅帆船多一艘。
- en: '![image](../images/f0034-02.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0034-02.jpg)'
- en: With the reduced search space, they chose a new middle point. It took a while
    to convince the captain of the next ship that they weren’t undercover customs
    officials. After 10 minutes, Notation shoved her badge under the captain’s nose,
    and his tone changed immediately to an irate whine as he informed them that his
    ship, the *Corrupt Packet*, had been stuck in port for 22 agonizing hours. He
    demanded they speak to the harbormaster on his behalf.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在缩小的搜索空间中，他们选择了一个新的中点。说服下一艘船的船长他们不是卧底海关官员花了一些时间。10分钟后，诺塔申把她的徽章塞到船长鼻子下，他的语气立即变得愤怒而抱怨，告知他们他的船，*腐败数据包*，已经在港口停了22个小时。他要求他们代表他与港务局长交谈。
- en: '![image](../images/f0035-01.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0035-01.jpg)'
- en: Since their target was 19 hours, they knew the *Retry Loop* would have to come
    before the *Corrupt Packet.* They changed the bounds again so that the ship to
    the left of the *Corrupt Packet* was now the upper bound.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 由于他们的目标是19小时，他们知道 *重试循环* 必须出现在 *腐败数据包* 之前。他们再次改变了边界，使得位于 *腐败数据包* 左边的船现在成为了上边界。
- en: '![image](../images/f0035-02.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0035-02.jpg)'
- en: This left only two ships in the search range; they were rapidly nearing the
    end of the search. If neither of these ships was the *Retry Loop*, they would
    know for certain that it had left port, as once there were no more elements in
    the search space, they could rule out the entire search space.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这只剩下两艘船在搜索范围内；他们迅速接近搜索的终点。如果这两艘船都不是 *重试循环*，他们可以确定它已经离开了港口，因为一旦搜索空间中没有更多的元素，他们就可以排除整个搜索空间。
- en: Since there were only two ships left, they could choose either as their new
    middle point. Going with his gut, Frank picked the earlier ship, which happened
    to also be their lower bound. A quick chat with a crewmember loitering on the
    pier confirmed that the ship was indeed the *Retry Loop* and it had been in port
    for 19 hours.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 由于只剩下两艘船，他们可以选择其中任何一艘作为新的中点。凭着直觉，弗兰克选择了较早的那艘船，这艘船恰好也是他们的下边界。与在码头徘徊的船员聊了几句后，他们确认这艘船就是
    *重试循环*，并且已经在港口停了19个小时。
- en: '![image](../images/f0035-03.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0035-03.jpg)'
- en: “Now what?” asked Officer Notation as they stood watching the ship.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: “接下来怎么办？”诺塔申警官问道，他们站着看着那艘船。
- en: “We use your shiny badge again,” Frank replied.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: “我们再次用你的闪亮徽章，”弗兰克回答道。
- en: '**POLICE ALGORITHMS 101: BINARY SEARCH**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**警察算法 101：二分查找**'
- en: '***Excerpts from Professor Drecker’s Lecture***'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '***德雷克教授讲座摘录***'
- en: 'A binary search algorithm is used to efficiently find a target value *v* in
    a sorted array *A*. Unlike in a linear scan, a binary search uses information
    about the structure of the data to make the search more efficient. The key to
    efficient algorithms is information. In this case, we use the fact that the array
    is sorted in increasing order:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 二分查找算法用于在已排序的数组 *A* 中高效地找到目标值 *v*。与线性扫描不同，二分查找利用数据结构的信息使搜索更加高效。高效算法的关键是信息。在这种情况下，我们利用数组按升序排序的事实：
- en: '*A*[*i*] ≤ *A*[*j*] for any pair of indexes *i* and *j* such that *i* < *j*'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*A*[*i*] ≤ *A*[*j*]，对于任何一对索引 *i* 和 *j*，其中 *i* < *j*'
- en: This might not seem like a lot of information, but it’s enough to make the search
    more efficient.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这看起来可能信息不多，但足以让搜索更加高效。
- en: 'The binary search algorithm works by repeatedly dividing the search space in
    half and limiting the search to only one of those halves. The algorithm limits
    the active search space by tracking two bounds. The upper bound (*IndexHigh*)
    marks the highest index of the array that’s part of the active search space. The
    lower bound (*IndexLow*) marks the lowest index. Throughout the algorithm, if
    the target value is in the array, we guarantee the following:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 二分查找算法通过反复将搜索空间一分为二，并将搜索限制在其中一个半部分来工作。该算法通过追踪两个边界来限制活动的搜索空间。上边界 (*IndexHigh*)
    标记着数组中属于活动搜索空间的最大索引。下边界 (*IndexLow*) 标记着最小索引。在整个算法过程中，如果目标值在数组中，我们保证以下内容：
- en: '*A*[*IndexLow*] ≤ *v* ≤ *A*[*IndexHigh*]'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '*A*[*IndexLow*] ≤ *v* ≤ *A*[*IndexHigh*]'
- en: 'At each step in the search, we check the value halfway between the lower and
    upper bounds:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 在每一步搜索中，我们检查位于上下边界之间的中间值：
- en: '![image](../images/f0036-01.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0036-01.jpg)'
- en: We can then compare the value at this middle location, *A*[*IndexMid*], with
    the target value, *v*. If the middle point is less than the target value, *A*[*IndexMid*]
    < *v*, we know that the target value must lie after the middle index. This allows
    us to chop the search space in half again by making *IndexLow* = *IndexMid* +
    1.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们可以将这个中间位置的值 *A*[*IndexMid*] 与目标值 *v* 进行比较。如果中点小于目标值，*A*[*IndexMid*] < *v*，我们知道目标值一定位于中间索引之后。这时我们可以通过将
    *IndexLow* = *IndexMid* + 1 再次将搜索范围缩小一半。
- en: If the middle point is greater than the target value, *A*[*IndexMid*] > *v*,
    we know the target value must lie before the middle index, which allows us to
    chop the search space in half by making *IndexHigh* = *IndexMid* – 1.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 如果中间点大于目标值，*A*[*IndexMid*] > *v*，我们知道目标值一定位于中间索引之前，这样我们可以通过将 *IndexHigh* = *IndexMid*
    – 1 来将搜索范围缩小一半。
- en: Of course, if we find *A*[*IndexMid*] equals *v*, we can immediately conclude
    the search. We found the target.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，如果我们发现 *A*[*IndexMid*] 等于 *v*，我们可以立即得出结论，搜索完成。我们找到了目标值。
- en: Let’s consider searching the following (sorted) array for the value 15\. The
    boxes with dotted outlines correspond to the values the algorithm has checked,
    and the shaded elements are ones that have been eliminated from the search.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们考虑在以下（已排序的）数组中搜索值 15。带有虚线框的框对应算法已检查的值，阴影部分是被排除的值。
- en: '![image](../images/f0037-01.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0037-01.jpg)'
- en: The first midpoint check finds a value of 11, which is less than our target
    value of 15\. Since we know the array is sorted in increasing order, we can rule
    out the midpoint and anything before it. We move our lower bound index appropriately
    (*IndexLow* = *IndexMid* + 1).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次中点检查找到的值是 11，小于我们目标值 15。由于我们知道数组是按升序排列的，我们可以排除中点及其之前的所有值。我们适当移动下界索引 (*IndexLow*
    = *IndexMid* + 1)。
- en: '![image](../images/f0037-02.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0037-02.jpg)'
- en: Similarly, after the second comparison, we find a midpoint value of 52, which
    is greater than the target value. We can rule out the midpoint and everything
    after it. We move our upper bound index (*IndexHigh* = *IndexMid* – 1).
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，在第二次比较后，我们找到的中点值是 52，大于目标值。我们可以排除中点及其之后的所有值。我们将上界索引 (*IndexHigh* = *IndexMid*
    – 1) 向前移动。
- en: '![image](../images/f0038-01.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0038-01.jpg)'
- en: Note that even though the lower bound’s index pointed to the target value (*v*
    = 15) for several iterations, we continued the search until the midpoint pointed
    to the target value. This is because our search checks only the value at the midpoint.
    We don’t check the values at the lower or upper indexes until the midpoint reaches
    them.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，尽管下界的索引在多次迭代中指向了目标值 (*v* = 15)，我们仍然继续搜索直到中点指向目标值。这是因为我们的搜索仅检查中点的值。在中点指向之前，我们不会检查下界或上界的值。
- en: What happens if the target value is not in the array? As the search progresses,
    the bounds will move closer until there are no unexplored values between them.
    Since we are always moving one of the bounds *past* the midpoint index, we can
    stop the search when *IndexHigh* < *IndexLow.* At that point we can guarantee
    the target value is not in the array.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如果目标值不在数组中会发生什么？随着搜索的进行，边界会越来越接近，直到它们之间没有未探索的值。由于我们始终将一个边界移到中点索引的*之后*，当 *IndexHigh*
    < *IndexLow* 时，我们可以停止搜索。此时我们可以保证目标值不在数组中。
