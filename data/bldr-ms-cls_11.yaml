- en: Chapter 11. Texture Painting
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第11章 纹理绘制
- en: In the previous chapter, we used Blender to generate textures automatically;
    in this chapter, we’ll shift our focus to creating textures by hand. Using a mix
    of hand painting, working with photo textures, and utilizing the textures we created
    in [Chapter 10](ch10.html "Chapter 10. Texture Baking"), we’ll bring color and
    texture to the objects in our scenes. We’ll also cover creating such images as
    specular, hardness, and alpha maps, which we’ll use in [Chapter 12](ch12.html
    "Chapter 12. Materials") to influence other aspects of the materials we make,
    such as their shininess, smoothness, and transparency. We’ll look at creating
    both tileable textures that can be used on multiple objects and unique textures
    that are UV mapped to specific objects using a mix of both Blender and GIMP.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们使用Blender自动生成纹理；而在本章中，我们将转向手工创建纹理。通过手绘、使用照片纹理以及利用我们在[第10章](ch10.html
    "第10章. 纹理烘焙")中创建的纹理，我们将为场景中的物体添加颜色和纹理。我们还将介绍创建一些图像，如高光、硬度和透明度贴图，这些将在[第12章](ch12.html
    "第12章. 材质")中用于影响我们制作的材质的其他方面，比如其光泽度、平滑度和透明度。我们将学习如何创建可重复使用的纹理，这些纹理可以应用于多个物体，同时也会创建特定UV映射到单个物体的独特纹理，结合Blender和GIMP来完成。
- en: Let’s begin with a look at the tools available.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从了解可用工具开始。
- en: Texturing in Blender
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在Blender中进行纹理绘制
- en: In Blender, we can paint in 2D, using the UV Image editor, and we can paint
    directly on objects in 3D, using Texture Paint mode in the 3D Viewport. This gives
    us a great degree of flexibility in how we paint our models. The brushes work
    across both the UV Image editor and Texture Paint mode, making texturing with
    Blender straightforward and consistent.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在Blender中，我们可以使用UV图像编辑器进行2D绘制，也可以使用3D视图中的纹理绘制模式直接在物体上进行绘制。这为我们提供了很大的灵活性来绘制我们的模型。画笔可以同时在UV图像编辑器和纹理绘制模式中使用，使得Blender的纹理绘制变得简便而一致。
- en: Once you select a mesh that has been unwrapped and assigned an image in the
    UV Image editor, you can switch to Texture Paint mode in the 3D Viewport. (Use
    the mode drop-down menu in the header, as shown in [Figure 11-1](ch11.html#texture_paint_mode_in_blenderdot_herecom
    "Figure 11-1. Texture Paint mode in Blender. Here, I’ve used the modified UV Unwrapping
    Layout created in Chapter 8\. This layout allows me to paint textures in the 3D
    Viewport (right), to see and edit the resulting image in the UV Image editor (left),
    and to edit materials and settings in the Properties editor.").) By default, you’ll
    see the texture on your mesh and be able to paint on it using Blender’s texture
    brushes.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你选择了一个已经展开并在UV图像编辑器中分配了图像的网格，就可以在3D视图中切换到纹理绘制模式。（使用头部的模式下拉菜单，如[图11-1](ch11.html#texture_paint_mode_in_blenderdot_herecom
    "图11-1. Blender中的纹理绘制模式。在这里，我使用了第8章中创建的修改后的UV展开布局。该布局允许我在3D视图（右）中绘制纹理，查看并编辑UV图像编辑器（左）中的结果图像，以及在属性编辑器中编辑材质和设置。")所示。）默认情况下，你会看到网格上的纹理，并可以使用Blender的纹理画笔在其上进行绘制。
- en: 'Blender offers several brush types that you can use to paint textures on your
    model:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Blender提供了几种画笔类型，供你在模型上绘制纹理：
- en: '****Draw, Brush, and Texdraw****. These all offer the same basic functionality,
    allowing you to paint directly on your mesh with the color specified by the color
    picker.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '****绘制、画笔和Texdraw****。这些画笔提供相同的基本功能，允许你用颜色选择器指定的颜色直接在网格上进行绘制。'
- en: '****Clone****. This brush allows you to clone texture information from one
    part of your model to another or from one UV coordinate set to another. With the
    Clone option turned off in the Project Paint settings (see [Project Paint](ch11.html#project_paint
    "Project Paint")), the brush will take the texture information lying under the
    3D Viewport cursor and copy it to where you paint, allowing you to clone from
    one part of the model to another within the same texture. With the Clone option
    turned on in the Project Paint settings, the brush will instead clone texture
    information from the *same part of the mesh* but from the texture assigned to
    a *different UV coordinate set* (the one chosen in the Project Paint settings).'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '****克隆****。这个画笔允许你将模型一部分的纹理信息克隆到另一部分，或者将一个UV坐标集的纹理信息克隆到另一个UV坐标集。在项目绘画设置中关闭克隆选项（参见[项目绘画](ch11.html#project_paint
    "项目绘画")），画笔将获取3D视图光标下方的纹理信息并将其复制到你所涂绘的地方，这样你就能在同一纹理中从模型的一部分克隆到另一部分。开启项目绘画设置中的克隆选项时，画笔将从*相同的网格部分*克隆纹理信息，但来自分配给*不同UV坐标集*的纹理（即在项目绘画设置中选择的纹理）。'
- en: '![Texture Paint mode in Blender. Here, I’ve used the modified UV Unwrapping
    Layout created in . This layout allows me to paint textures in the 3D Viewport
    (right), to see and edit the resulting image in the UV Image editor (left), and
    to edit materials and settings in the Properties editor.](httpatomoreillycomsourcenostarchimages1538662.png.jpg)Figure 11-1. Texture
    Paint mode in Blender. Here, I’ve used the modified UV Unwrapping Layout created
    in [Chapter 8](ch08.html "Chapter 8. UV Unwrapping"). This layout allows me to
    paint textures in the 3D Viewport (right), to see and edit the resulting image
    in the UV Image editor (left), and to edit materials and settings in the Properties
    editor.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '![Blender中的纹理绘画模式。在这里，我使用了第8章中创建的修改后的UV展开布局。这个布局允许我在3D视口中（右侧）绘制纹理，在UV图像编辑器中查看和编辑生成的图像（左侧），并在属性编辑器中编辑材质和设置。](httpatomoreillycomsourcenostarchimages1538662.png.jpg)图11-1。Blender中的纹理绘画模式。在这里，我使用了[第8章](ch08.html
    "第8章。UV展开")中创建的修改后的UV展开布局。这个布局允许我在3D视口中（右侧）绘制纹理，在UV图像编辑器中查看和编辑生成的图像（左侧），并在属性编辑器中编辑材质和设置。'
- en: '****Smear****. This will smear your texture in the direction of the brushstroke.
    It can be used to blend colors and to smudge out mistakes.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '****涂抹****。这会在画笔笔触的方向上涂抹你的纹理。它可以用来混合颜色并抹去错误。'
- en: '****Soften****. This blurs the texture under your stroke, reducing noise and
    fine details.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '****柔化****。这会模糊笔触下方的纹理，减少噪点和细节。'
- en: These brush types can be duplicated and modified just like Blender’s sculpt
    brushes, allowing you to create a variety of brushes tailored to your needs. Also,
    as in Sculpt mode, you can apply textures to your brush using the Texture panel
    of the Tool Options region. The texture you apply will then multiply with your
    brushstrokes while you paint.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 这些画笔类型可以像Blender的雕刻画笔一样复制和修改，允许你创建适合自己需求的各种画笔。此外，和雕刻模式一样，你可以使用工具选项区域中的纹理面板为画笔应用纹理。你应用的纹理将在你绘画时与笔触相乘。
- en: Project Paint
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 投影绘画
- en: Blender has two ways to paint textures in Texture Paint mode. The older, legacy
    method, while useful, has significant limitations. The newer Project Paint method
    offers a more advanced set of tools, including ones that allow you to mask and
    clone textures using other UV coordinates and images and to paint only on surfaces
    visible from your viewpoint. When enabled, Project Paint gives you the options
    shown in [Figure 11-2](ch11.html#project_paint_panel_has_a_variety_of_opt "Figure 11-2. The
    Project Paint panel has a variety of options for controlling how Blender’s texture
    brushes work."). I discuss these options below in the order in which they appear
    on the Project Paint panel.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Blender在纹理绘画模式中有两种绘制纹理的方法。较老的传统方法虽然有用，但有显著的局限性。新的投影绘画方法提供了一套更先进的工具，包括允许你使用其他UV坐标和图像来遮罩和克隆纹理，以及仅在从你的视点可见的表面上进行绘画。当启用时，投影绘画会提供[图11-2](ch11.html#project_paint_panel_has_a_variety_of_opt
    "图11-2。投影绘画面板有多种选项来控制Blender的纹理画笔如何工作。")中显示的选项。我将按照这些选项在投影绘画面板上出现的顺序进行讨论。
- en: '![The Project Paint panel has a variety of options for controlling how Blender’s
    texture brushes work.](httpatomoreillycomsourcenostarchimages1538664.png.jpg)Figure 11-2. The
    Project Paint panel has a variety of options for controlling how Blender’s texture
    brushes work.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '![投影绘画面板有多种选项来控制Blender的纹理画笔如何工作。](httpatomoreillycomsourcenostarchimages1538664.png.jpg)图11-2。投影绘画面板有多种选项来控制Blender的纹理画笔如何工作。'
- en: '****Occlude****. This prevents painting “through” the mesh onto surfaces behind
    visible ones.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '****遮挡****。这可以防止绘画时“穿过”网格，绘制到背后可见面的表面上。'
- en: '****Cull****. This prevents painting on faces that face away from you.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '****剔除****。这可以防止在背离你视角的面上进行绘画。'
- en: '****Normal****. This blends out the strength of your strokes depending on whether
    they are facing you (as with Cull, but with a smooth fade-out). You can control
    the limits of this fade out using the *Angle* setting to the right of the checkbox.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '****法线****。这根据笔触是否朝向你，平滑过渡笔触的强度（类似于剔除，但具有平滑的渐变效果）。你可以使用复选框右侧的*角度*设置来控制渐变的限制。'
- en: Note
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*The above options are on by default, but it can be useful to turn them off
    to quickly paint large parts of your model with a single stroke.*'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '*默认情况下，上述选项是启用的，但关闭它们可以快速用单一笔触绘制模型的大部分区域。*'
- en: '****Stencil****. This allows you to use an image mapped to the object’s UV
    coordinates (which can be a different set from the one you are painting on) to
    mask the effect of your brushstrokes. This setting can be used to restrict the
    area you are working on or to simplify adding texture to your model, as you’ll
    see later in this chapter. To the right of the stencil checkbox, you can select
    which UV coordinate set (and thus which image) to use for masking and whether
    to invert the mask.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '****模板****。这个选项允许你使用映射到对象 UV 坐标（这个坐标集可以不同于你正在绘制的那个坐标集）的图像来遮罩你的笔触效果。这个设置可以用于限制你正在处理的区域，或者简化向模型添加纹理的过程，正如本章后续部分所示。在模板复选框的右侧，你可以选择使用哪个
    UV 坐标集（也即使用哪个图像）来进行遮罩，并且是否反转遮罩。'
- en: '****Clone****. This allows you to clone texture information from one UV map
    to another. (Your brushstrokes will clone to the image assigned to the active
    UV set from the one selected in the drop-down menu next to the checkbox for this
    option.) This setting lets you, for example, project your model onto a photo with
    one UV coordinate set and then clone that to another, more neatly laid out UV
    map for further texturing. (We’ll use this option later for the Jungle Temple.)'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '****克隆****。这允许你将一个 UV 映射上的纹理信息克隆到另一个 UV 映射上。（你的笔触将克隆到分配给当前 UV 集的图像，而这个图像是在选项框旁的下拉菜单中选择的那个。）这个设置让你能够例如将模型投影到使用一个
    UV 坐标集的照片上，然后再将其克隆到另一个更整齐布局的 UV 映射上进行进一步的纹理绘制。（我们稍后会在“丛林神庙”中使用这个选项。）'
- en: '****Bleed****. This determines the amount Blender bleeds textures outward from
    the edges of the UV islands when you paint over a seam. This prevents seams from
    appearing in your texture, similar to the Margin setting for texture baking.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '****溢出****。这个选项决定了当你在 UV 接缝上绘画时，Blender 会将纹理从 UV 岛的边缘向外溢出多少。这样可以防止纹理中出现接缝，类似于纹理烘焙中的边距设置。'
- en: '****Quick Edit****. This is very useful when texturing, particularly for cleaning
    up seams and texturing tricky areas where you might want the extra tools available
    to you in a 2D painting program like GIMP. Quick Edit takes a snapshot of your
    model from the current viewpoint and opens it in the image editor of your choosing.
    (To choose your image editor, open the File tab of Blender’s user preferences
    under Image Editor; then, simply set the path to GIMP or whatever image editor
    you wish to use.) You can then paint your texture in the image-editing program
    and save it. Clicking Apply in Blender will project that texture from the viewpoint
    it was originally taken from. (You don’t need to worry about moving the camera;
    Blender will remember that setting.) Later in this chapter, we’ll cover using
    this feature to fix seams.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '****快速编辑****。这个功能在纹理绘制时非常有用，特别是对于清理接缝和绘制那些可能需要额外工具来处理的难以纹理化区域，比如在 GIMP 等 2D
    绘画程序中可用的工具。快速编辑会从当前视角拍摄模型的快照，并在你选择的图像编辑器中打开。（要选择图像编辑器，可以在 Blender 用户设置的“文件”标签中找到“图像编辑器”选项；然后，简单地设置
    GIMP 或任何你希望使用的图像编辑器的路径。）你可以在图像编辑程序中绘制纹理并保存。点击 Blender 中的应用按钮会将该纹理从最初拍摄的视角投影到模型上。（你不需要担心移动相机；Blender
    会记住这个设置。）在本章的后面部分，我们会讨论如何使用这个功能来修复接缝。'
- en: '****Apply Camera Image****. Like Quick Edit, this projects an image from the
    camera’s current viewpoint. It will bring up a drop-down menu of any images you
    have already opened in Blender for you to choose from, and it’ll then project
    your chosen texture onto your model.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '****应用相机图像****。类似于快速编辑，这会将图像从相机的当前视角投影出来。它会弹出一个下拉菜单，列出你在 Blender 中已经打开的所有图像，供你选择，随后它会将你选择的纹理投影到你的模型上。'
- en: '****Save All Edited****. This saves any textures that you have edited while
    working in Texture Paint mode, though they must have already been saved once manually
    or Blender will not know where to save them. Generally, it’s better to remember
    to save manually anyway so that you can keep track of which textures you have
    worked on already.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '****保存所有编辑****。这会保存你在纹理绘画模式下编辑过的任何纹理，但这些纹理必须已经手动保存过一次，否则 Blender 不知道保存位置。一般来说，最好还是记得手动保存，这样你能追踪到已经编辑过的纹理。'
- en: Painting in the UV Image Editor
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 UV 图像编辑器中绘画
- en: You can also paint textures in Blender’s UV Image editor. To do so, click the
    paintbrush icon in the header of the UV Image editor region. You can then paint
    on the current image in the UV Image editor using the same brushes as in the 3D
    Viewport. By using the 3D Viewport and UV Image editor side by side (as in [Figure 11-1](ch11.html#texture_paint_mode_in_blenderdot_herecom
    "Figure 11-1. Texture Paint mode in Blender. Here, I’ve used the modified UV Unwrapping
    Layout created in Chapter 8\. This layout allows me to paint textures in the 3D
    Viewport (right), to see and edit the resulting image in the UV Image editor (left),
    and to edit materials and settings in the Properties editor.")), you gain a lot
    of control when painting textures.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在 Blender 的 UV 图像编辑器中绘制纹理。为此，点击 UV 图像编辑器区域顶部的画笔图标。然后，你可以使用与 3D 视口中相同的画笔，在
    UV 图像编辑器中的当前图像上进行绘制。通过将 3D 视口和 UV 图像编辑器并排使用（如 [图 11-1](ch11.html#texture_paint_mode_in_blenderdot_herecom
    "图 11-1. Blender 中的纹理绘制模式。在这里，我使用了第 8 章创建的修改过的 UV 展开布局。这个布局允许我在 3D 视口（右）中绘制纹理，在
    UV 图像编辑器（左）中查看和编辑结果图像，并在属性编辑器中编辑材质和设置。")），你可以在绘制纹理时获得更多控制。
- en: Note
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Later we’ll render some of the projects in this book using Blender’s Cycles
    renderer, but while texture painting, it’s easier to leave the renderer set to
    Blender Internal. This is because Cycles can cause Blender to behave a little
    strangely when texturing objects with multiple UV coordinate sets.*'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '*稍后我们将在本书中的一些项目中使用 Blender 的 Cycles 渲染器进行渲染，但在进行纹理绘制时，最好将渲染器保持为 Blender Internal。这是因为
    Cycles 在使用多个 UV 坐标集进行纹理绘制时，可能会导致 Blender 的行为有些异常。*'
- en: Texturing in GIMP
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 GIMP 中绘制纹理
- en: While we can paint in 2D in Blender, GIMP offers a much wider array of painting
    tools, such as selections, masks, layers, and filters. This variety of tools makes
    GIMP (or another image editor, such as Photoshop) indispensable for working on
    textures. In particular, the ability to work with layers makes it much easier
    to create textures as nondestructively as possible, building up one layer and
    then adding details in a new layer over the top.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我们可以在 Blender 中进行 2D 绘画，但 GIMP 提供了更多的绘画工具，如选区、蒙版、图层和滤镜。这些工具的多样性使得 GIMP（或其他图像编辑器，如
    Photoshop）在纹理制作中变得不可或缺。特别是，使用图层的功能使得创建纹理时尽可能非破坏性地工作变得更加容易，先建立一个图层，然后在新图层上添加细节。
- en: The ability to work in layers also allows you to combine baked textures with
    your hand-painted textures easily. For example, you can add an ambient occlusion
    texture over another layer of your texture map to add shadowing. GIMP also has
    a more advanced brush system, making it easier to paint detailed textures. (I
    covered the basics of painting in GIMP in [Chapter 2](ch02.html "Chapter 2. Introduction
    to GIMP"), so we’ll cover only the more texturing-specific aspects of GIMP in
    this chapter.)
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 使用图层的功能还允许你轻松地将烘焙纹理与手绘纹理结合。例如，你可以在另一个纹理图层上添加环境光遮蔽纹理，以增加阴影效果。GIMP 还拥有一个更为高级的画笔系统，使得绘制细节纹理变得更容易。（我在
    [第 2 章](ch02.html "第 2 章. GIMP 入门")中介绍了 GIMP 绘画的基础，因此在本章中我们只会讨论 GIMP 中与纹理相关的更多内容。）
- en: Creating Brushes for Texturing in GIMP
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 GIMP 中创建纹理画笔
- en: GIMP’s brushes are easy to edit and are capable of creating a wide variety of
    looks. When texturing, it can often be useful to create custom brushes that aid
    in quickly building up texture. In particular, when used as clone brushes or as
    paintbrushes, brushes with a speckled or grungy look are often useful in blending
    between different colors and textures.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP 的画笔易于编辑，并且能够创建各种各样的效果。在纹理绘制时，创建自定义画笔常常很有用，这可以帮助快速构建纹理。特别是，当作为克隆画笔或油漆画笔使用时，带有斑点或脏污效果的画笔在不同颜色和纹理之间的融合中通常非常有用。
- en: 'For example, let’s create a grungy-looking brush that will come in handy when
    texturing the Jungle Temple. Its effect can be seen on the right of [Figure 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "Figure 11-5. Left: Our new brush with GIMP’s default brush dynamics. Right: The
    same brush with GIMP’s brush dynamics set to randomize the size and rotation of
    the brush."). To create it, we start with a photo texture from CGTextures (*[http://cgtextures.com/](http://cgtextures.com/)*)
    and then refine it into a brush that can be exported as a default GIMP brush,
    which can be used again and again for texturing or painting in GIMP.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，让我们创建一个脏乱的画笔，这将在为丛林神庙添加纹理时派上用场。它的效果可以在[图 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "图 11-5. 左：我们的新画笔，采用GIMP的默认画笔动态。右：同一个画笔，GIMP的画笔动态设置为随机化画笔的大小和旋转。")的右侧看到。为了创建它，我们从CGTextures（*
    [http://cgtextures.com/](http://cgtextures.com/) *）获取一个照片纹理，然后将其精炼成一个可以导出为默认GIMP画笔的画笔，可以在GIMP中反复使用进行纹理处理或绘画。
- en: GIMP brushes are image files that are used to control the shape of a brush.
    RGB (color) images are used as is (more like a stamp than a brush) and will not
    inherit the brush color. Black-and-white images interpret black as the shape of
    the brush and white as transparent, and they take their color from the color you
    have selected in GIMP’s color picker. To create a GIMP brush, all we have to do
    is create a black-and-white image and save it in one of GIMP’s brush formats (*.gbr*
    or *.gih—*I’ll discuss the difference between these in a second).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP画笔是图像文件，用于控制画笔的形状。RGB（彩色）图像按原样使用（更像是印章而非画笔），不会继承画笔颜色。黑白图像将黑色解释为画笔的形状，白色为透明，它们的颜色来自你在GIMP的颜色选择器中选定的颜色。要创建GIMP画笔，我们只需要创建一张黑白图像，并将其保存为GIMP的画笔格式（*.gbr*
    或 *.gih*—*稍后我会讨论这两者之间的区别）。
- en: Start with a photo of some paint splatter from CGTextures (see [Figure 11-3](ch11.html#image_weapostrophell_be_using_as_our_bru
    "Figure 11-3. The image we’ll be using as our brush texture")) and choose **Colors**▸**Desaturate**
    to convert the image to black and white, selecting the **Luminosity** option for
    desaturating the image in order to give more variation in brightness.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从CGTextures获取一张油漆飞溅的照片（参见[图 11-3](ch11.html#image_weapostrophell_be_using_as_our_bru
    "图 11-3. 我们将作为画笔纹理使用的图像")），然后选择**颜色**▸**去饱和**将图像转换为黑白，选择**亮度**选项以去饱和图像，从而增加亮度上的变化。
- en: '![The image we’ll be using as our brush texture](httpatomoreillycomsourcenostarchimages1538666.png.jpg)Figure 11-3. The
    image we’ll be using as our brush texture'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![我们将作为画笔纹理使用的图像](httpatomoreillycomsourcenostarchimages1538666.png.jpg)图 11-3.
    我们将作为画笔纹理使用的图像'
- en: Next, identify a square area that might make a good brush and select that area
    with the Rectangular Select tool (**R**; press and hold SHIFT while dragging to
    make a square selection). Copy this area (CTRL-C) and paste it as a new image
    (CTRL-SHIFT-V), which you’ll soon save as a new brush.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，识别一个可能适合作为画笔的方形区域，并使用矩形选择工具（**R**；按住SHIFT并拖动可以选择正方形区域）选择该区域。复制此区域（CTRL-C），然后将其粘贴为新图像（CTRL-SHIFT-V），接下来你将把它保存为一个新的画笔。
- en: While you’ve already desaturated the image, it’s still encoded using RGB colors,
    so switch to using black and white values with **Image**▸**Mode**▸**Grayscale**.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 虽然你已经将图像去饱和，但它仍然是使用RGB颜色编码的，因此请切换到使用黑白值，通过**图像**▸**模式**▸**灰度**来进行转换。
- en: Next, make a few tweaks to the new image, painting out some of the splatter
    that clips the edge of the canvas. The texture is now ready to save, as shown
    in [Figure 11-4](ch11.html#portion_of_the_photocomma_copied_and_pas "Figure 11-4. A
    portion of the photo, copied and pasted into a new image and tweaked a little
    around the edges").
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，对新图像进行一些微调，涂去一些溅落在画布边缘的部分。纹理现在已经准备好保存，如[图 11-4](ch11.html#portion_of_the_photocomma_copied_and_pas
    "图 11-4. 一部分照片，复制并粘贴到新图像中，稍微调整边缘")所示。
- en: '![A portion of the photo, copied and pasted into a new image and tweaked a
    little around the edges](httpatomoreillycomsourcenostarchimages1538668.png.jpg)Figure 11-4. A
    portion of the photo, copied and pasted into a new image and tweaked a little
    around the edges'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![一部分照片，复制并粘贴到新图像中，稍微调整边缘](httpatomoreillycomsourcenostarchimages1538668.png.jpg)图
    11-4. 一部分照片，复制并粘贴到新图像中，稍微调整边缘'
- en: Adding Variation to a Brush
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 为画笔添加变化
- en: 'You could stop here and export the brush as a *.gbr* brush file, but when used
    as a brush, it would simply repeat this one image over and over. To give the brush
    more variation, repeat the steps above, adding more layers to the brush image,
    and then save it as an animated *.gih* GIMP brush. This brush will use a different
    layer of the brush image each time it paints part of the stroke, making the stroke
    look more varied. To do this, take the following steps:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在这里停止，并将画笔导出为 *.gbr* 画笔文件，但作为画笔使用时，它只会重复这一个图像。如果想让画笔效果更有变化，可以重复上述步骤，添加更多图层到画笔图像中，然后将其保存为一个动画
    *.gih* GIMP 画笔。这个画笔每次绘制一部分笔触时，将使用画笔图像中的不同图层，使得笔触看起来更加多样化。为此，按照以下步骤操作：
- en: Select more regions of the original image and copy and paste them as new layers
    into the brush image (CTRL-V, then click **New Layer** in GIMP’s layers dialog).
    After doing this a few times, you’ll have five different layers with different
    splatters on them.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择原始图像的更多区域，并将它们复制粘贴为新的图层到画笔图像中（CTRL-V，然后在 GIMP 的图层对话框中点击**新建图层**）。经过几次操作后，你会得到五个不同的图层，上面有不同的飞溅效果。
- en: Export this as a *.gih* brush file to GIMP’s brushes folder^([[1](#ftn.ch11fn01)])
    (select **File**▸**Export**, set the file type to *.gih*, and then click **Save**).
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此文件导出为 *.gih* 画笔文件，并保存到 GIMP 的画笔文件夹^([[1](#ftn.ch11fn01)])（选择**文件**▸**导出**，将文件类型设置为
    *.gih*，然后点击**保存**）。
- en: GIMP should give you a dialog that lets you define how your brush is set up.
    You can stick with the defaults if you have placed each “frame” of your brush
    on a different layer; just be sure to change the brush’s description to something
    helpful and check that the Cells setting is the same as the number of layers in
    your image. If you wish, you can adjust the default offset of the brush or the
    distance between each brush mark placed on the canvas when you make a stroke.
    For heavy, painterly brushes, choose a small value, but for this grungy-looking
    brush, a wider spacing is more appropriate—say around 40.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GIMP 应该会弹出一个对话框，让你定义画笔的设置。如果你将画笔的每一“帧”放在不同的图层上，你可以保留默认设置；只需确保更改画笔的描述为有用的内容，并检查“单元格”设置是否与图像中的图层数量相同。如果需要，你可以调整画笔的默认偏移量或在绘制笔触时每个画笔标记之间的距离。对于重型的画笔效果，选择一个较小的值，但对于这种脏脏的画笔，较宽的间距更为合适——比如大约
    40。
- en: 'With these settings in place, click **Export**. Now if you click **Refresh
    Brushes** at the bottom right of the Brushes dialog, you should be able to select
    the new brush and start testing it out. Its effects at the moment are shown on
    the left in [Figure 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes "Figure 11-5. Left:
    Our new brush with GIMP’s default brush dynamics. Right: The same brush with GIMP’s
    brush dynamics set to randomize the size and rotation of the brush.").'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置完成后，点击**导出**。现在，如果你点击刷子对话框右下角的**刷新画笔**，你应该能够选择新的画笔并开始测试。此时，它的效果显示在左侧的[图 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "图 11-5. 左：我们的新画笔，使用 GIMP 默认的画笔动态。右：相同的画笔，使用 GIMP 的画笔动态设置为随机化画笔的大小和旋转。")。
- en: 'You’ve created an animated brush with a few different shapes, but notice that
    they repeat quite frequently (left image of [Figure 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "Figure 11-5. Left: Our new brush with GIMP’s default brush dynamics. Right: The
    same brush with GIMP’s brush dynamics set to randomize the size and rotation of
    the brush.")). To fix this, you can tweak GIMP’s brush dynamics to vary the brush
    some more along the length of the stroke.'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你已经创建了一个包含几种不同形状的动画画笔，但注意到它们的重复频率较高（见[图 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "图 11-5. 左：我们的新画笔，使用 GIMP 默认的画笔动态。右：相同的画笔，使用 GIMP 的画笔动态设置为随机化画笔的大小和旋转。")左侧的图像）。为了解决这个问题，你可以调整
    GIMP 的画笔动态，增加画笔在笔触长度上的变化。
- en: Note
  id: totrans-51
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*This assumes that you have a pressure-sensitive pen tablet (highly recommended)
    for painting. If you don’t have one, you can still use the brush dynamics settings,
    such as Velocity, Fade, and Random, to add effects to your brushstrokes. But obviously
    pen pressure does not apply to mouse clicks.*'
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*假设你有一个压力敏感的手写板（强烈推荐）用于绘画。如果没有，你仍然可以使用画笔动态设置，如速度、褪色和随机化，来为你的画笔笔触增加效果。但显然，鼠标点击不适用于压力感应。*'
- en: 'To tweak GIMP’s brush dynamics, open the Brush Dynamics dialog (**Windows**▸**Dockable
    Dialogs**▸**Paint Dynamics** and click **New Dynamics**, the second icon on the
    bottom left of the dialog). This opens the Paint Dynamics editor (see [Figure 11-6](ch11.html#paint_dynamics_editorcomma_shown_here_wi
    "Figure 11-6. The Paint Dynamics editor, shown here with settings for the dynamics
    of my grungy brush. Checking a box in the mapping matrix makes the variable in
    the corresponding column affect the brush property in the corresponding row.")),
    where you can use the mapping matrix (the large grid of checkboxes) to set the
    brush’s behavior. The top row of the mapping matrix lists all sorts of inputs
    that can be used to drive the brush’s behavior, and the left side of the matrix
    lists the brush settings these inputs can be used to affect. Set Pressure to affect
    the brush’s opacity and Random to affect the size and rotation of each brush mark.
    With these dynamics in place, you now get a nice random, grungy-looking brushstroke
    that you can use for all sorts of textures (see [Figure 11-5](ch11.html#left_our_new_brush_with_gimpapostrophes
    "Figure 11-5. Left: Our new brush with GIMP’s default brush dynamics. Right: The
    same brush with GIMP’s brush dynamics set to randomize the size and rotation of
    the brush."), right line).'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要调整 GIMP 的画笔动态，请打开画笔动态对话框（**Windows**▸**Dockable Dialogs**▸**Paint Dynamics**，点击对话框左下角的第二个图标**New
    Dynamics**）。这将打开画笔动态编辑器（见[图 11-6](ch11.html#paint_dynamics_editorcomma_shown_here_wi
    "图 11-6。画笔动态编辑器，这里显示的是我那种脏乱画笔的动态设置。勾选映射矩阵中的框，能够让对应列的变量影响对应行中的画笔属性。")），在这里你可以使用映射矩阵（那张大网格勾选框）来设置画笔的行为。映射矩阵的顶部列出了所有可以驱动画笔行为的输入，而矩阵的左侧列出了这些输入可以影响的画笔设置。将压力（Pressure）设置为影响画笔的不透明度，将随机（Random）设置为影响每个画笔笔画的大小和旋转。设置好这些动态后，你现在可以得到一个不错的随机、脏乱的画笔笔触，可以用来绘制各种纹理（见[图
    11-5](ch11.html#left_our_new_brush_with_gimpapostrophes "图 11-5。左：我们使用 GIMP 默认画笔动态的新画笔。右：相同的画笔，GIMP
    的画笔动态设置为随机化画笔的大小和旋转。")，右边的部分）。
- en: '![Left: Our new brush with GIMP’s default brush dynamics. Right: The same brush
    with GIMP’s brush dynamics set to randomize the size and rotation of the brush.](httpatomoreillycomsourcenostarchimages1538670.png.jpg)Figure 11-5. Left:
    Our new brush with GIMP’s default brush dynamics. Right: The same brush with GIMP’s
    brush dynamics set to randomize the size and rotation of the brush.![The Paint
    Dynamics editor, shown here with settings for the dynamics of my grungy brush.
    Checking a box in the mapping matrix makes the variable in the corresponding column
    affect the brush property in the corresponding row.](httpatomoreillycomsourcenostarchimages1538672.png.jpg)Figure 11-6. The
    Paint Dynamics editor, shown here with settings for the dynamics of my grungy
    brush. Checking a box in the mapping matrix makes the variable in the corresponding
    column affect the brush property in the corresponding row.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '![左：我们使用 GIMP 默认画笔动态的新画笔。右：相同的画笔，GIMP 的画笔动态设置为随机化画笔的大小和旋转。](httpatomoreillycomsourcenostarchimages1538670.png.jpg)图
    11-5。左：我们使用 GIMP 默认画笔动态的新画笔。右：相同的画笔，GIMP 的画笔动态设置为随机化画笔的大小和旋转。![画笔动态编辑器，这里显示的是我那种脏乱画笔的动态设置。勾选映射矩阵中的框，能够让对应列的变量影响对应行中的画笔属性。](httpatomoreillycomsourcenostarchimages1538672.png.jpg)图
    11-6。画笔动态编辑器，这里显示的是我那种脏乱画笔的动态设置。勾选映射矩阵中的框，能够让对应列的变量影响对应行中的画笔属性。'
- en: Texturing the Bat Creature
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为蝙蝠生物纹理绘制
- en: 'I wanted textures to make the Bat Creature look like a creature of the night:
    patchy, purplish skin and discolored nails, with some extra wrinkles, freckles,
    and veins to add some details on top of those I sculpted. To create them, I built
    up my textures in stages, first blocking in basic colors and then smoothing and
    refining them before adding the details.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 我希望纹理能够让蝙蝠生物看起来像夜晚的生物：斑驳的紫色皮肤和变色的指甲，配上额外的皱纹、雀斑和静脉，以便在我雕刻的基础上添加更多细节。为了实现这一点，我将纹理分阶段构建，首先是基本颜色的填充，然后平滑并精炼这些颜色，最后添加细节。
- en: I started by painting some flat colors in Blender’s Texture Paint mode. I then
    saved my work and opened it in GIMP for finer texturing—for example, I combined
    my painted texture map with the ambient occlusion map I baked in [Chapter 10](ch10.html
    "Chapter 10. Texture Baking"). I then used GIMP to manipulate and supplement the
    diffuse texture to create specular and hardness textures.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我首先在 Blender 的纹理绘制模式下涂抹了一些平面颜色。然后，我保存了工作并将其打开在 GIMP 中进行更精细的纹理处理——例如，我将绘制的纹理贴图与我在[第10章](ch10.html
    "第10章. 纹理烘焙")中烘焙的环境遮蔽图合并。然后，我使用 GIMP 来调整和补充漫反射纹理，以创建镜面反射和硬度纹理。
- en: To begin blocking in my colors, I dropped into Edit mode and assigned a new
    blank image to the mesh for the Bat Creature (the mesh used for baking textures
    in [Chapter 10](ch10.html "Chapter 10. Texture Baking"), not the high-res sculpted
    mesh). The New Texture dialog lets us choose a color to fill the new image, so
    I set it to a muted pinkish purple—a sort of unhealthy skin color that might befit
    a denizen of the night.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 为了开始确定我的颜色，我进入了编辑模式，并为蝙蝠生物的网格分配了一个新的空白图像（这个网格用于[第10章](ch10.html "第10章. 纹理烘焙")中的纹理烘焙，而不是高分辨率的雕刻网格）。新的纹理对话框允许我们选择填充新图像的颜色，所以我将其设置为一种柔和的粉紫色——一种适合夜间生物的、不健康的皮肤颜色。
- en: Next, I established an overall palette of colors for my texture in the UV Image
    editor, selecting an unused space not mapped to any part of the mesh (see [Figure 11-7](ch11.html#choosing_some_initial_colors_to_paint_th
    "Figure 11-7. Choosing some initial colors to paint the Bat Creature’s skin makes
    it easy to return to the same colors again and to maintain a consistent color
    palette.")). I chose a darker purple for use in shadowed areas, like the area
    under the eyes; a lighter yellowish color for bony areas; a dark, saturated red
    for veins and areas with a lot of blood flow; and a darker and lighter version
    of the original base color to act as shadows and highlights. (We’re not painting
    lighting into our texture; I’m talking only about lighter and darker skin coloration
    in different areas.) I also chose a light contrasting color to act as a highlight
    in some areas. I painted a little of each onto my image so that I could color
    pick from them for use later, either in the UV Image editor or when painting in
    the 3D Viewport.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我在 UV 图像编辑器中为我的纹理建立了一个整体的色彩调色板，选择了一个未映射到网格任何部分的空闲空间（参见[图 11-7](ch11.html#choosing_some_initial_colors_to_paint_th
    "图 11-7. 选择一些初始颜色来为蝙蝠生物的皮肤上色，可以使得返回到相同的颜色变得更加容易，并且保持一致的色彩调色板。")）。我为阴影区域选择了一种较深的紫色，比如眼睛下方的区域；为骨骼区域选择了一种较浅的黄色调；为静脉和血流丰富的区域选择了一种深而饱和的红色；以及为原始基色的阴影和高光区域选择了较深和较浅的版本。（我们并没有在纹理中绘制光照，我说的是不同区域的皮肤颜色深浅变化。）我还选择了一种浅的对比色来作为一些区域的高光。我在我的图像上涂抹了一点这些颜色，以便以后可以从中选取颜色，供在
    UV 图像编辑器或在 3D 视图中绘画时使用。
- en: '![Choosing some initial colors to paint the Bat Creature’s skin makes it easy
    to return to the same colors again and to maintain a consistent color palette.](httpatomoreillycomsourcenostarchimages1538674.png.jpg)Figure 11-7. Choosing
    some initial colors to paint the Bat Creature’s skin makes it easy to return to
    the same colors again and to maintain a consistent color palette.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![选择一些初始颜色来为蝙蝠生物的皮肤上色，可以使得返回到相同的颜色变得更加容易，并且保持一致的色彩调色板。](httpatomoreillycomsourcenostarchimages1538674.png.jpg)图 11-7.
    选择一些初始颜色来为蝙蝠生物的皮肤上色，可以使得返回到相同的颜色变得更加容易，并且保持一致的色彩调色板。'
- en: Materials and UI Setup for Painting
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 绘画的材料和用户界面设置
- en: When in Texture Paint mode, Blender will by default show the texture you are
    painting on applied to your mesh in the 3D view, with Blender’s default solid
    shading. As with sculpting, however, we can use Blender’s GLSL Shading mode to
    display the texture in different ways by adding simple lights to the scene (see
    [Chapter 13](ch13.html "Chapter 13. Lighting") for more on lighting) and a simple
    material to the mesh (see [Chapter 12](ch12.html "Chapter 12. Materials") for
    more on materials).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在纹理绘制模式下，Blender 默认会将你正在绘制的纹理应用到你的网格上，并在 3D 视图中显示，使用的是 Blender 默认的实心着色方式。然而，和雕刻一样，我们可以通过在场景中添加简单的灯光（更多灯光内容见[第13章](ch13.html
    "第13章. 灯光")）以及为网格添加简单的材质（更多材质内容见[第12章](ch12.html "第12章. 材质")）来使用 Blender 的 GLSL
    着色模式，以不同的方式显示纹理。
- en: For the Bat Creature, I added a simple material to the bat object, which I named
    *Body_TexturePaint*. In the Textures tab of the Properties editor, I added a new
    texture to this material, set its type to Image, selected my painted image that
    I had already assigned to the object’s UVs, and set the mapping type for the texture
    to UV.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蝙蝠生物，我给蝙蝠物体添加了一个简单的材质，命名为*Body_TexturePaint*。在属性编辑器的纹理选项卡中，我为该材质添加了一个新的纹理，将其类型设置为图像，选择了我已经分配给物体UV的绘制图像，并将纹理的映射类型设置为UV。
- en: Adding a Light
  id: totrans-64
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 添加光源
- en: To make the object visible in GLSL Shading mode, we need to add a light, so
    in Object mode, I created a new Hemi lamp to light my object. Switching into Textured
    Viewport mode (make sure that shading is set to GLSL in the Display panel of the
    Properties region), I could see that this lit the Bat Creature from above only,
    so I duplicated the lamp and rotated it 180 degrees to light the object from below.
    Next, I decreased the intensity of the new duplicate to around 0.3 in the Lamp’s
    Object Data tab in order to leave a little difference between the lighting from
    above and below the character. I also turned off the specular component for the
    lamps (see [Figure 11-8](ch11.html#adding_simple_lighting_and_materials_to "Figure 11-8. Adding
    simple lighting and materials to make texture painting in GLSL mode easier. Here,
    I’ve added a couple Hemi lamps and turned on GLSL shading.")) so that my mesh
    wouldn’t look shiny.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在GLSL阴影模式下使物体可见，我们需要添加光源，所以在对象模式下，我创建了一个新的Hemi灯来照亮我的物体。切换到纹理视口模式（确保在属性面板的显示区域中将阴影设置为GLSL），我可以看到光源只从上方照亮了蝙蝠生物，因此我复制了这个灯并将其旋转了180度，从下方照亮物体。接下来，我将新复制灯光的强度减少到大约0.3，在灯光的对象数据选项卡中进行设置，以便在物体上下的光照之间留有一点差异。我还关闭了灯光的镜面反射组件（见[图11-8](ch11.html#adding_simple_lighting_and_materials_to
    "图11-8. 添加简单的灯光和材质，使得在GLSL模式下进行纹理绘制更为容易。在这里，我添加了几个Hemi灯，并开启了GLSL阴影模式。")），这样我的网格就不会显得过于光亮。
- en: '![Adding simple lighting and materials to make texture painting in GLSL mode
    easier. Here, I’ve added a couple Hemi lamps and turned on GLSL shading.](httpatomoreillycomsourcenostarchimages1538676.png.jpg)Figure 11-8. Adding
    simple lighting and materials to make texture painting in GLSL mode easier. Here,
    I’ve added a couple Hemi lamps and turned on GLSL shading.'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![添加简单的灯光和材质，使得在GLSL模式下进行纹理绘制更为容易。在这里，我添加了几个Hemi灯，并开启了GLSL阴影模式。](httpatomoreillycomsourcenostarchimages1538676.png.jpg)
    图11-8. 添加简单的灯光和材质，使得在GLSL模式下进行纹理绘制更为容易。在这里，我添加了几个Hemi灯，并开启了GLSL阴影模式。'
- en: Note
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you find painting in Blender becoming unresponsive, create a lower-res
    mesh to paint on by duplicating the sculpted mesh and applying the Multires modifier
    at a lower level. Because this lower-res mesh shares the same UV coordinates,
    you can paint on it and apply the textures to the higher-resolution model later.*'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你发现Blender中的绘制变得迟缓，可以通过复制雕刻过的网格并在较低的级别应用Multires修改器来创建一个低分辨率的网格进行绘制。由于这个低分辨率的网格与高分辨率网格共享相同的UV坐标，你可以在其上绘制并稍后将纹理应用到高分辨率模型上。*'
- en: Laying Out Basic Textures in Blender
  id: totrans-69
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 在Blender中铺设基本纹理
- en: I could now start laying out some basic textures on my model. Using the Standard
    brush in Texture Paint mode, I sampled from my palette of colors in the UV Image
    editor and then painted on my model in the 3D Viewport.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我可以开始在我的模型上铺设一些基本纹理了。在纹理绘制模式下使用标准画笔，我从UV图像编辑器中的调色板中取样，然后在3D视口中在模型上绘制。
- en: I began by using anatomical features as a guide for colors, making bony areas
    lighter and yellower; recessed areas, like the eyes, dark and purple; and the
    back darker. I made areas with a lot of blood flow or thin skin, like the wings
    and ears, redder and slightly highlighted some of the muscles on the torso and
    legs with lighter colors. I worked with Occlude turned on in Project Paint, but
    Normal and Cull turned off, as these settings allow you to paint smoothly on the
    mesh even at side-on angles. At this stage, the aim is only to establish a rough
    idea of the colors you want.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 我开始时利用解剖学特征作为颜色指导，将骨骼区域做得较亮并偏黄色；凹陷区域，如眼睛，做得较暗并偏紫色；背部则做得较暗。我将血流较多或皮肤较薄的区域，如翅膀和耳朵，涂上更红的颜色，并稍微用较亮的颜色突出了一些躯干和腿部的肌肉。我在Project
    Paint中开启了Occlude功能，但关闭了Normal和Cull功能，因为这些设置允许你即使在侧面角度下，也能平滑地绘制网格。在这个阶段，目标仅仅是大致确定你想要的颜色。
- en: Switching to GIMP
  id: totrans-72
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 切换到GIMP
- en: 'With my basic colors laid out, I needed more advanced painting tools to start
    blending colors and adding details. Thus, it was time to move to GIMP. I saved
    my texture in Blender as a *.tga* image (press F3 in the UV Image editor to save
    the active image). I then loaded the saved image in GIMP and began cleaning up
    and smoothing out the colors I had painted in Blender, fixing artifacts and filling
    in awkward areas. This process is best done with the Paintbrush tool, using a
    relatively large, soft-edged brush to simply color pick (use CTRL-click to do
    this without switching away from the Paintbrush tool) from existing colors and
    blend areas together (see [Figure 11-9](ch11.html#cleaning_up_our_texture_in_gimp_part_of
    "Figure 11-9. Cleaning up our texture in GIMP: part of the roughly painted texture
    created in Blender (left); after blending together and painting areas in GIMP
    (right)")). (Another way to blend colors is to use the Smudge tool and a grungy-looking
    brush, like the one we created earlier in this chapter, to blend back and forth
    between two areas, mixing their colors.)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在我布置好基础色彩后，我需要更高级的绘画工具来开始混合颜色并添加细节。因此，是时候转向 GIMP 了。我将纹理保存在 Blender 中，作为一个 *.tga*
    图像（在 UV 图像编辑器中按 F3 保存当前图像）。然后，我将保存的图像加载到 GIMP 中，开始清理并平滑我在 Blender 中绘制的颜色，修复伪影并填补不自然的区域。这个过程最好使用画笔工具，选择一个相对较大、柔软的画笔，通过简单地取色（按住
    CTRL 并点击，无需切换到其他工具）来混合颜色和区域（见 [图 11-9](ch11.html#cleaning_up_our_texture_in_gimp_part_of
    "图 11-9. 在 GIMP 中清理我们的纹理：在 Blender 中创建的粗略绘制纹理（左）；在 GIMP 中混合和绘制后的区域（右）")）。 （另一种混合颜色的方法是使用涂抹工具和一个看起来有些脏的画笔，比如我们在本章前面创建的那种，用来在两个区域之间来回涂抹，混合它们的颜色。）
- en: To add detail to my texture, I incorporated the ambient occlusion map I baked
    in [Chapter 10](ch10.html "Chapter 10. Texture Baking"). Using File▸Open as Layers,
    I opened my baked ambient occlusion map as a new layer on top of my painted texture.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 为了给我的纹理添加细节，我使用了我在[第 10 章](ch10.html "第 10 章. 纹理烘焙")中烘焙的环境光遮蔽图。通过文件▸以图层打开，我将烘焙的环境光遮蔽图作为新图层加载到我绘制的纹理上方。
- en: I cleaned up this layer a bit, as I had done for the rough diffuse color. For
    cleaning purposes, I used GIMP’s brushes and color picking, blending areas that
    didn’t look right with the Paint tool or using the Clone tool to fill in areas
    while preserving texture.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 我对这个图层进行了一些清理，就像我对粗略的漫反射颜色所做的那样。为了清理，我使用了 GIMP 的画笔和取色功能，使用画笔工具融合看起来不自然的区域，或者使用克隆工具在保留纹理的同时填补空白区域。
- en: Layer Modes and Opacity
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 图层模式和不透明度
- en: Initially, our ambient occlusion map is imported as a normal layer on top of
    the texture, completely replacing it. To rectify this, we can use GIMP’s layer-blending
    modes to find a more appropriate way to blend the two.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 最初，我们的环境光遮蔽图作为普通图层导入，完全覆盖了纹理。为了解决这个问题，我们可以使用 GIMP 的图层混合模式，找到一种更合适的方式将两者融合。
- en: 'GIMP’s Layers dialog shows each layer in your image (see [Figure 11-10](ch11.html#gimpapostrophes_layers_dialogdot_at_the
    "Figure 11-10. GIMP’s Layers dialog. At the top, Mode and Opacity set the layer-blending
    mode and opacity. Beneath these selections are options to lock the color and alpha
    of layers. Each layer has options to toggle its visibility and link layers (so
    that they stay aligned when moved, scaled, or rotated)."), with the Ambient Occlusion
    layer selected and its blend mode set to Multiply). At the top of the dialog,
    a drop-down menu lets you choose the Selected Layers blending mode. Different
    blending modes have different effects: *Normal* lays one over the other, *Multiply*
    multiplies the values of each pixel in the two layers together, and *Add* adds
    them together. The Overlay mode causes the layer to brighten or darken the layers
    below it, depending on its value—dark values make areas darker, light values make
    them lighter, and mid-gray has no effect. Experiment with a variety of layer modes
    when combining images to find the one that works best. To combine the ambient
    occlusion map with my painted colors, I set the mode to Multiply.'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP的图层对话框显示了图像中的每个图层（见[图11-10](ch11.html#gimpapostrophes_layers_dialogdot_at_the
    "图11-10. GIMP的图层对话框。顶部，模式和不透明度设置图层混合模式和不透明度。下方是锁定图层颜色和透明度的选项。每个图层都有切换其可见性和链接图层的选项（这样它们在移动、缩放或旋转时保持对齐)。"），其中选中了环境光遮蔽图层并将其混合模式设置为“正片叠底”）。在对话框的顶部，有一个下拉菜单允许你选择所选图层的混合模式。不同的混合模式有不同的效果：*正常*模式将一层叠加在另一层上，*正片叠底*将两层中每个像素的值相乘，*加法*将它们相加。叠加模式会根据图层的值使下方的图层变亮或变暗——深色值会使区域变暗，浅色值会使区域变亮，而中灰色则没有效果。在组合图像时，尝试各种图层模式，以找到最适合的模式。为了将环境光遮蔽图与我的绘制颜色合并，我将模式设置为“正片叠底”。
- en: '![Cleaning up our texture in GIMP: part of the roughly painted texture created
    in Blender (left); after blending together and painting areas in GIMP (right)](httpatomoreillycomsourcenostarchimages1538678.png.jpg)Figure 11-9. Cleaning
    up our texture in GIMP: part of the roughly painted texture created in Blender
    (left); after blending together and painting areas in GIMP (right)![GIMP’s Layers
    dialog. At the top, Mode and Opacity set the layer-blending mode and opacity.
    Beneath these selections are options to lock the color and alpha of layers. Each
    layer has options to toggle its visibility and link layers (so that they stay
    aligned when moved, scaled, or rotated).](httpatomoreillycomsourcenostarchimages1538680.png.jpg)Figure 11-10. GIMP’s
    Layers dialog. At the top, Mode and Opacity set the layer-blending mode and opacity.
    Beneath these selections are options to lock the color and alpha of layers. Each
    layer has options to toggle its visibility and link layers (so that they stay
    aligned when moved, scaled, or rotated).'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '![在GIMP中清理我们的纹理：在Blender中粗略绘制的纹理部分（左）；在GIMP中合并和绘制后的区域（右）](httpatomoreillycomsourcenostarchimages1538678.png.jpg)图11-9.
    在GIMP中清理我们的纹理：在Blender中粗略绘制的纹理部分（左）；在GIMP中合并和绘制后的区域（右）![GIMP的图层对话框。顶部，模式和不透明度设置图层混合模式和不透明度。下方是锁定图层颜色和透明度的选项。每个图层都有切换其可见性和链接图层的选项（这样它们在移动、缩放或旋转时保持对齐）。](httpatomoreillycomsourcenostarchimages1538680.png.jpg)图11-10.
    GIMP的图层对话框。顶部，模式和不透明度设置图层混合模式和不透明度。下方是锁定图层颜色和透明度的选项。每个图层都有切换其可见性和链接图层的选项（这样它们在移动、缩放或旋转时保持对齐）。'
- en: 'You can control how much one layer blends with another with the layer’s Opacity
    setting (see [Figure 11-10](ch11.html#gimpapostrophes_layers_dialogdot_at_the
    "Figure 11-10. GIMP’s Layers dialog. At the top, Mode and Opacity set the layer-blending
    mode and opacity. Beneath these selections are options to lock the color and alpha
    of layers. Each layer has options to toggle its visibility and link layers (so
    that they stay aligned when moved, scaled, or rotated).")). Because my Ambient
    Occlusion layer darkened the underlying texture quite a lot, I reduced its opacity
    to about 40 percent. The result of the ambient occlusion layer at this opacity
    is shown at the top left of [Figure 11-11](ch11.html#incorporating_the_ambient_occlusion_map
    "Figure 11-11. Incorporating the ambient occlusion map into our texture. Top left:
    The ambient occlusion texture multiplied over the rough diffuse texture at 40
    percent opacity, before any alteration. Bottom: Adjusting the colors of the ambient
    occlusion map with the Curves tool, to make it redder. Top right: The reddened
    ambient occlusion map multiplied over the diffuse texture at 40 percent opacity.").'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过图层的不透明度设置控制一个图层与另一个图层的混合程度（见[图11-10](ch11.html#gimpapostrophes_layers_dialogdot_at_the
    "图11-10. GIMP图层对话框。顶部，模式和不透明度设置图层的混合模式和不透明度。下方是锁定图层颜色和透明度的选项。每个图层都有切换其可见性和链接图层的选项（以便在移动、缩放或旋转时保持对齐）。")）。由于我的环境光遮蔽层使底层纹理变得非常暗，因此我将其不透明度降低到大约40%。环境光遮蔽层在此不透明度下的效果，如[图11-11](ch11.html#incorporating_the_ambient_occlusion_map
    "图11-11. 将环境光遮蔽图层融入我们的纹理中。左上：环境光遮蔽纹理以40%不透明度叠加在粗糙的漫反射纹理上，未做任何修改。下方：使用曲线工具调整环境光遮蔽图层的颜色，使其更偏红。右上：将偏红的环境光遮蔽图层以40%不透明度叠加在漫反射纹理上。")中左上所示。
- en: Adjusting Colors
  id: totrans-81
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 调整颜色
- en: GIMP has a variety of tools for manipulating the colors of an image, both from
    its wide array of filters and from the Colors menu. For example, you can adjust
    the exposure of an image—its hue and saturation—and the brightness of each channel
    using curves or sliders, among a wealth of other options.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: GIMP提供了多种工具来处理图像的颜色，既有丰富的滤镜，也有**颜色**菜单中的多种选项。例如，你可以调整图像的曝光度、色调和饱和度，使用曲线或滑块调整每个通道的亮度，还有许多其他选项可以使用。
- en: 'At the moment, our texture for the Bat Creature looks rather gray because the
    black-and-white ambient occlusion texture is multiplied on top. To fix this, we
    can adjust the curves on the Ambient Occlusion layer to introduce some more red,
    making the shadows more saturated and redder. To do so, take the following steps:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，我们的蝙蝠生物纹理看起来相当灰，因为黑白的环境光遮蔽纹理叠加在其上。为了解决这个问题，我们可以调整环境光遮蔽层的曲线，加入更多的红色，使阴影更加饱和且偏红。为此，按照以下步骤操作：
- en: Choose **Colors**▸**Curves** with the Ambient Occlusion layer selected, which
    brings up the Curves dialog.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在选中环境光遮蔽层后，选择**颜色**▸**曲线**，此时会弹出曲线对话框。
- en: '![Incorporating the ambient occlusion map into our texture. Top left: The ambient
    occlusion texture multiplied over the rough diffuse texture at 40 percent opacity,
    before any alteration. Bottom: Adjusting the colors of the ambient occlusion map
    with the Curves tool, to make it redder. Top right: The reddened ambient occlusion
    map multiplied over the diffuse texture at 40 percent opacity.](httpatomoreillycomsourcenostarchimages1538682.png.jpg)Figure 11-11. Incorporating
    the ambient occlusion map into our texture. Top left: The ambient occlusion texture
    multiplied over the rough diffuse texture at 40 percent opacity, before any alteration.
    Bottom: Adjusting the colors of the ambient occlusion map with the Curves tool,
    to make it redder. Top right: The reddened ambient occlusion map multiplied over
    the diffuse texture at 40 percent opacity.'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![将环境光遮蔽图层融入我们的纹理中。左上：环境光遮蔽纹理以40%不透明度叠加在粗糙的漫反射纹理上，未做任何修改。下方：使用曲线工具调整环境光遮蔽图层的颜色，使其更偏红。右上：将偏红的环境光遮蔽图层以40%不透明度叠加在漫反射纹理上。](httpatomoreillycomsourcenostarchimages1538682.png.jpg)图11-11.
    将环境光遮蔽图层融入我们的纹理中。左上：环境光遮蔽纹理以40%不透明度叠加在粗糙的漫反射纹理上，未做任何修改。下方：使用曲线工具调整环境光遮蔽图层的颜色，使其更偏红。右上：将偏红的环境光遮蔽图层以40%不透明度叠加在漫反射纹理上。'
- en: This lets you modify the values of each channel (red, green, blue, and alpha)
    in an image using a curve function.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这让你可以通过曲线函数修改图像中每个通道（红色、绿色、蓝色和透明度）的值。
- en: 'To add red to the darker portions of the image, select the red channel from
    the Channel dropdown menu, grab the bottom left point of the curve, and drag it
    upward (see [Figure 11-11](ch11.html#incorporating_the_ambient_occlusion_map "Figure 11-11. Incorporating
    the ambient occlusion map into our texture. Top left: The ambient occlusion texture
    multiplied over the rough diffuse texture at 40 percent opacity, before any alteration.
    Bottom: Adjusting the colors of the ambient occlusion map with the Curves tool,
    to make it redder. Top right: The reddened ambient occlusion map multiplied over
    the diffuse texture at 40 percent opacity."), bottom).'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在图像的暗部添加红色，选择通道下拉菜单中的红色通道，抓住曲线的左下角点并将其向上拖动（见[图11-11](ch11.html#incorporating_the_ambient_occlusion_map
    "图11-11. 将环境光遮蔽图像融入我们的纹理中。左上：环境光遮蔽纹理以 40% 不透明度叠加在粗糙的漫反射纹理上，未做任何调整。下方：使用曲线工具调整环境光遮蔽图像的颜色，使其变红。右上：红色化的环境光遮蔽图像以
    40% 不透明度叠加在漫反射纹理上。")，下方）。
- en: 'Click **OK** to apply the curves, and the ambient occlusion map now gives nice
    saturated crevices and shadowed areas to the skin (see [Figure 11-11](ch11.html#incorporating_the_ambient_occlusion_map
    "Figure 11-11. Incorporating the ambient occlusion map into our texture. Top left:
    The ambient occlusion texture multiplied over the rough diffuse texture at 40
    percent opacity, before any alteration. Bottom: Adjusting the colors of the ambient
    occlusion map with the Curves tool, to make it redder. Top right: The reddened
    ambient occlusion map multiplied over the diffuse texture at 40 percent opacity."),
    top right).'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**以应用曲线，现在环境光遮蔽图像为皮肤提供了漂亮的饱和裂缝和阴影区域（见[图11-11](ch11.html#incorporating_the_ambient_occlusion_map
    "图11-11. 将环境光遮蔽图像融入我们的纹理中。左上：环境光遮蔽纹理以 40% 不透明度叠加在粗糙的漫反射纹理上，未做任何调整。下方：使用曲线工具调整环境光遮蔽图像的颜色，使其变红。右上：红色化的环境光遮蔽图像以
    40% 不透明度叠加在漫反射纹理上。")，右上）。
- en: Saving and Exporting Back to Blender
  id: totrans-89
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 保存并导出回 Blender
- en: The texture isn’t finished yet, but it’s important to save often, and doing
    so can be a useful way to see how our current work-in-progress texture looks in
    Blender on the model. GIMP distinguishes between saving (CTRL-S) in its native
    *.xcf* format, which preserves layers and other information, and exporting images
    to other formats, such as .*jpg* or .*tga* (CTRL-E). We need to do both so that
    we have the GIMP file with all its layers available for further editing as well
    as an image that we can use in Blender.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 纹理还没有完成，但重要的是要经常保存，做到这一点可以帮助我们查看当前在 Blender 中的工作进度纹理效果。GIMP 区分保存（CTRL-S）为其本地的
    *.xcf* 格式，这会保留图层和其他信息，以及将图像导出为其他格式，如 .*jpg* 或 .*tga*（CTRL-E）。我们需要做两者，这样就可以保留包含所有图层的
    GIMP 文件以便进一步编辑，同时又能得到一个可以在 Blender 中使用的图像。
- en: First, I saved my image as a *.xcf* file, and then I exported it as a *.tga*
    image. To open this image in Blender, I selected my Bat Creature object, switched
    to Edit mode, and in the UV Image editor, used Image▸Replace Image to swap the
    old, roughly painted texture for the new one. (Remember to do this for the material,
    too—though if you used the same image for the texture as you applied to the mesh,
    it should update automatically.) You should then see your updated texture on your
    mesh. You could now start painting in Blender again, but I opted to stay in GIMP
    for the moment.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我将图像保存为 *.xcf* 文件，然后将其导出为 *.tga* 图像。为了在 Blender 中打开此图像，我选择了我的 Bat Creature
    对象，切换到编辑模式，在 UV 图像编辑器中，使用“图像▸替换图像”将旧的、粗略绘制的纹理替换为新的纹理。（记得也要为材质做这一步——不过如果你对网格应用的纹理使用了相同的图像，它应该会自动更新。）接下来，你应该能看到更新后的纹理应用在网格上。你现在可以在
    Blender 中继续绘制，但我选择暂时留在 GIMP 中。
- en: Adding Details
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 添加细节
- en: Back in GIMP, with our ambient occlusion now working well alongside our painted
    texture, we can start adding more details. I used a mix of hand painting and photographic
    textures.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 回到 GIMP，随着我们的环境光遮蔽效果与手绘纹理搭配得很好，我们可以开始添加更多的细节。我使用了手绘和摄影纹理的混合方式。
- en: To start, it’s handy to build up some texture using photos, followed by adjusting
    and supplementing the existing texture with some hand painting. To that end, I
    grabbed some elephant-skin photos from CGTextures, with some wrinkles and skin
    texture that complemented my texture nicely. I opened them as layers in my texture
    image file and scaled them so that the scale of the wrinkles in the texture roughly
    matched those of the Bat Creature.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，使用照片建立一些纹理是非常方便的，然后通过手绘调整和补充现有的纹理。为此，我从 CGTextures 上获取了一些大象皮肤的照片，照片中的褶皱和皮肤纹理与我的纹理非常契合。我将它们作为图层打开到我的纹理图像文件中，并将它们缩放到纹理中的褶皱比例大致与蝙蝠生物的褶皱相匹配。
- en: I used the Move tool to spread out the textures on my image, knowing that their
    precise placement wouldn’t be important for the time being. I then created a new
    layer (SHIFT-CTRL-N or Layer▸New Layer) and set its blending mode to Overlay.
    Next, by dragging the layer’s icon in the Layers dialog up or down, I placed it
    between my original color texture and my Ambient Occlusion layer in the layers
    stack.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用移动工具（Move tool）将纹理分布到我的图像上，知道它们的精确位置暂时并不重要。接着，我创建了一个新图层（SHIFT-CTRL-N 或者在图层菜单中选择
    Layer▸New Layer），并将其混合模式设置为叠加（Overlay）。然后，我通过在图层对话框中上下拖动图层的图标，将它放置在原始的颜色纹理和环境遮挡（Ambient
    Occlusion）图层之间。
- en: Using the Clone tool (**C**), I first set the clone source (CTRL-click) to one
    of the skin textures, making sure it was selected in the Layers dialog first.
    Then, I switched to my new layer and began cloning the skin texture in various
    areas (see [Figure 11-12](ch11.html#cloning_in_texture_from_photographs_with "Figure 11-12. Cloning
    in texture from photographs with the Clone tool. I added the photograph as a new
    layer; then, on yet another new layer (set to Overlay), I cloned from the photo
    to create some skin detail for my texture.")). I frequently switched between the
    different skin textures to find areas that would suit the different parts of my
    creature’s skin. I also used the Flip (SHIFT-F) and Rotate (SHIFT-R) tools to
    flip and rotate the skin images to see whether they worked better in different
    orientations before cloning. To get at areas hidden by the skin images, I toggled
    their visibility using the eye icon in the Layers dialog or simply moved them
    to one side with the Move tool.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 使用克隆工具（**C**），我首先设置克隆源（CTRL-点击）为其中一个皮肤纹理，确保它在图层对话框中已被选中。接着，我切换到我的新图层，开始在不同的区域克隆皮肤纹理（参见[图11-12](ch11.html#cloning_in_texture_from_photographs_with
    "图11-12. 从照片中克隆纹理。将照片作为新图层添加；然后，在另一个新的图层（设置为叠加模式）中，我从照片中克隆出皮肤细节，为我的纹理创造一些细节。")）。我频繁切换不同的皮肤纹理，寻找适合生物皮肤不同部位的区域。我还使用翻转（SHIFT-F）和旋转（SHIFT-R）工具来翻转和旋转皮肤图像，以查看它们在不同方向下是否效果更好，然后再进行克隆。为了处理被皮肤图像遮挡的区域，我使用图层对话框中的眼睛图标切换它们的可见性，或者简单地用移动工具将它们移到一边。
- en: With a first layer of detail built up from photo images, I hid the photo textures
    and started working on some hand-painted details (see [Figure 11-13](ch11.html#some_close-ups_of_hand-painted_details
    "Figure 11-13. Some close-ups of hand-painted details")). First, I added some
    veins to the wings on a new layer using the Paintbrush tool and a soft-edged brush.
    Next (on another new layer), I added some spots to the skin in areas like the
    shoulders, temples, and back in both darker and lighter colors. The Grunge brush
    I used earlier works well for this with the spacing (found in the Brushes dialog)
    turned up higher, as does a simple, small, hard-edged brush for painting specific
    spots. Keeping different kinds of details on different layers makes it easy to
    mix and combine them in different ways and comes in handy when creating specular
    and other kinds of maps.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在从照片图像建立了第一层细节后，我隐藏了照片纹理，并开始绘制一些手绘细节（参见[图11-13](ch11.html#some_close-ups_of_hand-painted_details
    "图11-13. 一些手绘细节的特写")）。首先，我在一个新图层上使用画笔工具和柔边刷子给翅膀上添加了一些血管。接着（在另一个新图层上），我在肩膀、太阳穴和背部等区域添加了一些斑点，使用了深色和浅色的组合。我之前使用的脏刷（Grunge
    brush）非常适合这种效果，将刷子的间距（在画笔对话框中设置）调高一些就能达到很好的效果，另外一个简单的小硬边画笔也能很好地用来绘制特定的斑点。将不同种类的细节放在不同的图层上，使得它们可以以不同的方式混合和组合，而且在创建镜面和其他类型的贴图时也非常方便。
- en: Nails and Teeth
  id: totrans-98
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 指甲和牙齿
- en: The nails and teeth of the Bat Creature are included in the same UV map as the
    body. For the nails, I painted a dark purplish color with some brighter yellowish
    highlights. For the teeth, I used a yellow color with some brown near where the
    teeth would meet the gums, as shown in [Figure 11-14](ch11.html#nails_and_teeth-id00019
    "Figure 11-14. The nails and teeth").
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 蝙蝠生物的指甲和牙齿与身体在同一个UV图中。对于指甲，我涂上了深紫色，并加入了一些较亮的黄色高光。对于牙齿，我使用了黄色，并在牙齿与牙龈接触的地方加了些许棕色，如[图
    11-14](ch11.html#nails_and_teeth-id00019 "图 11-14. 指甲和牙齿")所示。
- en: '![Cloning in texture from photographs with the Clone tool. I added the photograph
    as a new layer; then, on yet another new layer (set to Overlay), I cloned from
    the photo to create some skin detail for my texture.](httpatomoreillycomsourcenostarchimages1538684.png.jpg)Figure 11-12. Cloning
    in texture from photographs with the Clone tool. I added the photograph as a new
    layer; then, on yet another new layer (set to Overlay), I cloned from the photo
    to create some skin detail for my texture.![Some close-ups of hand-painted details](httpatomoreillycomsourcenostarchimages1538686.png.jpg)Figure 11-13. Some
    close-ups of hand-painted details![The nails and teeth](httpatomoreillycomsourcenostarchimages1538688.png.jpg)Figure 11-14. The
    nails and teeth'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用克隆工具从照片中克隆纹理。我将照片添加为新图层；然后，在另一个新图层（设置为叠加模式）上，我从照片中克隆出一些皮肤细节以加入到我的纹理中。](httpatomoreillycomsourcenostarchimages1538684.png.jpg)
    图 11-12. 使用克隆工具从照片中克隆纹理。我将照片添加为新图层；然后，在另一个新图层（设置为叠加模式）上，我从照片中克隆出一些皮肤细节以加入到我的纹理中。![一些手绘细节的特写](httpatomoreillycomsourcenostarchimages1538686.png.jpg)
    图 11-13. 一些手绘细节的特写![指甲和牙齿](httpatomoreillycomsourcenostarchimages1538688.png.jpg)
    图 11-14. 指甲和牙齿'
- en: Fixing Seams
  id: totrans-101
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 修复接缝
- en: With my texture for the skin nice and detailed, I headed back to Blender to
    check that it worked okay and then started fixing any seams in the texture. To
    do this, I exported my skin texture from GIMP and replaced the old skin texture
    in Blender with the new exported version.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 当我的皮肤纹理细节做得很到位时，我回到Blender中检查它的效果是否正常，然后开始修复纹理中的任何接缝。为此，我将我的皮肤纹理从GIMP导出，并用新导出的版本替换Blender中旧的皮肤纹理。
- en: 'There were bound to be some artifacts in the texture along UV seams, where
    I had painted over the edges of a UV island in GIMP. To fix these, use Blender’s
    Quick Edit feature:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在UV接缝处，纹理中肯定会出现一些伪影，尤其是在我使用GIMP涂抹过UV岛的边缘时。要修复这些伪影，可以使用Blender的快速编辑功能：
- en: To fix a seam on one part of your model, navigate the 3D view to an angle where
    the seam is clearly visible.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要修复模型某个部分的接缝，将3D视图调整到接缝清晰可见的角度。
- en: To make sure that no shading is visible on screen, set the viewpoint display
    mode to **GLSL** and set the material to **Shadeless** in the Materials tab of
    the Properties editor.
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确保屏幕上没有可见的阴影，将视点显示模式设置为**GLSL**，并在属性编辑器的材质选项卡中将材质设置为**无阴影**。
- en: 'In Texture Paint mode, set the Quick Edit resolution to **1024** and click
    **Quick Edit** from the Tool Shelf (see [Figure 11-15](ch11.html#exporting_a_screenshot_to_paint_over_in
    "Figure 11-15. Exporting a screenshot to paint over in GIMP with Quick Edit: the
    area with a seam in Blender 1; the view exported from Blender to GIMP with Quick
    Edit and painted over on a new layer 2; the new layer on its own, which will be
    saved over the original export 3; and the exported image applied to the texture,
    back in Blender, using the Apply operator 4") 2). This opens a screenshot of that
    view in GIMP, which we can then start painting over.'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在纹理绘制模式下，将快速编辑分辨率设置为**1024**，然后从工具架中点击**快速编辑**（参见[图 11-15](ch11.html#exporting_a_screenshot_to_paint_over_in
    "图 11-15. 使用快速编辑在GIMP中涂抹截图：在Blender中显示接缝的区域 1；从Blender导出到GIMP并在新图层上涂抹 2；新图层本身，稍后将覆盖原始导出
    3；在Blender中使用应用操作符将导出的图像应用到纹理上 4") 2)）。这会在GIMP中打开该视角的截图，我们可以开始在上面进行涂抹。
- en: For best results, scale up the screenshot in GIMP, using **Image**▸**Image Size**,
    and set the new size to **2048**. Then, create a new transparent layer on which
    we will fix the seam (the reason for this will become clear shortly).
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了获得最佳效果，在GIMP中放大截图，使用**图像**▸**图像大小**，将新大小设置为**2048**。然后，创建一个新的透明图层，我们将在上面修复接缝（原因稍后会解释）。
- en: Using the **Clone** tool, start cloning from the layer below to cover the seam;
    the Grunge brush shape works well for this. (Turning on **Sample Merged** in the
    tool options will let you sample from all layers when you set the source, rather
    than having to switch layers first.)
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**克隆**工具，从下方的图层开始克隆，覆盖接缝；使用脏乱刷的形状效果很好。（在工具选项中打开**合并取样**，可以在设置源时从所有图层进行取样，而不必先切换图层。）
- en: With the seam painted out, disable the original layer, leaving only the newly
    painted layer that covers the seam. Use CTRL-E to export the image and save over
    the original exported image from Blender.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在接缝涂抹完成后，禁用原始图层，仅保留覆盖接缝的新增涂抹图层。使用 CTRL-E 导出图像，并覆盖从 Blender 导出的原始图像。
- en: 'Back in Blender, click **Apply** to apply the painted-over image to your texture
    (see [Figure 11-15](ch11.html#exporting_a_screenshot_to_paint_over_in "Figure 11-15. Exporting
    a screenshot to paint over in GIMP with Quick Edit: the area with a seam in Blender
    1; the view exported from Blender to GIMP with Quick Edit and painted over on
    a new layer 2; the new layer on its own, which will be saved over the original
    export 3; and the exported image applied to the texture, back in Blender, using
    the Apply operator 4") 4). Because you saved only the areas of the image that
    covered the seam, only these areas are replaced. Repeat this process for any further
    seams on your model and then save the new fixed texture as a new image.'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回到 Blender，点击**应用**将涂抹后的图像应用到你的纹理上（参见[图11-15](ch11.html#exporting_a_screenshot_to_paint_over_in
    "图11-15. 在 GIMP 中快速编辑并涂抹：Blender 中接缝所在的区域 1；从 Blender 导出到 GIMP 的视图，并在新图层上进行涂抹
    2；新图层独立显示，将保存覆盖原始导出 3；在 Blender 中使用应用操作将涂抹后的图像应用到纹理 4") 4）。因为你只保存了覆盖接缝的区域，所以只有这些区域被替换。对于模型上的其他接缝，重复这个过程，然后将修复后的新纹理保存为新图像。
- en: Reconciling Fixed Seams and Layered Images
  id: totrans-111
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 合并修复接缝和分层图像
- en: 'This process fixed my seams, but because I fixed the texture in Blender, I
    had only a single-layer image as a result. To get back to a layered format, I
    opened the corrected image in GIMP as a new layer in my texture file, on top of
    my other layers. I wanted to be able to keep my old layers visible where possible,
    so I needed to mask this layer to show through only in those areas where I fixed
    the seams. To accomplish this, do the following:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程修复了我的接缝，但因为我在 Blender 中修复了纹理，结果只得到了一个单层图像。为了恢复到分层格式，我将修正后的图像作为新图层打开到我的纹理文件中，放在其他图层之上。我希望尽可能保留我的旧图层可见，因此需要给这个图层加上蒙版，只在修复接缝的区域显示。为了实现这一点，请执行以下操作：
- en: Set the new fixed layer’s blend mode to **Difference** in the Layers dialog.
    The result of this blend mode is the difference between the colors on this layer
    and the pixels below, meaning that different areas look bright and unchanged areas
    remain black. Overall, it may look very dark at the moment because the differences
    are slight, but you’ll fix that shortly. You can use the result as the basis for
    a mask that shows only the fixed parts of the new layer.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在图层对话框中，将新修复图层的混合模式设置为**差异**。这个混合模式的结果是该图层与下方像素的颜色差异，这意味着不同区域看起来很亮，而未改变的区域保持黑色。总体来说，结果可能看起来非常暗，因为差异很小，但你很快就能解决这个问题。你可以将此结果作为蒙版的基础，显示新图层中仅修复的部分。
- en: Right-click on the top layer in the Layers dialog and select **New Layer from
    Visible**. This creates a new layer that is a composite of all the layers below,
    merged into one. In our case, this is the difference between the fixed layer and
    the original layered image. Using the Levels tool (**Colors**▸**Levels**), you
    can increase the values of this layer to create something we can use as a mask.
    The Levels tool takes the current layer as the input and uses the settings you
    provide to adjust the values of the layer. You simply want to take any pixels
    that aren’t 100 percent black—areas where the fixed image differs from the original—and
    make them white. To do this, set the right-hand endpoint of the input gradient
    so that it’s close to the left-hand end by dragging it to the left (see [Figure 11-16](ch11.html#altering_the_values_of_a_layer_with_the
    "Figure 11-16. Altering the values of a layer with the Levels tool. Note how the
    handles for the input levels have been bunched up at the left side of the graph
    to increase the brightness of all but the darkest values to white.")) and click
    **OK**.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在图层对话框中右键点击顶部图层并选择**从可见图层创建新图层**。这将创建一个新的图层，它是下方所有图层的合成，合并为一个。在我们的案例中，这就是修复图层与原始图层之间的差异。使用“色阶”工具（**颜色**▸**色阶**），你可以增加这个图层的值，从而创建我们可以作为蒙版使用的东西。色阶工具将当前图层作为输入，并使用你提供的设置来调整图层的值。你只需要将所有不是100%黑色的像素——即修复图像与原始图像不同的区域——变成白色。为此，将输入渐变的右端点拖动到接近左端（参见[图
    11-16](ch11.html#altering_the_values_of_a_layer_with_the "图 11-16. 使用色阶工具调整图层的值。注意输入级别的滑块如何集中在图表的左侧，以便将除最暗值之外的所有亮度增加为白色。")），然后点击**确定**。
- en: The results may look slightly noisy and have some odd-looking colors, but the
    colors don’t matter because we’ll be using only the brightness of this layer as
    a mask. To smooth things out a bit, use the Gaussian Blur filter (**Filters**▸**Blur**▸**Gaussian
    Blur**) to blur the layer by about 10 pixels.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果可能看起来有些噪点并且颜色奇怪，但颜色并不重要，因为我们将仅使用该图层的亮度作为蒙版。为了平滑效果，可以使用高斯模糊滤镜（**滤镜**▸**模糊**▸**高斯模糊**）将图层模糊大约10像素。
- en: Next, copy this new merged layer and use it as a mask for the fixed texture.
    Press CTRL-A to select all and CTRL-C to copy the layer to the clipboard.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，复制这个新的合并图层，并将其用作修复过的纹理的蒙版。按 CTRL-A 全选，然后按 CTRL-C 将图层复制到剪贴板。
- en: '![Exporting a screenshot to paint over in GIMP with Quick Edit: the area with
    a seam in Blender 1; the view exported from Blender to GIMP with Quick Edit and
    painted over on a new layer 2; the new layer on its own, which will be saved over
    the original export 3; and the exported image applied to the texture, back in
    Blender, using the Apply operator 4](httpatomoreillycomsourcenostarchimages1538690.png.jpg)Figure 11-15. Exporting
    a screenshot to paint over in GIMP with Quick Edit: the area with a seam in Blender
    1; the view exported from Blender to GIMP with Quick Edit and painted over on
    a new layer 2; the new layer on its own, which will be saved over the original
    export 3; and the exported image applied to the texture, back in Blender, using
    the Apply operator 4![Altering the values of a layer with the Levels tool. Note
    how the handles for the input levels have been bunched up at the left side of
    the graph to increase the brightness of all but the darkest values to white.](httpatomoreillycomsourcenostarchimages1538692.png.jpg)Figure 11-16. Altering
    the values of a layer with the Levels tool. Note how the handles for the input
    levels have been bunched up at the left side of the graph to increase the brightness
    of all but the darkest values to white.'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '![导出截图以便在 GIMP 中进行快速编辑：Blender 中的接缝区域 1；从 Blender 导出到 GIMP 进行快速编辑并在新图层上绘制 2；单独的新图层，将覆盖原始导出的图像
    3；导出的图像应用于纹理，返回 Blender 使用应用操作符 4](httpatomoreillycomsourcenostarchimages1538690.png.jpg)图
    11-15. 导出截图以便在 GIMP 中进行快速编辑：Blender 中的接缝区域 1；从 Blender 导出到 GIMP 进行快速编辑并在新图层上绘制
    2；单独的新图层，将覆盖原始导出的图像 3；导出的图像应用于纹理，返回 Blender 使用应用操作符 4![使用色阶工具调整图层的值。注意输入级别的滑块如何集中在图表的左侧，以便将除最暗值之外的所有亮度增加为白色。](httpatomoreillycomsourcenostarchimages1538692.png.jpg)图
    11-16. 使用色阶工具调整图层的值。注意输入级别的滑块如何集中在图表的左侧，以便将除最暗值之外的所有亮度增加为白色。'
- en: Disable the merged layer’s visibility in the Layers dialog and set the Blend
    mode for the fixed layer back to **Normal**. Then, to add a layer mask to the
    fixed layer, right-click on it and choose **Add Layer Mask**. Choose white as
    the color of the layer mask and then click **Add** to create it.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在图层对话框中禁用合并层的可见性，并将固定图层的混合模式恢复为**正常**。然后，为了向固定图层添加图层蒙版，右键点击它并选择**添加图层蒙版**。选择白色作为图层蒙版的颜色，然后点击**添加**来创建它。
- en: Press CTRL-V to paste in the mask we created from the merged layer as a “floating”
    layer—one you can continue working on and moving around before anchoring it and
    applying it to the layer you pasted it into. Since we don’t need to make any changes
    to it, press CTRL-H to anchor it.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按CTRL-V将我们从合并层创建的蒙版粘贴为“浮动”层——你可以继续在其上工作并移动，直到固定它并将其应用到你粘贴它的图层上。由于我们不需要对其进行任何更改，按CTRL-H将其固定。
- en: Our fixed image is now masked so that only the areas that differ from the original
    texture show over the layers below. This more or less completes the creation of
    our diffuse texture (see [Figure 11-17](ch11.html#finished_diffuse_texture "Figure 11-17. The
    finished diffuse texture")), so save the image as an *.xcf* file and export a
    new *.tga* image of the diffuse texture.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的固定图像现在已经被蒙版处理，这样只有与原始纹理不同的区域会显示在下面的层上。这基本上完成了我们漫反射纹理的创建（参见[图 11-17](ch11.html#finished_diffuse_texture
    "图 11-17. 完成的漫反射纹理")），所以请将图像保存为*.xcf*文件，并导出一个新的*.tga*漫反射纹理图像。
- en: Layer Masks
  id: totrans-121
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 图层蒙版
- en: A *layer mask* is a black-and-white image that determines how a layer in GIMP
    mixes with the layer below it. White areas are applied 100 percent if the overall
    opacity of the layer is also 100 percent (otherwise the two are multiplied together),
    black areas are completely masked out, and values in between blend between the
    two extremes.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '*图层蒙版*是一个黑白图像，用于确定GIMP中一个图层如何与下面的图层混合。如果图层的整体不透明度为100％，则白色区域会完全显示（否则两者会相乘），黑色区域会被完全遮罩，介于两者之间的值会在两个极端之间混合。'
- en: When you add a mask to a layer (as we did above), it appears to the right of
    that layer’s thumbnail in the Layers dialog. To edit the new layer mask, click
    its thumbnail, and you can paint on it just as you would on a normal layer (except
    that it allows only black and white values, so tools and filters that work with
    RGB colors are not available).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 当你给图层添加蒙版时（如上所示），它会出现在图层缩略图的右侧。在图层对话框中点击其缩略图，你可以像在正常图层上那样对其进行绘制（只不过它只能使用黑白值，因此不能使用处理RGB颜色的工具和滤镜）。
- en: Click the thumbnail for the layer to go back to painting normally (the thumbnail
    of the active layer or mask is outlined in white). You can apply the effect of
    a layer mask by right-clicking the layer in the Layers dialog and choosing **Apply
    Layer Mask**. This will apply the mask to the layer itself, making masked areas
    transparent.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 点击图层的缩略图以返回到正常绘画模式（活动图层或蒙版的缩略图会被白色轮廓框住）。你可以通过右键单击图层并选择**应用图层蒙版**来应用图层蒙版的效果。这将把蒙版应用到图层本身，使蒙版区域变为透明。
- en: Creating Specular and Hardness Textures
  id: totrans-125
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建镜面反射和硬度纹理
- en: 'With our diffuse texture painted and the seams cleared up, it’s time to create
    our specular and hardness textures. The *specular texture* defines the color and
    intensity of our creature’s specular reflections: Dark areas will look matte,
    and bright areas will look shiny. The *hardness map* determines how soft the highlights
    are: Low values create soft, spreadout reflections, and high values create smaller,
    more intense highlights.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的漫反射纹理绘制完毕且接缝清理好之后，是时候创建我们的镜面反射和硬度纹理了。*镜面反射纹理*定义了我们生物镜面反射的颜色和强度：暗区看起来会是哑光的，亮区则会显得光滑。*硬度贴图*决定了高光的软硬程度：低值创建柔和、扩散的反射，而高值则创建更小、更强烈的高光。
- en: To create these textures, we can duplicate and modify the layers of the diffuse
    map. We’ll work in the same GIMP *.xcf* file to create these textures, which will
    give us ready access to the layers we’ve already created.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建这些纹理，我们可以复制并修改漫反射贴图的图层。我们将在同一个GIMP*.xcf*文件中创建这些纹理，这样我们就能方便地访问已经创建的图层。
- en: Layer Groups
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 图层组
- en: 'To make it easier to manage creating specular and hardness textures, I used
    *layer groups* to organize my layers. Layer groups allow you to group layers and
    expand and collapse those groups in the Layers dialog, making it simpler to keep
    things organized. To create a layer group, right-click on a layer in the Layers
    dialog, and choose **New Layer Group** or click the folder icon at the bottom
    of the dialog. You can then drag other layers onto the group layer to assign them
    to the group. To organize my textures for the Bat Creature, I created three layer
    groups: one for the diffuse texture, one for my specular texture, and one for
    hardness (see [Figure 11-18](ch11.html#organizing_layers_with_layer_groups "Figure 11-18. Organizing
    layers with Layer Groups")).'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更方便地管理创建镜面反射和硬度纹理，我使用了*图层组*来组织我的图层。图层组允许你将图层分组，并在图层对话框中展开和折叠这些组，从而使得保持整洁变得更加简单。要创建图层组，右键点击图层对话框中的一个图层，然后选择**新建图层组**，或者点击对话框底部的文件夹图标。然后，你可以将其他图层拖动到该组图层上，将它们分配到该组。为了组织我的蝙蝠生物的纹理，我创建了三个图层组：一个用于漫反射纹理，一个用于镜面反射纹理，另一个用于硬度纹理（参见[图
    11-18](ch11.html#organizing_layers_with_layer_groups "图 11-18. 使用图层组组织图层")）。
- en: '![The finished diffuse texture](httpatomoreillycomsourcenostarchimages1538694.png.jpg)Figure 11-17. The
    finished diffuse texture![Organizing layers with Layer Groups](httpatomoreillycomsourcenostarchimages1538696.png.jpg)Figure 11-18. Organizing
    layers with Layer Groups'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '![完成的漫反射纹理](httpatomoreillycomsourcenostarchimages1538694.png.jpg)图 11-17.
    完成的漫反射纹理![使用图层组组织图层](httpatomoreillycomsourcenostarchimages1538696.png.jpg)图 11-18.
    使用图层组组织图层'
- en: Specular Map
  id: totrans-131
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 镜面反射贴图
- en: 'For the specular map, I first created a new layer from the visible layers (Layer▸New
    Layer from Visible) and placed it in the layer group for my specular map. I inverted
    the colors of the texture (Colors▸Invert) and then tweaked the levels (Colors▸Levels)
    to give the layer some more contrast. Next, I changed the color of the layer using
    Colors▸Hue and Saturation and shifted the Hue slider to give it a more bluish
    tint (see [Figure 11-19](ch11.html#creating_the_specular_map_by_tweaking_th "Figure 11-19. Creating
    the specular map by tweaking the diffuse map: diffuse map 1; invert colors 2;
    adjust levels, hue, and saturation 3; and paint extra details 4.") at 3). Although
    this already gave a pretty good specular texture, to get more variation, I duplicated
    the layers I created earlier for the diffuse map with speckles and spots on them
    and placed them in the layer group for the specular map, adjusting their colors
    appropriately.'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 对于镜面反射贴图，我首先从可见图层创建了一个新图层（图层▸从可见图层新建），并将其放入镜面反射贴图的图层组中。我反转了纹理的颜色（颜色▸反转），然后调整了色阶（颜色▸色阶），使图层的对比度更强。接着，我使用颜色▸色相和饱和度更改了图层的颜色，并将色相滑块调整为蓝色调（参见[图
    11-19](ch11.html#creating_the_specular_map_by_tweaking_th "图 11-19. 通过调整漫反射贴图创建镜面反射贴图：漫反射贴图
    1；反转颜色 2；调整色阶、色相和饱和度 3；绘制额外细节 4.")中的第3步）。虽然这已经产生了一个相当不错的镜面反射纹理，但为了获得更多的变化，我复制了之前为漫反射贴图创建的、带有斑点和污渍的图层，并将它们放入镜面反射贴图的图层组中，适当调整了它们的颜色。
- en: Next, I started tweaking some areas to get the right level of specularity. For
    example, I wanted the lips and the area around the eye to look moist and shiny,
    and I wanted the torso and arms to look more matte and dry. I could have started
    painting over using a basic brush, but doing so would have lost a lot of the texture
    I’d already worked to create. Instead, I was able to preserve some texture by
    using a different Brush mode. The Brush mode can be set from the Tool Options
    dialog. Brush modes have the same options (normal, multiply, addition, and so
    on) that Blend modes for layers have. A good way to tweak the values in an image
    without losing detail is to use the paintbrush with the Brush mode set to Overlay
    and to use black to darken areas and white to brighten them.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我开始调整一些区域，以获得正确的镜面反射度。例如，我希望嘴唇和眼睛周围的区域看起来湿润且闪亮，而希望躯干和手臂看起来更为哑光和干燥。我本可以开始使用基础画笔进行绘制，但那样会失去我已经制作好的许多纹理。相反，我使用了不同的画笔模式，从而能够保留一些纹理。画笔模式可以从工具选项对话框中设置。画笔模式具有与图层混合模式相同的选项（正常、正片叠底、加法等）。一种不失细节地调整图像值的好方法是使用画笔模式设置为“叠加”并使用黑色来加深区域，使用白色来提亮区域。
- en: In certain areas, I wanted to keep some texture while getting rid of very dark
    or light values, and here the Lighten Only and Darken Only brush modes came in
    handy. I used Darken Only and a midvalue color to get rid of overly bright areas
    without losing darker elements of the texture, and vice versa. [Figure 11-20](ch11.html#finished_specular_texture_left_parenthes
    "Figure 11-20. The finished specular texture (left) and hardness texture (right)")
    shows the finished specular texture.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些区域，我希望保留一些纹理，同时去除非常暗或非常亮的值，这时“仅变亮”和“仅变暗”画笔模式非常有用。我使用了“仅变暗”模式，并选取了一个中间色值，以去除过于明亮的区域，同时保留纹理的较暗部分，反之亦然。[图11-20](ch11.html#finished_specular_texture_left_parenthes
    "图11-20. 完成的高光纹理（左）和硬度纹理（右）")展示了完成的高光纹理。
- en: Hardness Map
  id: totrans-135
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 硬度图
- en: To create the hardness texture, I first made a New From Visible layer from the
    diffuse texture. (You can turn off the visibility of the specular texture layer
    group to make the diffuse texture visible again.) Next, I inverted the layer,
    adjusted the levels, and began tweaking by hand with the Paint tool, just as I
    did above. Because the hardness texture benefits from more variation, I created
    a new layer and painted in more speckles over the body (both lighter and darker
    ones). [Figure 11-20](ch11.html#finished_specular_texture_left_parenthes "Figure 11-20. The
    finished specular texture (left) and hardness texture (right)") also shows the
    finished hardness texture.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建硬度纹理，我首先从漫反射纹理中创建了一个“从可见层”新建的图层。（你可以关闭高光纹理图层组的可见性，以便重新显示漫反射纹理。）接着，我反转了图层，调整了色阶，并开始像上面那样使用画笔工具手动微调。由于硬度纹理需要更多的变化，我创建了一个新图层，并在身体上画上更多的斑点（包括较亮和较暗的部分）。[图11-20](ch11.html#finished_specular_texture_left_parenthes
    "图11-20. 完成的高光纹理（左）和硬度纹理（右）")同样展示了完成的硬度纹理。
- en: Texturing the Eyes
  id: totrans-137
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 纹理绘制眼睛
- en: 'With most of the texturing done, I moved on to texturing the eyes. For this
    I made a new image, which I painted by hand by taking the following steps:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 完成大部分纹理绘制后，我开始绘制眼睛的纹理。为此，我创建了一张新的图像，并按照以下步骤手工绘制：
- en: Create a new image that is 1024×1024 pixels in size (**File**▸**New Image**).
    Then, to get a guide for the middle of the eye, create two guidelines through
    the middle of the image, horizontally and vertically. To do this, click **Image**▸**Guides**▸**New
    Guide by Percent.** To create guidelines for placing the pupil, repeat this once
    for the vertical guide and once for the horizontal one, each at 50 percent of
    the image’s height or width.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个1024×1024像素的新图像（**文件**▸**新建图像**）。接下来，为了获得眼睛的中间位置的参考线，创建两条通过图像中点的参考线，分别是水平和垂直的。操作方法是点击**图像**▸**参考线**▸**按百分比新建参考线**。为了为瞳孔放置创建参考线，重复这个操作一次，分别为垂直参考线和水平参考线，每条参考线的位置在图像高度或宽度的50%。
- en: Fill the first layer with a yellowish color and then create a new layer for
    the iris. To get the correct shape, use the **Ellipse Selection** tool (**E**)
    and click and drag from the center of the image to draw out a circle. Holding
    down CTRL makes the selection expand from the center, and holding SHIFT constrains
    the selection to be circular.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用黄色调填充第一层，然后为虹膜创建一个新图层。为了得到正确的形状，使用**椭圆选择工具**（**E**），从图像中心点击并拖动绘制一个圆形。按住CTRL键时，选择区域从中心开始扩展，按住SHIFT键时，选择区域会限制为正圆形。
- en: '![Creating the specular map by tweaking the diffuse map: diffuse map 1; invert
    colors 2; adjust levels, hue, and saturation 3; and paint extra details 4.](httpatomoreillycomsourcenostarchimages1538698.png.jpg)Figure 11-19. Creating
    the specular map by tweaking the diffuse map: diffuse map 1; invert colors 2;
    adjust levels, hue, and saturation 3; and paint extra details 4.![The finished
    specular texture (left) and hardness texture (right)](httpatomoreillycomsourcenostarchimages1538700.png.jpg)Figure 11-20. The
    finished specular texture (left) and hardness texture (right)'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![通过调整漫反射贴图来创建高光贴图：漫反射贴图 1；反转颜色 2；调整色阶、色调和饱和度 3；并画上额外细节 4。](httpatomoreillycomsourcenostarchimages1538698.png.jpg)图11-19.
    通过调整漫反射贴图来创建高光贴图：漫反射贴图 1；反转颜色 2；调整色阶、色调和饱和度 3；并画上额外细节 4。![完成的高光纹理（左）和硬度纹理（右）](httpatomoreillycomsourcenostarchimages1538700.png.jpg)图11-20.
    完成的高光纹理（左）和硬度纹理（右）'
- en: Draw out a circular outline for the outside of the iris and then subtract the
    pupil shape from the middle of the iris selection (hold down CTRL before clicking
    and dragging). This time, I created an elliptical shape to give the eye an evil
    look.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 画出虹膜外圈的圆形轮廓，然后从虹膜选择的中间减去瞳孔的形状（按住CTRL键后点击并拖动）。这次，我创建了一个椭圆形状，使眼睛看起来更具邪恶感。
- en: Feather (**Select**▸**Feather, 20 Pixels**) the selection to give the iris a
    more gradual transition into the rest of the eye. Then, convert the selection
    into a layer mask by right-clicking on the layer in the Layers dialog, selecting
    **Add Layer Mask**, and under **Initialize Layer To**, choosing **Selection**.
    This creates a layer mask with your selection that allows you to paint on the
    layer itself (select it in the Layers dialog first) without losing the shape of
    the iris (see [Figure 11-21](ch11.html#mask_for_the_iriscomma_created_using_the
    "Figure 11-21. The mask for the iris, created using the Elliptical Select tools
    (left) and the eye texture (right)")).
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**羽化**（**选择**▸**羽化，20像素**）选区，使虹膜与眼睛其他部分之间有更渐变的过渡。然后，通过右键点击图层面板中的图层，选择**添加图层蒙版**，并在**初始化图层为**中选择**选区**，将选区转换为图层蒙版。这会创建一个带有选区的图层蒙版，让你可以直接在图层上绘画（首先在图层面板中选择它），而不丢失虹膜的形状（请参见[图11-21](ch11.html#mask_for_the_iriscomma_created_using_the
    "图11-21。使用椭圆选择工具（左）和眼睛纹理（右）创建的虹膜遮罩")）。
- en: Fill the iris with black using the **Fill** tool and then use the **Paint**
    tool and a large, soft brush to add color. I began with a bright orange and then
    added elements of red, green, and purple to build up different colors (use low
    pressure if you have a tablet, or set the brush opacity low). I left the edges
    of the iris black.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**填充**工具将虹膜填充为黑色，然后使用**画笔**工具和一个大而柔软的画笔添加颜色。我从亮橙色开始，然后加入了红色、绿色和紫色的元素，以叠加不同的颜色（如果你使用的是平板，使用低压力，或者将画笔的不透明度设置为低）。我把虹膜的边缘保持为黑色。
- en: Now add color around the outside of the eye (the *sclera*) on the layer below
    the iris. I painted a lighter yellow here and mixed it with a darker, reddish
    brown. I also filled the pupil with black on this layer. My eye texture now looked
    like [Figure 11-21](ch11.html#mask_for_the_iriscomma_created_using_the "Figure 11-21. The
    mask for the iris, created using the Elliptical Select tools (left) and the eye
    texture (right)"). I saved this texture as a *.tga* file.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在虹膜下方的图层上添加眼睛外部（*巩膜*）的颜色。我在这里涂上了较浅的黄色，并将其与较深的红棕色混合。我还在这个图层上将瞳孔填充为黑色。我的眼睛纹理现在看起来像[图11-21](ch11.html#mask_for_the_iriscomma_created_using_the
    "图11-21。使用椭圆选择工具（左）和眼睛纹理（右）创建的虹膜遮罩")。我将此纹理保存为*.tga*文件。
- en: Note
  id: totrans-146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Because I decided to change the shape of the pupil slightly in my texture,
    I also tweaked the shape of the pupil on my model by selecting the pupil’s vertices
    and scaling them up on the z-axis. I slightly adjusted the UV map, too (see [Figure 11-22](ch11.html#adjusting_the_pupil_to_fit_the_texturedo
    "Figure 11-22. Adjusting the pupil to fit the texture. Left: The adjusted UV coordinates.
    Right: The eye in Edit mode with the texture applied.")).*'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '*因为我决定在纹理中稍微改变瞳孔的形状，所以我也通过选择瞳孔的顶点并在Z轴上放大它们，调整了模型中瞳孔的形状。我也稍微调整了UV映射（请参见[图11-22](ch11.html#adjusting_the_pupil_to_fit_the_texturedo
    "图11-22。调整瞳孔以适应纹理。左：调整后的UV坐标。右：应用纹理后的眼睛编辑模式。")）。*'
- en: '![The mask for the iris, created using the Elliptical Select tools (left) and
    the eye texture (right)](httpatomoreillycomsourcenostarchimages1538702.png.jpg)Figure 11-21. The
    mask for the iris, created using the Elliptical Select tools (left) and the eye
    texture (right)![Adjusting the pupil to fit the texture. Left: The adjusted UV
    coordinates. Right: The eye in Edit mode with the texture applied.](httpatomoreillycomsourcenostarchimages1538704.png.jpg)Figure 11-22. Adjusting
    the pupil to fit the texture. Left: The adjusted UV coordinates. Right: The eye
    in Edit mode with the texture applied.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用椭圆选择工具（左）和眼睛纹理（右）创建的虹膜遮罩](httpatomoreillycomsourcenostarchimages1538702.png.jpg)图11-21。使用椭圆选择工具（左）和眼睛纹理（右）创建的虹膜遮罩！[调整瞳孔以适应纹理。左：调整后的UV坐标。右：应用纹理后的编辑模式下的眼睛。](httpatomoreillycomsourcenostarchimages1538704.png.jpg)图11-22。调整瞳孔以适应纹理。左：调整后的UV坐标。右：应用纹理后的编辑模式下的眼睛。'
- en: Texturing the Jungle Temple
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 丛林神庙的纹理制作
- en: The textures for the Jungle Temple scene required a different approach. This
    project has a number of objects that require very similar textures, so texturing
    each one individually would be time consuming and unnecessary. Instead, I chose
    to use tileable, seamless textures to cover much of my scene and to supplement
    these with details in key places. Tileable textures allow a single texture to
    be used across multiple models.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 丛林神庙场景的纹理需要一种不同的方法。这个项目有许多需要相似纹理的物体，因此单独为每个物体制作纹理既耗时又不必要。相反，我选择使用可平铺的无缝纹理来覆盖场景的大部分区域，并在关键位置增加一些细节。可平铺纹理允许同一纹理跨多个模型使用。
- en: Hardness vs. Roughness
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 硬度与粗糙度
- en: For the Bat Creature, one of the texture types I created was a hardness texture,
    which will be used to define which areas of my materials have sharp, small specular
    reflections and which parts have blurry, more spread out specular reflections.
    To define these areas, the texture is mapped to the hardness value of the material’s
    specular shader. Dark areas of the texture then result in soft, blurry specular
    reflections, and bright areas result in sharp, hard specular reflections.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蝙蝠生物，我创建的纹理类型之一是硬度纹理，它将用于定义我的材质在哪些区域具有锐利、小的镜面反射，哪些区域则有模糊、更加扩散的镜面反射。为了定义这些区域，纹理被映射到材质镜面着色器的硬度值上。纹理的暗色区域产生柔和、模糊的镜面反射，亮色区域则产生锐利、硬的镜面反射。
- en: However, this is only the case when rendering in Blender Internal. When rendering
    with Cycles, materials are created differently (as we will see in [Chapter 12](ch12.html
    "Chapter 12. Materials")). And instead of a hardness value, specular shaders now
    have something called a *roughness* value. This works in the opposite way to a
    hardness value, but defines roughly the same thing. For a roughness texture, bright
    areas denote soft, blurry reflections, and dark areas denote sharp reflections.
    Keep this in mind when creating your textures.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这仅在Blender Internal渲染时适用。在使用Cycles渲染时，材质的创建方式不同（正如我们在[第12章](ch12.html "第12章。材质")中将看到的）。而且，镜面着色器现在不再使用硬度值，而是使用所谓的*粗糙度*值。这与硬度值的作用相反，但大致定义的是相同的东西。对于粗糙度纹理，亮色区域表示柔和、模糊的反射，暗色区域则表示锐利的反射。创建纹理时，请记住这一点。
- en: Creating Seamless Textures with GIMP
  id: totrans-154
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用GIMP创建无缝纹理
- en: To create a seamless texture, the edges of the image must align with one another,
    and the features of the image must continue smoothly across the boundary. It helps
    to make sure that the texture doesn’t have features that repeat too obviously
    when tiled (large, distinctive features are easily noticed when they repeat often).
    We also want to make the image square so that we won’t have to scale an object’s
    UV coordinates when applying the seamless texture.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 为了创建一个无缝的纹理，图像的边缘必须对齐，并且图像的特征必须在边界处平滑地延续下去。确保纹理没有在拼接时重复得过于明显是很重要的（大的、独特的特征在频繁重复时容易被注意到）。我们还希望将图像做成正方形，这样在应用无缝纹理时就不需要缩放物体的UV坐标。
- en: To create a seamless rock texture for the stone blocks of the walls and floors,
    I began with a rock texture from CGTextures. First, I increased the size of the
    image to make it square with Image▸Canvas Size. Next, I used Layer▸Add Alpha Channel
    to give the layer a transparent background, which we’ll fill shortly, and Layer▸Layer
    to Image Size to match the size of the layer to the image.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 为了为墙壁和地板的石块创建一个无缝的岩石纹理，我从CGTextures开始使用了一张岩石纹理。首先，我使用“图像▸画布大小”将图像的大小增大，使其变成正方形。接着，我使用“图层▸添加Alpha通道”给图层添加透明背景，稍后我们会填充它，并使用“图层▸图层大小与图像大小匹配”将图层的大小调整为与图像一致。
- en: 'Now we have to fill in the remainder of the image and make its edges align
    with each other. To do this, I used the Offset tool and the Resynthesize filter.
    First, I offset the image by 50 percent on the *x*- and *y*-axes (Layers▸Transform▸Offset),
    choosing the x/2 y/2 option and clicking Offset. This shifted the image and repeated
    it, placing the edges against one another, as shown in [Figure 11-23](ch11.html#making_an_image_seamless_increase_the_ca
    "Figure 11-23. Making an image seamless: Increase the canvas size to make it square
    1; offset the image 2; fill in the blanks and fix the seams with the Resynthesize
    filter 3; and re-offset to check the texture and resynthesize any problem areas
    4.") at 2. The new edges now matched up because they were in the *middle* of the
    image previously.'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们需要填充图像的其余部分，并使其边缘相互对齐。为此，我使用了“偏移”工具和“重合成”滤镜。首先，我在* x *轴和* y *轴上将图像偏移了50%（图层▸变换▸偏移），选择了x/2
    y/2选项并点击了“偏移”。这将图像移动并重复，使得边缘对齐，如[图11-23](ch11.html#making_an_image_seamless_increase_the_ca
    "图11-23. 创建无缝图像：增加画布大小使其正方形 1；偏移图像 2；填充空白并用重合成滤镜修复接缝 3；重新偏移以检查纹理并重合成任何问题区域 4.")中所示。在偏移之前，图像的边缘就已经处于图像的*中间*位置，所以新的边缘已经对齐。
- en: To fix the areas where the edges met, I used GIMP’s Resynthesize feature to
    fill selected areas seamlessly. To create a selection, I used GIMP’s Quick Mask
    feature (CTRL-Q) to paint my selection directly with GIMP’s paint tools. Areas
    painted white are selected, while areas painted black are unselected. While working
    in Quick Mask mode, an image will be highlighted in red, but selected areas will
    appear as normal. I pressed CTRL-Q to enable quick masking and roughly painted
    a white stripe down the seams where the image edges met, and filled in the gap
    left in the middle. Then, I pressed CTRL-Q again to convert my quick mask to a
    selection.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 为了修复边缘交汇处的区域，我使用了 GIMP 的 Resynthesize 功能来无缝填充选定区域。为了创建选区，我使用了 GIMP 的快速遮罩功能（CTRL-Q）直接用
    GIMP 的画笔工具绘制选区。涂成白色的区域是选中的，而涂成黑色的区域是未选中的。在快速遮罩模式下，图像会以红色突出显示，但选中的区域将保持正常显示。我按下
    CTRL-Q 启用快速遮罩，然后粗略地在图像边缘交汇的缝隙处涂上一条白色的条纹，并填补中间留下的空隙。接着，我再次按下 CTRL-Q 将我的快速遮罩转换为选区。
- en: 'Next, I used Filters▸Map▸Resynthesize to fill the selected area. I turned on
    Make Horizontally Tileable and Make Vertically Tileable, and kept the texture
    source as the current layer. After running the filter, I offset the image again
    by a different amount (a third in each direction) and resynthesized any remaining
    problem areas. The result is the texture shown on the right of [Figure 11-23](ch11.html#making_an_image_seamless_increase_the_ca
    "Figure 11-23. Making an image seamless: Increase the canvas size to make it square
    1; offset the image 2; fill in the blanks and fix the seams with the Resynthesize
    filter 3; and re-offset to check the texture and resynthesize any problem areas
    4.") at 4. This texture will now tile seamlessly.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我使用了“滤镜”▸“映射”▸“Resynthesize”来填充选定区域。我打开了“使水平可平铺”和“使垂直可平铺”选项，并将纹理源设置为当前层。运行滤镜后，我再次以不同的偏移量（每个方向三分之一）偏移图像，并重新合成任何剩余的问题区域。最终结果是右侧显示的纹理，如[图
    11-23](ch11.html#making_an_image_seamless_increase_the_ca "图 11-23. 使图像无缝：增加画布大小使其变为正方形
    1；偏移图像 2；用 Resynthesize 滤镜填补空白并修复缝隙 3；重新偏移检查纹理并合成任何问题区域 4.") 所示。这个纹理现在可以无缝平铺了。
- en: Testing the Texture
  id: totrans-160
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 测试纹理
- en: To test the texture, create a duplicate of the image in GIMP (CTRL-D) and scale
    it way down (for example, to 512×512). Then, use **Filters**▸**Map**▸**Tile**
    to create a tiled version of the texture. If any areas show obvious repeats, remove
    them by going back to the full-size texture and selecting and resynthesizing any
    trouble spots. Once you’re happy with how the texture tiles, save it as a *.tga*
    file.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 测试纹理时，在 GIMP 中创建图像的副本（CTRL-D），并将其缩小（例如，缩小到 512×512）。然后，使用 **滤镜**▸**映射**▸**平铺**
    来创建纹理的平铺版本。如果有任何区域显示出明显的重复，返回到原始纹理并选择并重新合成任何问题区域。直到你对纹理的平铺效果满意为止，保存为 *.tga* 文件。
- en: To test your texture in Blender, select an object and then assign the image
    to it in the UV Texture editor. Switch to **Textured Viewport** shading and set
    the shading type to **Multitexture** in the display panel of the Properties region
    so that you can see the image assigned to the object. You may need to scale the
    UVs up or down or tweak the texture a bit to get the best results.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Blender 中测试你的纹理，选择一个物体，然后在 UV 纹理编辑器中将图像分配给它。切换到 **纹理视口** 着色模式，并在属性区域的显示面板中将着色类型设置为
    **多纹理**，这样你就可以看到分配给物体的图像了。你可能需要调整 UV 坐标的比例，或者稍微调整纹理，以获得最佳效果。
- en: Creating Additional Textures
  id: totrans-163
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 创建额外的纹理
- en: 'I repeated the process for producing a seamless texture to create a second
    rock texture, a bark texture for the trees, and a dirt texture for the ground,
    as you can see in [Figure 11-24](ch11.html#seamless_textures_for_the_jungle_temple
    "Figure 11-24. Seamless textures for the Jungle Temple scene, from left to right:
    dirt, two rock textures, and a bark texture. The top textures are diffuse maps
    and the bottom textures are specular maps."). I also created specular maps using
    the same techniques to modify and supplement the diffuse maps that I used for
    the Bat Creature. For the bark texture, I didn’t make the texture square since
    I would be wrapping it around the trunk of the tree. Instead, I opted for a narrow,
    tall texture. This results in a more efficient use of texture space, as the texture
    will repeat often along the length of the tree while only once around the circumference
    of the trunk.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 我重复了制作无缝纹理的过程，创建了第二种岩石纹理、树木的树皮纹理和地面的泥土纹理，如你在[图 11-24](ch11.html#seamless_textures_for_the_jungle_temple
    "图 11-24. 丛林神庙场景的无缝纹理，从左到右：泥土、两种岩石纹理和树皮纹理。顶部是漫反射贴图，底部是高光贴图。")中看到的那样。我还使用相同的技术制作了高光贴图，以修改和补充我为蝙蝠生物使用的漫反射贴图。对于树皮纹理，我没有制作正方形纹理，因为我需要将其包裹在树干上。相反，我选择了一个窄而高的纹理。这使得纹理空间的使用更加高效，因为该纹理将在树干的长度上重复多次，而在树干的周长上仅重复一次。
- en: 'To make different textures—like the two rock textures—work better together,
    you can use GIMP’s Hue-Saturation and Curves tools. By adjusting the hue and saturation
    of an image, you can make the overall coloration of one texture more similar to
    the other, and by using the Curves tool, you can brighten or darken the image
    to make the range of values of the two textures more similar. For example, the
    two rock textures in [Figure 11-24](ch11.html#seamless_textures_for_the_jungle_temple
    "Figure 11-24. Seamless textures for the Jungle Temple scene, from left to right:
    dirt, two rock textures, and a bark texture. The top textures are diffuse maps
    and the bottom textures are specular maps.") initially had quite different colors
    and levels of brightness, but I adjusted them to make them look more similar.
    This makes it much easier to blend these two textures later on when creating further
    textures and materials.'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使不同的纹理——比如两种岩石纹理——更好地融合在一起，你可以使用 GIMP 的色相-饱和度和曲线工具。通过调整图像的色相和饱和度，你可以使其中一种纹理的整体颜色更接近另一种纹理，而通过使用曲线工具，你可以调亮或调暗图像，使两种纹理的值范围更为相似。例如，[图
    11-24](ch11.html#seamless_textures_for_the_jungle_temple "图 11-24. 丛林神庙场景的无缝纹理，从左到右：泥土、两种岩石纹理和树皮纹理。顶部是漫反射贴图，底部是高光贴图。")中的两种岩石纹理最初有很大的颜色和亮度差异，但我进行了调整，使它们看起来更相似。这样，在创建更多纹理和材料时，后续融合这两种纹理会变得更加容易。
- en: Texturing the Ground and Trees
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 地面和树木的纹理
- en: To create textures for the ground and the trees in my scene, I made heavy use
    of Blender’s Project Paint tools to mix together the seamless textures I created
    in GIMP. This approach allowed me to quickly build up more unique textures by
    using the generic tileable texture I had already created as a starting point.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 为了为我的场景中的地面和树木创建纹理，我大量使用了 Blender 的投影绘制工具，将我在 GIMP 中创建的无缝纹理混合在一起。这种方法使我能够通过使用已经创建的通用平铺纹理作为起点，快速构建出更独特的纹理。
- en: '![Making an image seamless: Increase the canvas size to make it square 1; offset
    the image 2; fill in the blanks and fix the seams with the Resynthesize filter
    3; and re-offset to check the texture and resynthesize any problem areas 4.](httpatomoreillycomsourcenostarchimages1538706.png.jpg)Figure 11-23. Making
    an image seamless: Increase the canvas size to make it square 1; offset the image
    2; fill in the blanks and fix the seams with the Resynthesize filter 3; and re-offset
    to check the texture and resynthesize any problem areas 4.'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: '![制作无缝图像：增加画布大小使其变为正方形 1；偏移图像 2；使用重新合成滤镜填补空白并修复接缝 3；重新偏移检查纹理并重新合成任何问题区域 4。](httpatomoreillycomsourcenostarchimages1538706.png.jpg)
    图 11-23. 制作无缝图像：增加画布大小使其变为正方形 1；偏移图像 2；使用重新合成滤镜填补空白并修复接缝 3；重新偏移检查纹理并重新合成任何问题区域
    4。'
- en: Ground Texture
  id: totrans-169
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 地面纹理
- en: 'While I now had a seamless texture for the ground, it wasn’t particularly unique
    or tailored to the scene. To create a more interesting ground texture, I chose
    to project the existing seamless texture to a unique unwrapped one and then to
    embellish it with some extra details. To accomplish this, take the following steps:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我现在已经有了一个无缝的地面纹理，但它并不是特别独特或针对场景量身定制的。为了创造一个更有趣的地面纹理，我决定将现有的无缝纹理投射到一个独特的展开纹理上，并为其添加一些额外的细节。为了完成这一点，可以按以下步骤操作：
- en: '![Seamless textures for the Jungle Temple scene, from left to right: dirt,
    two rock textures, and a bark texture. The top textures are diffuse maps and the
    bottom textures are specular maps.](httpatomoreillycomsourcenostarchimages1538708.png.jpg)Figure 11-24. Seamless
    textures for the Jungle Temple scene, from left to right: dirt, two rock textures,
    and a bark texture. The top textures are diffuse maps and the bottom textures
    are specular maps.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '![丛林神庙场景的无缝纹理，从左到右：土壤、两种岩石纹理和一款树皮纹理。顶部纹理是漫反射图，底部纹理是高光图。](httpatomoreillycomsourcenostarchimages1538708.png.jpg)图11-24。丛林神庙场景的无缝纹理，从左到右：土壤、两种岩石纹理和一款树皮纹理。顶部纹理是漫反射图，底部纹理是高光图。'
- en: Create a second set of UV coordinates, unwrapping the floor mesh to fill the
    new UV space as well as possible. Then, add a new blank image to the new UV set.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建第二组UV坐标，展开地面网格以尽可能填满新的UV空间。然后，向新UV集添加一个新的空白图像。
- en: Use the **Clone** tool to clone the seamless texture. I set the seamless soil
    texture as the image for the old UV coordinates and then selected my new set.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**克隆**工具克隆无缝纹理。我将无缝土壤纹理设置为旧UV坐标的图像，然后选择了我的新UV集。
- en: In Texture Paint mode, use the **Clone** brush to clone the seamless texture
    onto your new unwrap. (Make sure that you also have Clone turned on in the Project
    Paint options and that the old UV map is set as the source for the cloning.)
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在纹理绘制模式下，使用**克隆**刷将无缝纹理克隆到新的展开图上。（确保在项目绘制选项中也开启了克隆，并且将旧的UV贴图设置为克隆的来源。）
- en: To mix in a second texture, replace the old UV coordinate sets image with a
    different soil texture and repeat the cloning process again, this time adding
    only some small patches.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要混合第二个纹理，将旧的UV坐标集图像替换为不同的土壤纹理，然后重复克隆过程，这次只添加一些小的斑块。
- en: Finally, repeat the process using a mossy rock texture to add some stony patches
    to the ground. The final texture is a lot more distinctive and diverse, as shown
    in [Figure 11-25](ch11.html#projecting_seamless_textures_to_a_unique "Figure 11-25. Projecting
    seamless textures to a unique texture map in order to combine them and create
    something unique. Here, I’m using the Clone brush to clone from a seamless texture
    to my unique UV map.").
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，重复这个过程，使用苔藓岩石纹理为地面添加一些石块斑块。最终的纹理更加独特和多样，如[图11-25](ch11.html#projecting_seamless_textures_to_a_unique
    "图11-25. 将无缝纹理投射到唯一的纹理图中，以便将它们结合并创造出独特的效果。在这里，我使用克隆刷将无缝纹理克隆到我的独特UV贴图中。")所示。
- en: Tree Textures
  id: totrans-177
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 树木纹理
- en: To modify the texture for the trees, I began with a seamless bark texture and
    then blended in mossy and muddy elements to make the texture more interesting
    (see [Figure 11-26](ch11.html#texturing_the_treesdot_i_began_with_a_se "Figure 11-26. Texturing
    the trees. I began with a seamless bark texture and then blended in other textures
    in GIMP.")). This time, however, I projected the first seamless texture in Blender
    and then saved the image and switched to GIMP to add elements from other photographs.
    This let me use different brushes to clone together bits of different images and
    split my texture into layers while working. I then created specular and roughness
    maps for the tree from the diffuse map.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 要修改树木的纹理，我从无缝的树皮纹理开始，然后加入了苔藓和泥土元素，使纹理更有趣（见[图11-26](ch11.html#texturing_the_treesdot_i_began_with_a_se
    "图11-26. 树木的纹理处理。我从无缝的树皮纹理开始，然后在GIMP中混合了其他纹理。")）。不过这一次，我在Blender中投射了第一个无缝纹理，然后保存图像，切换到GIMP，添加了其他照片中的元素。这让我能够使用不同的画笔，将不同图像的部分拼接在一起，并在工作时将纹理分层。然后，我从漫反射图中创建了树木的高光和粗糙度贴图。
- en: Texturing the Statue
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 塑像纹理
- en: For the statue in the Jungle Temple scene, I wanted the more hidden parts to
    look mossy and overgrown and the exposed parts to be bare rock. To accomplish
    this, I could have cloned in the mossy areas by hand, but instead, I chose to
    use the ambient occlusion map I baked earlier, which is already darker in the
    crevices, as a mask.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 对于丛林神庙场景中的雕像，我希望那些比较隐蔽的部分看起来像被苔藓覆盖并生长繁茂，而暴露的部分则是裸露的岩石。为了实现这一点，我本可以手动克隆苔藓区域，但我选择了使用我之前烘焙的环境光遮蔽图，它在缝隙处本来就更暗，作为遮罩。
- en: 'To do this in Blender, I duplicated the UV coordinate set for the statue and
    assigned the ambient occlusion texture to it. Then, I used this UV set as a mask
    layer for cloning a mossy texture over a rock texture, as follows:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在Blender中实现这个效果，我复制了雕像的UV坐标集，并将环境光遮蔽纹理分配给它。然后，我使用这个UV集作为遮罩层，克隆苔藓纹理到岩石纹理上，具体步骤如下：
- en: '![Projecting seamless textures to a unique texture map in order to combine
    them and create something unique. Here, I’m using the Clone brush to clone from
    a seamless texture to my unique UV map.](httpatomoreillycomsourcenostarchimages1538710.png.jpg)Figure 11-25. Projecting
    seamless textures to a unique texture map in order to combine them and create
    something unique. Here, I’m using the Clone brush to clone from a seamless texture
    to my unique UV map.![Texturing the trees. I began with a seamless bark texture
    and then blended in other textures in GIMP.](httpatomoreillycomsourcenostarchimages1538712.png.jpg)Figure 11-26. Texturing
    the trees. I began with a seamless bark texture and then blended in other textures
    in GIMP.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '![将无缝纹理投影到独特的纹理图上，以便将它们结合并创造出独特的效果。这里，我正在使用克隆刷从无缝纹理克隆到我的独特UV图上。](httpatomoreillycomsourcenostarchimages1538710.png.jpg)
    图11-25. 将无缝纹理投影到独特的纹理图上，以便将它们结合并创造出独特的效果。这里，我正在使用克隆刷从无缝纹理克隆到我的独特UV图上。![给树木上纹理。我从一个无缝的树皮纹理开始，然后在GIMP中将其他纹理融合进来。](httpatomoreillycomsourcenostarchimages1538712.png.jpg)
    图11-26. 给树木上纹理。我从一个无缝的树皮纹理开始，然后在GIMP中将其他纹理融合进来。'
- en: Duplicate the original UV map twice by clicking the + icon in the UV Coordinates
    panel of the Object Data tab in the Properties editor. Rename each set so that
    you’ll know which is which. As the names for my sets, I chose *Paint* for my final
    painted texture, *Mask* for my mask image, and *Cube*. I would use the Cube UV
    set for projecting my seamless textures, so I reunwrapped the statue in Edit mode
    using the **Cube Project** option to give an unwrap with nice consistency between
    parts of the model.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在属性编辑器的Object Data选项卡中的UV坐标面板中，通过点击+图标将原始UV图重复两次。重命名每个集，以便你知道哪个是哪个。对于我的集，我选择了*Paint*作为最终的涂绘纹理，*Mask*作为我的遮罩图像，和*Cube*。我会使用Cube
    UV集来投影我的无缝纹理，所以我在编辑模式下使用**Cube Project**选项重新展开了雕像，以便为模型的各个部分提供一致的展开效果。
- en: Assign your seamless rock texture to the Cube UV set, scaling it to suit the
    details in the rock. Then, switch to your Paint UV set and use the **Clone** tool
    (make sure Clone is turned on in the Project Paint panel) to clone the rock texture
    from the Cube project UV set to the painted texture.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你的无缝岩石纹理分配到Cube UV集上，并调整比例以适应岩石的细节。然后，切换到你的Paint UV集，并使用**克隆**工具（确保在Project
    Paint面板中启用了克隆功能）将岩石纹理从Cube项目UV集克隆到涂绘纹理上。
- en: To mix in the second texture, use the Project Paint **Stencil** option. Switch
    to Edit mode and assign your ambient occlusion map to the Mask UV set by selecting
    the **Mask UV** set in the Object Data tab of the Properties editor. Then, assign
    a different rock texture to the Cube UV set, but this time use a moss-covered
    rock texture.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要混合第二个纹理，使用Project Paint的**模板**选项。切换到编辑模式并将环境光遮蔽图分配到Mask UV集，通过在属性编辑器的Object
    Data选项卡中选择**Mask UV**集。然后，将不同的岩石纹理分配到Cube UV集，但这次使用的是覆盖苔藓的岩石纹理。
- en: Now return to texture painting on the Paint layer (again selecting it in the
    Properties editor to make it the active UV set). Switch on **Stencil** in the
    Project Paint panel, choosing your mask UV set from the drop-down menu beside
    it. Then, with the **Clone** brush, paint the second rock texture over the original
    one. The effect of the brush is automatically masked according to the ambient
    occlusion map, allowing you to easily paint only on the exposed areas, as shown
    in [Figure 11-27](ch11.html#using_the_project_paint_mask_setting_to "Figure 11-27. Using
    the Project Paint Mask setting to mask the effect of the Clone brush allowed me
    to mix textures according to an ambient occlusion map.").
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在返回到在Paint图层上的纹理绘制（再次在属性编辑器中选择它作为活动的UV集）。在项目绘画面板中打开**模板**，从旁边的下拉菜单中选择你的遮罩UV集。然后，使用**克隆**刷，在原始纹理上绘制第二个岩石纹理。刷子的效果会根据环境光遮蔽图自动进行遮罩，允许你仅在暴露区域上轻松绘画，如[图11-27](ch11.html#using_the_project_paint_mask_setting_to
    "图11-27. 使用项目绘画遮罩设置来遮罩克隆刷的效果，使我能够根据环境光遮蔽图混合纹理。")所示。
- en: After saving the resulting image as a *.tga* file, I used the ambient occlusion
    map in GIMP to lighten the exposed areas of the texture by opening the painted
    texture and adding the ambient occlusion map over the top (using Open as Layer).
    Setting the ambient occlusion map’s blend mode to Overlay and reducing its opacity
    subtly lightened the exposed areas of the statue and darkened the crevices, as
    shown in [Figure 11-28](ch11.html#statue_texture_opened_in_gimp_with_an_am "Figure 11-28. The
    statue texture opened in GIMP with an ambient occlusion map overlaid on top").
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在将结果图像保存为*.tga*文件后，我在GIMP中使用环境光遮蔽图，通过打开涂绘的纹理并将环境光遮蔽图覆盖在其上（使用“作为图层打开”）。将环境光遮蔽图的混合模式设置为“叠加”并减少其不透明度，微妙地提亮了雕像的暴露区域并加深了裂缝，如[图11-28](ch11.html#statue_texture_opened_in_gimp_with_an_am
    "图11-28. 雕像纹理在GIMP中打开，环境光遮蔽图覆盖在上面")所示。
- en: '![Using the Project Paint Mask setting to mask the effect of the Clone brush
    allowed me to mix textures according to an ambient occlusion map.](httpatomoreillycomsourcenostarchimages1538714.png.jpg)Figure 11-27. Using
    the Project Paint Mask setting to mask the effect of the Clone brush allowed me
    to mix textures according to an ambient occlusion map.![The statue texture opened
    in GIMP with an ambient occlusion map overlaid on top](httpatomoreillycomsourcenostarchimages1538716.png.jpg)Figure 11-28. The
    statue texture opened in GIMP with an ambient occlusion map overlaid on top'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用项目绘画遮罩设置来遮罩克隆刷的效果，使我能够根据环境光遮蔽图混合纹理。](httpatomoreillycomsourcenostarchimages1538714.png.jpg)图11-27.
    使用项目绘画遮罩设置来遮罩克隆刷的效果，使我能够根据环境光遮蔽图混合纹理。![雕像纹理在GIMP中打开，环境光遮蔽图覆盖在上面](httpatomoreillycomsourcenostarchimages1538716.png.jpg)图11-28.
    雕像纹理在GIMP中打开，环境光遮蔽图覆盖在上面'
- en: Texturing to Camera
  id: totrans-189
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 纹理映射到相机
- en: 'When it came to the rocks and soil in the foreground of the Jungle Temple scene,
    tileable textures wouldn’t give quite the level of control I wanted. For this
    part of my scene, I opted to paint the textures for the ground and rocks as they
    appeared from the camera viewpoint. To do this, take the following steps:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 当涉及到丛林神庙场景中前景的岩石和土壤时，可平铺的纹理并不能提供我所需的控制级别。对于场景的这一部分，我选择了按照相机视角绘制地面和岩石的纹理。为此，请按照以下步骤操作：
- en: Put the foreground rocks and soil on the same layer (use **M** to move objects
    to a different layer and **P** in Edit mode to part the selection from the current
    object if necessary).
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将前景的岩石和土壤放置在同一图层上（使用**M**将物体移动到不同图层，并在编辑模式下使用**P**将选区从当前物体中分离出来，如果需要的话）。
- en: Switch to **Textured** view (with the shading set to **Single texture** in the
    properties region) and assign your seamless textures to the UVs of your objects.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 切换到**纹理化**视图（在属性区域将着色设置为**单一纹理**），并将你的无缝纹理分配给物体的UV。
- en: Use the **Render Active Viewport** button (the camera icon) in the 3D Viewport
    header to render the current view to an image (see [Figure 11-29](ch11.html#rendering_the_view_to_an_image
    "Figure 11-29. Rendering the view to an image")). Then, save this as a .*tga*
    image. (In order to be able to mix my rock textures together, I assigned my second
    rock texture to the stones and saved a second viewport render.)
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用**渲染活动视口**按钮（相机图标）在3D视口头部渲染当前视图为图像（参见[图11-29](ch11.html#rendering_the_view_to_an_image
    "图11-29. 渲染视图为图像")）。然后，将其保存为.*tga*图像。（为了能够将我的岩石纹理混合在一起，我将第二个岩石纹理分配给石头，并保存了第二次视口渲染。）
- en: Open these in the same document in GIMP (open the first normally and then open
    the second using **Open as Layers**). Next, begin blending the two by adding a
    new layer mask to the top layer and painting in black areas to let the layer below
    show through.
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在GIMP中将这些图像打开在同一文档中（先正常打开第一个，然后使用**作为图层打开**第二个）。接下来，通过在顶部图层上添加新的图层蒙版并用黑色绘制区域使下方图层显现出来，开始混合这两张图像。
- en: Then, to soften the boundaries between the mud and rock, create a new layer
    and mix them together slightly using the **Clone** tool and your **Grunge** brush
    (see [Figure 11-30](ch11.html#editing_the_textures_projected_from_the "Figure 11-30. Editing
    the textures projected from the camera view. I filled in the background to prevent
    it from creating artifacts near the image boundary where the texture wraps around
    at the bottom. Then, I blended the textures on the objects in the foreground.")),
    saving the image as a *.tga* file.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，为了柔化泥土和岩石之间的边界，创建一个新图层，并使用**克隆**工具和**磨损**画笔稍微将它们混合在一起（见[图11-30](ch11.html#editing_the_textures_projected_from_the
    "图11-30。 从相机视图投影的纹理编辑。我填充了背景，以防止它在图像边界附近产生伪影，特别是在底部纹理环绕的地方。然后，我将前景物体上的纹理进行混合。")），将图像保存为*.tga*文件。
- en: Later on, this texture will be projected from the camera and used as part of
    the material for the foreground objects.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 后续，这种材质将通过相机投影，并作为前景物体材质的一部分使用。
- en: '![Rendering the view to an image](httpatomoreillycomsourcenostarchimages1538718.png.jpg)Figure 11-29. Rendering
    the view to an image'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '![将视图渲染为图像](httpatomoreillycomsourcenostarchimages1538718.png.jpg) 图11-29。
    将视图渲染为图像'
- en: Texturing the Leaves
  id: totrans-198
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 给叶子贴图
- en: 'For the leaves in the Jungle Temple scene, I wanted to create three textures:
    one for the color of the leaves, one for the specular map, and one for their transparency.
    I would use the transparency (alpha) map to make the parts of the mesh that are
    not actually part of a leaf transparent, thus giving the leaves detailed outlines
    without using geometry. This is doubly important for the leaves I generated with
    IvyGen, as these are just flat planes.'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 对于丛林神庙场景中的叶子，我想创建三种纹理：一种用于叶子的颜色，一种用于高光贴图，另一种用于它们的透明度。我将使用透明度（alpha）贴图使网格中不是叶子部分的地方变为透明，从而为叶子提供细致的轮廓，而无需使用几何体。这对于我使用IvyGen生成的叶子尤为重要，因为这些叶子只是平面。
- en: Collecting the Leaf Images
  id: totrans-200
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 收集叶子图像
- en: I began by collecting leaf images that were roughly the shape I wanted. Then,
    I opened them in GIMP and selected the rough outline of the leaf with the Scissors
    tool, placing points around the edge of the leaf to trace its outline automatically.
    I could then refine this using Quick Masking and the Paintbrush tool with a hard-edged
    brush, painting with black or white to remove or add parts of the leaf selection.
    I used the leaf selection as a layer mask (Layers▸Mask▸Add Layer Mask and choosing
    Selection) to mask out the background of the leaf image.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 我首先收集了形状大致符合我想要的叶子图像。然后，我将它们在GIMP中打开，并使用剪刀工具选择叶子的粗略轮廓，围绕叶子的边缘放置点以自动描绘其轮廓。接着，我可以使用快速遮罩和画笔工具（硬边刷）对其进行精细调整，使用黑色或白色绘制，去除或添加叶子选择的部分。我将叶子选择作为图层蒙版（图层▸蒙版▸添加图层蒙版并选择选择）来遮挡叶子图像的背景。
- en: '![Editing the textures projected from the camera view. I filled in the background
    to prevent it from creating artifacts near the image boundary where the texture
    wraps around at the bottom. Then, I blended the textures on the objects in the
    foreground.](httpatomoreillycomsourcenostarchimages1538720.png.jpg)Figure 11-30. Editing
    the textures projected from the camera view. I filled in the background to prevent
    it from creating artifacts near the image boundary where the texture wraps around
    at the bottom. Then, I blended the textures on the objects in the foreground.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '![从相机视图投影的纹理编辑。我填充了背景，以防止它在图像边界附近产生伪影，特别是在底部纹理环绕的地方。然后，我将前景物体上的纹理进行混合。](httpatomoreillycomsourcenostarchimages1538720.png.jpg)
    图11-30。 从相机视图投影的纹理编辑。我填充了背景，以防止它在图像边界附近产生伪影，特别是在底部纹理环绕的地方。然后，我将前景物体上的纹理进行混合。'
- en: Alpha Map
  id: totrans-203
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 透明度贴图
- en: 'The next step was to create the alpha, color, and specular images. To create
    the alpha texture, I clicked the layer mask, pressed CTRL-A to select all, and
    pressed CTRL-C to copy the mask to the clipboard. Then, I clicked New Layer and
    pasted in the mask, now visible as a normal layer. [Figure 11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "Figure 11-31. The textures for a single leaf, from left to right: diffuse, specular,
    and alpha. These textures are used on my IvyGen mesh.") shows the finished alpha
    map.'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是创建阿尔法、颜色和镜面反射图像。为了创建阿尔法纹理，我点击了图层蒙版，按CTRL-A全选，再按CTRL-C将蒙版复制到剪贴板。然后，我点击了新图层，并粘贴了蒙版，现在它作为普通图层可见。[图11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "图11-31. 单片叶子的纹理，左到右分别是：漫反射、镜面反射和阿尔法。这些纹理被用于我的IvyGen网格。")显示了完成的阿尔法图。
- en: Diffuse Map
  id: totrans-205
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 漫反射图
- en: For the diffuse map, I added a uniform color background and got rid of any specular
    highlights in the photo to make it more suitable to use as a texture. For the
    background, I created a new layer and filled it with a green to match the leaf
    color so that when the material blended into transparency, there would be no color
    change around the edges. I duplicated the leaf image layer and placed it on top
    of this background.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 对于漫反射图，我添加了一个均匀的颜色背景，并去除了照片中的镜面反射高光，使其更适合用作纹理。对于背景，我创建了一个新图层，并用绿色填充，颜色与叶片的颜色匹配，这样当材质过渡到透明时，边缘不会出现颜色变化。我复制了叶片图像图层，并将其放置在这个背景之上。
- en: '![The textures for a single leaf, from left to right: diffuse, specular, and
    alpha. These textures are used on my IvyGen mesh.](httpatomoreillycomsourcenostarchimages1538722.png.jpg)Figure 11-31. The
    textures for a single leaf, from left to right: diffuse, specular, and alpha.
    These textures are used on my IvyGen mesh.'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '![单片叶子的纹理，左到右分别是：漫反射、镜面反射和阿尔法。这些纹理被用于我的IvyGen网格。](httpatomoreillycomsourcenostarchimages1538722.png.jpg)图11-31.
    单片叶子的纹理，左到右分别是：漫反射、镜面反射和阿尔法。这些纹理被用于我的IvyGen网格。'
- en: 'To remove the specular highlights, I used the Dodge/Burn tool (SHIFT-D) set
    to burn (hold CTRL or change the settings in the Brush Tools palette) with a large,
    soft brush. I brushed lightly over the highlights to dim them (use a light pressure
    if you’re using a pressure-sensitive tablet, or simply set the Exposure setting
    of the Dodge/Burn tool down low if you’re using a mouse). To fix any areas that
    become oversaturated, I used the Paintbrush tool with a color from a good part
    of the texture. Then, I set the blend mode of the brush to Saturation and painted
    over any oversaturated areas to bring them in line with the rest of the texture.
    ([Figure 11-31](ch11.html#textures_for_a_single_leafcomma_from_lef "Figure 11-31. The
    textures for a single leaf, from left to right: diffuse, specular, and alpha.
    These textures are used on my IvyGen mesh."), left, shows the diffuse texture.)'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 为了去除高光，我使用了“加深/减淡”工具（SHIFT-D），设置为加深（按住CTRL或在画笔工具调色板中更改设置），并使用大号、柔软的画笔。我轻轻地在高光部分涂抹，来将其变暗（如果你使用压力感应平板，请使用轻柔的压力，或者如果使用鼠标，简单地将“加深/减淡”工具的曝光设置调低）。为了修复任何过度饱和的区域，我使用了画笔工具，选择了纹理中合适的颜色进行修补。然后，我将画笔的混合模式设置为“饱和度”，并涂抹过度饱和的区域，使它们与其他部分的纹理一致。[图11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "图11-31. 单片叶子的纹理，左到右分别是：漫反射、镜面反射和阿尔法。这些纹理被用于我的IvyGen网格。")（左）显示了漫反射纹理。
- en: Specular Map
  id: totrans-209
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 镜面反射图
- en: 'For the specular color, I duplicated my masked leaf image and used the Hue-Saturation
    tool to desaturate it a bit. Then, I shifted the specular color slightly toward
    yellow. I also painted in some highlights on smooth areas of the leaf and then
    blurred the texture slightly. You can see the specular texture in [Figure 11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "Figure 11-31. The textures for a single leaf, from left to right: diffuse, specular,
    and alpha. These textures are used on my IvyGen mesh.") (center).'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 对于镜面反射颜色，我复制了我的蒙版叶片图像，并使用色相/饱和度工具将其稍微去饱和。然后，我稍微将镜面反射颜色偏向黄色。我还在叶片的光滑区域上画了一些高光，并略微模糊了纹理。你可以在[图11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "图11-31. 单片叶子的纹理，左到右分别是：漫反射、镜面反射和阿尔法。这些纹理被用于我的IvyGen网格。")（中间）中看到镜面反射纹理。
- en: This completed the textures needed for a single leaf, so I saved each as a *.tga*
    image and then saved an *.xcf* file with my layers. I used this single leaf as
    my texture for the leaves generated by IvyGen. For the rest of the leaves in my
    scene, I wanted to combine as many as possible into one image so that I wouldn’t
    have to manage too many textures. So I repeated the cutting-out process for as
    many leaf images as I needed, skipping the specular textures for the time being.
    Later, I combined all these leaves onto a single map so it would be easier to
    do the specular map afterward.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了单个叶子所需的纹理，因此我将每个纹理保存为*.tga*格式的图片，然后保存包含我的图层的*.xcf*文件。我将这片单独的叶子作为IvyGen生成的叶子纹理。对于场景中的其余叶子，我希望将尽可能多的叶子合并成一张图片，这样我就不必管理太多的纹理。因此，我为需要的每一张叶子图像重复了剪裁过程，暂时跳过了镜面反射纹理。后来，我将所有这些叶子合并到一张地图上，以便之后更容易制作镜面反射贴图。
- en: Combining Leaves onto a Single Texture
  id: totrans-212
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 将叶子合并到单一纹理上
- en: For most of the foliage in my scene, I packed all of the leaves onto the same
    UV map. (In [Chapter 10](ch10.html "Chapter 10. Texture Baking"), I baked a color
    map from the material color of the leaves to serve as a guide.) To make it easier
    to assemble all my leaves into one texture, I applied the layer masks that I had
    created earlier to the diffuse layer of each leaf texture. I then saved each of
    these leaves as images and opened them as layers on top of the guide image I baked
    in [Chapter 10](ch10.html "Chapter 10. Texture Baking").
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 对于我场景中的大部分植物，我将所有叶子打包到同一个UV贴图上。（在[第10章](ch10.html "第10章. 纹理烘焙")中，我从叶子的材质颜色中烘焙了一张颜色贴图，用作指南。）为了更方便地将所有叶子合成一张纹理，我将之前创建的图层蒙版应用到每片叶子纹理的漫反射图层上。然后，我将每片叶子保存为图片，并将它们作为图层打开，叠加到我在[第10章](ch10.html
    "第10章. 纹理烘焙")中烘焙的指南图像上。
- en: Next, I started arranging the leaves to fit the map, using the Move, Scale,
    and Rotate tools. After getting a leaf roughly in place, I used the IWarp tool
    (Filters▸Distort▸IWarp) to warp the leaves to more accurately fit the shapes I
    needed (see [Figure 11-32](ch11.html#using_the_iwarp_filter_to_warp_the_shape
    "Figure 11-32. Using the IWarp filter to warp the shape of a leaf")). IWarp allows
    you to move pixels around your selection fluidly in order to reshape areas of
    an image. For the leaves, I used the Move Deform mode in IWarp to fit the outline
    of the leaves to the shapes I needed. I repeated this, duplicating some of the
    leaves to cover each space that needed a leaf texture. For the unwrapped stems,
    I cloned from the bigger leaves to fill in the whole region with a rough green
    texture. The diffuse texture for all the leaves combined into a single texture
    is shown in [Figure 11-33](ch11.html#i_merged_the_textures_for_several_of_my "Figure 11-33. I
    merged the textures for several of my leaves onto a single image to keep the number
    of textures in my scene down."). I then created the specular map for my grouped-together
    leaves the same way I did for the individual leaf.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我开始安排叶子以适应地图，使用了移动、缩放和旋转工具。在将叶子大致放置好后，我使用了IWarp工具（滤镜▸扭曲▸IWarp）来扭曲叶子，以便更准确地匹配我需要的形状（见[图
    11-32](ch11.html#using_the_iwarp_filter_to_warp_the_shape "图 11-32. 使用 IWarp 滤镜扭曲叶子形状")）。IWarp允许你在选区内流畅地移动像素，以便重新塑形图像的区域。对于这些叶子，我使用了IWarp中的移动变形模式，使叶子的轮廓与我所需的形状相匹配。我重复了这一过程，复制了一些叶子来填补每个需要叶子纹理的区域。对于展开的茎，我从较大的叶子上克隆，填充整个区域，形成粗略的绿色纹理。所有叶子合并成单一纹理的漫反射纹理如[图
    11-33](ch11.html#i_merged_the_textures_for_several_of_my "图 11-33. 我将多个叶子的纹理合并到一张图片上，以减少场景中的纹理数量")所示。然后，我以与单个叶子相同的方式为我的组合叶子创建了镜面反射贴图。
- en: '![Using the IWarp filter to warp the shape of a leaf](httpatomoreillycomsourcenostarchimages1538724.png.jpg)Figure 11-32. Using
    the IWarp filter to warp the shape of a leaf![I merged the textures for several
    of my leaves onto a single image to keep the number of textures in my scene down.](httpatomoreillycomsourcenostarchimages1538726.png.jpg)Figure 11-33. I
    merged the textures for several of my leaves onto a single image to keep the number
    of textures in my scene down.'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用 IWarp 滤镜扭曲叶子形状](httpatomoreillycomsourcenostarchimages1538724.png.jpg)图
    11-32. 使用 IWarp 滤镜扭曲叶子形状![我将多个叶子的纹理合并到一张图片上，以减少场景中的纹理数量。](httpatomoreillycomsourcenostarchimages1538726.png.jpg)图
    11-33. 我将多个叶子的纹理合并到一张图片上，以减少场景中的纹理数量。'
- en: 'To get an alpha texture again, I simply merged the leaf textures into one layer
    and then rightclicked the layer in the Layers editor and chose Alpha to Selection.
    Then, I created a new black layer and filled the selection with white to get my
    alpha image. Finally, I exported each of my diffuse, specular, and alpha passes
    as *.tga* images and saved the GIMP *.xcf* file, too. The combined leaf textures
    can be seen in [Figure 11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "Figure 11-31. The textures for a single leaf, from left to right: diffuse, specular,
    and alpha. These textures are used on my IvyGen mesh."). This completed almost
    all of the textures for the Jungle Temple. I created any remaining ones in much
    the same way as those described already.'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 为了再次获得Alpha贴图，我简单地将叶子贴图合并为一个图层，然后在图层编辑器中右键点击该图层，选择“Alpha到选区”。接着，我创建了一个新的黑色图层，并将选区填充为白色，以获得我的Alpha图像。最后，我将我的每个漫反射、镜面反射和Alpha通道导出为*.tga*图像，并保存了GIMP的*.xcf*文件。这些合并后的叶子贴图可以在[图11-31](ch11.html#textures_for_a_single_leafcomma_from_lef
    "图11-31. 单片叶子的贴图，左至右依次为：漫反射、镜面反射和Alpha。这些贴图用于我的IvyGen网格。")中看到。这几乎完成了丛林神庙的所有贴图。我创建的其他贴图与上述的制作方式相似。
- en: Texturing the Spider Bot
  id: totrans-217
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 蜘蛛机器人的贴图
- en: Texturing the Spider Bot was a bit simpler than texturing was for the other
    two images because this project relies largely on procedural materials. I made
    a UV texture that covered the body in order to take some of the hassle out of
    creating different materials later and to allow me to add some detail to the model.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 蜘蛛机器人的贴图制作比为其他两张图像做的贴图简单一些，因为这个项目主要依赖于程序化材料。我制作了一个覆盖整个身体的UV贴图，以便减少日后创建不同材料时的麻烦，并允许我为模型添加一些细节。
- en: Creating Three Textures
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建三种贴图
- en: I began with my baked color map in GIMP and scaled it up to 4096×4096 pixels.
    Then, I opened my baked ambient occlusion map as a layer, scaled it to fit, and
    set its blend mode to Multiply at 40 percent opacity in order to add some subtle
    shadowing to the texture.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 我从GIMP中烘焙的颜色贴图开始，并将其缩放至4096×4096像素。然后，我将烘焙的环境遮挡贴图作为一个图层打开，调整其大小以适应，并将其混合模式设置为“乘法”模式，透明度为40%，以便为贴图添加一些微妙的阴影。
- en: 'I needed to make three textures: diffuse, roughness, and specular. Because
    I wanted the body’s green areas to be shiny, I made the green area much darker
    for the diffuse texture and bright green for the specular texture. For the body’s
    white areas, I did the opposite: dark gray on the specular map to make it less
    shiny and light on the diffuse.'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 我需要制作三种贴图：漫反射、粗糙度和镜面反射。因为我希望身体的绿色区域有光泽，所以我将绿色区域在漫反射贴图中弄得更暗，在镜面反射贴图中弄得亮绿色。对于身体的白色区域，我则做了相反的处理：在镜面反射贴图中使用深灰色以减少光泽感，在漫反射贴图中则使用浅色。
- en: 'For the roughness map, I made the green areas (of the diffuse map) dark to
    give sharp, glossy reflections, and I made the white areas bright to give softer
    highlights. You can see the three textures in [Figure 11-34](ch11.html#textures_for_the_spider_botcomma_from_le
    "Figure 11-34. Textures for the Spider Bot, from left to right: diffuse, specular,
    and roughness. I incorporated some decals into the textures to make them more
    interesting, making sure to add them to the roughness and specular maps as well.").
    To keep my textures organized, I created separate layer groups for each of the
    diffuse, specular, and roughness maps, just as I did for the Bat Creature.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 对于粗糙度贴图，我将漫反射贴图中的绿色区域弄暗，以便呈现出锐利的光泽反射，而将白色区域弄亮，以呈现更柔和的高光效果。你可以在[图11-34](ch11.html#textures_for_the_spider_botcomma_from_le
    "图11-34. 蜘蛛机器人贴图，左至右依次为：漫反射、镜面反射和粗糙度贴图。我在这些贴图中加入了一些 decal，使其更加有趣，并确保它们也被添加到粗糙度和镜面反射贴图中。")中看到这三种贴图。为了保持贴图的有序性，我为每个漫反射、镜面反射和粗糙度贴图创建了独立的图层组，就像我为蝙蝠生物做的那样。
- en: Adding Decals
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 添加Decals
- en: To make things a bit more interesting, I decided to add some decals to the Spider
    Bot. To make decals, I drew a few simple designs using 2D curves in Blender and
    rendered these in black and white. Then, I opened these as layers over my existing
    texture file in GIMP.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让事情变得更加有趣，我决定为蜘蛛机器人添加一些Decals。为了制作Decals，我在Blender中使用2D曲线绘制了一些简单的设计，并将它们以黑白形式渲染出来。然后，我将这些设计作为图层打开，叠加到我现有的贴图文件中，在GIMP中进行编辑。
- en: '![Textures for the Spider Bot, from left to right: diffuse, specular, and roughness.
    I incorporated some decals into the textures to make them more interesting, making
    sure to add them to the roughness and specular maps as well.](httpatomoreillycomsourcenostarchimages1538728.png.jpg)Figure 11-34. Textures
    for the Spider Bot, from left to right: diffuse, specular, and roughness. I incorporated
    some decals into the textures to make them more interesting, making sure to add
    them to the roughness and specular maps as well.'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '![蜘蛛机器人纹理，从左到右：漫反射、镜面反射和粗糙度。我将一些 decal 融入纹理中，使它们更加有趣，并确保将它们添加到粗糙度和镜面反射贴图中。](httpatomoreillycomsourcenostarchimages1538728.png.jpg)图
    11-34. 蜘蛛机器人纹理，从左到右：漫反射、镜面反射和粗糙度。我将一些 decal 融入纹理中，使它们更加有趣，并确保将它们添加到粗糙度和镜面反射贴图中。'
- en: To make the background of the decals transparent, I used Colors▸Color to Alpha
    and selected the background color as the color to remove. I selected individual
    decals and spread them out over the body by selecting them and then scaling, moving,
    and rotating them into place. (It can be easier to do this if you split up each
    decal onto its own layer by selecting it and pressing CTRL-SHIFT-L to float the
    selection and CTRL-SHIFT-N to convert it to a layer. Then, you can scale and rotate
    it independently of the other decals. Once it’s in place, you can merge the details
    back onto the same layer.)
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使 decal 的背景变得透明，我使用了颜色▸颜色到 Alpha，并选择了背景颜色作为要移除的颜色。我选择了单独的 decal，并通过选择它们，然后缩放、移动和旋转它们来将其分布到模型上。（如果你将每个
    decal 拆分到自己的图层中会更容易，方法是选择它并按 CTRL-SHIFT-L 将选择浮动，然后按 CTRL-SHIFT-N 将其转换为图层。然后，你可以独立缩放和旋转它，而不影响其他的
    decals。将它们放置好后，你可以将细节合并回同一图层。）
- en: To get a better feel for the placement of your decals, you can mark in roughly
    where you want them in Blender’s Texture Paint mode. Then, save the image as a
    guide to use in GIMP. Once I had the decals laid out, I set their opacity to 60
    percent for the diffuse map.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解 decals 的摆放位置，你可以在 Blender 的纹理绘制模式中大致标出你想要的位置。然后，将图像保存为指南，用于 GIMP。一旦我把
    decals 布置好，我将其在漫反射贴图中的透明度设置为 60%。
- en: 'To make the decals stand out, I worked them into the specular and roughness
    maps too. I duplicated my decal layer from the diffuse map and placed copies in
    my layer groups for the specular and roughness maps. For the specular map, I used
    Colors▸Invert to make the decals white, which would make them shinier on the eventual
    material. For the roughness map, I made the decals black once again to give them
    sharp reflections (see [Figure 11-34](ch11.html#textures_for_the_spider_botcomma_from_le
    "Figure 11-34. Textures for the Spider Bot, from left to right: diffuse, specular,
    and roughness. I incorporated some decals into the textures to make them more
    interesting, making sure to add them to the roughness and specular maps as well.")).'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让 decals 更加突出，我也将它们加入了镜面反射和粗糙度贴图中。我复制了漫反射贴图中的 decal 图层，并将副本放入镜面反射和粗糙度贴图的图层组中。对于镜面反射贴图，我使用了颜色▸反转，将
    decals 变为白色，这样它们在最终材质上会更光亮。对于粗糙度贴图，我再次将 decals 变为黑色，以便给它们带来清晰的反射（参见[图 11-34](ch11.html#textures_for_the_spider_botcomma_from_le
    "图 11-34. 蜘蛛机器人纹理，从左到右：漫反射、镜面反射和粗糙度。我将一些 decal 融入纹理中，使它们更加有趣，并确保将它们添加到粗糙度和镜面反射贴图中。")）。
- en: With my textures complete, I saved a GIMP *.xcf* file with all my layer groups
    and then exported *.tga* files of my diffuse, specular, and roughness maps.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 完成纹理后，我保存了一个包含所有图层组的 GIMP *.xcf* 文件，并导出了 *.tga* 格式的漫反射、镜面反射和粗糙度贴图。
- en: In Review
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 审查
- en: In this chapter, I’ve covered using both Blender and GIMP to create textures,
    starting with our baked textures as a foundation and building up layers of detail
    and different images. We’ve used Blender’s Texture Paint mode, cloned textures
    in both Blender and GIMP, and used seamless textures both on their own and as
    a basis for creating more distinctive textures.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我讲解了如何使用 Blender 和 GIMP 创建纹理，从我们的烘焙纹理作为基础开始，逐步增加细节和不同的图像。我们使用了 Blender
    的纹理绘制模式，在 Blender 和 GIMP 中克隆纹理，并且使用了无缝纹理，无论是单独使用，还是作为创建更具特色纹理的基础。
- en: For the Bat Creature, I built up my textures mainly by hand, blocking in simple
    colors in Blender and then refining these in GIMP, painting in extra details and
    supplementing them with elements from photographic textures, and then jumping
    back to Blender to clear up seams.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蝙蝠生物，我主要通过手工构建纹理，在 Blender 中阻塞简单的颜色，然后在 GIMP 中细化这些颜色，绘制额外的细节，并用来自摄影纹理的元素进行补充，之后再回到
    Blender 清理接缝。
- en: For the Jungle Temple, I created a variety of seamless textures, which formed
    a foundation for creating further textures for unique objects. By creating a range
    of tileable, reusable textures first, I achieved consistent textures across multiple
    elements in the scene and sped up the texturing process.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 对于丛林神庙，我创建了多种无缝纹理，这为创建独特物体的进一步纹理打下了基础。通过首先创建一系列可拼接、可重复使用的纹理，我实现了场景中多个元素之间的一致纹理，并加快了纹理制作过程。
- en: For the Spider Bot, I focused on creating relatively simple diffuse, specular,
    and roughness textures that I will later use to create some fairly complex materials.
    I used my ambient occlusion map and the solid color map I generated in [Chapter 10](ch10.html
    "Chapter 10. Texture Baking") as a starting point and then created and added decals
    to embellish the design of the Spider Bot without crowding in too many details.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蜘蛛机器人，我专注于创建相对简单的漫反射、镜面反射和粗糙度纹理，稍后将用这些纹理来制作一些相当复杂的材质。我使用了我在[第 10 章](ch10.html
    "第 10 章. 纹理烘焙")生成的环境光遮蔽图和纯色图作为起点，然后创建并添加了贴花，以装饰蜘蛛机器人的设计，同时避免过多细节拥挤。
- en: In [Chapter 12](ch12.html "Chapter 12. Materials"), we’ll create materials for
    use by both Blender’s Internal renderer and the new Cycles renderer, using the
    textures created in this chapter as inputs. We’ll look at the different ways to
    apply textures when working with the two renderers and the similarities and differences
    in creating materials with the two render engines in mind.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第 12 章](ch12.html "第 12 章. 材质")中，我们将创建适用于 Blender 的内部渲染器和新的 Cycles 渲染器的材质，使用本章创建的纹理作为输入。我们将探讨在使用这两种渲染器时应用纹理的不同方式，以及考虑到这两种渲染引擎时创建材质的相似性与差异性。
- en: '* * *'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: ^([[1](#ch11fn01)]) You can find this location or add a new location for brushes
    from GIMP’s preferences (File▸Preferences) under Folders▸Brushes.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: ^([[1](#ch11fn01)]) 你可以在 GIMP 的首选项中找到这个位置或添加新的画笔位置（文件▸首选项）在文件夹▸画笔下。
