- en: '**6'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**6**'
- en: THE BATTERY SAVER**
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**电池保护器**'
- en: '![image](../images/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common-01.jpg)'
- en: This project was actually born back in the 1970s, when I built a very similar
    device for the first time. Its purpose is to disconnect a vehicle’s battery when
    an inadvertent drain would discharge the battery to the point where the vehicle
    would not start. Before the advent of computerized automobiles, it was common
    for drivers to park and leave the lights turned on only to come back to find a
    dead battery. Then, they had to find a way to call a service station (cell phones
    weren’t available) and get a boost. Worse, if the battery died and the car was
    left sitting long enough, the battery would become useless and have to be replaced.
    After remaining in a discharged state between 12 and 18 hours, most lead-acid
    batteries would go totally dead and could not be rejuvenated.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目实际上起源于1970年代，当时我第一次制作了一个非常类似的装置。其目的是在电池因不经意的电量消耗而导致车辆无法启动时，切断车辆的电池。在计算机化汽车出现之前，驾驶员常常会停车并忘记关灯，结果回来时发现电池没电。那时，他们必须找到办法呼叫服务站（因为没有手机），并启动电池。更糟的是，如果电池死掉且车辆放置时间过长，电池就会变得无法使用，必须更换。在12到18小时之间处于放电状态后，大多数铅酸电池会完全放电，无法恢复。
- en: But that was then. Now, many vehicles—particularly those equipped with automatic
    lighting systems—protect against such inconveniences with automatic (often delayed)
    shutoff for electrical systems. However, several types of vehicles still don’t
    have automatic shutdown systems or alarms to warn you that the lights are on.
    This project, shown in [Figure 6-1](ch06.xhtml#ch06fig1), is particularly useful
    for those vehicles.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 但那是过去的事了。现在，许多车辆，尤其是配备了自动照明系统的车辆，已经通过自动（通常是延迟）断电功能来防止这种不便情况的发生。然而，仍有几种类型的车辆没有自动关机系统或报警装置来提醒你灯光还开着。这个项目，如[图6-1](ch06.xhtml#ch06fig1)所示，对于这些车辆特别有用。
- en: '![image](../images/f06-01.jpg)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-01.jpg)'
- en: '*Figure 6-1: The finished Battery Saver, boxed and ready to go (top), as well
    as a look inside (bottom)*'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-1：完成的电池保护器，包装好准备使用（上），以及内部构造（下）*'
- en: '**Boats, Tractors, and Other Vehicles**'
  id: totrans-7
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**船只、拖拉机和其他车辆**'
- en: Many road-worthy vehicles could benefit from the Battery Saver, but this project
    is targeted at other systems where an accidental discharge of a battery could
    be annoying—and expensive. Boats are particularly vulnerable. Even my small runabout
    has experienced problems. On more than one occasion, the running lights were left
    on during the day, and I did not notice until a couple of days later. The battery
    was totally dead, and it had to be replaced.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 许多适合上路的车辆都能从电池保护器中受益，但这个项目主要面向那些电池意外放电可能带来麻烦且昂贵的系统。船只尤为容易受到影响。即使是我的小型跑船也遇到过类似问题。曾多次在白天忘记关掉导航灯，直到几天后才发现。电池完全没电，必须更换。
- en: Leaving the running lights on isn’t the only way to accidentally drain a boat
    battery. Most inboard boats have a blower system designed to safely expel potentially
    explosive gases and fuel vapors from the bilge. Conventional wisdom (and the Coast
    Guard) says to keep the bilge blowers on before starting the engines, the entire
    time the boat is in service, and for at least 10 minutes after shutdown. It’s
    very easy to forget the blowers are on and then find you need to replace the battery
    or batteries the next time you use the boat.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 留下导航灯开着并不是唯一一种会意外耗尽船只电池的方式。大多数内舱船只都配备有排气系统，用于安全地排出可能爆炸的气体和燃油蒸气。常识（以及海岸警卫队）建议，在启动引擎前保持排气扇运转，船只运行时一直开着，并且至少在关闭引擎后再运行10分钟。很容易忘记排气扇还在开着，结果下次使用船只时发现需要更换电池。
- en: '**NOTE**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*Before building the Battery Saver for a safety system like the blowers on
    a boat, read “[Notes of Caution](ch06.xhtml#ch06note1)” on [page 158](ch02.xhtml#page_58).
    There are some considerations to keep in mind that may require some minor wiring
    changes to the electrical system*.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*在为像船只排气扇这样的安全系统构建电池保护器之前，请阅读[《注意事项》](ch06.xhtml#ch06note1)中的内容，见[第158页](ch02.xhtml#page_58)。有一些需要注意的事项，可能会要求对电气系统做一些小的布线更改*。'
- en: 'Boats aren’t the only vulnerable vehicles, though. Riding mowers and tractors
    are also at risk for three reasons:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 船只并不是唯一易受影响的车辆。骑行割草机和拖拉机也有三种原因容易面临风险：
- en: • They are usually used only intermittently.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: • 它们通常只是间歇性使用。
- en: • Parking and/or headlight switches are often placed where it’s easy to accidentally
    bump them when getting on or off the vehicle. The switches can also be damaged
    by flying debris or rough terrain.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: • 停车和/或前照灯开关通常放置在容易碰撞到的位置，尤其是在上下车时。开关也可能会被飞溅的碎片或崎岖的地面损坏。
- en: • They are usually used in daylight hours, so it can be hard to tell when the
    lights are on.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: • 它们通常在白天使用，因此有时很难判断灯光是否开启。
- en: The Battery Saver can also protect powered tools, like tow-behind sprayers.
    It’s easy to leave these tools turned on when finished, and while most sprayer
    pumps don’t take too much current, leaving one on for, say, a day or two, will
    likely drain the battery.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 电池节能器还可以保护电动工具，如拖车喷雾器。使用这些工具后，容易忘记关掉它们，尽管大多数喷雾泵的电流消耗不大，但如果让它们开着一整天或两天，电池很可能会耗尽。
- en: '**Required Tools**'
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**所需工具**'
- en: Drill and drill bits
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 电钻和钻头
- en: Center punch
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 中心冲
- en: 4-40 tap
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 4-40 螺纹攻丝
- en: Hacksaw
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 锯条
- en: 400-grit sandpaper
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 400目砂纸
- en: Countersink (Almost any 82° countersink will do. The material being formed is
    relatively soft, so no special materials are required.)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 沉头钻（几乎任何82°的沉头钻都可以使用。被加工的材料相对较软，因此不需要特殊的材料。）
- en: Needle files (See [Figure 6-20](ch06.xhtml#ch06fig20). While only one is required,
    they usually come in sets.)
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 针形锉（参见[图 6-20](ch06.xhtml#ch06fig20)。虽然只需要一把，但通常它们是成套出售的。）
- en: Triangle file
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 三角锉
- en: '**NOTES OF CAUTION**'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意事项**'
- en: If you create the Battery Saver as described in this chapter, it should work
    well. However, it is always possible for Murphy’s Law to cause a problem, so here
    are a few points to consider before you build.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你按照本章所述制作电池节能器，它应该能够正常工作。然而，仍然有可能发生墨菲定律带来的问题，因此在制作之前，请考虑以下几点。
- en: Should the Battery Saver fail, it can be reset, but in the meantime, it will
    remove all power to the vehicle’s electrical system. *Do not* use the Battery
    Saver on any system where an electrical failure could cause catastrophic problems
    (such as on an aircraft) or result in bodily harm or property damage. That said,
    I have used the following unit in a car, on three agricultural tractors, and on
    two boats for well over a year (and earlier versions for several years) with no
    failures.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 如果电池节能器发生故障，可以进行重置，但在此期间，它将切断车辆电气系统的所有电源。*不要*将电池节能器用于任何电气故障可能导致灾难性后果的系统（如飞机上），或可能导致人身伤害或财产损失的系统。话虽如此，我已经在一辆汽车、三台农业拖拉机和两艘船上使用了这个设备超过一年（以及更早版本使用了好几年），没有发生过任何故障。
- en: The Battery Saver includes a very high-current switch. It is possible that,
    under certain conditions, a resistance could develop such that when current is
    applied, the switch becomes extremely hot—perhaps hot enough to be a fire hazard.
    (For what it’s worth, this has never happened even on prototype versions.) All
    efforts have been made to eliminate problems like this—for example, the block
    that holds the Battery Saver’s copper contacts is made of a fire- and melt-resistant
    phenolic material—but overheating remains a hazard. Always check the heat of the
    Battery Saver before you touch it to make certain that it is not hot enough to
    burn you. Even the reset plunger could become warm enough to burn if the vehicle
    or Battery Saver malfunctions.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 电池节能器包含一个非常高电流的开关。在某些条件下，可能会产生一定的电阻，当电流流过时，开关可能会变得非常热——甚至可能会热到成为火灾隐患。（值得一提的是，即便是原型版本，也从未发生过这种情况。）我们已经尽一切努力消除类似问题——例如，电池节能器铜触点所用的模块是由耐火和耐熔的酚醛材料制成的——但过热仍然是一个潜在的危险。在触碰电池节能器之前，请始终检查它的温度，确保它不热到足以烫伤你。如果车辆或电池节能器出现故障，重置按钮也可能变得足够温热以致烫伤。
- en: This last warning is specific to mariners. If you keep your boat in the water,
    chances are it has a built-in bilge pump and automatic float switch to keep it
    afloat when you’re not aboard. If you have multiple batteries, make sure the bilge
    pump is wired to a battery that isn’t in the circuit with the Battery Saver, as
    in [Figure 6-2](ch06.xhtml#ch06fig2). Otherwise, find the wire that provides current
    to the bilge pump/switch, and simply bypass the Battery Saver.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 最后的这一条警告专门针对船员。如果你将船停在水中，它很可能配备了内置的舱底泵和自动浮漂开关，以确保在你不在船上的时候船能保持浮力。如果你有多个电池，请确保舱底泵接到与电池节能器电路无关的电池上，如[图
    6-2](ch06.xhtml#ch06fig2)所示。否则，找到为舱底泵/开关供电的电线，并简单地绕过电池节能器。
- en: '![image](../images/f06-02.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-02.jpg)'
- en: '*Figure 6-2: Wiring the Battery Saver on a boat*'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 6-2：船上电池节能器的接线*'
- en: '**Parts List**'
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**零件清单**'
- en: This parts list might look somewhat like a scavenger hunt, but everything can
    be found easily from a variety of sources. Getting the particular size or quantity,
    however, may be challenging, so read the list carefully to make sure you have
    everything before you start. And before shopping, look ahead to [Figure 6-13](ch06.xhtml#ch06fig13)
    on [page 170](ch06.xhtml#page_170) to see some of the more unusual parts, like
    the copper contacts.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这个零件清单看起来可能有点像寻宝游戏，但所有东西都可以从各种来源轻松找到。然而，获取特定尺寸或数量可能会有些困难，因此在开始之前，仔细阅读清单，确保你拥有所有物品。在购物前，还请查看[图6-13](ch06.xhtml#ch06fig13)以及[第170页](ch06.xhtml#page_170)，看看一些不常见的零件，比如铜触点。
- en: One Deek-Robot Pro Mini Arduino clone microcontroller board (There are several
    available, and some have different pinouts—particularly for pins A4 and A5.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 一块Deek-Robot Pro Mini Arduino克隆微控制器板（有几种不同的版本，其中一些有不同的引脚排列，特别是A4和A5引脚）
- en: '[Figure 6-3](ch06.xhtml#ch06fig3) shows the pinout for the one I used. Other
    units with different pinouts should work, but the connections on the shield must
    be changed.)'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6-3](ch06.xhtml#ch06fig3)显示了我使用的引脚排列。其他具有不同引脚排列的设备应该也能工作，但需要更改扩展板上的连接。）'
- en: One LM7805 voltage regulator
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 一个LM7805电压调节器
- en: 12V solenoid (This project uses an Electronic Goldmine G19852.)
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 12V电磁铁（此项目使用的是Electronic Goldmine G19852。）
- en: One 10-kilohm resistor
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 一个10千欧的电阻
- en: One 5.6-kilohm resistor
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 一个5.6千欧的电阻
- en: One 4.7-kilohm resistor
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 一个4.7千欧的电阻
- en: One 470-ohm resistor
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一个470欧的电阻
- en: One 4.7V Zener diode
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 一个4.7V的齐纳二极管
- en: One 1N4002 diode or equivalent
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 一个1N4002二极管或等效品
- en: Two ZTX649 transistors
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 两个ZTX649晶体管
- en: One 1/2-inch phenolic sheet
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 一块1/2英寸的酚醛板
- en: One 6×3/4×3/16–inch copper bar, which is part of a high-current switch (This
    is actually a piece of copper bus bar that is generally used in large electrical
    installations. See [Figure 6-4](ch06.xhtml#ch06fig4) for an example. To find this,
    you may need to do a little digging with an online search for *copper bus bar*.
    I bought a piece that was 3 feet long.)
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 一根6×3/4×3/16英寸的铜条，是高电流开关的一部分（这实际上是一块常用于大型电气安装的铜母线。请参见[图6-4](ch06.xhtml#ch06fig4)的示例。要找到这个，你可能需要通过在线搜索*铜母线*进行一些挖掘。我买了一根长3英尺的铜条。）
- en: '![image](../images/f06-03.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-03.jpg)'
- en: '*Figure 6-3: Pinout of the Deek-Robot Pro Mini Arduino clone*'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-3：Deek-Robot Pro Mini Arduino克隆的引脚排列*'
- en: '![image](../images/f06-04.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-04.jpg)'
- en: '*Figure 6-4: A copper bus bar, drilled out for the Battery Saver*'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-4：用于电池节能器的铜母线*'
- en: One ABS plastic enclosure, like the Hammond 1591 STCL
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 一个ABS塑料外壳，类似于Hammond 1591 STCL
- en: Two 1/4-inch brass rounds (You’ll use one of these as the pylon.)
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 两个1/4英寸的黄铜圆棒（你将使用其中一个作为支柱。）
- en: A small piece of sheet metal to use as the release
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 一小块金属片，用作释放部件
- en: One e-clip
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 一个e型卡环
- en: Four 1/2-inch, 4-40 flathead screws
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 四个1/2英寸、4-40型号的平头螺丝
- en: One 3/8-inch, 4-40 roundhead screw
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 一个3/8英寸、4-40型号的圆头螺丝
- en: 3 oz of Permatex Silicone RTV sealant
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 3盎司的Permatex硅胶RTV密封剂
- en: One matching pair of inline connectors (You can buy simple, cheap, inline connectors
    online, or you can make your own. I used Pololu’s 1×2 connector housing and male
    and female crimp pins, shown in [Figure 6-5](ch06.xhtml#ch06fig5). See “[Connectors
    Used in This Book](ch00.xhtml#ch00lev1sec6)” on [page 18](ch00.xhtml#page_18)
    for crimping techniques. You can also use telephone-style chicklets if you can
    find them.)
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 一对匹配的内联连接器（你可以在线购买简单、便宜的内联连接器，或者自己制作。我使用了Pololu的1×2连接器外壳和男、女性压接针脚，如[图6-5](ch06.xhtml#ch06fig5)所示。请参阅《本书中使用的连接器》部分，在[第18页](ch00.xhtml#page_18)了解压接技巧。如果能找到电话式的“小鸡头”连接器，也可以使用。）
- en: '![image](../images/f06-05.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-05.jpg)'
- en: '*Figure 6-5: A pair of mating connectors used to connect the solenoid*'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-5：用于连接电磁铁的配对连接器*'
- en: 28-gauge hookup wire
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 28号连接线
- en: One solder lug (If you can’t find one, you can work around it by taking the
    power wire from the Arduino and wrapping it under the head of the screw, as shown
    in [Figure 6-7](ch06.xhtml#ch06fig7).)
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 一个焊接端子（如果找不到，你可以绕过它，方法是将Arduino的电源线缠绕在螺钉的头部，如[图6-7](ch06.xhtml#ch06fig7)所示。）
- en: One battery cable to fit your storage battery on one side and a lug to attach
    to the Battery Saver on the other
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 一条电池电缆，一端适配你的储电池，另一端有接线端子用于连接电池节能器
- en: '**Downloads**'
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**下载**'
- en: '**Sketch**   *BatterySaver.ino*'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**草图**   *BatterySaver.ino*'
- en: '**Templates**   *ReleaseLever.pdf, BatterySaverEnclosure.pdf*'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '**模板**   *ReleaseLever.pdf, BatterySaverEnclosure.pdf*'
- en: '**Shield**   *BatterySaver.pcb*'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '**扩展板**   *BatterySaver.pcb*'
- en: '**The Schematic**'
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**电路图**'
- en: While the circuit is relatively simple, as shown in [Figure 6-6](ch06.xhtml#ch06fig6),
    there are a couple of key design elements to be aware of.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管电路相对简单，如[图6-6](ch06.xhtml#ch06fig6)所示，但有几个关键设计元素需要注意。
- en: '![image](../images/f06-06.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-06.jpg)'
- en: '*Figure 6-6: Schematic for the Battery Saver*'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-6：电池保护器的原理图*'
- en: Notice that the circuit uses an LM7805 voltage regulator. In theory, the small
    regulator included in the Pro Mini board would be more than satisfactory because
    the load is relatively light. But under the hood of a car and around high-current
    systems and high-voltage electronics, there is a lot of stray electromagnetic
    energy bouncing around. While it’s improbable that this energy would cause a problem
    for the Battery Saver, it is well within the realm of possibility. The more robust
    1.5 A LM7805 regulator offers the Pro Mini another level of protection. In addition,
    capacitors C1 and C2 have been included to bypass any AC sneaking into the circuit
    and to prevent unwanted oscillation. Similarly, the 4.7V Zener diode (D1) protects
    the input of the Arduino from a voltage spike—which is very likely—on the 12V
    supply. It limits the voltage to A0 to only 4.7V.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，电路使用了LM7805稳压器。理论上，Pro Mini板上包含的小型稳压器应该足够，因为负载相对较轻。但是在汽车引擎盖下以及高电流系统和高压电子设备周围，存在大量的杂散电磁能量。虽然这种能量不太可能对电池保护装置造成问题，但这种情况完全有可能发生。更为强大的1.5A
    LM7805稳压器为Pro Mini提供了额外的保护。此外，还包括了电容C1和C2，用于旁路进入电路的交流信号，并防止不必要的振荡。同样，4.7V稳压二极管（D1）保护Arduino输入免受12V电源电压尖峰的影响，这种尖峰非常可能发生。它将A0的电压限制为4.7V。
- en: The configuration of resistors R1 and R2 may look familiar from other projects.
    They comprise a voltage divider to lower the 12V supply to a level below the 5V
    maximum the Arduino input can tolerate. To be on the safe side, I selected a value
    of 10 kilohms for R1 and 5.6 kilohms for R2\. Both are standard values. This design
    should allow the battery voltage to jump to 14V before reaching the point where
    the Zener diode kicks in.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 电阻R1和R2的配置可能在其他项目中也很熟悉。它们构成了一个电压分压器，将12V电源降低到Arduino输入能够承受的5V最大值以下。为了安全起见，我选择了R1为10千欧，R2为5.6千欧，这两个值都是标准值。这个设计应该允许电池电压在达到稳压二极管启动的点之前，跳升到14V。
- en: 'Diode D2 (1N4002 or equivalent) provides yet another level of defense: it protects
    against an inverse current that could be created when the magnetic field in the
    solenoid collapses. This is a standard protection device in inductors with an
    iron core, which can store magnetic energy and release it rapidly into the coil.
    The reverse voltage can reach relatively high levels and create significant currents,
    which could, in this case, damage the driver transistor and other components in
    the system.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 二极管D2（1N4002或等效型号）提供了另一个保护层级：它保护免受反向电流的影响，这种电流可能在电磁线圈的磁场坍塌时产生。这是铁芯电感器中的标准保护装置，它能够储存磁能并迅速将其释放到线圈中。反向电压可能达到相对较高的水平，并产生显著的电流，这可能会损坏驱动晶体管及系统中的其他组件。
- en: Transistors Q1 and Q2 are both ZTX649 silicon NPN transistors. I chose these
    transistors because they have sufficient drive capability and are inexpensive
    and readily available. I used the same model as in other projects. The high side
    of Q2 is brought to the red positive rail (VCC), as the LM7805 regulator supplies
    plenty of current. (You could just as easily connect the high side, or collector,
    of Q2 to the 12V supply, because Q2 is wired as an emitter follower and the voltage
    at the emitter will follow only the voltage at the base.) R4, a 470-ohm resistor,
    limits the current to LED 1.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 晶体管Q1和Q2都是ZTX649硅NPN晶体管。我选择这些晶体管是因为它们具有足够的驱动能力，并且价格低廉且容易获取。我在其他项目中也使用了相同的型号。Q2的高端连接到红色正极轨（VCC），因为LM7805稳压器提供了足够的电流。（你也可以将Q2的高端或集电极连接到12V电源，因为Q2是按发射极跟随器接线的，发射极的电压将只跟随基极电压。）R4是一个470欧姆电阻，限制LED1的电流。
- en: LED1 indicates when the unit is operating. The circuit containing Q2 and LED1
    provides a blinking LED with a very short on cycle, which is consistent with this
    volume’s goal of blinking LEDs as often as possible.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: LED1指示装置是否在运行。包含Q2和LED1的电路提供了一个短周期闪烁的LED，这与本章目标一致，即尽可能频繁地闪烁LED。
- en: '**NOTE**'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*The Deek-Robot Pro Mini also has a red LED that indicates when it is turned
    on. This additional, although very small, constant current drain could contribute
    to the discharge of the battery. In the units that I installed, I unsoldered one
    end of the Pro Mini’s LED, which is kind of a delicate operation*.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '*Deek-Robot Pro Mini还配备一个红色LED，指示其是否打开。这个附加的小的常态电流消耗可能会对电池的放电产生影响。在我安装的设备中，我将Pro
    Mini的LED的一端焊接了，这是一项相对精细的操作*。'
- en: Transistor Q1, wired as a common emitter circuit, provides the drive for the
    solenoid. Resistor R3 (4.7 kilohms) drives the transistor and also protects it—a
    direct connection would allow too much current to flow in the base-emitter junction,
    resulting in potential damage. The high side of the solenoid is connected to positive
    12V to allow maximum voltage and current to flow through the solenoid coil without
    taxing the voltage regulator.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 晶体管Q1以共发射电路的方式提供驱动电流给电磁铁。电阻R3（4.7千欧姆）驱动晶体管并起到保护作用——如果直接连接，基极-发射极结将会通过过多电流，可能导致损坏。电磁铁的高端连接到正12V，以允许最大电压和电流流过电磁铁线圈，而不会对电压调节器造成负担。
- en: '***How the Battery Saver Prevents Draining***'
  id: totrans-81
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***电池保护器如何防止电池过度放电***'
- en: The Battery Saver comprises a very high-current switch that can be electrically
    turned off and a sensor circuit to detect when the battery is in jeopardy of dying.
    The high-current switch is required because it interrupts the main power from
    the battery, which includes the feed to a starter motor that can draw up to several
    hundred amps.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 电池保护器包括一个能够断开电流的高电流开关和一个传感器电路，用于检测电池是否面临耗尽的风险。高电流开关是必需的，因为它会中断电池的主电源，其中包括给启动电机供电的部分，启动电机可能会消耗数百安培的电流。
- en: 'The high-current switch—which could also be considered a relay—is made of the
    three pieces of copper bus bar: a release bar, a solenoid, and a release lever.
    When the pieces of copper bus bar are connected, the battery is connected to its
    circuit as normal. When the solenoid is pulled in, the power is disconnected.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 高电流开关——也可以认为是一个继电器——由三块铜母排组成：一个释放条，一个电磁铁和一个释放杠杆。当铜母排连接时，电池与其电路正常连接。当电磁铁被吸入时，电源被断开。
- en: The sensor circuit uses the power of the Arduino microcontroller. The Arduino
    continually monitors the battery, and if it senses that the power is diminishing,
    it calls for the high-current switch (relay) to be thrown. There are many ways
    to determine when a battery is reaching exhaustion, and this project simply looks
    at the voltage left in the battery. [Table 6-1](ch06.xhtml#ch06tab1) shows the
    voltage versus the remaining charge in a standard 12V, lead-acid storage battery.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 传感器电路使用Arduino微控制器的电力。Arduino不断监控电池，如果它检测到电力正在减少，它会触发高电流开关（继电器）。有许多方法可以判断电池是否快耗尽，这个项目简单地查看电池中的剩余电压。[表6-1](ch06.xhtml#ch06tab1)显示了标准12V铅酸蓄电池的电压与剩余电量之间的关系。
- en: '**Table 6-1:** Battery Charge State Versus Voltage'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '**表6-1：** 电池充电状态与电压的关系'
- en: '| **Battery charge level** | **Battery voltage** |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| **电池充电水平** | **电池电压** |'
- en: '| --- | --- |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 100% | 12.7V |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| 100% | 12.7V |'
- en: '| 90% | 12.5V |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| 90% | 12.5V |'
- en: '| 80% | 12.4V |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| 80% | 12.4V |'
- en: '| 70% | 12.3V |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| 70% | 12.3V |'
- en: '| 60% | 12.2V |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| 60% | 12.2V |'
- en: '| 50% | 12.1V |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| 50% | 12.1V |'
- en: '| 40% | 11.9V |'
  id: totrans-94
  prefs: []
  type: TYPE_TB
  zh: '| 40% | 11.9V |'
- en: '| 30% | 11.8V |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| 30% | 11.8V |'
- en: '| 20% | 11.6V |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| 20% | 11.6V |'
- en: '| <10% | 11.3V |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| <10% | 11.3V |'
- en: The battery charge level quickly deteriorates with only a minimal reduction
    in voltage. In order to have at least 40 to 50 percent of the charge remaining,
    the drain on the battery must be stopped somewhere between 11.9V and 12.2V (shaded
    in [Table 6-1](ch06.xhtml#ch06tab1)), a voltage I will refer to from now on as
    the *trigger point*. In practical applications, empirical evidence shows that
    there is still plenty of juice left, even when battery voltage drops to 12.0V,
    11.90V, or even below. A battery in good condition under ideal circumstances could
    perform with perhaps as little as 30 percent of its capacity, but that would depend
    on the load, ambient temperature, and other factors, so I’m taking a very conservative
    view of about 12+V. Newer design batteries tend to do better.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '电池电量迅速下降，但电压仅有最小的减少。为了确保电池至少剩余40%到50%的电量，必须在11.9V到12.2V之间某个位置停止电池的耗电（如[表6-1](ch06.xhtml#ch06tab1)所示），我以后将这个电压称为*触发点*。在实际应用中，经验数据显示，即使电池电压降至12.0V、11.90V，甚至更低，仍然有足够的电量。一块处于良好状态的电池，在理想情况下可能会以不到30%容量的电量运行，但这取决于负载、环境温度等因素，因此我持一个非常保守的看法，认为12V以上是合理的。新设计的电池通常表现更好。  '
- en: While the state of charge is a good indication of remaining capacity in a battery,
    other factors—like internal resistance, battery discharge rate, and so on—could
    impact the usable state of charge remaining in a battery. A more accurate measurement
    of the capacity remaining in a fully charged battery might be current used, which
    can be calculated if the total energy in the battery is known. For example, if
    a battery has a capacity of 1,100 ampere-hours (A·h), you could calculate the
    point where 550 A·h remain and disconnect the battery then. However, because this
    project targets systems with batteries that range widely in capacity, I decided
    that measuring the battery voltage would be more than adequate.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '虽然电量状态是电池剩余容量的良好指示，但其他因素——如内阻、电池放电速率等——也可能影响电池剩余的可用电量。更准确的电池剩余容量测量方法可能是当前使用的电流，如果已知电池中的总能量，就可以计算。例如，如果电池的容量为1100安培小时（A·h），你可以计算出剩余550
    A·h并在此时断开电池。但是，由于这个项目针对的系统电池容量差异很大，因此我决定通过测量电池电压来满足需求，足以满足项目需求。  '
- en: '***Arduino to the Rescue***'
  id: totrans-100
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***Arduino来拯救***  '
- en: The Arduino microcontroller steps up to the task of measuring the battery voltage
    and throwing the disconnect switch at the appropriate voltage, but if that’s all
    it did, you could be in trouble. When turning on a vehicle, the starting motor
    uses a lot of current. Depending on the state of the battery (internal resistance
    and so on) and ambient conditions (temperature, for example) during the cranking
    process, the battery voltage can conceivably fall well below the critical shut-off
    voltage. The Battery Saver depends on the Arduino to give the vehicle enough time
    to start the motor.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 'Arduino微控制器负责测量电池电压，并在适当的电压下触发断电开关，但如果它只做这些，可能会出问题。启动车辆时，启动电机会消耗大量电流。根据电池的状态（如内阻等）和环境条件（例如温度），在启动过程中，电池电压可能会跌破关键的关机电压。电池节能器依赖Arduino给车辆足够的时间来启动电机。  '
- en: Further, should the system shut down due to an inadvertent drain, you’ll need
    to ensure that when the Battery Saver is reset, it doesn’t immediately sense a
    critical battery voltage and shut down again. All of these functions are handled
    by the microcontroller, under orders from the sketch. While there are probably
    several different ways of handling it, the sketch implements *timing sequences*—rules
    to follow for when to take certain actions—to allow for the voltage drop during
    engine cranking. Similar timing rules give the user time to restart the engine
    after the Battery Saver is reset.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '此外，如果系统因意外耗电而关机，你需要确保在重置电池节能器时，它不会立即检测到电池电压临界值并再次关机。所有这些功能都由微控制器根据程序指令来处理。虽然可能有多种不同的处理方式，但该程序实现了*时间序列*——即在某些情况下采取特定行动的规则——以便在发动机启动时电压下降时使用。类似的时间规则也为用户在重置电池节能器后重新启动发动机提供了时间。  '
- en: '**The Breadboard**'
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**面包板**'
- en: Even though this project doesn’t require a lot of extra components and peripheral
    equipment, I still believe it’s useful to go through the exercise of wiring a
    breadboard. A working prototype gives a definitive proof of concept, and it allows
    you to play with the hardware and software prior to committing to the finished
    version. When working with the breadboard, I tested the circuit with a solenoid
    similar to the one used in the finished product (see [Figure 6-7](ch06.xhtml#ch06fig7)).
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这个项目不需要很多额外的组件和外围设备，我仍然认为通过面包板接线的练习是有用的。一个工作原型可以为概念提供明确的证明，并且让你在最终版本完成之前，先体验硬件和软件。与面包板一起工作时，我测试了与成品中使用的电磁铁类似的电路（参见[图6-7](ch06.xhtml#ch06fig7)）。
- en: '![image](../images/f06-07.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-07.jpg)'
- en: '*Figure 6-7: The breadboard I used to test the Battery Saver concept and put
    the software together. Testing your circuit with a solenoid is not required*.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-7：我用来测试电池节能器概念并组装软件的面包板。使用电磁铁测试电路不是必需的*。'
- en: '[Figure 6-8](ch06.xhtml#ch06fig8) shows the breadboard operating the high-current
    switch; “[Construction](ch06.xhtml#ch06lev1sec9)” on [page 170](ch06.xhtml#page_170)
    describes how to build that switch. To test the circuit without making the high-current
    switch first, or to use a solenoid by itself (see [Figure 6-7](ch06.xhtml#ch06fig7)),
    you can connect a lamp, LED, relay, or some other component in place of the switch.
    Remember: if you use an LED or other polarized device, make certain to get the
    polarity correct.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6-8](ch06.xhtml#ch06fig8)显示了面包板操作高电流开关的示意图；“[构建](ch06.xhtml#ch06lev1sec9)”在[第170页](ch06.xhtml#page_170)描述了如何构建这个开关。若不先构建高电流开关进行电路测试，或者仅使用电磁铁（参见[图6-7](ch06.xhtml#ch06fig7)），你可以将灯泡、LED、继电器或其他元件替代开关进行连接。记住：如果使用LED或其他极性元件，确保正确连接极性。'
- en: '![image](../images/f06-08.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-08.jpg)'
- en: '*Figure 6-8: The breadboard circuit operating the solenoid after the high-current
    switch has been assembled. Note the use of clip leads to hook up the Battery Saver
    to the breadboard. Diodes D1 and D2 and capacitors C1 and C2 were not included
    in the breadboard primarily because they are needed only when the project is in
    use*.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-8：高电流开关组装完成后，面包板电路操作电磁铁的示意图。请注意使用夹线将电池节能器连接到面包板。二极管D1和D2以及电容C1和C2没有包含在面包板中，主要是因为它们只在项目使用时才需要*。'
- en: 'The basic breadboard is fairly straightforward. Just follow these instructions
    to assemble it:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 基本的面包板连接非常简单。只需按照以下说明组装：
- en: Connect the breadboard’s red positive rails together, and connect the blue negative
    rails together. Do not connect the positive rails to the negative rails as that
    will result in a direct short circuit.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将面包板上的红色正极轨连接在一起，并将蓝色负极轨连接在一起。不要将正极轨与负极轨连接，因为那样会导致直接短路。
- en: Insert the LM7805 voltage regulator so that the three terminals span three different
    rows. (See “[The Schematic](ch06.xhtml#ch06lev1sec5)” on [page 160](ch06.xhtml#page_160)
    for why an external voltage regulator was used rather than the Pro Mini’s onboard
    regulator.)
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 插入LM7805电压调节器，使三个引脚跨越三行不同的排针。（参见“[原理图](ch06.xhtml#ch06lev1sec5)”在[第160页](ch06.xhtml#page_160)，了解为何使用外部电压调节器，而不是Pro
    Mini板载的调节器。）
- en: Connect the input of the regulator to a positive 12V source. (See [Figure 6-9](ch06.xhtml#ch06fig9)
    for the pinout of the LM7805.)
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将调节器的输入端连接到正12V电源。（参见[图6-9](ch06.xhtml#ch06fig9)，了解LM7805的引脚图。）
- en: '![image](../images/f06-09.jpg)'
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f06-09.jpg)'
- en: '*Figure 6-9: Pinout of the LM7805 regulator*'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图6-9：LM7805调节器的引脚图*'
- en: Connect the center pin of the regulator to blue negative rail and the output
    pin to the red positive rail. When you power the circuit, the positive rail should
    have 5V coming from the output of the regulator.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将调节器的中间引脚连接到蓝色负极轨，将输出引脚连接到红色正极轨。当你为电路供电时，正极轨应从调节器的输出端获得5V电压。
- en: Insert the Pro Mini microcontroller board in the breadboard. Its position is
    not critical; anywhere in the general vicinity of where it is in [Figure 6-7](ch06.xhtml#ch06fig7)
    is fine.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Pro Mini微控制器板插入面包板。其位置并不关键；放在[图6-7](ch06.xhtml#ch06fig7)所示位置附近的任何地方都可以。
- en: Insert resistors R1 (10 kilohm) and R2 (5.6 kilohm) into the breadboard. It’s
    easiest to insert them near the regulator. Then, connect one side of R1 directly
    to the regulator (input pin). The joining point of R1 and R2 should be located
    in an independent place on the board, and the other side of R2 goes directly to
    ground.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电阻R1（10千欧姆）和R2（5.6千欧姆）插入面包板。最方便的做法是将它们插入靠近稳压器的地方。然后，将R1的一端直接连接到稳压器（输入引脚）。R1和R2的连接点应该位于板上的独立位置，R2的另一端直接接地。
- en: Connect a jumper from the point where R1 and R2 join to pin A0 of the Pro Mini.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将跳线从R1和R2的连接点连接到Pro Mini的A0引脚。
- en: Insert transistor Q1 (ZTX649) into the breadboard in an area with three open
    rows (see [Figure 6-10](ch06.xhtml#ch06fig10) for the pinout).
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将晶体管Q1（ZTX649）插入面包板，在有三个开放排的区域（请参见[图6-10](ch06.xhtml#ch06fig10)了解引脚排列）。
- en: Connect resistor R3 from the base of Q1 to pin D9 of the Pro Mini.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电阻R3从Q1的基极连接到Pro Mini的D9引脚。
- en: Connect the emitter of Q1 to ground.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Q1的发射极连接到地面。
- en: Connect the collector of Q1 to the load (solenoid or other).
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Q1的集电极连接到负载（电磁铁或其他）。
- en: Connect the other side of the load to positive 12V.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将负载的另一端连接到12V正电源。
- en: Insert transistor Q2 into the breadboard. Connect its collector to one of the
    red positive rails.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将晶体管Q2插入面包板，并将其集电极连接到红色正电源轨道之一。
- en: Connect the base of Q2 to pin D12 of the Pro Mini.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Q2的基极连接到Pro Mini的D12引脚。
- en: Connect the emitter of Q2 to the positive side of LED1.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Q2的发射极连接到LED1的正极。
- en: Connect the negative side of LED1 to R4 (470 ohms).
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将LED1的负极连接到R4（470欧姆）。
- en: Connect the other end of R4 directly to the blue negative rail.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将R4的另一端直接连接到蓝色负电源轨道。
- en: Connect the negative side of the 12V supply to the blue negative rail.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将12V电源的负极连接到蓝色负电源轨道。
- en: Now, load the sketch onto the Pro Mini (see “[Connecting and Programming an
    Arduino Pro Mini](ch00.xhtml#ch00lev2sec4)” on [page 8](ch00.xhtml#page_8)), and
    take it for a test run. If you have a variable power supply with a voltage readout,
    setting the voltage will be easy; if you don’t have a variable power supply, I
    suggest building the Regulated Power Supply in [Chapter 3](ch03.xhtml#ch03). If
    you use a variable supply without a readout, just use your multimeter to monitor
    the voltage and observe the trigger point.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，将草图加载到Pro Mini上（请参见“[连接和编程Arduino Pro Mini](ch00.xhtml#ch00lev2sec4)”第[8页](ch00.xhtml#page_8)），并进行测试。如果你有带电压读数的可调电源，设置电压会很简单；如果没有可调电源，我建议你参考[第3章](ch03.xhtml#ch03)中的“稳压电源”进行构建。如果你使用没有读数的可调电源，只需使用万用表来监控电压，并观察触发点。
- en: Start the power supply at 13V (12.7V is normal for a charged 12V lead-acid storage
    battery), and the monitor LED should blink slowly. Gradually lower the voltage,
    and write down the voltage when the flashing goes from slow to rapid. That voltage
    is the trigger point, and it should be around 11.9V to 12V.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 将电源开启到13V（对于充满电的12V铅酸蓄电池，12.7V是正常值），此时监控LED应缓慢闪烁。逐渐降低电压，记下从慢闪到快闪的电压。该电压即为触发点，应该在11.9V到12V之间。
- en: '![image](../images/f06-10.jpg)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-10.jpg)'
- en: '*Figure 6-10: Pinout of the ZTX649 transistor*'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-10：ZTX649晶体管引脚图*'
- en: '**The Sketch**'
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: In developing the Battery Saver sketch, I went through several iterations to
    assure reliable functionality. One difficulty was avoiding false triggers when
    the sensed voltage jumped around because an engine or an accessory, such as a
    hydraulic tilt, was activated.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 在开发电池节能草图时，我经历了几个迭代过程，以确保其可靠的功能性。一个难点是避免当引擎或附件（如液压倾斜装置）启动时，由于电压波动而产生误触发。
- en: I used functions to adjust various sequences of operation independent of the
    main program. This isn’t a complex sketch, but writing simple functions is a useful
    technique when you want to avoid repeating code. I could have avoided functions
    in the final sketch, but I let them remain because they work well, and writing
    the sketch this way provides a good lesson in the use of functions.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用了函数来调整不同的操作序列，这些操作序列独立于主程序运行。这并不是一个复杂的草图，但编写简单的函数是一种有用的技巧，当你想避免重复代码时特别有效。我本可以在最终草图中避免使用函数，但我让它们保留了下来，因为它们工作得很好，而且这种写法也为我提供了关于使用函数的好经验。
- en: '[PRE0]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In this sketch, `timer()`, `timer2()`, and `timer3()` are the three functions
    used. The `timer()` function is for normal operation when the battery voltage
    is above the trigger point. The trigger point is the voltage at which the Battery
    Saver goes into timeout mode prior to shutting down. The `timer2()` function sets
    off a rapid flashing sequence once the trip threshold is reached and provides
    the timing—the fast LED sequence—prior to shutoff. Once `timer2()` has finished,
    `timer3()` is invoked, provided the voltage remains below the threshold; this
    disconnects the battery by activating the solenoid. If the voltage increases above
    the trigger point at any time during the timeout period, the Battery Saver returns
    to normal operation after `timer3()` times out. Many of the variables in this
    sketch can also be changed to vary blinking and delay sequences and threshold;
    they’re addressed in “[Operating the Battery Saver](ch06.xhtml#ch06lev1sec11)”
    on [page 180](ch06.xhtml#page_180).
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个草图中，`timer()`、`timer2()`和`timer3()`是使用的三个函数。`timer()`函数用于在电池电压高于触发点时的正常操作。触发点是电池节能器进入超时模式并准备关闭的电压值。`timer2()`函数在达到触发阈值时启动一个快速闪烁序列，并提供超时前的定时——快速LED序列。一旦`timer2()`完成，若电压仍低于阈值，则调用`timer3()`，此时通过激活电磁阀切断电池。如果在超时期间，电压在任何时刻超过触发点，则在`timer3()`超时后，电池节能器会恢复正常操作。此草图中的许多变量也可以更改，以调整闪烁和延迟序列及阈值；这些内容在《[操作电池节能器](ch06.xhtml#ch06lev1sec11)》中讨论，详见[第180页](ch06.xhtml#page_180)。
- en: '**The Shield**'
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**扩展板**'
- en: As you might guess from the breadboard, the shield is straightforward, too.
    Compared with handwiring, however, I believe it’s a lot easier and faster.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你从面包板上可以猜到的那样，扩展板也很简单。不过，与手工接线相比，我认为这样做更容易、更快捷。
- en: '***The PCB Layout***'
  id: totrans-142
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***PCB布局***'
- en: '[Figure 6-11](ch06.xhtml#ch06fig11) shows my finished PCB, and [Figure 6-12](ch06.xhtml#ch06fig12)
    shows the layout image with silkscreen indicating the placement of the components.
    You can download a PCB layout for the shield at *[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6-11](ch06.xhtml#ch06fig11)展示了我完成的PCB， [图6-12](ch06.xhtml#ch06fig12)展示了布局图，丝印显示了元件的位置。你可以在
    *[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*
    下载扩展板的PCB布局。'
- en: '![image](../images/f06-11.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-11.jpg)'
- en: '*Figure 6-11: The unpopulated Battery Saver board. The RLY connection is where
    you would connect the solenoid*.'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-11：未安装元件的电池节能器电路板。RLY连接处是你连接电磁阀的位置*。'
- en: '![image](../images/f06-12.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-12.jpg)'
- en: '*Figure 6-12: The foil pattern for the shield on the Battery Saver. The silkscreen
    image is in gray*.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-12：电池节能器上扩展板的铜箔图案。丝印图像为灰色*。'
- en: Most of the components are located under the Pro Mini to save space. Other than
    that, there is nothing special about populating the shield. As in other projects,
    it’s not necessary to include headers for all the Pro Mini pins. Use all the pins
    that have connections with board traces and enough other pins to add mechanical
    stability. I always try to use at least one header for the very first pin, to
    aid in aligning the board while plugging it in.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数元件都放置在Pro Mini下方，以节省空间。除此之外，填充扩展板没有什么特别之处。与其他项目一样，并不需要为所有Pro Mini的引脚都配备排针。只需使用与板上走线连接的引脚，以及足够的其他引脚来增加机械稳定性。我通常会为第一个引脚使用至少一个排针，以便在插入时对齐电路板。
- en: The LED can be mounted directly to the board or can be mounted somewhere remotely
    with long wires. Just be sure to observe polarity. The Battery Saver may be located
    in an area where the operator can’t see the LED, so placing it in a remote location
    is a practical solution.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: LED可以直接安装在电路板上，也可以通过长线安装在远离电路板的位置。只需确保遵守极性。电池节能器可能位于操作员无法看到LED的位置，因此将其放置在远离电路板的地方是一个实际的解决方案。
- en: '***Preparing the Shield and Pro Mini Controller***'
  id: totrans-150
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***准备扩展板和Pro Mini控制器***'
- en: If you want to use a PCB, you can make the shield according to the layout provided
    with this book’s resource files, whether you etch that yourself or send it off
    to be professionally manufactured. You could also design your own shield PCB if
    you’re feeling ambitious or just solder everything to the prototyping board, but
    if you are using everything else from the parts list, just make sure your board
    has the same dimensions as the provided shield layout.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想使用PCB，可以根据本书提供的资源文件中的布局制作屏蔽层，无论是自己蚀刻还是将其交给专业制造。你也可以设计自己的屏蔽层PCB，如果你有雄心壮志，或者仅仅是将所有组件焊接到原型板上，但如果你使用了零件清单中的其他所有部件，只需确保你的电路板与提供的屏蔽层布局尺寸相同。
- en: 'If you etch the PCB design I provide, drill the component holes next. I usually
    use a #66 drill. Solder a 2-inch wire to the plus 12V side of the shield, and
    solder the other side of the wire to a small solder lug. Solder a 15-inch wire
    to the ground terminal and then connect two wires to the solenoid connections.
    I used a small inline connector—made with Pololu #1950 crimp connector housings,
    #1931 male crimp pins, and #1215 female crimp pins—so I could remove the board
    easily if necessary. Almost any connector can be used.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '如果你使用我提供的PCB设计，请接下来钻孔。我通常使用#66钻头。将一根2英寸的电线焊接到屏蔽层的正12V端，并将电线的另一端焊接到一个小焊接端子。将一根15英寸的电线焊接到接地端子，然后将两根电线连接到电磁铁的连接端。我使用了一种小型内联连接器——由Pololu
    #1950压接连接器外壳、#1931男型压接针脚和#1215女型压接针脚制作——这样，如果需要的话，我可以轻松地拆下电路板。几乎任何连接器都可以使用。'
- en: Both transistors are located under the shield, so when you solder them, make
    sure to push them down enough that they clear the bottom of the Pro Mini. See
    [Figures 6-11](ch06.xhtml#ch06fig11) and [6-12](ch06.xhtml#ch06fig12) for the
    transistor placement on the PCB.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 两个晶体管位于屏蔽层下方，因此在焊接时，确保将它们按压到足够的位置，使其清除Pro Mini的底部。请参见[图6-11](ch06.xhtml#ch06fig11)和[图6-12](ch06.xhtml#ch06fig12)了解PCB上的晶体管放置位置。
- en: I soldered the monitor LED directly to the board so it could be seen through
    the enclosure. However, you could also solder wires to the board and place the
    monitor LED in a location where it might be more visible outside your vehicle.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 我将监视LED直接焊接到电路板上，这样它可以通过外壳看到。不过，你也可以将电线焊接到电路板上，并将监视LED放置在一个可能更容易在车辆外部看到的位置。
- en: '**Construction**'
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**构建**'
- en: Building the rest of the Battery Saver involves a few mechanical challenges
    and requires the wits of a scavenger. [Figure 6-13](ch06.xhtml#ch06fig13) shows
    all the parts of the Battery Saver laid out. There is nothing complex about any
    of the parts.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 完成电池节能器的其余部分涉及一些机械挑战，并且需要一定的拾荒技巧。[图6-13](ch06.xhtml#ch06fig13)展示了电池节能器的所有组件布局。任何组件都不复杂。
- en: '![image](../images/f06-13.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-13.jpg)'
- en: '*Figure 6-13: The components of the Battery Saver, completely disassembled.
    The cover of the enclosure is under the clear box. Note the short screws for fastening
    the spacer to the solenoid, so they don’t damage the solenoid coil*.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-13：电池节能器的组件，完全拆解。外壳的盖子位于透明盒子下方。请注意用于固定间隔器与电磁铁的短螺钉，以免损坏电磁铁线圈*。'
- en: 'There are only a handful of components in the Battery Saver: the enclosure,
    the phenolic contact support, the shield and Pro Mini controller, the copper contact
    assembly, the solenoid and mounting, the release lever and pylon, the release
    rod, and the springs and e-clip. The assembly instructions that follow are a little
    involved, but if you get stuck, just use [Figure 6-13](ch06.xhtml#ch06fig13) to
    keep things in perspective. When you’re done, the Battery Saver should look like
    [Figure 6-14](ch06.xhtml#ch06fig14).'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 电池节能器中只有少量组件：外壳、酚醛接触支撑、屏蔽层和Pro Mini控制器、铜接触组件、电磁铁和安装件、释放杠杆和支架、释放杆、弹簧和电子夹。以下的组装说明有些复杂，但如果卡住了，只需参考[图6-13](ch06.xhtml#ch06fig13)，这样就能理清思路。完成后，电池节能器应该像[图6-14](ch06.xhtml#ch06fig14)一样。
- en: '![image](../images/f06-14.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-14.jpg)'
- en: '*Figure 6-14: The completed Battery Saver with the cover off and the switch
    in the operating position. In this iteration, grooves were carved in the phenolic
    block for the positive and ground wires*.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-14：完整的电池节能器，盖子已拆除，开关处于工作位置。在这一版本中，酚醛块上为正极和接地线刻有凹槽*。'
- en: '***Preparing the Enclosure***'
  id: totrans-162
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***准备外壳***'
- en: Because the enclosure, a Hammond 1591 STCL, is an integral part of the design,
    I suggest starting there. Beyond a couple of holes and slots machined into the
    enclosure, there is very little else to do. [Figure 6-15](ch06.xhtml#ch06fig15)
    shows the holes I cut in detail; a template is included in this project’s resource
    files. There are only a few holes to cut, though, so you should be fine without
    the template if you follow these instructions carefully.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 因为外壳——Hammond 1591 STCL——是设计的一个重要部分，我建议从那里开始。除了外壳上加工的几个孔和槽口，几乎没有其他要做的工作。[图 6-15](ch06.xhtml#ch06fig15)详细展示了我所切割的孔；一个模板包含在本项目的资源文件中。其实只需要切几个孔，因此，如果你仔细按照这些说明操作，应该不需要模板也能完成。
- en: 'On the long sides of the enclosure, measure approximately 1 1/8 inches from
    the top—that is the side where the reset plunger will protrude through. This should
    locate you roughly at the fourth mounting rib. In the center of that rib, drill
    two #30—approximately 1/8-inch—holes 3/8 inches from either edge, and countersink
    both for a 4-40 screw. Do this on both sides of the enclosure.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '在外壳的长边上，从顶部大约量出 1 1/8 英寸的位置——这是重置活塞将要穿过的地方。这应该大致位于第四个安装肋的位置。在该肋的中心，钻两个 #30
    的孔——大约 1/8 英寸——距离每个边缘 3/8 英寸，并且要将孔倒角，以便安装 4-40 的螺钉。两边都要做。'
- en: On each side, at the top of the next rib (going toward the top of the enclosure),
    cut a 1-inch-deep groove for the copper contact assembly. The shaded part of the
    side view in [Figure 6-15](ch06.xhtml#ch06fig15) shows where the groove should
    go on each side. The ABS plastic enclosure cuts easily with a hacksaw. Remove
    the cover and cut from the opening of the enclosure toward the back. For each
    groove, make two cuts so that when you remove the material between them, you will
    have a 3/16-inch-wide channel in both sides of the enclosure. A little over 1
    inch from the edge at the opening will do, but it’s not necessary to cut down
    to the back of the enclosure. You can even cut both sides at once, but just make
    sure the channels are directly opposite each other. Don’t worry if your cuts are
    a little off; that can be corrected later with a file. After you make the cuts,
    break off the material in the center and clean up the channel with a small triangle
    or flat file.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 在每一侧，紧靠下一个肋的顶部（朝外壳顶部方向），切一个深度为 1 英寸的槽，用于放置铜触点组件。[图 6-15](ch06.xhtml#ch06fig15)的侧视图中阴影部分显示了槽的切割位置。ABS
    塑料外壳可以用钢锯轻松切割。去掉外壳盖，从外壳的开口向后切割。每个槽需要做两次切割，这样当你去掉它们之间的材料时，就能得到一个宽度为 3/16 英寸的通道。切割时，离开口大约
    1 英寸就可以了，但不需要切到外壳的背面。你甚至可以同时切割两侧，只要确保通道正好位于对面即可。如果切割稍有偏差也不用担心，稍后可以用锉刀修正。完成切割后，取下中间的材料，并用小三角锉或平锉清理通道。
- en: '![image](../images/f06-15.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-15.jpg)'
- en: '*Figure 6-15: The holes and slot in the Battery Saver enclosure*'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 6-15：电池节能器外壳中的孔和槽*'
- en: Now, drill a 1/4-inch hole in the top of the enclosure, where the reset button
    will go, exactly centered on the top surface. Draw lines along that side’s diagonals
    from corner to corner, as illustrated in [Figure 6-15](ch06.xhtml#ch06fig15),
    and drill where the lines intersect. This hole is where the brass release rod
    for the reset plunger will go.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，在外壳顶部钻一个 1/4 英寸的孔，这是重置按钮的安装位置，正好位于顶部表面中心。按照[图 6-15](ch06.xhtml#ch06fig15)中所示，从角落到角落画出对角线，然后在交点处钻孔。这个孔是安装重置活塞的黄铜释放杆的地方。
- en: '***The Contact Support***'
  id: totrans-169
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***联系我们支持***'
- en: 'The contact support is perhaps the easiest part to make. First, cut the phenolic
    sheet to a 3×1 3/8–inch block. The phenolic material cuts easily with a hacksaw.
    Insert the block in the enclosure so the two holes you drilled through the ribs
    are in the center of the block. Mark the holes on both sides, drill them with
    a #43 drill bit, and tap them for a 4-40 screw. While you are working on the phenolic
    contact support, you can cut two grooves, or channels, for the power and ground
    wires on either side (shown later in [Figure 6-18](ch06.xhtml#ch06fig18)). The
    location is not critical as these are used only to run the positive and negative
    wires for the shield. I used the small Dremel tool in [Figure 6-16](ch06.xhtml#ch06fig16)
    to cut the grooves. Use two 4-40×3/8-inch flathead screws on each side to screw
    the phenolic piece in place.'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 接触支架可能是最容易制作的部分。首先，将酚醛片切割成3×1 3/8英寸的块。用钢锯轻松切割酚醛材料。将块插入外壳中，使得你通过肋条钻的两个孔位于块的中心。标记孔的位置，分别在两侧钻孔，使用#43钻头，并为4-40螺钉攻丝。在制作酚醛接触支架时，你可以在两侧切割两个槽或通道，用于电源和接地线（稍后在[图6-18](ch06.xhtml#ch06fig18)中展示）。这个位置不太关键，因为这些槽仅用于放置屏蔽的正负电线。我使用[图6-16](ch06.xhtml#ch06fig16)中的小Dremel工具切割槽。每侧使用两个4-40×3/8英寸的平头螺钉将酚醛块固定到位。
- en: '![image](../images/f06-16.jpg)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-16.jpg)'
- en: '*Figure 6-16: Dremel tool with small circular saw blade attached*'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-16：带小圆锯片的Dremel工具*'
- en: With the phenolic contact support screwed in place, hold the drill as close
    to vertical as possible in the center of the largest face of the contact block.
    Drill a 1/4-inch hole that lines up with the 1/4-inch hole you previously drilled
    in the top of the enclosure. The easiest way to do this is to mount the contact
    support block and then use the hole in the top of the enclosure as a guide to
    drill the hole in the block. After drilling, put the contact support aside until
    you’re ready for the copper contact assembly.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在酚醛接触支架固定到位后，将钻头尽量垂直地握住，定位于接触块最大面的中心位置。钻一个1/4英寸的孔，使其与之前在外壳顶部钻的1/4英寸孔对齐。最简单的方法是将接触支架固定好，然后使用外壳顶部的孔作为引导来钻接触块中的孔。钻孔后，将接触支架放在一旁，直到你准备好铜接触组件。
- en: '**NOTE**'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*The enclosure is not a perfect rectangle because some relief is included to
    allow it to come out of the mold easily. Factor this in as you line up to drill
    the center hole. When I drilled the hole, I held the enclosure in a vise to eliminate
    the effect of the relief*.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*外壳并不是一个完美的矩形，因为它包含了一些缓解区域，便于从模具中取出。钻孔对准中心孔时，需要考虑这一点。在我钻孔时，我将外壳固定在台钳中，以消除缓解区域的影响*。'
- en: '***Preparing the Copper Contact Assembly***'
  id: totrans-176
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***准备铜接触组件***'
- en: The copper contact assembly requires only a handful of holes. Cut a 4 3/4-inch
    section of the 3/16×3/4–inch copper bar, and drill the holes along the center
    of the 3/4-inch dimension, as outlined in [Figure 6-17](ch06.xhtml#ch06fig17).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 铜接触组件只需要几个孔。切割一段4 3/4英寸长的3/16×3/4英寸铜条，并按[图6-17](ch06.xhtml#ch06fig17)所示在3/4英寸尺寸的中心位置钻孔。
- en: '![image](../images/f06-17.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-17.jpg)'
- en: '*Figure 6-17: The base of the copper contact assembly, showing holes and spacing*'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-17：铜接触组件的基座，显示孔和间距*'
- en: 'For holes A and G, use a 9/32-inch bit. Holes B, C, E, and F should be drilled
    with a #30 bit; make sure to countersink them deeply enough for a 4-40 flathead
    screw. Finally, drill hole D with a 1/2-inch bit. Tap holes A and G for a 5/16×18×3/4–inch
    bolt, which will hold the battery cables.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 对于孔A和G，使用9/32英寸的钻头。孔B、C、E和F应使用#30钻头钻孔；确保它们被深度沉孔，以适应4-40平头螺钉。最后，使用1/2英寸的钻头钻孔D。为孔A和G攻丝，使用5/16×18×3/4英寸的螺栓，这将用于固定电池电缆。
- en: '**CAUTION**'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: '**警告**'
- en: '*While copper is not hard, it tends to grab a drill bit and climb up the bit.
    Always hold the copper piece in a vise, in a clamp, or with pliers when drilling.
    Never attempt to hold the copper with unprotected hands*.'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '*虽然铜不硬，但它容易抓住钻头并沿着钻头攀爬。在钻孔时，始终将铜件夹在台钳中、夹具里或用钳子固定。绝不要用裸露的手持铜件*。'
- en: 'When all seven holes are drilled, set the base of the copper contact on the
    phenolic contact support so that the 1/2-inch center hole in the copper is centered
    as closely as possible on the 1/4-inch center hole in the phenolic support and
    the bar is centered along the entire length of the contact support. Make sure
    the bar is equidistant from both sides of the support, hold the two pieces together
    firmly, and mark holes B, C, E, and F. Center punch the marks you just made in
    the contact support, drill them with a #43 drill, tap them for a 4-40 screw, and
    set the contact support aside again.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 当七个孔都钻好后，将铜接触的底部放置在酚醛接触支撑上，使铜条中的1/2英寸中心孔尽可能精确地对准酚醛支撑中的1/4英寸中心孔，并且铜条在接触支撑的整个长度上居中。确保铜条两侧的距离相等，牢牢地将两件配件固定在一起，并标记B、C、E和F孔。用中心打孔器打出刚才标记的孔，在接触支撑上用#43钻头钻孔，并攻丝为4-40螺丝，再次将接触支撑放到一边。
- en: Now, mark the exact center of the copper contact, which should perfectly bisect
    the 1/2-inch hole. Cut the piece in two at this marker; a hacksaw should work
    well for this. Then, cut a 3/4×3/4–inch square of your leftover 3/16×3/4–inch
    copper bar, and mark the center by making diagonal lines from corner to corner.
    Center punch and drill a 1/4-inch hole where those lines intersect. This copper
    square will become the actual contact.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，标记铜接触的精确中心，中心应当恰好平分1/2英寸的孔。根据这个标记将铜条剪成两段；锯条应该能很好地完成这个工作。接着，用剩余的3/16×3/4英寸的铜条切割出一个3/4×3/4英寸的正方形，并通过从角到角画对角线来标记中心。在交点处居中打孔，钻一个1/4英寸的孔。这个铜方块将成为实际的接触部分。
- en: 'The final hole to make in the copper contact assembly is somewhere between
    holes E and F, on the outer edge of the bar; look for the little screw sticking
    out of the contact bar in [Figure 6-18](ch06.xhtml#ch06fig18) (circled). Drill
    a #43 hole and tap for a 4-40 screw. This is where the switched positive voltage
    to the Pro Mini comes from. [Figure 6-18](ch06.xhtml#ch06fig18) shows all the
    contact and mounting hardware drilled.'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 铜接触组件中需要打的最后一个孔位于E和F孔之间，条形的外缘上；请查看[图6-18](ch06.xhtml#ch06fig18)（已圈出），寻找从接触条上突出的小螺丝。钻一个#43的孔并攻丝以适应4-40螺丝。这就是连接到Pro
    Mini的开关正电压的来源。[图6-18](ch06.xhtml#ch06fig18)显示了所有接触和安装硬件的钻孔情况。
- en: '![image](../images/f06-18.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-18.jpg)'
- en: '*Figure 6-18: The contact and support hardware ready for assembly*'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-18：准备组装的接触和支撑硬件*'
- en: '***Mounting Supplies for the Solenoid***'
  id: totrans-188
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***电磁铁的安装材料***'
- en: Depending on your solenoid, the mounting process may vary slightly from the
    one described here. The frame of the solenoid I used had two holes tapped for
    a 4-40 screw in the bottom. However, there was precious little room between the
    frame and the coil, so I elected to look for an alternative mounting approach—a
    very aggressive double-sided adhesive. If you still want to mount the solenoid
    with screws, judge the screw length carefully. With either mounting approach,
    the solenoid was not high enough to line up with the release mechanism, so I had
    to add a platform.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的电磁铁，安装过程可能会有所不同。我使用的电磁铁框架底部有两个孔，已攻丝适合4-40螺丝。然而，框架和线圈之间的空间非常狭窄，因此我决定寻找一种替代的安装方法——一种非常强力的双面胶。如果你还是希望用螺丝安装电磁铁，仔细判断螺丝的长度。无论采用哪种安装方式，电磁铁都没有足够的高度与释放机制对接，因此我不得不添加一个平台。
- en: '***Preparing the Release Rod, Springs, and E-Clip***'
  id: totrans-190
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***准备释放杆、弹簧和E型卡簧***'
- en: As with the other mechanical components of the Battery Saver, the release rod
    to reset the contacts just needs a little TLC. Begin with a section of 1/4-inch
    brass rod, and cut it to 4 1/4 inches in length. Measure 1 1/8 inches down from
    one end, and make a groove for the spring retaining clip to fit into, as shown
    in [Figure 6-19](ch06.xhtml#ch06fig19).
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 和电池节能器的其他机械组件一样，重置接触的释放杆只需要一点点关爱。从一段1/4英寸的黄铜棒开始，将其切割成4 1/4英寸长。从一端量起1 1/8英寸，制作一个槽以便春季固定夹的安装，如[图6-19](ch06.xhtml#ch06fig19)所示。
- en: In order to cut the groove, I mounted the bar in the chuck of an electric drill
    that I clamped to my workbench and used a hacksaw blade to carefully groove the
    piece, guiding the hacksaw blade with my fingers. The set on the hacksaw blade
    is a little wide, but the depth of the groove, not the width, is the important
    part. That said, the groove doesn’t have to be very deep. I recommend you cut
    the groove in small increments and keep trying the retaining clip until it fits
    snuggly.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 为了切割槽口，我将条形件安装在电钻的夹头中，然后将电钻固定在工作台上，使用锯条小心地在材料上开槽，手指引导锯条。锯条的齿距有些宽，但槽口的深度，而不是宽度，才是最重要的。话虽如此，槽口不需要太深。我建议你逐步切割槽口，并不断试装保持夹子，直到它牢固地合适为止。
- en: '[Figure 6-19](ch06.xhtml#ch06fig19) also shows the configuration of the springs.
    The bottommost spring will rest on the phenolic block and keep the copper contact
    off the contact areas until the release rod is depressed. It should be small enough
    that it does not touch either side of the copper contacts. (Remember, the hole
    in the square contact is 1/2-inch wide, so the spring needs to be smaller than
    that.) When depressed, the top spring overrides the lower spring and keeps the
    upper part of the switch in firm contact with the lower sections. You can make
    fine adjustments of the spring length on a small grinder, or you can use a Dremel
    tool or a hand whetstone.'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6-19](ch06.xhtml#ch06fig19)也展示了弹簧的配置。最底部的弹簧将放置在酚醛块上，直到释放杆被压下时，才会将铜触点从触点区推开。它的大小应足够小，以免碰到铜触点的两侧。（记住，方形触点的孔宽为1/2英寸，所以弹簧的大小需要小于此。）当释放杆被按下时，顶部弹簧会覆盖住下部弹簧，并保持开关的上半部分与下半部分牢固接触。你可以在小型磨床上微调弹簧长度，或者使用德美工具（Dremel）或手动磨石。'
- en: '![image](../images/f06-19.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-19.jpg)'
- en: '*Figure 6-19: The upper section of the release bar. There are two grooves in
    the bar; the lower one was made in error. The springs used on the release rod
    were selected from a standard spring assortment from Ace Hardware and cut down
    to fit the project*'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-19：释放条的上半部分。条上有两个槽；下部槽是错误做成的。用于释放杆的弹簧是从Ace Hardware的标准弹簧套件中选出的，并裁剪到适合项目的大小。*'
- en: Now, measure 4 inches from the same end, and file the release groove in the
    lower half of the 1/4-inch release bar using a small needle file. [Figure 6-20](ch06.xhtml#ch06fig20)
    shows both the needle file used and the shape of the release groove. (You might
    want to use a hacksaw first to make the groove, and shape the upper side with
    a file.)
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，从同一端量取4英寸，并使用小针锉在1/4英寸的释放条下半部分锉出释放槽。[图6-20](ch06.xhtml#ch06fig20)展示了使用的针锉以及释放槽的形状。（你可能想先用锯子锯出槽口，然后用锉刀修整上面部分。）
- en: '![image](../images/f06-20.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-20.jpg)'
- en: '*Figure 6-20: A close up of the release groove in the bottom of the release
    rod (top) and the small needle file used to make the groove (bottom)*'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-20：释放杆底部释放槽的特写（上图），以及用来制作槽的针锉（下图）。*'
- en: The shape of the release groove is not overly critical, but make sure there
    is a slight bevel on the top side. The swirls you see on the shaft were made with
    400-grit sandpaper I used to smooth the rod so it slides smoothly through the
    phenolic block and hole in the case and contact piece.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 释放槽的形状并不十分关键，但确保上侧有轻微的倒角。你在轴上看到的漩涡是我用400目砂纸磨光杆子所留下的，以便它能平滑地滑过酚醛块、机壳中的孔以及触点件。
- en: '***Making the Release Lever and Pylon***'
  id: totrans-200
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***制作释放杆和塔架***'
- en: The release lever is made of a small piece of light-gauge steel sheet metal,
    approximately 0.060 inches thick. Use the pattern in [Figure 6-21](ch06.xhtml#ch06fig21)
    to cut the lever. In this book’s online resource files, you can find a PDF file
    of the lever template. Because the template is pretty small, you might try bonding
    the template to a blank piece of similarly sized stock, holding it in a pair of
    pliers (vise grips work well), and shaping the piece on a grindstone. Once you’ve
    bonded the template to the stock, you can also use a file to shape it.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 释放杆由一小块轻型钢板制成，厚度大约为0.060英寸。使用[图6-21](ch06.xhtml#ch06fig21)中的图样切割杠杆。在本书的在线资源文件中，你可以找到杠杆模板的PDF文件。由于模板相当小，你可以尝试将模板粘贴到一块大小相似的空白材料上，夹住它（活络钳效果不错），然后在磨石上塑形。将模板粘贴到材料上后，你也可以使用锉刀来修整它。
- en: '![image](../images/f06-21.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-21.jpg)'
- en: '*Figure 6-21: The release lever template*'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-21：释放杆模板*'
- en: 'With a pair of tin snips, I cut a rectangle first and then cut the shape of
    the release lever. I firmly clamped the piece in place with a vise so I could
    finish shaping it with a file. Mild steel files easily with a satisfying feel.
    (You could also shape the lever with a small grinding wheel or a Dremel tool with
    an abrasive wheel.) Make the piece a little oversized at first, as indicated in
    the template, as it may require some adjustment in the final assembly. The lever
    should be under pressure from the tension spring, and should securely hold the
    release rod so that the square copper piece is firmly in contact with the both
    sides of the bottom copper contact assembly. Both pivot holes in the lever—one
    to attach to the solenoid and one to attach to the release pylon—are drilled with
    a #30 drill.'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 使用一把锡剪，我首先剪出一个矩形，然后剪出释放杠杆的形状。我将零件牢牢夹在台钳中，这样我就可以用锉刀完成它的成形。软钢用锉刀锉削时手感很好。（您也可以使用小型磨轮或带有磨砂轮的Dremel工具来塑形。）首先根据模板制作略大一些的零件，因为在最终组装时可能需要进行一些调整。杠杆应该受到弹簧的压力，并能牢固地固定释放杆，使得方形铜件紧密接触底部铜接触组件的两侧。杠杆上的两个铰链孔——一个用于连接电磁铁，另一个用于连接释放支柱——都用#30号钻头打孔。
- en: The pylon is for mounting the release lever to the enclosure, and it can be
    made of any scrap brass or aluminum you may have around. The pylon in [Figure
    6-22](ch06.xhtml#ch06fig22) was made from a 3/8-inch diameter brass rod. I reduced
    the top section’s diameter because I didn’t want the pylon to rub on the release
    rod, but that probably was not necessary.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 这个支柱用于将释放杠杆安装到外壳上，您可以使用任何手头有的废铜或铝材来制作支柱。[图6-22](ch06.xhtml#ch06fig22)中的支柱是用直径为3/8英寸的黄铜棒做成的。我缩小了顶部部分的直径，因为我不希望支柱与释放杆摩擦，但那可能并不是必需的。
- en: '![image](../images/f06-22.jpg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-22.jpg)'
- en: '*Figure 6-22: The release lever, the pylon, and two screws*'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-22：释放杠杆、支柱和两个螺丝*'
- en: Cut the pylon to about 0.61 inches long so that when mounted inside the enclosure,
    the end attached to the release lever hits the release rod just below the center
    of its diameter. This dimension is dependent on how precisely the release rod
    hole is drilled into the center of the top of the enclosure. Run the release rod
    through the hole, and measure how far from the back of the enclosure its center
    is. The pylon should be a little shorter than that.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 将支柱切割到大约0.61英寸长，这样当它安装在外壳内部时，连接到释放杠杆的一端将刚好撞击释放杆的直径中心下方。这个尺寸取决于释放杆孔是否准确地钻到外壳顶部的中心。将释放杆穿过孔，测量它距离外壳背面的中心有多远。支柱应该比这个长度稍短一些。
- en: You can make the top of the pylon smaller by chucking it into a drill like a
    bit and spinning it on a file. When you finally assemble the Battery Saver, you
    may also have to adjust the height of the pylon slightly to accommodate the thickness
    of the release lever and altitude of the release rod if the hole was not drilled
    perfectly straight.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过将支柱的顶部夹入钻机中，像钻头一样旋转并用锉刀修整它，使其变得更小。在最终组装电池节省器时，如果孔没有钻得完全垂直，您可能还需要稍微调整支柱的高度，以适应释放杠杆的厚度和释放杆的高度。
- en: 'Drill a #43-sized hole near the center of the pylon all the way through, and
    tap for a 4-40 screw from both sides. One side will mount to the back of the enclosure,
    and the other will hold the release lever. To make sure the screw doesn’t go down
    too far and tighten against the release lever, I tapped down only about 3/16 inches
    so the screw bottomed out and jammed. [Figure 6-23](ch06.xhtml#ch06fig23) illustrates
    what the tapped pylon should look like.'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 在支柱的中心附近钻一个#43号大小的孔，贯穿支柱两侧，并从两面攻丝以适配4-40螺丝。一个螺丝将用于安装到外壳背面，另一个将固定释放杠杆。为了确保螺丝不会拧得太紧并卡住释放杠杆，我仅攻丝约3/16英寸，这样螺丝就会到底并卡住。[图6-23](ch06.xhtml#ch06fig23)展示了攻丝后的支柱样子。
- en: '![image](../images/f06-23.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-23.jpg)'
- en: '*Figure 6-23: Inside the pylon*'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-23：支柱内部*'
- en: You can adjust either the length of the tapped hole or the length of the screw
    to make sure the release lever is free to move but secure, using the screw head
    as a bearing surface. For fastening both the release-lever bearing screw and the
    pylon mounting screw, I recommend using an anaerobic adhesive (such as Loctite
    Threadlocker) to secure the threads.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以调整攻丝孔的长度或螺丝的长度，确保释放杠杆能自由移动但又稳固，用螺丝头作为支撑表面。为了固定释放杠杆的轴承螺丝和支柱安装螺丝，我建议使用厌氧胶粘剂（如Loctite
    Threadlocker）来确保螺纹牢固。
- en: '***Assembling All the Parts***'
  id: totrans-214
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***组装所有零件***'
- en: 'Now, we’re ready to start putting all the parts from [Figure 6-13](ch06.xhtml#ch06fig13)
    together and fastening them where they belong. The order of assembly is not overly
    critical, but more a matter of common sense. I’ll go through it step-by-step:'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们准备将[图6-13](ch06.xhtml#ch06fig13)中的所有部分组合在一起，并将它们固定在适当的位置。组装顺序并不非常关键，更多的是依靠常识。我将逐步进行说明：
- en: Start by screwing the copper contact pieces into the phenolic support. Make
    sure the screw heads are below the surface of the copper. This is critical to
    assure good contact with the contact bar. Prior to assembly, as an added measure
    to improve the contact area, I sanded both the contact pieces and contact cap
    with a 400-grit sandpaper. To assure flatness, I put the sandpaper on a flat surface
    and rubbed the copper on it.
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从将铜接触件拧入酚醛支架开始。确保螺钉头部低于铜的表面。这对于确保与接触条的良好接触至关重要。在组装之前，为了提高接触面积，我用400目砂纸打磨了铜接触件和接触帽。为了确保平整，我将砂纸放在平面上，并将铜件在上面摩擦。
- en: Slide the phenolic support into the enclosure, and fasten it with the four 4-40×1/2-inch
    screws.
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将酚醛支架滑入外壳，并用四个4-40×1/2英寸的螺钉将其固定。
- en: Insert the release rod through the enclosure, and then thread it through the
    pressure spring, then through the copper contact, and finally through the release
    spring and down through the phenolic base. Insert the e-clip. This may be a little
    tricky. You’ll have to hold the clip with a pair of needle-nose pliers.
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将释放杆穿过外壳，然后将其穿过压力弹簧，再穿过铜接触件，最后穿过释放弹簧并下穿酚醛基座。插入E型卡簧。这可能有些棘手，你需要用一把尖嘴钳固定卡簧。
- en: Measure for the location of the pylon, and mount it to the enclosure with a
    4-40×1/2-inch flathead screw. The pylon should be inside the enclosure, and the
    screw should be threaded in from the outside.
  id: totrans-219
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测量塔柱的位置，并用4-40×1/2英寸的平头螺钉将其固定到外壳上。塔柱应该位于外壳内部，螺钉应从外部拧入。
- en: Screw the release lever to the pylon, and check by hand that it engages the
    release groove and secures the release rod. This is a little tricky, and you may
    have to adjust the release lever by grinding or filing it a little to fit in the
    release rod’s groove. Once you have the lever in place, you can operate it with
    your fingers and assure that it locks tightly to the release-rod groove.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将释放杠杆拧到塔柱上，并手动检查它是否与释放槽啮合，并固定释放杆。这有点棘手，可能需要通过打磨或修整释放杠杆来调整它，以适应释放杆的槽。一旦杠杆到位，你可以用手指操作它，确保它牢牢地锁定在释放杆槽中。
- en: Install the spacer on the solenoid.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将垫片安装到电磁铁上。
- en: Temporarily mount the solenoid to the enclosure, and screw the release lever
    to the solenoid. To do this, I first unfastened the release lever from the pylon
    and fastened the other end to the solenoid plunger. I then applied double-sided
    tape to the bottom of the spacer, juggled everything in place, and loosely placed
    the screw through the release lever and into the pylon.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 临时将电磁铁安装到外壳上，并将释放杠杆固定到电磁铁上。为此，我首先将释放杠杆从塔柱上解开，并将另一端固定到电磁铁活塞上。接着，我在垫片底部贴上双面胶带，将所有部件调整到位，并将螺钉松动地放入释放杠杆，并拧入塔柱。
- en: Exercise the release mechanism with the solenoid held in place. Once the release
    rod holds the top switch contact firmly down, mark the holes for the solenoid
    spacer.
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在保持电磁铁固定的位置的情况下，操作释放机制。一旦释放杆牢固地按下了顶部开关接触点，就标记电磁铁垫片的位置。
- en: Drill and tap holes in the enclosure to securely mount the solenoid and spacer
    to the enclosure. Alternatively, fasten the solenoid with double-sided adhesive,
    such as 3M outdoor double-sided adhesive.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在外壳上钻孔并攻丝，以牢固地将电磁铁和垫片固定到外壳上。或者，也可以使用双面胶带（如3M户外双面胶带）将电磁铁固定。
- en: Run the wires that will connect the solenoid to the Pro Mini circuit under the
    release rod, and connect them to the solenoid using the connectors.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将连接电磁铁到Pro Mini电路的电线从释放杆下方穿过，并使用连接器将其连接到电磁铁。
- en: Run the ground wire from the Pro Mini circuit under the release rod and out
    through the slotted opening for the copper bar. (It’s the dark wire sticking out
    of the enclosure on the left in [Figure 6-14](ch06.xhtml#ch06fig14).) You may
    want to either drill small holes in the phenolic for the wires or carve small
    grooves to run the wire through, using a Dremel tool and a small circular saw
    blade like the one shown in [Figure 6-16](ch06.xhtml#ch06fig16). You can also
    make a groove with a file or hacksaw.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Pro Mini电路的接地线从释放杆下方引出，并通过铜条的槽口开口穿出。（它是[图6-14](ch06.xhtml#ch06fig14)中从外壳左侧突出出来的黑色电线。）您可能需要在酚醛块上钻小孔给电线留出通道，或者使用Dremel工具和小圆锯片（如[图6-16](ch06.xhtml#ch06fig16)中所示）雕刻小槽来让电线通过。您也可以使用锉刀或钢锯锯条制作槽口。
- en: Attach the red positive voltage wire with the lug to the copper switch pole
    at the last hole you tapped in “[Preparing the Copper Contact Assembly](ch06.xhtml#ch06lev2sec7)”
    on [page 173](ch06.xhtml#page_173). Use a 4-40×3/8-inch roundhead screw.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将红色正电压线与接头连接到[第173页](ch06.xhtml#page_173)中《[准备铜接触组件](ch06.xhtml#ch06lev2sec7)》最后一个孔的铜开关极上。使用4-40×3/8英寸的圆头螺钉。
- en: Mount the shield using small spacers. If you can’t find a solder lug, you can
    solder-tin the wire, form it so it fits around the screw snugly, and then tighten
    the screw.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用小间隔垫安装屏蔽板。如果找不到焊接接头，您可以先对电线进行焊锡处理，然后将其形成适合螺丝的形状，紧固螺丝。
- en: Compare your Battery Saver to the finished device in [Figure 6-14](ch06.xhtml#ch06fig14)
    to make sure everything looks right. When the battery voltage reaches the trigger
    point, the Arduino triggers the solenoid, which releases the lever. Freed from
    the release lever, the rod pops up from the spring tension of the lower spring.
    The lower spring holds the contact piece above the copper mounted to the phenolic
    block, opening the circuit. To reset the Battery Saver, just push the rod back
    down again. Before doing a final test, check the latching of the release lever
    and rod several times.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 将您的电池保护器与[图6-14](ch06.xhtml#ch06fig14)中的完成设备进行比较，以确保一切正常。当电池电压达到触发点时，Arduino会触发电磁铁，从而释放杠杆。杠杆释放后，杆子从下弹簧的弹力中弹出。下弹簧将接触片保持在铜片上方，铜片被安装在酚醛块上，从而切断电路。要重置电池保护器，只需将杆子重新推下。进行最终测试之前，请多次检查释放杠杆和杆子的卡扣情况。
- en: '**Installing the Battery Saver into a Vehicle**'
  id: totrans-230
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**将电池保护器安装到车辆中**'
- en: Connecting your Battery Saver to your vehicle takes only minutes. First, disconnect
    both the positive and negative terminals from your battery. Then, connect a short
    battery cable from the positive side of the battery to the input side of the Battery
    Saver. Take the output side of the Battery Saver and connect it to the cable that
    originally connected to the battery. Connect the black wire to the negative terminal
    that will be reconnected to the battery.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 将电池保护器连接到车辆上只需要几分钟。首先，断开电池的正负极接头。然后，从电池的正极接一个短电池线到电池保护器的输入端。再将电池保护器的输出端连接到原先连接到电池的电缆上。将黑色电线连接到将要重新接回电池的负极端子。
- en: Mounting the entire enclosure will depend on where and how your vehicle’s battery
    and/or battery box are located. In many cases, the Battery Saver can simply hang
    from the battery cables. In other applications, I’ve used a heavy-duty cable tie
    to wrap around the entire battery and Battery Saver to hold it in place. In some
    cases, double-sided Velcro works well.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 安装整个外壳的方式将取决于您的车辆电池和/或电池箱的位置及安装方式。在许多情况下，电池保护器可以直接挂在电池电缆上。在其他应用中，我使用了重型电缆扎带，将其绕在整个电池和电池保护器周围，以固定位置。在某些情况下，双面魔术贴也能很好地起到固定作用。
- en: '**Operating the Battery Saver**'
  id: totrans-233
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**操作电池保护器**'
- en: In operation, once the Battery Saver is installed (see [Figure 6-24](ch06.xhtml#ch06fig24)),
    restore the ground connection to the battery and hook that ground connection to
    the Battery Saver. Then, set the Battery Saver by depressing the reset button—that
    is, the top of the release bar—until the unit is armed. You should hear or feel
    a click as you depress the reset button and the release lever engages.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 在操作中，一旦电池保护器安装完成（见[图6-24](ch06.xhtml#ch06fig24)），恢复电池的接地连接，并将该接地连接挂接到电池保护器。然后，通过按下重置按钮——也就是释放杆的顶部——来设置电池保护器，直到设备被激活。当您按下重置按钮并且释放杠杆卡住时，应该能听到或感觉到“咔哒”一声。
- en: '![image](../images/f06-24.jpg)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-24.jpg)'
- en: '*Figure 6-24: The Battery Saver installed in my Boston Whaler runabout. The
    battery hooks up to the battery post and to the positive connection for the motor
    and accesssories. The ground lead of the battery was fed through the back of the
    battery box. The reset plunger is readily accessible*.'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-24：安装在我波士顿Whaler小艇上的电池节能器。电池连接到电池端子，并与电机及配件的正极连接。电池的地线穿过电池盒的背部。重置按钮非常容易接触到*。'
- en: '***Normal Operation***'
  id: totrans-237
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***正常操作***'
- en: As long as the battery is fully charged and above the threshold voltage, the
    “on” indicator will blink at the rate established in the `timer()` function, which
    is approximately once every 2.2 seconds. When the battery voltage drops below
    the threshold level, which is set at approximately 11.9V via variable `B` in the
    sketch, the indicator LED begins flashing rapidly. When the LED sequence finishes,
    which is after about 3 minutes, the voltage will be checked once again. If the
    voltage is still below the threshold, the battery is disconnected; otherwise,
    it just returns to normal operation.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 只要电池充满电并且电压高于阈值电压，"开"指示灯将以`timer()`函数中设定的速率闪烁，约每2.2秒闪烁一次。当电池电压低于阈值时，指示灯将开始快速闪烁。阈值电压大约设置在11.9V，通过电路图中的可变`B`进行调整。当LED序列完成，即大约3分钟后，电压将再次被检查。如果电压仍然低于阈值，电池将被断开；否则，系统将恢复正常操作。
- en: When you reset the Battery Saver after it has shut off, it will resume operation.
    After reset, if the battery voltage is above the threshold, the indicator will
    blink at the usual rate of once every 2.2 seconds. Often when the drain is removed
    from a battery discharged to some level, the battery recovers somewhat on its
    own after a relatively short time. If, however, the voltage is below the threshold
    level, the indicator will blink rapidly for the timeout period, as indicated earlier,
    to allow for the operator to start the boat, tractor, or other vehicle. You can
    set the timeout period by changing the value of `j` in the `timer2()` function.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在电池节能模式关闭后重置它时，系统将恢复运行。重置后，如果电池电压高于阈值，指示灯将按照每2.2秒闪烁一次的正常速率闪烁。通常，当电池从某个放电水平移除负载后，电池会在相对较短的时间内自行恢复。然而，如果电压低于阈值，指示灯将按照超时周期快速闪烁，如前所述，以允许操作员启动船只、拖拉机或其他车辆。你可以通过更改`timer2()`函数中`j`的值来设置超时周期。
- en: The maximum value of the `j` variable is set at 1,800 in the initial sketch,
    and incrementing or decrementing `j` will add or subtract 100 milliseconds from
    the total timeout period. Thus, to set the timeout period to 5 minutes, you would
    set the maximum value of `j` to 3,000.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '`j`变量的最大值在初始电路图中设置为1,800，增减`j`的值将分别增加或减少100毫秒的总超时周期。因此，要将超时周期设置为5分钟，你可以将`j`的最大值设置为3,000。'
- en: '***Setting the Threshold Voltage***'
  id: totrans-241
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***设置阈值电压***'
- en: The threshold voltage is established by resistors R1 and R2 with values of 10,000
    and 5,600 ohms, respectively (see the schematic in [Figure 6-6](ch06.xhtml#ch06fig6)).
    These are set up as a voltage divider. According to the voltage divider calculation,
    whether you use a calculator or work it out with the formula, the voltage will
    be approximately 4.31V for a 12V input. Thus, you can calculate the exact threshold
    voltage at which you want the device to shut off the battery current by setting
    the threshold trigger point, which is `B` in the sketch, to whatever value you
    wish. While I calculated the theoretical value of the threshold, I experimented
    and found that a value of 387 establishes the shutoff threshold point at about
    11.9V.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 阈值电压由电阻R1和R2决定，分别为10,000欧姆和5,600欧姆（参见[图6-6](ch06.xhtml#ch06fig6)中的原理图）。它们被设置为电压分压器。根据电压分压计算，无论是使用计算器还是根据公式计算，12V输入下的电压大约为4.31V。因此，你可以通过设置阈值触发点，即电路图中的`B`，来计算你希望设备关闭电池电流时的确切阈值电压。虽然我计算了理论阈值，但通过实验我发现将`B`设置为387时，关闭电池电流的阈值大约为11.9V。
- en: '**ON BATTERY TYPES**'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**电池类型**'
- en: I experimented with several batteries and loads and found setting `B` to 387
    consistently leaves at least half the energy in the battery after shutdown to
    restart the engine. On several different batteries, ranging from the small battery
    on a portable generator to large-capacity batteries for starting a truck, the
    same value seemed to work well.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 我通过几块电池和负载进行了实验，发现将`B`设置为387时，关机后电池至少还剩下一半电量，用于重新启动发动机。在几种不同的电池上，从便携式发电机的小电池到用于启动卡车的大容量电池，设置相同的值似乎都能很好地工作。
- en: That said, I have little experience with deep-cycle batteries and know that
    they have very different discharge parameters. If you want to attempt to use the
    Battery Saver for such batteries, take a look at their discharge rates and voltages,
    and set the threshold accordingly.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，我对深循环电池了解甚少，知道它们具有非常不同的放电参数。如果你想尝试将电池节省器用于这类电池，请查看它们的放电速率和电压，并相应地调整阈值。
- en: '***Protection from the Environment***'
  id: totrans-246
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***防护环境***'
- en: Unfortunately, the Battery Saver is not weatherproof, and most applications
    call for it to be used in somewhat hostile environments. There are, however, a
    couple of possible solutions. On a variety of vehicles, including boats and tractors,
    I have wrapped the device in a plastic bag and tightly wrapped wire ties around
    the cables where they enter and exit the device.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，电池节省器并不防水，而大多数应用场景要求它在某种程度上能够适应恶劣环境。然而，也有一些可能的解决方案。在各种车辆上，包括船只和拖拉机，我将设备包裹在塑料袋中，并将电缆进入和退出设备的地方用电缆扎带紧紧固定。
- en: But that’s not terribly attractive, and I took some abuse from the distaff side
    of the family, so I applied Permatex silicon RTV sealant around all the openings
    where the copper bar comes through—but not where the reset (brass) rod comes through—and
    sealed all the screws.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 但那样看起来不太美观，我还因此受到了家族中女性成员的一些责备，于是我在所有铜条穿过的开口周围涂上了Permatex硅胶RTV密封剂——但不包括重置（黄铜）杆的穿过处——并封住了所有的螺丝。
- en: For the reset button, I had difficulty finding a protective covering nipple
    (you would be surprised at what I found on the web), so I settled for affixing
    the top of an eye dropper to the enclosure with the silicone sealant. This also
    keeps the reset bar—which is hot to 12V when depressed—from shorting out.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 对于重置按钮，我很难找到合适的保护套（你会对我在网上找到的东西感到惊讶），所以我最终用硅胶密封剂将一个滴眼液瓶的顶部固定在外壳上。这样也可以防止重置条——当按下时，带有12V电压——短路。
- en: '***Applying Cool Amp***'
  id: totrans-250
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***应用Cool Amp***'
- en: While the copper-on-copper contacts work well, I burnished them with very fine
    sandpaper (400 grit) before assembly. Even though the untreated contacts have
    been used on a number of versions of the Battery Saver and have never failed,
    I decided to use Cool Amp, a simple-to-use silver-plating compound, for this version.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管铜对铜接触良好，我还是在组装前用非常细的砂纸（400目）进行了打磨。即使未处理的接触点已在多个版本的电池节省器中使用且从未失败，但我决定在这一版本中使用Cool
    Amp，这是一种易于使用的银镀合金。
- en: For very little cost, I was able to silver-plate the contact area of the contact
    bar and plate and thus reduce their resistance. [Figures 6-25](ch06.xhtml#ch06fig25)
    and [6-26](ch06.xhtml#ch06fig26) show the difference between unplated and plated
    copper.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 通过非常低的成本，我成功地对接触条和接触板的接触区域进行了银镀，从而降低了它们的电阻。[图6-25](ch06.xhtml#ch06fig25)和[6-26](ch06.xhtml#ch06fig26)显示了未镀和镀银铜的差异。
- en: '![image](../images/f06-25.jpg)'
  id: totrans-253
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-25.jpg)'
- en: '*Figure 6-25: Battery Saver contacts after burnishing but before treatment
    with Cool Amp*'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-25：电池节省器接触点在打磨后，但在使用Cool Amp处理前的状态*'
- en: '![image](../images/f06-26.jpg)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-26.jpg)'
- en: '*Figure 6-26: Battery Saver contacts after silver plating with Cool Amp*'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-26：电池节省器接触点在使用Cool Amp银镀后的效果*'
- en: While this additional lowering of resistance is probably not necessary, all
    the current for the vehicle passes through this contact, so I figured it wouldn’t
    hurt to be on the safe side. Further, I have used the Battery Saver in marine
    applications around saltwater, and the copper parts have acquired a green patina
    while the silver-plated areas have not.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这种额外降低电阻的措施可能并非必要，但车辆的所有电流都必须通过这个接触点，因此我认为在安全方面多做一些准备并不会有坏处。此外，我在海洋环境中使用过电池节省器，接触点周围的铜部件已经获得了绿色的铜绿，而银镀部分则没有。
- en: I have used Cool Amp on a number of contacts, from motor-starting contacts to
    heavy-duty relay contacts, and it works well. You can learn more about Cool Amp
    at *[http://www.coolamp.com/](http://www.coolamp.com/)*.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 我已经在多个接触点上使用了Cool Amp，从电动机启动接触点到重型继电器接触点，它的效果很好。你可以在*[http://www.coolamp.com/](http://www.coolamp.com/)*了解更多关于Cool
    Amp的信息。
- en: '**NOTE**'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*Copper does not oxidize too rapidly and the most common oxide of copper is
    highly conductive, which is one reason it is commonly used for current switching.
    Silver has the same properties—only better*.'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '*铜不会迅速氧化，铜的最常见氧化物具有高度的导电性，这也是铜常用于电流开关的原因之一。银具有相同的性质——只不过更好*。'
- en: '**MY ORIGINAL IDEA**'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '**我的原始想法**'
- en: I hold a US patent (4,149,093, now expired) on a device similar to the Battery
    Saver. The patent drawing is shown in [Figure 6-27](ch06.xhtml#ch06fig27). Notice
    how similar it is to this project, despite being made decades earlier. It had
    essentially the same function, even though microcontrollers hadn’t been invented
    yet!
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 我持有一项美国专利（4,149,093，现已过期），该专利涉及与电池节能器类似的设备。专利图纸见于[图6-27](ch06.xhtml#ch06fig27)。注意，即使是在几十年前制造的，它与这个项目的相似程度仍然很高。尽管当时还没有发明微控制器，它的功能基本相同！
- en: '![image](../images/f06-27.jpg)'
  id: totrans-263
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f06-27.jpg)'
- en: '*Figure 6-27: A patent drawing of the Battery Saver’s predecessor*'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: '*图6-27：电池节能器前身的专利图纸*'
