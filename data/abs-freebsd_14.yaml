- en: '**14'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**14'
- en: EXPLORING /ETC**
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 探索 /etc**
- en: '![image](../images/common01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common01.jpg)'
- en: The */etc* directory contains the basic configuration information needed to
    boot a Unix-like system. Every time I get saddled with an unfamiliar system, one
    of the first things I do is scope out */etc*. The fastest way to go from a junior
    sysadmin to a midgrade one is to read */etc* and the associated man pages. Yes,
    all of it. Yes, this is a lot of reading. Understanding */etc* means that you
    understand how the system hangs together. As you progress as a sysadmin, you’re
    going to pick up this information piecemeal anyway, so you might as well take
    the easier route and master this part of your toolkit at the beginning.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc*目录包含了启动类Unix系统所需的基本配置信息。每当我接触到一个陌生的系统时，我做的第一件事之一就是查看*/etc*。从初级系统管理员成长为中级系统管理员的最快途径之一就是阅读*/etc*和相关的手册页面。是的，全部都要读。是的，这是一大堆阅读材料。理解*/etc*意味着你理解了系统的整体结构。随着你作为系统管理员的进步，你将会零散地获得这些信息，所以最好一开始就通过这个更轻松的路径，掌握这部分工具。'
- en: I discuss many */etc* files in chapters where they’re most important, such as
    */etc/services* in [Chapter 7](ch07.xhtml#ch07) and */etc/fstab* in [Chapter 10](ch10.xhtml#ch10).
    Also, some files are of only historical interest or are gradually being removed.
    This chapter covers important */etc* files that don’t quite fit anywhere else.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我在各个章节中讨论了许多*/etc*文件，通常是在它们最重要的地方，比如在[第7章](ch07.xhtml#ch07)中讨论*/etc/services*，以及在[第10章](ch10.xhtml#ch10)中讨论*/etc/fstab*。此外，一些文件仅有历史意义或正在逐渐被移除。本章涵盖了其他章节没有涵盖的重要*/etc*文件。
- en: '**/etc Across Unix Species**'
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc 在类Unix系统中的表现**'
- en: Different Unix-like systems use different */etc* files. In many cases, these
    files are simply renamed or restructured files from primordial BSD. The first
    time I encountered an IBM AIX system, for example, I went looking for a BSD-style
    */etc/fstab*. It wasn’t there. A little hunting led me to */etc/filesystems*,
    which is an IBM-specific */etc/fstab*. Apparently IBM felt that a file named for
    an abbreviation of *filesystem table* was confusing, so they renamed the file.
    Knowing this information existed somewhere in */etc*, and knowing which files
    it obviously wasn’t in, greatly shortened my search.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的类Unix系统使用不同的*/etc*文件。在许多情况下，这些文件只是最初的BSD系统中的文件重新命名或重构的结果。例如，当我第一次遇到IBM AIX系统时，我去寻找一个BSD风格的*/etc/fstab*。结果并没有找到。稍作查找，我发现了*/etc/filesystems*，它是IBM特定的*/etc/fstab*。显然，IBM认为“文件系统表”（filesystem
    table）缩写的文件名让人困惑，所以他们重新命名了该文件。知道这个信息存在于*/etc*的某个地方，并且知道哪些文件显然不包含这些信息，极大地缩短了我的搜索时间。
- en: Even radically different FreeBSD systems have almost identical */etc* directories.
    While some add-on programs insert their own files here, you can expect certain
    files to be on every FreeBSD system you encounter.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 即使是完全不同的FreeBSD系统，它们的*/etc*目录也几乎相同。尽管一些附加程序会在这里插入自己的文件，但你可以期望每个你遇到的FreeBSD系统中都会有某些特定的文件。
- en: Remember that */etc* is the heart of FreeBSD and that changes to these files
    can damage or destroy your system. While having to manually recover a scrambled
    filesystem can turn an adequate sysadmin into a pretty good one, it’s one of the
    least pleasant ways to get there.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，*/etc*是FreeBSD的核心，修改这些文件可能会破坏或摧毁你的系统。虽然手动恢复一个混乱的文件系统能够将一个普通的系统管理员培养成一个相当不错的管理员，但这绝对是最不愉快的成长方式之一。
- en: '**/etc/adduser.conf**'
  id: totrans-9
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/adduser.conf**'
- en: This file lets you configure the defaults for new users. See [Chapter 9](ch09.xhtml#ch09)
    for details.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件允许你配置新用户的默认设置。详情请参见[第9章](ch09.xhtml#ch09)。
- en: '**/etc/aliases**'
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/aliases**'
- en: This file lets you configure system-wide email forwarding. We cover it in [Chapter
    20](ch20.xhtml#ch20).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件允许你配置系统范围的电子邮件转发。我们将在[第20章](ch20.xhtml#ch20)中讨论它。
- en: '**/etc/amd.map**'
  id: totrans-13
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/amd.map**'
- en: FreeBSD has the ability to automatically mount and unmount NFS filesystems upon
    demand through the automounter daemon, amd(8). The automounter daemon is very
    old, however, and has largely been replaced by autofs(5) and automountd(8). Automounting
    is mostly useful for workstations, so we won’t go into it.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD具备在需求时通过自动挂载守护进程amd(8)自动挂载和卸载NFS文件系统的能力。然而，自动挂载守护进程非常老旧，已经在很大程度上被autofs(5)和automountd(8)替代。自动挂载主要对工作站有用，因此我们不再深入探讨。
- en: '**/etc/auto_master**'
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/auto_master**'
- en: The *auto_master* file configures FreeBSD’s modern automounting service. It
    lets you configure mount options, determine how long an automounted filesystem
    should remain mounted, and so on. See auto_master(5), autofs(5), and automountd(8)
    for details.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '*auto_master*文件配置了FreeBSD的现代自动挂载服务。它允许你配置挂载选项，确定自动挂载的文件系统应保持挂载多长时间，等等。详情请参见auto_master(5)、autofs(5)和automountd(8)。'
- en: '**/etc/blacklistd.conf**'
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/blacklistd.conf**'
- en: FreeBSD includes an automated blacklist daemon, blacklistd(8), that’s comparable
    to fail2ban and similar programs. Programs that link against libblacklist(3) can
    direct blacklistd(8) to block intrusive hosts at the firewall. We configure blacklistd(8)
    in [Chapter 19](ch19.xhtml#ch19).
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 包含一个自动化黑名单守护进程 blacklistd(8)，类似于 fail2ban 等程序。链接到 libblacklist(3) 的程序可以指示
    blacklistd(8) 在防火墙上阻止有害主机。我们在[第19章](ch19.xhtml#ch19)中配置 blacklistd(8)。
- en: '**/etc/bluetooth, /etc/bluetooth.device.conf, and /etc/defaults/bluetooth.device.conf**'
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/bluetooth、/etc/bluetooth.device.conf 和 /etc/defaults/bluetooth.device.conf**'
- en: FreeBSD supports Bluetooth, a standard for short-range wireless communication.
    Unlike 802.11, Bluetooth is designed for short-range but high-level services,
    such as voice communications. This book is about servers, so we won’t cover Bluetooth,
    but you should know that your FreeBSD laptop can attach to your Bluetooth-equipped
    cellphone and connect to the internet if you desire.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 支持蓝牙，它是一个短距离无线通信标准。与 802.11 不同，蓝牙设计用于提供短距离但高水平的服务，如语音通信。本书主要讲解服务器内容，因此我们不会讨论蓝牙，但你应该知道，如果你愿意，你的
    FreeBSD 笔记本可以连接到蓝牙手机并接入互联网。
- en: '**/etc/casper**'
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/casper**'
- en: The Capsicum security system lets programmers add sandboxing and security capabilities
    to their software. The */etc/casper* directory contains sample capsicum(4) configurations.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Capsicum 安全系统允许程序员为软件添加沙箱和安全功能。*/etc/casper* 目录包含示例 capsicum(4) 配置。
- en: '**/etc/crontab and /etc/cron.d**'
  id: totrans-23
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/crontab 和 /etc/cron.d**'
- en: The cron(8) daemon lets users schedule tasks. See [Chapter 20](ch20.xhtml#ch20)
    for examples and details.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: cron(8) 守护进程让用户可以调度任务。请参阅[第20章](ch20.xhtml#ch20)以获取示例和详细信息。
- en: '**/etc/csh.***'
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/csh.***'
- en: The */etc/csh.** files contain system-wide defaults for csh and tcsh. When a
    user logs in with either of these shells, the shell executes any commands it finds
    in */etc/csh.login*. Similarly, when the user logs out, */etc/csh.logout* is executed.
    You can place general shell configuration information in */etc/csh.cshrc*.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/csh.** 文件包含 csh 和 tcsh 的系统默认设置。当用户使用其中一个 shell 登录时，shell 会执行 */etc/csh.login*
    中的任何命令。类似地，当用户注销时，*/etc/csh.logout* 会被执行。你可以将一般的 shell 配置信息放入 */etc/csh.cshrc*
    中。'
- en: Per-shell configuration is prone to errors, and you’ll have to maintain identical
    settings for any other shells. I recommend putting necessary environment variables
    in a login class (see “[Restricting System Usage](ch09.xhtml#lev300)” on [page
    188](ch09.xhtml#page_188)).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 每个 shell 配置容易出错，并且你必须为其他 shell 保持一致的设置。我建议将必要的环境变量放入登录类中（请参阅 “[限制系统使用](ch09.xhtml#lev300)”
    在[第188页](ch09.xhtml#page_188)）。
- en: '**/etc/ddb.conf**'
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ddb.conf**'
- en: The kernel debugger configuration utility ddb(8) reads *ddb.conf* for instructions.
    We’ll use this in [Chapter 24](ch24.xhtml#ch24) to prepare kernel crash dumps
    on small systems.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 内核调试器配置工具 ddb(8) 读取 *ddb.conf* 文件中的指令。我们将在[第24章](ch24.xhtml#ch24)中使用它，为小型系统准备内核崩溃转储。
- en: '**/etc/devd.conf**'
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/devd.conf**'
- en: The device daemon devd(8) is best known for managing detachable hardware, such
    as USB, PCCard, and Cardbus devices. When you insert a USB network card into your
    laptop, devd(8) notices the arrival and fires up the appropriate system processes
    to configure the card as per */etc/rc.conf*. More generally, it’s a state change
    daemon and can react on link up/down events, notify you about CPU overheating,
    process suspend/resume events, and more. We discuss devd(8) briefly in [Chapter
    13](ch13.xhtml#ch13), but if you think you need to edit */etc/devd.conf* on a
    server, you’re probably doing something wrong.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 设备守护进程 devd(8) 主要用于管理可拆卸硬件，如 USB、PCCard 和 Cardbus 设备。当你将 USB 网卡插入笔记本电脑时，devd(8)
    会检测到设备到达，并启动相应的系统进程，根据 */etc/rc.conf* 配置网卡。更一般来说，它是一个状态变化守护进程，可以对链路上下事件做出反应，通知你
    CPU 过热、进程挂起/恢复等事件。我们在[第13章](ch13.xhtml#ch13)简要讨论了 devd(8)，但如果你认为需要在服务器上编辑 */etc/devd.conf*，你可能是在做错事。
- en: '**/etc/devfs.conf, /etc/devfs.rules, and /etc/defaults/devfs.rules**'
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/devfs.conf、/etc/devfs.rules 和 /etc/defaults/devfs.rules**'
- en: FreeBSD manages device nodes through devfs(5), a virtual filesystem that dynamically
    provides device nodes as hardware boots, appears, and disappears. See [Chapter
    13](ch13.xhtml#ch13) for more information.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 通过 devfs(5) 管理设备节点，这是一个虚拟文件系统，能够动态提供设备节点，随着硬件启动、出现和消失。请参阅[第13章](ch13.xhtml#ch13)了解更多信息。
- en: '**/etc/dhclient.conf**'
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/dhclient.conf**'
- en: Many operating systems give you very basic DHCP client configuration with no
    way to fine-tune or customize it; you either use it or you don’t. In most cases,
    an empty */etc/dhclient.conf* file gives you full DHCP client functionality, but
    it won’t work correctly in all situations. Perhaps your network is having trouble
    or you’re at a conference where some script kiddie thinks it’s fun to set up a
    second DHCP server and route everyone’s traffic through his machine so he can
    capture passwords.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 许多操作系统提供非常基础的 DHCP 客户端配置，无法进行精细调节或自定义；你只能选择使用或不使用。在大多数情况下，一个空的 */etc/dhclient.conf*
    文件可以提供完整的 DHCP 客户端功能，但在所有情况下都无法正常工作。也许你的网络出现了问题，或者你正在参加一个会议，某个脚本小子觉得在他的机器上设置第二个
    DHCP 服务器并通过它路由所有流量很有趣，这样他就可以捕获密码。
- en: Your server better not be configured via DHCP (unless it’s diskless), so we
    won’t go into any depth on this. You should be aware that you can configure FreeBSD’s
    DHCP client functionality, however.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 你的服务器最好不要通过 DHCP 配置（除非它是无盘系统），因此我们不会深入探讨此内容。不过你应该知道，你可以配置 FreeBSD 的 DHCP 客户端功能。
- en: '**/etc/disktab**'
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/disktab**'
- en: Once upon a time, hard disks were rare and exotic creatures that came in only
    a few varieties. In */etc/disktab*, you’ll find low-level descriptions of many
    different kinds of disks, from the 360KB floppy disk to a Panasonic 60MB laptop
    hard drive. (Yes, laptops came with 60MB hard drives, and we were durned happy
    to have them.)
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 曾几何时，硬盘是稀有而神秘的存在，只存在几种不同类型。在 */etc/disktab* 文件中，你会找到各种磁盘的低级描述，从 360KB 软盘到 60MB
    的松下笔记本硬盘。（是的，笔记本电脑曾配有 60MB 的硬盘，而我们当时可高兴坏了。）
- en: Today, this file is mostly used for removable media, such as 1.44MB floppy disks
    and zip disks. While I described formatting flash drives in [Chapter 13](ch13.xhtml#ch13),
    this file contains the descriptions needed to format other removable media. If
    you want to put a filesystem on your LS 120 disk or zip drive, you’ll find the
    necessary label here at the beginning of an entry.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 今天，这个文件主要用于可移动媒体，如 1.44MB 软盘和 Zip 磁盘。虽然我在[第13章](ch13.xhtml#ch13)中描述了如何格式化闪存驱动器，但该文件包含了格式化其他可移动媒体所需的描述。如果你想在
    LS 120 磁盘或 Zip 驱动器上创建文件系统，你会在条目开头找到必要的标签。
- en: Editing */etc/disktab* is useful only if you have multiple identical hard drives
    that you want to partition and format in exactly the same way. If you need to
    make your own entries, read disktab(5).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 编辑 */etc/disktab* 只有在你有多个相同的硬盘，并希望它们按完全相同的方式进行分区和格式化时才有用。如果你需要添加自己的条目，请阅读 disktab(5)。
- en: '**/etc/dma/**'
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/dma/**'
- en: The Dragonfly Mail Agent (DMA) stores its configuration in */etc/dma/*. We discuss
    DMA in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Dragonfly 邮件代理（DMA）将其配置存储在 */etc/dma/* 中。我们在[第20章](ch20.xhtml#ch20)中讨论了 DMA。
- en: '**/etc/freebsd-update.conf**'
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/freebsd-update.conf**'
- en: This file is used by freebsd-update(8) when getting binary updates for your
    server. See [Chapter 18](ch18.xhtml#ch18) for details.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件在通过 freebsd-update(8) 获取服务器的二进制更新时使用。有关详细信息，请参阅[第18章](ch18.xhtml#ch18)。
- en: '**/etc/fstab**'
  id: totrans-45
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/fstab**'
- en: See [Chapter 10](ch10.xhtml#ch10) for a discussion on the filesystem table,
    */etc/fstab*.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 有关文件系统表的讨论，请参阅[第10章](ch10.xhtml#ch10)，以及 */etc/fstab*。
- en: '**/etc/ftp.***'
  id: totrans-47
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ftp.***'
- en: The FTP daemon ftpd(8) uses these files to determine who may access the system
    via FTP and what access they have upon a successful connection. Unless you’re
    running a large FTP site, you should be using sftp(1) instead.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: FTP 守护进程 ftpd(8) 使用这些文件来确定谁可以通过 FTP 访问系统，以及在成功连接后他们可以进行何种访问。除非你运行的是一个大型 FTP
    站点，否则你应该使用 sftp(1)。
- en: '**/etc/group**'
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/group**'
- en: Assigning users to groups is covered in painful detail in [Chapter 9](ch09.xhtml#ch09).
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 将用户分配到不同的组在[第9章](ch09.xhtml#ch09)中有详细的说明。
- en: '**/etc/hostid**'
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/hostid**'
- en: Certain software expects every host to have a universally unique ID, or UUID.
    If you’re running on real hardware, this UUID is burned into the mainboard and
    is accessible via kenv(8). Virtual hosts can generate a UUID from software. The
    */etc/hostid* file contains that UUID.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 某些软件要求每台主机都有一个全球唯一的 ID，或 UUID。如果你在实际硬件上运行，该 UUID 会被烧录到主板中，并可以通过 kenv(8) 访问。虚拟主机可以通过软件生成
    UUID。*/etc/hostid* 文件包含了该 UUID。
- en: '**/etc/hosts**'
  id: totrans-53
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/hosts**'
- en: This file contains host-to-IP mappings, as discussed in [Chapter 8](ch08.xhtml#ch08).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件包含主机到 IP 的映射，详见[第8章](ch08.xhtml#ch08)。
- en: '**/etc/hosts.allow**'
  id: totrans-55
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/hosts.allow**'
- en: The */etc/hosts.allow* file controls who can access the daemons compiled with
    TCP Wrappers support. Learn about it in [Chapter 19](ch19.xhtml#ch19).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/hosts.allow* 文件控制哪些人可以访问支持 TCP Wrappers 的守护进程。请在[第19章](ch19.xhtml#ch19)中了解相关内容。'
- en: '**/etc/hosts.equiv**'
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/hosts.equiv**'
- en: The */etc/hosts.equiv* file is used by the r-services (rlogin, rsh, etc.) to
    let trusted remote systems log in or run commands on the local system without
    providing a password or even logging in. Hosts listed in this file are assumed
    to have performed user authentication on a trusted system, so the local system
    doesn’t have to bother reauthenticating the user.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/hosts.equiv* 文件由 r 服务（如 rlogin、rsh 等）使用，允许受信任的远程系统在不提供密码或甚至不登录的情况下登录或在本地系统上运行命令。列在此文件中的主机被假定已经在受信任的系统上进行了用户身份验证，因此本地系统无需再次验证用户。'
- en: Such blatant trust is very convenient on friendly networks, much as leaving
    the doors of your Manhattan townhouse unlocked saves you the trouble of digging
    out your door keys every time you get home. There’s no such thing as a friendly
    network.^([1](footnote.xhtml#ch14fn1)) A single disgruntled employee can largely
    destroy a corporate network with this service, and a machine using the r-services
    is pretty much dog meat for the first script kiddie who wanders by. In fact, */etc/hosts.equiv*
    and its related services have bitten even top-notch security experts who thought
    they could use it safely. I suggest leaving this file empty and perhaps even making
    it immutable (see [Chapter 9](ch09.xhtml#ch09)).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这种明显的信任在友好的网络中非常方便，就像把你曼哈顿市区联排别墅的门锁开着一样，每次回家时都省去了寻找门钥匙的麻烦。然而，所谓的“友好网络”并不存在。^([1](footnote.xhtml#ch14fn1))
    一个不满的员工可以通过此服务几乎摧毁一个企业网络，任何使用 r 服务的机器对于第一个路过的脚本小子来说几乎就是“狗肉”。事实上，*/etc/hosts.equiv*
    及其相关服务曾经让即使是顶级安全专家也吃了亏，他们曾认为可以安全地使用它。我建议将此文件保持为空，甚至可以将其设置为不可变（参见 [第 9 章](ch09.xhtml#ch09)）。
- en: '**/etc/hosts.lpd**'
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/hosts.lpd**'
- en: The */etc/hosts.lpd* file is one of the simplest files in */etc*. Hosts listed
    here, each on its own line, may print to the printer(s) controlled by this machine.
    While you can use hostnames, that would allow DNS issues to choke printing, so
    use IP addresses instead.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/hosts.lpd* 文件是 */etc* 目录中最简单的文件之一。这里列出的每个主机（每行一个）可能会打印到由此计算机控制的打印机上。虽然你可以使用主机名，但这可能会导致
    DNS 问题影响打印，因此建议使用 IP 地址。'
- en: Unlike most other configuration files, */etc/hosts.lpd* doesn’t accept network
    numbers or netmasks; you must list individual hostnames or IP addresses.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 与大多数其他配置文件不同，*/etc/hosts.lpd* 不接受网络号或子网掩码；你必须列出单独的主机名或 IP 地址。
- en: We configure FreeBSD as a printer client in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 [第 20 章](ch20.xhtml#ch20) 中配置 FreeBSD 作为打印机客户端。
- en: '**/etc/inetd.conf**'
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/inetd.conf**'
- en: inetd(8) handles incoming network connections for smaller daemons that don’t
    run frequently. See the section on inetd in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: inetd(8) 处理较小的守护进程的传入网络连接，这些守护进程不会频繁运行。请参阅 [第 20 章](ch20.xhtml#ch20) 中关于 inetd
    的部分。
- en: '**/etc/libmap.conf**'
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/libmap.conf**'
- en: FreeBSD’s linker lets you substitute one shared library for another. We discuss
    this in [Chapter 17](ch17.xhtml#ch17).
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 的链接器允许你用一个共享库替换另一个共享库。我们在 [第 17 章](ch17.xhtml#ch17) 中讨论了这一点。
- en: '**/etc/localtime**'
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/localtime**'
- en: This file contains local time zone data, as configured by tzsetup(8). It’s a
    binary file, and you can’t edit it with normal tools. tzsetup(8) actually copies
    this file from a subdirectory of */usr/share/zoneinfo*. If your time zone changes,
    you’ll need to upgrade FreeBSD to get the new time zone files and then rerun tzsetup(8)
    to configure time correctly.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件包含由 tzsetup(8) 配置的本地时区数据。它是一个二进制文件，无法使用普通工具编辑。tzsetup(8) 实际上是从 */usr/share/zoneinfo*
    的一个子目录中复制了此文件。如果你的时区发生变化，你需要升级 FreeBSD 以获取新的时区文件，然后重新运行 tzsetup(8) 来正确配置时间。
- en: We discuss time in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 [第 20 章](ch20.xhtml#ch20) 中讨论时间。
- en: '**/etc/locate.rc**'
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/locate.rc**'
- en: 'locate(1) finds all files of a given name. For example, to find *locate.rc*,
    enter the following:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: locate(1) 查找给定名称的所有文件。例如，要查找 *locate.rc*，请输入以下内容：
- en: '[PRE0]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You’ll see that a file called *locate.rc* can be found in four places: in the
    main */etc* directory, the system examples directory, the system source code,
    and a copy retained by etcupdate(8).'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 你会发现名为 *locate.rc* 的文件可以在四个地方找到：主 */etc* 目录、系统示例目录、系统源代码以及由 etcupdate(8) 保留的副本。
- en: 'As part of periodic(8)’s weekly run (see [Chapter 21](ch21.xhtml#ch21)), your
    FreeBSD system scans its disks, builds a list of everything it finds, and stores
    that list in a database. The list-building program, locate.updatedb(8), takes
    its settings from */etc/locate.rc*. The following variables in this file all change
    how your locate.updatedb(8) builds your locate database:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 作为 periodic(8) 每周运行的一部分（参见 [第21章](ch21.xhtml#ch21)），你的 FreeBSD 系统会扫描磁盘，构建它找到的所有内容的列表，并将该列表存储在数据库中。构建列表的程序
    locate.updatedb(8) 会从 */etc/locate.rc* 获取其设置。此文件中的以下变量都会改变你的 locate.updatedb(8)
    如何构建 locate 数据库：
- en: '`TMPDIR` contains the temporary directory used by locate.updatedb(8), and defaults
    to */tmp*. If you’re short on space in */tmp*, change this path to a place where
    you have more room.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TMPDIR` 包含 locate.updatedb(8) 使用的临时目录，默认为 */tmp*。如果 */tmp* 空间不足，请将此路径更改为一个有更多空间的地方。'
- en: While you can change the location of the database itself with the `FCODES` variable,
    this affects other parts of FreeBSD that expect to find that database in its default
    location. Be prepared for odd results, especially if you leave an old locate database
    in the default location of */var/db/locate.database*.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虽然你可以通过 `FCODES` 变量更改数据库的位置，但这会影响 FreeBSD 其他期望在默认位置找到该数据库的部分。做好准备面对一些奇怪的结果，尤其是在你将旧的
    locate 数据库保留在默认位置 */var/db/locate.database* 时。
- en: The `SEARCHPATHS` variable gives the directory where you want to start building
    your database. This defaults to */*, the whole disk. To index only a portion of
    your disk, set that value here.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SEARCHPATHS` 变量指定了你希望开始构建数据库的目录。默认情况下，它是 */*，即整个磁盘。要只索引磁盘的一部分，请在此设置该值。'
- en: '`PRUNEPATHS` lists directories you don’t want to index. This defaults to excluding
    temporary directories that traditionally contain only short-lived files.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`PRUNEPATHS` 列出了你不希望索引的目录。默认情况下，排除了传统上仅包含短期文件的临时目录。'
- en: 'The `FILESYSTEMS` variable lists the types of filesystems you want to index.
    By default, locate.updatedb(8) indexes only UFS (FreeBSD) and ext2fs (Linux) filesystems.
    Listing NFS (see [Chapter 13](ch13.xhtml#ch13)) filesystems is a bad idea: all
    of your servers simultaneously indexing the fileserver will bottleneck either
    the network or the fileserver.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`FILESYSTEMS` 变量列出了你希望索引的文件系统类型。默认情况下，locate.updatedb(8) 只索引 UFS（FreeBSD）和
    ext2fs（Linux）文件系统。列出 NFS（参见 [第13章](ch13.xhtml#ch13)）文件系统并不是一个好主意：所有服务器同时索引文件服务器会导致网络或文件服务器的瓶颈。'
- en: '**/etc/login.***'
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/login.***'
- en: You can control who may log into your system—and what resources those users
    may access—by using */etc/login.access* and */etc/login.conf*. See [Chapter 9](ch09.xhtml#ch09)
    for instructions.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过使用 */etc/login.access* 和 */etc/login.conf* 控制谁可以登录到你的系统，以及这些用户可以访问哪些资源。请参见
    [第9章](ch09.xhtml#ch09) 的说明。
- en: '**/etc/mail**'
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/mail**'
- en: Most of the contents of */etc/mail* are dedicated to Sendmail. The two exceptions
    are the aliases(5) file and mailer.conf(5). We discuss both in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/mail* 中的大部分内容用于 Sendmail。两个例外是 aliases(5) 文件和 mailer.conf(5)。我们在 [第20章](ch20.xhtml#ch20)
    中讨论了这两个文件。'
- en: '**/etc/mail.rc**'
  id: totrans-85
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/mail.rc**'
- en: While FreeBSD uses most *.rc* files for system startup, the */etc/mail.rc* file
    is used to configure mail(1).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 FreeBSD 使用大多数 *.rc* 文件进行系统启动，*/etc/mail.rc* 文件则用于配置 mail(1)。
- en: '**/etc/mail/mailer.conf**'
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/mail/mailer.conf**'
- en: FreeBSD allows you to choose any mail server program you like via */etc/mail/mailer.conf*,
    as covered in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 允许你通过 */etc/mail/mailer.conf* 选择任何你喜欢的邮件服务器程序，具体内容请参见 [第20章](ch20.xhtml#ch20)。
- en: '**/etc/make.conf**'
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/make.conf**'
- en: To make, or compile, a program is to build it from source code into machine
    language. We’ll discuss building software in detail in [Chapter 17](ch17.xhtml#ch17).
    The */etc/make.conf* contains settings that control how the building process works,
    letting you set options that directly affect software builds. Remember, anything
    you add to *make.conf* affects all software built on the system, including system
    upgrades. This may cause upgrade failures.^([2](footnote.xhtml#ch14fn2)) Many
    of the options from *make.conf* are useful only to developers.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 编译一个程序是指将其从源代码构建成机器语言。我们将在 [第17章](ch17.xhtml#ch17) 中详细讨论构建软件。*/etc/make.conf*
    包含控制构建过程的设置，让你可以设置直接影响软件构建的选项。记住，添加到 *make.conf* 的任何内容都会影响系统上构建的所有软件，包括系统升级。这可能会导致升级失败。^([2](footnote.xhtml#ch14fn2))
    许多 *make.conf* 中的选项对开发者才有用。
- en: If you’re interested in setting options that affect only system upgrades, use
    */etc/src.conf* instead.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想设置只影响系统升级的选项，请改用 */etc/src.conf*。
- en: Here are some common features set in *make.conf*. Any values set here require
    the same syntax used by make(1). If you insist on trying to optimize software
    builds, follow the examples in make.conf(5) or in the software’s documentation.
    Best of all, though, don’t muck with make at all.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一些在*make.conf*中设置的常见功能。这里设置的任何值都需要使用make(1)所使用的相同语法。如果你坚持尝试优化软件构建，按照make.conf(5)中的示例或软件文档中的示例操作。然而，最好的做法是完全不要修改make。
- en: '***CFLAGS***'
  id: totrans-93
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***CFLAGS***'
- en: This option specifies optimization settings for building nonkernel programs.
    Many other Unix-like operating systems suggest compiling software with particular
    *compiler flags*, or `CFLAGS`. This practice is actively discouraged on FreeBSD.
    System components that require compiler flags already have that specified in the
    software configuration, and add-on software has that configuration set for it
    separately. While people might recommend other settings for `CFLAGS`, custom options
    aren’t supported by the FreeBSD Project.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 这个选项指定了构建非内核程序时的优化设置。许多其他类Unix操作系统建议使用特定的*编译器标志*或`CFLAGS`来编译软件。在FreeBSD中，强烈不推荐这种做法。需要编译器标志的系统组件已经在软件配置中指定了该标志，附加软件的配置也为其单独设置了该标志。虽然有人可能会推荐其他`CFLAGS`设置，但FreeBSD项目不支持自定义选项。
- en: In general, FreeBSD code is expected to compile most correctly out of the box.
    The only thing that adding compiler options can do is impair your performance.
    If you build FreeBSD or ports with nonstandard flags and have problems, remove
    those flags and build it again.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，FreeBSD代码期望在开箱即用时就能正确编译。唯一的作用是添加编译器选项可能会损害你的性能。如果你使用非标准标志构建FreeBSD或端口并遇到问题，移除这些标志并重新构建。
- en: '***COPTFLAGS***'
  id: totrans-96
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***COPTFLAGS***'
- en: The `COPTFLAGS` optimizations are used only for building the kernel. Again,
    settings other than the defaults can build a nonworking kernel.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '`COPTFLAGS`优化仅用于构建内核。同样，非默认设置可能会导致无法正常工作的内核。'
- en: '***CXXFLAGS***'
  id: totrans-98
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***CXXFLAGS***'
- en: '`CXXFLAGS` tells the compiler what optimizations to use when building C++ code.
    Be sure to use the += syntax when using `CXXFLAGS` so that you add your instructions
    to those specified in the software. Everything that I said earlier about `CFLAGS`
    applies equally well to `CXXFLAGS`.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '`CXXFLAGS`告诉编译器在构建C++代码时使用哪些优化。使用`CXXFLAGS`时，请务必使用+=语法，这样你就能将你的指令添加到软件中指定的指令上。我之前提到的关于`CFLAGS`的所有内容同样适用于`CXXFLAGS`。'
- en: '**/etc/master.passwd**'
  id: totrans-100
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/master.passwd**'
- en: This file contains the confidential core information for all user accounts,
    as discussed in [Chapter 9](ch09.xhtml#ch09). Protect it.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 该文件包含所有用户账户的机密核心信息，详情请参见[第9章](ch09.xhtml#ch09)。请妥善保护它。
- en: '**/etc/motd**'
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/motd**'
- en: The *message of the day (motd)* file is displayed to users when they log in.
    You can place system notices in this file or other information you want shell
    users to see. The `welcome` option in */etc/login.conf* (see [Chapter 9](ch09.xhtml#ch09))
    can point users to different motd files, so you can have separate messages for
    each login class.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*每日信息（motd）*文件在用户登录时显示。你可以在这个文件中放置系统通知或其他你希望Shell用户看到的信息。*/etc/login.conf*中的`welcome`选项（参见[第9章](ch09.xhtml#ch09)）可以指向不同的motd文件，因此你可以为每个登录类设置不同的消息。'
- en: '**/etc/mtree**'
  id: totrans-104
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/mtree**'
- en: mtree(1) builds directory hierarchies with permissions set according to a predefined
    standard. The */etc/mtree* directory stores that standard for the FreeBSD base
    system. The FreeBSD upgrade process uses mtree records to install the system correctly.
    If you damage file or directory permissions in your base system, you can use mtree(1)
    to restore them to the defaults. While you don’t generally need to edit these
    files, they can be useful if you muck too much with your system. Diskless systems
    use these files to build memory-based */var* filesystems. We’ll use this information
    in [Chapter 19](ch19.xhtml#ch19) to inspect system security.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: mtree(1)构建具有权限设置的目录层次结构，这些权限根据预定义的标准设置。*/etc/mtree*目录存储FreeBSD基础系统的该标准。FreeBSD的升级过程使用mtree记录来正确安装系统。如果你破坏了基础系统中文件或目录的权限，可以使用mtree(1)将其恢复到默认值。虽然你通常不需要编辑这些文件，但如果你过度修改系统，这些文件可能会很有用。无盘系统使用这些文件来构建基于内存的*/var*文件系统。我们将在[第19章](ch19.xhtml#ch19)中使用这些信息检查系统安全性。
- en: '**/etc/netconfig**'
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/netconfig**'
- en: If you’re accustomed to SVR4-derived operating systems, you might expect to
    configure various parts of networking in */etc/netconfig*. FreeBSD uses this file
    only for RPC code, though. I mention it only to keep old Solaris hands from thinking
    changes here will help them.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你习惯了基于SVR4的操作系统，你可能会期望在*/etc/netconfig*中配置各种网络部分。但FreeBSD仅将此文件用于RPC代码。我提到它只是为了防止老一辈的Solaris用户误以为在这里进行更改能帮助他们。
- en: '**/etc/netstart**'
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/netstart**'
- en: This shell script is designed specifically for bringing up the network while
    in single-user mode. Having a network in single-user mode is terribly useful for
    any number of reasons, from mounting NFS shares to connecting to remote machines
    in order to verify configurations. Just run */etc/netstart*. This script has no
    effect when in full multiuser mode.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这个Shell脚本专门用于在单用户模式下启动网络。在单用户模式下使用网络对许多原因都非常有用，从挂载NFS共享到连接远程机器以验证配置。只需运行*/etc/netstart*。在完全多用户模式下，这个脚本没有任何效果。
- en: '**/etc/network.subr**'
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/network.subr**'
- en: This shell script isn’t intended for human use; rather, other network configuration
    scripts use the subroutines defined herein to support common functions.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 这个Shell脚本不是为了人类使用的；相反，其他网络配置脚本使用这里定义的子例程来支持常见功能。
- en: '**/etc/newsyslog.conf**'
  id: totrans-112
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/newsyslog.conf**'
- en: This file configures the rotation and deletion of log files. See [Chapter 21](ch21.xhtml#ch21)
    for more information.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件配置日志文件的旋转和删除。有关更多信息，请参阅[第21章](ch21.xhtml#ch21)。
- en: '**/etc/nscd.conf**'
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/nscd.conf**'
- en: The nscd(8) service caches the results of name service lookups to optimize system
    performance. It’s useful if you’re running LDAP, but for hostname lookups, you’re
    better off running a local caching resolver.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: nscd(8)服务缓存名称服务查找的结果，以优化系统性能。如果你运行LDAP，它很有用，但对于主机名查找，你最好使用本地缓存解析器。
- en: '**/etc/nsmb.conf**'
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/nsmb.conf**'
- en: FreeBSD’s Windows file-share mounting system uses */etc/nsmb.conf* to define
    access to Windows systems, as described in [Chapter 13](ch13.xhtml#ch13).
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD的Windows文件共享挂载系统使用*/etc/nsmb.conf*来定义对Windows系统的访问，正如[第13章](ch13.xhtml#ch13)中所述。
- en: '**/etc/nsswitch.conf**'
  id: totrans-118
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/nsswitch.conf**'
- en: Name Service Switching is covered in [Chapters 8](ch08.xhtml#ch08) and [20](ch20.xhtml#ch20).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 名称服务切换在[第8章](ch08.xhtml#ch08)和[第20章](ch20.xhtml#ch20)中有所讨论。
- en: '**/etc/ntp/, /etc/ntp.conf**'
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ntp/, /etc/ntp.conf**'
- en: Keeping correct time on your host simplifies . . . well, everything. The time
    daemon ntpd(8) uses these files, as [Chapter 20](ch20.xhtml#ch20) illustrates.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 保持主机时间的准确性简化了……嗯，一切。时间守护进程ntpd(8)使用这些文件，正如[第20章](ch20.xhtml#ch20)所示。
- en: '**/etc/opie***'
  id: totrans-122
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/opie***'
- en: '*One-time Passwords In Everything (OPIE)* is a one-time password system derived
    from S/Key. While still used in a few places, it’s no longer very popular. You
    can read opie(4) if you’re interested. For the most part, OPIE has been largely
    replaced by systems like Kerberos, Google Authenticator, and other PAM plug-ins.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '*一次性密码系统 (OPIE)* 是一个源自S/Key的一次性密码系统。虽然它仍然在一些地方使用，但已经不再非常流行。如果你感兴趣，可以阅读opie(4)。大部分情况下，OPIE已经被像Kerberos、Google
    Authenticator和其他PAM插件这样的系统所替代。'
- en: '**/etc/pam.d/***'
  id: totrans-124
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/pam.d/***'
- en: '*Pluggable Authentication Modules (PAM)* allow the sysadmin to use different
    authentication, authorization, and access control systems. If you’re using Kerberos,
    LDAP, or some other centralized authentication system, you’ll need to configure
    PAM. PAM, unfortunately, fills an entire book on its own. If you’re trapped into
    going anywhere near PAM, permit me to recommend my book *PAM Mastery* (Tilted
    Windmill Press, 2016).'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '*可插拔认证模块 (PAM)* 允许系统管理员使用不同的认证、授权和访问控制系统。如果你正在使用Kerberos、LDAP或其他某种集中认证系统，你需要配置PAM。遗憾的是，PAM本身就可以写成一本书。如果你不得不涉及到PAM，允许我推荐我的书《PAM精通》(Tilted
    Windmill Press, 2016)。'
- en: '**/etc/passwd**'
  id: totrans-126
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/passwd**'
- en: This file contains user-visible account information. We talk about the password
    files in [Chapter 9](ch09.xhtml#ch09).
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含用户可见的账户信息。我们在[第9章](ch09.xhtml#ch09)中讨论了密码文件。
- en: '**/etc/pccard_ether**'
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/pccard_ether**'
- en: This script starts and stops removable network cards, such as Cardbus cards
    and USB Ethernet. Its name is just a leftover of history, when the only cards
    available were PC Cards. For the most part, devd(8) runs this script as needed,
    as discussed in [Chapter 13](ch13.xhtml#ch13).
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本用于启动和停止可移动网络卡，比如Cardbus卡和USB以太网卡。它的名字只是历史的遗留物，那时只有PC卡可用。在大多数情况下，devd(8)会根据需要运行这个脚本，正如[第13章](ch13.xhtml#ch13)所讨论的。
- en: '**/etc/periodic.conf and /etc/defaults/periodic.conf**'
  id: totrans-130
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/periodic.conf 和 /etc/defaults/periodic.conf**'
- en: The system’s regular maintenance jobs that create those annoying mails to root
    are run by periodic(8), which just runs shell scripts stored in */etc/periodic*
    and */usr/local/etc/periodic*. Every one of these scripts can be enabled or disabled
    in */etc/periodic.conf*.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 系统的常规维护任务会生成那些烦人的根用户邮件，这些任务由 periodic(8) 运行，它只会运行存储在 */etc/periodic* 和 */usr/local/etc/periodic*
    中的 shell 脚本。每个脚本都可以在 */etc/periodic.conf* 中启用或禁用。
- en: periodic(8) runs programs either daily, weekly, or monthly. Each set of programs
    has its own settings—for example, daily programs are configured separately from
    monthly programs. These settings are controlled by entries in */etc/periodic.conf*.
    While we show examples from only the daily scripts, you’ll find very similar settings
    for the weekly and monthly scripts.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: periodic(8) 每天、每周或每月运行程序。每组程序有其自己的设置——例如，日常程序的配置与每月程序的配置是分开的。这些设置通过 */etc/periodic.conf*
    中的条目来控制。虽然我们只展示了日常脚本的示例，但你会发现每周和每月脚本有非常类似的设置。
- en: '***daily_output=”root”***'
  id: totrans-133
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***daily_output=”root”***'
- en: If you want the status email to go to a user other than root, list that user’s
    name here. Unless you have a user whose job it is to specifically read periodic
    email, it’s best to leave this at the default and forward root’s email to an account
    you read. You could also give a full path to a file if you prefer and even have
    newsyslog(8) rotate the periodic log (see [Chapter 19](ch19.xhtml#ch19)).
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望将状态电子邮件发送到 root 以外的用户，请在此列出该用户的用户名。除非你有一个专门负责阅读周期性电子邮件的用户，否则最好保持默认设置，并将
    root 的电子邮件转发到你阅读的帐户。你也可以提供一个文件的完整路径，如果你愿意的话，甚至可以使用 newsyslog(8) 来轮转周期性日志（见 [第
    19 章](ch19.xhtml#ch19)）。
- en: '***daily_show_success=”YES”***'
  id: totrans-135
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***daily_show_success=”YES”***'
- en: With this set to `YES`, the daily message includes information on all successful
    checks.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 将此设置为 `YES` 时，每日信息中会包括所有成功检查的信息。
- en: '***daily_show_info=”YES”***'
  id: totrans-137
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***daily_show_info=”YES”***'
- en: When set to `YES`, the daily message includes general information from the commands
    it runs.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 设置为 `YES` 时，每日信息中会包括它运行的命令的常规信息。
- en: '***daily_show_badconfig=”NO”***'
  id: totrans-139
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***daily_show_badconfig=”NO”***'
- en: When set to `YES`, the daily message includes information on periodic commands
    it tried to run but couldn’t. These messages are generally harmless and involve
    subsystems that your system just doesn’t support or include.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 设置为 `YES` 时，每日信息中会包括周期性命令的运行信息，这些命令尝试执行但未能成功。这些信息通常是无害的，涉及到你系统不支持或不包含的子系统。
- en: '***daily_local=”/etc/daily.local”***'
  id: totrans-141
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***daily_local=”/etc/daily.local”***'
- en: You can define your own scripts to be run as part of the daily, weekly, and
    monthly periodic(8) jobs. These default to */etc/daily.local*, */etc/weekly.local*,
    and */etc/monthly.local*, but you can place them anywhere you like.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以定义自己的脚本，作为每日、每周和每月的 periodic(8) 任务的一部分。默认情况下，这些脚本位于 */etc/daily.local*、*/etc/weekly.local*
    和 */etc/monthly.local*，但你可以将它们放在任何你喜欢的位置。
- en: Each script in the daily, weekly, and monthly subdirectories of */etc/periodic*
    has a brief description at the top of the file, and most have configuration options
    in */etc/defaults/periodic.conf*. Skim through these quickly, looking for things
    that are of interest to you. The defaults enabled are sensible for most circumstances,
    but there’s extra functionality you can enable with a simple setting in */etc/periodic.conf*.
    For example, if you use GEOM-based disk features, you’ll find the daily GEOM status
    messages useful. Since anything I could list here would be obsolete before I could
    deliver this manuscript, let alone before the book reaches you, I won’t go into
    detail about the various scripts.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 每个位于 */etc/periodic* 下的 daily、weekly 和 monthly 子目录中的脚本文件，在文件顶部都有简短的描述，大多数脚本在
    */etc/defaults/periodic.conf* 中有配置选项。快速浏览这些文件，寻找对你有用的内容。启用的默认设置对于大多数情况来说是合理的，但你可以通过在
    */etc/periodic.conf* 中简单的设置来启用额外的功能。例如，如果你使用基于 GEOM 的磁盘功能，你会发现每日的 GEOM 状态信息很有用。由于我列举的任何内容在我交付这份手稿之前就可能已经过时，更不用说在书籍送到你手里之前了，因此我不会详细介绍各个脚本。
- en: '**/etc/pf.conf, /etc/pf.os**'
  id: totrans-144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/pf.conf, /etc/pf.os**'
- en: We cover the basics of the PF packet filter in [Chapter 19](ch19.xhtml#ch19).
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 [第 19 章](ch19.xhtml#ch19) 中介绍了 PF 包过滤器的基础知识。
- en: One less-known feature of PF is its ability to identify operating systems by
    the packets they send. The */etc/pf.os* file contains TCP fingerprints for different
    operating systems, allowing you to write firewall rules such as “Show FreeBSD
    users my real home page, but show Windows users a page suggesting that they get
    a real operating system.” See pf.os(5) for more information. I encourage you to
    peruse this file, if only to drive home how all these network stacks behave so
    differently.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: PF的一个较少为人知的特性是它能够通过发送的数据包识别操作系统。*/etc/pf.os*文件包含不同操作系统的TCP指纹，允许您编写防火墙规则，例如“显示FreeBSD用户我的真实主页，但向Windows用户建议他们获取一个真正的操作系统”。更多信息，请参阅pf.os(5)。我建议您阅读此文件，即使只是为了强调所有这些网络堆栈的行为是如此不同。
- en: '**/etc/phones**'
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/phones**'
- en: Modem users can store phone numbers for remote modems in */etc/phones*, aliasing
    them so that they can just type `home` instead of the full phone number. Only
    tip(1) and cu(1) use this file, however, so it’s not as useful as you might think.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 模拟调制解调器用户可以在*/etc/phones*中存储远程调制解调器的电话号码，并为它们创建别名，以便他们只需输入`home`而不是完整的电话号码。然而，只有tip(1)和cu(1)使用此文件，因此它并不像您想象的那样有用。
- en: '**/etc/portsnap.conf**'
  id: totrans-149
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/portsnap.conf**'
- en: Portsnap provides updates for the ports tree, as discussed in [Chapter 18](ch18.xhtml#ch18).
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: Portsnap提供端口树的更新，如[第18章](ch18.xhtml#ch18)所述。
- en: '**/etc/ppp/**'
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ppp/**'
- en: FreeBSD supports outbound modems with ppp(8). Read the man page for more information.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD支持使用ppp(8)进行出站调制解调器。阅读手册页以获取更多信息。
- en: '**/etc/printcap**'
  id: totrans-153
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/printcap**'
- en: This file contains printer configuration information. Printing on Unix-like
    systems can be very complicated, especially with the vast variety of printers
    you can use. Making your FreeBSD machine send print jobs to a print server isn’t
    hard at all, however. We cover the topic in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 此文件包含打印机配置信息。在类Unix系统上打印可能非常复杂，尤其是您可以使用各种各样的打印机。然而，使您的FreeBSD机器发送打印作业到打印服务器并不难。我们在[第20章](ch20.xhtml#ch20)中涵盖了这个主题。
- en: '**/etc/profile**'
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/profile**'
- en: The */etc/profile* files contain the default account configuration information
    for the */bin/sh* shell, much like */etc/csh.** for csh and tcsh users. Whenever
    a */bin/sh* user logs in, he inherits what’s in this file. Users can override
    */etc/profile* with their own *.profile*. Bash and other sh derivatives also use
    this file.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '*/etc/profile*文件包含*/bin/sh* shell的默认帐户配置信息，类似于csh和tcsh用户的*/etc/csh.**。每当*/bin/sh*用户登录时，他都会继承此文件中的内容。用户可以用自己的*.profile*覆盖*/etc/profile*。Bash和其他sh衍生版本也使用此文件。'
- en: While tcsh is the standard FreeBSD shell, sh and derivatives (particularly bash)
    are quite popular. Keep settings in */etc/profile* and */etc/csh.login* synchronized
    to ease troubleshooting in the future—or, better still, set necessary environment
    variables in a login class (see [Chapter 9](ch09.xhtml#ch09)) so that they affect
    any shell the user needs.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然tcsh是标准的FreeBSD shell，但sh及其衍生物（尤其是bash）非常流行。保持*/etc/profile*和*/etc/csh.login*中的设置同步，以便将来进行故障排除，或者更好地在登录类中设置必要的环境变量（见[第9章](ch09.xhtml#ch09)），以便影响用户需要的任何shell。
- en: '**/etc/protocols**'
  id: totrans-158
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/protocols**'
- en: In [Chapter 7](ch07.xhtml#ch07), we discussed network protocols. The */etc/protocols*
    file lists the various network protocols you might encounter. Remember, a TCP
    or UDP port number isn’t the same as a protocol number.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第7章](ch07.xhtml#ch07)中，我们讨论了网络协议。*/etc/protocols*文件列出了您可能遇到的各种网络协议。请记住，TCP或UDP端口号与协议号不同。
- en: '**/etc/pwd.db**'
  id: totrans-160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/pwd.db**'
- en: This is the database version of the */etc/passwd file*. It contains public information
    about user accounts, as discussed in [Chapter 9](ch09.xhtml#ch09).
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 这是*/etc/passwd文件*的数据库版本。它包含有关用户帐户的公共信息，如[第9章](ch09.xhtml#ch09)所讨论。
- en: '**/etc/rc***'
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/rc***'
- en: Whenever your system boots to the point where it can execute userland commands,
    it runs the shell script */etc/rc*. This script mounts all filesystems, brings
    up the network interfaces, configures devfs(5), finds and catalogs shared libraries,
    and performs all the other tasks required to set up a system. We discussed the
    FreeBSD startup system in [Chapter 4](ch04.xhtml#ch04).
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 每当系统引导到可以执行用户命令的阶段时，它都会运行shell脚本*/etc/rc*。此脚本挂载所有文件系统，启动网络接口，配置devfs(5)，查找和编录共享库，并执行设置系统所需的所有其他任务。我们在[第4章](ch04.xhtml#ch04)讨论了FreeBSD启动系统。
- en: Different systems have radically different startup tasks. A terminal server
    with three 48-port serial cards works completely differently from a web server.
    Instead of a single monolithic */etc/rc* script that handles every task, FreeBSD
    segregates each startup process into a separate shell script that addresses a
    specific need.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 不同系统的启动任务差异很大。带有三张48端口串行卡的终端服务器与网页服务器的工作方式完全不同。FreeBSD 并不像单一的 monolithic */etc/rc*
    脚本那样处理所有任务，而是将每个启动过程拆分成一个独立的 shell 脚本来处理特定的需求。
- en: Additionally, you’ll find a few scripts directly under */etc*, such as */etc/rc.firewall*
    and */etc/rc.initdiskless*. These scripts were split out on their own years before
    the current startup system came along, and remain in their historical locations
    because there isn’t anything to be gained by moving them.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你还会在*/etc*目录下找到一些脚本，如*/etc/rc.firewall*和*/etc/rc.initdiskless*。这些脚本在当前启动系统出现之前的几年就已经被分开，仍然保留在它们的历史位置，因为移动它们并没有带来任何好处。
- en: '**/et/regdomain.xml**'
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/et/regdomain.xml**'
- en: Wireless cards are subject to different regulatory rules depending on where
    in the world they’re used. The cards read *regdomain.xml* to learn which frequencies
    they may use and how strongly they’re allowed to transmit. Edit this at your own
    risk.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 无线卡根据使用地区的不同，受到不同的监管规则限制。这些卡读取*regdomain.xml*来了解它们可以使用的频率以及允许的发射强度。编辑此文件时请自行承担风险。
- en: '**/etc/remote**'
  id: totrans-168
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/remote**'
- en: This file contains machine-readable configurations for connecting to remote
    systems over serial lines. Today, this is of interest only if you use your system
    as a serial client—for example, if you want to connect to a serial console. We
    discuss serial consoles in [Chapter 4](ch04.xhtml#ch04).
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件包含用于通过串行线连接远程系统的机器可读配置。如今，只有当你将系统用作串行客户端时，这个文件才有意义——例如，如果你想连接到串行控制台。我们在[第4章](ch04.xhtml#ch04)中讨论了串行控制台。
- en: '**/etc/resolv.conf**'
  id: totrans-170
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/resolv.conf**'
- en: This file lets you set nameservers, domain search order, and more DNS client
    settings. See [Chapter 8](ch08.xhtml#ch08) for the details.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件允许你设置名称服务器、域名搜索顺序和更多的 DNS 客户端设置。详情请见[第8章](ch08.xhtml#ch08)。
- en: '**/etc/rpc**'
  id: totrans-172
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/rpc**'
- en: '*Remote Procedure Calls (RPC)* is a method for executing commands on a remote
    computer. Much like TCP/IP, RPC has service and port numbers, and */etc/rpc* contains
    a list of these services and their port numbers. The most common RPC consumer
    is NFS, discussed in [Chapter 13](ch13.xhtml#ch13).'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '*远程过程调用 (RPC)* 是在远程计算机上执行命令的一种方法。类似于 TCP/IP，RPC 也有服务和端口号，而*/etc/rpc*包含这些服务及其端口号的列表。最常见的
    RPC 消费者是 NFS，我们在[第13章](ch13.xhtml#ch13)中进行了讨论。'
- en: '**/etc/security/**'
  id: totrans-174
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/security/**'
- en: This directory contains configuration information for the audit(8) security
    utility.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 该目录包含审计(8)安全工具的配置信息。
- en: '**/etc/services**'
  id: totrans-176
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/services**'
- en: This file contains a list of network services and their associated TCP/IP ports.
    We discussed */etc/services* in [Chapter 7](ch07.xhtml#ch07).
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件包含网络服务及其相关的 TCP/IP 端口列表。我们在[第7章](ch07.xhtml#ch07)中讨论了*/etc/services*。
- en: '**/etc/shells**'
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/shells**'
- en: This file contains the list of all legitimate user shells, as discussed in [Chapter
    9](ch09.xhtml#ch09).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件包含所有合法用户 shell 的列表，详见[第9章](ch09.xhtml#ch09)。
- en: '**/etc/skel/**'
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/skel/**'
- en: In */etc/skel/*, you’ll find shell dotfiles that get copied to the new user
    accounts.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 在*/etc/skel/*中，你会找到一些 shell 配置文件，这些文件会复制到新的用户账户中。
- en: '**/etc/snmpd.config**'
  id: totrans-182
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/snmpd.config**'
- en: FreeBSD includes a basic SNMP implementation, which we discuss in [Chapter 20](ch20.xhtml#ch20).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD 包含了一个基础的 SNMP 实现，我们在[第20章](ch20.xhtml#ch20)中进行了讨论。
- en: '**/etc/spwd.db**'
  id: totrans-184
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/spwd.db**'
- en: This file contains the confidential database of the user password file */etc/master.passwd*.
    See [Chapter 9](ch09.xhtml#ch09) for all the inglorious detail.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件包含用户密码文件*/etc/master.passwd*的机密数据库。详见[第9章](ch09.xhtml#ch09)中的所有细节。
- en: '**/etc/src.conf**'
  id: totrans-186
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/src.conf**'
- en: This file contains machine instructions for building FreeBSD from source. It’s
    a parallel of *make.conf* for the source tree alone. Values set in */etc/make.conf*
    affect building FreeBSD from source as well, though; the difference is that */etc/src.conf*
    affects only building FreeBSD but not ports and packages. See [Chapter 18](ch18.xhtml#ch18)
    for all your upgrading needs.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 本文件包含用于从源代码构建 FreeBSD 的机器指令。这是仅针对源代码树的 *make.conf*。不过，设置在*/etc/make.conf*中的值也会影响从源代码构建
    FreeBSD；区别在于，*/etc/src.conf* 只影响 FreeBSD 的构建，而不会影响端口和包的构建。详情请见[第18章](ch18.xhtml#ch18)。
- en: '**/etc/ssh/**'
  id: totrans-188
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ssh/**'
- en: Configure the Secure Shell software suite (SSH) in */etc/ssh*. This includes
    the client ssh(1) and the server sshd(8). [Chapter 20](ch20.xhtml#ch20) touches
    on sshd(8).
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 配置安全外壳软件套件（SSH）在*/etc/ssh*中。这包括客户端ssh(1)和服务器端sshd(8)。 [第20章](ch20.xhtml#ch20)介绍了sshd(8)。
- en: '**/etc/ssl/**'
  id: totrans-190
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ssl/**'
- en: FreeBSD includes the OpenSSL cryptographic software. [Chapter 19](ch19.xhtml#ch19)
    discusses a few basic uses and configuration. The */etc/ssl* directory contains
    most OpenSSL information.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD包含了OpenSSL加密软件。[第19章](ch19.xhtml#ch19)讨论了一些基本的使用方法和配置。*/etc/ssl*目录包含了大部分OpenSSL信息。
- en: '**/etc/sysctl.conf**'
  id: totrans-192
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/sysctl.conf**'
- en: This file contains information on which kernel sysctls are set during the boot
    process. See [Chapter 6](ch06.xhtml#ch06).
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含了在启动过程中设置的内核sysctl信息。请参见[第6章](ch06.xhtml#ch06)。
- en: '**/etc/syslog.conf, /etc/syslog.conf.d/**'
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/syslog.conf, /etc/syslog.conf.d/**'
- en: This file controls which data goes into your system logs and where those logs
    are stored. See [Chapter 21](ch21.xhtml#ch21).
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件控制哪些数据进入你的系统日志，并且这些日志存储的位置。请参见[第21章](ch21.xhtml#ch21)。
- en: '**/etc/termcap, /etc/termcap.small**'
  id: totrans-196
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/termcap, /etc/termcap.small**'
- en: This file contains the settings and capabilities of different terminal types.
    In the age when terminals came in dozens of different types and vendors released
    new terminals on an almost daily basis, understanding this file was vital. Now
    that the world has largely converged on vt100 as a standard, however, the default
    configuration is suitable for almost everyone.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含了不同终端类型的设置和功能。在终端有数十种不同类型，且厂商几乎每天都会发布新终端的时代，理解这个文件至关重要。然而，现如今世界大多数已经统一采用vt100作为标准，默认配置适合几乎所有人。
- en: The termcap file is a symlink to */usr/share/misc/termcap*. This file might
    not be available in single-user mode. FreeBSD offers the */etc/termcap.small*
    file to provide terminal information in single-user mode.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: termcap文件是指向*/usr/share/misc/termcap*的符号链接。在单用户模式下，这个文件可能不可用。FreeBSD提供了*/etc/termcap.small*文件，以在单用户模式下提供终端信息。
- en: '**/etc/ttys**'
  id: totrans-199
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/ttys**'
- en: This file contains all of the system terminal devices (the windows containing
    a command prompt). The name is a relic of the time when terminals were physical
    teletypes, but today most users use the virtual terminals generated by telnet
    or SSH.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 这个文件包含了所有系统终端设备（包含命令提示符的窗口）。这个名字源自于终端曾经是物理电传打字机的时代，但今天大多数用户使用的是通过telnet或SSH生成的虚拟终端。
- en: We’ll use this file to set up serial logins in [Chapter 23](ch23.xhtml#ch23).
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在[第23章](ch23.xhtml#ch23)中使用此文件设置串行登录。
- en: '**/etc/unbound/**'
  id: totrans-202
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/unbound/**'
- en: FreeBSD ships with the Unbound DNS client. The configuration information goes
    in */etc/unbound/*. [Chapter 20](ch20.xhtml#ch20) covers setting up Unbound as
    a local DNS resolver.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD随附Unbound DNS客户端。配置文件存放在*/etc/unbound/*。 [第20章](ch20.xhtml#ch20)讲解了如何将Unbound设置为本地DNS解析器。
- en: '**/etc/wall_cmos_clock**'
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/wall_cmos_clock**'
- en: This isn’t a vital file, but as I went to the trouble of digging up what it
    does, you get to learn about it. If this file exists, FreeBSD’s time-keeping routines
    have determined that the hardware’s CMOS clock keeps a time other than Coordinated
    Universal Time (UTC). If the file is missing, the CMOS clock is set to some other
    time. It’s documented in adjkerntz(8).
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 这不是一个重要的文件，但由于我花时间挖掘它的作用，你也可以了解一下它。如果这个文件存在，FreeBSD的时间保持程序已经确定硬件的CMOS时钟所保持的时间不是协调世界时（UTC）。如果文件缺失，CMOS时钟将被设置为其他时间。它在adjkerntz(8)中有说明。
- en: '**/etc/zfs/**'
  id: totrans-206
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**/etc/zfs/**'
- en: FreeBSD’s ZFS uses this directory to store NFS integration information. We discuss
    NFS in [Chapter 13](ch13.xhtml#ch13).
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: FreeBSD的ZFS使用这个目录存储NFS集成信息。我们在[第13章](ch13.xhtml#ch13)中讨论NFS。
- en: If you can crawl through all of */etc*, you’ll be better prepared than most
    sysadmins. Now let’s add some software to your server.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你能深入了解整个*/etc*目录，你将比大多数系统管理员准备得更充分。现在让我们向你的服务器添加一些软件。
