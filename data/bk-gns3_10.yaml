- en: Chapter 10. Cool Things To Do on a Rainy Day
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章：雨天可以做的有趣事情
- en: Now that you’ve seen GNS3’s most commonly used features, let’s explore some
    fun tricks you can do with your GNS3 projects. First, you’ll create a simulated
    Cisco access server that functions like its real Cisco counterpart.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经了解了GNS3最常用的功能，接下来我们将探索一些你可以在GNS3项目中进行的有趣操作。首先，你将创建一个模拟的思科接入服务器，它像真实的思科设备一样运行。
- en: Next, I’ll show you how to move your GNS3 projects from one operating system
    to another and how to copy your GNS3 virtual router configurations from GNS3 to
    real Cisco routers. Finally, you’ll look at sharing a project’s resource load
    using multiple PCs, create some nerdy labs, and simulate a few real network scenarios.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我将向你展示如何将GNS3项目从一个操作系统迁移到另一个操作系统，以及如何将你的GNS3虚拟路由器配置从GNS3复制到真实的思科路由器。最后，你将学习如何利用多台PC共享项目的资源负载，创建一些技术性实验室，并模拟一些真实的网络场景。
- en: Managing Devices from an Access Server
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从接入服务器管理设备
- en: An *access server* allows you to manage all network devices from a central console
    so you can concurrently log on to multiple device consoles and easily switch between
    them. It’s an efficient way to manage devices on large Cisco networks, and with
    only a little effort you can create a fully functional virtual Cisco access server
    (sometimes called a *terminal* or *comm server*) to manage your GNS3 devices.
    I find that using a virtual access server is a fast way to manage and configure
    devices in GNS3, and you can also do it to learn the commands and keystrokes of
    a real access server.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 一个*接入服务器*允许你通过一个中央控制台管理所有网络设备，这样你就可以同时登录到多个设备控制台，并轻松地在它们之间切换。这是管理大型思科网络设备的高效方法，只需稍加努力，你就可以创建一个完全功能的虚拟思科接入服务器（有时称为*终端*或*通信服务器*）来管理你的GNS3设备。我发现使用虚拟接入服务器是管理和配置GNS3设备的快速方法，同时你也可以通过它学习真实接入服务器的命令和按键操作。
- en: A GNS3 virtual access server has two components. The first is a Cloud node configured
    with a virtual interface; you’ll use a Loopback Adapter driver in Windows and
    a TAP adapter in Linux. The second is a Cisco Dynamips router that acts as the
    management console. Configuring the virtual access server itself varies slightly
    depending on your operating system. I’ll cover Windows and Ubuntu Linux, but the
    concepts apply to other Linux operating systems. Unfortunately, OS X is not supported
    at the time of writing.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 一个GNS3虚拟接入服务器由两个组件组成。第一个是配置了虚拟接口的Cloud节点；在Windows中，你将使用回环适配器驱动程序，在Linux中，你将使用TAP适配器。第二个是作为管理控制台的思科Dynamips路由器。虚拟接入服务器的配置根据你的操作系统略有不同。我将介绍Windows和Ubuntu
    Linux，但这些概念同样适用于其他Linux操作系统。不幸的是，在撰写时，OS X尚不支持。
- en: Installing the Virtual Interface
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装虚拟接口
- en: Whether you use Windows or Linux, you’ll need to install a virtual network adapter
    and assign it an IP address. On Windows, you’ll install a Loopback Adapter driver,
    and on Unix-based systems like Linux, you’ll install a TAP driver. If you’re a
    Linux user, you can skip to [Configuring a TAP Adapter in Linux](ch10.html#configuring_a_tap_adapter_in_linux
    "Configuring a TAP Adapter in Linux").
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你使用Windows还是Linux，你都需要安装一个虚拟网络适配器并为其分配一个IP地址。在Windows上，你需要安装一个回环适配器驱动程序，而在类似Linux的Unix系统上，你需要安装一个TAP驱动程序。如果你是Linux用户，可以跳到[在Linux中配置TAP适配器](ch10.html#configuring_a_tap_adapter_in_linux
    "在Linux中配置TAP适配器")。
- en: Configuring a Loopback Adapter in Windows
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在Windows中配置回环适配器
- en: If you haven’t done so already, install the Microsoft Loopback Adapter driver.
    (Refer to [Using a Loopback Adapter on Windows](ch07.html#using_a_loopback_adapter_on_windows
    "Using a Loopback Adapter on Windows").) After you’ve installed the adapter, assign
    it an IP address. The IP address and subnet mask you choose must be unique from
    any network adapters already configured on your PC and from any IP addresses that
    you plan to use in your GNS3 network topology.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还没有安装，请安装Microsoft回环适配器驱动程序。（参见[在Windows上使用回环适配器](ch07.html#using_a_loopback_adapter_on_windows
    "在Windows上使用回环适配器")。）安装完适配器后，为其分配一个IP地址。你选择的IP地址和子网掩码必须与PC上已配置的任何网络适配器的地址不同，并且与计划在GNS3网络拓扑中使用的任何IP地址不同。
- en: To configure the adapter, open the Windows **Control Panel** and select **Network
    and Sharing Center**. Next, select **Change Adapter Settings** to display a list
    of available adapters, as shown in [Figure 10-1](ch10.html#selecting_properties_to_configure_the_mi
    "Figure 10-1. Selecting Properties to configure the Microsoft Loopback Adapter
    driver").
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置适配器，打开 Windows **控制面板**，然后选择 **网络和共享中心**。接下来，选择 **更改适配器设置**，以显示可用适配器列表，如[图10-1](ch10.html#selecting_properties_to_configure_the_mi
    "图10-1. 选择属性以配置 Microsoft 回环适配器驱动程序")所示。
- en: '![Selecting Properties to configure the Microsoft Loopback Adapter driver](httpatomoreillycomsourcenostarchimages2209155.png.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![选择属性以配置 Microsoft 回环适配器驱动程序](httpatomoreillycomsourcenostarchimages2209155.png.jpg)'
- en: Figure 10-1. Selecting Properties to configure the Microsoft Loopback Adapter
    driver
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 图10-1. 选择属性以配置 Microsoft 回环适配器驱动程序
- en: Right-click the Microsoft Loopback Adapter driver and select **Properties**.
    From the Properties window, select [*Internet Protocol Version 4 (TCP/IPv4)*](apd.html#gloss01_030)
    and then click the **Properties** button to display the IP address settings, shown
    in [Figure 10-2](ch10.html#configuring_your_loopback_adapter_driver "Figure 10-2. Configuring
    your Loopback Adapter driver with an IP address").
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 右键单击 Microsoft 回环适配器驱动程序，选择 **属性**。在属性窗口中，选择 [*Internet Protocol Version 4 (TCP/IPv4)*](apd.html#gloss01_030)，然后点击
    **属性** 按钮，显示 IP 地址设置，如[图10-2](ch10.html#configuring_your_loopback_adapter_driver
    "图10-2. 配置带有 IP 地址的回环适配器驱动程序")所示。
- en: '![Configuring your Loopback Adapter driver with an IP address](httpatomoreillycomsourcenostarchimages2209157.png.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![配置带有 IP 地址的回环适配器驱动程序](httpatomoreillycomsourcenostarchimages2209157.png.jpg)'
- en: Figure 10-2. Configuring your Loopback Adapter driver with an IP address
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 图10-2. 配置带有 IP 地址的回环适配器驱动程序
- en: Select **Use the following IP address** and enter a unique IP address and subnet
    mask. I’ve chosen 9.9.9.9 and 255.255.255.0, but any address and mask will work,
    as long as they’re unique from any addresses assigned to any Ethernet adapters
    in your PC, and from any addresses that you plan to use in your GNS3 network topology.
    There’s no need to include a default gateway address or provide any DNS servers
    because they won’t be used by the access server. When you’re finished, click **OK**
    to complete the configuration. Now close any open windows and launch GNS3\. If
    you’re a Linux user, read on; otherwise, you can skip to [Preparing the GNS3 Server](ch10.html#preparing_the_gns3_server
    "Preparing the GNS3 Server").
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 选择 **使用以下 IP 地址**，并输入一个唯一的 IP 地址和子网掩码。我选择了 9.9.9.9 和 255.255.255.0，但任何地址和掩码都可以，只要它们与电脑中任何以太网适配器分配的地址以及你计划在
    GNS3 网络拓扑中使用的任何地址不同。无需包括默认网关地址或提供任何 DNS 服务器，因为访问服务器不会使用它们。完成后，点击 **确定** 完成配置。现在关闭所有打开的窗口并启动
    GNS3。如果你是 Linux 用户，请继续阅读；否则，你可以跳转到 [准备 GNS3 服务器](ch10.html#preparing_the_gns3_server
    "准备 GNS3 服务器")。
- en: Configuring a TAP Adapter in Linux
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在 Linux 中配置 TAP 适配器
- en: 'On Ubuntu Linux, you’ll use a virtual TAP adapter for the access server. Open
    a terminal and enter the following command to install the drivers:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Ubuntu Linux 上，你将使用虚拟 TAP 适配器作为访问服务器。打开终端，输入以下命令安装驱动程序：
- en: '[PRE0]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To enable tap0, enter the following command, replacing *`jneumann`* with your
    Linux username:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用 tap0，请输入以下命令，将 *`jneumann`* 替换为你的 Linux 用户名：
- en: '[PRE1]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Next, assign a unique IP address to the tap0 interface. The IP address and subnet
    mask you choose must be unique from any network adapters configured on your PC
    and from any IP addresses that you plan to use in your GNS3 network topology.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，给 tap0 接口分配一个唯一的 IP 地址。你选择的 IP 地址和子网掩码必须与 PC 上配置的任何网络适配器以及你计划在 GNS3 网络拓扑中使用的任何
    IP 地址不同。
- en: '[PRE2]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: To ensure the tap0 interface maintains its IP address and is available after
    a reboot, you’ll need to change your Linux network settings.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 为确保 tap0 接口在重启后保持其 IP 地址并可用，你需要更改 Linux 网络设置。
- en: 'Open the *interfaces* file under */etc/networks/* in a text editor like pico
    or vi. You’ll need administrator privileges to make changes to the file, so log
    in as *root* or run the editor with the `sudo` command, as in `sudo pico interfaces`.
    Then, append the following to the end of the file:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在文本编辑器（如 pico 或 vi）中打开 */etc/networks/* 下的 *interfaces* 文件。你需要管理员权限才能更改该文件，因此请以
    *root* 身份登录，或使用 `sudo` 命令运行编辑器，如 `sudo pico interfaces`。然后，将以下内容附加到文件末尾：
- en: '[PRE3]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: With these commands in place, save the *interfaces* file, close it, and reboot.
    When Ubuntu restarts, the TAP driver should automatically load, and interface
    tap0 should be ready to use.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在这些命令到位后，保存 *interfaces* 文件，关闭并重启。当 Ubuntu 重启时，TAP 驱动程序应该会自动加载，接口 tap0 应该可以使用。
- en: Warning
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 警告
- en: '*Use caution when editing the* /etc/networks/interfaces *file. Entering a typo
    here can prevent Ubuntu from booting properly.*'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '*编辑* /etc/networks/interfaces *文件时请小心。输入错误的内容可能导致 Ubuntu 无法正常启动。*'
- en: 'Enter the `ifconfig` command to verify the tap0 settings:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 输入 `ifconfig` 命令以验证 tap0 设置：
- en: '[PRE4]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The output from `ifconfig` should show that the tap0 adapter is enabled ➊ and
    configured with an IP address ➋. After you’ve installed and configured a virtual
    adapter, you’ll need to set up the GNS3 server.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '`ifconfig` 的输出应该显示 tap0 适配器已启用 ➊ 并配置了 IP 地址 ➋。安装并配置虚拟适配器后，你需要设置 GNS3 服务器。'
- en: Preparing the GNS3 Server
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备 GNS3 服务器
- en: On Windows, run GNS3 as administrator. Begin by binding the GNS3 server to the
    IP address of your virtual interface; otherwise, your access server will not work.
    Click **Edit** ▸ **Preferences** and choose **GNS3 server** from the left column.
    Select the **Host binding** drop-down menu and then select the IP address you
    assigned to the virtual interface, as shown in [Figure 10-3](ch10.html#changing_the_gns3_server_host_binding
    "Figure 10-3. Changing the GNS3 server host binding").
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 上以管理员身份运行 GNS3。首先将 GNS3 服务器绑定到虚拟接口的 IP 地址，否则访问服务器将无法正常工作。点击 **编辑**
    ▸ **首选项**，然后从左侧栏目中选择 **GNS3 服务器**。选择 **主机绑定** 下拉菜单，然后选择分配给虚拟接口的 IP 地址，如 [图 10-3](ch10.html#changing_the_gns3_server_host_binding
    "图 10-3. 修改 GNS3 服务器主机绑定") 所示。
- en: In [Figure 10-3](ch10.html#changing_the_gns3_server_host_binding "Figure 10-3. Changing
    the GNS3 server host binding"), the IP address is 9.9.9.9 ➊. Click **Apply** and
    **OK**, and the GNS3 server should restart with the new host binding.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [图 10-3](ch10.html#changing_the_gns3_server_host_binding "图 10-3. 修改 GNS3
    服务器主机绑定") 中，IP 地址为 9.9.9.9 ➊。点击 **应用** 和 **确定**，GNS3 服务器应该会以新的主机绑定重新启动。
- en: '![Changing the GNS3 server host binding](httpatomoreillycomsourcenostarchimages2209159.png.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![修改 GNS3 服务器主机绑定](httpatomoreillycomsourcenostarchimages2209159.png.jpg)'
- en: Figure 10-3. Changing the GNS3 server host binding
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-3. 修改 GNS3 服务器主机绑定
- en: Creating a Virtual Access Server in GNS3
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在 GNS3 中创建虚拟访问服务器
- en: 'With your GNS3 server bound to the virtual adapter’s IP address, you can create
    the virtual access server. The access server is created using two devices: a Cloud
    node and a Dynamips IOS router.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在 GNS3 服务器绑定到虚拟适配器的 IP 地址后，你可以创建虚拟访问服务器。访问服务器是通过两个设备创建的：一个 Cloud 节点和一个 Dynamips
    IOS 路由器。
- en: Configuring the Cloud Node
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置 Cloud 节点
- en: Begin a project by adding a Cloud node to your workspace. Right-click the Cloud
    node and select **Configure**. If you’re running Windows, select the **NIO Ethernet**
    tab (shown in [Figure 10-4](ch10.html#configuring_the_cloud_node_with_a_loopba
    "Figure 10-4. Configuring the Cloud node with a Loopback Adapter driver in Windows")).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 通过向工作区添加 Cloud 节点开始一个项目。右键点击 Cloud 节点并选择 **配置**。如果你在 Windows 上运行，选择 **NIO Ethernet**
    标签页（如 [图 10-4](ch10.html#configuring_the_cloud_node_with_a_loopba "图 10-4. 在 Windows
    中配置带有环回适配器驱动程序的 Cloud 节点") 中所示）。
- en: Click the drop-down menu under Generic Ethernet NIO and select your Microsoft
    Loopback Adapter driver (**Loopback1** in this example); then click **Add, Apply**,
    and **OK** to complete the configuration.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“通用以太网 NIO”下拉菜单，选择你的 Microsoft 环回适配器驱动程序（本示例中为 **Loopback1**）；然后点击 **添加，应用**
    和 **确定** 完成配置。
- en: If you’re running GNS3 on Ubuntu Linux, configure the Cloud node using tap0\.
    Instead of NIO Ethernet, select the **NIO TAP** tab and enter **tap0** in the
    TAP interface field, as in [Figure 10-5](ch10.html#configuring_nio_tap_with_tap0_on_ubuntu
    "Figure 10-5. Configuring NIO TAP with tap0 on Ubuntu Linux").
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在 Ubuntu Linux 上运行 GNS3，请使用 tap0 配置 Cloud 节点。选择 **NIO TAP** 标签页，而不是 NIO Ethernet，然后在
    TAP 接口字段中输入 **tap0**，如 [图 10-5](ch10.html#configuring_nio_tap_with_tap0_on_ubuntu
    "图 10-5. 在 Ubuntu Linux 上配置 NIO TAP 和 tap0") 所示。
- en: '![Configuring the Cloud node with a Loopback Adapter driver in Windows](httpatomoreillycomsourcenostarchimages2209161.png.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![在 Windows 中配置带有环回适配器驱动程序的 Cloud 节点](httpatomoreillycomsourcenostarchimages2209161.png.jpg)'
- en: Figure 10-4. Configuring the Cloud node with a Loopback Adapter driver in Windows
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-4. 在 Windows 中配置带有环回适配器驱动程序的 Cloud 节点
- en: '![Configuring NIO TAP with tap0 on Ubuntu Linux](httpatomoreillycomsourcenostarchimages2209163.png.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![在 Ubuntu Linux 上配置 NIO TAP 和 tap0](httpatomoreillycomsourcenostarchimages2209163.png.jpg)'
- en: Figure 10-5. Configuring NIO TAP with tap0 on Ubuntu Linux
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-5. 在 Ubuntu Linux 上配置 NIO TAP 和 tap0
- en: When you’re finished, click **Add, Apply**, and **OK t**o complete the Cloud
    node configuration.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 配置完成后，点击 **添加，应用**，然后点击 **确定** 完成云节点的配置。
- en: Configuring the Access Server Router
  id: totrans-49
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置接入服务器路由器
- en: After configuring the Cloud node, add a Dynamips router to your workspace and
    create a link from the router to the Cloud node. Together, these two devices comprise
    the virtual access server, shown in [Figure 10-6](ch10.html#virtual_access_server
    "Figure 10-6. Virtual access server"). They will not be linked to any other devices
    in your GNS3 project.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 配置云节点后，向工作空间添加一个 Dynamips 路由器，并从该路由器创建一条到云节点的连接。这两台设备共同组成虚拟接入服务器，如[图 10-6](ch10.html#virtual_access_server
    "图 10-6. 虚拟接入服务器")所示。它们不会与 GNS3 项目中的其他设备相连接。
- en: '![Virtual access server](httpatomoreillycomsourcenostarchimages2209165.png.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![虚拟接入服务器](httpatomoreillycomsourcenostarchimages2209165.png.jpg)'
- en: Figure 10-6. Virtual access server
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-6. 虚拟接入服务器
- en: After linking the virtual access server components together, add more routers
    to your workspace to create a simple three-router network, as shown in [Figure 10-7](ch10.html#network_configured_with_a_virtual_cisco
    "Figure 10-7. Network configured with a virtual Cisco access server"). This is
    the network topology that will be managed using the virtual access server.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在将虚拟接入服务器组件连接在一起后，向工作空间添加更多路由器，以创建一个简单的三路由器网络，如[图 10-7](ch10.html#network_configured_with_a_virtual_cisco
    "图 10-7. 配置了虚拟 Cisco 接入服务器的网络")所示。这就是将通过虚拟接入服务器进行管理的网络拓扑。
- en: '![Network configured with a virtual Cisco access server](httpatomoreillycomsourcenostarchimages2209167.png.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![配置了虚拟 Cisco 接入服务器的网络](httpatomoreillycomsourcenostarchimages2209167.png.jpg)'
- en: Figure 10-7. Network configured with a virtual Cisco access server
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-7. 配置了虚拟 Cisco 接入服务器的网络
- en: '[Figure 10-7](ch10.html#network_configured_with_a_virtual_cisco "Figure 10-7. Network
    configured with a virtual Cisco access server") shows that you have created a
    virtual access server using router R1 and a Cloud node (Cloud 1), and you have
    created a network topology that’s made up of three routers, named R2, R3, and
    R4.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 10-7](ch10.html#network_configured_with_a_virtual_cisco "图 10-7. 配置了虚拟 Cisco
    接入服务器的网络")显示，你已经使用路由器 R1 和云节点（Cloud 1）创建了一个虚拟接入服务器，并且创建了由三个路由器组成的网络拓扑，这些路由器分别命名为
    R2、R3 和 R4。'
- en: Now that you’ve created both the access server and a GNS3 network topology,
    you can configure the access server router. Assign router R1 an IP address from
    the same network as your PC’s virtual adapter, and test connectivity from R1 to
    the virtual adapter interface. For example, if you assigned the virtual adapter
    the IP address 9.9.9.9 255.255.255.0 as I have, you could assign the access server
    router R1 any IP address in that network range. I use the IP address 9.9.9.8 and
    the subnet mask 255.255.255.0.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经创建了接入服务器和 GNS3 网络拓扑，你可以配置接入服务器路由器。为路由器 R1 分配一个与 PC 虚拟适配器同一网络的 IP 地址，并测试从
    R1 到虚拟适配器接口的连通性。例如，如果你为虚拟适配器分配了 IP 地址 9.9.9.9 255.255.255.0，像我一样，你可以为接入服务器路由器
    R1 分配该网络范围内的任何 IP 地址。我使用的是 IP 地址 9.9.9.8 和子网掩码 255.255.255.0。
- en: 'To configure the address on interface f0/0, open a console connection to router
    R1 and enter the following commands:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置 f0/0 接口的地址，请打开与路由器 R1 的控制台连接，并输入以下命令：
- en: '[PRE5]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: In this configuration, router R1’s interface f0/0 is linked to the Cloud node
    and configured with IP address 9.9.9.8 255.255.255.0\. Test the connection between
    R1 and the virtual interface using a `ping` command. If the ping test is successful,
    you’re ready to move on. If the ping test is unsuccessful, verify that all your
    interfaces are enabled and that the virtual interface (loopback or TAP) is configured
    with the proper IP address and subnet mask.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在此配置中，路由器 R1 的 f0/0 接口与云节点连接，并配置为 IP 地址 9.9.9.8 255.255.255.0。使用 `ping` 命令测试
    R1 与虚拟接口之间的连接。如果 ping 测试成功，则可以继续操作。如果 ping 测试不成功，请验证所有接口是否启用，并且虚拟接口（回环接口或 TAP）是否配置了正确的
    IP 地址和子网掩码。
- en: Configuring a Cisco IP Hostname Table
  id: totrans-61
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置 Cisco IP 主机名表
- en: After configuring an IP address on the virtual access server (R1), you’re ready
    to configure an IP hostname table using information gathered from the devices
    that the access server will manage. In this project, the devices are routers R2,
    R3, and R4\. Using Cisco IOS commands, you’ll create an IP hostname table using
    the IP address of the virtual interface (9.9.9.9) and the console port numbers
    that GNS3 has assigned to the routers used in your network topology. A Cisco IP
    hostname table works much like a Unix hosts file, except that you’ll also include
    port numbers in the table. You’ll create an entry for each device in the topology
    that you want to manage.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在虚拟接入服务器（R1）上配置IP地址后，您就可以开始配置IP主机名表格，使用从接入服务器将要管理的设备收集的信息。在本项目中，设备是路由器R2、R3和R4。使用Cisco
    IOS命令，您将使用虚拟接口的IP地址（9.9.9.9）和GNS3分配给您网络拓扑中路由器的控制台端口号来创建IP主机名表格。Cisco的IP主机名表格与Unix的hosts文件类似，不同的是，您还需要在表格中包含端口号。您将为每个您想要管理的拓扑设备创建一个条目。
- en: Begin by finding the console port numbers for routers that the access server
    will manage. In this project, you’re interested only in the console port numbers
    for routers R2, R3, and R4\. You can quickly find any device’s console port number
    by hovering your mouse over the device, as shown in [Figure 10-8](ch10.html#displaying_device_information
    "Figure 10-8. Displaying device information").
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，找出接入服务器将要管理的路由器的控制台端口号。在本项目中，您只关心路由器R2、R3和R4的控制台端口号。您可以通过将鼠标悬停在设备上，快速找到任何设备的控制台端口号，如[图10-8](ch10.html#displaying_device_information
    "图10-8. 显示设备信息")所示。
- en: '![Displaying device information](httpatomoreillycomsourcenostarchimages2209169.png.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![显示设备信息](httpatomoreillycomsourcenostarchimages2209169.png.jpg)'
- en: Figure 10-8. Displaying device information
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图10-8. 显示设备信息
- en: Router R2’s console is on port 2002\. Because console port numbers are assigned
    sequentially as devices are added to a project, routers R2, R3, and R4 should
    have been assigned the console port numbers 2002, 2003, and 2004, respectively.
    If you’re unsure, hover your mouse over each device icon to verify the information.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 路由器R2的控制台在端口2002。由于控制台端口号会随着设备的添加按顺序分配，因此路由器R2、R3和R4应该分别被分配到2002、2003和2004端口。如果不确定，可以将鼠标悬停在每个设备图标上验证信息。
- en: Note
  id: totrans-67
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you add multiple routers at the same time, instead of one at a time, the
    console port numbers may not be assigned in sequential order.*'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果同时添加多个路由器，而不是逐个添加，控制台端口号可能不会按顺序分配。*'
- en: 'To create the IP hostname table, open a console on router R1 (the access server)
    and enter the following commands:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建IP主机名表格，请打开路由器R1（接入服务器）的控制台并输入以下命令：
- en: '[PRE6]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Notice the host port numbers correspond with the unique console port numbers
    from the three routers you want to manage, but the IP address is always the same;
    it is the IP address assigned to the virtual adapter (9.9.9.9). That’s because
    when the virtual access server opens a console to one of the lab routers, GNS3
    creates a telnet session from the access server to the routers using the virtual
    adapter’s IP address. From there, it connects to the individual console port number
    that you assigned. For example, when the access server opens a console connection
    to router R2, GNS3 telnets to IP address 9.9.9.9 using port number 2002\. This
    is similar to how an actual Cisco access server works.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，主机端口号与您想要管理的三台路由器的唯一控制台端口号相对应，但IP地址始终是相同的；它是分配给虚拟适配器的IP地址（9.9.9.9）。这是因为当虚拟接入服务器打开到其中一台实验室路由器的控制台时，GNS3使用虚拟适配器的IP地址通过telnet会话从接入服务器连接到路由器。然后，它连接到您分配的单独控制台端口号。例如，当接入服务器打开到路由器R2的控制台连接时，GNS3通过端口号2002使用IP地址9.9.9.9进行telnet连接。这与实际的Cisco接入服务器工作原理相似。
- en: Now, verify which hosts are configured on your virtual access server with the
    `show hosts` command.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，使用`show hosts`命令验证在您的虚拟接入服务器上配置了哪些主机。
- en: '[PRE7]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This command displays the hostname ➊, port number ➋, and IP address ➌ for each
    host configured on the access server.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令显示接入服务器上为每个主机配置的主机名➊、端口号➋和IP地址➌。
- en: Virtual Access Server Limitations
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟接入服务器的限制
- en: There are limitations as to what devices can be managed by the virtual access
    server. Because the GNS3 server is bound to a virtual adapter and runs “locally”
    on your PC, the virtual access server can manage only local devices.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟接入服务器可以管理的设备是有限制的。由于GNS3服务器绑定到虚拟适配器，并在您的PC上“本地”运行，因此虚拟接入服务器只能管理本地设备。
- en: On a Windows PC, you cannot manage VirtualBox virtual machines, including IOU,
    though you can manage QEMU devices, like Junos. On Ubuntu Linux, you can manage
    all devices, including Dynamips, IOU, QEMU, and VirtualBox, as long they’re running
    locally on your Linux PC.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows PC上，你不能管理VirtualBox虚拟机，包括IOU，但可以管理QEMU设备，如Junos。在Ubuntu Linux上，你可以管理所有设备，包括Dynamips、IOU、QEMU和VirtualBox，只要它们在你的Linux
    PC上本地运行。
- en: To learn more about configuring and using a real Cisco access server, visit
    the Cisco website (*[http://www.cisco.com/](http://www.cisco.com/)*) and search
    for *configuring a comm server*. For now, you should know all you need to try
    your virtual access server.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 若要了解更多关于配置和使用真实Cisco访问服务器的信息，请访问Cisco官网（*[http://www.cisco.com/](http://www.cisco.com/)）并搜索*配置通讯服务器*。目前，你应该已经知道了尝试虚拟访问服务器所需的一切。
- en: Seeing the Virtual Access Server in Action
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 看到虚拟访问服务器的实际操作
- en: After you’ve fully configured the access server and started your project routers,
    you should be able to manage those routers using the access server. You can open
    a console connection to several routers, and easily switch between them.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在你完全配置好访问服务器并启动了项目中的路由器后，你应该能够使用访问服务器管理这些路由器。你可以打开多个路由器的控制台连接，并轻松切换它们。
- en: Opening Consoles
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 打开控制台
- en: Begin by opening a console connection to R1\. Right-click router R1 and choose
    **Console**. Next, type the name of a host you want to manage and press
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，打开与R1的控制台连接。右键点击路由器R1并选择**控制台**。接着，输入你想管理的主机名并按
- en: '[PRE8]'
  id: totrans-83
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: In this example, I open a session with router R2 by entering **`R2`** from the
    access server command line. The output shows that a session is established using
    IP address 9.9.9.9 ➊ and port number 2002 ➋, and the prompt ➌ has changed to the
    router being managed (R2 in this example). After the session is open, you can
    configure the router as though you opened a console directly from GNS3.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我通过在访问服务器命令行输入**`R2`**来打开与路由器R2的会话。输出显示，通过IP地址9.9.9.9 ➊和端口号2002 ➋建立了会话，并且提示符➌已经更改为正在管理的路由器（在这个示例中是R2）。会话打开后，你可以像从GNS3直接打开控制台一样配置路由器。
- en: When you’re finished configuring the router, return to the access server console;
    just press SHIFT-CTRL-6 and then press the **X** key. (Cisco calls this combination
    of actions an *escape sequence*.) After returning to the access server console,
    enter the name of another router in your project to open a console on it. Try
    entering **`R3`** now, and configure the router however you’d like. When you’re
    done, use the escape sequence again to return to the access server.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 配置完路由器后，返回访问服务器控制台；只需按SHIFT-CTRL-6，然后按**X**键。（Cisco将这种操作组合称为*逃逸序列*。）返回到访问服务器控制台后，输入项目中另一个路由器的名称以打开其控制台。现在尝试输入**`R3`**，并按照你需要的方式配置路由器。当你完成后，再次使用逃逸序列返回到访问服务器。
- en: Even though you’re currently logged on to the access server console, the sessions
    on the other two routers remain open. To display a list of open sessions and their
    corresponding connection numbers, enter the `show sessions` command.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你当前已登录到访问服务器控制台，另外两个路由器的会话仍然保持打开状态。要显示已打开会话及其对应的连接编号，请输入`show sessions`命令。
- en: '[PRE9]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: You should see two active connections (1 and 2). The asterisk ➊ next to Conn
    2 indicates that router R3 was the last session used. To return to the last session,
    press ENTER. To return to a different session, type a connection number and press
    ENTER; for example, you’d enter `1` to return to router R2.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该能看到两个活动连接（1和2）。连接2旁边的星号➊表示路由器R3是最后一个使用的会话。要返回到上一个会话，按ENTER键。要返回到其他会话，输入连接编号并按ENTER键；例如，你可以输入`1`返回到路由器R2。
- en: Closing Consoles
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关闭控制台
- en: When you’re ready to disconnect from an open connection, enter the `disconnect`
    command followed by the connection number; then press ENTER to confirm closing
    the session.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 当你准备断开一个开放连接时，输入`disconnect`命令后跟连接编号；然后按ENTER确认关闭会话。
- en: '[PRE10]'
  id: totrans-91
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: In this example, I’ve disconnected from router R3 (connection 2). After disconnecting
    a session, you will have to enter the hostname again to reconnect to the device.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我已经断开了与路由器R3（连接2）的会话。断开会话后，你需要再次输入主机名才能重新连接到设备。
- en: Setting Connection Timeouts
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设置连接超时
- en: You may want to adjust the timeout setting (via the console `exec-timeout` parameter)
    on your routers and access server to ensure that you’re not logged out automatically
    during idle times, such as when you’re not actively configuring a router. The
    default value is ten minutes, but it can be set higher, lower, or changed to infinite.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能希望调整路由器和访问服务器上的超时设置（通过控制台`exec-timeout`参数），以确保在空闲时（例如您不再配置路由器时）不会自动注销。默认值为十分钟，但可以设置为更高、更低，或设置为无限。
- en: 'The following commands set the console timeout to zero minutes and zero seconds
    (infinite):'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令将控制台超时设置为零分钟零秒（无限）：
- en: '[PRE11]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: GNS3’s default *startup-config* should have already done this for you, but know
    that from a security standpoint, never allowing the router to time out is a bad
    idea in production environments. It is, however, highly convenient in lab environments
    such as GNS3.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3的默认*startup-config*文件应该已经为您完成了这个操作，但需要注意，从安全角度看，在生产环境中，永不让路由器超时是一个不好的做法。然而，在GNS3等实验环境中，这样做非常方便。
- en: Deploying Configurations to Real Hardware
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将配置部署到真实硬件
- en: One of the benefits of GNS3 is that it allows you to create and test network
    configurations that can later be used on real equipment. You simply export a router
    configuration in GNS3 and load it on a real Cisco IOS router.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3的一个好处是，它允许您创建和测试网络配置，这些配置可以稍后用于真实的设备。您只需在GNS3中导出路由器配置并将其加载到真实的Cisco IOS路由器上。
- en: Exporting GNS3 Configurations to Cisco Routers
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将GNS3配置导出到Cisco路由器
- en: After thoroughly testing a router configuration inside GNS3, you’re ready to
    export it and load it on a real Cisco router. You can export all the routers in
    your project, or you can export the configuration of an individual device. Before
    exporting a GNS3 IOS router configuration, log in to that router and save its
    *running-config* file to the *startup-config* file. The saved *startup-config*
    is the configuration that will be exported by GNS3.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在GNS3中彻底测试路由器配置后，您可以准备将其导出并加载到真实的Cisco路由器上。您可以导出项目中所有路由器的配置，或者只导出单个设备的配置。在导出GNS3
    IOS路由器配置之前，请登录到该路由器并将其*running-config*文件保存到*startup-config*文件中。保存的*startup-config*将是GNS3导出的配置。
- en: '[PRE12]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'If you have any IOU devices in your project, you’ll need to make copies of
    their *running-config* files, too. Just log in to the device and enter the following
    command to create a text file of the IOU configuration:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的项目中有任何IOU设备，您还需要复制它们的*running-config*文件。只需登录到设备并输入以下命令以创建IOU配置的文本文件：
- en: '[PRE13]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: After you’ve saved a *running-config* file, you can export all device configurations
    at the same time by selecting **File** ▸ **Import/Export device configs**. GNS3
    should then show the dialog in [Figure 10-9](ch10.html#importsolidusexport_tool_for_configurati
    "Figure 10-9. Import/export tool for configuration files").
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在保存了*running-config*文件后，您可以通过选择**文件** ▸ **导入/导出设备配置**同时导出所有设备的配置。GNS3随后会显示[图10-9](ch10.html#importsolidusexport_tool_for_configurati
    "图10-9. 配置文件的导入/导出工具")中的对话框。
- en: '![Import/export tool for configuration files](httpatomoreillycomsourcenostarchimages2209171.png.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![配置文件的导入/导出工具](httpatomoreillycomsourcenostarchimages2209171.png.jpg)'
- en: Figure 10-9. Import/export tool for configuration files
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-9. 配置文件的导入/导出工具
- en: Select **Export configs to a directory** from the drop-down menu, click **OK**,
    browse to the location where you want to save your configuration files, and click
    **Open** to save the configurations. The exported configuration files will be
    named after the devices in your workspace, like *R1_startup-config.cfg* and *IOU1_initial-config.cfg*.
    For each IOS device, you’ll also see a *private config* file that’s used only
    by GNS3 and contains SSH crypto keys. You don’t need to upload this to your real
    Cisco router. This export method is an all-or-nothing procedure that exports all
    the device configurations in your project. To export the configuration of a single
    device, save the configuration, right-click the device in your project, and select
    **Export config**. The saved file will be named using the device name.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 从下拉菜单中选择**导出配置到目录**，点击**确定**，浏览到您想要保存配置文件的位置，点击**打开**以保存配置文件。导出的配置文件将以工作区内设备的名称命名，例如
    *R1_startup-config.cfg* 和 *IOU1_initial-config.cfg*。对于每个IOS设备，您还会看到一个*私有配置*文件，该文件仅由GNS3使用，包含SSH加密密钥。您无需将其上传到真实的Cisco路由器。这种导出方法是一个全有或全无的过程，它会导出项目中所有设备的配置。要导出单个设备的配置，请保存配置，右键点击项目中的设备，选择**导出配置**。保存的文件将使用设备名称命名。
- en: Importing Cisco Router Configurations into GNS3
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将Cisco路由器配置导入到GNS3
- en: Now, let’s look at how to import a live Cisco router configuration into GNS3\.
    Begin by logging on to your real Cisco router and saving its configuration to
    your PC, using FTP or TFTP. Use a text editor to clean up any interface name discrepancies.
    Next, append the name of the exported file with `.cfg` to ensure that GNS3 can
    recognize the file. If you haven’t done so already, save your GNS3 project and
    stop the GNS3 router that is the target for the import. Finally, right-click the
    GNS3 router and choose **Import config**. Browse to the directory where you saved
    the *.cfg* file, and select the file to import it into the router. When you restart
    your GNS3 router, it should load and run the IOS configuration that you copied
    from the live Cisco router.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看如何将实时的Cisco路由器配置导入到GNS3中。首先，登录到你的真实Cisco路由器，并使用FTP或TFTP将其配置保存到PC上。使用文本编辑器清理任何接口名称不一致的情况。接下来，将导出的文件名后缀改为`.cfg`，确保GNS3能够识别该文件。如果你还没做过，请保存你的GNS3项目并停止GNS3路由器，该路由器是导入的目标。最后，右键点击GNS3路由器，选择**导入配置**。浏览到保存*.cfg*文件的目录，并选择该文件导入到路由器中。重新启动GNS3路由器时，它应该会加载并运行你从实时Cisco路由器复制过来的IOS配置。
- en: Note
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*When moving configurations back and forth between real routers and GNS3, you
    may have to perform some IOS configuration cleanup. For example, your GNS3 router
    may have an interface named* FastEthernet 0/0 *while your real Cisco router has
    an interface named* FastEthernet 0 *instead. In this case, use a text editor and
    modify the file before importing it into GNS3.*'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '*在将配置文件在真实路由器和GNS3之间来回迁移时，你可能需要进行一些IOS配置清理。例如，你的GNS3路由器可能有一个名为*FastEthernet
    0/0*的接口，而你的真实Cisco路由器则有一个名为*FastEthernet 0*的接口。在这种情况下，使用文本编辑器修改文件，然后再将其导入到GNS3中。*'
- en: Copying GNS3 Projects Between Platforms
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在平台之间复制GNS3项目
- en: Someday you may want to have your projects run on a PC that uses a different
    operating system than your existing PC. If your GNS3 projects include only Dynamips
    IOS routers and switches, you can copy them between different platforms such as
    Windows and Linux with minimal effort. But if they’re made up of other device
    types such as IOU, QEMU, or VirtualBox, the process can get complicated. Either
    way, moving a project between platforms is mostly a matter of copying one or more
    projects from your old GNS3 projects folder to the projects folder on a new PC.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 总有一天，你可能希望将项目迁移到使用不同操作系统的PC上。如果你的GNS3项目仅包含Dynamips IOS路由器和交换机，你可以在不同的平台之间（如Windows和Linux）轻松复制它们。但如果项目中包含其他设备类型，如IOU、QEMU或VirtualBox，过程可能会变得复杂。无论如何，在平台之间迁移项目，通常只是将一个或多个项目从旧的GNS3项目文件夹复制到新PC上的项目文件夹而已。
- en: IOS-Only Projects
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 仅使用IOS的项目
- en: If your project consists of only Dynamips routers, then almost no additional
    configuration is necessary, as long as the target computer has compatible image
    files. If the target PC is configured with different IOS image files or the images
    are stored in a different directory, GNS3 should prompt you to substitute the
    original image file with one that’s already configured on the target computer,
    as shown in [Figure 10-10](ch10.html#substituting_an_ios_image_file "Figure 10-10. Substituting
    an IOS image file").
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的项目仅由Dynamips路由器组成，则几乎不需要额外配置，只要目标计算机拥有兼容的镜像文件。如果目标PC配置了不同的IOS镜像文件，或者镜像文件存储在不同的目录中，GNS3应该会提示你用已配置在目标计算机上的镜像文件替换原始镜像文件，如[图10-10](ch10.html#substituting_an_ios_image_file
    "图10-10. 替换IOS镜像文件")所示。
- en: '![Substituting an IOS image file](httpatomoreillycomsourcenostarchimages2209173.png.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![替换IOS镜像文件](httpatomoreillycomsourcenostarchimages2209173.png.jpg)'
- en: Figure 10-10. Substituting an IOS image file
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图10-10. 替换IOS镜像文件
- en: In this example, you’re moving a project from a Windows PC to a Linux host.
    Even though the *c3725-adventerprisek9-mz-124-15.T14.image* file is configured
    on the Linux host in [Figure 10-10](ch10.html#substituting_an_ios_image_file "Figure 10-10. Substituting
    an IOS image file"), GNS3 was unable to locate it because Windows stores IOS image
    files using a different path than Linux.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，你将一个项目从Windows PC迁移到Linux主机。即使在[图10-10](ch10.html#substituting_an_ios_image_file
    "图10-10. 替换IOS镜像文件")中Linux主机已配置了*c3725-adventerprisek9-mz-124-15.T14.image*文件，GNS3仍然无法找到它，因为Windows存储IOS镜像文件的路径与Linux不同。
- en: In this case, GNS3 should display a list of configured IOS images and allow
    you to choose one. Use the drop-down menu to select an image and click **OK**.
    After selecting the image, GNS3 should update the path information in the project
    file on the target PC. To make the change permanent, you have to save your project.
    All of the original IOS configurations should remain intact, and your project
    should run as expected. If it doesn’t, start again and try using a different image
    file.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，GNS3应显示已配置的IOS镜像列表，并允许您选择其中一个。使用下拉菜单选择镜像并点击**OK**。选择镜像后，GNS3应更新目标PC上项目文件中的路径信息。为了使更改永久生效，您必须保存您的项目。所有原始的IOS配置应保持不变，您的项目应按照预期运行。如果没有，重新开始并尝试使用不同的镜像文件。
- en: Projects with IOU Devices
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 含有IOU设备的项目
- en: 'Copying projects that contain IOU devices can be a bit more involved. The easiest
    method is to re-create the IOU devices in the project on the target PC and then
    upload the original IOU configuration. Before copying the project to a new platform,
    follow these steps:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 复制包含IOU设备的项目可能会稍显复杂。最简单的方法是在目标PC上重新创建IOU设备，然后上传原始IOU配置。在将项目复制到新平台之前，请按照以下步骤操作：
- en: Log on to each IOU device in the project and copy the running configuration
    to the *unix:initial-config.cfg* file. Right-click an IOU device and choose **Export
    config** to save the configuration. Be sure to copy the exported configuration
    file to the new system when you copy your project.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到项目中的每个IOU设备，将运行配置复制到*unix:initial-config.cfg*文件。右键点击IOU设备，选择**导出配置**以保存配置。确保在复制项目时将导出的配置文件复制到新系统中。
- en: Open the project on the target PC and resolve any IOS image file substitution
    issues (refer to [Figure 10-10](ch10.html#substituting_an_ios_image_file "Figure 10-10. Substituting
    an IOS image file")).
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目标PC上打开项目，并解决任何IOS镜像文件替换问题（参考[图10-10](ch10.html#substituting_an_ios_image_file
    "图10-10. 替换IOS镜像文件")）。
- en: On the target PC, delete the IOU device from your project, add a new one, and
    link the IOU device to other project devices using the same interfaces as the
    original project.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在目标PC上，从您的项目中删除IOU设备，添加一个新设备，并使用与原始项目相同的接口将IOU设备连接到其他项目设备。
- en: 'To import the configuration, follow these steps:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 要导入配置，请执行以下步骤：
- en: Right-click the IOU device on the target PC and click **Import config**.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击目标PC上的IOU设备，并点击**导入配置**。
- en: Browse to the directory where the IOU configuration is saved and select the
    file. Do this for each IOU device in your project.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览到保存IOU配置的目录并选择文件。对项目中的每个IOU设备执行此操作。
- en: When you’re finished, start all the devices in your new project and verify that
    everything works as expected. Log on to each IOU device and examine its configuration.
    If everything looks good, save your updated project.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当您完成后，启动新项目中的所有设备，并验证一切是否按预期工作。登录到每个IOU设备并检查其配置。如果一切正常，保存您的更新项目。
- en: Finally, let’s look at transferring projects that use VirtualBox.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，让我们来看看如何转移使用VirtualBox的项目。
- en: Projects with VirtualBox Devices
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 含有VirtualBox设备的项目
- en: 'If you’re using a VirtualBox device in your original project, you’ll have to
    export it to an OVA file. Launch VirtualBox and choose **File** ▸ **Export Appliance**
    to save the device file. With the OVA prepared, follow these steps:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在原始项目中使用了VirtualBox设备，您需要将其导出为OVA文件。启动VirtualBox，选择**文件** ▸ **导出设备**来保存设备文件。准备好OVA文件后，按照以下步骤操作：
- en: Copy the OVA file to the new PC, launch VirtualBox, and choose **File** ▸ **Import
    Appliance** to import the file.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将OVA文件复制到新PC，启动VirtualBox，并选择**文件** ▸ **导入设备**来导入该文件。
- en: Launch GNS3 and add the VirtualBox virtual machine under Preferences, as discussed
    in [Importing Appliances](ch05.html#importing_appliances "Importing Appliances").
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动GNS3并在偏好设置中添加VirtualBox虚拟机，如在[导入设备](ch05.html#importing_appliances "导入设备")中讨论的那样。
- en: Add the device to your GNS3 project and link it to other devices, selecting
    the same interfaces that were used in the original project.
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将设备添加到您的GNS3项目中，并将其与其他设备连接，选择在原始项目中使用的相同接口。
- en: When you start your project on the new PC, your VirtualBox devices should have
    the same configuration they had on the old PC.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 当您在新PC上启动项目时，您的VirtualBox设备应具有与旧PC上相同的配置。
- en: Exploring the GNS3 Console
  id: totrans-137
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索GNS3控制台
- en: The GNS3 management console provides a command line interface that you can use
    to control project devices. Based on the original Dynagen console that was written
    for Dynamips, the management console has been adapted and updated for GNS3\. I
    won’t cover every aspect of the console here, but I will show you some more useful
    things you can do with it.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 管理控制台提供了一个命令行界面，您可以用它来控制项目设备。该管理控制台基于最初为 Dynamips 编写的 Dynagen 控制台，已经进行了适配和更新。我不会在这里介绍控制台的每个方面，但我会展示一些您可以用它做的更有用的操作。
- en: By default, the management console should be visible when you launch GNS3\.
    If not, select **View** ▸ **Docks** ▸ **Console** to display the console window.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，启动 GNS3 时管理控制台应该是可见的。如果没有，选择 **视图** ▸ **停靠** ▸ **控制台** 来显示控制台窗口。
- en: 'From the management prompt (`=>`), enter `help` or a question mark (`?`) to
    see a list of commands. As you can see from the following listing, you can perform
    familiar tasks from the CLI, such as starting and stopping devices:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 从管理提示符（`=>`）输入 `help` 或问号（`?`）以查看命令列表。如以下列出所示，您可以通过 CLI 执行熟悉的任务，例如启动和停止设备：
- en: '[PRE14]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To display the details and syntax of a specific command, enter `help` followed
    by a command name, as shown here:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 要显示特定命令的详细信息和语法，请输入 `help` 后跟命令名称，如下所示：
- en: '[PRE15]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The `show` command offers a lot of different options to display information
    about your hypervisors, devices, and configurations. For example, the `show run`
    command displays the entire contents of your project configuration file.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '`show` 命令提供了许多不同的选项，用于显示关于虚拟机监控程序、设备和配置的信息。例如，`show run` 命令显示项目配置文件的全部内容。'
- en: Two commands that are useful for testing networks are `suspend` and `start`.
    Together they can be used to simulate a router failure and recovery. Another helpful
    command is the `debug` command. It can provide useful information when a project
    isn’t running properly.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 两个对于测试网络非常有用的命令是 `suspend` 和 `start`。这两个命令可以一起用于模拟路由器故障和恢复。另一个有用的命令是 `debug`
    命令。当项目运行不正常时，它可以提供有用的信息。
- en: Creating Projects Using Multiple PCs
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用多台 PC 创建项目
- en: You can run devices using multiple PCs, allowing you to distribute the resource
    load across multiple computers. Sharing resources lets you use one PC to design
    your projects while running the devices themselves on one or more other PCs. This
    means you can create and manage your GNS3 project using a low-end workstation
    (such as an old laptop) while actually running the devices on a high-end server.
    If you use multiple servers, you could build a GNS3 uberlab!
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用多台 PC 运行设备，从而将资源负载分布到多台计算机上。共享资源使您可以使用一台 PC 设计项目，同时将设备本身运行在一台或多台其他 PC 上。这意味着您可以使用低端工作站（例如旧笔记本）创建和管理您的
    GNS3 项目，而实际运行设备则在高端服务器上。如果您使用多台服务器，您可以构建一个 GNS3 超级实验室！
- en: In this section, I’ll show you how to share resources in a basic client/server
    setup and cover strategies for creating an uberlab. Disable the firewalls on all
    PCs before you begin configuring client/server (or multiserver) load sharing,
    and let’s get started.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将向您展示如何在基本的客户端/服务器设置中共享资源，并介绍创建超级实验室的策略。在开始配置客户端/服务器（或多服务器）负载共享之前，请禁用所有
    PC 上的防火墙，让我们开始吧。
- en: A Dynamips Client/Server Setup
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个 Dynamips 客户端/服务器设置
- en: In this scenario, you operate GNS3 on one computer, while another GNS3 server
    runs on another PC. If you’re running GNS3 on OS X or Windows, this may sound
    familiar because that’s how the IOU virtual machine works. The IOU virtual machine
    runs on a virtual computer rather than on a separate PC, but otherwise, the concept
    is the same.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种场景下，您在一台计算机上操作 GNS3，而另一台计算机上运行 GNS3 服务器。如果您在 OS X 或 Windows 上运行 GNS3，这可能听起来很熟悉，因为这就是
    IOU 虚拟机的工作方式。IOU 虚拟机运行在虚拟计算机上，而不是单独的 PC 上，但概念是相同的。
- en: Preparing Your Workstations
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 准备您的工作站
- en: In this example, I will use Windows for the client PC and Ubuntu Linux for the
    server PC. Begin by installing GNS3 on the two workstations. One workstation will
    be the client, where you configure and manage your projects, and the other is
    the server. The server will run only Dynamips routers, and it should have the
    better hardware because it will do most of the work. The more processing power
    and memory the server has, the better your devices will perform.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我将使用 Windows 作为客户端 PC，使用 Ubuntu Linux 作为服务器 PC。首先，在两台工作站上安装 GNS3。一台工作站将作为客户端，配置和管理项目，另一台作为服务器。服务器仅运行
    Dynamips 路由器，它应该拥有更好的硬件，因为它将承担大部分工作。服务器的处理能力和内存越强大，设备的性能就会越好。
- en: Launch GNS3 on each computer and configure an IOS image file. This lets you
    run both local and remote Dynamips routers at the same time and network them together
    using GNS3 from the client PC. When configuring GNS3 on the server PC, be sure
    to record the path and filename of your IOS image file. On my Ubuntu server, my
    image file path is */home/jneumann/GNS3/images/IOS/c3725-adventerprisek9-mz.124-15.T14.image*.
    You need this information to configure the remote Dynamips router on the client
    PC.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在每台计算机上启动GNS3并配置一个IOS镜像文件。这让你可以同时运行本地和远程的Dynamips路由器，并使用客户端PC通过GNS3将它们联网。在配置服务器PC上的GNS3时，务必记录下你的IOS镜像文件的路径和文件名。在我的Ubuntu服务器上，镜像文件路径是*/home/jneumann/GNS3/images/IOS/c3725-adventerprisek9-mz.124-15.T14.image*。你需要这些信息来配置客户端PC上的远程Dynamips路由器。
- en: Next, find the IP address of each of your GNS3 PCs. In this example, my client
    PC is configured with the IP address 172.16.231.202, and my server PC is configured
    with the IP address 172.16.231.205\. After configuring GNS3 and recording the
    IP and image path information, you should be ready to begin.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，找到每台GNS3 PC的IP地址。在这个例子中，我的客户端PC配置了IP地址172.16.231.202，我的服务器PC配置了IP地址172.16.231.205。配置好GNS3并记录下IP地址和镜像路径信息后，你就可以开始了。
- en: Running gns3server
  id: totrans-155
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 运行gns3server
- en: You must run the `gns3server` program from its install directory. Log on to
    the remote server PC and open a terminal window on Linux and OS X or a command
    prompt if you’re running Windows. On Windows, go to the *C:\Program Files\GNS3*
    directory, and on OS X go to the */Applications/GNS3.app/Contents/Resources/Server/Contents/MacOS*
    directory.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 你必须从`gns3server`程序的安装目录运行它。登录到远程服务器PC，并在Linux和OS X上打开终端窗口，或者在Windows上打开命令提示符。在Windows上，进入*C:\Program
    Files\GNS3*目录，在OS X上，进入*/Applications/GNS3.app/Contents/Resources/Server/Contents/MacOS*目录。
- en: When starting the server program, you have to specify the IP address of your
    server PC and the port number that the server will listen on; enter the command
    `gns3server --host` *`server-ip`* `--port` *`port-number`*. If you don’t know
    the IP address of your server PC, you can be lazy and use 0.0.0.0 and `gns3server`
    will listen on all configured interfaces. In the following example, I’ve started
    the `gns3server` program on Ubuntu Linux from the */usr/local/bin/* directory.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 启动服务器程序时，必须指定你的服务器PC的IP地址和服务器将监听的端口号；输入命令`gns3server --host` *`server-ip`* `--port`
    *`port-number`*。如果你不知道服务器PC的IP地址，可以懒一点，使用0.0.0.0，`gns3server`会监听所有配置的接口。在下面的示例中，我已经在Ubuntu
    Linux上从*/usr/local/bin/*目录启动了`gns3server`程序。
- en: '[PRE16]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: After starting the server, you should see similar output, and if all goes well,
    the server will start on 172.16.231.205:8000 ➊, shown on the last line of the
    output. This indicates the server program is listening on IP address 172.16.231.205
    using port number 8000.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 启动服务器后，你应该看到类似的输出，如果一切顺利，服务器将会在172.16.231.205:8000 ➊上启动，并显示在输出的最后一行。这表示服务器程序正在使用IP地址172.16.231.205和端口号8000进行监听。
- en: Note
  id: totrans-160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you want the GNS3 server to listen on some other port number, say 8001,
    you can enter `gns3server --host 172.16.231.205 --port 8001` instead. To see a
    complete list of server options, enter `gns3server -–help` from the command line.*'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你想让GNS3服务器监听其他端口号，比如8001，你可以输入`gns3server --host 172.16.231.205 --port 8001`。要查看服务器选项的完整列表，可以在命令行输入`gns3server
    -–help`。*'
- en: Configuring the Client
  id: totrans-162
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置客户端
- en: That’s all there is to configuring the server, so you can turn your attention
    to the GNS3 client, a Windows PC in this example. In GNS3, select **Edit** ▸ **Preferences**
    and select **GNS3 Server**, as shown in [Figure 10-11](ch10.html#setting_the_host_binding_to_the_ip_addre
    "Figure 10-11. Setting the host binding to the IP address of the Ethernet adapter").
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是配置服务器的全部内容，接下来你可以将注意力转向GNS3客户端，在这个例子中是Windows PC。在GNS3中，选择**编辑** ▸ **首选项**，然后选择**GNS3服务器**，如[图10-11](ch10.html#setting_the_host_binding_to_the_ip_addre
    "图10-11. 设置主机绑定为以太网适配器的IP地址")所示。
- en: '![Setting the host binding to the IP address of the Ethernet adapter](httpatomoreillycomsourcenostarchimages2209175.png.jpg)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![设置主机绑定为以太网适配器的IP地址](httpatomoreillycomsourcenostarchimages2209175.png.jpg)'
- en: Figure 10-11. Setting the host binding to the IP address of the Ethernet adapter
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图10-11. 设置主机绑定为以太网适配器的IP地址
- en: Click the **Host binding** drop-down menu and select the IP address of your
    Ethernet interface. On this PC, the address is 172.16.231.202\. Click **Apply**
    to complete the configuration.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**主机绑定**下拉菜单，并选择你的以太网接口的IP地址。在这台PC上，地址是172.16.231.202。点击**应用**以完成配置。
- en: Next, add the remote GNS3 server’s IP address to the remote server list on the
    client. Click the **Remote Servers** tab, as shown in [Figure 10-12](ch10.html#configuring_the_remote_server_ip_on_the
    "Figure 10-12. Configuring the remote server IP on the client host").
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，将远程 GNS3 服务器的 IP 地址添加到客户端的远程服务器列表中。点击 **远程服务器** 标签，如 [图 10-12](ch10.html#configuring_the_remote_server_ip_on_the
    "图 10-12. 配置客户端主机上的远程服务器 IP") 所示。
- en: '![Configuring the remote server IP on the client host](httpatomoreillycomsourcenostarchimages2209177.png.jpg)'
  id: totrans-168
  prefs: []
  type: TYPE_IMG
  zh: '![配置客户端主机上的远程服务器 IP](httpatomoreillycomsourcenostarchimages2209177.png.jpg)'
- en: Figure 10-12. Configuring the remote server IP on the client host
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-12. 配置客户端主机上的远程服务器 IP
- en: In the Host field, enter the IP address of the remote GNS3 server. In this example,
    that IP address is 172.16.231.205\. The default port number should be 8000, but
    you can change it if you’ve chosen some other port number on the remote PC. After
    adding the remote server, click **Apply** to save the settings.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在“Host”字段中，输入远程 GNS3 服务器的 IP 地址。在这个例子中，IP 地址是 172.16.231.205。默认的端口号应为 8000，但如果你在远程
    PC 上选择了其他端口号，可以进行更改。添加远程服务器后，点击 **应用** 保存设置。
- en: Next, select **Dynamips** from the side menu and click the **General settings**
    tab, as shown in [Figure 10-13](ch10.html#dynamips_server_settings "Figure 10-13. Dynamips
    server settings").
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，从侧边菜单中选择 **Dynamips**，并点击 **常规设置** 标签，如 [图 10-13](ch10.html#dynamips_server_settings
    "图 10-13. Dynamips 服务器设置") 所示。
- en: Uncheck the **Use the local server** setting and click **Apply**. This ensures
    that you have the option to select a remote server when you configure a Dynamips
    router. Next, click **IOS routers**, as shown in [Figure 10-14](ch10.html#configuring_a_remote_dynamips_router
    "Figure 10-14. Configuring a remote Dynamips router").
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 取消勾选 **使用本地服务器** 设置，然后点击 **应用**。这确保你在配置 Dynamips 路由器时可以选择远程服务器。接下来，点击 **IOS
    路由器**，如 [图 10-14](ch10.html#configuring_a_remote_dynamips_router "图 10-14. 配置远程
    Dynamips 路由器") 所示。
- en: '![Dynamips server settings](httpatomoreillycomsourcenostarchimages2209179.png.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![Dynamips 服务器设置](httpatomoreillycomsourcenostarchimages2209179.png.jpg)'
- en: Figure 10-13. Dynamips server settings
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-13. Dynamips 服务器设置
- en: '![Configuring a remote Dynamips router](httpatomoreillycomsourcenostarchimages2209181.png.jpg)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![配置远程 Dynamips 路由器](httpatomoreillycomsourcenostarchimages2209181.png.jpg)'
- en: Figure 10-14. Configuring a remote Dynamips router
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-14. 配置远程 Dynamips 路由器
- en: Click **New** to add a remote IOS router to your client PC, as shown in [Figure 10-15](ch10.html#selecting_the_remote_server_type
    "Figure 10-15. Selecting the Remote server type").
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 点击 **新建** 将远程 IOS 路由器添加到客户端 PC，如 [图 10-15](ch10.html#selecting_the_remote_server_type
    "图 10-15. 选择远程服务器类型") 所示。
- en: '![Selecting the Remote server type](httpatomoreillycomsourcenostarchimages2209183.png.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![选择远程服务器类型](httpatomoreillycomsourcenostarchimages2209183.png.jpg)'
- en: Figure 10-15. Selecting the Remote server type
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-15. 选择远程服务器类型
- en: Under Server type, select **Remote** and uncheck **Load balance across all available
    remote servers**. Click the **Run on Server** drop-down menu, select your remote
    server’s IP address from the list, and click **Next** to continue. Enter the path
    and IOS image name that you recorded from the remote server, as shown in [Figure 10-16](ch10.html#entering_the_remote_ios_image_path
    "Figure 10-16. Entering the remote IOS image path").
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在“服务器类型”下，选择 **远程**，并取消勾选 **在所有可用的远程服务器之间负载均衡**。点击 **在服务器上运行** 下拉菜单，从列表中选择远程服务器的
    IP 地址，然后点击 **下一步** 继续。输入你从远程服务器记录的路径和 IOS 镜像名称，如 [图 10-16](ch10.html#entering_the_remote_ios_image_path
    "图 10-16. 输入远程 IOS 镜像路径") 所示。
- en: '![Entering the remote IOS image path](httpatomoreillycomsourcenostarchimages2209185.png.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![输入远程 IOS 镜像路径](httpatomoreillycomsourcenostarchimages2209185.png.jpg)'
- en: Figure 10-16. Entering the remote IOS image path
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-16. 输入远程 IOS 镜像路径
- en: After entering the path and filename, click **Next** to continue. Enter a name
    in the Name field for your router, as shown in [Figure 10-17](ch10.html#naming_your_router
    "Figure 10-17. Naming your router").
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 输入路径和文件名后，点击 **下一步** 继续。在“名称”字段中输入路由器名称，如 [图 10-17](ch10.html#naming_your_router
    "图 10-17. 命名你的路由器") 所示。
- en: '![Naming your router](httpatomoreillycomsourcenostarchimages2209187.png.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![命名你的路由器](httpatomoreillycomsourcenostarchimages2209187.png.jpg)'
- en: Figure 10-17. Naming your router
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-17. 命名你的路由器
- en: I’ve named my router *c3725_on_Ubuntu* so that I can easily identify the router
    in the Devices toolbar, and I know from the name that it’s configured to run on
    a remote server.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 我已将我的路由器命名为 *c3725_on_Ubuntu*，这样可以在设备工具栏中轻松识别路由器，并且从名称上可以知道它配置为运行在远程服务器上。
- en: At this point, you can click through the remaining options as if you’re configuring
    a local Dynamips router. Be sure to enter an Idle-PC value when asked, or calculate
    one if you haven’t already done so. Remember, Idle-PC values are calculated on
    a per-image basis, so the same value can be used on any PC that’s using the same
    IOS image file.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您可以像配置本地 Dynamips 路由器一样点击其余选项。记得在提示时输入 Idle-PC 值，如果还没有计算，可以自行计算。请记住，Idle-PC
    值是按每个镜像计算的，因此在使用相同 IOS 镜像文件的任何 PC 上都可以使用相同的值。
- en: When you’re finished adding the router, it should be displayed in the Routers
    section of the Devices toolbar, as shown in [Figure 10-18](ch10.html#routers_section_of_the_devices_toolbar
    "Figure 10-18. Routers section of the Devices toolbar").
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 当您完成添加路由器时，它应显示在设备工具栏中的路由器部分，如[图 10-18](ch10.html#routers_section_of_the_devices_toolbar
    "图 10-18. 设备工具栏中的路由器部分")所示。
- en: This example has two c3725 routers; one is a local router installed on the Windows
    PC, and the other is installed on the remote Ubuntu server. When you create a
    project, you can use both routers in the same project, reducing the CPU and memory
    consumption on the client PC by half.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 这个示例中有两台 c3725 路由器，一台是安装在 Windows PC 上的本地路由器，另一台是安装在远程 Ubuntu 服务器上的路由器。当您创建一个项目时，您可以在同一个项目中使用这两台路由器，从而减少客户端
    PC 上的 CPU 和内存消耗。
- en: '![Routers section of the Devices toolbar](httpatomoreillycomsourcenostarchimages2209189.png.jpg)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![设备工具栏中的路由器部分](httpatomoreillycomsourcenostarchimages2209189.png.jpg)'
- en: Figure 10-18. Routers section of the Devices toolbar
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-18. 设备工具栏中的路由器部分
- en: Now that you know how to set up GNS3 using multiple PCs, you can leverage the
    ability to create large GNS3 projects.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经知道如何使用多台 PC 设置 GNS3，可以利用这一能力创建大型的 GNS3 项目。
- en: Running QEMU on a Remote Server
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在远程服务器上运行 QEMU
- en: In addition to running IOU and IOS routers on a remote server, you can also
    run QEMU on a remote server. Just be sure to install QEMU on the server PC before
    you begin. The process of setting up a remote QEMU device on the client PC is
    almost the same as any other remote device. However, during the New QEMU VM wizard,
    you will need to select the QEMU binary file for the virtual machine, shown in
    [Figure 10-19](ch10.html#configuring_the_qemu_binary "Figure 10-19. Configuring
    the QEMU binary").
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 除了在远程服务器上运行 IOU 和 IOS 路由器外，您还可以在远程服务器上运行 QEMU。只需确保在开始之前已经在服务器 PC 上安装了 QEMU。设置远程
    QEMU 设备的过程几乎与其他远程设备相同。然而，在新建 QEMU 虚拟机向导中，您需要选择虚拟机的 QEMU 二进制文件，如[图 10-19](ch10.html#configuring_the_qemu_binary
    "图 10-19. 配置 QEMU 二进制文件")所示。
- en: '![Configuring the QEMU binary](httpatomoreillycomsourcenostarchimages2209191.png.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![配置 QEMU 二进制文件](httpatomoreillycomsourcenostarchimages2209191.png.jpg)'
- en: Figure 10-19. Configuring the QEMU binary
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图 10-19. 配置 QEMU 二进制文件
- en: GNS3 should query the remote server for a list of installed QEMU binary files,
    and the virtual machine that you create should run on the remote server using
    the binary file that you select. Use the drop-down menu to select a binary file
    for your virtual machine, usually *qemu-system-i386* or *qemu-system-x86_64*.
    Adjust the RAM size and click **Next** . Configure the remaining options as if
    the virtual machine were a local device.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 应该查询远程服务器以获取已安装的 QEMU 二进制文件列表，您创建的虚拟机应使用您选择的二进制文件在远程服务器上运行。使用下拉菜单选择虚拟机的二进制文件，通常是
    *qemu-system-i386* 或 *qemu-system-x86_64*。调整 RAM 大小并点击 **下一步**。像配置本地设备一样配置剩余选项。
- en: Creating a GNS3 Uberlab
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 GNS3 超大实验室
- en: GNS3 is all about scalability, and you can use it to create really large projects
    with dozens of switches and routers. One of the best ways to create an uberlab
    is to use multiple GNS3 servers. But what if you have one really fast computer
    and a few others that don’t perform as well? In that case, you may want to run
    more devices on one machine than the other. For example, you might run most of
    your routers on the high-end server and run fewer devices on the less powerful
    machines.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 强调可扩展性，您可以使用它创建非常大的项目，包含数十个交换机和路由器。创建超大实验室（uberlab）的最佳方法之一是使用多个 GNS3 服务器。但是，如果您有一台非常快速的计算机和几台性能较差的计算机怎么办呢？在这种情况下，您可能希望在一台计算机上运行更多的设备，而在其他计算机上运行较少的设备。例如，您可以在高端服务器上运行大多数路由器，在性能较低的机器上运行较少的设备。
- en: An uberlab doesn’t need to be confined to computers running on your local area
    network. If you’re using GNS3 on a corporate network with multiple sites connected
    by a VPN, you can use the client/server model to run a variety of hypervisors
    from across town or even across the country! All you have to do is start the `gns3server`
    application on a remote computer (over the VPN) and configure your local client
    using the IP address of the remote PC. The only difference between this and a
    regular client/server setup is that packets will be sent through the VPN to the
    remote server.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 超级实验室不必仅限于本地局域网中的计算机。如果你在一个通过 VPN 连接的多个站点的公司网络中使用 GNS3，你可以使用客户端/服务器模型，从市区甚至全国各地运行各种虚拟化管理程序！你需要做的就是在远程计算机上启动
    `gns3server` 应用程序（通过 VPN），并使用远程 PC 的 IP 地址配置本地客户端。这和常规的客户端/服务器设置的唯一不同是，数据包将通过
    VPN 发送到远程服务器。
- en: Nerdy Labs for Fun and Profit
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 趣味与盈利的极客实验室
- en: You’ve explored the tools you need to configure all sorts of projects in GNS3,
    but what should you do with this newfound knowledge? You could study for certifications
    or just have some fun! In this section, I discuss both. Many of these projects
    are intended for advanced users, but feel free to modify them to create projects
    and challenges that are better suited for your skill level.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经探索了在 GNS3 中配置各种项目所需的工具，但你应该如何利用这份新获得的知识呢？你可以为认证做准备，或者只是玩得开心！在本节中，我会讨论这两者。许多这些项目面向的是高级用户，但你可以随意修改它们，创建更适合你技能水平的项目和挑战。
- en: Preparing for Cisco Exams
  id: totrans-203
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备 Cisco 考试
- en: GNS3 is an amazing tool for education and certification, and it has everything
    you need to get Juniper or Cisco certified, starting at the entry-level JNCIA
    or CCNA all the way up to the crown jewel of Cisco certifications, the CCIE.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 是一个惊人的教育和认证工具，它拥有一切你需要的资源来获得 Juniper 或 Cisco 的认证，从入门级的 JNCIA 或 CCNA 一直到
    Cisco 认证的皇冠上的明珠，CCIE。
- en: For entry-level exams such as CCNA or CCNP, start by searching online to find
    all sorts of network examples. You may even want to use the CBT Nuggets or Bryant
    Advantage videos with GNS3\. Their videos are a good way to get started, and GNS3
    is a great tool for experimenting with the concepts they introduce. If you’re
    studying for CCIE, you may want to use something like the INE workbooks (*[http://www.ine.com/](http://www.ine.com/)*).
    They’ve proven themselves as leaders in CCIE lab preparation.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 CCNA 或 CCNP 等入门级考试，可以通过在线搜索找到各种网络示例。你甚至可以使用 CBT Nuggets 或 Bryant Advantage
    的视频与 GNS3 配合使用。它们的视频是一个很好的起点，GNS3 是一个很棒的工具，用来实验他们介绍的概念。如果你在为 CCIE 考试做准备，你可能想使用像
    INE 工作簿这样的资料（*[http://www.ine.com/](http://www.ine.com/)*）。他们已经证明自己是 CCIE 实验室准备领域的领导者。
- en: Securing Your Networks
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 保护你的网络
- en: These days, just about everyone stores confidential information on some sort
    of network server, so having a secure network infrastructure isn’t just a good
    idea, it’s a way of preventing substantial financial losses, unwanted lawsuits,
    and entanglements with your firm’s errors and omissions (E&O) insurance carrier.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，几乎每个人都将机密信息存储在某种网络服务器上，因此，拥有一个安全的网络基础设施不仅是一个好主意，它还是防止重大财务损失、避免不必要的诉讼以及避免与你公司错误和疏漏（E&O）保险承保方发生纠纷的一种方法。
- en: In this section, I outline a few security-related challenges that can be fun
    and educational, and prevent data theft or loss.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我概述了一些安全相关的挑战，这些挑战既有趣又具有教育意义，并且可以防止数据盗窃或丢失。
- en: The “Hack My Rack” Challenge
  id: totrans-209
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: “破解我的机架”挑战
- en: Host a security competition with your friends! Each challenger creates a GNS3
    project on their PC and applies as much security as they can to their devices.
    The challenge is for each user to crack the other users’ security. After each
    user creates their own network on their PC, they’re allowed to install one VirtualBox
    virtual machine on their friend’s PC with any systemcracking tools they want to
    use. When the challengers are done creating their networks, they swap computers
    and start the clock. Now the Battle Royale begins! Use your VirtualBox virtual
    machine to crack into another challenger’s GNS3 network.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 和朋友们一起举办一个安全竞赛吧！每个挑战者在他们的 PC 上创建一个 GNS3 项目，并尽可能为他们的设备应用安全措施。挑战是让每个用户攻破其他用户的安全防护。在每个用户创建好自己网络后，他们可以在朋友的
    PC 上安装一个 VirtualBox 虚拟机，并使用他们想要的任何系统破解工具。当挑战者们完成自己网络的创建后，他们交换电脑并开始计时。现在，皇家大战开始了！使用你的
    VirtualBox 虚拟机来攻破另一个挑战者的 GNS3 网络。
- en: Creating Cisco VPNs
  id: totrans-211
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建 Cisco VPN
- en: Create a Cisco site-to-site VPN or multisite VPN using Cisco routers and ASA
    devices. Try your hand at configuring a multihomed Cisco router with VPN failover.
    In this scenario, your WAN edge routers might have two or more interfaces configured
    with BGP to simulate WAN links to an Internet service provider. Someday you may
    want one of your own, or a client might need one. Learning how to do it in GNS3
    is better than figuring it out on your client’s time!
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Cisco路由器和ASA设备创建一个站点到站点的VPN或多站点VPN。尝试配置一个具有VPN故障转移的多宿Cisco路由器。在这种情况下，你的WAN边缘路由器可能有两个或更多接口，使用BGP模拟与互联网服务提供商的WAN链路。总有一天你可能需要一个自己的，或者客户可能需要一个。学会在GNS3中做这件事，比在客户的时间里摸索要好得多！
- en: Practicing Real-World Scenarios
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 实践真实世界场景
- en: The following project ideas are designed to get you thinking about life outside
    of the GNS3 sandbox. As a network administrator or engineer, you’ll need to understand
    the interworkings of multihomed networks, switch block design, and multiserver
    integration, just to name a few. Designing, running, and troubleshooting these
    types of networks in GNS3 is great preparation for the real world.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 以下项目思路旨在让你开始考虑GNS3沙盒外的实际情况。作为一名网络管理员或工程师，你需要理解多宿网络、交换机块设计和多服务器集成等方面的工作原理，仅举几例。在GNS3中设计、运行和排除这些类型的网络故障是为现实世界做好准备的好方法。
- en: Cisco Switch Block Design
  id: totrans-215
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cisco交换机块设计
- en: Understanding switching is an important part of managing networks. Although
    the GNS3 EtherSwitch router and IOU have restricted functionality, they’re useful
    for configuring and testing redundant switch blocks with protocols such as HSRP,
    VRRP, and GLBP. Try your hand at creating a fully redundant Cisco campus model
    switch block with Internet access.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 理解交换机是管理网络的重要部分。虽然GNS3的EtherSwitch路由器和IOU具有有限的功能，但它们在配置和测试使用HSRP、VRRP和GLBP等协议的冗余交换机块时非常有用。试着创建一个完全冗余的Cisco校园模型交换机块，并提供互联网访问。
- en: Multihomed Networks
  id: totrans-217
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多宿网络
- en: Although many small businesses connect to the Internet using a single static
    IP address, larger companies need more static IPs and BGP links to maintain their
    presence on the Internet. Using a few GNS3 routers and BGP, you can simulate a
    multihomed network connected to multiple Internet service providers. Add additional
    routers to your bogus ISP to simulate sites such as *[http://www.google.com/](http://www.google.com/)*
    or *[http://www.gns3.com/](http://www.gns3.com/)*. Then ping the bogus sites from
    your multihomed network.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然许多小企业通过单个静态IP地址连接到互联网，但更大的公司需要更多的静态IP和BGP链接来维持其在互联网中的存在。使用几个GNS3路由器和BGP，你可以模拟一个连接到多个互联网服务提供商的多宿网络。向你的虚拟ISP添加额外的路由器，模拟类似*
    [http://www.google.com/](http://www.google.com/) *或* [http://www.gns3.com/](http://www.gns3.com/)
    *这样的站点。然后从你的多宿网络ping这些虚拟站点。
- en: Multiple Vendor Integration
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 多厂商集成
- en: Create a project using Cisco, Juniper, Arista, Linux, or any other routable
    device you can think of. Configure the devices using open standards such as RIP,
    OSPF, BGP, or other open standards that are supported by all the vendors or use
    route redistribution to translate routes from one vendor device to another. The
    idea is to learn as much as you can about multi-vendor integration.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Cisco、Juniper、Arista、Linux或任何其他你能想到的可路由设备创建一个项目。使用RIP、OSPF、BGP等开放标准配置这些设备，或者使用路由重分发将来自一个厂商设备的路由翻译到另一个厂商设备上。目的是尽可能多地了解多厂商集成。
- en: Use Everything, Including the “Kitchen Sink”
  id: totrans-221
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用所有设备，包括“厨房水槽”
- en: 'This project involves *everything*! It’s simple: build the biggest, most badass
    project you can imagine. Use as many remote PCs as you can and run everything
    GNS3 has to offer: Cisco routers, switches, ASAs, IDSs/IPSs, Juniper, Firefly,
    Vyatta, Arista, and anything else you can think of. Apply every routing and switching
    protocol, and test end-to-end connectivity using `ping` or `traceroute`. Be sure
    to set up at least one ATM switch, a Frame Relay cloud, and a VPN or two.'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目涉及*所有内容*！很简单：构建你能想象的最大、最强大的项目。尽可能多地使用远程PC，并运行GNS3提供的所有内容：Cisco路由器、交换机、ASA、防火墙、IDS/IPS、Juniper、Firefly、Vyatta、Arista，任何你能想到的设备。应用每种路由和交换协议，并使用`ping`或`traceroute`测试端到端的连通性。确保至少设置一个ATM交换机，一个帧中继云和一两个VPN。
- en: How Many Routers Does It Take to Blow Out a Lightbulb?
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 需要多少个路由器才能炸掉一个灯泡？
- en: Here’s a fun way to earn bragging rights. Challenge a friend to see whose PC
    can run the most routers in GNS3\. With the right Idle-PC value, you may find
    that you can run more than 100 before Dynamips crashes or GNS3 starts to slow
    down too much to use. One trick is to run GNS3 on Linux because Dynamips seems
    to scale better on Linux than it does on Windows or OS X.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个有趣的方式可以赢得炫耀的权利。挑战朋友，看谁的 PC 在 GNS3 中能运行更多的路由器。通过正确的 Idle-PC 值，你可能会发现你可以在
    Dynamips 崩溃或 GNS3 开始变得太慢以至于无法使用之前，运行超过 100 个路由器。一个技巧是将 GNS3 运行在 Linux 上，因为 Dynamips
    在 Linux 上的扩展性似乎比在 Windows 或 OS X 上更好。
- en: Routers Gone Rogue
  id: totrans-225
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 路由器失控
- en: This “fly in the ointment” challenge is another way to have fun with a friend.
    Each challenger builds a complex network using as many routers as they want. The
    more the better! The networks are then configured and thoroughly tested. Once
    both challengers are happy that their networks are running properly, they swap
    computers and break each other’s networks by changing a few configuration settings
    (dropping a fly in the ointment).
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 这个“画蛇添足”的挑战是和朋友一起玩的一种方式。每个挑战者都可以使用尽可能多的路由器来构建一个复杂的网络，越多越好！然后配置这些网络并彻底测试。等到两个挑战者都确信他们的网络运行正常后，他们交换计算机，通过更改几个配置设置来破坏对方的网络（就像往药膏里放只苍蝇一样）。
- en: A break could be as simple as shutting down an interface or as complex as filtering
    BGP routes. It all depends on the skills of the individuals and the complexity
    of their networks. Once the networks are broken, the competitors swap computers
    again, and each tries to be the first to analyze and repair their original network.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 一次“休息”可能是简单地关闭一个接口，或者复杂到过滤 BGP 路由。这完全取决于个人的技能和他们网络的复杂性。一旦网络被破坏，竞争者们再次交换计算机，每个人都尽力首先分析并修复他们原本的网络。
- en: Final Thoughts
  id: totrans-228
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 最后思考
- en: A virtual Cisco access server takes some work to set up, but once configured,
    it’s an easy way to manage your devices. If you have a small project that uses
    only a few routers, then it may not be necessary. But if you have to manage a
    few dozen devices, it quickly becomes an invaluable tool.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟的 Cisco 接入服务器需要一些配置工作，但一旦设置完成，它是管理设备的简便方式。如果你有一个只用几个路由器的小项目，可能不需要它。但如果你需要管理几十台设备，它很快就会成为一个不可或缺的工具。
- en: GNS3 runs on multiple PC operating systems, but you’re not stuck with the one
    you’re currently using. Moving projects between systems is fairly straightforward,
    so don’t be afraid to try something new. GNS3 was designed using Linux and ported
    to Windows and OS X, so it runs great on Linux and generally uses fewer resources
    than it does running on Windows.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 可以在多个 PC 操作系统上运行，但你并不局限于你当前使用的那个系统。项目在不同系统之间移动相对简单，所以不要害怕尝试新东西。GNS3 是在
    Linux 上设计的，并且移植到 Windows 和 OS X，所以它在 Linux 上运行得很好，通常比在 Windows 上运行时占用更少的资源。
- en: If you don’t have the newest PC hardware, you can load-balance hyper-visors
    across multiple PCs and create large projects that run better than they will on
    a single PC. This is also a great way to repurpose those old PCs you have lying
    around your home or office.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有最新的 PC 硬件，你可以将虚拟化管理程序跨多个 PC 进行负载均衡，创建比单台 PC 更流畅的大型项目。这也是重新利用家里或办公室里闲置旧
    PC 的好方法。
- en: But the most important thing to remember about GNS3 is that it’s fun to use
    because you get to create networks that otherwise may be out of your reach. So
    be creative, and have fun!
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 但关于 GNS3 最重要的一点是，它好玩，因为你可以创建那些原本可能无法实现的网络。所以发挥创造力，享受乐趣吧！
