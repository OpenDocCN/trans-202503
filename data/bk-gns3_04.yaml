- en: Chapter 4. Creating and Managing Projects
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第4章：创建和管理项目
- en: Now that you can configure and start a single IOS router, roll up your sleeves
    and I’ll show you how to create a project by networking two or more routers together.
    Compared to working with real lab equipment, creating virtual networks and managing
    devices in GNS3 is a breeze. The user interface acts like a master control room,
    allowing you to manipulate your network designs and devices with just a few clicks.
    This chapter will show you how to use GNS3 to centrally manage your network, including
    the virtual hardware.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经能够配置并启动一个单一的IOS路由器，接下来卷起袖子，我将向你展示如何通过将两个或更多路由器连接在一起来创建一个项目。与使用真实实验室设备相比，在GNS3中创建虚拟网络并管理设备轻而易举。用户界面就像是一个主控室，让你只需几次点击便能操控网络设计和设备。本章将向你展示如何使用GNS3集中管理你的网络，包括虚拟硬件。
- en: Project Management Overview
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 项目管理概述
- en: A strong feature of GNS3 is project management. You can create an unlimited
    number of network designs to save and use whenever you need them. That means you’ll
    never have to waste time tearing apart an existing project to create a new one,
    which often happens when you use physical equipment.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3的一个强大功能是项目管理。你可以创建无限数量的网络设计，随时保存并使用它们。这意味着你再也不必浪费时间拆解现有的项目来创建一个新项目，而这在使用物理设备时经常发生。
- en: Not only can you save multiple projects, but you can save multiple snapshots
    of an entire project configuration. A *snapshot* preserves your project’s network
    layout and the state of all your router configurations at a particular moment
    in time. You can restore a snapshot whenever you’d like to roll your entire project
    back to the state it was in when the snapshot was taken.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你不仅可以保存多个项目，还可以保存整个项目配置的多个快照。一个*快照*会保留项目的网络布局和所有路由器配置在某一时刻的状态。你可以在任何时候恢复一个快照，将整个项目恢复到快照保存时的状态。
- en: Note
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Snapshots are useful for practicing CCNA or CCNP configuration drills. You
    can create a lab, apply the basic router configurations required for a drill (such
    as network addresses, routing protocols, and so on), and then take a snapshot.
    Once you have a snapshot of the basic setup, you can practice applying the scenario’s
    objectives to the network. If you want to practice the same tasks again later,
    you can revert to the basic snapshot, and your routers should be ready without
    additional configuration.*'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '*快照对于练习CCNA或CCNP配置训练非常有用。你可以创建一个实验室，应用基本的路由器配置要求（如网络地址、路由协议等），然后拍摄一个快照。一旦你有了基本设置的快照，你就可以练习将场景目标应用到网络中。如果你想稍后再次练习相同的任务，你可以恢复到基本快照，路由器应该无需额外配置即可使用。*'
- en: GNS3 also gives you the ability to manage your virtual hardware. Just like with
    real routers, you can use Cisco expansion modules to upgrade your virtual routers.
    You can add a wide range of functionality, such as additional random access memory
    (RAM), Ethernet interfaces, serial ports, Asynchronous Transfer Mode (ATM), and
    Packet over SONET (POS) ports.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3还允许你管理虚拟硬件。就像使用真实的路由器一样，你可以使用思科扩展模块来升级你的虚拟路由器。你可以添加各种功能，比如额外的随机存取存储器（RAM）、以太网接口、串口、异步传输模式（ATM）和光纤传输网络（SONET）的包（POS）端口。
- en: Terminology
  id: totrans-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 术语
- en: Before beginning, let’s explore some important terminology. You need to know
    the difference between a topology and a project. A *topology* file is a text file
    that ends in *.gns3* and primarily refers to devices and the links between them.
    A *project* is a user-defined project folder (*MyLab*, for example) stored inside
    the *GNS3/projects* folder. A user project folder contains a topology file named
    *<project_name>.gns3*, router configurations, the contents of nonvolatile random
    access memory (NVRAM), and other saved information. In other words, it represents
    an entire network, including the topology and all device configurations.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，让我们先了解一些重要的术语。你需要知道拓扑（topology）和项目（project）之间的区别。一个*拓扑*文件是一个以*.gns3*结尾的文本文件，主要用于描述设备及其之间的连接。一个*项目*是一个用户定义的项目文件夹（例如*MyLab*），存储在*GNS3/projects*文件夹内。一个用户项目文件夹包含一个名为*<project_name>.gns3*的拓扑文件、路由器配置、非易失性随机存取存储器（NVRAM）的内容以及其他保存的信息。换句话说，它代表了整个网络，包括拓扑结构和所有设备的配置。
- en: Another term you should be familiar with is *node*. In computer networking,
    a node is any device connected to your network. In GNS3, a node is any device
    found on the Devices toolbar.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个你应该了解的术语是*节点*。在计算机网络中，节点是指任何连接到网络的设备。在GNS3中，节点是指在设备工具栏中找到的任何设备。
- en: To be effective at managing devices and projects, you’ll need more than just
    vocabulary; you’ll also need to be familiar with GNS3’s screen layout.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 要有效管理设备和项目，您需要的不仅仅是词汇；您还需要熟悉 GNS3 的屏幕布局。
- en: Screen Layout
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 屏幕布局
- en: Let’s take a look at the standard GNS3 layout (shown in [Figure 4-1](ch04.html#screen_layout_showing_two_routers_and_a
    "Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace"))
    and define a few concepts used by the program.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看标准的 GNS3 布局（如[图 4-1](ch04.html#screen_layout_showing_two_routers_and_a
    "图 4-1. 显示两个路由器和一个交换机的 GNS3 工作区屏幕布局")所示），并定义该程序使用的一些概念。
- en: '![Screen layout showing two routers and a switch in the GNS3 workspace](httpatomoreillycomsourcenostarchimages2208911.png.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![显示两个路由器和一个交换机的 GNS3 工作区屏幕布局](httpatomoreillycomsourcenostarchimages2208911.png.jpg)'
- en: Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-1. 显示两个路由器和一个交换机的 GNS3 工作区屏幕布局
- en: '****➊ GNS3 toolbar**** A series of icons to easily perform common tasks.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****➊ GNS3 工具栏**** 一系列图标，便于执行常见任务。'
- en: '****➋ Devices toolbar**** Used to add routers, switches, end devices, and security
    devices, as well as to create links between devices. To create topologies, select
    a device type from the toolbar and drag devices from the device window to your
    workspace. There are two types of devices: simulated and emulated. A *simulated*
    device mimics all the characteristics of an actual device (like an Ethernet switch
    node) and does not run an operating system. An *emulated* device emulates the
    hardware of an actual device and requires an operating system to function (like
    virtual Dynamips routers running Cisco IOS).'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****➋ 设备工具栏**** 用于添加路由器、交换机、终端设备和安全设备，并在设备之间创建链接。要创建拓扑，选择工具栏中的设备类型并将设备从设备窗口拖到工作区。有两种类型的设备：模拟设备和仿真设备。*模拟*设备模拟实际设备的所有特性（如以太网交换机节点），并且不运行操作系统。*仿真*设备仿真实际设备的硬件，并需要操作系统才能运行（如运行
    Cisco IOS 的虚拟 Dynamips 路由器）。'
- en: '****➌ Console**** A command line interface where you can manage aspects of
    your devices.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****➌ 控制台**** 一个命令行界面，您可以在其中管理设备的各个方面。'
- en: '****➍ Topology Summary**** Displays the state of devices in your project. A
    green circle by a device indicates that it has started, a red circle indicates
    that a device is stopped, and a yellow circle indicates that a device is suspended.
    Simulated devices (like the Ethernet switch node) are always green. To see the
    links in use on a given device, click the triangle next to the device name.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****➍ 拓扑概述**** 显示项目中设备的状态。设备旁边的绿色圆圈表示设备已启动，红色圆圈表示设备已停止，黄色圆圈表示设备已暂停。模拟设备（如以太网交换机节点）始终为绿色。要查看给定设备上正在使用的链接，请点击设备名称旁边的三角形。'
- en: '****➎ Workspace**** The area in which you’ll design your network. Drag devices
    from the Devices toolbar to the workspace and link them together.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****➎ 工作区**** 设计网络的区域。将设备从设备工具栏拖到工作区并将它们连接在一起。'
- en: Now that you know what the main GNS3 screen looks like, let’s look more closely
    at the options you’ll find there.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您知道了 GNS3 主屏幕的样子，让我们更仔细地看看您将在那里找到的选项。
- en: Using the GNS3 Toolbar
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 GNS3 工具栏
- en: The GNS3 toolbar contains several groups of icons that are roughly organized
    by function and offer a simple way to get things done. The first group deals with
    projects, the second with links, the third with devices and snapshots, and the
    fourth with additional ways to visually organize your projects.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3 工具栏包含几个按功能大致组织的图标组，提供了一种简单的方法来完成任务。第一个组处理项目，第二个组处理链接，第三个组处理设备和快照，第四个组提供了额外的方式来视觉组织项目。
- en: First Toolbar Group
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第一个工具栏组
- en: The first group of toolbar icons, shown in [Figure 4-2](ch04.html#first_toolbar_group-id00005
    "Figure 4-2. First toolbar group"), deals with actions that affect entire projects.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 工具栏的第一个图标组，如[图 4-2](ch04.html#first_toolbar_group-id00005 "图 4-2. 第一个工具栏组")所示，处理影响整个项目的操作。
- en: '![First toolbar group](httpatomoreillycomsourcenostarchimages2208913.png.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![第一个工具栏组](httpatomoreillycomsourcenostarchimages2208913.png.jpg)'
- en: Figure 4-2. First toolbar group
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-2. 第一个工具栏组
- en: 'From left to right, these icons are as follows:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，这些图标如下：
- en: '****New blank project****. Creates a new project folder and allows you to choose
    what to name your project.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****新建空白项目****。创建一个新的项目文件夹，并允许您选择项目名称。'
- en: '****Open project****. Opens a previously saved project. To open a project,
    choose the project folder name and select the file named *<project_name>.gns3*.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****打开项目****。打开一个之前保存的项目。要打开项目，选择项目文件夹名称并选择名为 *<project_name>.gns3* 的文件。'
- en: '****Save project****. Saves a complete project to the GNS3 *projects* folder.
    By default, a PNG image file of your workspace is saved with your project.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****保存项目****。将完整项目保存到GNS3的*projects*文件夹中。默认情况下，工作区的PNG图像文件将与项目一起保存。'
- en: Second Toolbar Group
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第二组工具栏图标
- en: The buttons in the second group of toolbar icons, shown in [Figure 4-3](ch04.html#second_toolbar_group-id00006
    "Figure 4-3. Second toolbar group"), allow you to create project snapshots, show
    or hide interface labels, and connect to your devices using the virtual console
    port on your devices.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 第二组工具栏图标（如[图4-3](ch04.html#second_toolbar_group-id00006 "图4-3. 第二组工具栏图标")所示）中的按钮，允许你创建项目快照、显示或隐藏接口标签，并通过设备的虚拟控制台端口连接到设备。
- en: '![Second toolbar group](httpatomoreillycomsourcenostarchimages2208915.png.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![第二组工具栏图标](httpatomoreillycomsourcenostarchimages2208915.png.jpg)'
- en: Figure 4-3. Second toolbar group
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-3. 第二组工具栏图标
- en: 'From left to right, these icons are as follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，这些图标如下：
- en: '****Snapshot****. Creates a snapshot of your devices, links, and IOS configurations
    to record the state of your workspace at that time. You can save more than one
    snapshot and revert to a saved snapshot at any time. Options are Create, Delete,
    Restore, and Close.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****快照****。创建设备、链接和IOS配置的快照，以记录当时工作区的状态。你可以保存多个快照，并随时恢复到已保存的快照。选项包括创建、删除、恢复和关闭。'
- en: '****Show interface labels****. Shows or hides interface names used by a link.
    These labels are abbreviated and displayed with devices in your workspace (for
    example, f0/0 is displayed for FastEthernet0/0).'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****显示接口标签****。显示或隐藏链接使用的接口名称。这些标签是简写形式，并与工作区中的设备一起显示（例如，FastEthernet0/0的标签会显示为f0/0）。'
- en: '****Console connect to all devices****. Opens a console connection to all running
    routers in your workspace.'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****与所有设备建立控制台连接****。为工作区中所有运行的路由器打开控制台连接。'
- en: Note
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*When you open a console connection to all devices, your screen might become
    cluttered with open console windows unless your terminal supports tabbed sessions.
    When dealing with large topologies, you might find it easier to open and close
    single sessions as needed by right-clicking a device node and choosing Console.*'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '*当你与所有设备建立控制台连接时，如果终端不支持标签会话，你的屏幕可能会被打开的控制台窗口弄得很杂乱。在处理大型拓扑时，你可能会发现，通过右键单击设备节点并选择控制台来打开和关闭单一会话会更容易。*'
- en: Third Toolbar Group
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第三组工具栏图标
- en: The third group of toolbar icons, shown in [Figure 4-4](ch04.html#third_toolbar_group-id00007
    "Figure 4-4. Third toolbar group"), primarily deals with controlling devices.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 第三组工具栏图标，如[图4-4](ch04.html#third_toolbar_group-id00007 "图4-4. 第三组工具栏图标")所示，主要用于控制设备。
- en: '![Third toolbar group](httpatomoreillycomsourcenostarchimages2208917.png.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![第三组工具栏图标](httpatomoreillycomsourcenostarchimages2208917.png.jpg)'
- en: Figure 4-4. Third toolbar group
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-4. 第三组工具栏图标
- en: 'From left to right, these four icons are as follows:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，这四个图标如下：
- en: '****Start/Resume all devices****. Starts all stopped devices or resumes all
    suspended devices in your workspace.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****启动/恢复所有设备****。启动所有已停止的设备或恢复所有已暂停的设备。'
- en: '****Suspend all devices****. Places all suspend-capable devices in a suspended
    state.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****暂停所有设备****。将所有支持暂停的设备置于暂停状态。'
- en: '****Stop all devices****. Stops all devices.'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****停止所有设备****。停止所有设备。'
- en: '****Reload all devices****. Reloads all devices. Be sure to save your router
    configurations and project before reloading or else you might lose your configurations!'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****重新加载所有设备****。重新加载所有设备。重新加载前，请确保保存你的路由器配置和项目，否则你可能会丢失配置！'
- en: Fourth Toolbar Group
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第四组工具栏图标
- en: The final group of toolbar icons, shown in [Figure 4-5](ch04.html#fourth_toolbar_group-id00008
    "Figure 4-5. Fourth toolbar group"), provides tools to present your network layouts
    more clearly. You can add objects such as rectangles and ellipses to your project,
    and even generate a screenshot of your workspace.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一组工具栏图标，如[图4-5](ch04.html#fourth_toolbar_group-id00008 "图4-5. 第四组工具栏图标")所示，提供了更清晰地展示网络布局的工具。你可以向项目中添加矩形、椭圆等对象，甚至生成工作区的截图。
- en: '![Fourth toolbar group](httpatomoreillycomsourcenostarchimages2208919.png.jpg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![第四组工具栏图标](httpatomoreillycomsourcenostarchimages2208919.png.jpg)'
- en: Figure 4-5. Fourth toolbar group
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-5. 第四组工具栏图标
- en: 'From left to right, the icons in the last toolbar group are as follows:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 从左到右，最后一组工具栏图标如下：
- en: '****Add a note****. Creates text annotations in your workspace. Double-click
    text to modify it, and right-click the text object to change the Style attributes
    (such as font size and color). You can also rotate text objects from 0 to 360
    degrees.'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****添加注释****。在工作区中创建文本注释。双击文本以修改内容，右键单击文本对象以更改样式属性（如字体大小和颜色）。你还可以旋转文本对象，从0度到360度。'
- en: '****Insert a picture****. Adds images and logos to your projects. GNS3 supports
    PNG, JPG, BMP, XPM, PPM, and TIFF file formats.'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****插入图片****。将图像和徽标添加到你的项目中。GNS3支持PNG、JPG、BMP、XPM、PPM和TIFF文件格式。'
- en: '****Draw a rectangle****. Draws dynamically sizable rectangles. You can right-click
    a rectangle object to change the Style attributes for border and border color.
    Rectangle objects can be rotated from 0 to 360 degrees.'
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****绘制矩形****。动态绘制可调整大小的矩形。你可以右键单击矩形对象来更改边框和边框颜色的样式属性。矩形对象可以从0度旋转到360度。'
- en: '****Draw an ellipse****. Draws dynamically sizable ellipses. You can right-click
    an ellipse object to change the border style and color.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****绘制椭圆****。动态绘制可调整大小的椭圆。你可以右键单击椭圆对象来更改边框样式和颜色。'
- en: '****Zoom in****. Zooms in your workspace to see details.'
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****放大****。放大工作区以查看细节。'
- en: '****Zoom out****. Zooms out of your workspace for a bigger bird’s-eye view.'
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****缩小****。缩小工作区，查看更大的全局视图。'
- en: '****Screenshot****. Generates a screenshot of your workspace. The image can
    be saved as a PNG, JPG, BMP, XPM, PPM, or TIFF file and by default is saved in
    your *GNS3/projects* folder.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****截图****。生成工作区的截图。图像可以保存为PNG、JPG、BMP、XPM、PPM或TIFF文件，默认情况下保存到你的*GNS3/projects*文件夹中。'
- en: Window Styles and Docks
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 窗口样式和停靠
- en: GNS3 provides several window styles to choose from. To change the default style,
    select **Edit** ▸ **Preferences** on Linux and Windows, or select **GNS3** ▸ **Preferences**
    on OS X. Select the **General** category, select the **General** tab, and use
    the drop-down menu under Style to choose your new default style. Click **Apply**
    and **Okay** to activate your change. GNS3 will remember your selection between
    program restarts.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: GNS3提供了几种窗口样式可供选择。要更改默认样式，请在Linux和Windows上选择**编辑** ▸ **首选项**，或在OS X上选择**GNS3**
    ▸ **首选项**。选择**常规**类别，选择**常规**标签页，并使用下拉菜单中的样式选择新的默认样式。点击**应用**和**确定**以激活更改。GNS3将在程序重启后记住你的选择。
- en: Window docks, on the other hand, are the windows that surround the GNS3 workspace.
    GNS3 displays the Console and Topology Summary docks by default.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 窗口停靠是围绕GNS3工作区的窗口。GNS3默认显示控制台和拓扑摘要停靠窗口。
- en: To view or hide a window dock, select **View** ▸ **Window Docks** and select
    the dock you want to display; any dock with a check mark next to its name should
    appear onscreen. To resize a dock, click the border of the dock window where it
    connects to the workspace and drag the border until you achieve the desired size.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看或隐藏窗口停靠，选择**视图** ▸ **窗口停靠**，然后选择你想显示的停靠窗口；任何名称旁边有勾选标记的停靠窗口将会显示在屏幕上。要调整停靠窗口的大小，点击窗口与工作区连接处的边框并拖动，直到达到所需的大小。
- en: Objects (notes, pictures, and shapes) that you add to your workspace can be
    grouped into layers. To raise or lower an object, right-click the object and select
    **Raise one layer** or **Lower one layer**. This feature allows you to manipulate
    objects in a layer without affecting other layers. You can display layer positions
    for your objects by choosing **View** ▸ **Show Layers** from the menu, which is
    useful during advanced layer manipulation.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 你添加到工作区的对象（如注释、图片和形状）可以分组到不同的图层中。要提升或降低一个对象，右键单击该对象并选择**提升一层**或**降低一层**。此功能允许你在不影响其他图层的情况下操作某一图层中的对象。你可以通过选择**视图**
    ▸ **显示图层**来显示对象的图层位置，这在进行高级图层操作时非常有用。
- en: By adding shapes and colors with this toolbar, you can divide network components
    into logical groups. With text, you can add notes and reminders about how your
    project is configured. [Figure 4-6](ch04.html#sample_project_with_annotations
    "Figure 4-6. Sample project with annotations") shows how you can present information
    more clearly using shapes, colors, and annotated text messages.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用此工具栏添加形状和颜色，你可以将网络组件分为逻辑组。通过文本，你可以添加有关项目配置的注释和提醒。[图4-6](ch04.html#sample_project_with_annotations
    "图4-6。带注释的示例项目")展示了如何通过使用形状、颜色和注释文本信息来更清晰地呈现信息。
- en: '![Sample project with annotations](httpatomoreillycomsourcenostarchimages2208921.png.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![带注释的示例项目](httpatomoreillycomsourcenostarchimages2208921.png.jpg)'
- en: Figure 4-6. Sample project with annotations
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-6。带注释的示例项目
- en: Once you’ve created several projects, it’s easy to forget how you configured
    them or what your objectives were. Adding notes (like the helpful one in [Figure 4-6](ch04.html#sample_project_with_annotations
    "Figure 4-6. Sample project with annotations")) is a simple way to quickly remind
    yourself of that information, especially after a few weeks or months have gone
    by. Notes are awesome—use them!
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你创建了多个项目，很容易忘记如何配置它们或你的目标是什么。在项目中添加注释（如[图 4-6](ch04.html#sample_project_with_annotations
    "图 4-6. 带注释的示例项目")中的有用注释）是一个简单的方法，可以迅速提醒自己这些信息，尤其是在几周或几个月过去之后。注释很有用——记得使用它们！
- en: Using the Devices Toolbar
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用设备工具栏
- en: The Devices toolbar (shown in [Figure 4-7](ch04.html#devices_toolbar "Figure 4-7. Devices
    toolbar")) organizes devices by function. Click an icon on the Devices toolbar
    to see all the devices in that device group.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 设备工具栏（如[图 4-7](ch04.html#devices_toolbar "图 4-7. 设备工具栏")所示）按功能组织设备。点击设备工具栏中的一个图标，可以查看该设备组中的所有设备。
- en: '![Devices toolbar](httpatomoreillycomsourcenostarchimages2208923.png.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![设备工具栏](httpatomoreillycomsourcenostarchimages2208923.png.jpg)'
- en: Figure 4-7. Devices toolbar
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-7. 设备工具栏
- en: 'To add a device node to your project, click an icon from the Devices toolbar
    to display a list of configured devices and then drag a device to your workspace.
    You can press SHIFT to add multiple identical devices. From left to right, the
    device types in the toolbar are as follows:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 要向项目中添加设备节点，请从设备工具栏中点击一个图标，显示已配置的设备列表，然后将设备拖动到工作区。你可以按住 SHIFT 键添加多个相同的设备。设备工具栏中的设备类型从左到右分别如下：
- en: '****Routers****. Displays all available Dynamips router nodes that have been
    configured with a valid IOS image file, as well as IOU L3 routers.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****路由器****。显示所有已配置有效 IOS 镜像文件的 Dynamips 路由器节点，以及 IOU L3 路由器。'
- en: '****Switches****. Displays all available switch nodes, including Ethernet switch,
    Ethernet hub, ATM switch, Frame Relay switch, EtherSwitch router, and IOU L2 switches.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****交换机****。显示所有可用的交换机节点，包括以太网交换机、以太网集线器、ATM 交换机、帧中继交换机、EtherSwitch 路由器和 IOU
    L2 交换机。'
- en: '****End Devices****. Displays all available end devices, including QEMU guests,
    VirtualBox guests, host, and cloud.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****终端设备****。显示所有可用的终端设备，包括 QEMU 客户端、VirtualBox 客户端、主机和云设备。'
- en: '****Security Devices****. Displays all available security devices, including
    ASA firewall, IDS/IPS, and any custom nodes you’ve created.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****安全设备****。显示所有可用的安全设备，包括 ASA 防火墙、IDS/IPS 设备以及你创建的任何自定义节点。'
- en: '****All Devices****. Displays all available devices from the Devices toolbar.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****所有设备****。显示设备工具栏中所有可用的设备。'
- en: '****Add a Link****. When this is selected, your mouse pointer changes to a
    crosshair, indicating that you can link two devices together using their virtual
    interfaces. To link devices, click the first device and select an interface; then
    repeat for the second device to complete the connection.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****添加连接****。当选中此项时，鼠标指针会变成十字准星，表示你可以使用设备的虚拟接口将两个设备连接起来。要连接设备，点击第一个设备并选择一个接口；然后对第二个设备重复该操作，完成连接。'
- en: Click the **All Devices** icon now, and you should see a window containing every
    configured device in GNS3\. You can drag any of the devices to your workspace
    and use them in your project.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 现在点击**所有设备**图标，你应该看到一个窗口，显示 GNS3 中所有已配置的设备。你可以将任何设备拖动到工作区并在项目中使用它们。
- en: Creating Your First Project
  id: totrans-84
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建你的第一个项目
- en: Now that you know your way around the GNS3 interface, let’s dig into some project
    management details. I’ll cover the easiest way to get things done, but keep in
    mind that GNS3 often provides more than one way to do things.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经熟悉了 GNS3 界面，我们来深入探讨一些项目管理细节。我将介绍最简单的操作方法，但请记住，GNS3 通常提供不止一种方法来完成任务。
- en: When you launch GNS3, a New project window appears, as shown in [Figure 4-8](ch04.html#new_project_window
    "Figure 4-8. New project window"). From here, you can either open an existing
    project or create a new one.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 当你启动 GNS3 时，会出现一个新项目窗口，如[图 4-8](ch04.html#new_project_window "图 4-8. 新项目窗口")所示。在这里，你可以选择打开一个已有项目或创建一个新项目。
- en: '![New project window](httpatomoreillycomsourcenostarchimages2208925.png.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![新项目窗口](httpatomoreillycomsourcenostarchimages2208925.png.jpg)'
- en: Figure 4-8. New project window
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-8. 新项目窗口
- en: To create a new project, replace *untitled* with your project name, and click
    **OK**. If you’re already in GNS3, select **File** ▸ **New** to create a new project.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个新项目，将*untitled*替换为你的项目名称，然后点击**确定**。如果你已经在 GNS3 中，选择**文件** ▸ **新建**来创建一个新项目。
- en: Once you’ve created a new GNS3 project, it’s time to build a topology, starting
    with some Dynamips routers.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 创建了新 GNS3 项目后，是时候开始构建拓扑了，从一些 Dynamips 路由器开始。
- en: Working with Routers
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用路由器
- en: Begin a project by dragging a couple of routers from the Devices toolbar to
    the GNS3 workspace. If you press SHIFT when adding devices, you should see a dialog
    that allows you to add multiple identical devices. Try adding the first pair of
    routers this way. If you don’t see any routers on the Devices toolbar, please
    refer to [Setting Up Your First IOS Router](ch03.html#setting_up_your_first_ios_router
    "Setting Up Your First IOS Router") to learn how to add devices to GNS3.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从设备工具栏拖动几个路由器到 GNS3 工作区来开始一个项目。如果在添加设备时按住 SHIFT，你应该会看到一个对话框，允许你添加多个相同的设备。尝试通过这种方式添加第一对路由器。如果你在设备工具栏上看不到任何路由器，请参考[设置你的第一个
    IOS 路由器](ch03.html#setting_up_your_first_ios_router "设置你的第一个 IOS 路由器")，学习如何将设备添加到
    GNS3 中。
- en: After adding the routers to your workspace, they should be named R1 and R2 automatically.
    The routers got their names from the command `hostname %h` found in the GNS3 file
    *ios_base_startup-config.txt*. This file contains default IOS settings that are
    applied to all your routers and are assigned to a device when it’s configured
    with an IOS image file. To locate the Dynamips configuration files, go to **Preferences**,
    choose **Dynamips** from the pane on the left, and choose **IOS Routers**. Select
    a configured router and click **Edit** to display the Dynamips IOS Router configuration
    options, shown in [Figure 4-9](ch04.html#dynamips_ios_router_configuration_dialog
    "Figure 4-9. Dynamips IOS Router configuration dialog").
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 将路由器添加到工作区后，它们应该会自动命名为 R1 和 R2。这些路由器的名称来自于 GNS3 文件 *ios_base_startup-config.txt*
    中的命令 `hostname %h`。该文件包含应用于所有路由器的默认 IOS 设置，并在配置路由器时将其分配给设备。要找到 Dynamips 配置文件，请进入**首选项**，从左侧面板选择
    **Dynamips**，然后选择 **IOS 路由器**。选择一个已配置的路由器，点击 **编辑** 以显示 Dynamips IOS 路由器配置选项，如[图
    4-9](ch04.html#dynamips_ios_router_configuration_dialog "图 4-9. Dynamips IOS 路由器配置对话框")所示。
- en: From here, you can verify the path to your device’s startup-config and private-config
    files. When a router is placed in your workspace, the contents of the startup-config
    file *ios_base_startup-config.txt* are applied to the router startup configuration
    and loaded to the router’s running configuration when the router is started. If
    you would like to create custom parameters that are globally applied to your routers
    (for example, to bring up an interface automatically or use a preassigned username
    and password), use a text editor to modify and save the *ios_base_startup-config.txt*
    file. You can apply any valid Cisco IOS commands to the file, provided your IOS
    supports them, of course. You shouldn’t need to modify the *ios_base_private-config.txt*
    file. This file was installed by GNS3 so that you can use Secure Shell (SSH) between
    router restarts, without having to generate new crypto keys on your routers.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以验证设备的 startup-config 和 private-config 文件的路径。当一个路由器被放置在你的工作区时，startup-config
    文件 *ios_base_startup-config.txt* 的内容会应用到路由器的启动配置中，并在路由器启动时加载到路由器的运行配置中。如果你希望创建全球应用于你的路由器的自定义参数（例如，自动启动接口或使用预先分配的用户名和密码），可以使用文本编辑器修改并保存
    *ios_base_startup-config.txt* 文件。你可以向该文件应用任何有效的 Cisco IOS 命令，前提是你的 IOS 支持这些命令。当然，你不需要修改
    *ios_base_private-config.txt* 文件。该文件由 GNS3 安装，以便你在路由器重启时使用安全外壳（SSH），而不需要在路由器上生成新的加密密钥。
- en: '![Dynamips IOS Router configuration dialog](httpatomoreillycomsourcenostarchimages2208927.png.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![Dynamips IOS 路由器配置对话框](httpatomoreillycomsourcenostarchimages2208927.png.jpg)'
- en: Figure 4-9. Dynamips IOS Router configuration dialog
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-9. Dynamips IOS 路由器配置对话框
- en: It’s important to note that the changes you make are applied only to routers
    you add to new projects and can’t be applied retroactively to routers in your
    previously saved projects.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，你所做的更改只会应用于你添加到新项目中的路由器，不能回溯应用于之前保存的项目中的路由器。
- en: Warning
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 警告
- en: '*Before modifying your* ios_base_startup-config.txt *file, you may want to
    save a backup copy. If you enter invalid commands, your routers may produce errors
    and misbehave.*'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*在修改你的* ios_base_startup-config.txt *文件之前，你可能需要保存一个备份副本。如果你输入无效的命令，路由器可能会产生错误并发生故障。*'
- en: Creating Links Between Your Routers
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在路由器之间创建连接
- en: After you’ve placed devices in your workspace, you’ll need to add links between
    them to create a fully functional network. This is equivalent to cabling up a
    real network, except that you’re using virtual cables rather than physical ones.
    To add links to your devices, click the **Add a link** icon in the Devices toolbar.
    Your cursor should change to a crosshair, indicating that you can select devices.
    To create a link, click a device. You’ll be presented with a drop-down menu of
    available interfaces, as shown in [Figure 4-10](ch04.html#router_with_two_fastethernet_interfaces
    "Figure 4-10. A router with two FastEthernet interfaces").
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在你将设备放置在工作区后，你需要在设备之间添加链接，以创建一个完全功能的网络。这相当于在真实网络中布线，只不过你使用的是虚拟电缆而非物理电缆。要为设备添加链接，请点击设备工具栏中的**添加链接**图标。你的光标应变为十字准线，表示你可以选择设备。要创建链接，点击一个设备。你将看到一个下拉菜单，列出可用的接口，如[图4-10](ch04.html#router_with_two_fastethernet_interfaces
    "图4-10. 带有两个FastEthernet接口的路由器")所示。
- en: '![A router with two FastEthernet interfaces](httpatomoreillycomsourcenostarchimages2208929.png.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![带有两个FastEthernet接口的路由器](httpatomoreillycomsourcenostarchimages2208929.png.jpg)'
- en: Figure 4-10. A router with two FastEthernet interfaces
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-10. 带有两个FastEthernet接口的路由器
- en: A red circle next to an interface indicates that it’s available to use; a green
    circle indicates the interface is already being used by an existing link. Select
    any available interface to establish the link, and then select an interface on
    another device to complete the connection. You can create connections only between
    two compatible interface types. In other words, just like with physical hardware,
    you can’t plug a serial cable into an Ethernet interface.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 接口旁边的红色圆圈表示该接口可用；绿色圆圈表示该接口已被现有链接使用。选择任何可用接口以建立连接，然后选择另一设备上的接口以完成连接。你只能在两种兼容的接口类型之间建立连接。换句话说，就像在物理硬件中一样，你不能将串行电缆插入以太网接口。
- en: At some point, you may want to break a link between two devices to simulate
    an outage, to reconfigure your network, or for some other reason. To break a link
    between two devices, right-click the link and select **Delete**, as shown in [Figure 4-11](ch04.html#deleting_links_between_devices
    "Figure 4-11. Deleting links between devices").
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，你可能希望中断两个设备之间的链接，以模拟停机、重新配置网络或出于其他原因。要中断两个设备之间的链接，右键点击该链接并选择**删除**，如[图4-11](ch04.html#deleting_links_between_devices
    "图4-11. 删除设备之间的链接")所示。
- en: '![Deleting links between devices](httpatomoreillycomsourcenostarchimages2208931.png.jpg)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![删除设备之间的链接](httpatomoreillycomsourcenostarchimages2208931.png.jpg)'
- en: Figure 4-11. Deleting links between devices
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-11. 删除设备之间的链接
- en: To reestablish a link, click the **Add a link** icon again and choose the same
    devices.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 要重新建立连接，再次点击**添加链接**图标，并选择相同的设备。
- en: Configuring Virtual Hardware
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置虚拟硬件
- en: When you place virtual routers in your workspace, they have the same configuration
    options that were applied when you configured the device’s IOS image. But that
    doesn’t mean your routers are stuck with this configuration. Like PCs, Cisco routers
    have expansion ports to provide additional functionality, and GNS3 Dynamips routers
    provide the same expansion options as their physical counterparts. To modify a
    router’s hardware configuration, right-click the router and select **Configure**;
    then click the node name (R1, for example), as shown in [Figure 4-12](ch04.html#cisco_ios_router_node_configurator_dialo
    "Figure 4-12. Cisco IOS router Node configurator dialog").
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在工作区中放置虚拟路由器时，它们具有与配置设备的IOS镜像时相同的配置选项。但这并不意味着你的路由器只能使用此配置。像个人电脑一样，思科路由器具有扩展端口，以提供额外的功能，而GNS3
    Dynamips路由器也提供与其物理版本相同的扩展选项。要修改路由器的硬件配置，右键点击路由器并选择**配置**；然后点击节点名称（例如R1），如[图4-12](ch04.html#cisco_ios_router_node_configurator_dialo
    "图4-12. 思科IOS路由器节点配置对话框")所示。
- en: '![Cisco IOS router Node configurator dialog](httpatomoreillycomsourcenostarchimages2208933.png.jpg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![思科IOS路由器节点配置对话框](httpatomoreillycomsourcenostarchimages2208933.png.jpg)'
- en: Figure 4-12. Cisco IOS router Node configurator dialog
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-12. 思科IOS路由器节点配置对话框
- en: In the Node configurator dialog, you should see the available configuration
    options for that model of router. Basic models only allow you to add simple options,
    such as Cisco SLOT, WIC, or RAM cards, while more advanced models allow you to
    define features such as the chassis type or a Network Processing Engine (NPE)
    type that can be found in Cisco 7200 series routers.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在节点配置对话框中，您应该看到该型号路由器的可用配置选项。基础型号仅允许您添加简单选项，如Cisco SLOT、WIC或RAM卡，而更高级的型号则允许您定义一些功能，如机箱类型或在Cisco
    7200系列路由器中找到的网络处理引擎（NPE）类型。
- en: You can configure and apply the same device options for memory and slots that
    were covered in [Chapter 3](ch03.html "Chapter 3. Configuration"), but the changes
    you make here will be applied only to the devices or device group you chose in
    your project. All other devices will remain unaffected.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以配置和应用[第3章](ch03.html "第3章 配置")中涉及的相同设备选项（内存和插槽），但您在此处所做的更改将仅应用于项目中选择的设备或设备组，所有其他设备将保持不变。
- en: Starting, Stopping, and Pausing Routers
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 启动、停止和暂停路由器
- en: I’ve shown you how to start and stop routers by right-clicking a router and
    choosing either Start or Stop, but you can also suspend your router by right-clicking
    it and choosing Suspend. Suspending a router is handy when you want to simulate
    a failure without having to go through the process of saving your configuration,
    stopping the router, and restarting it. In fact, repeatedly stopping and restarting
    GNS3 routers can cause Dynamips to crash with some IOS versions, so I recommend
    suspending and resuming instead.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 我已经向您展示了如何通过右键点击路由器并选择启动或停止来启动和停止路由器，但您也可以通过右键点击路由器并选择挂起来来暂停路由器。当您想要模拟故障而不必保存配置、停止路由器并重新启动时，暂停路由器非常有用。事实上，反复停止和重新启动GNS3路由器可能会导致某些IOS版本的Dynamips崩溃，因此我建议改为暂停和恢复操作。
- en: The suspend feature really shines in network convergence tests. You can quickly
    simulate failures and recoveries to test routing protocols such as the Routing
    Information Protocol (RIP), EIGRP, and OSPF, as well as redundancy protocols such
    as the HSRP, Virtual Router Redundancy Protocol (VRRP), and Gateway Load Balancing
    Protocol (GLBP). To simulate a failure, click **Suspend** and monitor your other
    routers to verify that failover or convergence has occurred.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 挂起功能在网络收敛测试中表现得尤为突出。您可以快速模拟故障和恢复，测试路由协议，如路由信息协议（RIP）、EIGRP 和 OSPF，以及冗余协议，如HSRP、虚拟路由器冗余协议（VRRP）和网关负载平衡协议（GLBP）。要模拟故障，请点击**挂起**并监控其他路由器，验证是否已发生故障切换或收敛。
- en: To simulate a recovery, resume the router by right-clicking the device and choosing
    **Start**. Due to throughput limitations placed on Dynamips because of the emulation,
    failover or convergence may take a little longer than you’re used to when using
    real hardware. Don’t worry—this is totally normal.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 要模拟恢复，右键点击设备并选择**启动**以恢复路由器。由于Dynamips的模拟限制，因吞吐量限制，故障切换或收敛可能会比使用实际硬件时稍微慢一些。别担心——这完全是正常的。
- en: Of course, even if you can start and stop your routers, you won’t be able to
    do too much with them until you’ve logged on to a console.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，即使您可以启动和停止路由器，在登录到控制台之前，您也无法对其进行太多操作。
- en: Logging On to Routers
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 登录路由器
- en: You log on to your routers using the simulated console port. If this sounds
    familiar, it’s because that’s also how you log on to actual Cisco equipment. On
    a physical piece of hardware, the console port is where you plug in Cisco’s little
    blue serial console cable. Be sure the router is started before you open a console
    connection; otherwise, you won’t get a console screen.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 您通过模拟的控制台端口登录到路由器。如果这听起来很熟悉，那是因为这也是您登录到实际Cisco设备的方式。在物理硬件上，控制台端口是您插入Cisco小蓝色串行控制台电缆的地方。在打开控制台连接之前，请确保路由器已启动；否则，您将无法获得控制台界面。
- en: Configuring Terminal Settings
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 配置终端设置
- en: Whether you’re running Windows, OS X, or Linux, there are a number of terminal
    types available to use with GNS3\. But why would you prefer one over the other?
    One reason might be that it’s what you have installed on your system. On Linux,
    for example, you may be using the Gnome Desktop, which has gnome-terminal installed
    by default. If that’s the case, you may want to modify the GNS3 terminal setting
    to use gnome-terminal. Another reason is that some terminal programs provide more
    features than others. You may want to choose a terminal type that allows you to
    use tabbed windows, for example, so you can open more than one console at a time
    without a bunch of open windows cluttering the screen.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你使用的是Windows、OS X还是Linux，GNS3都提供了多种终端类型供你使用。但为什么你会更喜欢某一种终端而不是其他呢？一个原因可能是因为它已经安装在你的系统上。例如，在Linux上，你可能使用的是默认安装了gnome-terminal的Gnome桌面。如果是这种情况，你可能希望修改GNS3的终端设置，使用gnome-terminal。另一个原因是，有些终端程序提供的功能比其他程序更多。例如，你可能希望选择一个允许使用标签页窗口的终端类型，这样你就可以同时打开多个控制台，而不必让多个打开的窗口堆积在屏幕上。
- en: To modify the terminal settings, go to **Preferences**, click **General**, and
    then click the **Console applications** tab to display the window shown in [Figure 4-13](ch04.html#terminal_settings
    "Figure 4-13. Terminal settings").
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 要修改终端设置，请进入**首选项**，点击**常规**，然后点击**控制台应用程序**选项卡，显示如[图 4-13](ch04.html#terminal_settings
    "图 4-13. 终端设置")所示的窗口。
- en: '![Terminal settings](httpatomoreillycomsourcenostarchimages2208935.png.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![终端设置](httpatomoreillycomsourcenostarchimages2208935.png.jpg)'
- en: Figure 4-13. Terminal settings
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-13. 终端设置
- en: From here, you can choose a predefined terminal type and customize the command
    settings under Console application command. (Check your terminal application documentation
    to find out what options are available on your system.) When you’re done, click
    **Set** and then **Apply** and **OK**.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你可以选择一个预定义的终端类型，并自定义控制台应用程序命令下的命令设置。（查看你的终端应用程序文档，了解你的系统上可用的选项。）完成后，点击**设置**，然后点击**应用**和**确定**。
- en: To log on to all your routers at once, click the **Console connect to all devices**
    icon in the second toolbar group (see [Figure 4-3](ch04.html#second_toolbar_group-id00006
    "Figure 4-3. Second toolbar group")). To log on to a single router, right-click
    the router node in your workspace and select **Console** or **Auxiliary console**
    from the menu (see [Figure 4-14](ch04.html#choose_console_or_auxiliary_console_to_c
    "Figure 4-14. Choose Console or Auxiliary console to connect to a router")).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 要同时登录到所有路由器，请点击第二个工具栏组中的**控制台连接到所有设备**图标（见[图 4-3](ch04.html#second_toolbar_group-id00006
    "图 4-3. 第二工具栏组")）。要登录到单个路由器，请右键点击工作区中的路由器节点，并从菜单中选择**控制台**或**辅助控制台**（见[图 4-14](ch04.html#choose_console_or_auxiliary_console_to_c
    "图 4-14. 选择控制台或辅助控制台连接到路由器")）。
- en: To change the Transmission Control Protocol (TCP) port number on which a router’s
    console or AUX port listens, right-click a device in your workspace, click **Configure**,
    and select the **General** tab. The port number you choose must be unique for
    every device in GNS3 and on your PC. As a rule, I try not to mess with port numbers
    unless I must. GNS3 does a pretty good job of keeping them all straight, and mucking
    with them can lead to headaches. But if some other TCP/IP application running
    on your PC happens to conflict with GNS3, you may have to make some changes before
    you can log on to your router.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改路由器控制台或AUX端口监听的传输控制协议（TCP）端口号，右键点击工作区中的设备，点击**配置**，然后选择**常规**选项卡。你选择的端口号必须对GNS3中的每个设备以及你的PC都是唯一的。作为规则，我尽量避免修改端口号，除非必须这样做。GNS3在管理端口号方面做得相当不错，随便改动可能会导致麻烦。但如果你PC上运行的其他TCP/IP应用程序恰好与GNS3发生冲突，你可能需要进行一些更改，才能登录到路由器。
- en: '![Choose Console or Auxiliary console to connect to a router](httpatomoreillycomsourcenostarchimages2208937.png.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![选择控制台或辅助控制台以连接到路由器](httpatomoreillycomsourcenostarchimages2208937.png.jpg)'
- en: Figure 4-14. Choose Console or Auxiliary console to connect to a router
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 4-14. 选择控制台或辅助控制台以连接到路由器
- en: Note
  id: totrans-132
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: '*Use the `netstat` command on your PC to verify what TCP/IP ports are already
    in use.*'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '*在你的PC上使用`netstat`命令来验证哪些TCP/IP端口已经在使用。*'
- en: Once you’ve established a console connection to the router, you should see a
    familiar Cisco console window.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你与路由器建立了控制台连接，你应该会看到一个熟悉的Cisco控制台窗口。
- en: '[PRE0]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'At this point, you can begin using standard IOS commands to configure the router.
    One command that might look odd is the `show flash` command. Normally this command
    displays files saved in flash memory, such as the router’s IOS image file and
    other default files from Cisco. In GNS3, however, you’ll notice there are no files
    saved here by default. What’s more, the flash drive may be *unformatted*; if that’s
    the case, you’ll need to issue the `erase flash:` command before you can save
    files to flash memory. Otherwise, you may receive an error similar to the following:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，你可以开始使用标准IOS命令来配置路由器。一个可能看起来很奇怪的命令是`show flash`命令。通常，这个命令显示保存在闪存中的文件，例如路由器的IOS镜像文件和其他来自Cisco的默认文件。然而，在GNS3中，你会注意到默认情况下这里没有保存任何文件。而且，闪存驱动器可能是*未格式化*的；如果是这种情况，你需要先执行`erase
    flash:`命令，才能将文件保存到闪存中。否则，你可能会遇到类似下面的错误：
- en: '[PRE1]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*If you use an NM-16ESW switch module, you may have to erase your router’s
    flash memory before you create VLANs; otherwise, the VLAN database* (vlan.dat)
    *will not be able to be saved.*'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '*如果你使用NM-16ESW交换模块，你可能需要在创建VLAN之前清除路由器的闪存，否则VLAN数据库*（vlan.dat）*将无法保存。*'
- en: This section has been all about Dynamips routers so far, but you can also use
    switches in your GNS3 projects, which I’ll cover next.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这一节到目前为止一直在讨论Dynamips路由器，但你也可以在GNS3项目中使用交换机，接下来我将介绍这一部分内容。
- en: Ethernet Switch Nodes
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以太网交换机节点
- en: The Ethernet switch node is an emulated virtual switch that allows you to create
    VLAN access and trunk ports. The Ethernet switch node supports access ports, industry-standard
    802.1Q trunk ports, and QinQ tagging. It does not, however, support Cisco’s proprietary
    Inter-Switch Link (ISL) trunking protocol.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 以太网交换机节点是一个模拟的虚拟交换机，允许你创建VLAN接入端口和中继端口。以太网交换机节点支持接入端口、行业标准的802.1Q中继端口和QinQ标记。然而，它不支持Cisco的专有交换机间链路（ISL）中继协议。
- en: To use an Ethernet switch node, drag the node to your workspace. You never have
    to start an Ethernet switch node; they’re always ready to use.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用以太网交换机节点，将该节点拖动到工作空间中。你无需启动以太网交换机节点，它们始终可以直接使用。
- en: To configure the switch, right-click the **Ethernet switch node** icon and select
    **Configure**. Using the Node configurator window shown in [Figure 4-15](ch04.html#ethernet_switch_node_configurator_window
    "Figure 4-15. Ethernet switch Node configurator window"), click the switch name
    (SW1, for example) to modify the default switch ports or add new ports.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置交换机，右键单击**以太网交换机节点**图标并选择**配置**。在[图4-15](ch04.html#ethernet_switch_node_configurator_window
    "图4-15. 以太网交换机节点配置器窗口")中显示的节点配置窗口中，单击交换机名称（例如SW1）以修改默认的交换机端口或添加新端口。
- en: By default, there are eight access ports assigned to VLAN 1\. To change a port,
    click the port number and modify the settings as needed. When you’re done, click
    **Apply** and **OK**. To add a new port, define the port settings and click the
    **Add** button; then click **Apply**. When you’re finished adding ports, click
    **OK** to complete the setup.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，有八个接入端口分配给VLAN 1。要更改某个端口，点击该端口号并根据需要修改设置。完成后，点击**应用**和**确定**。要添加新端口，定义端口设置并点击**添加**按钮；然后点击**应用**。添加端口完成后，点击**确定**以完成设置。
- en: One alternative to the Ethernet switch node is to configure a Dynamips router
    with a network switch module. The advantage of using a switch module is that it
    supports more features (such as the Spanning Tree Protocol); the downside is that
    using a network switch module uses more PC resources. If you need the functions
    of only a simple switch, I recommend you stick with the Ethernet switch node.
    If you need full IOS switching capability, use a router with a switch module installed
    like the EtherSwitch router, or use an IOU L2 switch image (discussed in [Chapter 9](ch09.html
    "Chapter 9. Cisco IOS On UNIX and NX-OSv")).
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 以太网交换机节点的一个替代方案是配置一个带有网络交换模块的Dynamips路由器。使用交换模块的优势是它支持更多的功能（例如生成树协议）；缺点是使用网络交换模块会占用更多的PC资源。如果你只需要一个简单的交换机功能，我建议你使用以太网交换机节点。如果你需要完整的IOS交换功能，可以使用安装了交换模块的路由器，如EtherSwitch路由器，或者使用IOU
    L2交换机镜像（在[第9章](ch09.html "第9章. Cisco IOS 在UNIX和NX-OSv中的使用")中讨论）。
- en: '![Ethernet switch Node configurator window](httpatomoreillycomsourcenostarchimages2208939.png.jpg)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![以太网交换机节点配置器窗口](httpatomoreillycomsourcenostarchimages2208939.png.jpg)'
- en: Figure 4-15. Ethernet switch Node configurator window
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-15. 以太网交换机节点配置器窗口
- en: Changing Symbols and Organizing Your Devices
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改符号和组织设备
- en: You can change the symbols that are used to represent devices in your workspace
    and choose where your devices are located in the Devices toolbar. Let’s say you
    want to change an IOS router’s symbol. To change the symbol of the device, select
    **Edit** ▸ **Preferences** on Linux and Windows or select **GNS3** ▸ **Preferences**
    on OS X. Next, go under the device you want to change, right-click the device
    icon, and select **Change symbol**, as shown in [Figure 4-16](ch04.html#changing_the_symbol
    "Figure 4-16. Changing the symbol").
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以更改工作区中用于表示设备的符号，并选择设备在设备工具栏中的位置。假设你想更改一台IOS路由器的符号。要更改设备的符号，请在Linux和Windows中选择**编辑**
    ▸ **首选项**，或者在OS X中选择**GNS3** ▸ **首选项**。接下来，找到你想更改的设备，右键点击设备图标，并选择**更改符号**，如[图4-16](ch04.html#changing_the_symbol
    "图4-16. 更改符号")所示。
- en: '![Changing the symbol](httpatomoreillycomsourcenostarchimages2208941.png.jpg)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![更改符号](httpatomoreillycomsourcenostarchimages2208941.png.jpg)'
- en: Figure 4-16. Changing the symbol
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-16. 更改符号
- en: You can change the symbol for IOU devices, VirtualBox virtual machines, and
    QEMU virtual machines in the same way. The Symbol selection window, as shown in
    [Figure 4-17](ch04.html#symbol_selection_and_device_category "Figure 4-17. Symbol
    selection and device category"), should appear after you click **Change symbol**.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以以相同的方式更改IOU设备、VirtualBox虚拟机和QEMU虚拟机的符号。符号选择窗口，如[图4-17](ch04.html#symbol_selection_and_device_category
    "图4-17. 符号选择和设备类别")所示，应该在你点击**更改符号**后出现。
- en: '![Symbol selection and device category](httpatomoreillycomsourcenostarchimages2208943.png.jpg)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![符号选择和设备类别](httpatomoreillycomsourcenostarchimages2208943.png.jpg)'
- en: Figure 4-17. Symbol selection and device category
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图4-17. 符号选择和设备类别
- en: To change a device symbol, scroll down in the Symbol selection window and select
    the symbol you want to use. Next, use the drop-down menu to choose a category.
    This is the category where the device will be placed in the Devices toolbar. The
    categories include Switches, Routers, End Devices, and Security Devices. When
    you’re finished, click **OK** to complete the change.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改设备符号，请在符号选择窗口中向下滚动并选择你想要使用的符号。接着，使用下拉菜单选择一个类别。这是设备将在设备工具栏中放置的类别。类别包括交换机、路由器、终端设备和安全设备。完成后，点击**确定**以完成更改。
- en: Final Thoughts
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 最终思考
- en: In this chapter, you learned the basics of setting up a GNS3 network, so now
    is a good time to create a few labs and practice what you’ve learned. If you’re
    studying for a Cisco certification, spending as much hands-on time as possible
    with Cisco gear is the only way to gain enough experience to pass the exams. (They’re
    tough!)
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了设置GNS3网络的基础知识，所以现在是创建一些实验并练习所学内容的好时机。如果你正在为Cisco认证考试做准备，那么尽可能多地与Cisco设备进行实践是通过考试的唯一方法。（这些考试很难！）
- en: Start by creating the network in [Figure 4-1](ch04.html#screen_layout_showing_two_routers_and_a
    "Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace").
    After creating the topology, log on to the routers, configure their interfaces,
    and try pinging between them. Simulate a failure and recovery by using the suspend
    and resume feature or by starting and stopping a device. Once you’ve explored
    some IOS commands and GNS3 features, try creating a simple CCNA lab with three
    or more routers; there are plenty of CCNA and CCNP example labs online.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 从创建[图4-1](ch04.html#screen_layout_showing_two_routers_and_a "图4-1. 显示GNS3工作区中两个路由器和一个交换机的屏幕布局")中的网络开始。创建拓扑后，登录到路由器，配置它们的接口，并尝试在它们之间进行ping操作。通过使用暂停和恢复功能，或者启动和停止设备，模拟故障和恢复。一旦你探索了一些IOS命令和GNS3功能后，可以尝试创建一个简单的CCNA实验，至少包含三个路由器；网上有很多CCNA和CCNP的示例实验。
- en: 'One last word of caution: if you create large topologies that use multi-protocol
    routing, you might find that you have to increase your router’s protocol timers
    to prevent your interfaces from repeatedly going up and down. (It’s rare, but
    it does happen sometimes.) The problem is caused by the inherent effects of latency
    within Dynamips. Serial connections are another common problem area; some router
    images can be flaky when running on emulated serial ports. If you find a router’s
    serial port is acting up by either crashing your router or flapping the connection,
    try another router model or different IOS image. In general, c36xx, c37xx, and
    7200 IOS images are the most stable with Dynamips and should be used whenever
    possible.'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 最后需要提醒的一点是：如果你创建了使用多协议路由的大型拓扑，可能会发现你需要增加路由器的协议定时器，以防止接口反复上下跳动。（这种情况很少发生，但偶尔会出现。）这个问题是由Dynamips中的延迟效应引起的。串行连接是另一个常见的问题领域；一些路由器镜像在模拟串行端口时可能会不稳定。如果你发现某个路由器的串行端口出现故障，导致路由器崩溃或连接断开，试试更换路由器型号或不同的IOS镜像。通常，c36xx、c37xx和7200
    IOS镜像在Dynamips中最为稳定，应该尽可能使用这些镜像。
- en: In [Chapter 5](ch05.html "Chapter 5. Integrating Hosts and Using Wireshark"),
    you’ll explore the basics of capturing network packets with Wireshark and expanding
    your networks by adding hosts using VPCS, VirtualBox, and Linux.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第5章](ch05.html "Chapter 5. Integrating Hosts and Using Wireshark")中，你将学习如何使用Wireshark捕获网络数据包的基本知识，并通过使用VPCS、VirtualBox和Linux添加主机来扩展你的网络。
