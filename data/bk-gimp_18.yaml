- en: Chapter 11. Layers
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 11 章. 图层
- en: Layers are so central to GIMP that without them, this powerful application would
    be almost useless. Instead, we would only be able to use GIMP for simple drawings
    or minor photo touch-ups. All of GIMP’s more powerful and versatile features rely
    on layers.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 图层在 GIMP 中至关重要，如果没有图层，这个强大的应用程序几乎没有什么用处。我们只能使用 GIMP 进行简单的绘图或小规模的照片修饰。GIMP 所有更强大、更灵活的功能都依赖于图层。
- en: 'When an image has multiple layers, the GIMP workspace acts as a stack of transparencies.
    Draw or paint on these transparencies, or arrange parts of an existing picture
    on separate layers. Set the layers’ visibility, or adjust how transparent they
    are or how they blend with other layers. Move them around the canvas and control
    their order in the layer stack. Duplicate a layer before changing it so an intact
    copy remains in case you make a mistake or want to use the layer for other purposes.
    Layering makes possible so many things that this chapter covers only the basic
    concepts, while later chapters combine these concepts with the tools and features
    provided by GIMP. In this chapter, we examine the Layers dialog, the Layers menu,
    and the **Image: Layer** menu.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当图像有多个图层时，GIMP 工作区表现得像一叠透明胶片。你可以在这些透明胶片上绘制或涂鸦，或者将现有图像的部分内容安排到不同的图层上。设置图层的可见性，调整它们的透明度，或调整它们与其他图层的混合方式。你可以在画布上移动它们，并控制它们在图层堆栈中的顺序。在修改图层之前，复制一层，以便如果出现错误或需要将该图层用于其他目的时，可以保留一个完整的副本。图层使得许多事情成为可能，本章仅涵盖基本概念，后续章节会将这些概念与
    GIMP 提供的工具和功能结合起来。在本章中，我们将探讨层对话框、层菜单以及**图像：图层**菜单。
- en: 11.1 The Layers Dialog
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 11.1 层对话框
- en: '[Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers dialog")
    shows an example of a Layers dialog for the painting created in [Chapter 3](ch03.html
    "Chapter 3. Drawing and Illustration"). This dialog is probably the most important
    of all the GIMP dialogs, including the Toolbox, since the latter can be replaced
    with the **Image: Tools** menu (or keyboard shortcuts). The Layers dialog is a
    component of the multi-dialog window by default, and you will most likely want
    to keep it open. If you do close it, you can open it again by going to **Image:
    Windows > Dockable Dialogs > Layers** or pressing ![](httpatomoreillycomsourcenostarchimages1455224.png.jpg)
    to bring it back. The keyboard shortcut brings up the dialog in the foreground,
    even if it was hidden by a ![](httpatomoreillycomsourcenostarchimages1453814.png)
    command.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 11-1](ch11s01.html#layers_dialog-id00088 "图 11-1. 层对话框") 显示了 [第 3 章](ch03.html
    "第 3 章. 绘画与插图") 中绘制的图像的层对话框示例。这个对话框可能是所有 GIMP 对话框中最重要的，包括工具箱，因为后者可以通过**图像：工具**菜单（或键盘快捷键）替代。默认情况下，层对话框是多对话框窗口的一个组件，你很可能会希望保持它打开。如果你关闭了它，可以通过选择**图像：窗口
    > 可停靠对话框 > 层**，或者按下 ![](httpatomoreillycomsourcenostarchimages1455224.png.jpg)
    来重新打开它。即使该对话框被 ![](httpatomoreillycomsourcenostarchimages1453814.png) 命令隐藏，键盘快捷键仍会将其置于最前面。'
- en: Components of the Layers Dialog
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 层对话框的组成部分
- en: Let’s examine the components of the Layers dialog. The numbers below refer to
    [Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers dialog").
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看层对话框的组成部分。下面的数字指的是 [图 11-1](ch11s01.html#layers_dialog-id00088 "图 11-1.
    层对话框")。
- en: The image name is not really a component of the dialog but rather of the multi-dialog
    window. If you select a different tab (the Channels dialog, for example), the
    image name will remain visible. You can change whether the image name is visible
    in the Configuration menu (opened with the button labeled 4). To show the image
    name, check SHOW IMAGE SELECTION. Showing the image name is very useful when you’re
    working with several images at the same time.
  id: totrans-7
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图像名称实际上不是对话框的一部分，而是多对话框窗口的一部分。如果你选择了不同的标签（例如，通道对话框），图像名称仍然会保持可见。你可以在配置菜单中更改图像名称是否可见（该菜单通过标有
    4 的按钮打开）。要显示图像名称，请勾选“显示图像选择”。在同时处理多个图像时，显示图像名称非常有用。
- en: '![The Layers dialog](httpatomoreillycomsourcenostarchimages1455394.png.jpg)'
  id: totrans-8
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![层对话框](httpatomoreillycomsourcenostarchimages1455394.png.jpg)'
- en: Figure 11-1. The Layers dialog
  id: totrans-9
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-1. 层对话框
- en: '![The Configuration menu](httpatomoreillycomsourcenostarchimages1455396.png.jpg)'
  id: totrans-10
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![配置菜单](httpatomoreillycomsourcenostarchimages1455396.png.jpg)'
- en: Figure 11-2. The Configuration menu
  id: totrans-11
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-2. 配置菜单
- en: This button toggles whether the multi-dialog window always reflects the current
    image.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个按钮切换多对话框窗口是否始终反映当前图像。
- en: The MODE drop-down menu sets the blending mode of the current layer. For a description
    of the 21 blending modes available, see [12.2 Blending Modes](ch12s02.html "12.2
    Blending Modes").
  id: totrans-13
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: MODE 下拉菜单设置当前图层的混合模式。有关 21 种可用混合模式的描述，请参见 [12.2 混合模式](ch12s02.html "12.2 Blending
    Modes")。
- en: This button brings up the Configuration menu, found in all dockable dialogs
    and shown in [Figure 11-2](ch11s01.html#configuration_menu "Figure 11-2. The Configuration
    menu"). The first entry opens the Layers menu, which will be discussed later in
    this chapter. The Configuration menu also allows you to add, close, or detach
    tabs from the multi-dialog menu; change the preview size and the tab style; and
    show or hide elements in the dialog. The last entry allows you to navigate between
    multiple displays, if you’re working with more than one monitor.
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 此按钮打开配置菜单，该菜单出现在所有可停靠的对话框中，并显示在 [图 11-2](ch11s01.html#configuration_menu "Figure 11-2. The
    Configuration menu") 中。第一个条目打开图层菜单，稍后将在本章讨论。配置菜单还允许你添加、关闭或分离多对话框菜单中的标签；更改预览大小和标签样式；以及显示或隐藏对话框中的元素。最后一个条目允许你在多个显示器之间切换，如果你正在使用多个显示器的话。
- en: The Opacity slider allows you to set the opacity of the current layer. This
    is independent of the transparency, so a layer without an Alpha channel can be
    made semi-transparent with the Opacity slider. The layer opacity combines with
    the layer blending mode to determine the interaction between the pixels of the
    current layer and those of the underlying layers. For example, Dissolve mode is
    different from Normal mode only if the layer opacity is less than 100%.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 不透明度滑块允许你设置当前图层的不透明度。这与透明度独立，因此没有 Alpha 通道的图层也可以通过不透明度滑块变得半透明。图层不透明度与图层混合模式结合，决定当前图层的像素与下层图层像素之间的交互。例如，溶解模式与正常模式的不同之处仅在于图层不透明度低于
    100% 时才有效。
- en: 'The paintbrush icon is a toggle button. If pressed, the layer pixels are locked,
    which means they cannot be changed. This is useful if you want to protect a layer
    from accidental alterations. Painting on a layer with locked pixels is very similar
    to painting on it in Behind mode: When the pixels are locked, the painting tools
    will still work in transparent areas.'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 画笔图标是一个切换按钮。按下时，图层像素被锁定，意味着它们不能被更改。这在你想要保护图层不受意外修改时非常有用。在锁定像素的图层上绘画与在“Behind”模式下绘画非常相似：当像素被锁定时，绘画工具仍然可以在透明区域工作。
- en: The square icon, another toggle button, locks a layer’s Alpha channel, if there
    is one. If the Alpha channel is locked, painting tools don’t work in transparent
    areas of the current layer, but they do work in opaque areas, as long as the pixels
    are unlocked. If both locks (pixels and Alpha channel) are checked, the layer
    cannot be changed at all. These buttons are useful, for example, when building
    logos, as shown in [Chapter 4](ch04.html "Chapter 4. Logos and Textures"). If
    you want to blur the logo to add relief to it, the Alpha channel must be unlocked.
    If you want to paint the logo, the Alpha channel must be locked.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 方形图标是另一个切换按钮，如果图层有 Alpha 通道，它将锁定该通道。如果 Alpha 通道被锁定，绘画工具无法在当前图层的透明区域工作，但可以在不透明区域工作，只要像素没有被锁定。如果两个锁（像素和
    Alpha 通道）都被选中，则图层无法更改。这些按钮在构建徽标时非常有用，如 [第 4 章](ch04.html "Chapter 4. Logos and
    Textures") 中所示。如果你想模糊徽标以增加其立体感，Alpha 通道必须解锁。如果你想绘制徽标，Alpha 通道必须锁定。
- en: The main part of the Layers dialog contains as many entries as there are layers
    in the image. The current layer is noted by an emphasis on the corresponding entry
    (blue in [Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers
    dialog"), where the current layer is named `River`).
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图层对话框的主要部分包含与图像中图层数量相同的条目。当前图层通过突出显示相应的条目（在 [图 11-1](ch11s01.html#layers_dialog-id00088
    "Figure 11-1. The Layers dialog") 中为蓝色，当前图层命名为 `River`）来标记。
- en: '![An example layer in the Layers dialog](httpatomoreillycomsourcenostarchimages1455398.png.jpg)'
  id: totrans-19
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图层对话框中的示例图层](httpatomoreillycomsourcenostarchimages1455398.png.jpg)'
- en: Figure 11-3. An example layer in the Layers dialog
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-3. 图层对话框中的示例图层
- en: Always be aware of which layer is current, because anything you do to the image
    will be applied to that layer, which can be invisible or hidden by another layer.
    When the current layer is hidden, changes appear to have no effect, yet the current
    layer, hidden somewhere in the layer stack, is being affected by everything you
    do. Sometimes no layer is current, for example when a channel is active. In that
    case, when you apply changes to the image, the active channel is affected.
  id: totrans-21
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 始终注意哪个图层是当前图层，因为对图像所做的任何操作都会应用到该图层，而该图层可能是不可见的，或者被另一个图层隐藏。当当前图层被隐藏时，变化看起来没有效果，但当前图层在图层堆栈中的某个位置仍然受到影响。有时没有图层是当前图层，例如当通道处于活动状态时。在这种情况下，应用变化到图像时，活动通道会受到影响。
- en: 'The bottom of the Layers dialog displays a row of seven buttons, which are
    shortcuts to entries in the Layers or **Image: Layer** menus. From left to right,
    these buttons allow you to do the following:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 图层对话框的底部显示一排七个按钮，它们是图层或**图像：图层**菜单项的快捷方式。从左到右，这些按钮允许您执行以下操作：
- en: Create a new layer. Hold down ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to use the previous parameters. Otherwise a dialog opens to set them.
  id: totrans-23
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个新图层。按住![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)可以使用上次的参数。否则，会弹出一个对话框以设置这些参数。
- en: Create a new layer group.
  id: totrans-24
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个新的图层组。
- en: Raise the current layer in the layer stack. Press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to move it to the top.
  id: totrans-25
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在图层堆栈中提升当前图层。按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)将其移动到顶部。
- en: Lower the current layer in the layer stack. Press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to move it to the bottom.
  id: totrans-26
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 降低图层堆栈中的当前图层。按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)将其移到底部。
- en: Duplicate the current layer.
  id: totrans-27
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复制当前图层。
- en: Anchor the floating layer.
  id: totrans-28
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 锚定浮动图层。
- en: Delete the current layer.
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除当前图层。
- en: A Layer Entry in the Layers Dialog
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图层对话框中的图层条目
- en: '[Figure 11-3](ch11s01.html#example_layer_in_the_layers_dialog "Figure 11-3. An
    example layer in the Layers dialog") shows all the possible components of a layer
    displayed in the Layers dialog. From left to right, these are as follows:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '[图11-3](ch11s01.html#example_layer_in_the_layers_dialog "图11-3. 图层对话框中的示例图层")展示了图层对话框中可能显示的所有图层组件。按从左到右的顺序，具体如下：'
- en: The eye icon denotes the fact that the layer is visible (if no upper layer hides
    it). Clicking it toggles visibility. An invisible layer does not contribute to
    the visible image, but this does not prevent it from being changed.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 眼睛图标表示该图层是可见的（如果没有上层图层隐藏它的话）。点击它可以切换可见性。一个不可见的图层不会对可见图像产生贡献，但这并不妨碍对它进行修改。
- en: The link icon denotes the fact that the layer is linked to something. This is
    meaningful only when it’s activated for more than one object. We can link several
    layers together, or we can link channels and paths, using their respective dialogs.
    See [Chapter 14](ch14.html "Chapter 14. Masks") for information on channels, and
    see [13.3 The Paths Tool](ch13s03.html "13.3 The Paths Tool") for information
    on paths. When several objects are linked, the Move tool and the transformation
    tools (see [Chapter 16](ch16.html "Chapter 16. Transformation Tools")) operate
    on the whole set of linked objects. However, each image is limited to only one
    set of linked objects. Clicking the chain turns the link on or off for that layer.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 链接图标表示该图层已与其他对象链接。只有当多个对象被激活时，这才有意义。我们可以将多个图层链接在一起，或者通过各自的对话框将通道和路径链接起来。有关通道的详细信息，请参见[第14章](ch14.html
    "第14章. 遮罩")，有关路径的详细信息，请参见[13.3 路径工具](ch13s03.html "13.3 路径工具")。当多个对象被链接时，移动工具和变换工具（见[第16章](ch16.html
    "第16章. 变换工具")）会作用于整个链接对象集。然而，每个图像仅限于一个链接对象集。点击链条图标可以打开或关闭该图层的链接。
- en: The thumbnail provides a miniature view of the layer contents. If its frame
    is white, that layer is the current layer and any modification made will affect
    it. Otherwise, the frame is black. Clicking on the thumbnail makes the layer active.
    If you click and hold, a larger thumbnail pops out. Clicking and dragging the
    thumbnail to the Toolbox creates a new image from the layer. Dragging it into
    another image copies the layer as a new layer in that image.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缩略图提供了图层内容的缩小视图。如果其框架为白色，则该图层为当前图层，任何修改都会影响它。否则，框架为黑色。点击缩略图会使该图层处于活动状态。如果点击并按住，缩略图会弹出一个较大的版本。将缩略图点击并拖动到工具箱中，可以从该图层创建一个新图像。将它拖入另一个图像中，会将该图层作为新图层复制到该图像中。
- en: If the layer has a layer mask (see [14.2 Layer Masks](ch14s02.html "14.2 Layer
    Masks")), its thumbnail appears to the right and has the same properties as the
    layer thumbnail. If the mask frame is white, the mask is active, and any modifications
    made will be applied to the mask. If the mask frame is red, the layer mask is
    inactive. When the layer mask is selected, the dashed outline in the Image window
    changes from yellow and black to green and black. ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    the thumbnail toggles the layer mask activation, and ![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-clicking
    toggles the visibility of the layer mask.
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果图层有图层蒙版（参见[14.2 图层蒙版](ch14s02.html "14.2 Layer Masks")），其缩略图会显示在右侧，并且具有与图层缩略图相同的属性。如果蒙版框为白色，表示蒙版是激活的，所做的任何修改将应用到蒙版上。如果蒙版框为红色，表示图层蒙版处于非激活状态。当图层蒙版被选中时，图像窗口中的虚线轮廓会从黄黑色变为绿黑色。![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-点击缩略图可以切换图层蒙版的激活状态，![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-点击则切换图层蒙版的可见性。
- en: Drag the layer mask thumbnail into another image to add it as a layer or into
    the Toolbox to create a copy as a new image.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将图层蒙版缩略图拖到另一个图像中，作为图层添加，或者拖到工具箱中创建一个新图像的副本。
- en: 'The final item on the layer entry is the layer name. It is displayed in boldface
    if the layer does not have an Alpha channel. A name is assigned to the layer when
    the layer is created, but it can be changed. Double-click it, press ![](httpatomoreillycomsourcenostarchimages1455250.png.jpg),
    or select **Layers: right-click > Edit Layer Attributes** to change it.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图层条目的最后一项是图层名称。如果图层没有 Alpha 通道，名称会以粗体显示。图层在创建时会被分配一个名称，但可以更改。双击它，按下![](httpatomoreillycomsourcenostarchimages1455250.png.jpg)，或选择**图层：右键
    > 编辑图层属性**来更改名称。
- en: 'If the layer is intended to be an animation frame (see [Chapter 18](ch18.html
    "Chapter 18. Animation Tools")), its name can be followed by text that alters
    the frame’s behavior: the duration in milliseconds, as in `(200ms)`, and the combination
    mode of the frame—either `(combine)` or `(replace)`.'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果该图层用于作为动画帧（参见[第18章](ch18.html "Chapter 18. Animation Tools")），其名称后可以附加文本来改变帧的行为：以毫秒为单位的持续时间，如`(200ms)`，以及帧的组合模式——可以是`(combine)`或`(replace)`。
- en: Keyboard Shortcuts in the Layers Dialog
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图层对话框中的快捷键
- en: Some handy keyboard shortcuts are available when the Layers dialog is active.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 当图层对话框处于活动状态时，可以使用一些实用的快捷键。
- en: The up arrow key selects the layer above the current layer as the new current
    layer. The down arrow key selects the layer below.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 上箭头键选择当前图层上方的图层作为新的当前图层，下箭头键选择下方的图层。
- en: The ![](httpatomoreillycomsourcenostarchimages1455400.png.jpg) key makes the
    top layer in the stack current, and the ![](httpatomoreillycomsourcenostarchimages1455402.png.jpg)
    key makes the bottom layer current.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1455400.png.jpg)键将栈中的顶部图层设置为当前图层，![](httpatomoreillycomsourcenostarchimages1455402.png.jpg)键将底部图层设置为当前图层。'
- en: 'The horizontal arrow keys switch among the four (or five) components of the
    current layer: visibility, linking, layer thumbnail, layer mask thumbnail, and
    layer name.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 水平箭头键在当前图层的四个（或五个）组件之间切换：可见性、链接、图层缩略图、图层蒙版缩略图和图层名称。
- en: The ![](httpatomoreillycomsourcenostarchimages1453920.png.jpg) and ![](httpatomoreillycomsourcenostarchimages1453866.png.jpg)
    keys toggle the selected layer component (visibility, linking, activity of the
    layer or its layer mask, and the layer name), even if its layer is not active.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1453920.png.jpg)和![](httpatomoreillycomsourcenostarchimages1453866.png.jpg)键切换所选图层的组件（可见性、链接、图层或其图层蒙版的活动状态、以及图层名称），即使其图层不是活动的。'
- en: Pressing ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg) along with
    the up or down arrow key moves from layer to layer without changing the current
    layer. You can use this in combination with the horizontal arrow keys or the ![](httpatomoreillycomsourcenostarchimages1453920.png.jpg)
    or ![](httpatomoreillycomsourcenostarchimages1453866.png.jpg) keys.
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按下![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)并配合上下箭头键可以在图层之间切换，而不改变当前图层。你可以将其与水平箭头键或![](httpatomoreillycomsourcenostarchimages1453920.png.jpg)或![](httpatomoreillycomsourcenostarchimages1453866.png.jpg)键结合使用。
- en: The ![](httpatomoreillycomsourcenostarchimages1454482.png.jpg) key erases the
    contents of the current layer (or the selection in this layer).
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1454482.png.jpg)键会擦除当前图层的内容（或该图层中的选区）。'
- en: Uses of the Layers Dialog
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图层对话框的用途
- en: 'In summary, the Layers dialog allows you to do the following:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，图层对话框允许你执行以下操作：
- en: Open the configuration menu by clicking the top-right button. The first entry
    in this menu opens the Layers menu (covered later in this chapter).
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击右上角按钮打开配置菜单。该菜单中的第一个条目打开图层菜单（将在本章后面详细介绍）。
- en: Change the blending mode of the layer. See [12.2 Blending Modes](ch12s02.html
    "12.2 Blending Modes") for examples and a complete description of the blending
    modes.
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 更改图层的混合模式。有关混合模式的示例和完整描述，请参阅[12.2 混合模式](ch12s02.html "12.2 混合模式")。
- en: Set the layer opacity.
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置图层的不透明度。
- en: Lock the pixels or the Alpha channel.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 锁定像素或Alpha通道。
- en: Set the visibility of the layer by clicking the eye icon. Note that this is
    independent of the activity of the layer. An invisible layer can still be altered.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击眼睛图标设置图层的可见性。请注意，这与图层的活动状态是独立的。不可见的图层仍然可以被修改。
- en: Set the activity of the layer by clicking its thumbnail. Note that this does
    not change its visibility.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击图层缩略图设置图层的活动状态。请注意，这不会改变图层的可见性。
- en: Set the activity of the layer mask by clicking, ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking,
    or ![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-clicking its thumbnail
    image.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击、![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)点击或![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)点击其缩略图来设置图层蒙版的活动状态。
- en: Change the name of the layer by double-clicking its name.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过双击图层名称来更改图层的名称。
- en: Move the layer in the layer stack by clicking and dragging its thumbnail or
    name up or down the layer stack. This method can also be used to move a layer
    into, or out of, a layer group.
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击并拖动图层缩略图或名称上下移动图层堆叠中的图层。此方法也可用于将图层移入或移出图层组。
- en: Open the Layers menu by right-clicking anywhere in the layer’s entry.
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过右键点击图层条目的任意位置打开图层菜单。
- en: Use the seven buttons in the bottom row to perform common layer-related tasks.
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用底部行中的七个按钮执行常见的图层相关任务。
- en: 11.2 The Layers Menu
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 11.2 图层菜单
- en: The Layers menu ([Figure 11-4](ch11s02.html#layers_menu "Figure 11-4. The Layers
    menu")) is selected by right-clicking any of the layer entries in the Layers dialog
    or by selecting the first entry in the Configure menu of the Layers dialog. If
    the current layer is a text layer, this menu contains five additional entries,
    described in [15.8 The Text Tool](ch15s08.html "15.8 The Text Tool"). In this
    section, we examine each of the entries in the Layers menu.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图层菜单（[图11-4](ch11s02.html#layers_menu "图11-4. 图层菜单")）可以通过右键点击图层对话框中的任何图层项，或通过选择图层对话框中“配置”菜单的第一个条目来选择。如果当前图层是文本图层，该菜单会包含五个额外的条目，具体描述见[15.8
    文本工具](ch15s08.html "15.8 文本工具")。在本节中，我们将逐一检查图层菜单中的每个条目。
- en: EDIT LAYER ATTRIBUTES opens the dialog shown in [Figure 11-5](ch11s02.html#edit_layer_attributes_dialog
    "Figure 11-5. The Edit Layer Attributes dialog"). The only attribute that can
    be changed is the layer name.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: “编辑图层属性”将打开如[图11-5](ch11s02.html#edit_layer_attributes_dialog "图11-5. 编辑图层属性对话框")所示的对话框。唯一可以更改的属性是图层名称。
- en: '![The Layers menu](httpatomoreillycomsourcenostarchimages1455404.png.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图层菜单](httpatomoreillycomsourcenostarchimages1455404.png.jpg)'
- en: Figure 11-4. The Layers menu
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图11-4. 图层菜单
- en: '![The Edit Layer Attributes dialog](httpatomoreillycomsourcenostarchimages1455406.png.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![编辑图层属性对话框](httpatomoreillycomsourcenostarchimages1455406.png.jpg)'
- en: Figure 11-5. The Edit Layer Attributes dialog
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图11-5. 编辑图层属性对话框
- en: 'NEW LAYER opens the dialog shown in [Figure 11-6](ch11s02.html#create_a_new_layer_dialog
    "Figure 11-6. The Create a New Layer dialog"). A descriptive layer name can help
    you quickly identify the various components of an image. If you don’t input one,
    a name is automatically generated, such as `Layer #1`. The width and height are
    initially the same as those of the canvas, but you can input different values.
    If the new layer is larger than the canvas, the areas of the layer that extend
    beyond the canvas won’t be visible. The new layer’s dimensions can be assigned
    as a percentage of the canvas dimensions, in pixels, or in a number of other units.
    Note that measurements in inches, millimeters, or other standard units of measurement
    are calculated with regard to the current resolution (see [10.1 Rulers and Units](ch10s01.html
    "10.1 Rulers and Units")). Finally, the four radio buttons allow you to choose
    how the layer is initially filled. The layer can be filled with the foreground
    color, the background color, white, or transparency. Unless transparency is chosen,
    the new layer does not have an Alpha channel.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 'NEW LAYER（新建图层）打开[图 11-6](ch11s02.html#create_a_new_layer_dialog "图 11-6. 创建新图层对话框")所示的对话框。一个描述性的图层名称可以帮助你快速识别图像的各个组件。如果没有输入名称，将自动生成一个名称，如`Layer
    #1`。宽度和高度初始值与画布相同，但你可以输入不同的值。如果新图层比画布大，超出画布范围的部分将不可见。新图层的尺寸可以设置为画布尺寸的百分比、像素或其他单位。请注意，以英寸、毫米或其他标准单位的度量值是根据当前分辨率计算的（参见[10.1
    尺规和单位](ch10s01.html "10.1 Rulers and Units")）。最后，四个单选按钮允许你选择图层的初始填充方式。图层可以用前景色、背景色、白色或透明填充。除非选择透明填充，否则新图层没有Alpha通道。'
- en: '![The Create a New Layer dialog](httpatomoreillycomsourcenostarchimages1455408.png.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![创建新图层对话框](httpatomoreillycomsourcenostarchimages1455408.png.jpg)'
- en: Figure 11-6. The Create a New Layer dialog
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-6. 创建新图层对话框
- en: NEW FROM VISIBLE creates a new layer, initially called `Visible`, filled with
    the image as it currently appears. This new layer is placed in the stack just
    above the current layer. The layers contributing to this new layer are flattened
    before its creation such that only one new layer is created, even if several are
    visible.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: NEW FROM VISIBLE（从可见图层创建新图层）创建一个新图层，初始名称为`Visible`，并填充当前图像的内容。该新图层会被放置在当前图层的上方。贡献此新图层的图层会在创建前进行合并，因此即使多个图层是可见的，也只会创建一个新图层。
- en: NEW LAYER GROUP creates a new, empty layer group, initially called `Layer Group`.
    This concept is discussed in [11.3 Layer Groups](ch11s03.html "11.3 Layer Groups").
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: NEW LAYER GROUP（新建图层组）创建一个新的空图层组，初始名称为`Layer Group`。此概念在[11.3 图层组](ch11s03.html
    "11.3 Layer Groups")中讨论。
- en: DUPLICATE LAYER makes a copy of the current layer (or layer group), places it
    into the layer stack just above the current layer, and names it the same name
    as that the current layer plus the word `copy`. The copy inherits all the characteristics
    of the original, including its blending mode, opacity, and locks.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: DUPLICATE LAYER（复制图层）会创建当前图层（或图层组）的副本，将其放置在当前图层的上方，并命名为当前图层名称加上“`copy`”一词。副本继承原图层的所有特性，包括混合模式、不透明度和锁定。
- en: ANCHOR LAYER is active only when there is a floating selection. See [13.4 Using
    Selections](ch13s04.html "13.4 Using Selections"). The floating selection is anchored
    to the last current layer.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: ANCHOR LAYER（锚定图层）仅在存在浮动选择时有效。请参见[13.4 使用选择](ch13s04.html "13.4 Using Selections")。浮动选择将被锚定到最后的当前图层。
- en: '![The Layers Merge Options dialog](httpatomoreillycomsourcenostarchimages1455410.png.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![图层合并选项对话框](httpatomoreillycomsourcenostarchimages1455410.png.jpg)'
- en: Figure 11-7. The Layers Merge Options dialog
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-7. 图层合并选项对话框
- en: MERGE DOWN merges the current layer with the layer below. If the current layer
    is invisible, it merges as if it were visible. However, if the layer below is
    invisible, and there is no visible layer below that, MERGE DOWN is inactive. MERGE
    DOWN is also inactive when the layers below the current layer form a layer group.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: MERGE DOWN（向下合并）将当前图层与下方的图层合并。如果当前图层不可见，它将像可见图层一样合并。然而，如果下方的图层不可见，并且下方没有可见的图层，则MERGE
    DOWN不可用。当当前图层下方的图层形成图层组时，MERGE DOWN也不可用。
- en: MERGE LAYER GROUP appears in the menu only if the current layer is a layer group.
    This group is replaced with a single layer, composed of all layers of the group.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: MERGE LAYER GROUP（合并图层组）仅在当前图层是图层组时出现在菜单中。此组将被替换为一个单一图层，包含该组的所有图层。
- en: DELETE LAYER deletes the active layer or layer group. Like the other Layers
    menu operations, this one can be undone.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: DELETE LAYER（删除图层）删除当前激活的图层或图层组。与其他图层菜单操作一样，此操作可以撤销。
- en: 'The next four entry groups in the Layers menu are also found in the **Image:
    Layer** menu, and they are discussed in [11.4 The Image: Layer Menu](ch11s04.html
    "11.4 The Image: Layer Menu"). Therefore we skip to the last two entries in the
    Layers menu.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图层菜单中的接下来的四个条目也可以在**图像：图层**菜单中找到，并在[11.4 图像：图层菜单](ch11s04.html "11.4 图像：图层菜单")中讨论。因此，我们跳过图层菜单中的最后两个条目。
- en: 'MERGE VISIBLE LAYERS acts only on the layers with the eye icon checked, and
    it merges them according to their respective opacity and blending mode. The dialog
    is shown in [Figure 11-7](ch11s02.html#layers_merge_options_dialog "Figure 11-7. The
    Layers Merge Options dialog"). The new layer can be sized to match the largest
    layer, the canvas, or the bottom layer. If the DISCARD INVISIBLE LAYERS box is
    checked, the invisible layers are deleted. Otherwise, they remain in the image.
    Note that this operation deletes the visible layers from the image, unlike NEW
    FROM VISIBLE, which is generally a better choice. If you do choose to use MERGE
    VISIBLE LAYERS, we strongly suggest that you save a copy of the image first with
    **Image: File > Save a Copy**.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 合并可见图层（MERGE VISIBLE LAYERS）仅作用于勾选了眼睛图标的图层，并根据各自的不透明度和混合模式将其合并。对话框显示在[图 11-7](ch11s02.html#layers_merge_options_dialog
    "图 11-7. 图层合并选项对话框")中。新图层可以调整为与最大图层、画布或底层匹配。如果勾选了“丢弃不可见图层”（DISCARD INVISIBLE LAYERS）框，则不可见图层会被删除。否则，它们仍然保留在图像中。请注意，此操作会删除图像中的可见图层，不同于“从可见图层新建”（NEW
    FROM VISIBLE），后者通常是更好的选择。如果你确实选择使用“合并可见图层”，我们强烈建议你首先使用**图像：文件 > 保存副本**保存图像副本。
- en: FLATTEN IMAGE replaces all the layers with a single-layer representation of
    the image. This is a destructive operation and should be used only after you’ve
    saved a copy of the image with the layers intact.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 扁平化图像（FLATTEN IMAGE）将所有图层替换为图像的单一图层表示。这是一个破坏性操作，应仅在保存了包含图层的图像副本后使用。
- en: 11.3 Layer Groups
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 11.3 图层组
- en: Layer groups are a new feature in GIMP 2.8, and the concept is still evolving.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图层组是 GIMP 2.8 中的一个新特性，概念仍在不断发展。
- en: 'To create a new layer group, click the corresponding button in the bottom of
    the Layers dialog or use **Image: Layer > New Layer Group** or **Layers: right-click
    > New Layer Group**.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个新的图层组，请点击图层对话框底部的相应按钮，或使用**图像：图层 > 新建图层组**或**图层：右键点击 > 新建图层组**。
- en: The layer group appears just above the current layer and is initially empty.
    A good idea is to immediately give it a meaningful name. To add a layer to a group,
    click and drag it to the group in the layer stack. Do the same to move a layer
    out of its current group or to move an entire layer group around in the stack.
    You can also add a new layer to a layer group, using the corresponding button
    in the Layers dialog or the entry in the Layers menu. Click the small triangle
    to show ([Figure 11-8](ch11s03.html#this_layer_group_has_three_layers "Figure 11-8. This
    layer group has three layers")) or hide ([Figure 11-9](ch11s03.html#three_minimized_layer_groups
    "Figure 11-9. Three minimized layer groups")) the contents of the group. A layer
    group can be placed within another layer group.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图层组出现在当前图层之上，最初为空。一个好主意是立即为其起个有意义的名称。要将图层添加到图层组中，点击并拖动它到图层堆叠中的图层组。移出图层组或在堆叠中移动整个图层组时，也可使用相同方法。你还可以通过图层对话框中的相应按钮或图层菜单中的条目，将新图层添加到图层组中。点击小三角形可以显示([图
    11-8](ch11s03.html#this_layer_group_has_three_layers "图 11-8. 该图层组包含三个图层"))或隐藏([图
    11-9](ch11s03.html#three_minimized_layer_groups "图 11-9. 三个最小化的图层组"))图层组的内容。图层组可以放入另一个图层组中。
- en: 'A layer group is a useful way to organize the layers in a complex image. The
    following operations can be done on a layer group:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图层组是组织复杂图像中图层的一种有用方式。可以对图层组执行以下操作：
- en: Locking the pixels
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 锁定像素
- en: Changing the group opacity
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改变图层组的不透明度
- en: Toggling visibility with the eye icon
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用眼睛图标切换可见性
- en: Toggling layer links with the chain icon
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用链条图标切换图层链接
- en: Moving the group in the layer stack
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在图层堆叠中移动图层组
- en: Moving the layers with the Move tool
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用移动工具移动图层
- en: Applying a transformation to all layers (see [Chapter 16](ch16.html "Chapter 16. Transformation
    Tools"))
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对所有图层应用变换（请参见[第16章](ch16.html "第16章. 变换工具")）
- en: Duplicating the layer group and its contents
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复制图层组及其内容
- en: Copying the layer group and its contents to another image by clicking and dragging
    it, or by copying and pasting it
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过点击并拖动图层组及其内容，或通过复制并粘贴它，将图层组及其内容复制到另一个图像
- en: '![This layer group has three layers](httpatomoreillycomsourcenostarchimages1455412.png.jpg)'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![这个图层组包含三个图层](httpatomoreillycomsourcenostarchimages1455412.png.jpg)'
- en: Figure 11-8. This layer group has three layers
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-8. 这个图层组包含三个图层
- en: '![Three minimized layer groups](httpatomoreillycomsourcenostarchimages1455414.png.jpg)'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![三个最小化的图层组](httpatomoreillycomsourcenostarchimages1455414.png.jpg)'
- en: Figure 11-9. Three minimized layer groups
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-9. 三个最小化的图层组
- en: Deleting the layer group and its contents
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除图层组及其内容
- en: Applying a layer blending mode to a layer group, which effects only the layers
    of the layer group
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将图层混合模式应用于图层组，这只会影响图层组中的图层
- en: 'We’ll use the result of the tutorial from [Chapter 3](ch03.html "Chapter 3. Drawing
    and Illustration") to demonstrate the properties of a layer group. This image
    has 20 layers, which we organized as we built the image. Each of the four mushroom
    caps is composed of two layers, one of which contains a layer mask. The mushroom
    stems are composed of six layers. The flower and stone in the foreground are composed
    of four layers. Finally, there is a white background for the whole image, and
    another layer on the top of the stack, named `Background`, which is in multiply
    blend mode and contains the original drawing. These layers can be organized intuitively
    into three layer groups: `Mushroom stems`, `Mushroom caps`, and `Foreground`.
    To do this without changing the layer order in the stack, click the New Layer
    Group button when the topmost layer of the future group is active, and then move
    layers into the group by clicking and dragging them to the upper layer or to an
    empty layer group. [Figure 11-9](ch11s03.html#three_minimized_layer_groups "Figure 11-9. Three
    minimized layer groups") shows the result when these three layer groups are minimized.'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用[第 3 章](ch03.html "第 3 章. 绘图与插图")教程的结果来演示图层组的属性。这张图包含 20 个图层，我们在构建图像时对其进行了组织。每个蘑菇帽由两个图层组成，其中一个图层包含图层蒙版。蘑菇的茎由六个图层组成。前景中的花朵和石头由四个图层组成。最后，整张图像有一个白色背景，堆叠在最上面的是一个名为`背景`的图层，该图层采用叠加混合模式并包含原始绘图。可以将这些图层直观地组织成三个图层组：`蘑菇茎`、`蘑菇帽`和`前景`。为了在不改变图层顺序的情况下完成此操作，在将来组的最上层图层激活时，点击新建图层组按钮，然后通过点击并拖动图层到上层或空图层组中将图层移动到组内。[图
    11-9](ch11s03.html#three_minimized_layer_groups "图 11-9. 三个最小化的图层组")展示了将这三个图层组最小化后的效果。
- en: '![Moving the Mushroom caps layer group](httpatomoreillycomsourcenostarchimages1455416.png.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![移动蘑菇帽图层组](httpatomoreillycomsourcenostarchimages1455416.png.jpg)'
- en: Figure 11-10. Moving the Mushroom caps layer group
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-10. 移动蘑菇帽图层组
- en: '![Reducing the opacity of a layer group to 50%](httpatomoreillycomsourcenostarchimages1455418.png.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![将图层组的不透明度降低到 50%](httpatomoreillycomsourcenostarchimages1455418.png.jpg)'
- en: Figure 11-11. Reducing the opacity of a layer group to 50%
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-11. 将图层组的不透明度降低到 50%
- en: You can hide a layer group by clicking its eye icon, or you can move all of
    its layers simultaneously using the Move tool (see [Figure 11-10](ch11s03.html#moving_the_mushroom_caps_layer_group
    "Figure 11-10. Moving the Mushroom caps layer group")). If a layer group is hidden,
    the layers it contains are invisible and their eye icons are stroked out. You
    can also change the opacity of an entire layer group (see [Figure 11-11](ch11s03.html#reducing_the_opacity_of_a_layer_group_to
    "Figure 11-11. Reducing the opacity of a layer group to 50%")).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过点击图层组的眼睛图标来隐藏图层组，或者使用移动工具一次性移动所有图层（参见[图 11-10](ch11s03.html#moving_the_mushroom_caps_layer_group
    "图 11-10. 移动蘑菇帽图层组")）。如果图层组被隐藏，图层组中的图层将不可见，并且它们的眼睛图标将被划掉。你还可以改变整个图层组的不透明度（参见[图
    11-11](ch11s03.html#reducing_the_opacity_of_a_layer_group_to "图 11-11. 将图层组的不透明度降低到
    50%"))。
- en: '![Linking noncontiguous layers](httpatomoreillycomsourcenostarchimages1455420.png.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![链接非连续图层](httpatomoreillycomsourcenostarchimages1455420.png.jpg)'
- en: Figure 11-12. Linking noncontiguous layers
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-12. 链接非连续图层
- en: '![Moving only the caps’ spots](httpatomoreillycomsourcenostarchimages1455422.png.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![仅移动蘑菇帽的区域](httpatomoreillycomsourcenostarchimages1455422.png.jpg)'
- en: Figure 11-13. Moving only the caps’ spots
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-13. 仅移动蘑菇帽的区域
- en: All the layers in a layer group must be contiguous in the layer stack. This
    is not the case for linking layers. For example, let’s chain together the second
    layer of all mushroom caps, the one containing a layer mask and used to draw the
    spots on the caps (see [Figure 11-12](ch11s03.html#linking_noncontiguous_layers
    "Figure 11-12. Linking noncontiguous layers")). Now we can move the linked layers
    together, but separately from the group, as shown in [Figure 11-13](ch11s03.html#moving_only_the_capsapostrophe_spots
    "Figure 11-13. Moving only the caps’ spots") (compare with [Figure 11-10](ch11s03.html#moving_the_mushroom_caps_layer_group
    "Figure 11-10. Moving the Mushroom caps layer group")). The linked layers can
    even be in different layer groups.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 层组中的所有图层必须在图层堆栈中是连续的。但链接图层则不必如此。例如，我们可以将所有蘑菇帽的第二层链在一起，这一层包含图层蒙版，并用于绘制帽上的斑点（见[图
    11-12](ch11s03.html#linking_noncontiguous_layers "图 11-12. 链接不连续图层")）。现在，我们可以将链接的图层一起移动，但与图层组分开，如[图
    11-13](ch11s03.html#moving_only_the_capsapostrophe_spots "图 11-13. 仅移动帽子上的斑点")所示（与[图
    11-10](ch11s03.html#moving_the_mushroom_caps_layer_group "图 11-10. 移动蘑菇帽图层组")比较）。这些链接的图层甚至可以位于不同的图层组中。
- en: '![The Image: Layer menu](httpatomoreillycomsourcenostarchimages1455424.png.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![图像：图层菜单](httpatomoreillycomsourcenostarchimages1455424.png.jpg)'
- en: 'Figure 11-14. The Image: Layer menu'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-14. 图像：图层菜单
- en: Layer groups are saved in an XCF file, independently from the individual layers.
    In GIMP 2.8, it’s possible to rotate or scale a layer group without rotating or
    scaling the individual layer components of the group. When the layer group is
    rotated or scaled, a floating selection is created with the result of the transformation,
    and the initial layer group is replaced with the merged, transformed components.
    The individual layers, however, are unchanged.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 图层组会保存在XCF文件中，独立于单个图层。在GIMP 2.8中，可以旋转或缩放一个图层组，而不旋转或缩放组内的单个图层组件。当图层组被旋转或缩放时，会创建一个浮动选择，包含转换后的结果，原始图层组会被合并并替换为变换后的组件。然而，单个图层保持不变。
- en: '11.4 The Image: Layer Menu'
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 11.4 图像：图层菜单
- en: 'The **Image: Layer** menu is shown in [Figure 11-14](ch11s03.html#image_layer_menu
    "Figure 11-14. The Image: Layer menu"). Some of the entries are also found in
    the **Layers: right-click > Layers** menu, but there are many new entries as well.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：图层**菜单如[图 11-14](ch11s03.html#image_layer_menu "图 11-14. 图像：图层菜单")所示。某些菜单项也可以在**图层：右键
    > 图层**菜单中找到，但也有许多新项。'
- en: 'The first eight entries (or seven if there is no existing layer group) can
    also be found in the **Layers: right-click > Layers** menu, but in the **Image:
    Layer** menu three of these entries are accompanied by keyboard shortcuts:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 前八个条目（如果没有现有的图层组则是七个）也可以在**图层：右键 > 图层**菜单中找到，但在**图像：图层**菜单中，这些条目有三个配有快捷键：
- en: '![](httpatomoreillycomsourcenostarchimages1454182.png.jpg) opens the new layer
    dialog.'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1454182.png.jpg) 打开新的图层对话框。'
- en: '![](httpatomoreillycomsourcenostarchimages1453960.png.jpg) duplicates the current
    layer.'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1453960.png.jpg) 复制当前图层。'
- en: '![](httpatomoreillycomsourcenostarchimages1454186.png.jpg) anchors the floating
    selection.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1454186.png.jpg) 锚定浮动选择。'
- en: '![The Stack menu](httpatomoreillycomsourcenostarchimages1455426.png.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![图层堆栈菜单](httpatomoreillycomsourcenostarchimages1455426.png.jpg)'
- en: Figure 11-15. The Stack menu
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-15. 图层堆栈菜单
- en: This menu, and these shortcuts, allow us to make major changes to the layer
    stack without looking at it, which is generally not advisable. It’s much easier
    to make a mistake when you can’t see what you’re doing. It’s better to adjust
    layers in the Layers dialog whenever possible.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这个菜单和这些快捷键允许我们对图层堆栈进行重大修改，而无需查看它，这通常是不建议的。看不清自己在做什么时，犯错误的可能性更大。最好在图层对话框中调整图层，尽可能避免直接修改。
- en: If the current layer is a text layer, the Layer menu will also contain four
    text-specific entries, described in [15.8 The Text Tool](ch15s08.html "15.8 The
    Text Tool"). After that are the four menus discussed next.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果当前图层是文本图层，图层菜单还会包含四个专门针对文本的条目，详见[15.8 文本工具](ch15s08.html "15.8 文本工具")。接下来是接下来讨论的四个菜单。
- en: The Stack Menu
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图层堆栈菜单
- en: 'The Stack menu is shown in [Figure 11-15](ch11s04.html#stack_menu "Figure 11-15. The
    Stack menu"). Within it are four commands which are most useful when dealing with
    an image that has a lot of layers:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图层堆栈菜单如[图 11-15](ch11s04.html#stack_menu "图 11-15. 图层堆栈菜单")所示。菜单中有四个命令，在处理有很多图层的图像时特别有用：
- en: 'SELECT PREVIOUS LAYER (![](httpatomoreillycomsourcenostarchimages1455428.png.jpg))
    is equivalent to clicking in the previous layer in the Layers dialog, with one
    exception: If the current layer is within a layer group, this command does not
    extend to layers outside of the group.'
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择上一个图层 (![](httpatomoreillycomsourcenostarchimages1455428.png.jpg)) 相当于点击图层对话框中的上一个图层，唯一的例外是：如果当前图层位于图层组内，则此命令不适用于组外的图层。
- en: SELECT NEXT LAYER (![](httpatomoreillycomsourcenostarchimages1455430.png.jpg))
    selects the next layer, with the same exception as above.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择下一个图层 (![](httpatomoreillycomsourcenostarchimages1455430.png.jpg)) 选择下一个图层，与上述的例外相同。
- en: SELECT TOP LAYER (![](httpatomoreillycomsourcenostarchimages1455400.png.jpg))
    selects the topmost layer in the stack or the topmost layer in the group.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择顶部图层 (![](httpatomoreillycomsourcenostarchimages1455400.png.jpg)) 选择堆栈中的最上层图层或组中的最上层图层。
- en: SELECT BOTTOM LAYER (![](httpatomoreillycomsourcenostarchimages1455402.png.jpg))
    selects the bottom layer in the stack or the bottom layer in the group.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择底部图层 (![](httpatomoreillycomsourcenostarchimages1455402.png.jpg)) 选择堆栈中的最底层图层或组中的最底层图层。
- en: Note that the arrow keys on the keyboard can be used to select the previous
    or next layer, but only when the Layers dialog is active. See [Keyboard Shortcuts
    in the Layers Dialog](ch11s01.html#keyboard_shortcuts_in_the_layers_dialog "Keyboard
    Shortcuts in the Layers Dialog") for other keyboard shortcuts available in this
    dialog.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，键盘上的箭头键可以用来选择上一个或下一个图层，但仅在图层对话框处于激活状态时有效。有关此对话框中可用的其他键盘快捷键，请参见[图层对话框中的键盘快捷键](ch11s01.html#keyboard_shortcuts_in_the_layers_dialog
    "图层对话框中的键盘快捷键")。
- en: 'The next four commands move the current layer in the layer stack:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的四个命令用于移动当前图层在图层堆栈中的位置：
- en: RAISE LAYER moves the layer up in the stack. It cannot raise a layer outside
    of its current group. To move a layer out of its group, click and drag it.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提升图层将图层向上移动到堆栈中。它不能提升组外的图层。要将图层移出其组，点击并拖动它。
- en: LOWER LAYER moves the layer down in the stack.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 降低图层将图层向下移动到堆栈中。
- en: LAYER TO TOP moves the current layer to the top of the stack, or of its group
    if it belongs to a layer group.
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER TO TOP 将当前图层移至堆栈的最顶层，或如果它属于图层组，则移至图层组的最顶层。
- en: LAYER TO BOTTOM moves the layer to the bottom of the stack or group.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER TO BOTTOM 将图层移至堆栈或组的最底部。
- en: Finally, REVERSE LAYER ORDER can be called only from this menu. A layer group
    counts as a single layer, and there is no action to reverse the layer order within
    a layer group.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，REVERSE LAYER ORDER 只能从此菜单中调用。图层组视为一个单独的图层，且无法在图层组内反转图层顺序。
- en: The Mask, Transparency, and Transform Menus
  id: totrans-139
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遮罩、透明度和变换菜单
- en: 'The Mask menu deals with layer masks and is discussed in [14.2 Layer Masks](ch14s02.html
    "14.2 Layer Masks"). It offers slightly more options than are found in the **Layers:
    right-click > Layers** menu.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 遮罩菜单处理图层遮罩，详见[14.2 图层遮罩](ch14s02.html "14.2 图层遮罩")。它提供的选项稍多于**图层：右键 > 图层**菜单中的选项。
- en: 'The Transparency menu is discussed in [Transparency and the Alpha Channel](ch14s03.html#transparency_and_the_alpha_channel
    "Transparency and the Alpha Channel"). Only three of its entries also appear in
    the **Layers: right-click > Layers** menu.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 透明度菜单在[透明度与Alpha通道](ch14s03.html#transparency_and_the_alpha_channel "透明度与Alpha通道")中进行了讨论。它的三个条目也出现在**图层：右键
    > 图层**菜单中。
- en: Using the Transform menu is the easiest way to flip or rotate the current layer.
    You could also use the Flip tool (![](httpatomoreillycomsourcenostarchimages1455432.png.jpg))
    or Arbitrary Rotation, which is also accessed through the Rotate tool (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg)).
    See [Transforming a Layer](ch16s01.html#transforming_a_layer "Transforming a Layer")
    for more information on the Transform menu.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 使用变换菜单是翻转或旋转当前图层的最简单方法。你也可以使用翻转工具 (![](httpatomoreillycomsourcenostarchimages1455432.png.jpg))
    或任意旋转，这也可以通过旋转工具访问 (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg))。有关变换菜单的更多信息，请参见[变换图层](ch16s01.html#transforming_a_layer
    "变换图层")。
- en: '![The Set Layer Boundary Size dialog](httpatomoreillycomsourcenostarchimages1455434.png.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![设置图层边界大小对话框](httpatomoreillycomsourcenostarchimages1455434.png.jpg)'
- en: Figure 11-16. The Set Layer Boundary Size dialog
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 图 11-16。设置图层边界大小对话框
- en: The Final Five Entries
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 最后五个条目
- en: 'The remaining five entries in the Image: Layer menu provide the only access
    to their respective operations:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图像：图层菜单中的其余五个条目提供了唯一的访问其各自操作的方式：
- en: 'LAYER BOUNDARY SIZE opens the dialog shown in [Figure 11-16](ch11s04.html#set_layer_boundary_size_dialog
    "Figure 11-16. The Set Layer Boundary Size dialog"), which is very similar to
    the dialog of **Image: Image > Canvas Size**, described in [Resizing an Image](ch16s01.html#resizing_an_image-id00142
    "Resizing an Image"). You can choose the exact dimensions of the layer, and the
    position of its contents within the new dimensions. Adjust the position by setting
    the *X* and *Y* fields, by dragging the layer preview in its window, or by using
    the CENTER button. If you reduce the size of the layer, the clipped contents are
    deleted, but if you enlarge the layer beyond the border of the image, the contents
    outside of the image border are retained, though invisible. This tool also works
    with a layer group.'
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER BOUNDARY SIZE 打开如[图 11-16](ch11s04.html#set_layer_boundary_size_dialog
    "图 11-16. 设置图层边界大小对话框")所示的对话框，该对话框与**图像：图像 > 画布大小**的对话框非常相似，后者在[调整图像大小](ch16s01.html#resizing_an_image-id00142
    "调整图像大小")中有描述。您可以选择图层的确切尺寸，以及其内容在新尺寸内的位置。通过设置*X*和*Y*字段，拖动窗口中的图层预览，或使用CENTER按钮来调整位置。如果您缩小图层的大小，被剪裁的内容会被删除，但如果将图层扩大到超出图像边界，图像边界之外的内容会被保留，尽管它不可见。此工具也适用于图层组。
- en: LAYER TO IMAGE SIZE sets the layer to the image size, without a dialog and without
    moving the layer contents. Any part of the layer that’s beyond the canvas limits
    is deleted. This tool also works with layer groups.
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER TO IMAGE SIZE 将图层设置为图像大小，不会弹出对话框，也不会移动图层内容。任何超出画布范围的图层部分都会被删除。此工具也适用于图层组。
- en: 'SCALE LAYER opens the dialog shown in [Figure 11-17](ch11s04.html#scale_layer_dialog-id00090
    "Figure 11-17. The Scale Layer dialog"), which is the same as the **Image: Image
    > Scale Image** dialog, described in [10.1 Rulers and Units](ch10s01.html "10.1
    Rulers and Units") and in [Resizing an Image](ch16s01.html#resizing_an_image-id00142
    "Resizing an Image"). The only difference is that you cannot change the layer
    resolution, which is fixed by the image resolution. This tool also works with
    layer groups.'
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SCALE LAYER 打开如[图 11-17](ch11s04.html#scale_layer_dialog-id00090 "图 11-17. 缩放图层对话框")所示的对话框，该对话框与**图像：图像
    > 缩放图像**对话框相同，后者在[10.1 尺寸标尺和单位](ch10s01.html "10.1 尺寸标尺和单位")和[调整图像大小](ch16s01.html#resizing_an_image-id00142
    "调整图像大小")中有描述。唯一的区别是您不能更改图层的分辨率，因为图层分辨率由图像分辨率固定。此工具也适用于图层组。
- en: '![The Scale Layer dialog](httpatomoreillycomsourcenostarchimages1455436.png.jpg)'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![缩放图层对话框](httpatomoreillycomsourcenostarchimages1455436.png.jpg)'
- en: Figure 11-17. The Scale Layer dialog
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-17. 缩放图层对话框
- en: '![Autocropping a layer group](httpatomoreillycomsourcenostarchimages1455438.png.jpg)'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![自动裁剪图层组](httpatomoreillycomsourcenostarchimages1455438.png.jpg)'
- en: Figure 11-18. Autocropping a layer group
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 11-18. 自动裁剪图层组
- en: CROP TO SELECTION is active only if there is a current selection. The layer
    dimensions are set to the smallest rectangle that includes the selection.
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CROP TO SELECTION 仅在当前有选择区域时才会启用。图层的尺寸将设置为包含选择区域的最小矩形。
- en: 'AUTOCROP LAYER crops the layer to the smallest rectangle that contains data
    of a color different from that of the layer border. It’s similar to **Image: Image
    > Autocrop Image**, described in [Cropping an Image](ch16s01.html#cropping_an_image-id00145
    "Cropping an Image"). This tool also works with layer groups, as demonstrated
    in [Figure 11-18](ch11s04.html#autocropping_a_layer_group "Figure 11-18. Autocropping
    a layer group"), where the current layer is the entire `Mushroom caps` layer group.'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: AUTOCROP LAYER 将图层裁剪到包含与图层边框颜色不同的颜色数据的最小矩形。这类似于**图像：图像 > 自动裁剪图像**，在[裁剪图像](ch16s01.html#cropping_an_image-id00145
    "裁剪图像")中有描述。此工具也适用于图层组，如[图 11-18](ch11s04.html#autocropping_a_layer_group "图 11-18.
    自动裁剪图层组")所示，其中当前图层是整个`蘑菇帽`图层组。
