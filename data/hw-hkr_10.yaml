- en: '7. novena: building my own laptop'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 7. Novena：打造我自己的笔记本电脑
- en: 'It was 2012, and I was unemployed. My previous startup had failed, and I was
    taking a year off to figure out what I should do next. My friend xobs (introduced
    in [Chapter 4](ch04.xhtml#ch04)) and I had a tradition that we maintain to this
    day: every Friday, we sit down for a few beers at lunch and shoot the breeze.
    During one of those “Beer Friday” discussions, we decided to build our own laptop.
    I expressed displeasure with how I’d never been employed to build a product that
    I’d actually want to use every day. As a design engineer, you’re typically driven
    by market requirements, not your own eclectic tastes. We bantered a bit about
    things we’d find useful and realized that, thanks to the gradual slowing of Moore’s
    law, maybe it wasn’t so crazy for us to build an open laptop with some wacky features
    just for hackers. From there, we started a hobby project to build a computer just
    for ourselves, something we’d use every day that would be easy to extend and mod—our
    very own electronic Swiss Army knife. We gave the project the code name Novena,
    the name of a Singaporean metro station and Latin for “nine.”'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 那是2012年，我失业了。我的上一家创业公司失败了，我正在休息一年，思考接下来应该做什么。我的朋友xobs（在[第4章](ch04.xhtml#ch04)介绍过）和我有一个至今保持的传统：每周五，我们会在午餐时喝几杯啤酒，闲聊一番。在一次“啤酒星期五”的讨论中，我们决定打造属于自己的笔记本电脑。我表达了对自己从未被雇佣去做一个我真正想要每天使用的产品的失望。作为一名设计工程师，你通常是由市场需求驱动的，而不是自己的独特口味。我们开玩笑地谈论了我们会觉得有用的东西，并意识到，由于摩尔定律的逐渐放缓，或许我们并非那么疯狂，能为黑客们打造一款带有一些奇特功能的开放笔记本电脑。于是，我们开始了一个业余项目，打造一台只为我们自己设计的电脑，能够每天使用，且易于扩展和修改——我们自己的电子瑞士军刀。我们给这个项目起了一个代号：Novena，这个名字来源于新加坡的一个地铁站，同时在拉丁语中意为“九”。
- en: '![image](../images/f0216-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0216-01.jpg)'
- en: '*The second-generation Novena design that went up on Crowd Supply*'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*在Crowd Supply上线的第二代Novena设计*'
- en: 'The finished Novena was a 1.2GHz, Freescale (now NXP) i.MX6 quad-core ARM architecture
    computer closely coupled with a Xilinx FPGA. It was designed for users who wanted
    to modify and extend their hardware: all the documentation and PCBs were and still
    are open and free to download,[*](footnote.xhtml#fn22) and we gave it a variety
    of features that facilitated rapid prototyping.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后的Novena是一台1.2GHz、Freescale（现为NXP）i.MX6四核ARM架构的计算机，紧密集成了Xilinx FPGA。它是为那些希望修改和扩展硬件的用户设计的：所有文档和PCB都可以公开免费下载[*](footnote.xhtml#fn22)，我们还为它提供了多种促进快速原型制作的功能。
- en: '**NOT A LAPTOP FOR THE FAINT OF HEART**'
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**不是心脏脆弱者的笔记本**'
- en: As I talked to more people about Novena, however, I realized that others were
    interested in owning a laptop like that but perhaps didn’t want (or didn’t know
    how) to make their own circuit boards. In response to the overwhelmingly positive
    feedback we received to a blog post on the topic, xobs and I launched a campaign
    on Crowd Supply in 2014, once the design was stable and tested. Over 1,000 people
    pledged their support; I am happy to report that we fulfilled every single campaign
    pledge, most of them within a few months of the promised date. After the campaign’s
    close, we decided it would spread our limited resources too thin to maintain the
    supply chain for the full laptop configuration, but we would sell and support
    the Novena motherboard hardware for at least five years from the launch of the
    campaign.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，当我与更多人谈论Novena时，我意识到其他人也对拥有这样的笔记本感兴趣，但或许他们不想（或者不知道如何）制作自己的电路板。为了回应我们收到的关于这一主题博客文章的极大积极反馈，xobs和我在2014年发起了一个Crowd
    Supply活动，在设计稳定并经过测试后上线。超过1000人支持了这个项目；我很高兴地报告，我们完成了每一项承诺，大多数都在承诺日期的几个月内兑现。活动结束后，我们决定维持完整笔记本配置的供应链将使我们有限的资源过于分散，但我们会在活动启动后的至少五年内销售并支持Novena主板硬件。
- en: To be clear, Novena is not a machine for the faint of heart. It’s an open source
    project, which means part of the joy (and frustration) of the device is that it
    is continuously improving. It’s perhaps the only laptop that’s ever shipped with
    a screwdriver. Anyone who bought one of the original designs had to install the
    battery and screw on the LCD bezel of their choice—green or blue. The speakers
    came as a kit so users wouldn’t have to use our speaker box design. If someone
    had access to a 3D printer, they could make and fine-tune their own speaker box.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 需要说明的是，Novena 不是一个适合胆小者使用的机器。它是一个开源项目，这意味着这台设备的乐趣（以及挫折感）在于它在不断改进。它也许是唯一一款出厂时带有螺丝刀的笔记本电脑。购买了原始设计版本的用户必须自己安装电池并选择绿色或蓝色的
    LCD 边框。扬声器是以套件形式提供的，用户不必使用我们设计的扬声器盒。如果有人有 3D 打印机的使用权限，他们可以制作并微调自己的扬声器盒。
- en: 'Despite all of those DIY options, I wasn’t looking to break any low-price records
    with Novena. It was designed as a low-volume, handcrafted laptop made with uniquely
    open source components, and the cost matched the design. We offered three tiers:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有这些 DIY 选项，我并没有打算用 Novena 打破任何低价记录。它是作为一款低产量、手工制作的笔记本电脑，使用独特的开源组件设计的，成本与设计相匹配。我们提供了三个版本：
- en: • An “all-in-one desktop” option for $1,195 that was ready to use with a keyboard
    and mouse out of the gate, but needed to be plugged in
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个“一体式桌面”版本，售价 1195 美元，开箱即用，配有键盘和鼠标，但需要插电使用
- en: • A “laptop” option for $1,995 that included a battery controller board, for
    hackers on the go
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个“笔记本电脑”版本，售价 1995 美元，包含电池控制板，适合外出黑客使用
- en: • An “heirloom laptop” tier for $5,000 that came in a gorgeous, handcrafted
    wood-and-aluminum case
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个“传家宝笔记本电脑”版本，售价 5000 美元，配有精美的手工木铝外壳
- en: In [Chapter 6](ch06.xhtml#ch06), I said that as Moore’s law slows down, I predict
    parents passing down computers to their children. The Heirloom Novena is meant
    to be treated that way, though it has the same hardware on the inside as the other
    two options.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第六章](ch06.xhtml#ch06)中，我提到随着摩尔定律的放缓，我预测父母将把计算机传给他们的孩子。Heirloom Novena 就是按这种方式设计的，尽管它与其他两种选项有相同的内部硬件。
- en: But those prices weren’t so different from the prices of high-end consumer laptops.
    The biggest challenge was figuring out how to offer something so custom and complex
    at that price point, in low volumes. We weren’t looking to recover the research
    and development cost in the campaign; that’s a sunk cost, as anyone is free to
    download the source and benefit from our thoroughly vetted design today. Our minimum
    funding goal of $250,000 was a tiny fraction of what’s typically required to recover
    the million-dollar-plus investment behind the development and manufacture of a
    conventional laptop; xobs and I met this challenge with a combination of know-how,
    unique design, and strong relationships with our supply chain.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 但这些价格与高端消费类笔记本电脑的价格并没有太大差异。最大的挑战是如何在低量生产的情况下，以这个价格提供如此定制且复杂的产品。我们并不是希望在筹款活动中回收研发成本；那是一个沉没成本，因为任何人都可以自由下载源代码并从我们经过彻底审核的设计中受益。我们的最低筹款目标是
    25 万美元，仅为传统笔记本电脑开发和制造所需百万美元投资的一小部分；我和 xobs 通过技术专长、独特的设计和与供应链的强大关系迎接了这一挑战。
- en: '**DESIGNING THE EARLY NOVENA**'
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**设计早期的 NOVENA**'
- en: We optimized the Novena’s design to reduce the amount of expensive tooling required,
    while still preserving our primary goal of it being easy to hack and modify. We
    spent a year and a half poring over three revisions of the PCBA until we were
    confident that the complex design would be functional and producible. We also
    optimized certain tricky components, such as the LCD and the internal display
    port adapter, for reliable sourcing at low volumes. Finally, I spent a few months
    traveling the world, lining up a supply chain that could deliver this design (even
    in low volume) at a price comparable to other premium laptops.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 我们优化了 Novena 的设计，减少了所需昂贵工具的数量，同时仍然保持它易于破解和修改的主要目标。我们花了一年半的时间，仔细研究了三次 PCBA 修订版，直到我们确信这个复杂的设计既能正常运作，又能实现生产。我们还优化了某些棘手的组件，例如
    LCD 和内部显示端口适配器，以确保在低量生产时能够可靠地采购。最后，我花了几个月的时间周游世界，建立了一条能够提供此设计（即使在低量生产下）并且价格与其他高端笔记本电脑相当的供应链。
- en: Of course, all the design documentation is open, so with sufficient skill and
    resources, you could build a Novena from scratch yourself. I chose the hardware
    and its subcomponents to make this the most practically open hardware laptop I
    could with state-of-the-art technology. You can download, without NDA, the datasheets
    for all the components, and key peripheral options were chosen such that you can
    build a complete firmware from source with no opaque blobs.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，所有的设计文档都是开放的，因此，凭借足够的技能和资源，你可以从零开始自己构建一台Novena。我选择了这些硬件及其子组件，使其成为我能够实现的最具实用性的开放硬件笔记本，采用了最先进的技术。你可以下载所有组件的datasheets，无需签署保密协议，并且关键外围选项的选择使得你可以从源代码构建完整的固件，而不需要使用任何封闭源代码模块。
- en: '**Under the Hood**'
  id: totrans-17
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**引擎盖下的内容**'
- en: This board’s dimensions are approximately 121 mm × 150 mm; it’s sized to fit
    comfortably underneath a standard-sized laptop keyboard (though the image is rotated
    compared to the installation orientation). As you can see in the full laptop photos
    earlier in the chapter, the port farm is on the right side of the laptop, not
    the bottom. The board is just under 14 mm thick, a height set by the thickness
    of an Ethernet connector. The base portion of my Lenovo T520 is just under 24
    mm thick, and once a keyboard and plastics are stacked on this board, the base
    of the Novena comes to just about the same thickness.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这块主板的尺寸大约为121毫米 × 150毫米；它的大小适合标准尺寸的笔记本键盘下方（尽管图像与安装方向相比有所旋转）。正如本章前面展示的完整笔记本照片所示，端口群位于笔记本的右侧，而不是底部。主板厚度稍低于14毫米，这个高度由以太网连接器的厚度决定。我的联想T520的底部厚度稍低于24毫米，当键盘和塑料部件堆叠在这块主板上时，Novena的底部厚度大致相同。
- en: '![image](../images/f0220-01.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0220-01.jpg)'
- en: '*The earliest Novena motherboard*'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '*最早的Novena主板*'
- en: Now let’s look at some of the motherboard’s features.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下这块主板的一些特点。
- en: PRELIMINARY FEATURES
  id: totrans-22
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 初步特点
- en: The first iteration of the Novena motherboard used a Freescale iMX6 CPU, which
    has an NDA-free datasheet and programming manual. In the lists that follow, items
    marked with a double asterisk (**) require a closed-source firmware blob, but
    the system is bootable and usable without the blob.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Novena主板的第一次迭代使用了Freescale iMX6 CPU，它拥有无需保密协议的 datasheet 和编程手册。在接下来的列表中，带有双星号（**）的项目需要一个封闭源代码的固件模块，但系统可以在没有该模块的情况下启动并使用。
- en: 'The CPU footprint we used could support the following quad- and dual-lite versions
    of the iMX6:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使用的CPU封装支持以下四核和双核版本的iMX6：
- en: • Quad-core Cortex A9 CPU with NEON FPU @ 1.2 GHz
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: • 四核Cortex A9 CPU，配备NEON FPU，主频为1.2 GHz
- en: • Vivante GC2000 OpenGL ES2.0 GPU, 200Mtri/s, 1Gpix/s**
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: • Vivante GC2000 OpenGL ES2.0 GPU，200Mtri/s，1Gpix/s**
- en: This version of Novena booted from microSD firmware. In terms of other internal
    memory, it had a 64-bit, DDR3-1066 SO-DIMM, which could be upgraded to 4GB, and
    a SATA-II (3Gbps) hard drive.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这个版本的Novena从microSD固件启动。至于其他内部存储，它配备了一块64位的DDR3-1066 SO-DIMM，可以升级到4GB，另外还配有一个SATA-II（3Gbps）硬盘。
- en: 'Novena was full of internal ports and sensors from the start, too. These are
    the highlights:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: Novena从一开始就配备了丰富的内部端口和传感器。这些是亮点：
- en: • A Mini PCI-express (mPCIe) slot, for blob-free Wi-Fi, Bluetooth, mobile data,
    and so on
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个Mini PCI-express（mPCIe）插槽，用于无固件模块的Wi-Fi、蓝牙、移动数据等
- en: • A UIM slot, for mPCIe mobile data cards
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个UIM插槽，用于mPCIe移动数据卡
- en: • A dual-channel LVDS LCD connector with up to QXGA resolution (2,048 × 1,536
    px) at 60 Hz and a USB 2.0 side channel for a display-side camera
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个双通道LVDS LCD连接器，支持高达QXGA分辨率（2,048 × 1,536像素）并支持60Hz刷新率，同时还配有USB 2.0侧通道，用于显示器侧摄像头
- en: • A resistive touchscreen controller (capacitive touch displays, on the other
    hand, typically come with an integrated controller)
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个电阻式触摸屏控制器（而电容式触摸显示器通常配有集成控制器）
- en: • 1.1 W, 8-ohm internal speaker connectors
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: • 1.1瓦，8欧姆内部扬声器连接器
- en: • Two USB2.0 internal connectors, for a keyboard and mouse or trackpad
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: • 两个USB2.0内部连接器，用于连接键盘和鼠标或触控板
- en: • A digital microphone
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个数字麦克风
- en: • A three-axis accelerometer
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: • 三轴加速度计
- en: • A header for an optional AW-NU137 Wi-Fi module**
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个可选的AW-NU137 Wi-Fi模块的连接头**
- en: 'We made the following ports externally accessible:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们使以下端口可以外部访问：
- en: • HDMI
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: • HDMI
- en: • The SD card reader
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: • SD卡读卡器
- en: • The headphone and microphone jacks (compatible with most mobile phone headsets,
    these also supported sensing inline cable buttons)
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: • 耳机和麦克风插孔（兼容大多数手机耳机，这些插孔还支持感应内嵌电缆按钮）
- en: • Two USB 2.0 ports, supporting high-current (1.5A) device charging
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: • 两个USB 2.0端口，支持高电流（1.5A）设备充电
- en: • A 1Gb Ethernet port
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个1Gb以太网端口
- en: 'And, of course, since xobs and I were making the Novena for ourselves, we included
    a bunch of other “fun” features that we knew would be great for hackers:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，由于xobs和我是在为自己制作Novena，我们加入了许多其他“有趣”的功能，我们知道这些对于黑客来说会非常有用：
- en: • 100Mb Ethernet (dual Ethernet capability allows Novena to be used as an inline
    packet filter or router)
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: • 100Mb以太网（双以太网功能使得Novena可以作为内联数据包过滤器或路由器使用）
- en: • USB On-the-Go (enables the Novena to spoof or fuzz Ethernet, serial, and other
    connections over USB via a gadget interface to other USB hosts)
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: • USB On-the-Go（使得Novena可以通过USB与其他USB主机的设备接口模拟或干扰以太网、串口及其他连接）
- en: • A utility serial EEPROM, for storing crash logs and other bits of handy data
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个实用的串行EEPROM，用于存储崩溃日志和其他有用的数据
- en: • A Spartan-6 CSG324-packaged FPGA with several interfaces to the CPU, including
    a 2Gbps (peak) RAM-like bus—for bitcoin mining, or whatever else you might want
    to toss in an FPGA
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个Spartan-6 CSG324封装的FPGA，具有多个与CPU连接的接口，包括一个2Gbps（峰值）类RAM总线——用于比特币挖矿，或者你可能想要放入FPGA的其他应用
- en: • Eight FPGA-driven 12-bit, 200ksps analog inputs
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: • 八个由FPGA驱动的12位、200ksps模拟输入
- en: • Eight FPGA-driven digital I/O pins
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: • 八个由FPGA驱动的数字I/O引脚
- en: • Eight FPGA-driven PWM headers, compatible with hobby ESC and PWM pinouts (enables
    direct interfacing with various RC motor/servo configurations and quad-copter
    controllers)
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: • 八个由FPGA驱动的PWM头，与爱好者的ESC和PWM引脚兼容（使得与各种RC电机/舵机配置以及四旋翼控制器的直接连接成为可能）
- en: • Raspberry Pi–compatible expansion header
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: • 兼容树莓派的扩展头
- en: • Thirteen CPU-driven supplemental digital I/Os
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: • 十三个由CPU驱动的辅助数字I/O
- en: • Three internal UART ports
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: • 三个内部UART端口
- en: We tweaked those specs going into production, making the most drastic changes
    around the FPGA expansion connectors. Instead of a cluster of motion-control-focused
    headers, we opted to install a header capable of high data rates, which xobs and
    I used to great effect in future projects involving the Novena.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在进入生产阶段时，我们对这些规格进行了调整，最大的变化发生在FPGA扩展连接器上。我们没有选择一组以运动控制为重点的连接头，而是选择了一个能够支持高速数据传输的连接头，xobs和我在未来的Novena相关项目中将其充分利用。
- en: THE BATTERY BOARD
  id: totrans-56
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 电池板
- en: To give maximum power management flexibility, I implemented the battery interface
    functions on a daughtercard. I co-opted a cheap and common SATA-style connector
    to route power and control signals between the mainboard and the daughtercard.
    To prevent users from accidentally plugging a hard drive into the battery port,
    I inverted the gender of the battery-SATA connector from the actual mass-storage
    SATA-II connector.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提供最大限度的电源管理灵活性，我将电池接口功能实现到了一块子卡上。我采用了一个便宜且常见的SATA样式连接器，将电源和控制信号从主板传输到子卡。为了防止用户将硬盘意外插入电池端口，我将电池-SATA连接器的插头与实际的SATA-II大容量存储连接器性别进行了反转。
- en: 'The battery card in the first Novena board was meant to work with the battery
    packs used by most RC enthusiasts: LiPo packs ranging from 2S1P to 4S1P (that
    is, two-cell to four-cell). RC packs are great because they’re designed for super-fast
    charging and they’re cheap and easy to buy. For the board-side battery plug, I
    decided to use the Molex connector found on classic disk drives, since they are
    cheap, common, and easy to assemble with simple tools. I couldn’t use a standard
    RC connector because the vast majority of them are designed for inline use, and
    the few that have board mounts were too thick or too weird for this application.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 第一版Novena主板上的电池卡是为了与大多数RC爱好者使用的电池包兼容的：从2S1P到4S1P的LiPo电池包（即，从两节到四节电池）。RC电池包非常适合，因为它们设计用于超快速充电，且价格便宜、易于购买。对于主板端的电池插口，我决定使用经典硬盘驱动器上的Molex连接器，因为它们便宜、常见且易于用简单工具组装。我不能使用标准的RC连接器，因为绝大多数RC连接器设计用于内联使用，而为数不多的具有板载安装功能的连接器要么太厚，要么不适合这个应用。
- en: '![image](../images/f0223-01.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0223-01.jpg)'
- en: '*The preliminary Novena battery board*'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*初步的Novena电池板*'
- en: The battery board could charge batteries at rates in excess of 4A; for example,
    charging a three-cell, 45 Wh (4 Ah) battery took about one hour. If typical power
    consumption were around 5 to 6 W per hour, that would be seven or eight hours
    of runtime with a one-hour charge time. Of course, since the whole laptop was
    user-configurable, typical power consumption was really hard to estimate. If a
    user dropped in a monster LCD and a power-hungry magnetic hard drive with loads
    of peripherals, the power consumption would be much higher.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 电池板可以以超过 4A 的速率为电池充电；例如，给一个三节 45 Wh（4 Ah）的电池充电大约需要一个小时。如果典型的功耗约为每小时 5 到 6 W，那么充电一个小时后，运行时间大约为七到八小时。当然，由于整台笔记本电脑都可以由用户自定义，典型的功耗很难估计。如果用户安装了一个巨大的
    LCD 屏幕和一个功耗很大的磁性硬盘，以及大量外设，功耗会更高。
- en: xobs suggested another cute power-related feature that made it into the design.
    He thought it would be neat to embed a retro analog needle meter into the palm
    rest of the laptop to display power consumption in real time. I thought it was
    a great idea, so I designed that into the circuit board. Of course, the analog
    meter is driven by a DAC on the battery microcontroller, so it could be configured
    to perform a multitude of useful (or not so useful) analog readouts, such as remaining
    runtime, battery voltage, temperature, the time (represented as an analog value),
    and so on.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: xobs 提出了另一个很有意思的与电源相关的功能，并成功地将其融入了设计中。他认为如果在笔记本电脑的掌托部分嵌入一个复古的模拟指针表，用来实时显示功耗，会非常酷。我觉得这是个好主意，于是我把这个设计加到了电路板中。当然，模拟表是由电池微控制器上的
    DAC 驱动的，因此可以配置为执行多种有用（或不那么有用）的模拟读数，例如剩余运行时间、电池电压、温度、时间（以模拟值表示）等。
- en: After spending a couple of months validating all the features (it was a long
    list of features to grind through), we ported drivers and a Linux distro to the
    board. That was no small task either, but thankfully, I had xobs’s skillful help,
    and we got the job done.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在花了几个月的时间验证所有功能（那是一长串需要一一验证的功能）之后，我们将驱动程序和 Linux 发行版移植到了这块主板上。这也不是一项小任务，但幸运的是，我得到了
    xobs 的高超帮助，我们顺利完成了这项工作。
- en: '**The Enclosure**'
  id: totrans-64
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**外壳**'
- en: From there, I was really looking forward to designing the enclosure. For the
    first revision, I thought about making something out of laser-cut acrylic that
    would be vaguely tablet-like, to avoid having to mess around with a friction clutch
    on the first go at a case. I ended up hand-building our first prototype cases
    from aluminum and leather, to validate the laptop use case for Novena. That design
    was rough; as Cory Doctorow put it on *Boing Boing*, it was “gloriously fuggly.”[*](footnote.xhtml#fn23)
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 从那时起，我真的很期待设计外壳。对于第一个版本，我考虑制作一个激光切割的亚克力外壳，外形有点像平板电脑，这样可以避免第一次制作机壳时需要处理摩擦离合器问题。最终，我手工制作了我们的第一个原型机壳，由铝和皮革构成，用于验证
    Novena 的笔记本电脑使用场景。那个设计很粗糙；正如 Cory Doctorow 在 *Boing Boing* 上所说的，它是“光辉而丑陋的”。[*](footnote.xhtml#fn23)
- en: '![image](../images/f0225-01.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0225-01.jpg)'
- en: '*I love that my laptop smells of leather when it runs!*'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '*我喜欢我的笔记本电脑在运行时散发出皮革的气味！*'
- en: 'The second-generation Novena case I showed earlier is sleeker. The first thing
    you probably noticed about the design is that it opens the “wrong” way. This feature
    allows the Novena to be used as a wall-hanging unit when the screen is closed.
    It also solves a major problem I had with the original clamshell prototype: it
    was a real pain to access the hardware for hacking, as it was blocked by the keyboard
    mounting plate.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 我之前展示的第二代 Novena 机壳更加简洁。你可能首先注意到的设计特点是，它的开口方向“错了”。这个设计特点使得 Novena 在屏幕关闭时可以作为壁挂单元使用。它还解决了我在原始翻盖原型机中遇到的一个主要问题：由于键盘安装板的阻挡，要访问硬件进行黑客攻击非常麻烦。
- en: In the version we sold on Crowd Supply, the screen automatically pops open with
    the slide of a latch, thanks to an internal gas spring. (Novena isn’t just an
    open laptop—it’s a self-opening laptop!) We intentionally left the internals naked
    in this mode for easy access, but bare internals also make clear that Novena isn’t
    for casual home users.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们通过 Crowd Supply 销售的版本中，屏幕会随着闩锁滑动自动弹开，得益于内部的气弹簧。（Novena 不仅仅是一台开放的笔记本电脑——它是一台自开屏幕的笔记本电脑！）我们故意在这种模式下让内部组件裸露，以便轻松访问，但裸露的内部也清楚地表明，Novena
    并不适合普通的家庭用户。
- en: We included an array of mounting bosses—which we called a *Peek array*—as well,
    to facilitate hackability. Normally, laptops have mounting points only for the
    handful of features designed into their original blueprints. But a hackable laptop
    must accommodate a huge space of possible peripherals. Instead of requiring users
    to drill holes or glue things down in their laptop cases, we provided a regular
    array of threaded inserts. It was a bit like a breadboard, but for rapid mechanical
    prototyping. To help define the array, I consulted with Nadya Peek, a graduate
    student at MIT’s Center for Bits and Atoms and an expert in digital fabrication—hence
    the name *Peek array*.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还包括了一组安装支撑——我们称之为*Peek阵列*——以方便黑客使用。通常，笔记本只有为原始设计图中的少数几个功能设计的安装点。但一台可黑客化的笔记本必须容纳大量可能的外设。我们没有要求用户在笔记本外壳上钻孔或粘合物品，而是提供了一个常规的螺纹插口阵列。这有点像面包板，但用于快速的机械原型设计。为了定义这个阵列，我向MIT比特与原子中心的研究生Nadya
    Peek请教，她是一位数字制造专家——因此这个阵列被命名为*Peek阵列*。
- en: Another feature of the second-generation design is that the LCD bezel is made
    of a single, simple aluminum sheet. This allows anyone with access to a minimal
    machine shop to modify or craft their own bezels; no custom tooling required.
    My hope with that design was to make adding knobs and connectors or changing the
    LCD relatively easy for Novena hackers. To encourage users to experiment, we shipped
    desktop and laptop Novenas with two LCD bezels so no one had to worry about having
    an unusable machine if they messed one up while experimenting.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 第二代设计的另一个特点是，LCD边框由一整块简单的铝合金板制成。这样，任何能进入一个基本机器加工车间的人都可以修改或制作自己的边框；无需定制工具。我设计这一点的初衷是让Novena的黑客们可以更轻松地添加旋钮和连接器，或者更改LCD。为了鼓励用户进行实验，我们将桌面和笔记本型的Novena都配备了两个LCD边框，这样如果用户在实验过程中损坏其中一个，便不用担心机器无法使用。
- en: 'Most laptops have a keyboard and mouse attached to the enclosure, but the Novena
    has a detached keyboard and track-point because that feature was attractive to
    me personally. I’d always wanted a display I could “hang” on the seat in front
    of mine when sitting in an airplane or a bus: it’s a lot easier on the neck, and
    the arrangement actually works *better* if the person in front reclines their
    seat.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数笔记本都有与外壳连接的键盘和鼠标，但Novena则配备了独立的键盘和轨迹点，因为这个特性对我个人来说非常吸引。我一直想要一个可以在飞机或公交车上“挂”在前排座位上的显示器：这样对脖子来说轻松得多，而且如果前排座位的人把座椅后仰时，这种布局反而*更好*。
- en: While I was still considering whether to do a clamshell design or some other
    funky design for the exterior, I also thought about trying an enclosure made of
    wood and brass. After all, the whole idea of making my own laptop was to play
    around with some new ideas! As mentioned earlier, we actually did wind up doing
    a limited run of a wooden-cased Novena that we dubbed the *heirloom laptop*.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当我还在考虑是做一个贝壳设计还是其他一些有趣的外观设计时，我也想过尝试使用木材和黄铜制作外壳。毕竟，制作自己的笔记本电脑的初衷就是为了尝试一些新奇的想法！如前所述，我们实际上确实推出了一款限量版的木质外壳Novena，我们称之为*传家宝笔记本*。
- en: '![image](../images/f0227-01.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0227-01.jpg)'
- en: '*The Heirloom Novena laptop*'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '*传家宝Novena笔记本*'
- en: '**THE HEIRLOOM LAPTOP’S CUSTOM WOOD COMPOSITE**'
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**传家宝笔记本的定制木材复合材料**'
- en: When mainline Novena production was finally humming along in April 2015, I spent
    a week in Portland, Oregon, working alongside Kurt Mottweiler (a designer and
    woodworker who specializes in making cameras with wooden enclosures) to hammer
    out all of the final open issues on the Heirloom devices. xobs and I are certainly
    proud of how the Heirloom Novenas turned out!
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 当Novena的主流生产终于在2015年4月开始顺利推进时，我在俄勒冈州波特兰花了一周时间，与Kurt Mottweiler（专门制作木质外壳相机的设计师和木工）一起工作，解决传家宝设备的所有最终未决问题。我和xobs对传家宝Novena的成果感到非常自豪！
- en: '![image](../images/f0228-01.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0228-01.jpg)'
- en: '*Working with Kurt on the Heirloom laptop*'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '*与Kurt一起工作，打造传家宝笔记本*'
- en: '**Growing Novenas**'
  id: totrans-80
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**成长中的Novena**'
- en: In a literal sense, the Heirloom Novenas were “grown.” Wooden enclosures meant
    important structural elements came from trees. Making every laptop identical would
    have been easy, but we felt it would be much more apropos of a bespoke product
    to make each laptop unique by picking the finest woods and matching their finish
    and color in a tasteful fashion. As a result, no two Heirloom laptops look the
    same; each is uniquely beautiful.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 从字面意义上讲，Heirloom Novenas是“生长出来的”。木质外壳意味着重要的结构元素来自树木。制造每台笔记本完全相同是很容易的，但我们认为，为了体现定制产品的意义，更合适的做法是通过挑选最优质的木材，匹配它们的表面处理和颜色，以一种品味十足的方式使每台笔记本都独一无二。因此，所有Heirloom笔记本看起来都不相同；每一台都独具美感。
- en: '![image](../images/f0228-02.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0228-02.jpg)'
- en: '*Some handpicked wood, waiting to become a Novena case*'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '*一些精心挑选的木材，等待成为Novena外壳*'
- en: A lot of science and engineering went into the Heirloom laptops, too. For starters,
    Kurt created a unique composite material by layering cork, fiberglass, and wood.
    To help characterize the novel composite, we took some material samples to the
    Center for Bits and Atoms, where Nadya Peek and Will Langford characterized the
    performance of the material. We took sections of the wood composite and performed
    a three-point bend test using an Instron 4411 electromechanical material testing
    machine.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: Heirloom笔记本中也投入了大量的科学与工程技术。首先，Kurt通过将软木、玻璃纤维和木材分层，创造了一种独特的复合材料。为了帮助表征这种新型复合材料，我们将一些材料样本送到比特与原子中心，在那里，纳迪亚·皮克和威尔·兰福德对材料的性能进行了表征。我们取了一些木质复合材料的样本，使用Instron
    4411电子机械材料测试机进行三点弯曲测试。
- en: '![image](../images/f0229-01.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0229-01.jpg)'
- en: '*Heirloom composite material loaded into the testing machine*'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '*Heirloom复合材料加载到测试机中*'
- en: '**The Mechanical Engineering Details**'
  id: totrans-87
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**机械工程细节**'
- en: From the test data, we were able to extract the flexural modulus (also called
    Young’s modulus) and flexural strength of the material. I’m not a mechanical engineer
    by training, so terms like *modulus* and *specific strength* kind of go over my
    head. But Nadya was kind enough to lend me some insight. She pointed me at the
    Ashby chart, which, as with some xkcd comic panels, I could stare at for an hour
    and still not absorb all the information contained within.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 从测试数据中，我们能够提取出材料的弯曲模量（也叫做杨氏模量）和弯曲强度。我不是机械工程师，所以像*模量*和*比强度*这样的术语我有点不太理解。但纳迪亚非常友好地为我提供了一些见解。她指给我看了阿什比图表，正如一些xkcd漫画面板一样，我可以盯着看一个小时，却依然无法完全吸收其中的信息。
- en: '![image](../images/f0230-01.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0230-01.jpg)'
- en: '*The Ashby chart plots Young’s modulus versus density for many materials. The
    annotated area shows approximately where the Heirloom composite material lands.*'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '*阿什比图表绘制了杨氏模量与密度之间的关系，标注区域大致显示了Heirloom复合材料的位置。*'
- en: 'The bottom left of the chart shows bendy, light materials like cork, and the
    top right of the chart has rigid, heavy materials, like tungsten (W). For a laptop
    case, we wanted a material with the density of cork but the stiffness of plastic.
    Wood products occupy a space in the chart to the left of plastics, meaning they
    are less dense, but they have a problem: they are weak perpendicular to the grain.
    Depending on the direction of the strain, wood can be as yielding as polyethylene
    (the material used to make plastic shopping bags) or stiffer than polycarbonate
    (the material layered with glass to make bulletproof windows). Composite materials
    are great because they allow you to blend the characteristics of multiple materials
    to hit the desired characteristic. In the Heirloom laptop’s case, Kurt blended
    cork, glass fiber, and wood.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图表的左下角展示了像软木这样弯曲的轻质材料，而图表的右上角则是刚性较强、较重的材料，如钨（W）。对于笔记本电脑外壳，我们想要一种具有软木密度但具有塑料刚性的材料。木质材料在图表中占据的位置在塑料的左侧，意味着它们的密度较低，但有一个问题：它们在垂直于纹理的方向上较弱。根据应变的方向，木材可以像聚乙烯（用来制造塑料购物袋的材料）一样柔软，或者像聚碳酸酯（用于与玻璃层压制造防弹窗户的材料）一样刚性。复合材料很棒，因为它们允许你将多种材料的特性结合，以达到所需的特性。在Heirloom笔记本的案例中，Kurt结合了软木、玻璃纤维和木材。
- en: The measurements of the Heirloom composite show a flexural strength of about
    33 megapascals, and a flexural modulus of about 2.2 to 3.2 gigapascals.[*](footnote.xhtml#fn24)
    The density of the material is 0.49 g/cm³, meaning it’s about half the density
    of ABS plastic, the plastic LEGO bricks are made from. As shown on the Ashby chart,
    plotting these numbers reveals that the Heirloom composite occupies a nice spot
    to the left of plastics and provides a compromise on stiffness based on grain
    direction. And during testing, the material didn’t fail catastrophically.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: Heirloom复合材料的测量数据显示其弯曲强度约为33兆帕，弯曲模量约为2.2到3.2吉帕。[*](footnote.xhtml#fn24)该材料的密度为0.49
    g/cm³，约为ABS塑料的半密度，ABS塑料是乐高积木的原料。从Ashby图表中可以看到，这些数字显示Heirloom复合材料在塑料左侧占据了一个很好的位置，并且提供了基于纤维方向的刚性折衷。而且在测试中，该材料并未发生灾难性的失败。
- en: '![image](../images/f0231-01.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0231-01.jpg)'
- en: '*Graphs of load versus extension on the Heirloom laptop composite, as plotted
    by the Instron testing machine*'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '*Heirloom笔记本复合材料的负载与伸长关系图，由Instron测试机绘制*'
- en: Even after being bent past its peak load, the composite was still mostly intact
    and providing resistance. This result was a bit surprising. We had expected the
    material to break in two on failure, like natural wood. Furthermore, after we
    reset the test, the material bounced back to its original shape. We bent the composite
    by over 10 mm, but once the load was removed, I could barely tell it went through
    testing. This high fracture toughness and resilience are desirable properties
    for a laptop case.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在超过最大负荷的弯曲之后，复合材料仍然大部分完好无损，且提供了一定的抗力。这个结果有点出乎意料。我们本以为材料会像天然木材一样在断裂时折成两半。此外，当我们重置测试后，材料恢复到了原来的形状。我们将复合材料弯曲了超过10毫米，但一旦卸下负载，我几乎无法察觉它经历过测试。这种高断裂韧性和恢复力是笔记本外壳所需要的理想特性。
- en: Of course, watching a machine go to work on the material was fun, but there’s
    nothing quite like holding it yourself. I still remember picking up the material,
    feeling how light it was, giving it a good bend, and being surprised by its rigidity
    and ruggedness.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，看着机器在材料上运作很有趣，但没有什么比自己亲手拿到它更令人激动。我仍然记得拿起材料，感受它的轻盈，给它一个弯曲，结果被它的刚性和坚固性惊讶到了。
- en: '**CHANGES TO THE FINISHED PRODUCT**'
  id: totrans-97
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**成品的变化**'
- en: From the moment Novena was successfully crowdfunded, an incredible team of people
    worked to make it a reality. With help from the engineers and product managers
    at our manufacturing partner, AQS, Novena’s case moved from prototype to pilot
    production just four months after the campaign.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 从Novena成功完成众筹的那一刻起，一个令人难以置信的团队开始努力将其变为现实。在我们制造合作伙伴AQS的工程师和产品经理的帮助下，Novena的外壳从原型阶段到试生产仅用了四个月时间。
- en: '![image](../images/f0232-01.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0232-01.jpg)'
- en: '*The conference room where we did the T1 plastics review in Dongguan, China*'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '*我们在中国东莞进行T1塑料评审的会议室*'
- en: Sure, xobs and I did plenty of work on our own before we even started the crowdfunding,
    but it takes many hands to build a product of this complexity. We couldn’t have
    done it without our dedicated and hardworking team at AQS. I’ve said before that
    your factory is your partner, and thanks to a great partner, we were able to get
    this done in a short amount of time.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，xobs和我在开始众筹之前就做了很多工作，但要制造出如此复杂的产品，必须要有很多人共同努力。没有AQS那支敬业且努力工作的团队，我们是不可能做到这一点的。我之前就说过，你的工厂是你的合作伙伴，得益于一个优秀的合作伙伴，我们才能在短时间内完成这项工作。
- en: '**Case Construction and Injection-Molding Problems**'
  id: totrans-102
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**外壳结构与注塑问题**'
- en: By the late summer of 2014, the Novena cases we were carrying around were made
    of entirely production-process hardware—no more hand-built prototypes. To get
    there, we’d opened a total of 10 injection-molding tools; for comparison, a product
    like NeTV or chumby had perhaps 3 or 4 injection-molding tools.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 到2014年夏末，我们手上的Novena外壳已经完全由生产过程中的硬件制成——不再是手工制作的原型。为了实现这一点，我们共开设了10个注塑模具；作为对比，像NeTV或chumby这样的产品大约只有3到4个注塑模具。
- en: 'As I briefly described in [Chapter 1](ch01.xhtml#ch01), injection molding is
    a process where plastic is molded into a net shape. Hot, high-pressure liquid
    plastic is forced into a hardened steel cavity called a *tool*. The steel tool
    is a masterpiece of engineering in itself: it’s a water-cooled block weighing
    about a ton and capable of handling pressures found at the bottom of the Mariana
    Trench, and the internal surfaces are machined to tolerances better than the width
    of a human hair. On top of that, the tool contains a clockwork of moving pieces,
    with dozens of ejector pins, sliders, lifters, and parting surfaces that come
    apart and back together again smoothly over thousands of cycles. It’s amazing
    that tools of such complexity and refinement can be crafted in a couple of months.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我在[第一章](ch01.xhtml#ch01)中简要描述的那样，注塑成型是将塑料模制成网状形状的过程。热的、高压的液态塑料被迫注入一个叫做*模具*的硬化钢腔中。钢模具本身就是一项工程杰作：它是一个约重一吨的水冷却块，能够承受类似马里亚纳海沟底部的压力，且其内表面加工的公差精度优于一根人发的宽度。除此之外，模具内部还包含一系列精密的活动部件，包括数十根推出销、滑块、提升器和分模面，这些部件在数千次循环中会顺畅地分离和重新组合。令人惊讶的是，像这样复杂精密的工具竟然能在几个月内制造出来。
- en: With so many moving parts, it’s no surprise that the tools required several
    iterations of refinement to get absolutely perfect. In tooling jargon, the iterations
    are referred to as T0, T1, T2, and so on. You’re doing pretty well if you can
    go to full production at T2; thankfully, our T1 plastics were 99 percent of the
    way there, meaning we had an easy path to full production. T1 had just a few issues
    relating to flow and knit lines, as well as spots where the plastic warped during
    cooling or bound itself to the tool during ejection, causing deformation. This
    manifested itself as spots where the seams weren’t as tight as we wanted them
    to be in the case, and with just a little bit of tuning, we were production-ready.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 由于有这么多的活动部件，工具需要多次迭代以达到完美也就不足为奇了。在模具术语中，这些迭代被称为T0、T1、T2等。如果你能在T2阶段进入全生产阶段，那就已经做得相当不错了；幸运的是，我们的T1塑料已经达到99%的完美度，这意味着我们可以轻松进入全生产阶段。T1阶段仅存在一些与流动性和接缝线相关的小问题，以及一些因冷却过程中的变形或在脱模时与模具粘连而导致的变形。这些问题表现为外壳接缝处不如预期紧密，但只需稍作调整，我们就准备好进入生产了。
- en: Most people have only seen products of finished tooling, so I’ll share what
    a pretty typical T0 (first-attempt) shot looks like, particularly for a large
    and complex tool like the Novena case base part. Test shots like this are typically
    done with scrap resin in light colors that highlight defects. We used gray plastic
    here to make tuning the mold easier, but the final units had black bases.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数人只见过成型工具的成品，因此我将分享一个典型的T0（首次尝试）注塑样品，特别是像Novena外壳底座这种大型复杂工具的样品。像这样的测试样品通常使用废料树脂，且颜色较浅以突出缺陷。我们在这里使用了灰色塑料，以便于调整模具，但最终的成品底座是黑色的。
- en: '![image](../images/f0234-01.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0234-01.jpg)'
- en: '*Some T0 shots of the base of the Novena case. The regular array of circles
    on the left in the top photo form the basis of the Peek array. To make the array,
    threaded brass inserts were heat-staked into the circular bosses after injection
    molding.*'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '*一些T0版本的Novena外壳底座照片。顶部照片中左侧的规则圆形阵列构成了Peek阵列的基础。为了形成这个阵列，注塑后将带螺纹的黄铜嵌件热铆进了圆形凸台中。*'
- en: There’s a lot going on with this piece of plastic. Let’s zoom in on some of
    the artifacts.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这块塑料的设计包含了很多细节。让我们聚焦于一些工艺特征。
- en: '![image](../images/f0235-01.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0235-01.jpg)'
- en: '*A visual guide to the deformations in the T0 case base*'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '*T0外壳底座变形的视觉指南*'
- en: The circles highlight a set of *sink marks*, which happen when the opposite
    side of the plastic has a particularly thin or thick feature. These areas cool
    faster or slower than the bulk of the plastic, causing them to pucker slightly
    and create a sort of shadow. Sink marks are particularly noticeable on mirror-finish
    parts. In this case, the sink marks happened because the plastic underneath the
    nut bosses of the Peek array were much thinner than the surrounding plastic. To
    fix this problem, we thickened that region slightly, reducing the overall internal
    clearance of the case by 0.8 mm. That was possible because fortunately, I’d designed
    the case with a little extra clearance margin.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 圆圈标出了*沉陷痕*，这种情况发生在塑料的另一面有特别薄或厚的特征时。这些区域的冷却速度与塑料的大部分区域不同，导致它们略微起皱，形成一种阴影效果。沉陷痕在镜面光泽的部件上特别明显。在这种情况下，沉陷痕是因为Peek阵列下方的螺母座部分的塑料比周围的塑料薄得多。为了解决这个问题，我们稍微加厚了该区域，使得外壳的总体内空减少了0.8毫米。幸运的是，我在设计外壳时就预留了一些额外的间隙余量，所以这一调整是可行的。
- en: The straight arrow points to a *knit line*. This is a region where plastic flow
    meets within the tool. As plastic is injected into the cavity, it tends to flow
    from one or more gates, and where the molten plastic meets itself, a hairline
    scar forms. Knit lines are often located at points of symmetry between the gates
    where the plastic is injected. On this tool, there were four gates located underneath
    the spot where the rubber feet go. Gates are considered cosmetically unattractive,
    and thus we placed them strategically to hide their location.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 直线箭头指向的是*接缝线*。这是塑料流动在模具内汇合的区域。当塑料被注入模腔时，它通常会从一个或多个注入口流入，而当熔融塑料相遇时，会形成一条细小的疤痕。接缝线通常位于注入口之间的对称点上。在这个模具中，四个注入口位于橡胶脚位置的下方。由于注入口在外观上通常不美观，因此我们将它们策略性地安排在不显眼的地方。
- en: The white feathery artifacts indicated by the curved arrow are *flow marks*.
    These streaks appeared because the plastic cooled a bit too quickly within the
    tool. You can often fix this problem by adjusting the injection pressure, cycle
    length, and temperature. It’s best to use test shots on the molding machine to
    make those tweaks. You can tweak one parameter at a time, shot after shot, until
    you find an optimum cooling speed. This process can sometimes take hundreds of
    shots, creating a small hill of scrap plastic as a by-product.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 曲线箭头指示的白色羽毛状物质是*流痕*。这些条纹出现是因为塑料在模具内冷却过快。通常可以通过调整注射压力、循环时间和温度来解决这个问题。最好的方法是在模具机上进行试射，以调整这些参数。可以一次调整一个参数，一次一次地测试，直到找到最佳的冷却速度。这个过程有时需要数百次试射，过程中会产生少量废料塑料作为副产品。
- en: Most of these gross defects were fixed by T1, and at that point, the plastic
    looked much closer to production-grade. We were also able to start using black-colored
    plastic, which tends to hide defects.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 这些明显的缺陷大多数已经在T1阶段得到了修复，此时塑料的外观更接近于生产级别。我们还开始使用黑色塑料，这种塑料能更好地隐藏缺陷。
- en: There were still a few issues around fit and finish, of course. But despite
    them, the case felt much more solid than the prototypes, and the gas piston mechanism
    was finally consistent and really smooth.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，仍然存在一些装配和外观上的问题。但是尽管如此，外壳感觉比原型更加坚固，气动活塞机制终于一致且非常顺畅。
- en: '![image](../images/f0236-01.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0236-01.jpg)'
- en: '*The T1 case base, in initial testing after the live hardware was transferred
    into the plastics*'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '*T1外壳底座，在将硬件转移到塑料部件后进行的初步测试*'
- en: '**Changes to the Front Bezel**'
  id: totrans-119
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**前面板的更改**'
- en: The front bezel of Novena’s case (not to be confused with the aluminum LCD bezel)
    went through some changes after the campaign. When we closed funding, it had two
    outward-facing USB ports and one switch. Novena shipped with two switches, one
    outward-facing USB port, and one inward-facing USB port.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: Novena外壳的前面板（不要与铝制LCD面板混淆）在众筹之后经历了一些变化。当我们关闭资金时，它有两个朝外的USB端口和一个开关。Novena发货时则配备了两个开关，一个朝外的USB端口和一个朝内的USB端口。
- en: 'One switch is for power: it goes directly to the power board and can be used
    to turn the system on and off even when the main board is fully powered down.
    The other switch is wired to a user keypress to facilitate Bluetooth association
    for keyboards that are being stupid. Some keyboards can take up to a half-minute
    to cycle through *something* (presumably, it’s security-related) before they connect.
    There are hacks for bypassing that, but you’d have to run a script on the host.
    Our idea was that by pressing this button, users could trigger a convenience script
    to get past the utter folly of Bluetooth. This switch also doubles as a wake-up
    button for when the system is suspended.'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 一个开关用于电源：它直接连接到电源板，可以在主板完全关机时用来开关系统。另一个开关则连接到用户按键，用于方便与键盘的蓝牙配对，一些键盘在连接之前可能需要花费半分钟的时间来循环“某些东西”（大概是与安全相关）。虽然有绕过这个过程的黑客手段，但需要在主机上运行脚本。我们的想法是，通过按下这个按钮，用户可以触发一个便利脚本，从而绕过蓝牙的麻烦。这个开关还可以作为唤醒按钮，唤醒系统从挂起状态。
- en: 'As for the USB ports, the design still had four in total, but the configuration
    became as follows:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 至于 USB 端口，设计总共有四个，但其配置变更为如下：
- en: • Two higher-current-capable ports on the right
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: • 右侧有两个更高电流承载能力的端口
- en: • One standard-current-capable port on the front
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: • 正面有一个标准电流端口
- en: • One standard-current-capable port facing toward the Peek array
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: • 一个标准电流端口朝向 Peek 数组
- en: In other words, we faced one USB port toward the inside of the machine. Since
    half the fun of Novena is modding the hardware, I figured a USB port on the inside
    would be at least as useful as one on the outside.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 换句话说，我们将一个 USB 端口面朝机器内部。由于 Novena 的一大乐趣在于硬件改装，我认为在内部安装一个 USB 端口至少和外部端口一样有用。
- en: For users who wouldn’t do hardware mods, an inside USB port would also be a
    fine place to plug small dongles that generally stay attached, like the radio
    transceiver for a keyboard. It’s a little inconvenient to initially plug in the
    dongle, but keeping the radio transceiver dongle facing inside helps protect it
    from damage when you throw your laptop into your travel bag.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 对于不进行硬件改装的用户，内部的 USB 端口也可以作为插入小型适配器的理想位置，这些适配器通常保持连接，例如键盘的无线电收发器。初次插入适配器时稍微有点不方便，但将无线电收发器适配器朝内放置有助于在将笔记本放进旅行包时避免其受损。
- en: '**DIY Speakers**'
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**DIY 扬声器**'
- en: We toyed with several speaker options for Novena. A core idea behind the design
    was to encourage every user to choose their own speaker. Some people really listen
    to music on their laptop when they travel, but others simply rely upon the speaker
    for notification tones and would prefer to use headphones for media capabilities.
    Physics dictates that high-quality sound requires a certain amount of space and
    mass. We wanted users with a more relaxed fidelity requirement to be able to reclaim
    the space and weight that nicer speakers would require.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为 Novena 考虑了多种扬声器选择。设计背后的核心理念是鼓励每个用户选择自己的扬声器。有些人在旅行时确实会在笔记本电脑上听音乐，但其他人则仅依赖扬声器用于通知音效，并且更倾向于使用耳机来播放媒体内容。物理学规定，高质量的声音需要一定的空间和质量。我们希望那些对音质要求较低的用户能够收回更好的扬声器所需的空间和重量。
- en: Kurt Mottweiler selected a nice but very compact off-the-shelf speaker, the
    PUI ASE06008MR-LW150-R, for the Heirloom. When we found that the same speaker
    fit well into the standard Novena’s Peek array and had acceptable fidelity, particularly
    for its size, we adopted it as the standard offering for audio. But we shipped
    it with a mounting kit for easy removal, so users who might need to reclaim the
    space (or who wanted to put in larger speakers) could do so with ease.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: Kurt Mottweiler 为 Heirloom 选择了一个既好又非常紧凑的现成扬声器 PUI ASE06008MR-LW150-R。当我们发现同款扬声器可以很好地安装在标准
    Novena 的 Peek 数组中，且音质在其体积范围内也令人满意时，我们决定将其作为标准音频配置。但我们随产品附赠了一个安装套件，方便拆卸，以便需要回收空间的用户（或想要更换更大扬声器的用户）能够轻松实现。
- en: '**The PVT2 Mainboard**'
  id: totrans-131
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**PVT2 主板**'
- en: The Novena mainboard went through a minor revision prior to mass production.
    The fourth and final revision of the motherboard was known as the “PVT2” version.
    The majority of the changes focused on replacing or updating components that were
    at risk of reaching end-of-life. The two most significant additions from a design
    standpoint were an internal flexible printed circuit (FPC) header to connect to
    the front bezel cluster, and a dedicated hardware real-time clock (RTC) module.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: Novena 主板在量产之前经历了小幅修订。主板的第四个也是最终修订版本被称为 “PVT2” 版本。大部分更改集中在更换或更新那些接近寿命终止的组件。从设计角度来看，两个最重要的新增功能是：一个用于连接前面板集群的内部柔性印刷电路（FPC）接口，以及一个专用的硬件实时时钟（RTC）模块。
- en: We added the internal FPC header to improve signal routing from the mainboard
    to the front bezel cluster. We had to run two USB ports plus a smattering of GPIOs
    and power to the front bezel, and the original connection scheme required multiple
    cables. The updated design condensed that into a single FPC to simplify the design
    and improve reliability.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了内部 FPC 接口，以改善从主板到前面板集群的信号传输。我们需要将两个 USB 端口以及一些 GPIO 和电源引出到前面板，而原来的连接方案需要多条电缆。更新后的设计将这些功能压缩成一条
    FPC，简化了设计并提高了可靠性。
- en: We included a dedicated hardware RTC module because the i.MX6’s built-in RTC
    didn’t perform well. The CPU simply had a higher leakage on the RTC than reported
    in the datasheet, and the lifetime of the RTC when the system was turned off was
    measured in, at best, minutes. We decided that there was too much risk in continuing
    to develop with the on-board RTC and opted for an external, dedicated RTC module
    that we knew worked. To increase compatibility with other i.MX6 platforms, we
    picked the same module used by the Solid-Run Hummingboard, the NXP PCF8523T/1.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加了专用的硬件 RTC 模块，因为 i.MX6 内建的 RTC 性能较差。CPU 在 RTC 上的漏电流高于数据手册中报告的值，并且系统关闭时 RTC
    的使用寿命，最好的情况也仅能维持几分钟。我们认为继续使用板载 RTC 存在太大风险，因此选择了一个外部的专用 RTC 模块，我们知道它能正常工作。为了提高与其他
    i.MX6 平台的兼容性，我们选用了 Solid-Run Hummingboard 使用的相同模块，即 NXP PCF8523T/1。
- en: It’s also important to note that we completely overhauled the FPGA expansion
    header on our second revision of the motherboard. The version of the motherboard
    shown at the beginning of this chapter contained a cluster of headers optimized
    for motion control applications. We decided that our motherboard was too large
    for anyone to put it inside a quad copter, and perhaps the FPGA would see more
    use as a high-speed data acquisition and processing device. To enable this functionality,
    we gave the FPGA a dedicated 256MB of DDR3 memory and broke out high-speed differential
    signals to a connector capable of passing signals at rates exceeding a gigabit
    per second. Users could still use the FPGA for motion control applications, but
    they’d need to plug in a simple breakout board (like the GPBB I discuss next)
    to route our signals to the connector formats commonly used by motion control
    systems.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 还需要注意的是，我们在主板的第二次修订中完全重构了 FPGA 扩展接口。本章开头展示的主板版本包含了一组针对运动控制应用优化的接口。我们认为主板的尺寸对于任何人来说都太大，无法将其放入四旋翼飞行器中，而且
    FPGA 可能会作为高速数据采集和处理设备使用。为了实现这一功能，我们为 FPGA 配备了专用的 256MB DDR3 内存，并将高速差分信号引出到一个连接器上，该连接器能够以超过每秒一千兆比特的速率传输信号。用户仍然可以将
    FPGA 用于运动控制应用，但需要插入一个简单的扩展板（如我接下来讨论的 GPBB）来将我们的信号引导到运动控制系统常用的连接器格式。
- en: '![image](../images/f0240-01.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0240-01.jpg)'
- en: '*The updated Novena motherboard*'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '*更新版的 Novena 主板*'
- en: '**A Breakout Board for Beginners**'
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**初学者的扩展板**'
- en: One of the rewards every backer received as thanks for supporting our campaign
    was a breakout board that we referred to as the *GPBB*, or the *General-Purpose
    Breakout Board*. Redesigning our FPGA expansion header on Novena to target high-speed
    applications also made getting started with the device much more difficult for
    entry-level hackers. Due to the constraints of physics, high-speed connectors
    tend to have very dense pin arrangements that are unfriendly to beginners. We
    designed the GPBB to help entry-level users work with the FPGA. The GPBB converts
    the dense, high-speed signal header on the FPGA into a beginner-friendly 0.1-inch-pitch,
    40-pin header and includes a few LEDs and analog data converters to boot.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 每位支持我们的资助者都会收到一个作为感谢的扩展板，我们将其称为*GPBB*，即*通用扩展板*。我们在Novena上重新设计了FPGA扩展头，以针对高速应用，这也使得入门级黑客在使用设备时更加困难。由于物理学的限制，高速连接器通常有非常密集的引脚排列，对初学者不友好。我们设计了GPBB，帮助入门级用户与FPGA配合使用。GPBB将FPGA上密集的高速信号头转换为适合初学者使用的0.1英寸间距、40针头，并且还包括一些LED和模拟数据转换器。
- en: '![image](../images/f0241-01.jpg)'
  id: totrans-140
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0241-01.jpg)'
- en: '*The final production GPBB*'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '*最终生产版GPBB*'
- en: One growing challenge for beginners is the fact that Moore’s law keeps on pushing
    down the allowable voltage range of digital I/Os. Newer generations of transistors
    run at lower voltages, which make them incompatible with the venerable +5 V standards
    most entry-level projects use. For instance, our FPGA could only handle signals
    up to +3.3 V. As a result, we built voltage translators into the GPBB that could
    safely handle +5 V and bring them down to the +3.3 V levels accepted by the FPGA.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，一个日益增长的挑战是摩尔定律不断压低数字I/O的允许电压范围。新一代的晶体管在更低电压下运行，这使得它们与大多数入门级项目使用的传统+5
    V标准不兼容。例如，我们的FPGA只能处理高达+3.3 V的信号。因此，我们在GPBB中内置了电压转换器，可以安全地处理+5 V并将其降低到FPGA所接受的+3.3
    V水平。
- en: The final version of the GPBB included a tweak enabling users to adjust the
    I/O voltage, instead of fixing it at +5 V. We provided a software setting to allow
    users to choose whether the GPBB’s external I/Os default to 5 V or 3.3 V, and
    we designed the board so that users could adjust the lower voltage to 2.5 V or
    1.8 V by changing a single resistor (R12). I labeled that resistor “I/O VOLTAGE
    SET” and made it a 1206 part, so soldering novices could make the change themselves.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 最终版的GPBB包括了一项调整，使用户能够调整I/O电压，而不是将其固定在+5 V。我们提供了一个软件设置，允许用户选择GPBB的外部I/O默认是5 V还是3.3
    V，我们还设计了该板，使得用户可以通过更换一个单独的电阻（R12）将较低电压调整为2.5 V或1.8 V。我将该电阻标记为“I/O电压设置”，并将其做成1206封装，这样即使是焊接新手也能自行更改。
- en: '**The Desktop Novena’s Power Pass-Through Board**'
  id: totrans-144
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**桌面Novena的电源通电板**'
- en: The “all-in-one desktop” tier originally included just the desktop case, the
    Novena mainboard, and the front panel breakout. But that configuration made power
    management awkward, as I designed the overall power management system for the
    case assuming there would be a helper microcontroller managing a master cutoff
    switch.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: “一体化桌面”配置最初仅包含桌面外壳、Novena主板和前面板扩展。但这种配置使得电源管理变得尴尬，因为我为外壳设计的整体电源管理系统假设会有一个辅助微控制器来管理主切断开关。
- en: Complexity is the devil, and getting the software going for even a single configuration
    was hard enough on its own. Ultimately, we found it cheaper to introduce a new
    piece of hardware to the power management system for the desktop, rather than
    deal with multiple code configurations.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 复杂性是魔鬼，单单为一个配置启动软件就已经够难的了。最终，我们发现向桌面电源管理系统引入一个新的硬件比处理多种代码配置更为便宜。
- en: Therefore, desktop systems shipped with a power pass-through board. It was a
    simple PCB assembly containing just the STM32 controller and power switch of the
    full battery board. This allowed us to use a consistent gross power management
    architecture across both the desktop and the laptop systems.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，桌面系统随附了一个电源通电板。它是一个简单的PCB组件，仅包含完整电池板的STM32控制器和电源开关。这使得我们能够在桌面和笔记本系统中使用一致的总电源管理架构。
- en: '![image](../images/f0243-01.jpg)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0243-01.jpg)'
- en: '*The desktop’s pass-through board*'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '*桌面通电板*'
- en: This approach was like swatting a fly with a sledgehammer— but the sledgehammer
    cost as much as the flyswatter. Plus it’s inconvenient to carry both a flyswatter
    and a sledgehammer around. So, yes, we used a 32-bit ARM CPU to read the state
    of a pushbutton and flip a GPIO, and yes, a full multithreaded real-time operating
    system (ChibiOS) ran underneath it all.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法就像用大锤打苍蝇——但是那把大锤的价格和苍蝇拍一样贵。而且同时携带苍蝇拍和大锤也很不方便。所以，是的，我们用了一个32位的ARM CPU来读取按钮的状态并切换GPIO，是的，整个系统底层运行的是一个完整的多线程实时操作系统（ChibiOS）。
- en: It did feel a little silly, though. That’s why we broke out some of the unused
    GPIO pins, making Novena even more hackable. Hopefully, some clever user will
    find an application for all that untapped power!
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 不过，这确实有点傻。这就是为什么我们启用了部分未使用的GPIO引脚，让Novena变得更加可修改。希望某个聪明的用户能发现这些未开发的潜力的应用！
- en: '**Custom Battery Pack Problems**'
  id: totrans-152
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**定制电池包问题**'
- en: The battery pack for Novena was definitely a wildcard in the project stack.
    Building Novena was the first time xobs or I had made a system with such a high-capacity
    battery, and working through all the shipping regulations to get them delivered
    to customers was a challenge.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: Novena的电池包无疑是该项目中的一个变数。构建Novena是xobs和我第一次制作如此高容量的电池系统，而且要处理所有的运输规定以确保电池顺利交付给客户，是一项挑战。
- en: Some countries have particularly strict regulations around importing lithium
    batteries. In the worst case, we had to send some customers a laptop with no battery
    inside, and we shipped an off-the-shelf battery pack from a vendor that specializes
    in RC battery packs (like Hobby King) separately to those customers at our own
    cost. They got the same battery featured in the crowdfunding campaign, but they
    had to plug it in themselves. That was our safest fallback solution, since Hobby
    King ships thousands of battery packs a day all around the world.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 一些国家对于进口锂电池有特别严格的规定。在最糟糕的情况下，我们不得不给一些客户发送没有电池的笔记本电脑，然后我们从专门销售RC电池包的供应商（如Hobby
    King）处单独按我们自己的成本把电池包邮寄给他们。他们收到了众筹活动中使用的相同电池包，但需要他们自己安装。这是我们最安全的备用方案，因为Hobby King每天会向全球发运成千上万的电池包。
- en: Shipping woes didn’t stop us from developing a custom battery pack, though.
    Maintaining a standing stock of battery packs is difficult because batteries need
    to be periodically conditioned, so only campaign backers got that battery pack—provided
    their country of residence allowed its import. We couldn’t know for sure until
    we tried, but we did get UN38.3 certification for the custom battery pack. In
    theory, that certification would allow us to ship the batteries by air freight,
    but regulations around battery shipment are always in flux. It seems countries
    and carriers keep inventing new rules, particularly with all the paranoia about
    the potential use of lithium batteries as incendiary devices, and we didn’t have
    the resources to keep up with the zeitgeist.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，运输问题并没有阻止我们开发定制电池包。保持电池包的库存是困难的，因为电池需要定期进行保养，所以只有支持我们的项目的资助者才能获得这个电池包——前提是他们所在的国家允许进口。我们无法在尝试之前确定，但我们确实获得了定制电池包的UN38.3认证。从理论上讲，这个认证允许我们通过空运运输电池，但电池运输的规定总是处于不断变化之中。似乎各国和运输公司总是在不断创造新的规则，尤其是在对锂电池作为引火装置的潜在用途的恐惧之下，而我们并没有足够的资源跟上这种变化。
- en: The custom pack’s capacity was rated at 5,000 mAh, which is about twice the
    capacity of the pack we featured in the crowdfunding campaign. (That one had 3,000
    mAh printed on the outside but delivered about 2,500 mAh in practice.) In real-life
    testing, the custom pack provided about six or seven hours of runtime with minimal
    power management enabled. Also, since I got to specify the battery, I knew it
    had the correct protection circuitry built into it and the provenance of its cells,
    so I was confident in its long-term performance and stability.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 定制电池包的容量为5000毫安时，大约是我们在众筹活动中展示的电池包的两倍容量。（那个电池包外标写的是3000毫安时，但实际提供的容量大约是2500毫安时。）在实际测试中，定制电池包提供了大约六到七小时的运行时间，且启用了最少的电源管理。而且，由于我可以指定电池，我知道它内置了正确的保护电路，并且了解其电池单元的来源，因此我对其长期性能和稳定性充满信心。
- en: '**Choosing a Hard Drive**'
  id: totrans-157
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**选择硬盘**'
- en: The crowdfunding campaign referenced providing 240GiB Intel 530 (or equivalent)
    and 480GiB Intel 720 drives for the laptop and heirloom models, respectively.
    We left the spec slightly ambiguous because the SSD market moves quickly. We knew
    the best drive when we drew up the spec would probably be different from the best
    drive we could get when we actually did the purchasing.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 众筹活动中提到为笔记本和传家宝型号提供240GiB的Intel 530（或等效产品）和480GiB的Intel 720驱动器。我们将规格描述得有些模糊，因为SSD市场变化迅速。我们知道，在制定规格时最好的驱动器可能与我们实际购买时能得到的最好驱动器不同。
- en: After doing some research, we felt the best equivalent drives at purchase time
    were the 240GiB Samsung 840 EVO (for the laptop model) and the 512GiB Samsung
    850 Pro (for the Heirloom). xobs and I personally used the 840 EVO in our own
    units for several months, and it performed admirably.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 经过一些研究后，我们认为在购买时最合适的驱动器是240GiB的三星840 EVO（用于笔记本型号）和512GiB的三星850 Pro（用于传家宝）。xobs和我个人在自己的设备中使用了840
    EVO几个月，表现非常出色。
- en: An important metric for us was how well the drives held up under unexpected
    power outages. Outages happen fairly often, for example, when you’re doing development
    work on a power management subsystem. Some hard drives failed quite reliably (how’s
    that for an oxymoron?) after a few unexpected power-down cycles.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 对我们来说，一个重要的指标是驱动器在意外断电时的表现。断电事件发生得相当频繁，例如，当你在做电源管理子系统的开发工作时。一些硬盘在经历了几次意外断电周期后，表现出了相当高的故障率（这算不算自相矛盾？）。
- en: 'For the Heirloom, we used Samsung’s 850 PRO series. This drive came with a
    serious warranty fit for an heirloom: 10 years. Samsung could offer such a high
    claim of reliability because the drive used a technology the company calls V-NAND,
    which I consider the first bona fide production-grade 3D transistor technology.'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 对于传家宝型号，我们使用了三星的850 PRO系列。这款驱动器提供了一个适合传家宝的严苛保修：10年。三星能够提供如此高的可靠性承诺，因为该驱动器使用了公司称之为V-NAND的技术，我认为这是首个真正的生产级3D晶体管技术。
- en: '**NOTE**'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*Intel* claims *it makes 3D transistors, but that’s just marketing hype. Yes,
    the gate region has a raised surface topology, but you still only get a single
    layer of devices. From a design standpoint, you’re still working with a 2D graph
    of devices. Intel should have stuck with what I consider the “original” (and more
    descriptive/less misleading) name, FinFET, because by calling these 3D transistors,
    I don’t know what it will call* actual *3D arrays of transistors, if it ever gets
    around to making them.*'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '*Intel*声称*它制造3D晶体管，但这不过是市场宣传而已。是的，栅极区域有一个凸起的表面拓扑，但你仍然只得到单层设备。从设计角度来看，你依然在使用一个二维的设备图谱。Intel本应坚持我认为更为“原始”（也更具描述性/不易误导）的名称，FinFET，因为如果将这些称为3D晶体管，我不知道如果Intel最终制造出*真正的*3D晶体管阵列，它会如何命名。*'
- en: Chipworks, a patent support company, did an excellent initial analysis of V-NAND,[*](footnote.xhtml#fn25)
    showing that the technology isn’t about stacking just a couple of transistors.
    A V-NAND stack is a 38-layer active transistor sandwich, all in a single spot.
    This is process technology badassery at its finest. This is Neo decoding the Matrix.
    This is Mal shooting first. It’s a game changer, and it’s not vaporware. Heirloom
    backers received laptops with over 4 trillion of those transistors packed inside.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Chipworks，一家专注于专利支持的公司，对V-NAND做了出色的初步分析，[*](footnote.xhtml#fn25)，显示这种技术并不仅仅是堆叠几个晶体管。V-NAND堆栈是一个38层的有源晶体管三明治，全部集中在一个地方。这是工艺技术的巅峰之作。这就像是Neo解码矩阵，这就像是Mal先开枪。这是一个游戏规则改变者，而且它并非虚假宣传。传家宝的支持者收到了包含超过4万亿个这种晶体管的笔记本电脑。
- en: '**Finalizing Firmware**'
  id: totrans-165
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**固件定稿**'
- en: From the software side, the next step at this point was finalizing the kernel,
    bootloader, and distro selection, as well as deciding what to show when Novena
    booted for the first time.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 从软件方面来说，下一步是最终确定内核、引导加载程序和发行版的选择，并决定当Novena第一次启动时显示什么内容。
- en: Marek Vasut got Novena supported in mainline U-Boot (Universal Bootloader),
    one of the most popular open source bootloaders. (Marek is one of U-Boot’s maintainers.)
    The process involved a surprising number of patches, in part because few ARM boards
    support as much RAM as Novena. With those patches in place, Novena had full U-Boot
    support, including USB and video.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: Marek Vasut将Novena支持集成到主线U-Boot（通用引导加载程序）中，U-Boot是最流行的开源引导加载程序之一。（Marek是U-Boot的维护者之一。）这个过程涉及了大量补丁，部分原因是很少有ARM板卡能够像Novena那样支持这么多的内存。通过这些补丁，Novena获得了完整的U-Boot支持，包括USB和视频。
- en: We decided to make Debian the factory-default distribution for Novena, and we
    used the stock Linux kernel with those patches added. Any patches that we thought
    might be useful to other projects were submitted upstream and will continue to
    be submitted. *Upstreaming* just means that a package that is part of a derivative
    operating system becomes part of the distro it’s derived from.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 我们决定将 Debian 作为 Novena 的出厂默认发行版，并使用了带有这些补丁的标准 Linux 内核。任何我们认为可能对其他项目有用的补丁都会提交到上游，并将继续提交。*上游*意味着一个属于衍生操作系统的包成为其衍生来源发行版的一部分。
- en: We did keep a few local patches, ranging from specialized hacks to experimental
    features, features that weren’t ready to push upstream, or features that relied
    on features that weren’t upstream at the time. For example, the display system
    on a laptop is very different from what you’d usually see on an ARM device. In
    most ARM devices, the screen is fixed during boot and it isn’t possible to hot-swap
    displays at runtime. Like a typical laptop, Novena supports two different displays
    at once and allows you to plug in an HDMI monitor without requiring a reboot.
    Support for this feature required a local-only patch to the kernel, as it relied
    on features that weren’t yet upstreamed for the ARM platform at that time.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 我们确实保留了一些本地补丁，从专门的黑客手段到实验性特性，包含那些还没准备好推送到上游的特性，或者那些依赖于当时尚未上游的特性。例如，笔记本的显示系统与
    ARM 设备上通常看到的显示系统非常不同。在大多数 ARM 设备中，屏幕在启动时是固定的，无法在运行时热插拔显示器。像典型的笔记本电脑一样，Novena 支持同时连接两个显示器，并允许在不重启的情况下插入
    HDMI 显示器。对这个特性的支持需要一个仅限本地的内核补丁，因为它依赖于当时尚未上游的 ARM 平台特性。
- en: Finally, we just had to decide what to show when Novena powered up. In Linux,
    it’s not at all common to have a first-boot setup screen where you create your
    user, set the time, and configure the network. That’s common in Windows and OS
    X, which come preinstalled, but under Linux, the installer generally takes care
    of that.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们只需决定在 Novena 开机时显示什么。在 Linux 中，首次启动设置界面（用于创建用户、设置时间和配置网络）并不常见。这在预装系统的 Windows
    和 OS X 中很常见，但在 Linux 中，安装程序通常会处理这些事情。
- en: We were torn between creating a good desktop-style experience and making a practical
    embedded developer’s experience. A desktop-style experience would ship as a blank
    slate and prompt the user to create an account via a locally attached keyboard
    and monitor. But embedded developers may never plug in a monitor, and instead
    prefer to connect via console or SSH; for them, a default username, password,
    and hostname would have been more helpful. Either way, we wanted to create just
    a single firmware common across all platforms and avoid special-casing releases
    to a particular target.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在打造良好的桌面风格体验和提供实用的嵌入式开发者体验之间左右为难。桌面风格的体验将作为一个空白状态发货，并提示用户通过本地连接的键盘和显示器创建账户。但嵌入式开发者可能永远不会插入显示器，而更倾向于通过控制台或
    SSH 连接；对于他们来说，默认的用户名、密码和主机名会更加有用。无论如何，我们希望创建一个在所有平台上都通用的固件，并避免为特定目标发布特别定制的版本。
- en: In the end, we decided to create a desktop-style experience, with escapes for
    power users to bypass the formalities of user enrollment. This gave us the best
    of both worlds. It improved the accessibility of Novena to entry-level users,
    yet power users could still cut to the chase and get down to work.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，我们决定创建一个桌面风格的体验，并为高级用户提供跳过用户注册流程的途径。这让我们同时享受了两种体验的优点。它提高了 Novena 对入门级用户的可访问性，同时高级用户仍然可以直接进入工作状态。
- en: '**BUILDING A COMMUNITY**'
  id: totrans-173
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**构建社区**'
- en: From the start, xobs and I built Novena to empower hackers, so I was pleased
    that even before shipping, Novena had active alpha developers. Jon Nettleton and
    Russell King worked on graphics, Marek Vasut from U-Boot lent a hand, and a couple
    of other alpha user groups actually made hardware for the system.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 从一开始，xobs 和我就将 Novena 打造为赋能黑客的工具，因此我很高兴，即使在发货前，Novena 就有了活跃的 alpha 开发者。Jon Nettleton
    和 Russell King 负责图形处理，U-Boot 的 Marek Vasut 也提供了帮助，另外几个 alpha 用户组实际上为该系统制作了硬件。
- en: MyriadRF, an open source hardware and software community focused on wireless
    technology, created a software-defined radio board for Novena. We bought and integrated
    those boards with the first desktop and laptop units we shipped.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: MyriadRF，一个专注于无线技术的开源硬件和软件社区，为 Novena 创建了一个软件定义无线电板。我们购买并将这些板卡与我们首次发货的桌面和笔记本单元集成。
- en: The CrypTech group also started applying Novena to its projects before the laptop
    shipped. The CrypTech project developed a hardware security module, with a BSD
    and CC BY-SA 3.0 licensed reference design. The group wanted to create a widely
    reviewed, designed-for-crypto device that anyone could compose for their application
    and easily build with their own trusted supply chain. CrypTech used Novena to
    prototype elements of its design.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: CrypTech 团队也在 Novena 笔记本发货之前就开始将 Novena 应用于他们的项目。CrypTech 项目开发了一个硬件安全模块，提供了一个
    BSD 和 CC BY-SA 3.0 许可的参考设计。该团队希望创建一个经过广泛评审、为加密设计的设备，任何人都可以为其应用程序定制，并使用自己可信赖的供应链轻松构建。CrypTech
    使用 Novena 原型验证其设计的部分元素。
- en: '![image](../images/f0248-01.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0248-01.jpg)'
- en: '*A prototype CrypTech expansion board, plugged into the Novena motherboard*'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '*一个原型 CrypTech 扩展板，插入到 Novena 主板上*'
- en: The expansion board shown here is a prototype noise source based on avalanche
    noise from a transistor in the middle of the board. CrypTech uses that noise to
    generate entropy in Novena’s FPGA. The entropy is then combined with entropy generated
    by ring oscillators in the FPGA and mixed using, say, SHA-512 to generate seeds.
    The seeds are then used to initialize the ChaCha stream cipher, ultimately resulting
    in a stream of cryptographically sound random values. The result is a high-performance,
    state-of-the art, random-number-generator coprocessor.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 此处展示的扩展板是一个基于板中间晶体管的雪崩噪声的原型噪声源。CrypTech 使用该噪声在 Novena 的 FPGA 中生成熵。然后，将该熵与 FPGA
    中由环形振荡器生成的熵结合，并通过例如 SHA-512 进行混合，生成种子。之后，这些种子用于初始化 ChaCha 流密码，最终生成一串具有加密安全性的随机值。其结果是一个高性能、最先进的随机数生成协处理器。
- en: '**CLOSING THOUGHTS**'
  id: totrans-180
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**结束语**'
- en: As a final note, if there’s one thing xobs and I have learned in the hardware
    business, it’s that you can’t count your chickens before they hatch. Making good
    progress to a certain point didn’t mean we’d have an easy path to finished units.
    Even though we had fully functional prototypes at the close of fundraising, it
    still took months of intense effort to deliver hundreds of units to end users.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 作为最后一点，如果有一件事是我和 xobs 在硬件行业中学到的，那就是你不能在蛋还没孵出来之前数小鸡。尽管在某个阶段我们取得了良好的进展，但这并不意味着我们会有一条容易的路走向最终的产品。即使我们在筹资结束时有了完全功能的原型，仍然花了数月的时间付出巨大努力，才能将数百个单位交付给最终用户。
- en: Now that Novena has finished shipping, we’re continuing to support our enthusiastic
    yet very patient user base. It’s a lot of work, which falls primarily on xobs’s
    shoulders, but we’ve been answering questions from users, pushing patches, and
    keeping the Novena kernel up to date.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Novena 已经完成了发货，我们继续支持我们那群热情但非常耐心的用户群体。这是一项巨大的工作，主要由 xobs 承担，但我们一直在回答用户的问题，推送补丁，并保持
    Novena 内核的更新。
- en: We do this even though we garner no new revenue from Novena sales. Upon reviewing
    our post-campaign sales data, it was fairly clear there was no viable path forward
    to run a hardware business selling Novena; we’d sell on average a couple of units
    per month. Although we cleared the minimum-order requirements of our vendors through
    the initial crowdfunding campaign, it would be very difficult to engage any of
    our suppliers at volumes less than a couple hundred units. Selling a couple units
    per month at that minimum buy would leave us saddled with inventory debt for about
    a hundred months. We’d be in debt to our suppliers for several years. Being unable
    to repay your suppliers for several years is also known as bankruptcy.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们这么做，尽管从 Novena 销售中没有获得任何新的收入。在回顾我们的众筹后销售数据时，显然没有可行的路径能通过销售 Novena 经营硬件业务；我们每月大约只会卖出几台单位。尽管通过最初的众筹活动我们满足了供应商的最小订单要求，但如果销量少于几百台，和供应商的合作将非常困难。以每月卖几台的最低采购量销售，意味着我们将背负着库存债务大约一百个月。我们将欠供应商几年的债务。几年来无法偿还供应商的债务，也被称为破产。
- en: We are, of course, keeping our original promise to support the Novena motherboard
    for at least five years from the initial funding campaign. We’ve set aside a hefty
    chunk of cash to ensure a steady supply of the mainboards. Our original crowd
    funding and now online sales partner, Crowd Supply, has taken over the remaining
    inventory of cases and accessories. Thanks to our open hardware model, Crowd Supply
    has the option to manufacture and sell accessories for Novena, should end user
    demand materialize.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，我们会遵守最初的承诺，至少在初始资助活动后的五年内继续支持Novena主板。我们已预留了相当大一部分资金，以确保主板的稳定供应。我们的原始众筹伙伴，现在的在线销售合作伙伴Crowd
    Supply，已经接手了剩余的外壳和配件库存。得益于我们的开源硬件模式，Crowd Supply在最终用户需求出现时，可以选择为Novena制造和销售配件。
- en: In the end, I’m very happy to see the tender green shoots of new projects aiming
    to offer better open source laptop solutions to end users. Rather than compete
    with them, I think it’s most appropriate for Novena to give way and enable enthusiastic
    new developers to find opportunity and fortune selling their solutions. After
    all, we started on this adventure mostly to see if it could be done. We wanted
    to build a cool tool, customized for our everyday use case; we didn’t want to
    start a business selling laptops with a sustainable mass-market appeal. If the
    ultimate impact of the Novena project is raising the bar for open hardware, and
    perhaps even encouraging a new generation of laptop-themed projects, that would
    be a huge reward in and of itself.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，我非常高兴看到一些新的项目像嫩绿的嫩芽一样萌发，旨在为终端用户提供更好的开源笔记本解决方案。与其与他们竞争，我认为Novena最适合做的事是让路，支持那些充满热情的新开发者，帮助他们通过销售自己的解决方案找到机会和财富。毕竟，我们最初开始这项冒险，主要是为了看看是否能够做到。我们想要打造一个很酷的工具，专为我们的日常使用场景量身定制；我们并不想开创一项出售具有可持续大众市场吸引力的笔记本电脑生意。如果Novena项目最终的影响是提高开源硬件的标准，甚至可能鼓励新一代与笔记本相关的项目，那么这本身就是一种巨大的回报。
