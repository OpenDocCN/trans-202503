- en: '**2'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**2'
- en: AN AUTOMATED AGITATOR FOR PCB ETCHING**
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**PCB蚀刻的自动搅拌器**'
- en: '![image](../images/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common-01.jpg)'
- en: This project uses the Arduino microcontroller to sense change in a motor’s current
    drain (the rate at which the motor uses electricity) and then reverse the direction
    of the motor. There are numerous applications for the measurement and use of current
    drain, and this project provides an example method that can prove useful in the
    development of future electronics projects.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目使用Arduino微控制器来感应马达电流消耗的变化（即马达使用电力的速率），然后反转马达的方向。电流消耗的测量和应用有许多用途，本项目提供了一种示例方法，未来在电子项目开发中可能会非常有用。
- en: “[Making Your Own PCBs](ch00.xhtml#ch00lev1sec5)” on [page 13](ch00.xhtml#page_13)
    illustrates different ways to design and make circuit boards at home for a very
    modest cost using readily available and environmentally safe household products.
    Part of this process includes etching the copper off a clad board. The process
    is more efficient when the board is agitated in the etching solution, resulting
    in a laminar flow of liquid across the surface of the board in both directions.
    Depending on the chemical activity of the etchant and thickness of copper to be
    etched, this process can take anywhere from 10 or 15 minutes to well over half
    an hour! Standing there stirring the pot is pretty boring, but you can create
    a device that dunks the board in and out of the solution for you (see [Figure
    2-1](ch02.xhtml#ch02fig1)).
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: “[自己制作PCB](ch00.xhtml#ch00lev1sec5)”在[第13页](ch00.xhtml#page_13)展示了如何使用现成且环保的家庭产品，以非常低的成本在家设计和制作电路板。这个过程的一部分包括将铜层蚀刻掉。将电路板浸入蚀刻液中并搅动时，过程会更有效，液体在电路板表面会形成层流，双向流动。根据蚀刻液的化学活性和铜的厚度，这一过程可能需要10到15分钟，甚至超过半小时！站在那里搅拌蚀刻液的确很无聊，但你可以制作一个装置，自动将电路板浸入并取出溶液（参见[图2-1](ch02.xhtml#ch02fig1)）。
- en: '![image](../images/f02-01.jpg)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-01.jpg)'
- en: '*Figure 2-1: Illustration of the motor, crank, and etching vessels set up to
    dip a circuit board in and out of the etchant. While there are many ways to agitate
    a circuit board, dipping it into and out of the etching solution works well, especially
    for small boards*.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-1：展示了用于将电路板浸入并取出蚀刻液的马达、曲轴和蚀刻槽的设置。虽然有许多方法可以搅动电路板，但将其浸入并取出蚀刻溶液效果很好，尤其适用于小型电路板*。'
- en: In this project, the Arduino is measuring the current from the motor. When the
    motor’s rotation reaches the limit pin, it begins to stall, increasing the current
    drain. The Arduino reacts to the increase in current by reversing the motor.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本项目中，Arduino用来测量马达的电流。当马达的旋转到达极限位置时，开始停滞，电流消耗增加。Arduino通过反应电流的增加来反转马达。
- en: '**INSPIRATION BEHIND THE AUTOMATIC MOTOR REVERSAL PROJECT**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**自动马达反转项目的灵感来源**'
- en: This project has its roots in a problem my friend had with a model train set
    accessory. The accessory included a tramway to take make-believe skiers up and
    down a miniature mountain. The original mechanism failed, so I created a little
    circuit to drive a DC motor that moved the skiers up and down. My idea was that
    when the tramcar reached either the top or bottom of its run, the motor would
    slow down or stall, resulting in an increase in current drain. That excessive
    current drain would reverse the motor by changing the polarity and thereby send
    the car back the other way. To date, the skiers are still at the bottom of the
    mountain because my friend and I never installed the board, but the core circuit
    works well and promises other interesting applications.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目的灵感来源于我的朋友遇到的一个模型火车配件问题。该配件包括一个索道，用来将假想的滑雪者上下小山。原始的机制失败了，于是我制作了一个小电路来驱动直流马达，使滑雪者上下移动。我的想法是，当电车到达轨道的顶部或底部时，马达会减速或停止，从而导致电流消耗增加。这种过高的电流消耗会通过改变极性反转马达，从而使电车反向行驶。到目前为止，滑雪者依旧停留在山脚下，因为我和我的朋友从未安装电路板，但核心电路运作良好，并且预示着其他有趣的应用。
- en: 'The ability to receive an input, process the information, and produce an output
    is *the* fundamental function of any microcontroller. In this case, the Arduino
    starts the motor turning, waits until it detects the motor drawing more current
    than usual, and then reverses the motor’s rotational direction. This simple function
    has a number of different applications: you could use the voltage drop to provide
    a safety turn-off for an overloaded motor, create a system to limit motion, and
    more.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 接收输入、处理信息并输出结果是*任何*微控制器的基本功能。在这个案例中，Arduino启动电机旋转，等待检测到电机的电流大于正常值，然后反转电机的旋转方向。这个简单的功能有许多不同的应用：你可以利用电压降来为超载电机提供安全关闭机制，创建限制运动的系统等等。
- en: '**Required Tools**'
  id: totrans-11
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**所需工具**'
- en: One 6-32 tap
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 一个6-32螺纹 tapping工具
- en: Drill and drill bits
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 电钻和钻头
- en: Needle-nose pliers
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 一把尖嘴钳
- en: '**Parts List**'
  id: totrans-15
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**零件清单**'
- en: One Arduino Nano or clone
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 一个Arduino Nano或克隆板
- en: One SN754410 quad H-bridge IC, with socket if desired (Note that if you use
    the socket, you lose whatever value the PCB offers as a heat sink.)
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一个SN754410四路H桥IC（如果需要，可以带插座）（注意，如果使用插座，PCB提供的散热功能将失效。）
- en: One printed circuit board (PCB) or perf board
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 一块印刷电路板（PCB）或通孔板
- en: One current-limiting resistor (You should have a selection available for experimentation,
    from 1 ohm to 10 ohm. A 1/8 W resistor will work for smaller motors, but get a
    1/4 or 1/2 W resistor for larger loads.)
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 一个限流电阻器（你应该有多个不同值的电阻可供实验，范围从1欧姆到10欧姆。对于小型电机，1/8 W电阻即可，但对于较大负载，建议使用1/4 W或1/2
    W电阻。）
- en: Two 330-ohm, 1/8 W resistors
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 两个330欧姆、1/8 W电阻
- en: Two LEDs, one red, one green
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 两个LED灯，一个红色，一个绿色
- en: One LM7805 voltage regulator
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一个LM7805电压调节器
- en: One plastic enclosure (I recommend the Hammond 1591 XXATBU.)
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一个塑料外壳（我推荐使用Hammond 1591 XXATBU。）
- en: Two 2-pin female headers to connect the motor to the shield
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 两个2针母头连接器，用于将电机连接到屏蔽板
- en: Four 4-pin female headers to plug the Nano into
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 四个4针母头连接器，用于将Nano插入
- en: One small solder lug
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 一个小型焊接接头
- en: One 3.5 mm, 2-conductor jack and plug
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 一个3.5毫米、2导线的插孔和插头
- en: One SPST toggle switch
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 一个单极单投（SPST）拨动开关
- en: One plug-in wall adapter with an output of 5 to 12V at 200 mA or better
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 一个插头式墙壁适配器，输出5至12V，至少200 mA
- en: One gear head motor (I used a 6V motor, the Amico 20 RPM 6VDC.)
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 一个齿轮头电机（我使用的是6V电机，Amico 20 RPM 6VDC。）
- en: Two M3×0.5 mm screws with threaded spacers
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 两个M3×0.5 mm螺丝，配有螺纹垫片
- en: Limit wires, preferably 0.039 piano wire or spring wire
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 限位电缆，最好是0.039钢琴线或弹簧线
- en: Scrap brass or aluminum
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 废铜或铝
- en: One 4-40 or 6-32 screw
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 一个4-40或6-32螺丝
- en: '**Downloads**'
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**下载**'
- en: 'Before you start this project, check the following resource files for this
    book at *[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始这个项目之前，检查本书的以下资源文件：*[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*
- en: '**Sketch** *Reverse.ino*'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '**草图** *Reverse.ino*'
- en: '**Shield** *Reverse.pcb*'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**屏蔽** *Reverse.pcb*'
- en: '**Template** *MotorMount.pdf*'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**模板** *MotorMount.pdf*'
- en: '**How Automatic Motor Reversal Works**'
  id: totrans-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**自动电机反转原理**'
- en: The Arduino is perfect for this project because it can control the whole system,
    and it simplifies the problem of accommodating different motors with different
    current requirements. Implementing the project in discrete components would require
    several more components than the equivalent Arduino circuit. Further, changing
    values for different motors or different reversal thresholds would mean changing
    a lot of hardware, but with Arduino, you just have to make a simple program change.
    The Arduino also provides the flexibility to add delays at each end of the run
    if desired.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: Arduino非常适合这个项目，因为它能够控制整个系统，并且简化了适配不同电流需求的电机的问题。如果用离散组件实现该项目，将需要比等效的Arduino电路更多的组件。而且，对于不同电机或不同反转阈值的变化，将意味着需要更换大量硬件，但使用Arduino，只需简单地更改程序。Arduino还提供了在运行的两端添加延迟的灵活性。
- en: The motor circuit you’ll connect to the Arduino uses a resistor between the
    power supply and the motor (see [Figure 2-2](ch02.xhtml#ch02fig2)). When the motor
    slows or stalls, the current increases, creating a voltage drop across the resistor.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 你将连接到Arduino的电机电路使用了一个电阻器，位于电源与电机之间（见[图2-2](ch02.xhtml#ch02fig2)）。当电机减速或停滞时，电流增大，导致电阻器上的电压降。
- en: '![image](../images/f02-02.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-02.jpg)'
- en: '*Figure 2-2: A voltage is created across the resistor between the positive
    supply and the input to the motor. It is this voltage that triggers the operation
    of the circuit*.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-2：电阻器两端的电压由正电源与电机输入之间产生。正是这个电压触发了电路的工作*。'
- en: The voltage drop across resistor R is the real-world input to the microcontroller.
    In this project, that voltage drop is fed to the Arduino Nano’s two analog input
    pins that straddle the dropping resistor. The microcontroller digests this input
    and creates an output designated by your program.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 电阻R上的电压降是微控制器的实际输入。在这个项目中，电压降被输入到Arduino Nano的两个模拟输入引脚，这两个引脚跨越了电压降电阻。微控制器处理这个输入并根据你的程序生成输出。
- en: '**NOTE**'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*You could implement the circuit with only a single analog input, but that
    would curtail some of the flexibility of the circuit—particularly if you use motors
    that run at different voltages*.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '*你可以只使用单个模拟输入来实现电路，但那样会限制电路的一些灵活性——特别是当你使用的电机工作在不同电压下时*。'
- en: '**The Schematic**'
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**原理图**'
- en: The agitator circuit feeds the voltage that appears across resistor R1 into
    two of the Arduino’s analog input pins, A0 and A1, setting up the real-world input
    (see [Figure 2-3](ch02.xhtml#ch02fig3)).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 振动器电路将电阻R1上的电压输入到Arduino的两个模拟输入引脚A0和A1中，设置了实际的输入（见[图2-3](ch02.xhtml#ch02fig3)）。
- en: '![image](../images/f02-03.jpg)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-03.jpg)'
- en: '*Figure 2-3: The completed schematic for this project shows the 5.6-ohm voltage-drop
    resistor (R1), the two LEDs (D), the 330-ohm current-limiting resistors (R2 and
    R3), and the quad H-bridge (SN754410), of which half is used*.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-3：本项目的完整原理图显示了5.6欧姆电压降电阻（R1）、两个LED（D）、330欧姆限流电阻（R2和R3）以及四通道H-Bridge（SN754410），其中一半用于使用*。'
- en: All grounds in this circuit are connected together, and the voltage across pins
    A0 and A1 is the voltage your program will use to decide when to reverse the motor’s
    direction. Note that this voltage is not referenced to either the positive or
    negative rail, but it must be between 0 and 5V to prevent damage to the microcontroller.
    If you get stuck on wiring the H-Bridge, see “[Using an H-Bridge](ch02.xhtml#ch02lev1sec7)”
    on [page 48](ch02.xhtml#page_48).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 这个电路中的所有地线连接在一起，A0和A1引脚之间的电压是你的程序用来决定何时反转电机方向的电压。请注意，这个电压不是相对于正电源轨或负电源轨的，但它必须在0到5V之间，以防止损坏微控制器。如果你在连接H-Bridge时遇到困难，请参阅[“使用H-Bridge”](ch02.xhtml#ch02lev1sec7)，该部分在[第48页](ch02.xhtml#page_48)。
- en: The analog-to-digital converter (ADC) behind each analog pin provides 10 bits
    of resolution, which means the converter can deliver up to 1,024—that is, 210—different
    values, from 0 to 1,023, depending on the input.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 每个模拟引脚背后的模拟到数字转换器（ADC）提供10位分辨率，这意味着转换器最多可以提供1,024个不同的值，即210，从0到1,023，具体取决于输入。
- en: Thus, if the power supply is 5V, each increment is roughly
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果电源是5V，每次增量大约是
- en: 5V ÷ 1023 ≈ 0.0048V.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 5V ÷ 1023 ≈ 0.0048V。
- en: '**Determining the Reversal Threshold**'
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**确定反转阈值**'
- en: In order to write a program that tells the Arduino when to reverse your motor,
    you have to determine that point yourself, with some math and a little bit of
    faith.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 为了编写一个程序，让Arduino知道何时反转电机，你必须自己确定这个临界点，通过一些数学计算和一点信念。
- en: First, determine the current drain of the motor you’re using. It’s usually printed
    on the motor’s label. The motor I used has a current drain of about 40 milliamps
    (mA), or 40 thousandths of an ampere (see [Figure 2-4](ch02.xhtml#ch02fig4)).
    Now we get into the heavy math. You’re going to have to use a formula known as
    *Ohm’s law* to determine the voltage threshold to set in the sketch.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，确定你所使用的电机的电流消耗。通常在电机标签上会标明。我的电机的电流消耗约为40毫安（mA），即40千分之一安培（见[图2-4](ch02.xhtml#ch02fig4)）。现在我们进入复杂的数学计算。你需要使用一个称为*欧姆定律*的公式来确定在程序中设置的电压阈值。
- en: '![image](../images/f02-04.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-04.jpg)'
- en: '*Figure 2-4: I used an Asian import motor, shown here with one limit pin installed,
    that has demonstrated reliability and performance. The screws are M3×0.05*.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-4：我使用了一款亚洲进口电机，如图所示安装了一个限位引脚，证明了其可靠性和性能。螺丝为M3×0.05*。'
- en: 'I used a 5.6-ohm resistor in series with my motor circuit. Using Ohm’s law,
    which states that voltage equals current times resistance (*V* = *IR*, with voltage
    in volts, current in amperes, and resistance in ohms), we’re able to calculate
    that 40 mA times the resistance of 5.6 ohm is about 0.224V:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我在电机电路中使用了一个5.6欧姆电阻。使用欧姆定律，即电压等于电流乘以电阻（*V* = *IR*，其中电压以伏特为单位，电流以安培为单位，电阻以欧姆为单位），我们可以计算出40
    mA乘以5.6欧姆的电阻大约是0.224V：
- en: '![image](../images/e0046-01.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e0046-01.jpg)'
- en: 'Now, go back to the ADC. It has 1,024 units to represent 5V, so each unit represents
    0.0049V. A little arithmetic reveals that the 0.224V dropped represents about
    46 units out of the 1,024:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，回到ADC。它有1,024个单位来表示5V，因此每个单位代表0.0049V。一点算术可以得出，0.224V的降压大约代表1,024个单位中的46个：
- en: '![image](../images/e0046-02.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e0046-02.jpg)'
- en: There are some estimates you have to take on faith—at least until you confirm
    with a test. This is one. As a motor is slowed or stalled, the current drain increases.
    Depending on the motor, the increase in current is typically somewhere between
    two and four times the normal current drain, but possibly more.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 有些估算你必须相信——至少在你通过测试确认之前是这样。这是其中之一。当电机减速或停转时，电流消耗会增加。根据电机的不同，电流的增加通常是正常电流的两到四倍，但也可能更多。
- en: '**NOTE**'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*With no load (or minimal load), current drain on the motor is minimal. With
    a usual running load, current can be four to five times the no-load current. With
    a heavy load, current can be as much as 10 times that, depending on the motor
    design*.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '*在没有负载（或负载很小）的情况下，电机的电流消耗最小。正常运行负载下，电流可能是无负载电流的四到五倍。在重负载下，电流可能是无负载电流的10倍，具体取决于电机设计*。'
- en: So according to our good-faith model, a good place to start setting the threshold
    for reversing the motor would be in the area of 90 to 100 units of the ADC’s 1,024
    units.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 所以根据我们的良好信念模型，设置电机反转阈值的一个好起点是ADC的1,024单位中的90到100个单位之间。
- en: Alternatively, you could use a digital multimeter to measure the exact current
    drain first (see [Figure 2-5](ch02.xhtml#ch02fig5)). To use a multimeter to measure
    current drain, set its indicator to 200 mA to start; you may need to set it as
    high as 10 A if the motor doesn’t move when you build the circuit described here.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你也可以使用数字万用表先测量精确的电流消耗（参见[图 2-5](ch02.xhtml#ch02fig5)）。使用万用表测量电流消耗时，初始时将其指示器设置为200
    mA；如果电机在搭建这里描述的电路时没有动起来，你可能需要将其设置为10 A。
- en: '![image](../images/f02-05.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-05.jpg)'
- en: '*Figure 2-5: Multimeters are handy for many projects and useful to have around
    the house. They’re available from a variety of sources at a range of prices. I
    use this cheap one from Electronic Goldmine, but if you plan to do high-voltage
    experiments, invest in a really good multimeter*.'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-5：万用表对许多项目非常有用，家里备一个很方便。它们可以从不同的来源购买，价格范围也很广。我使用的是来自Electronic Goldmine的便宜款，但如果你计划做高压实验，建议投资一款非常好的万用表。*'
- en: Build the circuit as shown in [Figure 2-6](ch02.xhtml#ch02fig6), and then connect
    the red lead of the multimeter to the power supply. Connect the black lead of
    the multimeter to the motor lead to complete the circuit. If the reading is negative,
    reverse the red and black leads of the multimeter. Depending on your power supply
    voltage and the motor’s voltage requirement, you may also need to connect the
    motor to power through a voltage regulator circuit, as described in “[The Voltage
    Regulator](ch02.xhtml#ch02lev3sec3)” on [page 58](ch02.xhtml#page_58).
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 按照[图 2-6](ch02.xhtml#ch02fig6)所示搭建电路，然后将万用表的红色探头连接到电源上。将万用表的黑色探头连接到电机的电线，完成电路连接。如果读数为负值，请反转万用表的红色和黑色探头。根据电源电压和电机电压要求，你可能还需要通过电压调节器电路将电机连接到电源，如在“[电压调节器](ch02.xhtml#ch02lev3sec3)”一节中所描述的，见[第58页](ch02.xhtml#page_58)。
- en: '![image](../images/f02-06.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-06.jpg)'
- en: '*Figure 2-6: Connection diagram for measuring the current drain of the motor*'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-6：测量电机电流消耗的连接图*'
- en: To check the current drain, hold the shaft of the motor to slow it, and watch
    the readout on the multimeter. You can get an accurate indication of the number
    of ADC steps by plugging your readout in to Ohm’s law, calculating the voltage,
    and converting into steps, as I did.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查电流消耗，请抓住电机的轴以减缓它，并观察万用表上的读数。你可以通过将读数代入欧姆定律，计算电压并转换为步数，像我做的那样，从而得到准确的ADC步数指示。
- en: '**NOTE**'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*In the sketch, I use a value of 100 as the threshold for reversing. You could
    also calculate the absolute value of the voltage drop by multiplying 100 by 0.0049V:*'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '*在草图中，我使用了100作为反转的阈值。你也可以通过将100乘以0.0049V来计算电压降的绝对值：*'
- en: 100 steps × 0.0049V per step = 0.49V
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 100步 × 每步0.0049V = 0.49V
- en: Remember, the exact threshold depends on the type of motor you use. Different
    motors will have different current capabilities and may even require a different
    value resistor. Also, note that the value of current drain is not precise. The
    nature of permanent magnet motors is such that the current drain under load will
    be a range, not an exact number.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，精确的阈值取决于你使用的电机类型。不同的电机具有不同的电流能力，甚至可能需要不同阻值的电阻。另外，请注意电流消耗的数值并不精确。永久磁铁电机的特性是负载下的电流消耗是一个范围，而不是一个精确的数值。
- en: As the current increases, the voltage drop increases until it reaches the point
    where the microcontroller is instructed to do something. At that point, the difference
    in analog voltage that appears between A0 and A1 is above the preset threshold,
    which will set the Arduino into action. Once the threshold is reached, the Arduino
    tells the H-bridge to reverse the current to the motor.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 随着电流的增加，电压降也会增加，直到达到微控制器被指示执行某个操作的点。在此时，A0 和 A1 之间出现的模拟电压差会超过预设的阈值，这将使 Arduino
    启动。一旦达到阈值，Arduino 会告诉 H 桥反转电流至电机。
- en: '**Using an H-Bridge**'
  id: totrans-81
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**使用 H 桥**'
- en: You’ll likely encounter an H-bridge driver in future projects because it’s a
    very versatile part and can serve numerous functions. There is quite a selection
    of H-bridge chips available, but I’ve been using the Texas Instruments SN754410
    quad H-bridge. It’s popular because it operates over a wide voltage range and
    is extremely flexible—and inexpensive. The logic operates at a 5V level, while
    the drive can be as much as 36V with a continuous output of 1 A (and a peak output
    of 2 A), making it capable of driving a wide variety of hobby motors, solenoids,
    and even relays. It comes in a standard 16-pin dual inline package (DIP). The
    DIP package was a longtime standard but is slowly being replaced by newer types
    (see “[Using SOICs](ch00.xhtml#ch00lev1sec7)” on [page 20](ch00.xhtml#page_20)).
    It’s the conventional centipede-looking circuit.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在未来的项目中，你可能会遇到 H 桥驱动器，因为它是一个非常多功能的部件，可以执行许多不同的功能。市面上有多种 H 桥芯片可供选择，但我一直在使用德州仪器的
    SN754410 四端 H 桥。它很受欢迎，因为它能在宽广的电压范围内工作，非常灵活且价格便宜。逻辑电平为 5V，而驱动电压可高达 36V，持续输出 1A（峰值输出为
    2A），因此能够驱动各种爱好用电机、电磁铁，甚至继电器。它采用标准的 16 引脚双排直插封装（DIP）。DIP 封装曾是长期的标准，但现在正逐渐被更新的类型所取代（请参见
    “[使用 SOIC](ch00.xhtml#ch00lev1sec7)” 在 [第 20 页](ch00.xhtml#page_20)）。它是传统的“千足虫”式电路。
- en: '[Figure 2-7](ch02.xhtml#ch02fig7) shows the pinout for the SN754410 H-bridge,
    and [Table 2-1](ch02.xhtml#ch02tab1) shows its function table. You’ll find more
    information in Texas Instruments’ data sheet at *[http://www.ti.com/lit/ds/slrs007b/slrs007b.pdf](http://www.ti.com/lit/ds/slrs007b/slrs007b.pdf)*.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-7](ch02.xhtml#ch02fig7) 显示了 SN754410 H 桥的引脚图，而 [表 2-1](ch02.xhtml#ch02tab1)
    显示了它的功能表。你可以在德州仪器的数据手册中找到更多信息，链接为 *[http://www.ti.com/lit/ds/slrs007b/slrs007b.pdf](http://www.ti.com/lit/ds/slrs007b/slrs007b.pdf)*。'
- en: '![image](../images/f02-07.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-07.jpg)'
- en: '*Figure 2-7: The pinout for the SN754410 quad H-bridge chip used in this project.
    Note that pin 1 is in the top-left corner of the chip when viewed from the top
    with the notch pointing up*.'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-7：此项目中使用的 SN754410 四端 H 桥芯片的引脚图。请注意，当从顶部观看时，带缺口指向上的芯片左上角是引脚 1*。'
- en: '**Table 2-1:** Function Table for the SN754410'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**表 2-1：** SN754410 的功能表'
- en: '| **Inputs** |  | **Output (Y)** |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| **输入** |  | **输出（Y）** |'
- en: '| --- | --- | --- |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| **A** | **EN** |  |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| **A** | **EN** |  |'
- en: '| --- | --- | --- |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| H | H | H |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| H | H | H |'
- en: '| L | H | L |'
  id: totrans-92
  prefs: []
  type: TYPE_TB
  zh: '| L | H | L |'
- en: '| X | L | Z |'
  id: totrans-93
  prefs: []
  type: TYPE_TB
  zh: '| X | L | Z |'
- en: According to the data sheet, in this function table, *H* stands for *high level,
    L* stands for *low level, X* means the level is irrelevant to the circuit behavior,
    and *Z* indicates high impedance, which turns the motor off.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 根据数据手册，在此功能表中，*H* 代表 *高电平*，*L* 代表 *低电平*，*X* 表示电平与电路行为无关，*Z* 表示高阻抗，这会关闭电机。
- en: The H-bridge is an elegant motor-control solution for several reasons. It allows
    you to reverse the polarity from a single supply, and it provides for different
    logic and control voltages. In addition, if both inputs of the dual H-bridge are
    either high or low, there will be no output. The sketch takes advantage of that
    in a function written to stop the motor. Other projects in this volume also use
    this capability.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: H 桥是一种优雅的电机控制解决方案，原因有几个。它允许从单一电源反转极性，并且提供不同的逻辑和控制电压。此外，如果双 H 桥的两个输入都为高或低，则没有输出。该草图利用了这一点，在一个函数中编写了停止电机的指令。本书中的其他项目也使用了这个功能。
- en: '**The Breadboard**'
  id: totrans-96
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**面包板**'
- en: For most Arduino projects, I suggest building the circuit on a breadboard first
    to make sure you’re going in the right direction and to prove your initial hypothesis.
    Use a standard breadboard and the plug-in wires that are sold as accessories for
    the breadboard (see [Figure 2-8](ch02.xhtml#ch02fig8)).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数 Arduino 项目，我建议首先在面包板上搭建电路，以确保你走在正确的方向上，并验证你的初步假设。使用标准面包板和作为配件出售的插头线（参见
    [图 2-8](ch02.xhtml#ch02fig8)）。
- en: '![image](../images/f02-08.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-08.jpg)'
- en: '*Figure 2-8: Typical small breadboard and plug-in wires*'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-8：典型的小型面包板和插头线*'
- en: Before you begin building the circuit on the breadboard, look over your Arduino.
    Many Arduino boards come complete with the male headers already soldered in place.
    However, that’s not always the case; some Asian suppliers include the headers
    loose with the processor board. If your board lacks headers, see “[Preparing the
    Arduino Board](ch00.xhtml#ch00lev1sec1)” on [page 2](ch00.xhtml#page_2) for complete
    instructions on attaching them.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在你开始在面包板上搭建电路之前，先检查一下你的 Arduino。许多 Arduino 板已经预先焊接好了男性插针。然而，并非所有情况都如此；一些亚洲供应商会将插针与处理器板一起放松在包装里。如果你的板子缺少插针，请参阅
    “[准备 Arduino 板](ch00.xhtml#ch00lev1sec1)” 章节，在 [第 2 页](ch00.xhtml#page_2) 找到完整的安装说明。
- en: Most breadboards include a red and blue stripe on the entire length of each
    side of the board; the holes next to these stripes are used for power (+) and
    ground (−), respectively. Before you hook up the circuit, use a wire to connect
    the red column on the right to the red column on the left. Connect the blue columns
    to each other, too.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数面包板在每侧的整个长度上都有红色和蓝色条纹；这些条纹旁边的孔分别用于电源（+）和接地（−）。在连接电路之前，使用一根线将右侧的红色列与左侧的红色列连接起来。同样，将蓝色列也连接在一起。
- en: '**WARNING**'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**警告**'
- en: '*Do* not *connect the red column to the blue column! This will cause a short
    circuit and will burn out the electronics*.'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '*不要* *将红色列连接到蓝色列！这会导致短路，并烧坏电子元件*。'
- en: '[Figure 2-9](ch02.xhtml#ch02fig9) shows my breadboard for this project, and
    the schematic from [Figure 2-3](ch02.xhtml#ch02fig3) lays out the connections.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-9](ch02.xhtml#ch02fig9) 展示了我用于这个项目的面包板，来自 [图 2-3](ch02.xhtml#ch02fig3)
    的原理图列出了连接方式。'
- en: '![image](../images/f02-09.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-09.jpg)'
- en: '*Figure 2-9: This is the breadboard I used as a proof-of-concept to make sure
    everything worked as anticipated*.'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-9：这是我用作概念验证的面包板，确保一切如预期工作*。'
- en: '**WARNING**'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**警告**'
- en: '*Don’t plug the Arduino in to the computer while it is actually receiving power
    from the voltage regulator. This could burn out the Arduino*.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '*在 Arduino 正在通过电压调节器接收电源时，不要将其插入计算机。这可能会烧坏 Arduino*。'
- en: 'I suggest prototyping your circuit as follows:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议按以下方式原型化你的电路：
- en: Insert the Nano board into the breadboard, leaving a couple of rows of holes
    at one end.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 Nano 板插入面包板，留出几行孔在一端。
- en: Place a wire from the pin labeled *5V* on the Nano (pin 27) to the red positive
    rail on the breadboard.
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从标记为 *5V* 的 Nano 引脚（引脚 27）引出一根线，连接到面包板上的红色正极轨道。
- en: Place a wire from GND on the Nano (pin 29) to the blue negative rail on the
    breadboard.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 Nano 的 GND 引脚（引脚 29）引出一根线，连接到面包板上的蓝色负极轨道。
- en: Find three consecutive holes on the board where they will not connect to anything
    and insert the three leads of the LM7805 into them.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到面包板上三个连续的孔，确保它们不会与任何东西连接，然后将 LM7805 的三个引脚插入这些孔。
- en: The input lead of the LM7805 will go to the 9V power supply, the ground of the
    LM7805 will go to the blue negative rail, and the output of the chip will go to
    the red positive rail. (See [Figure 2-10](ch02.xhtml#ch02fig10) for the LM7805
    pinout.)
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: LM7805 的输入引脚将连接到 9V 电源，LM7805 的接地引脚将连接到蓝色负极轨道，芯片的输出引脚将连接到红色正极轨道。（参见 [图 2-10](ch02.xhtml#ch02fig10)
    查看 LM7805 引脚排列图。）
- en: '![image](../images/f02-10.jpg)'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f02-10.jpg)'
- en: '*Figure 2-10: Pinout of the LM7805 regulator*'
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 2-10：LM7805 调节器的引脚排列*'
- en: Insert the H-bridge into the breadboard with the notch facing the Nano, and
    leave a couple of rows between the H-bridge and the Nano.
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 H-桥插入面包板，缺口朝向 Nano，并且在 H-桥和 Nano 之间留出几行空位。
- en: Use a wire to connect pin 1 and pin 16 of the H-bridge together (see [Figure
    2-7](ch02.xhtml#ch02fig7)). Then, use another wire to connect pin 1 to the positive
    connection on the breadboard. This connection from pins 1 and 16 provides the
    voltage to run the logic on the H-bridge and also to enable the section of the
    H-bridge used.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用一根线将H桥的第1针脚和第16针脚连接起来（见[图2-7](ch02.xhtml#ch02fig7)）。然后，再用一根线将第1针脚连接到面包板的正连接端。这条来自第1针脚和第16针脚的连接为H桥提供运行逻辑的电压，并使所用的H桥部分启用。
- en: Use a wire to connect pins 4 and 5 of the H-bridge, and then connect them to
    the negative terminal on the breadboard. Running a wire from either pin 4 or pin
    5 to ground will do the trick.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用一根线将H桥的第4针脚和第5针脚连接起来，然后将它们连接到面包板的负极端。将第4针脚或第5针脚通过电线连接到地面即可。
- en: Similarly, connect pins 12 and 13 of the H-bridge together, and connect them
    to ground.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样地，将H桥的第12针脚和第13针脚连接起来，并将它们连接到地面。
- en: Use a wire to connect one side of the motor (it doesn’t matter which) to pin
    3 of the H-bridge, and connect pin 6 of the H-bridge to the other side of the
    motor.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用一根线将电机的一端（哪一端不重要）连接到H桥的第3针脚，并将H桥的第6针脚连接到电机的另一端。
- en: Connect digital pin D12 of the Nano to pin 2 of the H-bridge.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Nano的数字引脚D12连接到H桥的第2针脚。
- en: Connect digital pin D13 of the Nano to pin 7 of the H-bridge.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将Nano的数字引脚D13连接到H桥的第7针脚。
- en: Connect one side of the 5.6-ohm resistor (R1) to pin 8 of the H-bridge.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将5.6欧姆电阻（R1）的一端连接到H桥的第8针脚。
- en: Connect the other side of resistor R1 to the red positive rail on the breadboard.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电阻R1的另一端连接到面包板上的红色正极轨道。
- en: Insert a wire from pin 8 of the H-bridge to analog pin A0 of the Nano.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用一根线将H桥的第8针脚与Nano的模拟引脚A0连接。
- en: Insert a wire from the positive (red) connector to analog pin A1 of the Nano.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用一根线将正极（红色）连接器与Nano的模拟引脚A1连接。
- en: Insert the positive side (long lead) of one LED to D12 of the Nano.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将一个LED的正极（长引脚）插入Nano的D12针脚。
- en: Insert the negative side of the LED into an empty row on the breadboard.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将LED的负极插入面包板的空白行中。
- en: From that row with the negative side of the LED, connect a 300-ohm resistor
    (R2) to the blue negative rail.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从LED的负极所在的那一行，连接一根300欧姆的电阻（R2）到蓝色负极轨道。
- en: Insert the positive side (long lead) of the second LED to D13 of the Nano.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第二个LED的正极（长引脚）插入Nano的D13针脚。
- en: Insert the negative side of the second LED into an empty row on the breadboard.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将第二个LED的负极插入面包板的空白行中。
- en: From that row with the negative side of the second LED, connect a 330-ohm resistor
    (R3) to the blue negative rail.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从第二个LED的负极所在的那一行，连接一根330欧姆电阻（R3）到蓝色负极轨道。
- en: The VCC2 supply drives the output to the motor. It goes from the positive side
    of the supply—the output pin of the regulator in the schematic—through resistor
    R1 to pin 8 of the H-bridge. VCC2 becomes the low-voltage side of resistor R1;
    it will have a lower voltage as the load on the motor increases because the other
    end of the resistor is attached to the positive of the power supply. The VCC2
    supply voltage can be anywhere from the 5V that the logic uses to the 36V limit
    of the H-bridge. For this project, I simply tied the voltage-drop resistor directly
    to the 5V supply, which worked well with a 6V motor.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: VCC2电源驱动电机输出。它从电源的正极开始——原理图中的稳压器输出针脚——通过电阻R1到达H桥的第8针脚。VCC2成为电阻R1的低电压端；随着电机负载的增加，它的电压会变低，因为电阻的另一端连接到电源的正极。VCC2电源电压可以在5V的逻辑电压到H桥的36V极限之间变化。对于这个项目，我直接将电压降电阻连接到5V电源，这对于一个6V电机来说非常适用。
- en: The Nano’s D12 and D13 output pins drive the A inputs of the H-bridge, while
    A0 and A1 inputs straddle the voltage-drop resistor, R1\. It’s this voltage-drop
    value that tells the Arduino to change the outputs to instruct the H-bridge to
    reverse the motor. When output D13 is high and D12 is low, output pin 2Y on the
    H-bridge becomes positive while 1Y remains negative. When D12 is high and D13
    is low, the reverse happens, and 1Y becomes positive while 2Y stays negative.
    When both pins have high or low output, they are at the same potential (or voltage),
    and the motor is not driven. (Refer to the function table in the H-bridge chip’s
    data sheet, or see [Table 2-1](ch02.xhtml#ch02tab1).)
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: Nano的D12和D13输出引脚驱动H桥的A输入，而A0和A1输入则跨接在电压降电阻R1上。正是这个电压降值告诉Arduino改变输出，以指示H桥反转电动机。当输出D13为高而D12为低时，H桥的输出引脚2Y变为正，而1Y保持为负。当D12为高而D13为低时，反转发生，1Y变为正而2Y保持为负。当两个引脚的输出都是高或低时，它们处于相同的电势（或电压），电动机不会被驱动。（参见H桥芯片的数据手册中的功能表，或查看[表2-1](ch02.xhtml#ch02tab1)。）
- en: '**The Sketch**'
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: The following sketch is written so that when the motor reaches its limits in
    one direction, both outputs go low, and when it reaches its limits in the other
    direction, both outputs go high. When both outputs are either high or low, there
    is no potential across the motor and it is stopped for a specified delay time.
    After the delay is satisfied, the motor starts in the other direction. Because
    LEDs are wired to pins D12 and D13, you’ll also get a visual indication. Both
    LEDs are illuminated when the motor pauses in one direction, and both LEDs are
    off whe the motor pauses in the other direction.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 以下草图的编写方式是，当电动机达到一个方向的极限时，两个输出都变低；当电动机达到另一个方向的极限时，两个输出都变高。当两个输出都是高或低时，电动机两端没有电压，并且会停止一定的延迟时间。延迟满足后，电动机会开始反向运转。由于LED连接到D12和D13引脚，你还会看到一个视觉指示。当电动机暂停在一个方向时，两个LED都亮起，而当电动机暂停在另一个方向时，两个LED都熄灭。
- en: '[PRE0]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This sketch sets up human-understandable aliases for the pins the project uses
    and adds convenient constants and variables for referencing analog inputs and
    other key values. After the sketch defines and initializes the input and output
    pins at ➊, it starts the main loop at ➋.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 这个草图为项目使用的引脚设置了易于理解的别名，并为引用模拟输入和其他关键值添加了便捷的常量和变量。在草图定义并初始化输入输出引脚之后，开始主循环。
- en: Inside the main loop, the sketch finds the voltage drop across the resistor
    in terms of analog steps ➌. At ➍, the sketch determines whether the reading was
    high or low. Threshold values from 100 to 120 work reliably for the 6V, 20 RPM
    motor I used, but you may need to experiment to find the right value for your
    motor. See “[Determining the Reversal Threshold](ch02.xhtml#ch02lev1sec6)” on
    [page 46](ch02.xhtml#page_46) for more on how to estimate the threshold value.
    The reading at ➎ dictates whether to reverse the motor.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在主循环中，草图会计算电阻上的电压降，并以模拟步长表示 ➌。在 ➍，草图会判断读取值是高还是低。从100到120的阈值对我使用的6V、20转/分钟电动机来说是可靠的，但你可能需要实验以找到适合你电动机的正确值。关于如何估算阈值的更多信息，请参见“[确定反转阈值](ch02.xhtml#ch02lev1sec6)”以及[第46页](ch02.xhtml#page_46)。在
    ➎ 处的读取值决定是否需要反转电动机。
- en: '**THE DROPPING RESISTOR IS KEY TO SENSING CURRENT**'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '**分压电阻对电流感应至关重要**'
- en: I’ve tried this reversing circuit with several similar motors, and I’ve only
    ever needed to make a slight adjustment to the threshold value in the sketch.
    But for a motor with extremely high or low current drain, you may need to anticipate
    a much different value for analogdifference and/or use a different dropping resistor,
    which was R1 in the schematic. You might need to reduce the value of the dropping
    resistor to something like 2.2 ohms, which then requires a reduction in the value
    you compare analogdifference to.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我已经使用几个类似的电动机测试过这个反转电路，只需要对草图中的阈值做一点微调。然而，对于电流消耗极高或极低的电动机，你可能需要预估一个与模拟差异（analogdifference）完全不同的值，或者使用不同的分压电阻，这在电路图中是R1。你可能需要将分压电阻的值降低到像2.2欧姆这样的数值，这样就需要减小你用来比较模拟差异的值。
- en: For most small motors, the lower the value of the dropping resistor—which is
    usually between 1 and 10 ohms—the better, as the analog difference tends to be
    more stable. For other motors, experiment to find the resistor value that works
    best.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 对于大多数小电动机来说，分压电阻的值越低（通常在1到10欧姆之间），模拟差异通常会更稳定，效果越好。对于其他电动机，进行实验以找到最适合的电阻值。
- en: When the sketch checks `reading` to see whether the motor needs reversing, it
    also uses the `debounce` value to assure that a high reading wasn’t caused by
    electrical noise created by the motor’s commutator or brushes during a legitimate
    reversal. I set `debounce` to 400, but you may have to adjust that for different
    motors. For larger motors specifically, this may need to be set a little higher.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当草图检查`reading`以查看电机是否需要反转时，还使用`debounce`值来确保高读数不是由电机换向器或刷子在合法反向期间产生的电噪声造成的。我将`debounce`设置为400，但对于不同的电机可能需要进行调整。特别是对于较大的电机，可能需要将其设置得更高。
- en: This sketch also includes a few functions that aren’t strictly necessary to
    reversing the motor but are helpful when using the motor as a PCB agitator. These
    aspects of the project may appeal to you in other applications, too, so let’s
    look at them in more detail.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这个草图还包括一些在将电机作为PCB搅拌器时并非必需但在其他应用中可能有帮助的功能。让我们更详细地看看这些项目的方面。
- en: One of the things that I added was a counter to track the number of times that
    the motor reversed. In the sketch, the count increment appears at ➏ as `count++`.
    In the project, when a certain value of `count` is reached, the motor stops (if
    `count = numberstops`). If you wanted to set off an alarm, such as an audible
    noisemaker, to tell you it’s finished, that can easily be accomplished by adding
    a line to write to one of the digital outputs. I set a maximum `count` value in
    the sketch, using `numberstops = 250`, so the motor will reverse 250 times and
    then stop. That provides a little more than 15 minutes of etching time with the
    motor I’ve selected running at 5V, which should be enough to etch most circuit
    boards.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 我添加的一项功能是添加一个计数器来跟踪电机反转的次数。在草图中，计数增量显示在➏处为`count++`。在项目中，当`count`达到某个值（如果`count
    = numberstops`），电机将停止。如果您希望设置一个警报，比如可听到的报警器来告知您完成了，可以通过添加一行代码来轻松实现这一点，以写入其中一个数字输出引脚。我在草图中设置了最大的`count`值，使用`numberstops
    = 250`，所以电机将反转250次然后停止。这提供了略多于15分钟的蚀刻时间，使用5V运行的我选择的电机，这应该足够蚀刻大多数电路板。
- en: When the maximum count is reached, the sketch enters the `while` loop at the
    beginning, stopping the agitation. This basically stalls the processor, and you
    have to hit the power switch to restart, or reset, the agitator. The placement
    of this loop near the beginning of the software is just a reminder that it’s there.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 当达到最大计数时，草图进入`while`循环开始，停止搅拌。这基本上使处理器停滞，您必须按电源开关重新启动或重置搅拌器。将此循环放在软件的开始附近只是提醒它的存在。
- en: The thinking behind the count, optional alarm, and stop capabilities is that
    a reminder to check on your board is helpful. If the board has completed etching,
    continued agitation would speed undercutting of the traces, which is not a good
    thing because it weakens (and can break!) small copper traces. On the other hand,
    if it fails to etch in a reasonable time, you might need to refresh the etchant.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 计数、可选的警报和停止功能的背后思想是提醒您检查电路板是有帮助的。如果电路板已完成蚀刻，继续搅拌会加速线路的削蚀，这是不好的，因为它会削弱（甚至可能断裂！）小铜线迹。另一方面，如果在合理的时间内未完成蚀刻，您可能需要刷新蚀剂。
- en: '**MOD: ADJUSTABLE STOP AMOUNT**'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '**MOD: 可调停止量**'
- en: If setting a fixed stop maximum in a sketch doesn’t leave you satisfied, try
    connecting a potentiometer between power and ground with the adjust pin, which
    is usually the center pin on the potentiometer, to the A2 input pin of the Arduino.
    Then, set numberstops equal to the value of A2, which should range from 0 to 1,023,
    depending on the position of the potentiometer wiper.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在草图中设置一个固定的最大停止数让你不满意，可以尝试在电源和地之间连接一个电位器，将调节引脚（通常是电位器的中间引脚）连接到Arduino的A2输入引脚。然后，将numberstops设置为A2的值，该值应在0到1,023之间，这取决于电位器刮板的位置。
- en: Here’s how the sketch would differ. First, change
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 草图的区别在于这里。首先，更改
- en: '[PRE1]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: to
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 至
- en: '[PRE2]'
  id: totrans-154
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Then, add the following:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，添加以下内容：
- en: '[PRE3]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Because the timing is relative, you could use a 270-degree rotation linear potentiometer
    and make some rough markings on the enclosure to indicate the number of counts.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 因为时间是相对的，您可以使用一个270度旋转的线性电位器，并在外壳上做一些粗略的标记以指示计数的次数。
- en: '**The Shield**'
  id: totrans-158
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**护盾**'
- en: For this project, I recommend making a small PCB *shield*, which is basically
    a host board designed to plug into the Arduino Nano. With a shield, your motor
    reversal project can remain compact, and you can design and build it with a minimum
    of effort.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个项目，我建议制作一个小型的PCB*护盾*，它基本上是一个设计为插入Arduino Nano的主板。使用护盾，你的电机反转项目可以保持紧凑，并且你可以以最少的工作量进行设计和制作。
- en: '***PCB Layout***'
  id: totrans-160
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***PCB布局***'
- en: You could just solder the parts for your project directly to a piece of perforated
    project board, but I believe creating and populating the shield takes less time
    than putting the parts on a perforated board and wiring them by hand. You’ll also
    gain invaluable experience by preparing, etching, drilling, and assembling your
    own PCB. And in the end, some projects are complex enough that wiring by hand
    just won’t be an attractive option. (See [Figure 5-13](ch05.xhtml#ch05fig13) on
    [page 148](ch05.xhtml#page_148) for an example.)
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以直接将项目的部件焊接到一块带孔的项目板上，但我相信，制作并组装护盾所需的时间要比将部件放到穿孔板上并手工接线少。通过准备、蚀刻、钻孔和组装自己的PCB，你还将获得宝贵的经验。而且最终，一些项目足够复杂，手工接线就不再是一个理想的选择。（参考[图5-13](ch05.xhtml#ch05fig13)和[第148页](ch05.xhtml#page_148)中的示例。）
- en: To make my printed circuit layouts, I use a free software program called ExpressPCB.
    [Figure 2-11](ch02.xhtml#ch02fig11) shows my layout of the PCB.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 为了制作我的印刷电路布局，我使用了一款免费的软件程序，叫做ExpressPCB。[图2-11](ch02.xhtml#ch02fig11)展示了我所用的PCB布局。
- en: '![image](../images/f02-11.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-11.jpg)'
- en: '*Figure 2-11: This is the actual PCB pattern I used in the project. The Arduino
    Nano can be soldered directly to the board or can plug in if you use header connectors*.'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-11：这是我在项目中使用的实际PCB图案。Arduino Nano可以直接焊接到板上，也可以通过插针连接器插入。*'
- en: If you don’t want to lay out your own PCB but still want to make the board,
    download the *Reverse.pcb* file from *[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*
    and follow the directions in “[Making Your Own PCBs](ch00.xhtml#ch00lev1sec5)”
    on [page 13](ch00.xhtml#page_13). When you’ve made your PCB, just solder all the
    components to it in the right places, and you’ll be done with the shield.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不想自己设计PCB，但仍然想制作电路板，可以从*[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*下载*Reverse.pcb*文件，并按照[第13页](ch00.xhtml#page_13)中“[制作自己的PCB](ch00.xhtml#ch00lev1sec5)”的说明操作。制作好你的PCB后，只需将所有部件焊接到正确的位置，你的护盾就完成了。
- en: '***Shield Design Notes***'
  id: totrans-166
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***护盾设计说明***'
- en: If you lay out your own shield, there are a few design factors you should definitely
    keep in mind.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你自己设计护盾，有几个设计因素你必须牢记。
- en: '**Analog Inputs**'
  id: totrans-168
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**模拟输入**'
- en: Be certain to connect the A1 and A0 inputs to the correct sides of resistor
    R1, according to the schematic in [Figure 2-3](ch02.xhtml#ch02fig3). A1 should
    attach to the power supply side and A0 to the H-bridge side. In the sketch, to
    compare the analog values, we take the difference as `analogdifference = analogValue1
    – analogValue0`, with `analogValue1` as the input at the high end of the resistor.
    In this case, `analogValue0` is A0, and `analogValue1` is A1.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 请确保根据[图2-3](ch02.xhtml#ch02fig3)中的电路原理图，将A1和A0输入连接到R1电阻器的正确端。A1应连接到电源侧，A0连接到H桥侧。在草图中，为了比较模拟值，我们计算差值：`analogdifference
    = analogValue1 – analogValue0`，其中`analogValue1`是电阻器高端的输入信号。在这个例子中，`analogValue0`是A0，`analogValue1`是A1。
- en: '**Grounding and Heat Sink**'
  id: totrans-170
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**接地和散热**'
- en: Pins 4, 5, 12, and 13 are ground on the H-bridge, and they are also a heat sink
    to keep the chip from overheating. A small area on the proposed shield is included
    to increase the heat sink area. If you’re using a relatively small motor—such
    as the 6V, 20 mA unit—no more heat sinking is required. If you’re using a much
    larger motor or driving a heavy load, consider using the second side of the PCB
    as a heat sink.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 引脚4、5、12和13是H桥上的地线，它们也充当散热器以防止芯片过热。在拟议的护盾上包含了一个小区域，用于增加散热器的面积。如果你使用的是相对较小的电机——例如6V、20
    mA的电机——则不需要更多的散热措施。如果你使用的是更大的电机或驱动较重的负载，可以考虑使用PCB的另一面作为散热器。
- en: '**The Voltage Regulator**'
  id: totrans-172
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**电压调节器**'
- en: This project uses its own 5V regulator to supply power to the Nano. A 9V, 200
    mA plug-in wall adapter is connected to the voltage regulator LM7805 on the shield,
    which reduces the voltage from about 9V to 5V. An external regulator is included
    so a more powerful regulator than the one built into the Nano can be used. Make
    sure to connect the pins of the regulator correctly (see [Figure 2-10](ch02.xhtml#ch02fig10)).
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目使用了独立的5V稳压器来为Nano供电。一个9V、200 mA的插头墙适配器连接到板载的LM7805稳压器，这将电压从大约9V降到5V。外部稳压器被包括进来，以便使用比Nano内置稳压器更强大的稳压器。确保正确连接稳压器的引脚（见[图2-10](ch02.xhtml#ch02fig10)）。
- en: You could feed a 7.5V DC or 9V DC wall supply directly to the VIN pin of the
    Nano and use the onboard regulator, which worked with my motor. But if you use
    a larger motor—or higher-current LEDs—it might tax the onboard regulator and could
    conceivably burn it out.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将7.5V DC或9V DC墙壁电源直接连接到Nano的VIN引脚，并使用板载稳压器，这样我的电机就能正常工作。但是，如果你使用更大的电机或高电流LED，它可能会使板载稳压器负担过重，甚至可能烧坏它。
- en: The higher the voltage of the power supply, the more work the regulator has
    to do to bring it down to 5V. Overtaxing the regulator could cause it to heat
    up and fail. For example, feeding the regulator 12V is probably at the high end
    for 5V regulation. A 9V input is better, and a 7.5V input is better yet. If the
    regulator chip gets warm, add a heat sink to the tab. A small piece of aluminum
    is often sufficient, but a regular heat sink can be used. And while it’s good
    to have the supply voltage as close to the output voltage as possible, remember
    that the regulator needs at least 1V above the regulated output to work, so it
    must be fed with at least 6V, which is a 5V-regulated output plus 1V. Input voltages
    above 12V are feasible, too, but just be sure not to exceed the limits of the
    device.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 电源电压越高，稳压器将需要更多的工作来将电压降低到5V。过度使用稳压器可能会导致其过热并失效。例如，给稳压器输入12V可能是5V稳压的上限。9V输入更好，而7.5V输入则更优。如果稳压器芯片变热，给其散热片加装散热器。一个小的铝片通常就足够了，但也可以使用普通的散热器。而且，尽管最好将供电电压尽可能接近输出电压，但请记住，稳压器需要至少比稳压输出高1V才能正常工作，因此它必须至少接收到6V，即5V稳压输出加上1V。超过12V的输入电压也是可行的，但一定要确保不要超过设备的限制。
- en: '**MOD: USING A HIGHER VOLTAGE**'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**MOD: 使用更高电压**'
- en: If you use a higher-voltage motor for this project, it will turn faster, have
    more torque, and so on. But you *can’t* simply connect the higher voltage to the
    high end of the dropping resistor connected to pin 8 of the H-bridge. That would
    cause the voltage between both A0 and A1 and ground to exceed 5V, which is hazardous
    to the health of the ATmega328 microcontroller on the Arduino. (This is the only
    time that the voltage referenced to ground is important.) Thus, a modification
    is required. Look at R1 in the schematic in [Figure 2-12](ch02.xhtml#ch02fig12).
    The supply first goes to resistor R2; R2 joins with resistor R3, which goes to
    ground.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你为这个项目使用更高电压的电机，它将转得更快，拥有更大的扭矩等等。但是你*不能*仅仅将更高的电压连接到H桥第8引脚的降压电阻的高端。那样会导致A0和A1与地之间的电压超过5V，这对Arduino上的ATmega328微控制器的健康有害。（这是唯一一个相对于地的电压很重要的情况。）因此，必须进行修改。查看[图2-12](ch02.xhtml#ch02fig12)中的原理图中的R1。电源首先连接到电阻R2；R2与电阻R3连接，R3接地。
- en: '![image](../images/f02-12.jpg)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-12.jpg)'
- en: '*Figure 2-12: If you elect to use a higher voltage and drive a faster motor,
    you will have to modify the circuit by adding voltage dividers in front of both
    the A0 and A1 inputs*.'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-12：如果你选择使用更高电压并驱动更快的电机，你将需要通过在A0和A1输入端前添加电压分压器来修改电路*。'
- en: 'To avoid damage to the Nano processor, you will want to keep the voltage that
    appears at that joining point under 5V, referenced to ground. The easiest way
    to do this is to use a voltage divider. Two resistor pairs divide the higher voltage:
    the first pair is R2 and R3; the second is R4 and R5\. The value of these resistors
    should be such that the output at the joining of each pair—R1 and R2, and R4 and
    R5—is somewhat less than 5V for whatever value of input voltage you use.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免损坏Nano处理器，你需要确保在接合点处的电压保持在5V以下，相对于地面。实现这一点最简单的方法是使用电压分压器。两个电阻对将较高的电压进行分压：第一对是R2和R3；第二对是R4和R5。电阻的值应当使得每一对电阻接合点的输出——R1和R2，R4和R5——对于任何输入电压值，都略低于5V。
- en: 'Use this formula:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此公式：
- en: '![image](../images/e0060-01.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e0060-01.jpg)'
- en: and the schematic in [Figure 2-13](ch02.xhtml#ch02fig13) to determine the values
    of the resistors to use in a voltage-divider circuit.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 并且通过[图2-13](ch02.xhtml#ch02fig13)中的原理图来确定电压分压电路中应使用的电阻值。
- en: 'For example, if you start with 9V and arbitrarily select a 10-kilohm resistor
    in series, you would have to shunt it with a 12.5-kilohm resistor to ground, according
    to the calculator. The closest resistor I had was 12 kilohm, and it worked fine.
    If you can’t find a standard resistor to fit your needs, you can also combine
    two standard values in parallel to achieve the value you want with this formula:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果你从9V开始，并随意选择一个10千欧姆的电阻串联，根据计算器，你需要用一个12.5千欧姆的电阻将其与地相接。我手头上最接近的电阻是12千欧姆，效果很好。如果你找不到适合需要的标准电阻，你也可以使用两个标准电阻并联，以通过这个公式得到你想要的电阻值：
- en: '![image](../images/e0060-02.jpg)![image](../images/f02-13.jpg)'
  id: totrans-185
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e0060-02.jpg)![image](../images/f02-13.jpg)'
- en: '*Figure 2-13: A basic voltage divider. To find the resistors you should use,
    plug the values from your own divider into the formula as if your divider were
    this circuit*.'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-13：一个基本的电压分压器。要找到你应该使用的电阻，将你自己分压器的数值代入公式，就像你的分压器是这个电路一样*。'
- en: 'If you don’t want to do the algebra yourself, you could use one of the convenient
    online voltage-divider calculators such as *[http://www.sengpielaudio.com/calculator-paralresist.htm](http://www.sengpielaudio.com/calculator-paralresist.htm)*
    or *[http://www.raltron.com/cust/tools/voltage_divider.asp](http://www.raltron.com/cust/tools/voltage_divider.asp)*.
    SparkFun also has an excellent tutorial on voltage dividing, with a calculator
    of its own: *[http://learn.sparkfun.com/tutorials/voltage-dividers/](http://learn.sparkfun.com/tutorials/voltage-dividers/)*.'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不想自己做代数运算，你可以使用一些方便的在线电压分压器计算器，如*[http://www.sengpielaudio.com/calculator-paralresist.htm](http://www.sengpielaudio.com/calculator-paralresist.htm)*
    或 *[http://www.raltron.com/cust/tools/voltage_divider.asp](http://www.raltron.com/cust/tools/voltage_divider.asp)*。SparkFun也有一个关于电压分压的优秀教程，并且提供了自己的计算器：*[http://learn.sparkfun.com/tutorials/voltage-dividers/](http://learn.sparkfun.com/tutorials/voltage-dividers/)*。
- en: '**Directional LEDs**'
  id: totrans-188
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**方向LED**'
- en: 'Of course, what Arduino project would be complete without blinking LEDs? As
    you’ll see in the schematic and on the shield PCB, I included two LEDs: a red
    one for clockwise rotation and a green one for counterclockwise rotation. But
    which direction belongs to which LED is your choice: simply reverse the motor
    leads to change the LED status.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，哪个Arduino项目没有闪烁的LED呢？正如你在原理图和保护板PCB上看到的，我包括了两个LED：一个红色用于顺时针旋转，绿色用于逆时针旋转。但哪个方向对应哪个LED是由你来决定的：只需反转电机引线即可改变LED状态。
- en: '**Construction**'
  id: totrans-190
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**构建**'
- en: For this project, you’ll use the motor-reverse technique to create an agitator
    that accelerates the etching of PCBs. To do this, you’ll suspend a PCB from an
    Arduino-driven motor over etching solution, as shown in [Figure 2-1](ch02.xhtml#ch02fig1).
    A small enclosure will contain the Arduino Nano, the shield, the motor with limit
    wires, direction LEDs, a power switch, and the power jack.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个项目，你将使用电机反转技术来创建一个加速PCB腐蚀的搅拌器。为此，你将用一个Arduino驱动的电机将PCB悬挂在腐蚀溶液上方，如[图2-1](ch02.xhtml#ch02fig1)所示。一个小型外壳将包含Arduino
    Nano、保护板、电机与限位电线、方向LED、电源开关和电源插座。
- en: After assembling the box, you just have to mount it somewhere above your etching
    setup and attach the reverser, either directly to the PCB or to a tray. I clamped
    my box to a cabinet door above my workspace, with a place for the etching vessel
    below (see [Figure 2-14](ch02.xhtml#ch02fig14)). The entire system can be assembled
    and disassembled quickly.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在组装好外壳后，你只需将它安装在腐蚀设置的上方，并将反转器连接到PCB或托盘上。我将我的外壳夹在工作台上方的柜门上，下面放置了一个腐蚀容器（见[图2-14](ch02.xhtml#ch02fig14)）。整个系统可以快速组装和拆卸。
- en: '![image](../images/f02-14.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-14.jpg)'
- en: '*Figure 2-14: For larger PCBs, try etching in a tray for a more conventional
    approach. Just attach the motor reverser to your tray to agitate the board rather
    than using the reverser to dip the board in and out of the solution*.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-14：对于较大的PCB，尝试使用托盘腐蚀，这是一种更传统的方法。只需将电机反转器连接到托盘上，以便摇动电路板，而不是使用反转器将电路板浸入并取出溶液中*。'
- en: Construction of the rest of this project takes a little bit of patience and
    perhaps some ingenuity in scavenging some of the parts required. You will need
    a couple of M3 screws to mount the motor to the motor plate—in this case, a small
    aluminum L bracket—and some limit wires, preferably made of 0.039 piano or spring
    wire. You’ll also need a small block of scrap brass or aluminum—round or rectangular,
    doesn’t matter—to attach to the motor shaft and crank, a long 4-40 or 6-32 screw
    to act as the crank, and an M3 spacer and solder lug to attach the agitator line
    to the crank. [Figure 2-15](ch02.xhtml#ch02fig15) shows the nearly-finished, unmounted
    product.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目其余部分的构建需要一些耐心，也许还需要一些创造力来收集所需的零件。你将需要几颗M3螺钉来将电机固定到电机板上——在这种情况下，是一个小型的铝制L形支架——以及一些限位电线，最好使用0.039的钢琴弦或弹簧钢丝。你还需要一小块废料黄铜或铝块——圆形或矩形都可以——用来连接到电机轴和曲柄上，以及一颗长的4-40或6-32螺钉作为曲柄，另加一个M3垫片和焊接端子，用来将搅拌器线连接到曲柄上。[图2-15](ch02.xhtml#ch02fig15)展示了几乎完成的、未安装的产品。
- en: '![image](../images/f02-15.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-15.jpg)'
- en: '*Figure 2-15: Wire up your components and lay them out for a final test before
    you put them in an enclosure. For the test, I held the motor in a clamp so the
    crank was free to move. The regulator heat sink obscures much of the shield*.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-15：在将组件放入外壳之前，先接线并进行最终测试。测试时，我将电机夹住，这样曲柄可以自由转动。调节器散热器遮挡了大部分的屏蔽。*'
- en: '***The Limit Wires***'
  id: totrans-198
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***限位电线***'
- en: The limit wires will create resistance to the motor’s rotation by essentially
    bumping into the motor crank. The point in the rotation where they strike the
    crank is the limit of rotation. When the crank runs up against the limit wire,
    the wires prevent the motor from turning and initiate the reversal.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 限位电线通过与电机曲柄碰撞，实质上限制了电机的旋转。它们与曲柄碰撞的旋转点就是旋转的限制。当曲柄撞到限位电线时，这些电线会阻止电机继续转动，并触发反转。
- en: I recommend piano or spring wire to provide a little spring as the crank hits
    it at the extent of rotation. Use a pair of needle-nose pliers to bend two pieces
    of the limit wire into shape (see [Figure 2-16](ch02.xhtml#ch02fig16)). These
    wires will fit on the motor mount screws outside of the motor mounting bracket.
    You can change the limit of rotation by loosening the screw and rotating the wire.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 我推荐使用钢琴弦或弹簧钢丝，这样在曲柄到达旋转极限时，能提供一定的弹性。用一对尖嘴钳将两根限位电线弯成所需的形状（参见[图2-16](ch02.xhtml#ch02fig16)）。这些电线将固定在电机安装螺钉的外侧，电机安装支架外侧。你可以通过松开螺钉并旋转电线来改变旋转的限位。
- en: '![image](../images/f02-16.jpg)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-16.jpg)'
- en: '*Figure 2-16: This is how the limit pins are formed. A good pair of needle-nose
    pliers does the trick*.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-16：这是限位销的形成方法。一对好的尖嘴钳可以轻松完成这项工作。*'
- en: '***The Crank Bushing***'
  id: totrans-203
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***曲柄衬套***'
- en: The crank bushing is simply what transfers the rotation of the motor to the
    crank. [Figure 2-17](ch02.xhtml#ch02fig17) details the construction of the bushing,
    the spacer, and the solder lug.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 曲柄衬套仅仅是将电机的旋转传递给曲柄的部件。[图2-17](ch02.xhtml#ch02fig17)详细展示了衬套、垫片和焊接端子的结构。
- en: '![image](../images/f02-17.jpg)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-17.jpg)'
- en: '*Figure 2-17: The detail of the drive mechanism that transfers the rotation
    of the motor to the lifting motion of the agitator*'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-17：驱动机构的细节，它将电机的旋转转化为搅拌器的升降运动。*'
- en: 'While there can be a number of different variations in your approach to assembling
    this part of the project, here’s the sequence I used to put it together:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然在组装这个项目的过程中可能会有许多不同的变体，但这是我用来组装它的步骤：
- en: Drill a hole for the motor shaft through the center of the bushing, which can
    be a small piece of brass or aluminum round stock about 0.5 inches in diameter
    and 0.75 inches long. A rectangular piece will work just as well. Use a drill
    that is as close to the size of the motor shaft as possible. For example, if your
    motor shaft is 0.157 inches in diameter like the one I used, then a 11/64-inch
    drill bit is close enough. It isn’t important to get the hole exactly on center—just
    close.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在衬套的中心钻一个孔，孔的大小适合电机轴。衬套可以是一个直径约为0.5英寸、长度约为0.75英寸的小黄铜或铝圆棒。矩形的材料也能很好地工作。使用与电机轴尺寸最接近的钻头。例如，如果你的电机轴直径是0.157英寸，就可以使用11/64英寸的钻头，差不多就够了。孔的位置不需要精确到中心——只要接近即可。
- en: 'In the bushing, perpendicular to the motor shaft hole, use a #36 drill to drill
    a hole. Then, tap the hole you drilled so a long 6-32 screw can serve double duty
    as a setscrew and crank. You can also use a separate setscrew to move the crank
    farther from the motor, as I did in [Figure 2-18](ch02.xhtml#ch02fig18).'
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在轴承中，与电机轴孔垂直的位置，使用#36钻头钻孔。然后，攻丝所钻的孔，使得一颗长6-32螺钉能够同时作为限位螺钉和曲柄。你也可以使用单独的限位螺钉，将曲柄移得更远，正如我在[图2-18](ch02.xhtml#ch02fig18)中所做的那样。
- en: Thread the crank screw into the bushing so it bears tightly against the motor
    shaft, and use a locking nut to hold the screw in place (see [Figure 2-18](ch02.xhtml#ch02fig18)).
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将曲柄螺钉旋入轴承，使其紧贴电机轴，并使用锁紧螺母固定螺钉位置（参见[图2-18](ch02.xhtml#ch02fig18)）。
- en: '![image](../images/f02-18.jpg)'
  id: totrans-211
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f02-18.jpg)'
- en: '*Figure 2-18: A photograph detailing the head of the crank. Note the solder
    lug used to hold the wire and the alligator stop clip on the left side*.'
  id: totrans-212
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图2-18：一张详细展示曲柄头部的照片。注意用于固定电线的焊接片和左侧的鳄鱼夹*。'
- en: 'At the end of the crank, you are ultimately going to attach the line that will
    pull the PCB in and out of the etchant. This fitting can be just a nut, or even
    an alligator clip, attached to the crank. However, in the detail, I used an M3
    hex female-female spacer that was 7 mm long. I drilled clean through the spacer
    to one side, starting on one of the flat surfaces with the same #36 drill. I then
    tapped the hole with the 6-32 tap and threaded it onto the crank.'
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在曲柄的末端，你最终将连接一条线，用于将PCB板拉进和拉出蚀刻液。这个接头可以是一个螺母，甚至是一个鳄鱼夹，固定在曲柄上。然而，在细节中，我使用了一个7毫米长的M3六角公对公间隔套。我从间隔套的一侧平面开始，用同样的#36钻头将间隔套贯穿钻孔。然后，我用6-32丝攻攻丝，并将其旋入曲柄。
- en: Take an M3×0.5 mm machine screw and put it through the solder lug (see [Figure
    2-19](ch02.xhtml#ch02fig19) for the lug itself and [Figure 2-18](ch02.xhtml#ch02fig18)
    for the lug in place). Screw it into the standoff all the way so it binds on the
    crank screw.
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 取一个M3×0.5 mm机器螺钉，将其穿过焊接片（查看[图2-19](ch02.xhtml#ch02fig19)了解焊接片本身，查看[图2-18](ch02.xhtml#ch02fig18)了解焊接片的安装情况）。将螺钉完全旋入支架，直到它紧固在曲柄螺钉上。
- en: '![image](../images/f02-19.jpg)'
  id: totrans-215
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f02-19.jpg)'
- en: '*Figure 2-19: The solder lug used to hold the wire that holds the etching board.
    If you can’t purchase something similar, you can easily make one with a piece
    of scrap metal or plastic*.'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图2-19：用于固定电线的焊接片，这些电线固定了蚀刻板。如果你无法购买类似的物品，可以用一块废金属或塑料轻松制作一个*。'
- en: My local Ace Hardware store had all of the accessories I needed, with the exception
    of the M3 spacer, which I got from eBay. You should be able to find the same items
    at Home Depot or Lowe’s.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 我本地的Ace硬件店提供了我所需的所有配件，除了M3间隔套，我从eBay上购买了它。你应该能在Home Depot或Lowe’s找到相同的物品。
- en: '***Packaging***'
  id: totrans-218
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***包装***'
- en: The shield and Nano fit in a standard plastic enclosure (see [Figure 2-20](ch02.xhtml#ch02fig20)).
    Drill holes in the enclosure for the 3.5 mm power jack, the SPST switch that serves
    as a power switch and reset, the indicator LEDs, and the motor wires.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 屏蔽和Nano适配一个标准的塑料外壳（参见[图2-20](ch02.xhtml#ch02fig20)）。在外壳上钻孔，用于3.5 mm电源插孔、作为电源开关和重置按钮的SPST开关、指示LED和电机线。
- en: '![image](../images/f02-20.jpg)'
  id: totrans-220
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-20.jpg)'
- en: '*Figure 2-20: Completed enclosure with motor, limit wires, direction LEDs,
    power switch (reset), and power jack. The LEDs light up, with one for each direction.
    When the motor pauses in one direction, both LEDs turn on; when it pauses in the
    other direction, both LEDs turn off*.'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-20：完成的外壳，包含电机、限位电线、方向指示LED、电源开关（重置）和电源插孔。LED会亮起，每个方向一个。当电机在一个方向暂停时，两个LED都会亮；当它在另一个方向暂停时，两个LED都会熄灭*。'
- en: Most 3.5 mm jacks use approximately a 1/4-inch hole, which is the same sized
    hole as the switch. If you want a tight fit, 15/64 inches is closer. Whether you
    use a 5 mm or 10 mm LED will dictate the size of the holes required for those.
    It’s been my experience that different brands tend to have slightly different
    diameters, so you might want to try a smaller drill first and test whether the
    LED fits. The arbitrary English-sized drill bits for the 5 mm and 10 mm LEDs are
    3/8 inches and 3/16 inches, respectively. If you have a set of tapered reamers,
    you can start with a smaller hole and ream it out to make a tight fit for the
    LEDs.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数3.5毫米插孔使用约1/4英寸的孔，与开关的孔径相同。如果你希望孔更加紧密，15/64英寸会更合适。使用5毫米或10毫米LED将决定所需孔的尺寸。根据我的经验，不同品牌的LED直径略有不同，因此你可能需要先尝试较小的钻头，测试LED是否合适。对于5毫米和10毫米LED，常用的英制钻头尺寸分别为3/8英寸和3/16英寸。如果你有一套锥形扩孔器，可以从较小的孔开始，扩孔至适合LED的紧密配合。
- en: Mount the motor on a small piece of aluminum angle, readily available at most
    hardware stores. I purchased a 1-inch section of 1.5×1.5–inch aluminum angle and
    cut it down to size with a hacksaw. If you’re using the motor I use, you can copy
    the template in [Figure 2-21](ch02.xhtml#ch02fig21) or download and print it from
    *[https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*,
    cut it out, tape it to the aluminum angle bracket, and carefully mark the hole
    positions on the bracket with a center punch or nail. Now, drill the holes—1/8
    inches for the motor mount and 5/16 inches for the center hole. If you use a different
    motor, you will have to measure and mark out the mounting holes.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 将电机安装在一小块铝角上，这种铝角在大多数五金店都有售。我购买了一段1英寸长的1.5×1.5英寸铝角，并用手锯将其切割到合适的尺寸。如果你使用的是我所用的电机，可以参考[图2-21](ch02.xhtml#ch02fig21)中的模板，或从*
    [https://www.nostarch.com/arduinoplayground/](https://www.nostarch.com/arduinoplayground/)*
    下载并打印，剪下来，将其贴在铝角支架上，用中心冲或钉子仔细标记支架上的孔位。接下来，钻孔——电机安装孔为1/8英寸，中心孔为5/16英寸。如果你使用不同的电机，则需要测量并标出安装孔。
- en: '![image](../images/f02-21.jpg)'
  id: totrans-224
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-21.jpg)'
- en: '*Figure 2-21: Template for the motor mount*'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: '*图2-21：电机安装模板*'
- en: Just use some double-sided foam tape to secure the shield to the enclosure if
    you think you’ll want to use it in another project. Otherwise, attach it to the
    inside with standoffs and screws in any size you like.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你认为将来会在另一个项目中使用屏蔽，直接使用一些双面泡沫胶带将其固定在外壳上。否则，可以使用支撑柱和螺丝将其固定在内部，螺丝尺寸可根据需要选择。
- en: '**The Etching Process**'
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**蚀刻过程**'
- en: There are a number of techniques for making PCBs. The most common is a subtractive
    approach, which involves starting with a copper clad board, or a copper foil bonded
    to an electrically insulating substrate, from which the copper is selectively
    removed to leave a pattern on the board. While the copper can be mechanically
    milled off, the most common approach is to selectively etch the pattern on the
    board chemically.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 制作PCB有多种技术，最常见的是减法工艺，它从一块铜覆板或粘合到电气绝缘基板上的铜箔开始，通过选择性地去除铜层，在板上留下图案。虽然铜可以通过机械铣削去除，但最常见的方法是通过化学方式选择性地蚀刻板上的图案。
- en: In the chemical etching process, the circuit pattern is printed on the blank
    board with a chemical resist so that the copper is removed by the etchant in the
    areas not treated with the resist. The etchant is a chemically active material
    that attacks the untreated copper on the clad board, leaving you with only the
    copper you need for your circuit. I describe how to etch circuits step-by-step
    in “[Making Your Own PCBs](ch00.xhtml#ch00lev1sec5)” on [page 13](ch00.xhtml#page_13),
    and this project makes that process easier.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 在化学蚀刻过程中，电路图案通过化学阻焊剂打印在空白板上，这样在没有涂覆阻焊剂的区域，铜会被蚀刻剂去除。蚀刻剂是一种具有化学活性的物质，它会攻击未处理的铜层，只留下电路所需的铜。我在《[制作你的PCB](ch00.xhtml#ch00lev1sec5)》的[第13页](ch00.xhtml#page_13)中详细描述了如何逐步蚀刻电路，且该项目使得这一过程变得更加简单。
- en: Our goal is to suspend an unetched circuit board over the etchant in the vessel
    and keep it in the etchant for the maximum time as the agitator goes up and down,
    resulting in a laminar flow of etchant across the surface of the circuit board.
    I suggest using a nylon cable tie to hold the circuit board during the etching
    process, as nylon is relatively impervious to the etchant. You could attach the
    tie, in turn, to the motor shaft with an alligator clip so the board is easy to
    remove (see [Figure 2-22](ch02.xhtml#ch02fig22)).
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的目标是将一块未蚀刻的电路板悬挂在容器中的蚀刻液上方，并保持电路板在蚀刻液中尽可能长的时间，同时搅拌器上下运动，产生蚀刻液沿电路板表面流动的层流。我建议使用尼龙扎带来固定电路板，因为尼龙对蚀刻液相对不透。你可以将扎带固定在电机轴上，用鳄鱼夹将扎带固定，这样电路板就可以轻松取下（见[图
    2-22](ch02.xhtml#ch02fig22)）。
- en: I used a 250 mL beaker as an etching vessel. For very small boards, this works
    extremely well. For larger boards, I recommend a large measuring cup, such as
    a 2 qt Pyrex cup. A 600 mL beaker works for intermediatesized boards. For even
    larger boards, you can use a tray, as illustrated in [Figure 2-14](ch02.xhtml#ch02fig14).
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 我使用了一个 250 毫升的烧杯作为蚀刻容器。对于非常小的电路板，这种方法效果非常好。对于较大的电路板，我推荐使用一个大量程的量杯，比如一个 2 夸脱的
    Pyrex 量杯。一个 600 毫升的烧杯适用于中等大小的电路板。对于更大的电路板，你可以使用托盘，具体见[图 2-14](ch02.xhtml#ch02fig14)。
- en: The switch and power input are located on the left-hand side of the enclosure.
    To hold the board being etched, I suspended a wire through the solder lug and
    attached that wire to the board with a small alligator clip. On the back of the
    lug, you can either tie a small knot in the wire or attach a clip of some sort
    to make sure the wire doesn’t fall through the lug and into the acid. In my setup,
    a clamp (behind the motor in the photo) holds the enclosure to an overhanging
    door.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 开关和电源输入位于外壳的左侧。为了固定正在蚀刻的电路板，我通过焊接接头穿入一根线，并用一个小鳄鱼夹将这根线固定在电路板上。在接头的背面，你可以系一个小结，或者用某种夹子固定，以确保线不会掉进接头并进入酸液。在我的设置中，一个夹具（在照片中的电机后面）将外壳固定在悬挂的门上。
- en: '![image](../images/f02-22.jpg)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f02-22.jpg)'
- en: '*Figure 2-22: This Arduino-based etcher-agitator etches a board. The etchant
    should turn emerald as the copper is etched. The board is held by a wire tie that
    is attached to a wire by an alligator clip. The wire goes through a hole on the
    crank and is held in place with another alligator clip. One of the LEDs is lit*.'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 2-22：这个基于 Arduino 的蚀刻搅拌器正在蚀刻电路板。蚀刻液应在蚀刻铜层时变为翡翠绿色。电路板通过一个用鳄鱼夹固定的尼龙扎带悬挂。线通过曲柄上的一个孔，并用另一个鳄鱼夹固定。一个
    LED 灯亮起*。'
- en: 'Note that the etching vessel is sitting on a hot plate. Though etching will
    occur at room temperature, it’s accelerated somewhat by heating. Be careful not
    to get the etchant too hot: if you set the hot plate on low to keep the liquid
    at about 100 to 120°F, it will speed etching without softening the resist.'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，蚀刻容器放置在加热板上。虽然蚀刻将在室温下进行，但加热会稍微加速这个过程。小心不要让蚀刻液过热：如果你将加热板设置在低温，使液体保持在约 100
    到 120 华氏度之间，这样可以加速蚀刻而不会软化光刻胶。
