# 前言

你的系统不应该是一个谜。你应该能够让你的软件按照你的意愿运行，而不需要依靠“魔法”咒语或仪式。获得这种能力的关键在于理解软件的基本原理以及它是如何工作的，这正是本书的核心内容。你永远不需要与电脑“斗争”。

Linux 是一个很好的学习平台，因为它不会对你隐藏任何东西。特别是，你可以在易于阅读的纯文本文件中找到大部分系统配置细节。唯一棘手的部分是弄清楚哪些部分负责什么以及它们是如何组合在一起的。

## 谁应该阅读本书？

你对学习 Linux 如何运作的兴趣可能来自许多不同的来源。在专业领域，操作和 DevOps 人员需要了解你将在本书中找到的几乎所有内容。Linux 软件架构师和开发人员也应该掌握这些内容，以便充分利用操作系统。研究人员和学生，通常也会自己运行 Linux 系统，会发现本书提供了*为什么*事物是这样设置的有用解释。

还有一些动手实验者——那些仅仅因为兴趣、盈利或两者兼而喜欢摆弄自己电脑的人。想知道为什么某些东西能工作，而其他的却不能？想知道如果把某个东西移动了会发生什么？你可能就是一个动手实验者。

## 前提条件

虽然 Linux 深受程序员喜爱，但你不需要是程序员才能阅读本书；你只需要具备基本的计算机用户知识。也就是说，你应该能在图形用户界面（尤其是 Linux 发行版的安装程序和设置界面）中随意操作，知道什么是文件和目录（文件夹）。你还应该准备好查阅你系统上的额外文档和网上的资料。你最需要的，是准备好并愿意尝试操作你的电脑。

## 如何阅读本书

构建所需的知识是处理任何技术主题的挑战。解释软件系统如何工作可能会变得*非常*复杂。过多的细节可能会让读者陷入困境，并使得重要概念难以理解（人脑无法同时处理这么多新的信息），而细节过少又可能让读者摸不着头脑，为后续内容做好准备。

我设计了大部分章节，首先解决最重要的内容：你在进阶过程中需要的基本信息。在某些地方，我简化了一些内容，以便集中注意力。随着章节的深入，你会看到更多细节，特别是在最后几节。你是否需要立刻了解这些内容？在大多数情况下，不需要；我会在适当的地方做出说明。如果你面对刚学过的概念时，眼睛开始发蒙，遇到大量额外细节，不妨跳到下一章或者休息一下。那些繁琐的细节仍然会在等着你。

## 实践方法

无论你选择如何进行这本书的学习，你都应该有一台 Linux 机器在你面前，最好是一台你敢用实验折腾的机器。你也许会更喜欢通过虚拟安装进行操作——我使用了 VirtualBox 来测试本书中的大部分内容。你还应该拥有超级用户（root）权限，但大多数时候尽量使用普通用户帐户。你将主要在命令行界面工作，可以是在终端窗口或远程会话中。如果你在这个环境中没有太多经验，没问题；第二章会让你熟悉起来。

本书中的命令通常如下所示：

```
$ **ls /**
[some output]
```

输入粗体文本；后面的非粗体文本是机器返回的内容。`$`是普通用户帐户的提示符。如果你看到`#`作为提示符，你需要是超级用户。（第二章会对此做进一步介绍。）

## 本书的组织结构

我将本书的章节分为三个基本部分。第一部分是入门部分，提供系统的鸟瞰图，然后提供一些你在使用 Linux 时会需要的工具的实践经验。接下来，你将更详细地探索系统的每个部分，从设备管理到网络配置，按照系统启动的一般顺序。最后，你将参观运行中的系统的一些组件，学习一些基本技能，并了解程序员使用的工具。

除了第二章，早期的大部分章节都涉及到 Linux 内核，但随着书本的进展，你会逐步进入用户空间。（如果你不明白我在说什么，别担心；我会在第一章解释。）

本书内容旨在尽可能不依赖于特定发行版。话虽如此，涵盖所有系统软件的变体可能会很繁琐，因此我尝试覆盖两大主要发行版系列：Debian（包括 Ubuntu）和 RHEL/Fedora/CentOS。我还集中讨论了桌面和服务器安装。大量内容也适用于嵌入式系统，如 Android 和 OpenWRT，但你需要自己探索这些平台的差异。

## 第三版新增了哪些内容？

第二版是在 Linux 系统过渡时期发布的。几个传统组件正在被替换，这使得处理一些主题变得棘手，因为读者可能会遇到各种各样的配置。然而，现在这些新组件（特别是 systemd）几乎得到了普遍采用，因此我能够简化讨论的内容。

我保留了对内核在 Linux 系统中角色的强调。这部分内容已经证明很受欢迎，你可能比你意识到的更频繁地与内核交互。

我增加了一章介绍虚拟化。尽管 Linux 在虚拟机上（例如云服务）一直很受欢迎，但这类虚拟化超出了本书的范围，因为虚拟机上的系统操作方式几乎与“裸机”硬件上的方式相同。因此，这里的讨论主要集中在解读您会遇到的术语。然而，自第二版出版以来，容器的流行度不断上升，它们也适合本书的内容，因为它们基本上由一些像本书其余部分描述的 Linux 特性组成。容器广泛使用 cgroups，这部分在第三版中有了新的处理。

其他我愉快地扩展的主题（不一定与容器相关）包括逻辑卷管理器、journald 日志系统和网络材料中的 IPv6。

尽管我增加了大量内容，但这本书的篇幅仍然适中。我希望提供您快速入门所需的信息，这其中包括解释一些可能难以理解的细节，但我不希望您需要成为举重运动员才能拿起这本书。一旦掌握了书中的重要主题，您应该能够轻松地寻找并理解更多的细节。

第一版包含了历史信息，但为了提高聚焦性，我后来将这些内容删除了。如果您对 Linux 及其与 Unix 历史的关系感兴趣，可以阅读彼得·H·萨卢斯（Peter H. Salus）的《守护进程、GNU 和企鹅》（Reed Media Services, 2008）。它很好地解释了我们使用的软件如何随着时间的推移不断演变。

## 关于术语的说明

某些操作系统元素的名称历史上引发了相当多的争议——甚至连 *Linux* 这个词本身也不例外。它应该是“Linux”，还是应该是“GNU/Linux”，以反映操作系统中也包含了来自 GNU 项目的组件？在本书中，我尽量使用最常见、最不别扭的名称。
