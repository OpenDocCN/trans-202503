

# 前言



![](img/icon.jpg)

本书将教你从零开始使用 Kotlin 编程，Kotlin 是当今最令人兴奋的编程语言之一。在这个过程中，你将学会像问题解决者和程序员一样思考。通过 37 个动手项目，你将开发出能够应对各种有趣和挑战性问题的应用，从基础的数学和科学问题，到算法和优化领域的高级应用。

如果你有一颗好奇的心，你将从这本书中学到最多。你会接受系统思维，并且不犹豫去问为什么事物会如此表现，挑战普遍的假设，探索独特的视角。这本书将帮助你运用这些技能揭示现实问题的内在复杂性，并构建简化的数学模型，探索假设场景。Kotlin，这一简单、优雅且强大的通用编程语言，是实现这些目标的极佳工具。

准备好迎接一段旅程，在这段旅程中，编程不仅是一项技能，而是开启你想象力和解决问题能力的钥匙。有了编程，你可以解决没有计算机时无法攻克的问题，进行深入分析，产生有趣且有用的见解。

## 编程的力量

编程是创建计算机能够理解和执行的指令的过程。它彻底改变了我们的生活和工作方式。编程驱动着几乎所有现代设备，从软件、网站、移动应用、智能手表、智能手机到探索遥远世界、距离地球一亿四千万英里的火星探测器。

下面是一些你可能想要学习编程的理由：

**建立有价值的技能** 在今天的数字时代，编程是一项备受追捧的能力，它为你开启了许多职业机会。同时，它还帮助你提升批判性思维和问题解决能力。

**自动化任务** 你可以编写程序，执行比人工更快速、更准确的重复任务。例如，许多制造过程现在由遵循编码指令的机器人完成。

**快速分析大量数据** 对于分析师而言，编程技能对于处理日益庞大的数据量至关重要。你可以使用编程从大数据集中提取洞察，帮助做出基于数据的决策。

**打造你自己的项目** 编写你自己的软件、网站或移动应用可以是一个有趣且有成就感的方式，让你的创意变为现实，表达你的创造力，并赚取一些额外收入。

**享受乐趣** 编程可以是一个有趣且充实的爱好，它让你从零开始创建一些东西，并看到它的实现。

编程适合每个人，无论年龄、背景或兴趣如何。你所需要的只是电脑、互联网连接以及学习的意愿。为什么不试试看呢？

## 为什么选择 Kotlin？

Kotlin 是一种现代的通用编程语言，首次由其母公司 JetBrains 于 2016 年正式发布。Kotlin 的名字源自波罗的海圣彼得堡附近的科特林岛。这延续了 Kotlin 的母语 Java 的命名传统，据一些来源，Java 的名字来源于印尼的一个岛屿。

Kotlin 运行在与 Java 相同的平台上——Java 虚拟机，并与 Java 完全兼容。然而，Kotlin 更加简洁和富有表现力，拥有自己独特的功能。作为一种相对较新的编程语言，它受益于后见之明，这意味着它吸取了其他流行语言中一些最佳的功能。它提供了许多跨多个平台重用代码的方式，并且其简洁的语言设计和强大的功能为开发者提供了愉快的体验。

以下是 Kotlin 的一些主要优势：

**易于学习** 由于 Kotlin 的语法简洁且易于阅读，你可以比学习许多其他编程语言更快地掌握它。

**多功能** Kotlin 广泛应用于移动应用开发（尤其是 Android 应用），但你也可以使用它开发运行在 Windows、Mac 或 Linux 设备上的全栈 Web 应用和跨平台应用。

**安全** Kotlin 的类型系统帮助你避免空指针异常和其他编程语言中常见且难以处理的错误，如 Python、C 和 C++。

**支持多种编程风格** 你可以选择你喜欢的 Kotlin 编码方式，无论是过程化编程、结构化编程、面向对象编程，还是函数式编程。你也可以根据需要将不同的风格结合使用。（本书中的项目使用了所有这些风格的元素。）

**与 Java 兼容** 你可以将 Kotlin 与 Java 一起使用，这意味着你可以在 Kotlin 程序中使用 Java 代码和库，这使得从 Java 迁移到 Kotlin 变得更加容易。许多企业级应用最初是用 Java 编写的，现在正迁移到 Kotlin，以便于维护。作为额外的好处，Java 库更加成熟，而 Kotlin 在开发新特定库时，可以使用现有的 Java 库。

**流行** Kotlin 是增长最快的编程语言之一，自从 Google 将其认定为 Android 应用开发的首选语言以来，它变得非常流行。Kotlin 开发者在软件行业中需求量大。

简而言之，Kotlin 是一种多功能的编程语言，既适用于商业应用，也适用于非商业应用。它对初学者友好，适合那些想要探索其功能并在解决实际问题的同时提升编程技能的首次学习者。

## 本书适合谁阅读？

本书适合任何想要学习如何使用一种有趣、现代的编程语言来解决无法手动解决的实际问题的人。它不假设你有任何编程知识，虽然熟悉其他编程语言会帮助你更快地掌握本书中的内容。

本书不是一本传统的编码教材，也不是一本全面的 Kotlin 参考手册。相反，它教你如何系统性和战略性地思考，帮助你在编写代码之前，先发展解决问题的策略。

本书采用实践方法。在书中，你将通过大量的示例、完整项目和练习进行学习。你将运用数学和科学的基本原理，构建简化的数学描述（我们称之为模型）来解决潜在问题，然后开发 Kotlin 应用来高效、快速地解决这些问题。此外，书中的项目展示了数值分析和计算机科学中的核心概念，如收敛性与稳定性、时间与空间复杂度、递归、排序、搜索以及几种受自然启发的随机优化技术。

本书不涉及高级的 Kotlin 主题，如泛型、扩展、类型别名或协程，这些更适合复杂的应用程序。本书也不涉及计算机科学的概念，如高级数据结构和设计模式，或者如何使用 Kotlin 开发 Android 应用。单一本书无法涵盖所有内容。相反，本书将帮助你掌握 Kotlin 的基础特性和技能，为进一步的学习和探索打下基础。

## 本书内容简介

本书分为四个部分和九个章节。每章包含核心概念、示例、一个或多个完整项目以及练习。

第一部分涵盖了前三章的基本编码技能。请按顺序阅读这些章节，以建立对 Kotlin 及其核心特性的基础理解。

**第一章: Kotlin 基础** 介绍了 Kotlin 的基础知识，如注释、变量、运算符、流程控制、函数、lambda 表达式和输入/输出。通过多个示例和练习，教你编写清晰、简洁和可重用的代码，并带你完成一个基于控制台的计算器项目。

**第二章: 数组、集合和类** 介绍了数据操作和面向对象编程。解释了如何使用数组、列表、可变列表、类、封装、继承、多态、抽象类、接口和枚举类。讨论了每个概念的优点和权衡，并介绍了如何在程序中应用它们。本章的项目涉及开发一个简单的基于控制台的任务管理应用。

**第三章: 使用 JavaFX 进行可视化** 涵盖了 JavaFX 的基础知识，它是一个用于创建图形用户界面和数据可视化的工具包。探索了 JavaFX 的组件，如 Stage、Scene、布局容器和节点。教你使用各种类型的图表，通过 JavaFX 的动画特性为代码添加动态仿真，并通过一系列项目使用 Canvas 工具进行自由形式绘图。

第二部分，“数学与科学中的应用”，包含一系列短小的项目，介绍了新概念，并让你将新学的编程技能应用到实际问题中。

**第四章：使用代码解决数学问题** 展示了如何使用 Kotlin 代码和算法解决具有实际应用的数学问题。涵盖了数学中的各种概念和工具，如算术、三角学、毕达哥拉斯定理、斐波那契数列、哈弗辛公式、模运算和线性代数。探索了随机过程和随机数生成，并利用 Kotlin 的许多核心特性，如变量、数据类、条件和迭代结构，以及库函数。

**第五章：建模与仿真** 展示了如何建模和仿真各种物理系统的运动，例如炮弹、水喷泉、摆钟、热加热与冷却以及双星系统。通过数学、可视化和动画，帮助你理解这些系统随时间变化的动态和行为。

第三部分，“递归、排序与搜索”，介绍了更多高级概念和工具，需要付出相当大的努力才能掌握，但也将带来丰厚的回报。所有关键概念都作为独立项目进行开发和探索。

**第六章：递归函数与分形** 介绍了分形的奇妙世界，分形是以不同的尺度重复的自相似图案。教授如何使用递归函数、L 系统和曼德布罗特集来生成分形，然后使用 JavaFX 渲染这些分形并探索它们的属性。

**第七章：排序与搜索** 聚焦于排序和搜索，这两大计算机科学和数据科学的基础主题。展示了如何实现并比较三种常见的排序算法（插入排序、归并排序和快速排序），并探索三种图遍历算法（深度优先搜索、广度优先搜索和 A*算法）。解释了如何使用栈、队列、列表和映射来存储和操作数据以进行排序和搜索。还讨论了这些算法的时间和空间复杂度，使用大 O 符号进行表示。

最后，第四部分，“使用自然启发式算法进行优化”，介绍了从自然界中学到的最前沿思想，这些思想将帮助你解决困难的优化问题。这些方法还将带你进入随机（概率）算法和启发式算法的世界。

**第八章：遗传算法** 讨论使用随机算法的优点和挑战，这些算法利用随机性来解决难以处理或复杂的问题。探讨遗传算法，这是一类基于过程的自然启发算法（NIA），已经被用来解决文本匹配、组合优化（背包问题）和通过开发三个独立的应用程序寻找多变量函数的全局最优解等问题。

**第九章：基于代理的算法** 介绍两种基于代理的自然启发算法：粒子群优化和蚁群系统。展示如何利用这些算法的强大功能，通过创建应用程序来进行函数优化和解决旅行商问题。

**后记** 简短的部分，告诉你接下来应该去哪里，继续提升你的编程技能并学习 Kotlin 的其他高级特性。

## 项目

本书中的 37 个项目旨在帮助你提升编程和解决问题的技能。每个项目都提出了一个有趣的挑战，系统地概述了解决它的策略，并带领你通过实现该策略来开发一个 Kotlin 应用程序。所有与问题相关的代码和背景信息都进行了详细解释。以下是每个项目的概述以及你在完成它们时将要实现的内容：

项目 1：构建一个基于控制台的计算器 学习系统地思考问题，并开发一个有条理的程序来解决它。利用 Kotlin 的核心语言特性，如条件语句和函数，设计一个互动计算器，并练习验证用户输入。

项目 2：构建一个多功能任务管理器 设计并实现一个基于控制台的任务管理器应用程序，使用户能够添加和删除任务、显示任务列表、更新任务状态等。使用列表、类和数据类来构建应用程序及其数据，并且加入强大的错误处理机制。

项目 3：在 JavaFX 中构建“Hello, World!” 探索构成任何 JavaFX 可视化的基本构件类和布局容器。这个项目为后续需要更复杂可视化方案的项目提供了一个基本模板。

项目 4：将数据可视化为柱状图 通过使用来自虚拟公司的月度销售数据，学习 JavaFX 的核心图表工具，创建一个柱状图。将文本数据绘制在一个轴上，数值数据绘制在另一个轴上。

项目 5：创建多系列折线图 通过开发一个折线图来一次性可视化多个数据集，比较不同年龄段男女的平均身高。将数值数据绘制到 x 轴和 y 轴上。

项目 6：绘制螺旋贝壳 使用 Kotlin 内置的三角函数以及 JavaFX 画布来绘制一个螺旋贝壳。这是你将利用 JavaFX 强大自由绘图功能创建复杂二维图像的第一个项目。

项目 7：动画效果：一个正方形 定义一个实心红色正方形的起始状态和结束状态，然后让 JavaFX 转场效果通过平滑地将正方形在图形窗口内来回移动，展现神奇的效果。

项目 8：动画效果：弹跳的球 利用 JavaFX 强大的时间线和关键帧功能，通过操控物体属性创造引人入胜的运动效果。使一个球在矩形框内优雅地滑动。

项目 9：用巴比伦算法求平方根 开发一个简单的应用程序，通过不断改进一个近似值来逼近任何正数的平方根。尝试弄明白 Kotlin 内置的平方根函数使用了什么技术来实现相同的功能。

项目 10：使用欧几里得公式创建毕达哥拉斯三元组 实现欧几里得生成毕达哥拉斯三元组的方法（三个整数的集合，其中前两个数的平方和等于第三个数的平方）。

项目 11：使用厄拉托斯特尼筛法识别质数 深入了解质数世界，并利用厄拉托斯特尼发明的一种巧妙方法，揭示某个给定整数以内的所有质数。

项目 12：以古代方式计算地球的周长 时光倒流到古埃及，重现一个使用简单三角学来估算地球周长和半径的实验，并取得惊人的准确性。

项目 13：编写斐波那契数列 从零开始生成斐波那契数列，然后绘制斐波那契螺旋。利用 JavaFX 的高级功能，探索这些概念如何嵌入自然和人造系统中。

项目 14：计算地球上两个位置之间的最短距离 利用哈弗辛公式以及对纬度和经度的理解，计算地球表面任意两点之间的最短距离，同时考虑地球的球形。

项目 15：使用希尔密码进行加密 实现一个经典的加密算法，基于文本的线性变换。使用向量、矩阵和模运算将明文转换为密文，反之亦然，同时进行多维数组操作。

项目 16: 模拟一维随机行走 通过研究一个实体在经过 n 次随机步伐后将走多远来学习模拟随机过程。使用均方根（RMS）距离来衡量行走者走了多远，并运行数千次模拟，将模拟的 RMS 值与理论值进行比较。

项目 17: 预测炮弹的飞行轨迹 使用二分法数值方法找到非线性函数的根，以解决确定炮弹正确发射角度的古老问题。

项目 18: 设计带水喷射的喷泉 继续探索抛物体的物理学，通过设计一个多层水喷泉来进行。将核心 Kotlin 技能与高级 JavaFX 技术结合，生成并显示喷泉的结构以及水喷射的轨迹。

项目 19: 跟踪摆的运动和相位 利用牛顿运动定律和重力计算并绘制摆的角位移和速度以及其随时间变化的相空间。考虑空气阻力的影响，使摆的运动更具现实感。

项目 20: 咖啡冷却的物理学 创建一个 Kotlin 应用，解决一个经典难题：当你在咖啡店购买咖啡时，应该立刻加奶油，还是等回到办公室后再加？应用牛顿冷却定律，使你的咖啡保持尽可能温暖。

项目 21: 模拟双星系统 动画展示两颗恒星相互绕行的复杂舞蹈。随着时间的推移，恒星优雅地描绘其轨迹，提供了一个愉快的恒星动力学探索。

项目 22: 分形的“Hello, World!” 通过绘制一系列同心方形来学习分形几何的特征。编写你的第一个递归函数并设置其停止条件。

项目 23: 绘制谢尔宾斯基三角形 实现一种经典的分形图案，该图案以数学家瓦茨瓦夫·谢尔宾斯基的名字命名。将该图案的几何结构转化为可编码的策略，并在同一函数中进行多次递归调用。

项目 24: 创建分形树 开发一个 Kotlin 程序，绘制一棵分形树，从树干开始，递归地生成相反方向的小分支。

项目 25: 设计一个 L 系统模拟器 从头开始编写一个交互式 L 系统模拟器，包括 Kotlin 实现的乌龟图形。L 系统通过符号字母表、起始公理以及一组定义如何迭代替换符号的规则来生成分形。

项目 26：编写代码并可视化曼德布罗集 计算并绘制曼德布罗集，这是一种迷人的二维分形，定义在复平面上。通过简单的迭代规则，可以得到这个迷人的图像，并且放大无穷次后会展现出精细的结构。

项目 27：使用插入排序实现空间高效排序 探索排序算法和大 O 符号。尽管插入排序比其他流行排序方法慢，但它在原地操作，从而实现较低的空间复杂度。

项目 28：使用归并排序实现更快排序 实现归并排序，这是一种稳定的排序算法，虽然它比插入排序占用更多内存，但速度较快。递归地将一个值数组分成较小的子数组，对它们排序，然后将它们合并起来。

项目 29：使用快速排序实现高效排序 编写快速排序算法，这是一种快速且内存高效的算法，适合处理大数据集。递归地选择一个基准元素，并将其他元素分为小于和大于基准的子数组。

项目 30：使用深度优先搜索进行基于栈的搜索 实现深度优先搜索（DFS），这是一种图遍历或搜索算法。使用栈探索每一条路径，直到遇到死胡同时回溯。

项目 31：使用队列进行广度优先搜索 使用队列实现广度优先搜索（BFS）算法。BFS 在深入到下一个层次之前，会先探索当前深度的所有节点。

项目 32：使用 A* 进行启发式搜索 实现 A* 算法，一种使用启发式函数来引导搜索的有指导的搜索算法。在一个加权图中，给定源节点和目标节点，A* 能找到从源到目标的最短路径。

项目 33：将胡言乱语演变为莎士比亚作品 运用启发式原理和自然进化，从随机字符串生成莎士比亚的经典名句。开发模块化、可重用的遗传算法代码，模拟遗传操作符，如精英策略、选择、交叉和变异。

项目 34：解决背包问题 使用你的遗传算法代码来解决背包问题，这是一类组合优化问题，全球最优解的实现通常非常困难。

项目 35：使用遗传算法优化多元函数 将遗传算法应用于解决一个复杂的、多变量的、不可微的数学函数的优化问题。使用实值基因表示决策变量，并在给定的决策空间内找到全局最优解。

项目 36：使用粒子群优化多变量函数 实现粒子群优化（PSO）算法，这是一种模拟群体行为的自然启发式算法，通过模仿群体行为来寻找复杂问题的最优解。编写代码，积极地通过个体和集体学习持续改进。

项目 37：使用蚁群系统解决旅行商问题 通过蚁群系统（另一种自然启发式算法）来解决 Berlin52，这是一个极具挑战性的优化问题。从天文数字 1.551119 × 10⁶⁶ 种不同的路径安排方式中，发现通过柏林 52 个站点的最优路线。

## 入门指南

为了最大限度地发挥本书的作用，仔细阅读文本并亲自运行代码示例。你可以在任何 Windows、Mac 或 Linux 操作系统上运行这些代码。如果代码不涉及任何图形元素，你也可以在线运行它。

如果你完全是编程新手，在开始之前，你需要了解一些关键术语，例如*文本编辑器、集成开发环境（IDE）、库、编译器、调试*以及*执行*或*运行程序*。

为了帮助你入门，本书的附录包括如何运行 Kotlin 程序的说明，以及前面提到的关键术语的定义。如果你已经熟悉这些概念，并且知道如何安装和设置 IDE，那么可以跳过这一部分。否则，请确保在开始编写 Kotlin 代码之前，已完成附录中列出的所有步骤。

你可以在 GitHub 上找到本书讨论的代码示例，地址是 [`github.com/imfaisalgit/KotlinFromScratch`](https://github.com/imfaisalgit/KotlinFromScratch)。

## 资源

Kotlin。“Kotlin 文档。”（官方 Kotlin 文档。）访问日期：2024 年 6 月 15 日。* [`kotlinlang.org/docs/home.xhtml`](https://kotlinlang.org/docs/home.xhtml)。

Kotlin Playground。在线 Kotlin 编辑器和编译器。访问日期：2024 年 6 月 15 日。* [`tinyurl.com/59hauntd`](https://tinyurl.com/59hauntd)。
