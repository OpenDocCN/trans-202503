# 前言

苹果的 macOS——Darwin——在过去二十年中有了显著的发展。从一个相对小众的操作系统，远远落后于微软的 Windows，macOS 慢慢地获得了认可。全球范围内的人们开始意识到它强大的功能，再加上 Mac 出色的硬件和与苹果生态系统的整合，尤其是 iPhone 的推动，macOS 逐渐占据了市场。

但是，随着普及，威胁也变得更加广泛。曾经的“Mac 对 PC”广告已不复存在，广告中 PC 被描绘成一个嗅探着、被病毒感染的系统，而 Mac 则笑着将它们驱逐。病毒、间谍软件、勒索软件和其他恶意软件激增，到现在几乎每周都会出现一个新的变种。恶意软件的作者发现，Mac 是一个极为适合利用和传播的温床。

面对这一新的常态，采取行动变得势在必行。虽然苹果整合了自己的框架（XProtect 和最近的 Endpoint Security）以及 YARA 病毒特征库，但在入侵检测和 Mac 恶意软件检测与防护工具方面，仍然存在一个巨大的空白。

于是，Patrick 进入了这一领域。“那个 macOS 恶意软件家伙”通过 Objective-See 网站开始推出一系列免费的有效安全和分析工具。到现在，Pat 的 GitHub 仓库已经有了二十多个工具，这些工具在一定程度上改变了局面，使得高级用户能够监控他们 Mac 内部的活动，检测（并且希望能够防止）系统被攻破。

这些工具是开源的，但令人怀疑有多少人会深入研究源代码。这也是本书填补另一个空白的地方——详细阐释恶意软件的方方面面，这是一本急需的书。从基础知识到感染途径，再到各种分析方法和技巧，Patrick 通过（不幸的）许多真实案例阐明了 Mac 恶意软件的相关内容。

在一个理想的世界里，病毒——无论是生物病毒还是计算机病毒——都能轻松被消灭。然而，在我们的世界里并非如此。因此，研究病毒的工作原理，以及如何防止它们——无论是主动防御、反应性防御，还是两者的结合——都是至关重要的。

——Jonathan Levin，

《macOS/iOS (*OS) 内部结构》三部曲的作者
