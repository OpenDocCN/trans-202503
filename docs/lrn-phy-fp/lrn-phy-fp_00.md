## 引言

![Image](img/common.jpg)

学习某件事最好的方法之一就是教授它。拥有一个愿意倾听我们所说、阅读我们所写并给予回应的人是无价的。知道有人在倾听或阅读，会激励我们花时间和精力去创作有质量的东西。如果我们的写作能够引发回应，那就更好了，因为我们已经开始了一场可能挑战我们加深理解的对话。

学习物理的一种愉快而富有成效的方式是教计算机如何做。我们承认，计算机不像人类那样丰富地倾听，也无法提供像人类那样深度和广度的回应。然而，计算机非常专注，愿意不停地倾听，不会接受除非表达清晰且有意义的陈述。计算机可以为我们提供有用的反馈，因为它会乐于计算我们要求它计算的内容，并会迅速告诉我们我们刚才说的是否有意义（并且希望能给我们提供一个提示，告诉我们为什么它没有意义）。

本书的目的是通过教计算机如何做来学习基础理论物理。我们将花费相当多的时间在牛顿第二定律上。我们将重点关注物理系统的*状态*概念，并看到牛顿第二定律是描述状态随时间变化的核心规则。我们将研究基本的电磁理论，要求计算机计算由电荷和电流分布产生的电场和磁场。关键在于通过从一个新角度、用一种新语言来接近物理学，进而深化我们对物理学的理解。我们将使用精确的语言，这将有助于澄清我们的思维。

### 本书的读者对象

本书源于我在黎巴嫩山谷学院教授的计算物理课程，面向物理专业的二年级学生。我预计你已经学习过一年入门物理课程，并且至少有一个学期的微积分基础。不需要任何编程经验。本书的目的是通过用一种新语言探索物理学，从而加深你对基础物理学的理解。通过使用一种形式化语言表达物理学的思想，我们将提高自己表述和交流物理学思想的能力，同时计算我们感兴趣的量，制作图表和动画。

由于本书为从未编程过的人提供了自包含的 Haskell 编程语言介绍，因此可以作为物理学入门和中级课程的补充教材，适合那些希望通过编程加深对物理学理解的学生。

+   希望包含计算组件，或

+   渴望深入理解基本物理理论的结构。

本书也适合任何希望通过编程加深物理学理解的学生进行自学。

### 为什么选择函数式编程，为什么是 Haskell？

许多科学家在学习第二门编程语言后，产生了所有编程语言或多或少是相同的看法，认为语言之间的差异主要是语法上的差异。科学家们通常非常忙碌，他们有自己的工作要做，所以或许可以原谅他们选择不去深入了解那些可用的编程语言，去学习更加复杂的真理，即不同编程语言在语义层面上也可能有所不同，而且这种差异可能对人们思考他们正在编写代码解决的问题的方式产生深远的影响。被称为*函数式编程*的编程风格，源于编程语言树中的一个与面向对象编程不同的分支，这两者不太容易结合在一起。两者在所有应用中都没有明显的优劣之分。

物理学可以用任何编程语言来编码。为什么要使用函数式语言而不是更主流的面向对象语言？美丽和力量更多地体现在动词上，而非名词上。牛顿发现美丽和力量不在于世界本身，而在于描述世界如何变化的方式。函数式编程发现美丽和力量不在于对象，而在于那些以对象为输入并以对象为输出的函数，及其对象本身也可能是函数的概念。Haskell 是学习物理的一个很好的编程语言，原因有二。首先，Haskell 是一种函数式编程语言。这意味着函数在语言中占据了核心地位，包括那些接受其他函数作为参数并返回函数作为结果的函数。许多物理思想自然可以用高阶函数的语言来表达。其次，Haskell 的类型系统提供了一种清晰的方式来组织我们对物理中感兴趣的物理量和过程的思考。我不知道有什么比用函数式语言来表达我的想法更能澄清我的思路了。

### 关于本书

本书由三部分组成。第一部分是对函数式编程的一般介绍，特别是对 Haskell 的介绍，面向从未编程过的人。第二部分展示了如何使用函数式语言表达牛顿第二定律，并进而解决力学问题。第三部分旨在阐述电磁理论，展示如何在函数式语言中表达法拉第和麦克斯韦的思想，并解决涉及电场和磁场的问题。在整个过程中，我们将看到函数式语言如何接近数学；它实际上是一种计算机可以理解的数学形式。许多在数学语言中清晰而简洁表达的物理学深刻思想，在函数式语言中也找到了美丽的表达。

本书包括以下内容：

**第一部分：Haskell 语言**

**第一章：使用 Haskell 进行计算** 本章内容是关于如何将 Haskell 用作计算器。基本的数学运算已经内建于 Haskell 中，可以立即用于进行计算。

**第二章：编写基本函数** 在这里，我们开始编写函数。Haskell 函数与数学函数非常相似。最简单的 Haskell 函数接受一个数字作为输入，并产生一个数字作为输出。正如你可能猜到的那样，函数在函数式编程语言中发挥着核心作用。

**第三章：类型和实体** 本章介绍了类型的概念。Haskell 处理的实体，如数字和函数，都是按类型分类的；每个实体都有一个类型。类型帮助我们思考可以对实体进行哪些操作。例如，实数可以被平方，但对函数进行平方通常是没有意义的。

**第四章：描述运动** 在这里，我们研究如何在 Haskell 中描述一维运动中的粒子运动。我们引入了位置、速度和加速度，并注意到这些量是通过微积分中的导数概念相互关联的。

**第五章：操作列表** 本章讨论了 Haskell 中的列表。列表可以是数字列表、函数列表，或更复杂对象的列表。在函数之后，列表可能是函数式编程中最重要的结构，因为它们用于迭代过程（反复执行某些操作）。

**第六章：高阶函数** 本章介绍了高阶函数，它是接受其他函数作为输入或输出其他函数的函数。高阶函数是函数式编程语言的强大功能和简洁性的核心。我们举例说明了高阶函数如何自然地出现在物理学中。

**第七章：绘制函数图像** 本章展示了如何绘制函数的图像，例如余弦函数或你定义的函数，这些函数接受数字作为输入并生成数字作为输出。

**第八章：类型类** 在这里，我们介绍了 Haskell 中的类型类。类型类拥有需要能够处理某些类型（而非所有类型）的函数。等式检查就是这样的一个函数。我们希望能够检查数字的相等性、列表的相等性，以及其他事物的相等性。等式检查函数由类型类拥有。

**第九章：元组和类型构造器** 本章介绍了元组，一种包含两个或更多对象的结构。本章还讨论了类型构造器，它是类型级别的函数（换句话说，接受类型作为输入并产生类型作为输出的函数）。

**第十章：描述三维中的运动** 本章与第四章类似，专注于物理学的特定需求（在本章中是对向量的需求），并展示了 Haskell 如何满足这一需求。

**第十一章：创建图形** 本章我们回到创建图形的主题，首次在第七章提到，并且更详细地介绍了如何制作美观且信息丰富的图形。

**第十二章：创建独立程序** 在书的开头，我们主要通过 GHCi 交互式编译器与 Haskell 进行交互。后来在书中，当我们开始做动画时，我们制作独立程序。本章展示了几种创建独立程序的方法。

**第十三章：创建二维和三维动画** 本章介绍了动画，展示了如何制作简单的二维和三维动画。

**第二部分：牛顿力学**

**第十四章：牛顿第二定律与微分方程** 本章介绍了牛顿的第一定律和第二定律。我们学习如何在一维空间中解决有限类别的力学问题。我们还学习了为什么有些力学问题容易解决，而有些则难以解决。这归结于力依赖于什么。本章涵盖了不断增加复杂性的情况，从恒定力到依赖于时间和粒子速度的力。本章介绍了微分方程的概念，我们编写了能够求解一阶微分方程的代码。

**第十五章：一维力学** 本章继续增加复杂性的路径，研究依赖于时间、位置和速度的力。这些情况导致了一个二阶微分方程，我们通过引入状态变量来求解。

**第十六章：三维力学** 本章我们回到在第十章首次看到的向量设置，完成了单个物体的力学理论。我们展示了如何在三维空间中表达和求解牛顿第二定律。

**第十七章：卫星、抛体和质子运动** 本章提供了三个扩展示例，应用前一章中开发的思想和工具。

**第十八章：相对论简短入门** 本章展示了如果我们采纳特殊相对论的理念而不是牛顿理论，力学会是什么样子。我们看到，许多工具在转变后依然有效，使我们能够解决相对论中的问题。

**第十九章：相互作用的粒子** 本章介绍了牛顿第三定律，当我们关心不止一个物体时需要使用该定律。我们发展了一个相互作用粒子的理论，并用 Haskell 表达了关键概念。

**第二十章：弹簧、台球和吉他弦** 本章通过三个扩展示例，展示了相互作用粒子的问题，我们运用了第十九章中的思想和工具。在处理了三维空间中任意数量相互作用粒子的力学后，我们的牛顿力学讨论已完结。

**第三部分：电磁理论**

**第二十一章：电学** 本章介绍了古老的库仑电学理论，其中电学仅仅是由其他带电粒子产生的对带电粒子的力，这与牛顿引力的精神相似。库仑电学不使用电场的概念。

**第二十二章：坐标系与场** 本章引入了场的关键概念，场是空间的一个函数——一个在空间的每个位置可能具有不同值的量。本章还介绍了三维空间中的笛卡尔坐标、柱面坐标和球面坐标。

**第二十三章：曲线、曲面与体积** 本章讨论了我们如何在 Haskell 语言中描述曲线、曲面和体积。

**第二十四章：电荷** 本章涵盖了电荷这一导致电气现象的物理量以及不同类型的电荷分布。

**第二十五章：电场** 本章描述了电荷如何产生电场，开始了我们对现代法拉第-麦克斯韦电磁理论的学习，在该理论中，电场和磁场扮演着至关重要的角色。

**第二十六章：电流** 本章讨论电流和电流分布，类似于第二十四章中对电荷的讨论。

**第二十七章：磁场** 本章描述了电流如何产生磁场，与第二十五章类似，电荷与电场的关系就像电流与磁场的关系，至少在静态情况下是如此。

**第二十八章：洛伦兹力定律** 第二十四章到第二十七章讨论了电磁理论中电荷如何产生场，而本章讨论了电磁理论的第二个方面，即场如何对电荷施加力。洛伦兹力定律描述了这一第二个方面。

**第二十九章：麦克斯韦方程组** 本章介绍了麦克斯韦方程组，其中电磁理论的第一个方面达到了完整的复杂性，我们看到电场和磁场是动态的量，它们在相互作用并随时间变化。尽管有许多情况和应用我们不讨论，麦克斯韦方程和洛伦兹力定律提供了现代电磁理论的完整描述——这一理论不仅对于解释电、磁和光有重要意义，而且也为当今的基本粒子物理学理论提供了原型。

**附录：安装 Haskell** 本附录展示了如何安装我们将使用的 Haskell 编译器和软件库。

本书是我满怀热情的劳动成果，意味着写作本书的动力源于我对其中思想的热爱以及分享这些思想的愿望。我希望我创造了一本美丽的书，但更重要的是，我希望这本书能帮助你用优美的代码表达出美丽的思想。享受其中！
