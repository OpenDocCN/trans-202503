# 前言

![](img/chapterart.png)

欢迎来到*安全中的数学*，这是一本据我估计，和我读过的任何其他安全书籍都不同的书。它并不是用来介绍诸如访问控制或加密等安全话题，也不打算帮助你准备下一个认证考试。然而，它将增强你检查周围世界并研究安全相关问题的能力。这本书的内容位于理论研究、实验和实践应用的交汇点上。我的目标是通过实际研究主题向你介绍关键的数学领域。我发现理解复杂理论原理最简单的方式，就是看到它在实际中的应用。

我并不是一个数学家，完全不敢妄称。我是一名安全实践者，热爱阅读理论研究论文，并且在多年的实践中发现，实际上很少有资源能够将这些理论研究转化为可测试的系统，也就是所谓的*概念验证*。我决定写一本当初我开始这条道路时希望拥有的书。在阅读这本书时，你将熟悉将数学理论转化为与安全相关的应用所需的工具和流程。通过审视在处理“野生”数据时不可避免的假设，你将学会如何准确评估和沟通工具和流程的局限性。最重要的是，我希望你能学会以一种全新、完全实用的视角来看待数学理论。

## 谁应该阅读这本书？

当我开始讨论安全中的应用数学时，常常会听到类似“但我不做加密”的话，这让我意识到许多安全从业者误解了数学在他们日常活动中的作用。事实上，应用数学是每个现代安全自动化工具的核心，不仅仅是加密工具。我希望任何对安全感兴趣并且有一定 Python 编程经验的人，都能从这些项目中找到有趣和有益的信息。如果你知道足够的 Python 来安装和导入包、读写文件以及管理基本的网络任务，那么你应该没问题。你不需要对数学有深刻的理解，因为我们会在使用公式时逐步解析它们。如果书名引起了你的注意，那么很可能你就是应该阅读这本书的人！

## 这本书包含了什么？

我将材料分为三部分。第一部分：环境和约定（第一章和第二章）将帮助您为编程设置 Python 环境，并介绍一些基本的符号概念。第二部分：图论和计算几何（第三章至第十章）介绍了我们将要讨论的数学的两个主要分支。最后，第三部分：艺术画廊问题（第十一章至第十三章）涵盖了一个大型项目，旨在解决经典的艺术画廊问题，该问题需要两个数学分支的知识来解答。每章的最后都有一个“总结”部分，介绍其他可能的应用、背景阅读材料和补充的数学主题，帮助您继续独立学习。以下是每章内容的简要概述：

第一章：设置环境 我们将从使用 Anaconda 或 pip 开始设置您的开发环境，具体选择取决于您的偏好以及对 Python 的熟悉程度。我们将讨论隔离开发环境的重要性，并介绍如何访问附加材料中包含的 Jupyter 笔记本。

第二章：编程和数学约定 在这一章中，我们将介绍您需要遵循的特殊编程语法和数学符号，以便跟随示例学习。我们将介绍 Python 的列表和字典推导式，以及`zip`和`unpack`函数。然后，我们将从布尔代数和集合符号的复习开始，深入探讨数学方面的内容；我们还将研究数学世界中使用的各种符号。

第三章：利用图论保护网络 本章将介绍使用 NetworkX Python 库构建和分析图的概念。我们将讨论您可能遇到的一些基本类型的图，并分析一些关键统计数据，这些数据将帮助您更好地理解图的结构。

第四章：构建网络流量分析工具 在本项目中，我们将使用 NetworkX 和 Scapy 库构建一个图表，表示计算机网络中的通信。然后，我们将应用图的知识，揭示网络中计算机的一些有趣事实。最后，我们将通过一个概念验证项目，捕获网络数据包并使用它们创建您自己的图表。

第五章：利用社交网络分析识别威胁 本项目的重点是分析人际网络，而不是计算机网络。我们将使用模拟社交网络（如 Mastodon）数据构建一个图表。我们将讨论社交网络中连接形成的方式之一，并深入探讨一些实际的研究问题，以识别有趣的人物。最后，我们将通过一个概念验证项目，帮助您开始收集自己的数据，分析 Mastodon 时间线。

第六章：分析社交网络以防止安全事件 我们通过查看未来可能发生的情况，继续分析第五章中的社交网络。我们将使用随机性和概率创建一个模拟，预测消息如何在网络中传播，谁可能回应谁，以及讨论哪些话题。最后，我们将介绍我们的概念验证，一个双人对抗游戏，用以决定我们社交网络的命运。

第七章：利用几何学改进安全实践 在本章中，我们转向数学的第二个分支——计算几何学。我们将讨论如何使用 Shapely 库表示不同的形状，以及在处理形状数据时你将遇到的常见操作。本章还将介绍一些物理安全概念，如资源规划和位置，讨论如何使用几何学表示我们的计划。

第八章：利用数字信息跟踪物理空间中的人物 我们通过讨论计算几何学在定位物理世界中设备的应用，继续探索该领域。我们将介绍网络数据的结构，以及如何连接到 OpenCell API，收集关于网络的地理信息。我们还将讨论设备跟踪的伦理问题。本章的概念验证项目将输入一组塔数据，解决重叠的覆盖区域，并将其返回为一个有界的搜索区域。

第九章：计算几何学在安全资源分配中的应用 本章我们将讨论在进行资源分析时如何使用 Voronoi 图。我们将探讨俄勒冈州波特兰市消防站的当前分布情况，并分析新站点可以在哪个位置产生最大的影响。我们将介绍如何使用 OpenStreetMap API 获取更大区域的形状数据。在概念验证中，我们将创建一个应用程序，能够根据当前消防站的责任，程序化地推荐新消防站的选址。

第十章：面部识别中的计算几何学 在计算几何的最终项目中，我们将研究其在面部识别研究中的应用。我们将讨论什么样的图像才是好的，如何处理图像数据，如何通过形状来测量有趣的面部特征，以及如何找到最佳结果的关键特征。在这个特殊的两部分概念验证中，我们将开发一个系统，解决现代数据科学项目的两个方面：模型训练和模型应用。我们将制作一个能够处理图像集、训练面部分类器的系统，并最终将我们的方法应用于三张面孔，看看我们是否能仅通过计算几何正确识别它们。

第十一章：分发安全资源以保护空间 本章开始探讨艺术画廊问题以及一个更大项目的需求。我们将介绍支撑我们解决方案的理论和现有研究。接着，我们将讨论如何结合图论和计算几何学来改进基础方法，以提供更为实际的答案。本章中的代码将作为项目其余部分的基础，并涵盖生成我们感兴趣的实际解决方案。

第十二章：最小可行产品方法在安全软件开发中的应用 在这里，我们将把第十一章 中的项目从一个简单的概念验证扩展到更高级的功能，以改善用户体验。我们将讨论如何通过并行编程加速我们的应用程序。我们将简要介绍如何使用 PyGame 处理图形和用户交互。最后，我们将回顾本书附带的示例应用程序，并探索如何将其作为你自己艺术画廊问题解决方案的起点。

第十三章：交付 Python 应用程序 我们将在艺术画廊问题项目的最后，讨论现代软件交付方法。这是一个庞大的话题，因此我挑选了一些我认为每个人都应该熟悉的内容，从将你的应用程序打包为库到将其作为云服务交付。我们将讨论每种选项的优缺点以及它对你实现应用程序盈利能力的影响。

## 为什么选择 Python？

Python 满足了我们在本书中将要讨论的所有要求。Python 语言在安全社区有着悠久的成功历史，并且已经有大量使用它的工具和书籍。操作灵活性被认为是 Python 在安全社区广泛应用的主要原因之一。Python 在各种平台上表现良好，从微型单板计算机（如树莓派）到庞大的计算集群，以及所有介于两者之间的平台。使用 Python，你可以将自己的想法与大量现有的工作进行整合。

Python 还与应用数学界有着紧密的联系。在当今这个以计算机为中心的世界中，应用数学通常通过一种或多种高级编程语言来表达。在所有现代编程语言中，Python 因其易学性和几乎无限的表达能力，已成为数学和科学编程的领导者。Python 3 是我们进行探索性研究的自然选择，因为它有许多库和功能，可以帮助我们实现执行深入分析所需的各种算法。

这并不是说 Python 没有它的不足之处。Python 是一种解释型语言，这意味着一个程序（称为*解释器*）位于你编写的代码和执行该代码的系统之间。解释器的任务是将你的指令翻译成底层系统能理解的命令。

代码和系统之间有一个解释器，这就引入了一些问题。首先，指令和执行之间的额外层会增加处理时间和内存开销。其次，解释器本身是一个运行在你机器核心上的进程中的单一应用程序。然后，你的代码会在解释器进程的上下文中执行，这意味着你的整个应用程序受到操作系统分配给进程的极小系统资源的限制，即使你拥有一台配备足够内存的八核处理器，也无法突破这一限制。你可以采用一些编程技巧来规避这些限制（比如分布式处理，我们将在第十二章中讨论），但最终，Python 永远不会像 C 这样的编译语言那样快速和灵活。残酷的事实是，像 scikit-learn 和 NumPy 这样的数据科学库中，很多计算密集型函数都是在幕后调用编译后的 C 程序的包装器。

尽管存在一些不足，Python 仍然是我们目标实现的最佳选择。我将在第二章中介绍一些常见的惯用法，这些惯用法将在本书的其余部分中使用，并在接下来的章节中根据需要解释代码。

## 信息可访问性

在本书中，我将尽力以多种不同的方式呈现图表中的数据，例如将数字和符号与颜色渐变结合使用。我选择将形状或数字表示与颜色一起添加，是为了更清楚地传达要点，因为印刷版中的图像是灰度的。使用颜色之外的其他指示符也是为了考虑可访问性。不得不在一本书中仅使用灰度图像帮助我意识到，我们用颜色传达了多少信息，而这对那些无法区分大量颜色的人是不公平的。每当我们创建数据可视化时，我们应该努力提供多种方式让人们区分关键点，而不是过度依赖漂亮的颜色渐变来代替我们的表达。如果你在理解这些信息时有可访问性方面的需求或疑虑，请通过本书的 GitHub 页面([`github.com/dreilly369/AppliedMathForSecurityBook`](https://github.com/dreilly369/AppliedMathForSecurityBook))与我联系，我会尽力提供解决方案。

## 在线资源

本书的补充材料和随书提供的 Jupyter Notebooks 可以在[`github.com/dreilly369/AppliedMathForSecurityBook`](https://github.com/dreilly369/AppliedMathForSecurityBook)获取。
