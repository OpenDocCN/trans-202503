# 第二十三章：详细目录

1.  封面页

1.  版权

1.  献词

1.  关于作者

1.  致谢

1.  介绍

    1.  谁应该阅读本书？

    1.  本书内容

    1.  为什么选择 Python？

    1.  信息可访问性

    1.  在线资源

1.  第一部分：环境和约定

    1.  第一章：设置环境

        1.  使用 Anaconda 简单配置环境

            1.  Linux

            1.  Windows

            1.  macOS

        1.  设置虚拟环境

        1.  使用 Anaconda 安装 IDE

        1.  高级设置

            1.  设置虚拟环境

            1.  不使用 Anaconda 安装 IDE

        1.  Jupyter Notebooks

        1.  总结

    1.  第二章：编程和数学约定

        1.  语法结构

            1.  列表推导式

            1.  字典推导式

            1.  压缩和解压

        1.  数学符号

            1.  布尔符号

            1.  集合符号

            1.  属性字符

            1.  希腊字母和函数

        1.  总结

1.  第二部分：图论与计算几何

    1.  第三章：通过图论保护网络

        1.  图论在安全应用中的作用

        1.  在 NetworkX 中创建图

        1.  在数据中发现关系

            1.  衡量节点重要性

            1.  分析团体以追踪关联

            1.  确定网络的连通性

            1.  使用图的边捕捉重要细节

        1.  总结

    1.  第四章：构建网络流量分析工具

        1.  网络拓扑可视化

        1.  将网络信息转换为图

            1.  构建通信图

            1.  构建图

        1.  识别可疑的机器行为

            1.  端口数据量子图

            1.  识别异常流量水平

            1.  检查机器如何在网络中互动

        1.  **概念验证：网络流量分析**

        1.  总结

    1.  第五章：利用社交网络分析识别威胁

        1.  小世界现象

        1.  图形化社交网络数据

            1.  数据结构化

            1.  可视化社交网络

        1.  网络分析洞察

            1.  计算信息传播

            1.  识别团体和最具影响力的用户

            1.  找到受影响最大的用户

            1.  使用基于话题的信息交换

            1.  分析网络组织

        1.  **概念验证：社交网络分析**

        1.  社交网络分析的阴暗面

        1.  总结

    1.  第六章：分析社交网络以防止安全事件

        1.  使用蒙特卡洛模拟预测攻击

            1.  有限状态机

            1.  网络建模与随机游走

            1.  蒙特卡洛模拟

        1.  模拟社交网络

            1.  建模用户互动

            1.  建模基于话题的影响

            1.  建模信息流

        1.  **概念验证：打乱信息流**

            1.  建模演化中的网络

            1.  在网络中传播信息

            1.  测量信息流量

            1.  游戏如何运作

            1.  游戏目标

            1.  游戏模拟

            1.  对玩家 2 的改进

        1.  总结

    1.  第七章：利用几何学改进安全实践

        1.  描述形状

            1.  点与线

            1.  多边形

            1.  顶点顺序

        1.  场景：为音乐会规划安全

            1.  计算安全容纳限制

            1.  确定安保人员的部署位置

            1.  估算警卫巡逻时间

            1.  改善警卫部署

        1.  总结

    1.  第八章：使用数字信息在物理空间中追踪人员

        1.  收集蜂窝网络数据

        1.  跟踪设备和人员的伦理问题

        1.  OpenCellID API 结构

        1.  **概念验证：通过附近的基站定位设备**

            1.  收集塔的位置

            1.  将地理坐标转换为多边形

            1.  计算搜索区域

            1.  为调查员绘制搜索区域

            1.  减少搜索区域

        1.  总结

    1.  第九章：安全资源分配的计算几何

        1.  使用 Voronoi 剖分进行资源分配

        1.  **概念验证：分析消防站覆盖范围**

            1.  定义距离函数

            1.  确定城市形状

            1.  收集现有消防站的位置

            1.  执行 Voronoi 分析

        1.  算法的局限性

        1.  总结

    1.  第十章：面部识别的计算几何

        1.  面部识别在安全中的应用

        1.  面部识别研究的伦理

        1.  面部识别算法

            1.  使用决策树分类器

            1.  表示面部几何

            1.  处理图像数据

            1.  定位面部标志

        1.  **概念验证：开发面部识别系统**

            1.  面部统计

            1.  内存管理

            1.  数据加载

            1.  特征工程

            1.  模型训练

            1.  模型持久性

        1.  总结

1.  第三部分：艺术画廊问题

    1.  第十一章：分配安全资源以守护空间

        1.  确定最少守卫人数

        1.  艺术画廊问题理论

        1.  画廊的几何和图形表示

        1.  保护画廊

            1.  绘制守卫覆盖区域

            1.  定义受阻区域

            1.  优先考虑守卫覆盖区域

            1.  绘制安全摄像头视场

        1.  总结

    1.  第十二章：最小可行产品方法在安全软件开发中的应用

        1.  绘制用户交互图

            1.  规划应用状态

            1.  记录应用程序

        1.  开发状态管理器

        1.  通过并行处理加速安全性

            1.  线程并行性

            1.  处理器并行性

        1.  添加图形用户界面

            1.  在 PyGame 中显示和管理图像

            1.  使用精灵和层组织图形

        1.  保存和重新加载项目数据

            1.  保存到字典

            1.  从 JSON 文件加载

        1.  运行示例应用

        1.  总结

    1.  第十三章：交付 Python 应用

        1.  使用安装脚本

        1.  使用 Python 解释器打包

        1.  使用云微服务进行分发

        1.  使用 PyArmor 授权

        1.  开源交付

        1.  总结

1.  笔记

1.  索引

## **表格列表**

1.  表 2-1：布尔逻辑示例

1.  表 2-2：集合表示法示例

1.  表 2-3：保留集合

1.  表 2-4：函数表示法示例

## **插图列表**

1.  图 1-1：Windows 上的 Anaconda 安装程序

1.  图 1-2：Anaconda Navigator 界面

1.  图 1-3：Anaconda 安装屏幕

1.  图 2-1：使用θ表示角度的勾股定理

1.  图 3-1：旅行图

1.  图 3-2：图论的情报收集应用

1.  图 3-3：一个状态机图

1.  图 3-4：一个无向图

1.  图 3-5：一个简单的代理网络

1.  图 3-6：卡通角色图

1.  图 3-7：一个不连通的图

1.  图 3-8：比较单边和多边图

1.  图 4-1：Zenmap 的示例网络拓扑视图

1.  图 4-2：网络的 3D 表示

1.  图 4-3：网络上 HTTP 流量的协议子图

1.  图 4-4：具有最多外部连接的节点图

1.  图 5-1：社交网络图的 3D 可视化

1.  图 5-2：用户回应最多的子图

1.  图 5-3：找到影响力最大的用户

1.  图 5-4：环境与政治的主题子图示例

1.  图 5-5：组织结构图的示例树形结构

1.  图 5-6：一般的祖先图示

1.  图 6-1：一个简单的有限状态机

1.  图 6-2：二维和三维随机行走示例

1.  图 6-3：随机行走蒙特卡罗模拟

1.  图 6-4：比较概率分布

1.  图 7-1：凹形与凸形

1.  图 7-2：比较多边形类型

1.  图 7-3：带孔的公园作为多边形

1.  图 7-4：简单多边形和带孔多边形的三角形镶嵌

1.  图 7-5：安全人员的质心布置

1.  图 7-6：改进的安全布置结果

1.  图 8-1：派克市场区域的网络数据

1.  图 8-2：显示塔的范围

1.  图 8-3：塔信号重叠

1.  图 8-4：四个塔的交集作为多边形

1.  图 8-5：结果搜索区域

1.  图 8-6：比较位置估计

1.  图 9-1：随机生成的 Voronoi 镶嵌

1.  图 9-2：波特兰市作为多边形

1.  图 9-3：消防站位置作为点

1.  图 9-4：Voronoi 镶嵌，显示每个站点的责任区域

1.  图 9-5：最大区域及其生成器位置

1.  图 10-1：高尔夫决策树示例

1.  图 10-2：面部兴趣点，由算法生成（图片来源：https://i.stack.imgur.com/OBgDf.png）

1.  图 10-3：处理过的面部图像，准备分析

1.  图 10-4：地标检测结果

1.  图 10-5：自动面部镶嵌的结果

1.  图 10-6：特征关联矩阵

1.  图 11-1：解决最简单的艺术画廊问题

1.  图 11-2：由弗兰克·劳埃德·赖特设计的古根海姆博物馆（© 2023 弗兰克·劳埃德·赖特基金会。版权所有。由艺术家权利协会授权。）

1.  图 11-3：用多边形和图表示画廊

1.  图 11-4：对示例画廊进行三角剖分的结果

1.  图 11-5：对示例画廊进行贪心着色的结果

1.  图 11-6：最大区域面积 30 平方米解决方案

1.  图 11-7：从选定的部署创建 AOR 图

1.  图 11-8：将 AGP 算法应用于复杂多边形

1.  图 11-9：添加区域分配后的画廊

1.  图 11-10：创建多区域网格划分

1.  图 11-11：精细化网格，带有三个保护层

1.  图 11-12：定义视野多边形

1.  图 12-1：多个会话工作流图

1.  图 12-2：使用 PyGame 在屏幕上绘制图形

1.  图 12-3：使用精灵绘制多边形

1.  图 13-1：微服务架构图

## **列表总览**

1.  列表 3-1：创建基础加权无向图

1.  列表 3-2：列表 3-1 创建的图的介数中心性

1.  列表 3-3：度中心性，列表 3-2 的变化部分用粗体标出

1.  列表 3-4：创建有向图以衡量入度和出度中心性

1.  列表 3-5：创建图 3-6 中的漫画社群图

1.  列表 3-6：从有向图创建社群列表

1.  列表 4-1：从 pcap 文件填充图

1.  列表 4-2：协议子图辅助函数

1.  列表 4-3：查找具有最多出站流量的机器（单一协议）

1.  列表 4-4：为多个协议定位具有最高出站流量的机器

1.  列表 4-5：使用 z-score 标准化识别异常值

1.  列表 4-6：查找具有最多出站连接的机器

1.  列表 4-7：计算所有 IER 的函数

1.  列表 4-8：查找信息吸收比率最高的节点

1.  列表 4-9：概念验证运行选项

1.  列表 5-1：使用 Mastodon 架构示例的模拟 API 响应

1.  列表 5-2：从示例 JSON 数据创建 pandas `DataFrame` 对象

1.  列表 5-3：Pandas 中的帖子数据结构

1.  列表 5-4：将帖子数据表示为有向图

1.  列表 5-5：对示例数据应用 RI 算法

1.  列表 5-6：转换为无向图以查找社群

1.  列表 5-7：查找具有最高出度节点的所有最大社群

1.  列表 5-8：构建基于主题的子图并运行 HITS 算法

1.  列表 5-9：统计所有节点的 LCA 出现次数

1.  列表 5-10：LCA 分析结果

1.  列表 5-11：捕获 Mastodon 公共时间线数据到 CSV 文件

1.  列表 6-1：蒙特卡洛模拟的初始化代码

1.  列表 6-2：确定性消息传递蒙特卡洛模拟

1.  列表 6-3: 基于主题的消息传递蒙特卡罗模拟

1.  列表 6-4: 平均蒙特卡罗模拟结果

1.  列表 6-5: 基于术语定义子图

1.  列表 6-6: 检查终止条件

1.  列表 6-7: 用于偏差行走的加权随机选择函数

1.  列表 6-8: 没有消息的节点的加权输入

1.  列表 6-9: 定向优先附着加权随机选择

1.  列表 6-10: 节点的容量加权

1.  列表 6-11: 加权随机断开函数

1.  列表 6-12: 定义玩家 1 回合的逻辑

1.  列表 6-13: 玩家 2 的随机实现

1.  列表 6-14: 为加权选择创建平均长度得分

1.  列表 6-15: 主游戏模拟函数

1.  列表 6-16: 用更多智能更新玩家 2

1.  列表 7-1: 在 Shapely 中定义一个点

1.  列表 7-2: 从 `Point` 对象创建 `LineString`

1.  列表 7-3: 从 `Point` 对象创建 `Polygon`

1.  列表 7-4: 在 Shapely 中创建带孔的多边形

1.  列表 7-5: 检查并修正顶点顺序

1.  列表 7-6: 创建复杂的公园形状并计算面积

1.  列表 7-7: 根据可用面积计算容量

1.  列表 7-8: 基于质心的人员分散算法

1.  列表 7-9: 计算警卫巡逻时间

1.  列表 7-10: 从不可用区域重新分配警卫站

1.  列表 8-1: API 负载结构

1.  列表 8-2: 调用 API 并解码响应的函数

1.  列表 8-3: 单塔 JSON 查询响应

1.  列表 8-4: 收集塔的位置地理信息

1.  列表 8-5: 从塔位置创建 `GeoDataFrame`

1.  列表 8-6: 将地理点转换为地理多边形

1.  列表 8-7: 将多边形分割成差集和交集元素

1.  列表 8-8: 用于多边形交集级联的扫描线算法

1.  列表 8-9: 删除小面积多边形

1.  列表 9-1: 通过 Nominatim 获取波特兰市的 JSON 数据

1.  列表 9-2: 将坐标转换为 geoJSON 特性集合

1.  列表 9-3: 将城市几何转换为 Shapely 形状集合

1.  清单 9-4: 快速简便地将数据加载到`DataFrame`中

1.  清单 9-5: 将地址转换为地理坐标点

1.  清单 9-6: 从站点位置创建`DataFrame`

1.  清单 9-7: 将地址转换为地理坐标点

1.  清单 9-8: 查找最大 AOR

1.  清单 10-1: 加载面部标志检测器

1.  清单 10-2: 处理单个*.jpeg*图像的函数

1.  清单 10-3: 在图像中定位特征标志

1.  清单 10-4: 使用 Shapely 定义几何统计数据

1.  清单 10-5: 遍历图像文件进行处理

1.  清单 10-6: 准备*facial_geometry.csv*数据进行训练

1.  清单 10-7: 随机选择一个真实的保留数据集

1.  清单 10-8: 计算特征集的关联矩阵

1.  清单 10-9: 计算每个特征的 MI 贡献

1.  清单 10-10: 查找最佳特征列表之间的重叠部分

1.  清单 10-11: 计算特征的相关比率

1.  清单 10-12: 创建训练集和测试集的拆分

1.  清单 10-13: 训练基准虚拟分类器

1.  清单 10-14: 决策树算法定义

1.  清单 10-15: 使用真实保留数据集进行测试

1.  清单 11-1: 创建画廊表示

1.  清单 11-2: 使用 Triangle 库执行三角形镶嵌

1.  清单 11-3: 更新画廊表示

1.  清单 11-4: 将三角形分配给防护节点

1.  清单 11-5: 汇总 AOR 区域

1.  清单 11-6: 对复杂多边形进行镶嵌

1.  清单 11-7: 添加用于镶嵌的区域定义

1.  清单 11-8: 将镶嵌结果保存到 Triangle 项目文件中

1.  清单 12-1: 处理 PyGame 事件

1.  清单 12-2: 在状态管理器中处理`KEYDOWN`事件

1.  清单 12-3: 在状态管理器中处理`KEYUP`事件

1.  清单 12-4: 在状态管理器中处理`MOUSEBUTTONDOWN`事件

1.  清单 12-5: 使用线程并行处理并发图像显示

1.  清单 12-6: 使用`DisplayAGP`类并发显示图像

1.  清单 12-7: 使用多进程并发求解楼层问题

1.  清单 12-8: 修改求解器以便在多进程中使用

1.  清单 12-9: 使用 PyGame 显示模块显示图形

1.  清单 12-10: 为 `Room` 多边形创建自定义精灵类

1.  清单 12-11: 使用 `Room` 精灵显示多边形

1.  清单 12-12: 为 `Room` 类创建字典表示

1.  清单 12-13: 保存对象的 JSON 表示

1.  清单 12-14: 从已创建的 ZIP 文件中提取文件

1.  清单 12-15: 从字典重新加载 `Room`

## 指南

1.  封面

1.  前言

1.  致谢

1.  简介

1.  开始阅读

1.  索引

## 页

1.  i

1.  ii

1.  iii

1.  v

1.  xv

1.  xvi

1.  xvii

1.  xviii

1.  xix

1.  xx

1.  xxi

1.  xxii

1.  1

1.  3

1.  4

1.  5

1.  6

1.  7

1.  8

1.  9

1.  10

1.  11

1.  12

1.  13

1.  14

1.  15

1.  16

1.  17

1.  18

1.  19

1.  20

1.  21

1.  22

1.  23

1.  25

1.  27

1.  28

1.  29

1.  30

1.  31

1.  32

1.  33

1.  34

1.  35

1.  36

1.  37

1.  38

1.  39

1.  40

1.  41

1.  42

1.  43

1.  44

1.  45

1.  46

1.  47

1.  48

1.  49

1.  50

1.  51

1.  52

1.  53

1.  54

1.  55

1.  56

1.  57

1.  58

1.  59

1.  60

1.  61

1.  62

1.  63

1.  64

1.  65

1.  67

1.  68

1.  69

1.  70

1.  71

1.  72

1.  73

1.  74

1.  75

1.  76

1.  77

1.  78

1.  79

1.  80

1.  81

1.  82

1.  83

1.  84

1.  85

1.  86

1.  87

1.  88

1.  89

1.  90

1.  91

1.  92

1.  93

1.  94

1.  95

1.  96

1.  97

1.  98

1.  99

1.  100

1.  101

1.  102

1.  103

1.  104

1.  105

1.  106

1.  107

1.  108

1.  109

1.  110

1.  111

1.  112

1.  113

1.  114

1.  115

1.  116

1.  117

1.  118

1.  119

1.  120

1.  121

1.  122

1.  123

1.  124

1.  125

1.  127

1.  128

1.  129

1.  130

1.  131

1.  132

1.  133

1.  134

1.  135

1.  136

1.  137

1.  138

1.  139

1.  140

1.  141

1.  142

1.  143

1.  144

1.  145

1.  146

1.  147

1.  148

1.  149

1.  150

1.  151

1.  152

1.  153

1.  154

1.  155

1.  156

1.  157

1.  158

1.  159

1.  160

1.  161

1.  162

1.  163

1.  164

1.  165

1.  166

1.  167

1.  168

1.  169

1.  170

1.  171

1.  172

1.  173

1.  174

1.  175

1.  176

1.  177

1.  178

1.  179

1.  180

1.  181

1.  182

1.  183

1.  184

1.  185

1.  186

1.  187

1.  188

1.  189

1.  190

1.  191

1.  192

1.  193

1.  194

1.  195

1.  196

1.  197

1.  198

1.  199

1.  200

1.  201

1.  202

1.  203

1.  204

1.  205

1.  206

1.  207

1.  209

1.  210

1.  211

1.  212

1.  213

1.  214

1.  215

1.  216

1.  217

1.  218

1.  219

1.  220

1.  221

1.  222

1.  223

1.  224

1.  225

1.  226

1.  227

1.  228

1.  229

1.  230

1.  231

1.  232

1.  233

1.  234

1.  235

1.  236

1.  237

1.  238

1.  239

1.  240

1.  241

1.  242

1.  243

1.  244

1.  245

1.  246

1.  247

1.  248

1.  249

1.  250

1.  251

1.  252

1.  253

1.  254

1.  255

1.  256

1.  257

1.  258

1.  259

1.  260

1.  261

1.  262

1.  263

1.  264

1.  265

1.  266

1.  267

1.  269

1.  270

1.  271

1.  272

1.  273

1.  275

1.  276

1.  277

1.  278

1.  279

1.  280

1.  281

1.  282

1.  283

1.  284

1.  285

1.  286

1.  287

1.  288
