# 第九章：后记

> *构建软件设计有两种方式：一种是使其足够简单，显然没有缺陷，另一种是使其足够复杂，显然没有明显缺陷。第一种方法要难得多。*
> 
> ——托尼（C.A.R.）霍尔，1980 年图灵奖讲座

![](img/opener-img.png)

计算机编程是一门微妙的艺术。一个成功的程序员不仅需要了解编程语言的语法，还需要掌握更多。充分发挥任何编程语言的优势需要深入理解其*机制*（语法元素如何结合在一起）和*语义*（这些元素如何定义和控制最终程序的行为）。

语义可以是低级的，例如按值复制行为对对象间相等比较的影响，也可以是更概念性的，例如不同类型的多态性应用。语义在应用程序设计中也发挥着作用：精心设计的对象可以表达系统中的不同概念，从而赋予代码结构和意义。

理解 C#的机制和语义使我们能够编写出更好地利用语言构造的代码。这带来了几个潜在的好处：更高效地使用内存和处理器资源；更简单、更易理解的代码（不仅是其他程序员，连我们自己也能更好理解）；以及更强的能力去添加新功能和诊断错误。

在设计系统时，无论其规模和目的如何，很容易将注意力集中在形成应用程序整体结构的大型架构组件上。即使设计是自然而然地产生的——也就是说，它随着我们开始创建功能而有机地形成——细粒度的值很容易被忽视或当作在更有趣的系统接口之间传递的微小、被动的数据片段。在本书中，我们探讨了这些值与其他应用程序元素之间的关系，因为将值类型视为系统中信息的*货币*，不仅能帮助我们更好地表达整体设计，还能帮助我们明确使用这些值的代码的目的。丰富的自定义值类型有助于在应用程序中建立一个普遍的语言，这在传达设计及其整体目的时起着重要作用。它们还使得编译器能够在运行时之前捕捉到更多的错误。

在像本书这样的书籍中，全面介绍像 C#这样复杂语言的每个特性并不实际，部分原因是 C#是一门不断发展的语言。其特性不断扩展，以满足各个领域程序员的需求。这是一个好事™，因为软件开发的格局也在不断演变，但 C#程序员有责任跟上这一进展。在本书中，我展示了许多技术和特性，帮助你更好地理解当前的 C#，并希望我也能激发你探索 C#语言设计者未来可能添加的特性、性能和语义。

理解 C#在值类型和值似类型方面的复杂语义可能具有挑战性，但你的努力将获得更丰富、更清晰的设计，且更易于维护和扩展。我希望本书能让你更深入地理解和欣赏 C#为创建这些类型所提供的多种功能，最重要的是，我希望它能使你成为一名更优秀的程序员。
