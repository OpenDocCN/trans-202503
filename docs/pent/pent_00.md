## 引言

我决定写这本书，是因为它正是我在刚入门信息安全时希望拥有的那种书籍。尽管如今比我刚开始时有更多的信息丰富的网站，但我仍然觉得初学者很难知道该先读什么，以及从哪里获得所需的基础技能。同样，市场上有很多书籍——一些很棒的关于高级主题的书籍，它们需要一定的背景知识；也有许多很好的针对初学者的书籍，涵盖了大量理论。然而，我并没有找到一本能够对那些发邮件给我、寻找入门路径的渗透测试学者说清楚所有我想说的话的书。

在我的教学生涯中，我一直发现我最喜欢教授的课程是《渗透测试入门》。学生们总是渴求知识，和他们在一起总是非常有趣。因此，当 No Starch Press 公司邀请我写书时，我提议的就是这本书。当我宣布写书时，很多人认为我会写一本关于移动安全的书，虽然我曾考虑过这个话题，但我认为《渗透测试入门》更能对我最想接触的读者群体产生最大的影响。

## 感谢致辞

一本像这样的书，如果没有信息安全社区多年来的辛勤工作，是无法实现的。本书中讨论的工具和技术是我和我的同事在实际工作中常用的一些工具，它们是全球各地的渗透测试人员和其他安全专家共同努力开发的。我参与了一些开源项目（例如我们将在漏洞开发章节中使用的 Mona.py），希望这本书能激励你也为此做出贡献。

我想借此机会感谢 Offensive Security 公司，感谢他们创造并维护了 Kali Linux 渗透测试发行版，这一发行版在这个领域和本书中得到了广泛应用。同时，也要特别感谢 Metasploit Framework 的核心开发人员以及众多社区贡献者。还要感谢所有那些与社区分享他们的知识、发现和技术的渗透测试员和研究人员，正是因为有了这些共享，才能帮助我们更有效地评估客户的安全态势，也让像我这样的教师能在教学中使用这些技术。

还要感谢那些伟大的书籍、博客文章、课程等的创作者，它们帮助我实现了成为一名专业渗透测试员的目标。现在，我希望能将我获得的知识分享给其他有志于成为渗透测试员的人。

在本书的最后，你将找到一些额外资源的列表（包括课程和博客）。这些资源是我在信息安全领域的个人学习旅程中发现的对我帮助很大的资源，我鼓励你们使用它们来进一步了解本书中涵盖的各种渗透测试主题。希望你们的学习之旅能够像我一样充满乐趣。

## 关于本书

为了完成本书中的内容，你只需要知道如何在计算机上安装软件。就这些。你不需要成为 Linux 专家，也不需要了解网络协议的细节。当你遇到不熟悉的话题时，如果需要，我鼓励你进行一些额外的研究——但我们将一步步地走过所有可能对你来说是新鲜的工具和技术，从 Linux 命令行开始。当我刚接触信息安全时，我做过的最接近黑客的事，就是让 Windows XP 的 SP2 之前版本的开始菜单显示*Georgia*而不是*Start*。那时我为自己感到非常骄傲。

然后我参加了大学生网络防御比赛，所有红队成员都在快速使用命令行，并且通过远程操作让我的桌面弹出窗口。我当时只知道我想像他们一样。此后我经历了很多艰苦的努力，今后也会有更多的努力，因为我希望达到信息安全的最高水平。我只希望通过本书，我能激励更多人走上相同的道路。

### 第一部分：基础知识

在**渗透测试入门**中，我们首先介绍了渗透测试各个阶段的一些基本定义。在**第一章**中，我们建立了一个小型实践实验室，接下来我们将用这个实验室来完成本书中的练习。对于许多书籍，你可以直接下载一些程序到现有平台，但为了模拟渗透测试，我们的方法稍微复杂一些。我建议你花时间搭建好实验室，并与我一起完成这些实际操作练习。虽然本书可以作为在工作中参考和提醒，但我认为最好还是先在家练习渗透测试技巧。

在**第二章**中，我们从使用 Kali Linux 和一般的 Linux 操作系统的基础知识开始。接下来，**第三章**将介绍编程基础。一些读者可能已经在这些领域有一定的工作经验，可以跳过这些内容。当我刚开始时，我有一些 C 和 Java 编程经验，但我没有脚本编程的背景，也几乎没有 Linux 的背景——这是大多数黑客教程所假设的技能。因此，我在这里提供了一个入门指南。如果你对这些内容不熟悉，请继续在本书之外进行学习。基于 Linux 的操作系统在移动设备和网络服务平台中越来越普及，因此即使你不从事信息安全行业，掌握这些技能对你仍然有益。同样，知道如何编写脚本来自动化常见任务也会让你的工作更轻松，无论你的职业是什么。

我们在**第四章**中，学习使用 Metasploit 框架的基础知识，这是我们在本书中将持续使用的工具。虽然我们也会学习如何在没有 Metasploit 的情况下执行许多任务，但它是许多渗透测试工程师常用的工具，并且不断发展，纳入最新的威胁和技术。

### 第二部分：评估

接下来，我们开始进行模拟渗透测试。在**第五章**中，我们通过搜索公开的在线信息以及与目标系统交互，开始收集关于目标的数据。然后，我们通过查询系统和研究**第六章**中的内容，开始搜索漏洞。在**第七章**中，我们探讨了捕获可能包含敏感数据的流量的技术。

### 第三部分：攻击

接下来，在**第八章**中，我们通过多种工具和技术，利用我们在网络中发现的漏洞进行攻击，包括 Metasploit 和纯手工的利用方法。然后，在**第九章**中，我们研究攻击网络安全中通常最薄弱环节——密码管理的方法。

接下来，我们探讨一些更高级的利用技巧。并非所有漏洞都存在于网络中监听的服务中。网页浏览器、PDF 阅读器、Java、Microsoft Office——这些都曾经遭受过安全问题。当客户端更加努力地保护其网络时，攻击客户端软件可能成为进入网络的关键。我们在**第十章**中讨论如何利用客户端攻击。在**第十一章**中，我们将客户端攻击与社会工程学结合起来，或是攻击人类因素——环境中无法打补丁的部分。毕竟，在客户端攻击中，相关软件必须打开某种恶意文件，因此我们必须说服用户帮助我们。在**第十二章**中，我们探讨绕过杀毒软件的一些方法，因为许多客户会部署杀毒软件。如果你在系统中拥有足够的权限，你可能可以直接关闭杀毒程序，但一个更好的解决方案是悄无声息地绕过杀毒程序不被发现，即使你将恶意程序保存到硬盘中也能做到这一点。

在**第十三章**中，我们进入渗透测试的下一阶段——后期利用。有人说渗透测试真正开始于漏洞利用之后。此时你会利用你的访问权限，寻找其他可攻击的系统、敏感信息等。如果你继续深入渗透测试的学习，你会花费大量时间研究最新的后期利用技术。

在后期利用阶段，我们将介绍一些你成为全能渗透测试员所需的额外技能。我们将简要了解如何评估**第十四章**中定制 Web 应用程序的安全性。如今每个人都有网站，所以这是一个值得培养的技能。接下来，我们将讨论如何评估无线网络的安全性，内容在**第十五章**中，重点介绍破解常见加密系统的方法。

### 第四部分：漏洞开发

**第十六章, 第十七章, 第十八章**，以及**第十九章**将讨论编写自己漏洞利用代码的基础知识。我们将探讨如何发现漏洞，利用常见技术进行攻击，甚至编写自己的 Metasploit 模块。在这些章节之前，我们依赖于工具和公开的漏洞利用代码来进行大部分练习。随着你在信息安全领域的深入，你可能会想找到新的漏洞（即零日漏洞），并将其报告给厂商以获取潜在奖励。然后，你可以发布一个公开的漏洞利用代码和/或 Metasploit 模块，帮助其他渗透测试员测试他们客户环境中的此类问题。

### 第五部分：移动黑客

最后，在**第二十章**中，我们将结束对渗透测试的相对新领域——评估移动设备安全性的探讨。我们将介绍我自己的工具——智能手机渗透测试框架。也许在掌握了本书中的技能之后，你会努力开发并发布你自己的安全工具。

当然，这本书并没有涵盖信息安全的每一个方面，也没有涵盖每一个工具或技术。如果涵盖了这些内容，这本书将会长得多，并且发布时间也会推迟，而且我还得回去做我的研究。所以，这本书就是这样：一本实用的黑客入门书。能够和你一起走上信息安全的这一步，我感到非常荣幸。我希望你能从这本书中学到很多，并且希望它能激励你继续深入学习，成为这个充满活力、快速发展的领域中的一员。
