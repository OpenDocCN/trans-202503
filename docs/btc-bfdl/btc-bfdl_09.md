## 9

**理解不同类型的比特币钱包**

在第二章中，我们推荐使用比特币钱包程序 Electrum，它是免费的开源软件，支持大多数设备，并且非常适合初学者。然而，市面上有*数百种*其他比特币钱包程序，从简单到复杂不等，而且随着开发者竞争推出新功能和更精致的界面，新钱包程序不断发布。但在这些更精致的界面和偶尔显得有些花哨的功能背后，一些比特币钱包程序之间仍然存在着根本的差异。本章的目的是帮助你了解这些差异，以便你可以做出一个明智的选择，选择最适合你需求的比特币钱包。

在本章中，我们偶尔会使用*比特币钱包*或简称*钱包*来指代*比特币钱包程序*，尽管*比特币钱包*通常仅指一个地址和私钥的列表。

### 钱包软件设计基础

至少，一个比特币钱包程序需要允许用户发送和接收比特币，并且跟踪有多少比特币可以使用。换句话说，比特币钱包程序必须能够（1）创建并广播交易到比特币网络，（2）生成新的比特币地址，和（3）扫描区块链以检测你是否在这些地址上收到了比特币。不同钱包设计之间的主要差异主要涉及这三项功能及其实现方式。支持这些差异的设计选择如下：

1. 离线与在线交易签名

2. 随机与确定性密钥生成（与单一密钥生成相比）

3. 完整支付验证与简化支付验证

这些设计选择对所需的计算资源、存储的比特币安全性，甚至备份的性质和有效性有着重大影响。没有绝对正确的选择。有些用户更适合使用只需要一个设备和最少计算能力的钱包，而大型企业可能更倾向于选择强调安全性的程序。在接下来的章节中，我们将详细解释每个设计选择，以便你可以做出明智的选择。

#### *离线与在线交易签名*

比特币钱包程序需要私钥来签署交易，然后才能将交易广播到比特币网络。在最简单的设计中，这些私钥存储在用户的比特币钱包中，该钱包存储在用户设备上的*wallet.dat*文件中。这是第一个比特币钱包程序 Bitcoin-Qt 的工作方式。然而，这种设计容易受到攻击者的攻击，攻击者可能试图通过互联网远程访问设备，复制钱包文件，并尝试提取私钥。更安全的设计涉及将比特币钱包及其管理软件分为两个组件：一个包含私钥，另一个不包含私钥。包含私钥的组件通常存储在高度安全的位置，并用于交易签名。没有私钥的组件可以存储在任何地方，可能同时存储在多个位置，并称为*仅观察钱包*。

顾名思义，你无法直接花费存储在仅观察钱包中的资金。相反，如果你想进行购买，你需要额外的步骤，用私钥签署交易。这个第二步通常通过第二台未连接互联网的计算机完成（以防止黑客攻击），该计算机仅用于存储私钥并在需要时用它们签署交易。这种安全技术称为*离线交易签名*，在第三章中已在一定程度上讨论过，作为安全存储大量比特币的策略，但它也提供了其他好处。

仅观察钱包特别适用于销售点终端（例如收银机），在这种情况下，收银员需要接收顾客的比特币，但不需要（且可能没有授权）花费这些比特币。重要的是，因为仅观察钱包不存储任何私钥，如果销售点终端被盗，其包含的比特币仍将保持安全。此外，仅观察钱包可以安全地安装在手机上或从低安全性的网络服务器上运行（只需要简单的用户名和登录即可访问），以允许用户监控他们的资金，而不必担心错误的人获取到这些资金。

许多比特币钱包程序可以以两种模式之一运行：*完整模式*（在这种模式下，使用单一钱包程序和计算机进行所有步骤）或仅观察模式。如果一个钱包程序宣传有*仅观察模式*，通常意味着该软件也可以用于离线交易签名。还可以使用*混合钱包*，其中某些比特币地址是仅观察的，而其他地址的私钥则存储在在线设备上。因此，同一设备可以用于从低安全性的支票账户中花费资金，也可以用于监控更安全的储蓄账户。

根据新比特币地址的生成方式，观察钱包是否需要与离线组件同步有所不同。通常，一个新的比特币地址必须在离线计算机上生成，然后导入到观察钱包中（而不导入相应的私钥）。然而，使用确定性密钥生成（在下一节中描述）时，观察钱包可以独立生成新的比特币地址，而无需知道与之对应的私钥。

**注意**

*确定性密钥生成对于销售终端非常有用，因为在涉及大量顾客的情况下，它们不会耗尽存款地址。*

#### *随机密钥生成与确定性密钥生成（与单一密钥生成）*

所有比特币钱包程序都会为新用户提供至少一个随机生成的比特币地址和私钥。是否生成额外的地址以及如何生成，这是一种设计选择，可能会引发比特币开发者之间非常激烈的意见。原始的比特币钱包程序假设用户在使用完比特币后永远不会重复使用一个地址。每次用户想要花费比特币时，一定金额会发送给目标接收方，其余的比特币则会转移到一个新的、随机生成的比特币地址，这个地址被称为*找零地址*。这种做法有助于保护用户的隐私，因为如果一个人不断更换地址，外部观察者更难追踪该个人的比特币。无法区分比特币转移到找零地址和从一个人转移到另一个人的比特币。尽管如此，并不是每个人都喜欢这种行为；有些人认为只使用一个比特币地址更方便（就像只有一个电子邮件地址一样），并且不太关心隐私。因此，一些比特币钱包程序只提供一个单一地址，并不断重复使用这些地址。这些*单一密钥生成*钱包程序允许你手动生成额外的地址，但默认行为是重复使用现有地址。

在不断生成新地址的比特币钱包程序中，存在实现上的差异。回顾一下，私钥是一个 256 位的整数，通常由某种随机过程生成。从私钥出发，比特币钱包程序可以计算出相应的公钥（公钥是椭圆曲线上的一个点；有关密码学细节，请参见第七章），该公钥进一步可以通过应用 RIPEMD160 和 SHA256 哈希函数转换成比特币地址。为了生成一组私钥/比特币地址对，许多程序使用相应数量的随机数。这种方法称为*随机密钥生成*。每当用户需要一个新的比特币地址时，都会使用一个新的随机数作为私钥。这种方法的缺点是备份需要定期更新——本质上，每次创建新地址时都需要更新备份。在涉及找零地址的情况下尤其需要注意这一点。如果你把一些比特币发送给朋友，而余额的其余部分被发送到一个新生成的找零地址，那么很可能你的大部分资金就不再有备份了！在比特币的历史上，曾发生过一些不幸的事件，即基于随机密钥生成的钱包用户在资金被发送到新找零地址后不久删除或丢失了钱包，但在更新备份之前就发生了这一情况。

另一种方法是*确定性密钥生成*。在这种方法中，只有第一个私钥是随机选择的 256 位整数，称为*主私钥*，它对应一个*主公钥*。每当用户需要一个新的比特币地址时，都会选择一个与主私钥通过简单的数学关系相关的新私钥（不涉及随机性）。在最简单的实现中，主私钥仅通过加 1 来生成新密钥（例如，如果主私钥是数字 47，那么后续的私钥将是 48、49、50 等）。这种方法的优点是，当用户首次创建新的比特币钱包时，只需要创建一个备份，并且该备份永远无需更新。^(1) 事实上，这就是 Electrum 的工作方式。回想一下，在第二章中，Electrum 提示你写下一个 12 个单词的助记词用于备份。那个助记词实际上就是一个主私钥。^(2) 你在 Electrum 钱包中的所有比特币地址都可以从这个主私钥派生出来。

##### 将确定性密钥生成与仅观察钱包结合

想象以下场景：

• 丽莎经营一家接受比特币支付的餐厅。

• 餐厅里的所有服务员都在手机上安装了比特币钱包，以便接受支付。

• 丽莎希望成为唯一能够花费发送到这些钱包中的资金的人。

很明显，如果丽莎能设置这个系统，那将是非常方便的，但这似乎是一个技术上的挑战：每个服务员都需要能够在他们的钱包中按需创建大量新的比特币地址，但丽莎仍然需要是唯一能够访问每个钱包背后私钥的人。

然而，当你将确定性密钥生成与只读钱包结合时，这种系统实际上是直接的：令人惊讶的是，竟然可以让一个只读钱包（在每个服务员的手机上运行）无需了解与之关联的私钥，就能随意生成许多新的公钥！

这就是丽莎需要做的所有事情：

1\. 使用确定性密钥生成在她的电脑上创建公钥和私钥。

2\. 给每个服务员一个公钥，以及一个支持只读功能和确定性密钥的程序。

3\. 服务员们随后可以随意使用他们的钱包接受任意数量的支付。

4\. 只有丽莎能够使用她电脑的钱包花费这些钱包中的资金。她的电脑是唯一能够为餐厅中所有比特币交易生成相应私钥的电脑。

无论你是经营餐厅、银行还是其他任何企业，拥有一种支付机制，可以让员工随意接受顾客支付，但只有你，作为企业所有者，能够*解锁*这些资金，这是一个强大的功能。

##### 确定性密钥生成与只读钱包背后的数学原理

那么，如何仅使用公钥信息就能数学上生成新的密钥呢？为了解释这个问题，我们将参考有关私钥和公钥如何在数学上相互关联的密码学知识。在第七章中，我们解释了，给定一个秘密私钥，*d*（我们称之为主私钥），相应的（主）公钥，*Q*，是通过点乘运算确定的：

*d*G = Q

请记住，G 和 Q 都是椭圆曲线上的点，但 G 是公知的，并且是比特币协议中的硬编码常量（而 Q 是唯一属于你的）。主比特币地址是通过多个哈希函数和其他格式化操作从 Q 中派生出来的。

确定性生成一个*新的*比特币地址的*显而易见*方法是，首先选择一个新的私钥，*d*[new]*= d* + 1，然后计算相应的新公钥，Q[new]：

*d*[new]G = Q[new]

然而，这种生成新公钥的方法要求你知道主私钥。那么，如果你不知道主私钥呢？是否可以仅凭借主*公钥*的信息生成一个新的比特币地址？可以！

我们可以将 Q[new]的方程式重新写为：

*d*[new]G = (*d* + 1)G = *d*G + G = Q[new]

注意，*d*G 这个术语可以重写为主公钥 Q：

Q + G = Q[new]

结果是，我们可以仅通过知道主公钥和公共常量 G 来计算新的公钥。可以通过添加任意数量的 G 点来生成额外的公钥：

| Q + 2G = Q[two] |
| --- |
| Q + 3G = Q[three] |
| ... |

当然，确定性密钥生成方法的一个危险是，如果你的主私钥落入不法之手，所有派生的比特币地址都会被泄露。此外，从隐私角度来看，如果有人看到你的主公钥（这在你将比特币发送到对应地址后会变成公开信息），此人可以推导出你后续的公钥，从而试图追踪你的支出。

虽然我们不会深入探讨数学细节，但确定性密钥生成允许实现另一个更加先进的比特币钱包功能，*分层确定性钱包*，这对于大型组织尤其有吸引力。主私钥可以分支成子主密钥，子主密钥可以进一步分支成子子主密钥，依此类推。每个密钥具有一个特性，使得在某一层级的任何密钥都可以访问所有下一级以下的比特币。例如，银行经理可能持有二级私钥（一级密钥由 CEO 持有），他的员工可能每人持有三级密钥。每个人共享同一个分层钱包，但经理可以访问他自己和员工的资金，而员工只能访问自己的账户。分层确定性钱包对于那些希望将比特币赠送给孩子但又想保持访问权限的家庭也可能非常有用。

#### *完整与简化支付验证*

比特币的核心特性是你不需要信任任何个人、第三方或中央机构。然而，比特币钱包程序必须能够验证它们接收到的交易是否合法。在这种情况下，区分区块链（正确列出每个有效比特币交易的不可篡改的公共文档）和某人的区块链副本是非常重要的，后者是你所访问的内容。前者是一个抽象概念，而后者是实际的现实。当你将钱包程序连接到比特币网络时，它会连接到多个节点，这些节点会向你的程序发送交易数据，但你不能假设这些数据是有效的。如果你在互联网上让一个陌生人支付你 2 BTC 来购买你出售的昂贵手表，而你连接的一个节点显示你在不久后收到了 2 BTC，那么邮寄手表是否安全？一个有效的交易需要 (1) 拥有正确的数字签名，(2) 使用源自矿工区块奖励且尚未被花费的比特币。所有比特币钱包程序都可以完全确定地验证第一个需求，但第二个问题的解决方案则取决于程序的设计，其可靠性程度有所不同。

比特币钱包程序可以通过保持自己完整的区块链副本来验证交易，这种方式称为*完全支付验证*，或者使用简化版的区块链副本，这种方式称为*简化支付验证（SPV）*。

完全支付验证钱包，也称为*厚重*或*重量级*钱包，需要完整的区块链副本。它们可以通过在区块链中逐个交易地回溯，直到找到交易发源地，从而验证用于交易的比特币是否来自一个已挖掘的区块（并且这些钱包可以检查这些比特币是否曾经被双重支付）。这些钱包程序通常是比特币网络的活跃参与者，因为它们不仅处理用户的交易，还验证并转发其他人的交易（在这些情况下，运行此类程序的计算机被称为*完全节点*）。所有比特币矿工也是完全节点（即，他们需要完整的区块链副本才能进行挖矿）。

完全支付验证钱包的一个问题是，它们非常占用资源并且初始化需要很长时间。区块链在第五年时的大小超过了 15GB，并包含 3500 万个交易（到十周年时，它可能会大约大 100 倍）。全新的完全支付验证比特币钱包程序可能需要几天时间（取决于带宽）来下载整个区块链。获取区块链需要连接到其他完全节点，并检查以确定哪个区块链具有最大的工作量证明总和（根据定义，这通常被视为共识区块链）。对于笔记本电脑和其他家用设备，运行完全支付验证钱包可能只是麻烦，但对于某些手机来说，这是根本不可能的。幸运的是，有一种方法可以在信任上做出微小妥协，但作为回报，可以实现更高效的交易验证。

SPV 钱包，也称为*薄*钱包或*轻量级*钱包，无法检查交易是否有效；它们只能检查全节点，特别是矿工，是否已验证这些交易。薄钱包的目标是检查交易是否已被矿工验证并包含在区块链的某个区块中。这类似于让会计师帮你平衡支票簿，而不是自己做。这种方法在矿工诚实行事并只允许有效交易被包括在内的前提下可靠有效（只要没有单一矿工控制超过 51% 网络算力，这是一个安全的假设）。但没有区块链副本，薄钱包如何知道收到的交易是否被包含在一个区块中呢？比如，交易可能*声称*它已经被包含在区块链的 #24371 区块中，但你如何知道这个声明是真是假呢？一种策略是让你的钱包程序连接多个全节点，并请求下载 #24371 区块以及它的所有其他交易。然后你的钱包可以仔细查看该区块中的所有交易，确认是否存在待查的交易。然而，如果你的 SPV 钱包程序每天需要检查数百个交易，而且每次都需要下载整个区块（包含所有交易），从效率的角度来看，这种策略几乎不比直接下载整个区块链更好。

SPV 的巧妙之处在于，它通过哈希函数的魔力验证交易是否包含在区块中，而无需查看任何区块中的交易。为此，SPV 钱包需要下载区块链中每个区块的头部。回想一下在第八章中提到的，每个区块包含两个部分：一个长长的交易列表和一个简短的区块内容总结（即头部）。重要的是，区块头包含了该区块中所有交易的哈希值，结构设计使得任何比特币钱包程序都能轻松地通过考虑交易的哈希值来判断该交易是否属于某个特定的区块。这个哈希结构被称为*Merkle 树*。^(3) 使用这种 Merkle 树设计，薄钱包可以安全地确认它们接收到的交易已被包含在区块链中，而无需下载完整的区块链。只下载区块头部所需的内存远小于下载整个区块链；因此，SPV 钱包可以轻松运行在智能手机和其他低成本移动设备上。

使用 SPV 的比特币钱包应用程序也可以提供与全钱包相同的许多安全保证，但并非所有保证。

能够在智能手机上运行一个资源密集型的比特币钱包，是一项令人印象深刻的工程成就。SPV 钱包采用了先进的计算机科学技术，但在灵活性上做了一些妥协。表 9-1 总结了我们如何通过各种因素对 SPV 钱包进行评分，并将其与完整钱包进行比较。

**表 9-1：** SPV 钱包与完整钱包的评分对比

| **因素** | **简化支付验证钱包** | **完整支付验证钱包** |
| --- | --- | --- |
| 初始安装和网络同步的速度 | ![image](img/f0193-01.jpg) | ![image](img/f0193-02.jpg) |
| 新支付的速度（零确认交易） | ![image](img/f0193-03.jpg) | ![image](img/f0193-04.jpg) |
| 新支付的安全性 | ![image](img/f0193-05.jpg) | ![image](img/f0193-06.jpg) |
| 已确认支付的安全性 | ![image](img/f0193-07.jpg) | ![image](img/f0193-08.jpg) |
| 整体安全性 | ![image](img/f0193-09.jpg) | ![image](img/f0193-10.jpg) |
| 存储使用效率 | ![image](img/f0193-11.jpg) | ![image](img/f0193-12.jpg) |
| 检查任意比特币地址的能力 | ![image](img/f0193-13.jpg) | ![image](img/f0193-14.jpg) |
| 导入私钥的能力 | ![image](img/f0193-15.jpg) | ![image](img/f0193-16.jpg) |
| 对比特币网络整体健康的影响 | ![image](img/f0193-17.jpg) | ![image](img/f0193-18.jpg) |

让我们更深入地分析表格中的每一项功能：

**初始安装和网络同步的速度**

在初次安装后，SPV 钱包和完整钱包都需要从比特币网络中的其他节点下载区块链数据。然而，SPV 钱包只需要下载区块头和一些与它所负责维护的比特币地址相关的数据。因此，SPV 钱包能够在不到一个小时的时间内同步并准备好使用，而完整钱包可能需要数小时才能初始化完成。

**新支付的速度**

对于 SPV 钱包和完整钱包，网络上新（但尚未确认）的交易会迅速广播到所有对等节点。如果有人向你钱包管理的地址发送比特币，你会在几秒钟内收到通知，无论你的钱包类型如何。

**新支付的安全性**

一个可以访问完整区块链的完整钱包，可以迅速验证新交易，确保其发送的资金来自一个有效且资金充足的源地址。而 SPV 钱包则无法做到这一点，它依赖于网络中的其他节点来确保交易的合法性。理论上，如果有人向你发送支付，并且与 SPV 钱包所互动的（假设是随机的）节点中的某一个节点勾结，这个发送者可能会向你发送欺诈性的支付。完整钱包免疫于这种类型的攻击。

**已确认支付的安全性**

即使一笔交易是百分之百有效的，仅仅因为交易已被广播，并不意味着它会被纳入区块链，特别是如果花费方创建了另一笔交易，试图将资金双重支付给另一个地址。出于这个原因，最好对较大金额的购买等待三到六个区块确认。SPV 钱包和完整钱包都可以通过跟踪这些确认来验证交易。虽然完整钱包可以直接证明已挖掘到新区块的交易是真正有效的（即，来自一个完全资金充足的地址），但 SPV 钱包无法做到这一点。因此，如果矿工将一个无效的交易包含进新区块，SPV 钱包仍然可能被欺骗。但矿工这么做的可能性非常小：挖矿区块成本极高，并且根据设计，包含无效交易的区块会立即被网络中任何其他完整节点放弃，这些节点会花时间对区块进行验证。因此，矿工永远不会因为挖掘包含无效交易的区块而获得奖励。因此，发送到 SPV 钱包的已确认付款相当安全，尽管完整钱包的安全性仍然是黄金标准。

**整体安全性**

总的来说，一个正确编程的 SPV 比特币钱包能够提供相当好的安全性，保护你的比特币和比特币支付，尽管它永远无法与完整钱包的安全保障相匹配。如果你在智能手机上运行 SPV 钱包并收到一笔付款，你可以放心，一旦这笔付款经过几个区块确认，SPV 钱包报告的余额和其他信息可以信赖其准确性。

**存储使用效率**

如前所述，完整钱包存储区块链需要占用多个 GB 的磁盘空间。然而，SPV 钱包所需的存储空间不到一个 GB，并且可以在现代智能手机上高效运行。

**检查任意比特币地址的能力**

由于完整区块链包含所有比特币地址的余额，完整钱包可以轻松查看任何地址的余额和其他细节，甚至是你没有拥有的地址（如果完整钱包的程序员选择在他们的应用中包含此功能）。SPV 钱包完全不了解除了其直接负责的地址以外的所有比特币地址，因此无法提供此类信息。

**导入私钥的能力**

如果你想将一个现有的比特币地址（及其关联的私钥）导入完整钱包，完整钱包能够在几秒钟内将该地址和与之相关的资金纳入其中。SPV 钱包则没有简单的方法导入这样的密钥，因为它没有关于涉及该地址的任何历史交易的信息。因此，如果你将私钥导入 SPV 钱包（假设有此选项），你可能需要等待几分钟，因为钱包需要向其同行查询涉及新地址的历史数据。

**比特币网络对整体健康的影响**

为了保持比特币网络的健康，所有参与节点需要共同合作验证新的交易和区块。如前所述，SPV 钱包在验证能力方面有限。此外，SPV 钱包通常不接受传入的 TCP 连接，并且可能不会参与广播第三方交易/区块给其他节点。因此，比特币网络中如果存在大量的 SPV 节点，可能会对网络的整体健康产生影响。目前，几乎没有证据表明会有负面效应。但随着区块链年复一年的增长，不能进行完全验证的节点比例可能会增加，问题也可能随之出现。尽管如此，存储容量的提升和网络速度的加快，可能会继续帮助人们应对不断增长的区块链，并且通过运行完整节点将获得明显的好处。希望这能激励许多人在未来继续运行完整节点，以维持网络的长期健康。

简而言之，SPV 钱包有一些局限性，但只要你理解这些局限性，这些钱包就适合用来存储你的资金。然而，如果你存储的是大量比特币，考虑到额外的安全保障，使用完整钱包可能更明智。但如果只是存储一些零花钱在智能手机上，SPV 钱包则是一个理想的解决方案。

### 其他常见（以及不那么常见的）比特币钱包功能

除了由不同钱包架构的底层设计决定的特性外，一些比特币钱包还具备多种其他基本和高级功能。你应该期待看到的一些基本功能包括密码保护、备份私钥的能力、二维码扫描和生成，以及生成和导入纸钱包的能力。^(4) 一个相对高级的功能，是许多比特币钱包常见的，即能够使用你的私钥签名消息。回想一下，第七章讨论了如何使用你的私钥对比特币交易进行数字签名。相同的数字签名也可以用来签署任意消息，许多比特币钱包将这一功能设计得易于使用，因为它在你需要证明自己是某个比特币地址的所有者时非常有用（例如，如果你试图从银行获得预批准的贷款，而银行要求你证明自己有比特币作为抵押）。^(5)

你可能会在某些比特币钱包程序中看到其他高级功能，包括多签名交易，其中需要多个私钥才能从一个比特币地址支出比特币，以及一种名为*币控制*的功能，它可以精细控制你用于特定购买的比特币（见下文“高级比特币钱包功能：币控制”）。可用的高级功能种类繁多，无法在这里一一列举（而且这些功能的数量还在不断增加），但现在你应该明白为什么有这么多比特币钱包程序存在了！

**高级比特币钱包功能：币控制**

想象一下，你口袋里有三枚五分镍币，你走进了“超便宜糖果店”去买一块价值五分的巧克力。你的五分镍币是*可替代的*，意味着你口袋里的三枚五分镍币每一枚都具有同等的价值，并且都能用于支付巧克力。嗯，至少你是这么认为的。但或许你没有注意到，每一枚镍币的反面都刻有不同的图案，其中一枚是 1913 年的自由头 V 型镍币（全世界仅有五枚，估值约为 400 万美元每枚）。当你用它支付巧克力时，你使用了那枚稀有图案的镍币，而店主认出了它！令你惊恐的是，他报警了，因为你给他的那枚镍币曾经属于他的朋友（沃伦·巴菲特？理查德·布兰森？），而且它被盗了。经过几小时的审问，你终于说服警察相信你并不知道自己带着一枚被盗的镍币，并解释说你从这件事中学到了一课——在支付时，要小心选择你的硬币。这个小故事就是某些比特币钱包提供的币控制功能的基础。

如果你从多个来源收到了比特币到同一个比特币地址，那么每笔交易中的比特币是可以相互区分的（每一组比特币被称为*未花费的输出*）。使用支持币控制的比特币钱包时，当你从钱包发送支付时，你可以选择只使用你从雇主那里收到的比特币，而不是你朋友给你的那些，即使所有比特币都在同一个地址上。

在大多数情况下，你用什么硬币支付并不重要。然而，在某些情况下，你有法律义务为某项开支选择特定的资金来源。例如，在美国的大多数地方，房东被要求将租户的押金存入单独的银行账户，以确保这些钱不会被错误处理，并且只能用于适当的用途。当管理他人的比特币资金时，某人可能会有类似的义务。

此外，由于所有比特币区块链信息都是公开的，如果你从构成钱包的相同比特币地址池接收和发送支付，那么你的收入来源和购买行为理论上可以被偷偷地关联。通过使用币控制功能，你可以选择支付地址以防止这种关联，从而为你提供更多的隐私。

### 未来的钱包

未来的比特币钱包程序可能会提供自动支付账单、现金流量表、税务报告以及与传统财务会计软件更紧密的集成等功能。此外，持续的技术创新可能使钱包能够执行更复杂的交易，例如托管交易，或将比特币发送到在满足某些外部条件（例如年份大于 2020 年）之前无法使用的账户。毫无疑问，我们将在未来几年内看到比特币钱包中出现许多令人兴奋的功能。

### 哪个钱包最适合你？

考虑到前面的讨论，你应该使用哪种比特币钱包？嗯，请记住，你可以使用多个钱包。事实上，如果两个不同的比特币钱包使用*相同的私钥*，它们可以同时花费*相同的比特币*。你可以在手机上使用轻量级的无区块链钱包，在家庭服务器上使用更复杂的比特币钱包，两者共同管理一个比特币池。

然而，在实际操作中，许多用户将比特币保存在不同的比特币钱包中（即每个钱包都有自己的一组私钥），因为在它们之间移动比特币非常容易。

一种适用于个人使用的常见设置是将少量比特币存储在手机或笔记本上的轻量级比特币钱包中，它会和你一起出行，同时将储蓄存放在一个更安全的比特币钱包中（例如具有冷存储和离线交易签名等功能）。简而言之，保持少量比特币在热钱包中，其余的存储在冷钱包中，这类似于将一些现金放在口袋里的钱包中，而将你的积蓄保存在银行账户中（只不过比特币让*你*成为*自己的*安全银行）。

### 附加钱包考虑事项

到目前为止，我们已经讨论了比特币钱包的功能、特性和基础设计，但还应考虑其他因素：比特币钱包是否是开源的？它是否经过了安全审计？它是否有大量用户？因为比特币钱包涉及资金管理，所以在选择钱包时，你应该比选择其他应用（如游戏或办公软件）时更加小心。在将大量资金存储到某个钱包中之前，务必先研究一下你计划使用的比特币钱包程序。向朋友或同事询问，看看他们是否有过好的使用体验。

此外，考虑商户集成。如果你想在某些商店或餐厅使用比特币进行交易，检查一下你的比特币钱包软件是否与他们的销售点系统兼容。任何拥有大量用户基础的钱包应用或程序可能都能很好地工作，但如果你想尝试最新、最棒的比特币钱包，那么在尝试进行购买时，可能会遇到一些小问题。

幸运的是，尝试许多不同的钱包并用几分钱的比特币进行充值，以确定它们的工作方式和提供的功能是非常简单的。在决定你最喜欢的钱包之前，我们建议你先进行一些实验。
