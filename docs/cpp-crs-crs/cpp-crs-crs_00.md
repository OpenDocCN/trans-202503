## **介绍**

*拿起那把旧画笔，跟我们一起画吧。

—Bob Ross*

![Image](img/common.jpg)

系统编程的需求巨大。随着网页浏览器、移动设备和物联网的普及，或许现在正是成为一名系统程序员的最佳时机。高效、可维护且正确的代码在任何情况下都是需求，而我坚信 C++ 是做这项工作的正确语言*通常*来说。

在一位有经验的程序员手中，C++ 可以比任何其他系统编程语言生成更小、更高效、且更易读的代码。它是一种致力于零开销抽象机制的语言——让你的程序既快速又易于编程——并且能够直接映射到硬件——因此在你需要时，能够提供低级别的控制。使用 C++ 编程时，你站在那些花费数十年精心打造一个极为强大和灵活语言的巨人肩膀上。

学习 C++ 的一个巨大好处是，你可以免费使用 C++ 标准库（*stdlib*）。stdlib 由三部分组成：*容器*、*迭代器*和*算法*。如果你曾经手写过自己的*快速排序*算法，或者编写过系统代码并且遭遇过缓冲区溢出、悬空指针、使用后释放和双重释放等问题，那么你一定会喜欢熟悉 stdlib。它为你提供了无与伦比的类型安全性、正确性和效率。此外，你还会喜欢你的代码变得如此简洁和富有表现力。

C++ 编程模型的核心是*对象生命周期*，它能强有力地保证程序使用的资源（如文件、内存和网络套接字）能够正确释放，即使在发生错误条件时也是如此。当使用得当时，*异常*可以清理代码中大量的错误条件检查杂乱无章的部分。此外，*移动*/*拷贝*语义提供了安全性、效率和灵活性，以一种早期系统编程语言（如 C）根本无法提供的方式来管理资源所有权。

C++ 是一门活生生的语言；在过去的 30 年中，C++ 的国际标准化组织（ISO）委员会定期对该语言进行改进。过去十年发布了几次标准更新：C++11、C++14 和 C++17，分别在 2011、2014 和 2017 年发布。你可以期待在 2020 年推出新的 C++20。

当我提到*现代 C++*时，我指的是采用这些新增功能和范式的最新 C++ 版本。这些更新对语言进行了严重的精炼，提高了语言的表达能力、效率、安全性和整体可用性。从某些标准来看，C++ 从未如此受欢迎，而且它短期内不会消失。如果你决定投资学习 C++，它将在未来的岁月里为你带来丰厚的回报。

### **关于本书**

尽管有许多非常高质量的书籍可供现代 C++ 程序员使用，例如 Scott Meyer 的 *Effective Modern C++* 和 Bjarne Stroustrup 的 *The C++ Programming Language* 第 4 版，但它们通常相当高级。一些入门级的 C++ 书籍也有，但它们常常跳过重要的细节，因为它们是为那些完全没有编程经验的人设计的。对于有经验的程序员来说，C++ 语言的学习路径并不清晰。

我更喜欢有意识地学习复杂的主题，从其基本元素开始构建概念。C++ 因为其基本元素紧密嵌套在一起，导致它具有令人畏惧的声誉，使得很难构建完整的语言图像。当我学习 C++ 时，我曾经在书籍、视频和疲惫的同事间反复跳跃，努力理清语言的框架。因此，我写了这本书，是我五年前希望能拥有的那本书。

### **谁应该阅读本书？**

本书适合已经熟悉基本编程概念的中级到高级程序员。如果你没有专门的 *系统* 编程经验也没关系，经验丰富的应用程序员同样欢迎阅读。

**注意**

*如果你是一名资深的 C 程序员或正在考虑是否投资学习 C++ 的系统程序员，请务必阅读第 xxxvii 页 的《C 程序员序曲》进行详细了解。*

### **本书内容是什么？**

本书分为两部分。第一部分涵盖 C++ 核心语言。你将直接学习地道的现代 C++，而不是按时间顺序介绍 C++ 语言（从旧版 C++ 98 到现代 C++11/14/17）。第二部分则将带你进入 C++ 标准库（stdlib）的世界，学习其中最重要和最基本的概念。

#### ***第一部分：C++ 核心语言***

**第一章：快速入门** 本章节将帮助你设置 C++ 开发环境。你将编译并运行你的第一个程序，并学习如何调试它。

**第二章：类型** 在这一章中，你将探索 C++ 的类型系统。你将学习基本类型，这是所有其他类型构建的基础。接下来，你将了解普通数据类型和功能齐全的类。你将深入研究构造函数、初始化和析构函数的角色。

**第三章：引用类型** 本章将介绍存储其他对象内存地址的对象。这些类型是许多重要编程模式的基石，它们使你能够编写灵活且高效的代码。

**第四章：对象生命周期** 本章继续讨论类的不变性和构造函数，并在存储持续时间的上下文中展开。析构函数与资源获取即初始化（RAII）范式一起介绍。你将学习异常处理及其如何强制执行类的不变性，并补充 RAII。经过关于移动语义和复制语义的讨论后，你将学习如何通过构造函数和赋值操作符来实现这些概念。

**第五章：运行时多态性** 本章将介绍接口，这是一个允许你编写运行时多态代码的编程概念。你将学习继承和对象组合的基础知识，这些知识构成了如何在 C++ 中实现接口的基础。

**第六章：编译时多态性** 本章介绍模板，这是一种允许你编写多态代码的语言特性。你还将探索概念，这是将添加到未来 C++ 版本中的语言特性，以及命名转换函数，它允许你将对象从一种类型转换为另一种类型。

**第七章：表达式** 现在你将深入学习操作数和运算符。在牢牢掌握类型、对象生命周期和模板的基础上，你将准备好深入探讨 C++ 语言的核心组件，而表达式就是第一个重要的环节。

**第八章：语句** 本章将探讨构成函数的各种元素。你将学习表达式语句、复合语句、声明语句、迭代语句和跳转语句。

**第九章：函数** 第一部分的最后一章扩展了如何将语句安排成工作单元的讨论。你将了解函数定义、返回类型、重载解析、可变参数函数、可变参数模板和函数指针的细节。你还将学习如何使用函数调用操作符和 lambda 表达式创建可调用的用户自定义类型。你将探索 `std::function`，这是一个提供统一容器来存储可调用对象的类。

#### ***第二部分：C++ 库和框架***

**第十章：测试** 本章将带你进入单元测试和模拟框架的精彩世界。你将练习测试驱动开发，开发一个自动驾驶系统的软件，并学习 Boost Test、Google Test、Google Mock 等框架。

**第十一章：智能指针** 本章将解释 stdlib 提供的特殊工具类，用于处理动态对象的所有权。

**第十二章：实用工具** 本章将概述你可以在 stdlib 和 Boost 库中使用的类型、类和函数，以解决常见的编程问题。你将了解数据结构、数值函数和随机数生成器。

**第十三章：容器** 本章将概述 Boost 库和标准库中许多特殊数据结构，这些数据结构帮助你组织数据。你将了解顺序容器、关联容器和无序关联容器。

**第十四章：迭代器** 这是你在上一章学习的容器与下一章字符串之间的接口。你将学习不同种类的迭代器，以及它们的设计如何为你提供极大的灵活性。

**第十五章：字符串** 本章教你如何在单一容器系列中处理人类语言数据。你还将学习字符串中内置的特殊功能，这些功能使你能够执行常见的任务。

**第十六章：流** 本章将向你介绍输入和输出操作的核心概念。你将学习如何使用格式化和非格式化操作处理输入输出流，以及如何使用操控符。你还将学习如何从文件中读取和写入数据。

**第十七章：文件系统** 本章将概述标准库中用于操作文件系统的功能。你将学习如何构建和操作路径，检查文件和目录，以及枚举目录结构。

**第十八章：算法** 这是一个快速参考，介绍了你可以轻松通过标准库解决的数十个问题。你将了解可供使用的高质量算法的广泛范围。

**第十九章：并发与并行性** 本章教你一些标准库中的多线程编程的简单方法。你将学习到 futures、互斥锁、条件变量和原子操作。

**第二十章：使用 Boost Asio 进行网络编程** 在本章中，你将学习如何构建高性能的网络通信程序。你将看到如何使用 Boost Asio 进行阻塞和非阻塞的输入输出操作。

**第二十一章：编写应用程序** 本章总结了全书的内容，讨论了几个重要的主题。你将了解程序支持功能，它们允许你与应用程序生命周期进行交互。你还将学习 Boost ProgramOptions，这是一个简化编写接受用户输入的控制台应用程序的库。

**注意**

*访问伴随网站* [`ccc.codes/`](https://ccc.codes/) *获取本书中包含的代码清单。*
