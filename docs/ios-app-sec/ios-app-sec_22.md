## 第十八章：脚注

### 第一章：iOS 安全模型

1. *[`developer.apple.com/appstore/resources/approval/guidelines.html`](https://developer.apple.com/appstore/resources/approval/guidelines.html)*2. *[`www.macworld.com/article/1152835/iphone_flashlight_tethering.html`](http://www.macworld.com/article/1152835/iphone_flashlight_tethering.html)*3. 这个描述当然是略微简化的；还有一些粘性位、setuid 位等等。由于 iOS 并未将 DAC 作为其主要访问控制机制，因此在本书中我不会深入探讨这些话题。4. 你可以在 *[`media.blackhat.com/bh-us-11/DaiZovi/BH_US_11_DaiZovi_iOS_Security_WP.pdf`](https://media.blackhat.com/bh-us-11/DaiZovi/BH_US_11_DaiZovi_iOS_Security_WP.pdf)* 上找到 iOS 默认沙盒策略的一个很好的总结。5. 然而，似乎大多数越狱用户的动机是为了执行数字化等同于给汽车装上旋转轮毂盖的操作。6. *[`theiphonewiki.com/wiki/XCon`](http://theiphonewiki.com/wiki/XCon)*7. *[`www.cultofmac.com/82097/ibooks-1-2-1-tries-to-run-jailbreak-code-to-detect-jailbroken-iphones/`](http://www.cultofmac.com/82097/ibooks-1-2-1-tries-to-run-jailbreak-code-to-detect-jailbroken-iphones/)*8. *[`theiphonewiki.com/wiki/Bypassing_Jailbreak_Detection`](http://theiphonewiki.com/wiki/Bypassing_Jailbreak_Detection)*9. *[`stackoverflow.com/questions/4165138/detect-udid-spoofing-on-the-iphone-at-runtime/`](http://stackoverflow.com/questions/4165138/detect-udid-spoofing-on-the-iphone-at-runtime/)*10. *[`phonegap.com/`](http://phonegap.com/)*11. *[`arstechnica.com/apple/2011/11/safari-charlie-discovers-security-flaw-in-ios-gets-booted-from-dev-program/`](http://arstechnica.com/apple/2011/11/safari-charlie-discovers-security-flaw-in-ios-gets-booted-from-dev-program/)*12. *[`reverse.put.as/wp-content/uploads/2011/06/syscan11_breaking_ios_code_signing.pdf`](http://reverse.put.as/wp-content/uploads/2011/06/syscan11_breaking_ios_code_signing.pdf)*13. *[`www.cc.gatech.edu/~klu38/publications/security13.pdf`](http://www.cc.gatech.edu/~klu38/publications/security13.pdf)*

### 第二章：懒人版 Objective-C

1. *[`developer.apple.com/library/mac/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html`](http://developer.apple.com/library/mac/#releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html)*2. *[`developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Protocols/NSCoding_Protocol/Reference/Reference.html`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Protocols/NSCoding_Protocol/Reference/Reference.html)*3. *[`github.com/rentzsch/jrswizzle/`](https://github.com/rentzsch/jrswizzle/)*

### 第三章：iOS 应用程序架构

1. *[`www.macroplant.com/iexplorer/`](http://www.macroplant.com/iexplorer/)*2. Erica Utilities 提供了许多其他用于处理越狱设备的实用工具；你可以在 *[`ericasadun.com/ftp/EricaUtilities/`](http://ericasadun.com/ftp/EricaUtilities/)* 上查看完整列表。3. *[`developer.apple.com/library/Mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/Reference/Reference.html`](https://developer.apple.com/library/Mac/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/Reference/Reference.html)*4. 请注意，并非所有在此目录树中可以存在的目录都会在每个应用程序中存在；有些目录只有在应用程序使用某些 API 时才会动态创建。5. *[`developer.apple.com/library/ios/#documentation/FileManagement/Conceptual/DocumentInteraction_TopicsForIOS`](http://developer.apple.com/library/ios/#documentation/FileManagement/Conceptual/DocumentInteraction_TopicsForIOS)*6. *[`developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf`](http://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf)* （第 69 页）

### 第四章：构建你的测试平台

1. *[`www.portswigger.net`](http://www.portswigger.net)*2. 我通常认为 Chrome 是更安全的日常浏览器，但 Firefox 的自包含特性确实让你更方便地调整代理设置。3. *[`getfoxyproxy.org`](http://getfoxyproxy.org)*4. *[`www.stunnel.org/`](http://www.stunnel.org/)*5. *[`github.com/iSECPartners/dnsRedir/`](https://github.com/iSECPartners/dnsRedir/)*6. *[`github.com/iSECPartners/tcpprox/`](https://github.com/iSECPartners/tcpprox/)*7. *[`www.trailofbits.com/resources/ios4_security_evaluation_paper.pdf`](http://www.trailofbits.com/resources/ios4_security_evaluation_paper.pdf)*8. *[`clang-analyzer.llvm.org/`](http://clang-analyzer.llvm.org/)*9. *[`clang.llvm.org/docs/AddressSanitizer.html`](http://clang.llvm.org/docs/AddressSanitizer.html)*10. *[`blog.chromium.org/2012/04/fuzzing-for-security.html`](http://blog.chromium.org/2012/04/fuzzing-for-security.html)*11. *[`pypi.python.org/pypi/watchdog/`](https://pypi.python.org/pypi/watchdog/)*

### 第五章：使用 lldb 和其他工具进行调试

1. *[`lldb.llvm.org/`](http://lldb.llvm.org/)*2. 对于 Xcode 调试的详细资源，我推荐*《iOS 7 编程：突破极限》*；请参见 *[`iosptl.com/`](http://iosptl.com/)*。3. 如果你想深入了解 iOS 和 ARM 的汇编，可以查看 Ray Wenderlich 的教程，链接是 *[`www.raywenderlich.com/37181/ios-assembly-tutorial/`](http://www.raywenderlich.com/37181/ios-assembly-tutorial/)*。

### 第六章：黑盒测试

*[`blog.iphone-dev.org/`](http://blog.iphone-dev.org/)*2. *[`iclarified.com/`](http://iclarified.com/)*3. *[`github.com/stefanesser/dumpdecrypted`](https://github.com/stefanesser/dumpdecrypted)*4. 传统上，这是通过 GNU 调试器 gdb 完成的。然而，自版本 4 以来，gdb 就没有包含在 Xcode 中，而 Cydia 中的大多数版本也已损坏。使用 lldb 的方法在可预见的未来应该是可行的……我想。5. *[`developer.apple.com/library/mac/#documentation/DeveloperTools/Conceptual/MachORuntime/Reference/reference.html`](https://developer.apple.com/library/mac/#documentation/DeveloperTools/Conceptual/MachORuntime/Reference/reference.html)*6. 除非你禁用 PIE。你可以使用 removePIE 工具来实现；请参阅 *[`github.com/peterfillmore/removePIE/`](https://github.com/peterfillmore/removePIE/)*。7. *[`sourceforge.net/projects/machoview/`](http://sourceforge.net/projects/machoview/)*8. 这就是它在`xxd(1)`中的显示方式，这是我通常用来进行快速且简便编辑的工具。你的编辑器可能有所不同。如果不确定，先使用 MachOView 检查，然后再开发你可能需要的脚本。9. *[`stevenygard.com/projects/class-dump/`](http://stevenygard.com/projects/class-dump/)*10. *[`code.google.com/p/networkpx/wiki/class_dump_z`](http://code.google.com/p/networkpx/wiki/class_dump_z)*11. *[`www.cycript.org/`](http://www.cycript.org/)*12. *[`github.com/limneos/weak_classdump/`](https://github.com/limneos/weak_classdump/)*13. *[`www.hex-rays.com/products/ida/`](https://www.hex-rays.com/products/ida/)*14. *[`www.hopperapp.com/`](http://www.hopperapp.com/)*15. *[`github.com/iSECPartners/ios-ssl-kill-switch/`](https://github.com/iSECPartners/ios-ssl-kill-switch/)*16. *[`iphonedevwiki.net/index.php/MobileSubstrate`](http://iphonedevwiki.net/index.php/MobileSubstrate)*17. *[`iphonedevwiki.net/index.php/Theos/Getting_Started`](http://iphonedevwiki.net/index.php/Theos/Getting_Started)*18. *[`gitweb.saurik.com/ldid.git`](http://gitweb.saurik.com/ldid.git)*19. *[`iphonedevwiki.net/index.php/Logos`](http://iphonedevwiki.net/index.php/Logos)*20. *[`www.macports.org/`](http://www.macports.org/)*21. *[`brew.sh/`](http://brew.sh/)*22. *[`www.saurik.com/id/7/`](http://www.saurik.com/id/7/)*23. *[`github.com/iSECPartners/ios-ssl-kill-switch/blob/master/Tweak.xm`](https://github.com/iSECPartners/ios-ssl-kill-switch/blob/master/Tweak.xm)*24. *[`github.com/iSECPartners/Introspy-iOS/`](https://github.com/iSECPartners/Introspy-iOS/)*25. *[`github.com/iSECPartners/Introspy-Analyzer/`](https://github.com/iSECPartners/Introspy-Analyzer/)*

### 第七章：iOS 网络

1. *[`developer.apple.com/DOCUMENTATION/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.pdf`](https://developer.apple.com/DOCUMENTATION/Cocoa/Conceptual/URLLoadingSystem/URLLoadingSystem.pdf)*2. *[`developer.apple.com/library/mac/#documentation/Foundation/Reference/NSURLConnectionDelegate_Protocol`](https://developer.apple.com/library/mac/#documentation/Foundation/Reference/NSURLConnectionDelegate_Protocol)*3. *[`developer.apple.com/library/ios/#documentation/cocoa/conceptual/URLLoadingSystem/Articles/RequestChanges.html`](https://developer.apple.com/library/ios/#documentation/cocoa/conceptual/URLLoadingSystem/Articles/RequestChanges.html)*4. *https://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSURLConnectionDataDelegate_protocol/Reference/Reference.html#//apple_ref/occ/intfm/NSURLConnectionDataDelegate/connection:willSendRequest:redirectResponse:*5. *[`bug665814.bugzilla.mozilla.org/attachment.cgi?id=540839`](https://bug665814.bugzilla.mozilla.org/attachment.cgi?id=540839)*6. *[`docs.google.com/presentation/d/11eBmGiHbYcHR9gL5nDyZChu_-lCa2GizeuOfaLU2HOU/edit?pli=1#slide=id.g1d134dff_1_222`](https://docs.google.com/presentation/d/11eBmGiHbYcHR9gL5nDyZChu_-lCa2GizeuOfaLU2HOU/edit?pli=1#slide=id.g1d134dff_1_222)*7. *[`github.com/AFNetworking/AFNetworking`](https://github.com/AFNetworking/AFNetworking)*8. *[`github.com/pokeb/asi-http-request`](https://github.com/pokeb/asi-http-request)*9. *[`developer.apple.com/library/prerelease/ios/documentation/MultipeerConnectivity/Reference/MultipeerConnectivityFramework/index.html`](https://developer.apple.com/library/prerelease/ios/documentation/MultipeerConnectivity/Reference/MultipeerConnectivityFramework/index.html)*10. *[`nabla-c0d3.github.io/blog/2014/08/20/multipeer-connectivity-follow-up/`](https://nabla-c0d3.github.io/blog/2014/08/20/multipeer-connectivity-follow-up/)*11. *[`developer.apple.com/library/ios/#qa/qa2009/qa1652.html`](https://developer.apple.com/library/ios/#qa/qa2009/qa1652.html)*12. *[`developer.apple.com/library/mac/#documentation/CoreFoundation/Reference/CFSocketStreamRef/Reference/reference.html`](https://developer.apple.com/library/mac/#documentation/CoreFoundation/Reference/CFSocketStreamRef/Reference/reference.html)*

### 第八章：进程间通信

1. *[`developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/index.html#//apple_ref/doc/uid/20000301-SW21`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSURL_Class/index.html#//apple_ref/doc/uid/20000301-SW21)*2. *[`developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf`](http://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf)* (第 99 页)3. *[`github.com/bengottlieb/Twitter-OAuth-iPhone`](https://github.com/bengottlieb/Twitter-OAuth-iPhone)*

### 第九章：面向 iOS 的 Web 应用程序

1. *[`www.webkit.org/`](https://www.webkit.org/)*2. *[`developer.apple.com/library/ios/documentation/uikit/reference/UIWebViewDelegate_Protocol/Reference/Reference.html`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIWebViewDelegate_Protocol/Reference/Reference.html)*3. *[`github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/Public/CDVURLProtocol.m`](https://github.com/apache/cordova-ios/blob/master/CordovaLib/Classes/Public/CDVURLProtocol.m)*4. *[`www.andreas-kurtz.de/2014/09/malicious-apps-ios8.html`](http://www.andreas-kurtz.de/2014/09/malicious-apps-ios8.html)*5. *[`docs.phonegap.com/en/1.9.0/guide_whitelist_index.md.html`](http://docs.phonegap.com/en/1.9.0/guide_whitelist_index.md.html)*6. *[`github.com/shazron/KeychainPlugin`](https://github.com/shazron/KeychainPlugin)*

### 第十章：数据泄露

1. *[`developer.apple.com/library/ios/#documentation/System/Conceptual/ManPages_iPhoneOS/man3/asl.3.html`](https://developer.apple.com/library/ios/#documentation/System/Conceptual/ManPages_iPhoneOS/man3/asl.3.html)*2. *[`www.cocoanetics.com/2011/03/accessing-the-ios-system-log/`](http://www.cocoanetics.com/2011/03/accessing-the-ios-system-log/)*3. *[`github.com/Atrac613/UIPasteboardSniffer-iOS`](https://github.com/Atrac613/UIPasteboardSniffer-iOS)*4. *[`developer.apple.com/library/mac/documentation/Cocoa/Reference/WebKit/Classes/WebArchive_Class/Reference/Reference.html`](https://developer.apple.com/library/mac/documentation/Cocoa/Reference/WebKit/Classes/WebArchive_Class/Reference/Reference.html)*5. *[`developer.apple.com/library/ios/#documentation/uikit/reference/UIResponder_Class/Reference/Reference.html`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIResponder_Class/Reference/Reference.html)*6. *[`developer.apple.com/library/ios/documentation/cocoa/reference/foundation/Classes/NSURLCache_Class/Reference/Reference.html#//apple_ref/occ/instm/NSURLCache/setDiskCapacity`](https://developer.apple.com/library/ios/documentation/cocoa/reference/foundation/Classes/NSURLCache_Class/Reference/Reference.html#//apple_ref/occ/instm/NSURLCache/setDiskCapacity):*7. *[`developer.apple.com/library/ios/documentation/Cocoa/Conceptual/URLLoadingSystem/Concepts/CachePolicies.html#//apple_ref/doc/uid/20001843-BAJEAIEE`](https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/URLLoadingSystem/Concepts/CachePolicies.html#//apple_ref/doc/uid/20001843-BAJEAIEE)*8. 对我来说不报错并不符合我的个性，但苹果的错误跟踪系统 RADAR 令人震惊、侮辱性地无用，任何理智的人都不该使用它。相反，我建议访问 *[`fixradarorgtfo.com/`](http://fixradarorgtfo.com/)* 并提交这个单独的 RADAR 错误：“修复 Radar 或滚蛋（rdar://10993759 的重复项）。”9. *[`developer.apple.com/library/ios/#documentation/uikit/reference/UITextInputTraits_Protocol/Reference/UITextInputTraits.html`](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITextInputTraits_Protocol/Reference/UITextInputTraits.html)*10. *en* 前缀对于不同的地区会有所不同，但这是英文设备上的表现形式。11. *[`www.owasp.org/index.php/OWASP_iGoat_Project`](https://www.owasp.org/index.php/OWASP_iGoat_Project)*12. 关于这些事件触发的更多详细信息，请访问 *[`www.cocoanetics.com/2010/07/understanding-ios-4-backgrounding-and-delegate-messaging/`](http://www.cocoanetics.com/2010/07/understanding-ios-4-backgrounding-and-delegate-messaging/)*。13. *http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instp/UIView/alpha*14. 查看一个使用 Storyboard 创建应用并进行状态保存的好例子，地址是 *[`www.techotopia.com/index.php/An_iOS_6_iPhone_State_Preservation_and_Restoration_Tutorial`](http://www.techotopia.com/index.php/An_iOS_6_iPhone_State_Preservation_and_Restoration_Tutorial)*。15. 使用 CCCrypt 或者理想的 RNCryptor： *[`github.com/rnapier/RNCryptor`](https://github.com/rnapier/RNCryptor)*16. 可在 *[`github.com/iSECPartners/SecureNSCoder`](https://github.com/iSECPartners/SecureNSCoder)* 获取 17. *[`developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf`](http://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/iPhoneAppProgrammingGuide.pdf)*（第 112 页）

### 第十一章：C 语言遗留问题和负担

1. *格式字符串攻击* 这个术语由 Tim Newsham 的同名论文推广；详见 *[`www.thenewsh.com/~newsham/format-string-attacks.pdf`](http://www.thenewsh.com/~newsham/format-string-attacks.pdf)*。2. 是的，`%n` 确实有效。Xcode 可能会对此提出警告，但通过 `xcodebuild` 命令行工具进行的手动构建没有问题。3. 你可以在 Scut 的论文中找到更多关于利用格式字符串执行代码的细节；详见 *[`crypto.stanford.edu/cs155/papers/formatstring-1.2.pdf`](https://crypto.stanford.edu/cs155/papers/formatstring-1.2.pdf)*。4. `sudo` 的维护者 Todd C. Miller 在 *[`www.sudo.ws/todd/papers/strlcpy.html`](http://www.sudo.ws/todd/papers/strlcpy.html)* 进一步讨论了这些函数的优点。5. *[`developer.apple.com/library/ios/documentation/Security/Conceptual/SecureCodingGuide/Articles/BufferOverflows.html`](https://developer.apple.com/library/ios/documentation/Security/Conceptual/SecureCodingGuide/Articles/BufferOverflows.html)*

### 第十二章：注入攻击

1. *[`superevr.com/blog/2011/xss-in-skype-for-ios/`](https://superevr.com/blog/2011/xss-in-skype-for-ios/)*2. 你可以在 *[`code.google.com/p/google-toolbox-for-mac/`](https://code.google.com/p/google-toolbox-for-mac/)* 下载适用于 Mac 的 Google Toolbox。3. *[`support.apple.com/kb/HT6441`](http://support.apple.com/kb/HT6441)*4. *[`www.raywenderlich.com/553/how-to-chose-the-best-xml-parser-for-your-iphone-project`](http://www.raywenderlich.com/553/how-to-chose-the-best-xml-parser-for-your-iphone-project)*

### 第十三章：加密与认证

1. *[`developer.apple.com/library/ios/#samplecode/GenericKeychain/Introduction/Intro.html`](http://developer.apple.com/library/ios/#samplecode/GenericKeychain/Introduction/Intro.html)*2. *[`www.trailofbits.com/resources/ios4_security_evaluation_slides.pdf`](https://www.trailofbits.com/resources/ios4_security_evaluation_slides.pdf)*3. *[`github.com/iSECPartners/R2B2`](https://github.com/iSECPartners/R2B2)*4. *[`github.com/granoff/Lockbox`](https://github.com/granoff/Lockbox)*5. *[`useyourloaf.com/blog/2010/4/3/keychain-group-access.html`](http://useyourloaf.com/blog/2010/4/3/keychain-group-access.html)*6. iOS 使用 D. J. Bernstein 的 Curve25519 算法生成公钥和私钥，这是一种椭圆曲线 Diffie-Hellman 算法 *([`cr.yp.to/ecdh.html`](http://cr.yp.to/ecdh.html)).* 7. 如果你实际上是一个密码学家，请忽略这一点。8. 我经常看到这一点。没有人应该从安全默认模式切换到 ECB 模式，但我每个月或两个月就会遇到这个问题。9. *[`github.com/rnapier/RNCryptor`](https://github.com/rnapier/RNCryptor)*10. *[`robnapier.net/blog/rncryptor-hmac-vulnerability-827`](http://robnapier.net/blog/rncryptor-hmac-vulnerability-827)*

### 第十四章：移动隐私问题

1. *[`developer.apple.com/library/ios/#documentation/AdSupport/Reference/ASIdentifierManager_Ref/ASIdentifierManager.html`](http://developer.apple.com/library/ios/#documentation/AdSupport/Reference/ASIdentifierManager_Ref/ASIdentifierManager.html)*2. *[`www.w3.org/TR/tracking-dnt/`](http://www.w3.org/TR/tracking-dnt/)*3. *[`www.w3.org/2011/tracking-protection/drafts/tracking-dnt.html`](http://www.w3.org/2011/tracking-protection/drafts/tracking-dnt.html)*4. *[`www.pskl.us/wp/wp-content/uploads/2010/09/iPhone-Applications-Privacy-Issues.pdf`](http://www.pskl.us/wp/wp-content/uploads/2010/09/iPhone-Applications-Privacy-Issues.pdf)*5. *[`www.apple.com/iphone-5s/features/`](http://www.apple.com/iphone-5s/features/)*6. *[`developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/8_AddingNewApps/AddingNewApps.html`](https://developer.apple.com/library/ios/documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/8_AddingNewApps/AddingNewApps.html)*
