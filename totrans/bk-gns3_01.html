<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Introducing GNS3"><div class="titlepage"><div><div><h1 class="title"><a id="introducing_gns3"/>Chapter 1. Introducing GNS3</h1></div></div></div><p><a id="iddle1417" class="indexterm"/>GNS3 is a cross-platform graphical network simulator that runs on Windows, OS X, and Linux, and it’s the collaborative effort of some super-talented, industrial-strength nerds—folks such as Christophe Fillot, Jeremy Grossmann, and Julien Duponchelle, just to name a few. Fillot is the creator of the MIPS processor emulation program (Dynamips) that allows you to run Cisco’s router operating system, and Grossmann is the creator of GNS3. He took Dynamips and integrated it, along with other open source software, into an easy-to-use graphical user interface. Duponchelle assists with coding GNS3, and his contributions have helped to advance the software.</p><p>GNS3 lets you design and test virtual networks on your PC, including (but not limited to) Cisco IOS, Juniper, MikroTik, Arista, and Vyatta networks, and it’s commonly used by students who need hands-on experience with Cisco IOS routing and switching while studying for the Cisco Certified Network Associate (CCNA) and Cisco Certified Network Professional <a id="iddle1070" class="indexterm"/><a id="iddle1146" class="indexterm"/><a id="iddle1149" class="indexterm"/><a id="iddle1166" class="indexterm"/><a id="iddle1283" class="indexterm"/><a id="iddle1340" class="indexterm"/><a id="iddle1410" class="indexterm"/><a id="iddle1418" class="indexterm"/><a id="iddle1420" class="indexterm"/><a id="iddle1451" class="indexterm"/><a id="iddle1558" class="indexterm"/><a id="iddle1563" class="indexterm"/><a id="iddle1580" class="indexterm"/><a id="iddle1605" class="indexterm"/><a id="iddle1912" class="indexterm"/><a id="iddle2040" class="indexterm"/><a id="iddle2099" class="indexterm"/><a id="iddle2148" class="indexterm"/><a id="iddle2152" class="indexterm"/><a id="iddle2298" class="indexterm"/><a id="iddle2323" class="indexterm"/><a id="iddle2373" class="indexterm"/>(CCNP) exams. But that merely scratches the surface of what GNS3 can do. In this chapter, I discuss what GNS3 is, as well as the benefits and limitations of the software.</p><div class="sect1" title="Why Use GNS3?"><div class="titlepage"><div><div><h1 class="title"><a id="why_use_gns3question_mark"/>Why Use GNS3?</h1></div></div></div><p>Before the wonders of virtualization, network engineers, administrators, and students had to build labs with physical hardware or rent time on a rack. Both options can be expensive and inconvenient, and they limit the network designs available to you. Software simulation programs such as RouterSim and Boson NetSim have been around for a long time, too, but these limited applications merely simulate the commands of Cisco IOS. Cisco Education does offer cheaper virtualized rack rental, based on Cisco IOS on Unix (IOU), but it allows you to practice on only specific precon-figured network configurations. It also requires that you have an active Internet connection to access the labs. Cisco also offers a product named Virtual Internet Routing Lab (VIRL) that’s similar to GNS3, but it requires an annual fee, limits the number of objects you can use in your labs, and uses only simulated Cisco operating systems.</p><p>GNS3, on the other hand, allows you to customize your network labs to exactly meet your needs, create unlimited projects using Cisco and non-Cisco technology, add unlimited objects to your projects, and access those projects anytime, regardless of Internet connectivity. GNS3 provides maximum flexibility for your designs through a combination of emulated hardware devices that run real network operating systems such as Cisco IOS, simulated operating systems such as NX-OSv, and the ability to share resources across multiple computers.</p><div class="sect2" title="Emulated Hardware"><div class="titlepage"><div><div><h2 class="title"><a id="emulated_hardware"/>Emulated Hardware</h2></div></div></div><p>GNS3’s graphical interface allows you to create virtualized network labs with a variety of routers, switches, and PCs, but it really shines when it’s paired with Cisco IOS. Unlike similar applications, GNS3 doesn’t merely mimic Cisco IOS commands or features. Instead, it uses a backend hypervisor application to emulate the hardware that runs Cisco IOS. Because only the hardware is emulated, you run an actual IOS image file on your PC. All the configuration commands and output come from a real IOS, and theoretically, any protocols or features that an IOS version supports are available to use in your network designs. This functionality distinguishes GNS3 from programs such as RouterSim, Boson NetSim, or VIRL, which simulate the entire experience and provide only limited environments, commands, and scenarios for you to work with.</p></div><div class="sect2" title="Simulated Operating Systems"><div class="titlepage"><div><div><h2 class="title"><a id="simulated_operating_systems"/>Simulated Operating Systems</h2></div></div></div><p>In addition to emulated hardware, GNS3 integrates simulated operating systems, and they can be fully networked to other GNS3 devices. One such <a id="iddle1031" class="indexterm"/><a id="iddle1178" class="indexterm"/><a id="iddle1229" class="indexterm"/><a id="iddle1419" class="indexterm"/><a id="iddle1423" class="indexterm"/><a id="iddle1438" class="indexterm"/><a id="iddle1444" class="indexterm"/><a id="iddle1458" class="indexterm"/><a id="iddle1544" class="indexterm"/><a id="iddle1606" class="indexterm"/><a id="iddle1941" class="indexterm"/><a id="iddle2004" class="indexterm"/><a id="iddle2039" class="indexterm"/><a id="iddle2110" class="indexterm"/><a id="iddle2122" class="indexterm"/><a id="iddle2315" class="indexterm"/><a id="iddle2329" class="indexterm"/><a id="iddle2345" class="indexterm"/>example is Cisco IOU, which I cover in <a class="xref" href="ch09.html" title="Chapter 9. Cisco IOS On UNIX and NX-OSv">Chapter 9</a>. IOU consists of a series of Linux binary files that emulate the features of IOS images, and it’s fully supported by GNS3.</p><p>In addition to Cisco IOS, GNS3 can integrate Quick Emulator (QEMU) and VirtualBox virtual machines running operating systems such as Linux, BSD, or Windows. For example, to practice installing and configuring an Apache web server on Linux, just add a VirtualBox virtual machine (VM) running Linux and Apache to GNS3 and test it by browsing to it from another VirtualBox host. All of this is done within the GNS3 user environment. If you want to throw a firewall in front of your Apache server, you could use a Cisco router, adaptive security appliance (ASA) firewall, or even a Linux-based firewall such as Vyatta.</p></div><div class="sect2" title="Scalability with the GNS3 Server"><div class="titlepage"><div><div><h2 class="title"><a id="scalability_with_the_gns3_server"/>Scalability with the GNS3 Server</h2></div></div></div><p>GNS3 leverages client-server technology; much like a web browser connects to a web server to access and display web pages, the GNS3 graphical user interface (GUI) program accesses a GNS3 server, allowing it to start, stop, and otherwise control GNS3 devices. This allows your projects to scale because they’re not restricted to running on a single computer. If you work with large or complex topologies, you can also run the GNS3 server program on a different PC than the GNS3 GUI program. If you have access to a high-end server with a lot of memory and processing power, you can install the GNS3 server program on the server hardware but control all the devices from the GNS3 GUI program running on a more modest PC.</p></div><div class="sect2" title="Virtual Connectivity"><div class="titlepage"><div><div><h2 class="title"><a id="virtual_connectivity"/>Virtual Connectivity</h2></div></div></div><p>The true beauty of GNS3 lies in its ability to network your virtual devices together, usually using protocols such as Internet Protocol version 4 (IPv4) and Internet Protocol version 6 (IPv6), to create labs that can run on just a single computer. Some of the simplest designs may have only a few components, like the project shown in <a class="xref" href="ch01.html#gns3_topology_integrating_fedora_linuxco" title="Figure 1-1. A GNS3 topology integrating Fedora Linux, Cisco, and Juniper routers">Figure 1-1</a>.</p><div class="figure"><a id="gns3_topology_integrating_fedora_linuxco"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00001"/><img src="httpatomoreillycomsourcenostarchimages2208871.png.jpg" alt="A GNS3 topology integrating Fedora Linux, Cisco, and Juniper routers"/></div></div><p class="title">Figure 1-1. A GNS3 topology integrating Fedora Linux, Cisco, and Juniper routers</p></div><p>The project in <a class="xref" href="ch01.html#gns3_topology_integrating_fedora_linuxco" title="Figure 1-1. A GNS3 topology integrating Fedora Linux, Cisco, and Juniper routers">Figure 1-1</a> allows a Fedora Linux host to access the live Internet via a switch, a Juniper router, a Cisco router, and finally a GNS3 Cloud node. That’s a simple network, but you can create complex networks made up of a dozen or more routers, switches, and PCs, like the design in <a class="xref" href="ch01.html#complexcomma_multiprotocol_gns3_topology" title="Figure 1-2. A complex, multiprotocol GNS3 topology">Figure 1-2</a>.</p><div class="figure"><a id="complexcomma_multiprotocol_gns3_topology"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00002"/><img src="httpatomoreillycomsourcenostarchimages2208873.png.jpg" alt="A complex, multiprotocol GNS3 topology"/></div></div><p class="title">Figure 1-2. A complex, multiprotocol GNS3 topology</p></div><p>The project in <a class="xref" href="ch01.html#complexcomma_multiprotocol_gns3_topology" title="Figure 1-2. A complex, multiprotocol GNS3 topology">Figure 1-2</a> is configured with more than 25 devices, including redundant switch blocks, EtherChannel, L2 Hot Standby Routing Protocol (HSRP), Frame Relay, Enhanced Interior Gateway Routing Protocol (EIGRP), Open Shortest Path First (OSPF), and Border Gateway Protocol (BGP), but the project can be run on a modestly configured PC. To keep your devices straight, you can also annotate your designs with colored, scalable text, as I’ve done in this example. If you have a laptop, you can even take projects on the road to present to clients, solve design issues, or study for certification exams. CCNA or CCNP candidates can also create all the training labs necessary to learn Cisco’s exam material, practice with real operating systems, and study from anywhere.</p><p>GNS3 has the ability to bridge virtual interfaces in your lab devices to one or more physical Ethernet interfaces in your PC. This allows you to connect your virtual networks to real hardware such as routers, switches, and other PCs. For example, you can run two or more GNS3 networks using multiple PCs and connect the PCs together using an Ethernet crossover cable or a physical switch. Doing so gives you the capability to connect all GNS3 devices across all the PCs. (I affectionately refer to this as a GNS3 <span class="emphasis"><em>ubernet</em></span>!)</p></div></div><div class="sect1" title="Open Source Integration"><div class="titlepage"><div><div><h1 class="title"><a id="open_source_integration"/>Open Source Integration</h1></div></div></div><p><a id="iddle1324" class="indexterm"/><a id="iddle1415" class="indexterm"/><a id="iddle1416" class="indexterm"/><a id="iddle1574" class="indexterm"/><a id="iddle1902" class="indexterm"/><a id="iddle2022" class="indexterm"/><a id="iddle2106" class="indexterm"/><a id="iddle2337" class="indexterm"/><a id="iddle2362" class="indexterm"/>GNS3 performs its magic by leveraging open source technologies, including Dynamips, QEMU, and VirtualBox. It can run Juniper, Arista, and many other network operating systems as easily as Cisco IOS.</p><div class="sect2" title="The Dynamips Hypervisor"><div class="titlepage"><div><div><h2 class="title"><a id="dynamips_hypervisor"/>The Dynamips Hypervisor</h2></div></div></div><p>To emulate Cisco hardware, GNS3 comes bundled with Dynamips, a wonderful application created in 2005 by Christophe Fillot of France and kept current by contributions from Flávio J. Saraiva and others. The Dynamips hypervisor program can emulate Cisco 1700, 2600, 3600, 3700, and 7200 series router hardware. Thanks to Dynamips, you can quickly and easily configure these router models with a variety of emulated Cisco network SLOT and WAN interface cards (WICs) in GNS3. Virtual input/output (I/O) cards allow you to add multiple Ethernet interfaces, switch modules, and serial ports to your devices. You can even add or remove memory on a per-device basis, depending on your project requirements and Cisco IOS version.</p></div><div class="sect2" title="QEMU and VirtualBox"><div class="titlepage"><div><div><h2 class="title"><a id="qemu_and_virtualbox"/>QEMU and VirtualBox</h2></div></div></div><p>You can add QEMU and VirtualBox virtual machines to GNS3 and use them in your projects. These devices can be linked to other GNS3 devices to form a complete end-to-end network. For example, you can connect a VirtualBox host to a series of switches and routers and permit it to access resources on another VirtualBox host on that network. In this scenario, you can configure and test all sorts of routing protocols as well as features such as network address translation (NAT), access control lists (ACLs), and virtual private networks (VPNs). Naturally, your physical computer’s hardware places restrictions on your resources, but modern computers have many unused resources just waiting to be tapped by GNS3.</p></div></div><div class="sect1" title="A Few Limitations"><div class="titlepage"><div><div><h1 class="title"><a id="few_limitations"/>A Few Limitations</h1></div></div></div><p>GNS3 is not without its limitations. Dynamips has been limited in such a way that you cannot use it in a production environment, making it useful only for education. Additionally, switching is limited to a modest command set, unless you integrate one or more physical Catalyst switches into your GNS3 projects. Fortunately, IOU helps bridge some of this gap.</p><div class="sect2" title="Some Assembly Required"><div class="titlepage"><div><div><h2 class="title"><a id="some_assembly_required"/>Some Assembly Required</h2></div></div></div><p>All great things come at a price, and GNS3 is no exception. Most notably, GNS3 requires one or more Cisco IOS images to run on your virtual Dynamips routers, and GNS3 does not provide them. Images can be copied from a router you own or through a Cisco connection online (CCO) account, if you have a contract with Cisco.</p></div><div class="sect2" title="Limited Emulation"><div class="titlepage"><div><div><h2 class="title"><a id="limited_emulation"/>Limited Emulation</h2></div></div></div><p><a id="iddle1084" class="indexterm"/><a id="iddle1087" class="indexterm"/><a id="iddle1124" class="indexterm"/><a id="iddle1128" class="indexterm"/><a id="iddle1154" class="indexterm"/><a id="iddle1607" class="indexterm"/><a id="iddle1847" class="indexterm"/><a id="iddle1871" class="indexterm"/><a id="iddle2174" class="indexterm"/><a id="iddle2180" class="indexterm"/>Dynamips is unable to emulate the application-specific integrated circuit (ASIC) hardware of Cisco’s advanced Catalyst switches. This is a minor setback for the aspiring CCNA or even CCNP, but it does hamper aspiring Cisco Certified Internetwork Experts (CCIEs) who need the switches’ advanced features. However, the versatility of GNS3 allows you to integrate your GNS3 virtual labs with actual Catalyst switches. This can greatly reduce the cost of creating a CCIE lab, and because most of the lab is virtualized, it allows for greater flexibility in your configurations.</p><p>When you don’t need those advanced features, you can add a virtual switch module, like the Cisco NM-16ESW, to one of your virtual Cisco routers to create a simple layer 3 switch. This device should satisfy modest switching needs, including virtual local area networks (VLANs), 802.1Q trunking, spanning-tree, EtherChannel, and multiprotocol routing using EIGRP, OSPF, BGP, and other protocols. Lastly, Cisco IOU images can be used to emulate Cisco switches, and they provide more commands than the Dynamips switch module.</p></div><div class="sect2" title="Hamstrung Network Performance"><div class="titlepage"><div><div><h2 class="title"><a id="hamstrung_network_performance"/>Hamstrung Network Performance</h2></div></div></div><p>Another GNS3 limitation is network performance. Because Dynamips is an emulator that doesn’t provide any hardware acceleration, throughput is restricted from 1.5Mb to 800Mb per second, depending on which IOS you use and your configuration. This may seem like a limitation, but it’s actually a good thing because it prevents users from virtualizing Cisco hardware and placing it into production environments. Imagine if emulated devices ran at full throughput: every network nerd from here to Timbuktu would install virtual routers on cheap PCs and use them in production networks, effectively stealing Cisco’s intellectual property. If that happened, Cisco would have come down on the Dynamips developers like a proverbial ton of bricks, and GNS3 wouldn’t exist today. This limitation has little to no effect when using GNS3 for education and testing.</p></div></div><div class="sect1" title="Final Thoughts"><div class="titlepage"><div><div><h1 class="title"><a id="final_thoughts-id00001"/>Final Thoughts</h1></div></div></div><p>Now that I’ve hit the highlights of GNS3, I hope you’re as excited as I am to use it on your own computer. Unlike similar applications or tools, GNS3 gives you complete control, leaving you free to use your imagination to create, learn, and develop elaborate networks that meet your needs. Furthermore, you can do it all without the hassle of spending a ton of money on routers and switches only to end up with a room full of noisy, electricity-sucking hardware.</p><p>In the next chapter, I’ll show you how to install GNS3. Let’s get started!</p></div></div></body></html>