<html><head></head><body>
<div class="imagec"><span epub:type="pagebreak" id="page_1"/><img alt="Image" src="../images/common1.jpg"/></div>
<h2 class="h2" id="ch01"><strong>1</strong><br/><strong>GETTING STARTED</strong></h2>
<p class="noindent">This chapter will get you started with your BBC micro:bit. It will also set the stage for the experiments and projects you’ll find in the following chapters. I’ll give our Mad Scientist (that’s you!) some ideas about what to do with your micro:bit, and I’ll help you start programming your micro:bit. You’ll learn how to use Blocks code and MicroPython.</p>
<p class="indent"><span epub:type="pagebreak" id="page_2"/>Mad Scientists are generally too busy and distracted to type in huge amounts of code, so all the code used in this book is available to download. This chapter explains how to get and use the code.</p>
<h3 class="h3" id="ch00lev1sec5"><strong>A TOUR OF THE MICRO:BIT</strong></h3>
<p class="noindent">Let’s take a quick look at the micro:bit and what’s on it.</p>
<h4 class="h4" id="ch00lev1sec6"><strong>The Top</strong></h4>
<p class="noindent"><a href="ch01.xhtml#ch1fig1">Figure 1-1</a> shows the top of a micro:bit.</p>
<div class="image" id="ch1fig1"><img alt="Image" src="../images/01fig01.jpg"/></div>
<p class="figcap"><em>Figure 1-1: The micro:bit</em></p>
<p class="indent">At the top of the board is a micro USB socket, which you’ll use to connect the micro:bit to a computer. You’ll write programs for your micro:bit on a computer, so you’ll have to transfer the programs to the micro:bit using a USB connection. The USB socket can also power up the micro:bit.</p>
<p class="indent"><span epub:type="pagebreak" id="page_3"/>On the left and right are two buttons labeled A and B, respectively. We can program these buttons to trigger some action, like flashing an image on the LEDs or making a doorbell sound.</p>
<p class="indent">Between the two buttons is a grid of 25 LEDs arranged as 5 rows and 5 columns. This is the micro:bit’s display. Even though it has only 25 LEDs, this display can show scrolling text messages, small images, patterns—a whole load of things!</p>
<p class="indent">At the bottom edge of the micro:bit is a gold-plated (yes, real gold!) strip called the <em>edge connector</em>. This strip has five holes labeled 0, 1, 2, 3V, and GND. These large connectors allow you to connect things to the micro:bit using alligator clips. For example, you might connect a speaker to get the micro:bit to make sound or a motor to get it to move. The much smaller connectors, the slits between the holes, can be used only with a special adapter. In this book, we’ll use the large connectors for everything except the two robot projects, which require an adapter to connect to a motor controller.</p>
<div class="imagec"><img alt="Image" src="../images/f0003-01.jpg"/></div>
<h4 class="h4" id="ch00lev1sec7"><span epub:type="pagebreak" id="page_4"/><strong>The Bottom</strong></h4>
<p class="noindent">Now let’s turn the micro:bit over and see what we have on the underside (<a href="ch01.xhtml#ch1fig2">Figure 1-2</a>).</p>
<div class="image" id="ch1fig2"><img alt="Image" src="../images/01fig02.jpg"/></div>
<p class="figcap"><em>Figure 1-2: The micro:bit’s underside, version 1.3B (left) and 1.5 (right)</em></p>
<p class="indent">At the time of writing, there are two versions of the micro:bit in circulation. Both work in the same way, and it doesn’t matter which version you have for this book. The latest version (1.5) just has a slightly simplified design. You can see the difference in the bottom left of the boards shown in <a href="ch01.xhtml#ch1fig2">Figure 1-2</a>.</p>
<p class="indent">The leftmost connector is the micro USB connector. Immediately to the right of that is a push switch. This is the micro:bit’s <em>reset button</em>. Pressing this button will cause the micro:bit to restart whatever program is installed on it. To the right of the reset button is the battery connector, which allows you to connect a 3V battery pack to your micro:bit.</p>
<p class="indent">Now we’ll take a closer look at each section, starting with how to power your micro:bit.</p>
<h4 class="h4" id="ch00lev1sec8"><strong>Power and the Micro:bit</strong></h4>
<p class="noindent">You can power the micro:bit through the USB connector or with batteries, depending what you want to do with it.</p>
<h5 class="h5" id="ch00lev1sec9"><span epub:type="pagebreak" id="page_5"/><strong>Using USB</strong></h5>
<p class="noindent">The USB connection will provide the micro:bit with 5V (5 volts) of power when you plug it into your computer. However, the micro:bit needs only 3.3V, not 5V, and too much voltage would damage the micro:bit. Therefore, it has a USB interface chip that converts this 5V to the 3.3V that the micro:bit expects.</p>
<p class="indent">When the micro:bit is plugged in via USB, you can use the 3V connector on the edge connector to provide power to low-current electronic devices, like external LEDs or speakers designed to work with the micro:bit.</p>
<div class="note">
<p class="notep"><span class="yellow"><strong>NOTE</strong></span> <em>The reason this connection is labeled 3V rather than 3.3V is partly that there isn’t much space for another number but also that protection circuitry reduces the 3.3V to a voltage close to 3V.</em></p>
</div>
<p class="indent">The connection labeled GND is the <em>ground</em> or 0V power connection. When you power your micro:bit, current flows out of the 3V connection, and it needs to return to the micro:bit in order to complete the circuit—the GND connection is where the current returns.</p>
<h5 class="h5" id="ch00lev1sec10"><strong>Using Batteries</strong></h5>
<p class="noindent">Once you’ve programmed your micro:bit, you may want to move it away from your computer, in which case you’ll need batteries. You can use a AAA battery pack, like the one shown in <a href="ch01.xhtml#ch1fig3">Figure 1-3</a>. Simply plug the ends of the battery pack wires into the 3V socket on the underside of the micro:bit.</p>
<div class="image" id="ch1fig3"><img alt="Image" src="../images/01fig03.jpg"/></div>
<p class="figcap"><em>Figure 1-3: Battery packs for the micro:bit</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_6"/>The <a href="app01.xhtml">appendix</a> lists some places you can buy these battery packs. A built-in switch is useful because you can power the micro:bit down without unplugging the battery pack, a task that can be a bit tricky.</p>
<p class="indent">Don’t use rechargeable AAA batteries because their voltage is generally too low to power a micro:bit. These batteries can also allow dangerously high currents if the flow of electricity is accidentally short-circuited. If you want to use rechargeable batteries, one option is a USB battery backup like the one shown on the left of <a href="ch01.xhtml#ch1fig4">Figure 1-4</a>.</p>
<div class="image" id="ch1fig4"><img alt="Image" src="../images/01fig04.jpg"/></div>
<p class="figcap"><em>Figure 1-4: Using rechargeable batteries with the micro:bit</em></p>
<p class="indent">These rechargeable batteries allow you to power your micro:bit through its USB port. The lower-capacity, cheaper backup batteries are often more suitable to power a micro:bit than are the more expensive versions. The micro:bit uses so little current that these more advanced units, which tend to turn off if they think the battery hasn’t been used in a while, can be fooled into thinking nothing is connected.</p>
<p class="indent">The item on the right of <a href="ch01.xhtml#ch1fig4">Figure 1-4</a> is the Monk Makes Charger for micro:bit. This uses a lithium polymer (LiPo) battery that automatically recharges whenever you connect the charger to your computer with a USB cable. When you want to <span epub:type="pagebreak" id="page_7"/>run the micro:bit on batteries, you just unplug the USB cable to the charger.</p>
<p class="indent">You can find out more about the options for powering your micro:bit in the <a href="app01.xhtml">appendix</a>.</p>
<div class="note">
<p class="notep"><span class="red"><strong>WARNING</strong></span> <em>The earliest versions of the micro:bit were susceptible to damage when used with USB batteries and power supplies. If you have any board other than a V1.3B or V1.5, you should avoid using any power supply except your computer USB port or a 3V battery pack.</em></p>
<p class="notep1"><em>The early micro:bits don’t have a version number on them. Flip your micro:bit over and look at the bottom right corner on the underside near connector 0. If it says</em> V1.3B <em>or</em> V1.5, <em>then using USB battery packs and power supplies will be fine. If you don’t see a version identifier here, don’t use these power supplies.</em></p>
<p class="notep1"><em>In either case, steer away from power supplies and USB batteries described as</em> high power.</p>
<p class="notep1"><em>You can read the micro:bit Foundation’s full safety advice at</em> <a href="https://microbit.org/guide/safety-advice/">https://microbit.org/guide/safety-advice/</a>.</p>
</div>
<h4 class="h4" id="ch00lev1sec11"><strong>Connecting Electronics with Input/Output Pins</strong></h4>
<p class="noindent">One especially fun thing about the micro:bit is that you can use the connections to attach electronic gadgetry of your own creation. In this book, you’ll build projects that use these connectors to control motors, lights, and a loudspeaker. You’ll also use them as inputs to gather data from sensors that measure light, sound, and temperature.</p>
<p class="indent">The 3V and GND connections are there to supply power. The connections labeled 0, 1, and 2 are usually referred to as <em>input/output pins</em>, and you’ll be attaching electronics to these.</p>
<div class="note">
<p class="notep"><span class="yellow"><strong>NOTE</strong></span> <em>You might wonder why we call them</em> pins <em>when they look nothing like pins. The term</em> pin <em>comes from the chip on the circuit board that the micro:bit connects to. The chip does have a pin—a tiny leg-like connection—for each of these three pins.</em></p>
</div>
<p class="indent"><span epub:type="pagebreak" id="page_8"/>The pins 0, 1, and 2 can be used for:</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Digital output—turning an external LED on and off, for example</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Analog output—controlling the brightness of an LED, for example</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Pulse generation—to control a servo motor, for example</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Digital input—to detect when an external button has been pressed, for example</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Analog input—to measure temperature using an analog temperature sensor, for example</p>
<p class="bull1"><img alt="Image" src="../images/play.jpg"/>  Touch input—to detect that you have touched the pin or a wire connected to a pin</p>
<h5 class="h5" id="ch00lev1sec12"><strong>Digital and Analog Inputs</strong></h5>
<p class="noindent">When you use a pin as a digital output, you can write commands in your programs to turn the output on (set it to 3V) or turn it off (set it to 0V), but <em>only</em> on or off—nothing in between. This is also the case with digital inputs: they can only ever be on or off. When your program code reads a digital input, if the voltage at the input is nearer 3V than 0V, then the input counts as being on; otherwise, it’s off.</p>
<p class="indent">Analog inputs, however, can be somewhere between on and off. Analog inputs on a micro:bit can be any value between 0 and 1,023, depending on the voltage at the pin.</p>
<h5 class="h5" id="ch00lev1sec13"><strong>Making an Analog Signal: Pulse Width Modulation</strong></h5>
<p class="noindent">A micro:bit, like all other electronics, can work only with digital on or off signals. To get analog signals between 0 and 3V, electronic devices <em>simulate</em> the analog signal by providing a rapid series of digital pulses. The longer the pulse, the more power is delivered to whatever is connected to the analog output. This is known as <em>pulse width modulation</em>, or <em>PWM</em>. <a href="ch01.xhtml#ch1fig5">Figure 1-5</a> shows PWM in action.</p>
<div class="image" id="ch1fig5"><span epub:type="pagebreak" id="page_9"/><img alt="Image" src="../images/01fig05.jpg"/></div>
<p class="figcap"><em>Figure 1-5: Analog outputs on the micro:bit delivering different amounts of power</em></p>
<p class="indent">If the output is connected to an LED and the pulse is at 3V only 5 percent of the time, the LED will appear to glow dimly. In contrast, if the pulse is at 3V for 90 percent of the time, the LED will appear to be at almost full brightness.</p>
<p class="indent">Interestingly, in both cases, the LED would actually be flashing at 50 times a second, but the human eye can’t see a light flash that quickly. Instead, we just register a relatively dim or bright light.</p>
<p class="indent">If the three pins 0, 1, and 2 are not enough for your project, you can use an adapter to access the many pins between the three numbered ones.</p>
<h4 class="h4" id="ch00lev1sec14"><strong>Built-In Peripherals</strong></h4>
<p class="noindent">The writing on the underside of the micro:bit gives us some clues about other things the micro:bit can do. Two areas at the bottom left are labeled <em>compass</em> and <em>accelerometer</em>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_10"/>The compass is actually a <em>magnetometer</em>, meaning it measures the strength of magnetic fields. You can use it as a compass, but you can also use it to detect the presence of magnets.</p>
<p class="indent">The accelerometer measures forces acting on the accelerometer chip. Because gravity is a constant force pulling down on everything, you can, by measuring the forces acting in different directions, use the accelerometer to detect when the micro:bit is being tilted and by how much, as well as when it is being shaken or in free fall.</p>
<p class="indent">Also on the underside, you will see the words <em>BLE Antenna</em>. The micro:bit includes BLE (Bluetooth Low Energy) hardware that allows your micro:bit to communicate wirelessly with other micro:bits or Bluetooth-enabled phones.</p>
<p class="indent">Note that the technology for micro:bit-to-micro:bit communication is not actually Bluetooth; it just uses the same frequency. <a href="ch10.xhtml#ch10">Chapter 10</a> is devoted to this feature of the micro:bit.</p>
<h3 class="h3" id="ch00lev1sec15"><strong>HARDWARE ESSENTIALS</strong></h3>
<p class="noindent">There are a few things you’ll need for nearly all the experiments and projects in this book. They include:</p>
<p class="noindentint"><strong><span class="blue">Micro:bit</span></strong></p>
<p class="noindentin"><strong><span class="blue">Micro USB cable</span></strong> To connect your micro:bit to a computer (Make sure this is a standard micro USB data cable and not a <em>charging cable</em>, which lacks the necessary connections for communication. You can’t use a charging cable to load programs onto the micro:bit.)</p>
<p class="noindentin"><strong><span class="blue">Alligator clip cables</span></strong> Ideally, these should be no longer than 4 to 5 inches to avoid getting tangled up.</p>
<p class="noindentin"><strong><span class="blue">3V AAA battery pack with two AAA batteries</span></strong></p>
<p class="noindentinb"><strong><span class="blue">USB power supply</span></strong> You’ll need this only for some projects. (See earlier warning.)</p>
<p class="indent">Each project or experiment will have a list of all the items you need, and the <a href="app01.xhtml">appendix</a> at the end of the book gives more information about how to acquire these supplies.</p>
<p class="indent"><span epub:type="pagebreak" id="page_11"/>This book tries to keep project construction straightforward and, apart from the roving robot in <a href="ch06.xhtml#ch06">Chapter 6</a>, no soldering is required. For most projects, you just need alligator clip cables to connect things together. When making connections using alligator clips, it’s best to clip the cable in vertically so the teeth of the clip look like <a href="ch01.xhtml#ch1fig6">Figure 1-6</a>, as this makes it much less likely that the cables will come loose.</p>
<div class="image" id="ch1fig6"><img alt="Image" src="../images/01fig06.jpg"/></div>
<p class="figcap"><em>Figure 1-6: Securely attaching alligator clips</em></p>
<h3 class="h3" id="ch00lev1sec16"><strong>PROGRAMMING THE MICRO:BIT</strong></h3>
<p class="noindent">Mad Scientists aren’t known for their patience, so let’s make our micro:bit do something. First, we’ll program our micro:bit.</p>
<p class="indent">One of the nice things about a micro:bit is that to get started with it, you just need a USB cable and a computer with a browser and internet connection. You can use a computer running on Windows, macOS, or Linux. As long as your device has a modern browser, such as Chrome, it will work fine.</p>
<p class="indent">We’ll first connect up the micro:bit. Then we’ll make a small program using two methods: the drag-and-drop Blocks code and MicroPython, which you need to type out.</p>
<h4 class="h4" id="ch00lev1sec17"><strong>Connecting your Micro:bit</strong></h4>
<p class="noindent">Start by connecting your micro:bit to your computer with a micro USB cable. Nearly all micro USB cables will work fine, but remember that charging-only cables don’t have the <span epub:type="pagebreak" id="page_12"/>necessary data connections and won’t work. If you have trouble programming your micro:bit using the following instructions, try using a different USB cable.</p>
<p class="indent">Once you connect your micro:bit, your operating system should react as if you’d just plugged in a USB flash drive. To transfer a program onto the micro:bit, find the micro:bit in your filesystem just like you’d find a flash drive or some other plug-in. Then copy a file called a <em>hex file</em> into the micro:bit folder icon, and, hey presto!, your program will be installed. Loading a program onto your micro:bit is also known as <em>flashing</em>.</p>
<p class="indent">Let’s make a hex file and flash it to our micro:bit.</p>
<h4 class="h4" id="ch00lev1sec18"><strong>Programming with Blocks: Hello World</strong></h4>
<p class="noindent">You can build programs for the micro:bit through the micro:bit website without downloading any software. We’ll make a program that scrolls some text across the LED display on the micro:bit. Open your browser and navigate to <em><a href="https://makecode.microbit.org">https://makecode.microbit.org</a></em>, and you should see a window something like <a href="ch01.xhtml#ch1fig7">Figure 1-7</a>.</p>
<div class="image" id="ch1fig7"><img alt="Image" src="../images/01fig07.jpg"/></div>
<p class="figcap"><em>Figure 1-7: The</em> <a href="https://makecode.microbit.org">https://makecode.microbit.org</a> <em>web page</em></p>
<p class="indent">This is the editor that you build programs in. On the left is an image of a micro:bit that works like a virtual micro:bit, running whatever programs you write.</p>
<p class="indent"><span epub:type="pagebreak" id="page_13"/>The section in the middle is a list of categories such as Basic, Input, and Music. Within each of these categories, you’ll find <em>blocks</em> that you can drag onto the working area on the right. Each block is an instruction for your micro:bit. By dragging these blocks around and connecting them, you’ll write code using the Blocks language.</p>
<p class="indent">You’ll notice that when you open the editor, there are already two blocks in the editing section: <span class="literal">on start</span> and <span class="literal">forever</span>. Any blocks inside the <span class="literal">on start</span> block will run once when the micro:bit first powers up, when a new program is uploaded, or when the micro:bit resets because you pressed the reset button. Whatever blocks are inside the <span class="literal">forever</span> block will run over and over again, until you stop the program.</p>
<p class="indent">For our first program, we don’t need the <span class="literal">forever</span> block, so select it and press <small>DELETE</small> to remove it from your program. Next, you need to add a <span class="literal">show string</span> block to your program—<em>string</em> is programming speak for <em>text</em>. To do this, click the <strong>Basic</strong> category, drag the <span class="literal">show string</span> block into the programming area, and place it inside the <span class="literal">on start</span> block, as shown in <a href="ch01.xhtml#ch1fig8">Figure 1-8</a>. If you have sound on your computer, you will hear a satisfying <em>click</em> as the blocks snap together.</p>
<p class="indent">Now click inside the text bubble and type <span class="literal"><span class="codestrong1">Hello World</span></span>. You can also type different text—whatever you want to see displayed.</p>
<div class="image" id="ch1fig8"><img alt="Image" src="../images/01fig08.jpg"/></div>
<p class="figcap"><em>Figure 1-8: Blocks code for displaying</em> Hello World</p>
<p class="indent">As soon as you drag the <span class="literal">show string</span> block into place, the virtual micro:bit on the left of the display should scroll your message across its display to show you what your program does.</p>
<p class="indent">Now let’s transfer your program to the real micro:bit. Connect your micro:bit using a USB cable and click <strong>Download</strong> at the bottom left of the web page.</p>
<div class="imagec"><span epub:type="pagebreak" id="page_14"/><img alt="Image" src="../images/f0014-01.jpg"/></div>
<p class="indent">This will download the file from the editor in the same way as any other file that you might download from the internet. Where the file is saved will depend on your operating system and browser, but usually it’s in a folder called <em>Downloads</em>. Find this folder, click into it, and you should find a file called <em>microbit.hex</em>. Using the File Manager (or Finder on a Mac) select this file and drag it onto the micro:bit where it appears in your filesystem (<a href="ch01.xhtml#ch1fig9">Figure 1-9</a>).</p>
<div class="image" id="ch1fig9"><img alt="Image" src="../images/01fig09.jpg"/></div>
<p class="figcap"><em>Figure 1-9: Dragging a file onto your micro:bit</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_15"/>As soon as you release your mouse button, the file should start installing itself onto the micro:bit. You’ll know this is happening because the LED on the back of the micro:bit will start blinking. When the blinking ends, the micro:bit will reset itself and run the program, scrolling the text across its display. If you miss seeing the message, press the reset button on the back of the micro:bit to see it again.</p>
<div class="sidebar">
<p class="sidebart"><strong>DOWNLOADING DIRECTLY TO YOUR MICRO:BIT</strong></p>
<p class="noindent">Most browsers have an option to choose where a file is saved each time you download one. You can use this feature to download files directly onto your micro:bit. Then you don’t have to first download and then copy the file.</p>
<p class="indent">To set this up in the Chrome browser, go to <em>chrome://settings/</em>, click <strong>Advanced</strong>, scroll down to the Downloads, and enable the option <strong>Ask where to save each file before downloading</strong>. That way, next time you click Download in the editor, you’ll be prompted for a location to save your file to and can select the micro:bit folder as the destination.</p>
<p class="indent">At the time of writing, flashing programs onto your micro:bit is about to get a whole lot easier for users of the Chrome browser. You can read about this feature here: <em><a href="https://support.microbit.org/support/solutions/articles/19000084059-beta-testing-web-usb">https://support.microbit.org/support/solutions/articles/19000084059-beta-testing-web-usb</a></em>.</p>
</div>
<h5 class="h5" id="ch00lev1sec19"><strong>Adding Graphics</strong></h5>
<p class="noindent">To display our message, we added a <span class="literal">show string</span> block to the <span class="literal">on start</span> block. The <span class="literal">on start</span> block is a special type of block called an <em>event block</em> that runs the code connected to it whenever a particular event happens. In this case, the event is the start of the program.</p>
<p class="indent"><span epub:type="pagebreak" id="page_16"/>Let’s make our program a bit more complicated by adding a new event that will detect when button A is pressed. To do this, click the <strong>Input</strong> category and drag an <span class="literal">on button A pressed</span> block into the program area. Next, drag a <span class="literal">show leds</span> block from the Basic category into the <span class="literal">on button A pressed</span> block. The squares in the <span class="literal">show leds</span> block represent each LED in the LED display. You can select which LEDs should light up by clicking them so they turn white. The result should look something like <a href="ch01.xhtml#ch1fig10">Figure 1-10</a>.</p>
<div class="image" id="ch1fig10"><img alt="Image" src="../images/01fig10.jpg"/></div>
<p class="figcap"><em>Figure 1-10: Adding an LED pattern to the program</em></p>
<p class="indent">The <span class="literal">show icon</span> block has a number of ready-made LED images if you want to choose one of those. Click <strong>Download</strong> again and copy the new hex file onto your micro:bit. Once the new program has been uploaded, you can test it by pressing button A. When you do so, the selected LEDs in the <span class="literal">show leds</span> block should light up on your micro:bit, as in <a href="ch01.xhtml#ch1fig11">Figure 1-11</a>.</p>
<div class="image" id="ch1fig11"><span epub:type="pagebreak" id="page_17"/><img alt="Image" src="../images/01fig11.jpg"/></div>
<p class="figcap"><em>Figure 1-11: Displaying an LED pattern on an actual micro:bit</em></p>
<h5 class="h5" id="ch00lev1sec20"><strong>Saving and Sharing</strong></h5>
<p class="noindent">The <em><a href="https://makecode.microbit.org">https://makecode.microbit.org</a></em> website remembers all your projects. Give your project a name by entering the name in the Save area next to the Download button, and your project will be saved. Whenever you change your program, it should automatically save, but to make sure, you can save manually by clicking the floppy-disk Save icon. Note that when you click Save, the hex file will also be downloaded, but you can just click Cancel if you’re not ready to flash the program onto your micro:bit.</p>
<p class="indent">Note that your stored programs are actually kept in your browser cache, so if you delete your cache, you will lose your programs.</p>
<p class="indent">To switch between programs and start new ones, click <strong>Home</strong> at the top of the page.</p>
<p class="indent"><span epub:type="pagebreak" id="page_18"/>To publish a program so others can see it, click <strong>Share</strong> next to Projects. This will ask you to confirm that you wish to publish your project. Click <strong>Share</strong> again, and you’ll see a link like the one in <a href="ch01.xhtml#ch1fig12">Figure 1-12</a>.</p>
<div class="image" id="ch1fig12"><img alt="Image" src="../images/01fig12.jpg"/></div>
<p class="figcap"><em>Figure 1-12: Sharing a project</em></p>
<p class="indent">You can give that URL to anyone, and when they put it in their browser, they’ll get a copy of your program to use. Note that because this is just a copy of your program, there’s no risk that they’ll spoil your original copy of the code.</p>
<h5 class="h5" id="ch00lev1sec21"><strong>Finding Blocks</strong></h5>
<p class="noindent">The <span class="literal">show string</span> and <span class="literal">show leds</span> blocks we’ve used so far were pretty easy to find, but the Blocks editor contains a lot of blocks, and it keeps the ones you don’t use as often hidden. This way, you don’t see a confusing array of choices when you start out on your micro:bit adventure.</p>
<p class="indent">These blocks are hidden in two ways. First, you may have noticed that when you select one of the block categories, such as Basic, an item labeled <em>. . . more</em> appears (see <a href="ch01.xhtml#ch1fig13">Figure 1-13</a>).</p>
<div class="image" id="ch1fig13"><img alt="Image" src="../images/01fig13.jpg"/></div>
<p class="figcap"><em>Figure 1-13: Extra blocks in the</em> more <em>section</em></p>
<p class="indent">In the case of the Basic category, the more section contains blocks such as <span class="literal">clear screen</span> and <span class="literal">show arrow</span>. If you click through the other categories, you’ll see that they all have a more section, some with quite a few extra blocks.</p>
<p class="indent"><span epub:type="pagebreak" id="page_19"/>Incidentally, hovering your mouse over a block will open a little information box telling you what the block does. Investing a little time in getting familiar with the various blocks will give you exciting ideas about what you can to do with your micro:bit.</p>
<p class="indent">The second place to find hidden blocks is in the Advanced category, just after Math (<a href="ch01.xhtml#ch1fig14">Figure 1-14</a>). Selecting this category will reveal a host of other categories containing more advanced features of the Blocks language, starting with Functions. Again, spend a little time familiarizing yourself with the blocks. Don’t worry if it’s not obvious what some of them do. If you’re interested in a block that does a particular thing, you may find the search field useful for finding the block you want.</p>
<div class="image" id="ch1fig14"><img alt="Image" src="../images/01fig14.jpg"/></div>
<p class="figcap"><em>Figure 1-14: The</em> Advanced <em>blocks category</em></p>
<p class="indent">The categories in the Advanced section that you’ll use frequently are Text and Pins. In some chapters, you’ll also be using Functions and Arrays.</p>
<h4 class="h4" id="ch00lev1sec22"><strong>Programming with MicroPython: Hello World</strong></h4>
<p class="noindent">Blocks code is great for getting started with programming, because you can accomplish some really impressive things with just a few blocks. However, many people prefer writing a program in text rather than dragging blocks around. Typing lines of text is also more like regular programming.</p>
<p class="indent">MicroPython is an implementation of the Python 3 programming language that includes everything you need to program your micro:bit with Python. In fact, many of the <span epub:type="pagebreak" id="page_20"/>blocks in Blocks code have direct equivalents in MicroPython, so switching from programming in Blocks to MicroPython is fairly straightforward. Python is a popular first programming language and is often taught in schools for that reason.</p>
<h5 class="h5" id="ch00lev1sec23"><strong>Downloading the MicroPython Editor</strong></h5>
<p class="noindent">We’ll use the <em>Mu</em> editor app (<em><a href="https://codewith.mu">https://codewith.mu</a></em>), which has lots of features. It can be downloaded straight onto your computer. Mu also lets you flash your program directly to a micro:bit without having to drag the hex file around. The nice thing about Mu is that you don’t need internet access to flash the program once Mu has been downloaded.</p>
<p class="indent">Download Mu from <em><a href="https://codewith.mu/#download">https://codewith.mu/#download</a></em>. There are several versions of Mu, so it’s important that you get the right one for your computer. The download page will offer you different versions for different operating systems. If you’re a Windows user, download the version under Windows Installer that’s labeled <em>64-bit</em> (<a href="ch01.xhtml#ch1fig15">Figure 1-15</a>). If you’re a macOS user, there’s just one version.</p>
<div class="image" id="ch1fig15"><img alt="Image" src="../images/01fig15.jpg"/></div>
<p class="figcap"><em>Figure 1-15: Downloading Mu</em></p>
<p class="indent">Run the installer and accept the license agreement and all the default options.</p>
<p class="indent">The first time you run Mu, it will offer you a choice of <em>modes</em>. Make sure to select the BBC micro:bit mode (<a href="ch01.xhtml#ch1fig16">Figure 1-16</a>).</p>
<div class="image" id="ch1fig16"><span epub:type="pagebreak" id="page_21"/><img alt="Image" src="../images/01fig16.jpg"/></div>
<p class="figcap"><em>Figure 1-16: Selecting the right version of Mu</em></p>
<p class="indent">Mu will present you with a blank editor window where you’ll type your first program.</p>
<h5 class="h5" id="ch00lev1sec24"><strong>Writing the Program</strong></h5>
<p class="noindent">Let’s give Mu a go! Add the following code in the Mu window:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>display<span class="purple">.</span>scroll<span class="purple">(</span><span class="red1">"Hello World"</span><span class="purple">)</span></div>
<p class="indent">It should look something like <a href="ch01.xhtml#ch1fig17">Figure 1-17</a>.</p>
<div class="image" id="ch1fig17"><img alt="Image" src="../images/01fig17.jpg"/></div>
<p class="figcap"><em>Figure 1-17: Writing a MicroPython program in Mu</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_22"/>Save the program by clicking <strong>Save</strong> at the top of the Mu window. You’ll be prompted to enter a name for your program: call it <em>hello.py</em>.</p>
<p class="indent">Now, with your micro:bit connected to your computer, click <strong>Flash</strong> at the top of the Mu window. This should start the process of loading the hex file to the micro:bit, just as though you were dragging over a file produced by the Blocks editor. Once the flashing is complete, the <em>Hello World</em> message should scroll across the display.</p>
<p class="indent">Let’s take a closer look at the code. Here’s the first line:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span></div>
<p class="indent">You’ll find this line at the start of pretty much every MicroPython micro:bit program, because this is what tells MicroPython to include all the built-in code that makes it compatible with the micro:bit’s display and other hardware. This code isn’t automatically included because MicroPython can be used on a lot of different boards, not just the micro:bit. The line actually means: <em>from the microbit library, import everything</em> (<span class="literal">*</span> means everything). You could also enter <span class="literal">import microbit</span>, but then you’d have to prefix everything with <span class="literal">microbit</span>, which is a lot of extra typing.</p>
<p class="indent">The only other line of code in our minimal program displays a message on the display:</p>
<div class="programs1">display<span class="purple">.</span>scroll<span class="purple">(</span><span class="red1">"Hello World"</span><span class="purple">)</span></div>
<p class="indent">This line uses the command <span class="literal">display.scroll</span>, which tells the micro:bit to scroll something across its display. Then you add a set of parentheses, inside of which we have some text enclosed in quotation marks. You use parentheses to add extra information to a command. In this case, the extra information (also called an <em>argument</em>) is the text you want to display. You also have to enclose the text in double quotes to show that the program should treat it as text, not as more programming commands.</p>
<p class="indent">If, when you flash the program onto a micro:bit, you see something other than <em>Hello World</em> (or nothing at all), you probably have an error in your code. When using a text-based programming language, you have to be precise in what you type. For example, misspelling a word such as <span class="literal">display</span> or <span class="literal">scroll</span> will cause an error when you run the program. Errors in programming are called <span epub:type="pagebreak" id="page_23"/><em>bugs</em>. Bugs only show up when the program tries to run on the micro:bit. If you get any bugs, you can carefully compare the code you wrote to the code in the book to make sure it all matches. But there’s another way to find and fix bugs—you can use the REPL.</p>
<h5 class="h5" id="ch00lev1sec25"><strong>The REPL</strong></h5>
<p class="noindent">The REPL (Read-Eval-Print-Loop) is a <em>command line interface</em> to MicroPython on the micro:bit—that is, it’s an area that lets you send Python commands directly to the micro:bit, without having to put them into a program first. If you entered the line 1 + 2 here, the REPL would respond with 3. Similarly, if MicroPython encounters a problem when it tries to run, it can report this problem to you in the REPL without you having to wait for the micro:bit to try to display something.</p>
<p class="indent">To experiment with the REPL, let’s deliberately introduce an error into our program by misspelling <span class="literal">scroll</span> so that it only has one <span class="literal">l</span>. Delete an <span class="literal">l</span> and click <strong>Flash</strong> again. The program will upload despite being faulty, but this time, the micro:bit display will say: <span class="literal">AttributeError: 'MicroBitDisplay' object has no attribute 'scrol'</span>. It takes a long time to scroll out this message, so to get a clearer view of it, click the <strong>REPL</strong> button at the top of the Mu window and then click the reset button on the back of your micro:bit. You should then see the error message in full in the REPL (bottom of <a href="ch01.xhtml#ch1fig18">Figure 1-18</a>).</p>
<div class="image" id="ch1fig18"><img alt="Image" src="../images/01fig18.jpg"/></div>
<p class="figcap"><em>Figure 1-18: Catching errors using the REPL in Mu</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_24"/>The <span class="literal">&gt;&gt;&gt;</span> prompt in the REPL indicates that you can type Python commands here to run immediately on the micro:bit. Try typing the following after the <span class="literal">&gt;&gt;&gt;</span> prompt and hitting <small>ENTER</small> at the end of the line (this time spell <span class="literal">scroll</span> correctly):</p>
<div class="programs1">display<span class="purple">.</span>scroll<span class="purple">(</span><span class="red1">"The REPL is useful"</span><span class="purple">)</span></div>
<p class="indent">Your micro:bit’s display should immediately scroll out the message, without your needing to upload a program. You don’t need to repeat the <span class="literal">import</span> command, because MicroPython has already executed <span class="literal">import</span>—it did so before it encountered the misspelled <span class="literal">scroll</span>.</p>
<div class="note">
<p class="notep"><span class="yellow"><strong>NOTE</strong></span> <em>When you were typing in your Hello World program, you may have noticed Mu trying to help by guessing what you were typing. For example, if you type</em> <span class="literal"><span class="codeitalic">display</span></span> and then pause, a list of options (<span class="literal"><span class="codeitalic">clear</span></span>, <span class="literal"><span class="codeitalic">get_pixel</span></span>, <span class="literal"><span class="codeitalic">is_on</span></span>, <span class="literal"><span class="codeitalic">off</span></span>, <span class="literal"><span class="codeitalic">on</span></span>, <span class="literal"><span class="codeitalic">scroll</span></span>, <span class="literal"><span class="codeitalic">set_pixel</span></span>, and <span class="literal"><span class="codeitalic">show</span></span>) will appear. You can click on the one you want to save yourself some typing.</p>
</div>
<h5 class="h5" id="ch00lev1sec26"><strong>Adding Graphics</strong></h5>
<p class="noindent">Let’s now add some graphics to the program, just like we did with the Blocks code. We again need to detect when button A has been pressed and then display the graphics pattern. This is a little trickier in MicroPython because this language doesn’t have the same concept of events that you find in the Blocks code. Instead, we have to write a <em>loop</em> that repeats the commands contained within it until told to stop. In our program, these commands will check for a button press and, if that event has happened, perform the necessary action. In other words, rather than being told that button A has been pressed, the program has to keep checking whether it’s been pressed. Here is the code:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>display<span class="purple">.</span>scroll<span class="purple">(</span><span class="red1">"Hello World"</span><span class="purple">)</span><br/><br/><span class="green">while</span> <span class="green">True</span><span class="purple">:</span><br/>    <span class="green">if</span> button_a<span class="purple">.</span>was_pressed<span class="purple">():</span><br/>        display<span class="purple">.</span>show<span class="purple">(</span>Image<span class="purple">.</span>CHESSBOARD<span class="purple">)</span></div>
<p class="indent"><span epub:type="pagebreak" id="page_25"/>The <span class="literal">while True</span> line of code marks the start of the loop that will continue until something stops it, like you unplugging your micro:bit or pressing the reset button or <small>CTRL</small>-C at the REPL. Whenever you make a loop, make sure to indent any lines of code that should run in that loop. Luckily, Mu recognizes when you have started a loop and helpfully indents the next line for you.</p>
<p class="indent">The first line within the loop is an <span class="literal">if</span> statement. This uses the <span class="literal">button_a.was_pressed</span> function to check whether the button has been pressed since last time <span class="literal">was_pressed</span> was used. If it has, then the lines indented below the <span class="literal">if</span> statement will be run. You’ll notice that the next line is indented even more, which means this line should only run if the <span class="literal">if</span> line is true (so if the button was indeed pressed). In this case, this line of code tells the display to show a ready-made graphic that belongs to the Image library. I’ve chosen the <span class="literal">CHESSBOARD</span> image. We’ll talk about <span class="literal">if</span> commands more later in “<span class="literal">if</span> Blocks” on <a href="ch01.xhtml#page_29">page 29</a>.</p>
<p class="indent">In Python, indentation is very important, and remembering to indent can be a big cause of frustration when first learning the language. Lines that are indented within, for example, a <span class="literal">while</span> or an <span class="literal">if</span> command must be indented by exactly the same amount. In Mu, this is four spaces. As you practice coding in Python, knowing when to indent will become easier and easier.</p>
<h3 class="h3" id="ch00lev1sec27"><strong>PROGRAMMING CONCEPTS</strong></h3>
<p class="noindent">Here we’ll go over some key ideas in programming that are worth understanding, particularly when you want to modify some project code or start making your own projects. These ideas are the same whether you’re using the Blocks editor or MicroPython, so we’ll cover how to execute each concept both ways, first in Blocks code and then in the MicroPython equivalent.</p>
<h4 class="h4" id="ch00lev1sec28"><strong>Variables</strong></h4>
<p class="noindent">A <em>variable</em> is a name associated with a value or multiple values. When you want to use the value, you can call the name in your code. Let’s illustrate this idea with some examples.</p>
<h5 class="h5" id="ch00lev1sec29"><span epub:type="pagebreak" id="page_26"/><strong>The Blocks Code</strong></h5>
<p class="noindent">One of the main categories in the Blocks editor is Variables. Start a new project by clicking <strong>New Project</strong> from the Blocks editor’s home page. Delete the <span class="literal">forever</span> block (we don’t need it) and then from the Variable category, click <strong>Make a Variable...</strong>. When prompted for a new variable name, enter <span class="literal"><span class="codestrong1">counter</span></span>. Drag the <span class="literal">set counter to 0</span> block into the programming area and click it onto the <span class="literal">on start</span> block.</p>
<p class="indent">Next, from the Input category, add an <span class="literal">on button A pressed</span> block. Inside this block, add a <span class="literal">change counter by 1</span> block from the Variables category and then a <span class="literal">show number</span> block from the Basic category. Finally, from the Variables category, drag out a <span class="literal">counter</span> block and click it into the <span class="literal">0</span> in the <span class="literal">show number</span> block to replace the <span class="literal">0</span>.</p>
<p class="indent">Once you’ve done this programming, your code should look like the following.</p>
<div class="image"><img alt="Image" src="../images/f0026-01.jpg"/></div>
<p class="indent">You can try out this program in the virtual micro:bit on the left of the editor by clicking button A. You should see the number displayed increase by 1.</p>
<p class="indent">Let’s have a look at what’s going on here. In the <span class="literal">on start</span> block, you make a variable called <span class="literal">counter</span> and give it an initial value of 0. When the <span class="literal">on button A pressed</span> block is activated, the <span class="literal">change</span> block changes the value of the <span class="literal">counter</span> variable by adding 1 and then shows the value of the <span class="literal">counter</span> variable on the display.</p>
<p class="indent"><span epub:type="pagebreak" id="page_27"/>In this case, our <span class="literal">counter</span> variable contains a number, but we can also set variables to hold text and even collections of data.</p>
<h5 class="h5" id="ch00lev1sec30"><strong>The MicroPython Code</strong></h5>
<p class="noindent">The MicroPython version of the program we just wrote looks like this:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>counter <span class="purple">=</span> <span class="blue1">0</span><br/><br/><span class="green">while True</span><span class="purple">:</span><br/>    <span class="green">if</span> button_a<span class="purple">.</span>was_pressed<span class="purple">():</span><br/>        counter <span class="purple">+=</span> <span class="blue1">1</span><br/>        display<span class="purple">.</span>scroll<span class="purple">(</span><span class="blue1">str</span><span class="purple">(</span>counter<span class="purple">))</span></div>
<p class="indent">We import the usual micro:bit library, and then make a <span class="literal">counter</span> variable and give it an initial value of 0. We make a <span class="literal">while</span> loop that ensures that if button A is pressed, 1 is added to <span class="literal">counter</span>. To add 1, we use <span class="literal">+=</span>, which is equivalent to the <span class="literal">change counter</span> block.</p>
<p class="indent">When we want to display the new value, we have to convert the numeric value into a text string with <span class="literal">str(counter)</span>, because the <span class="literal">display</span> command works only with strings.</p>
<p class="indent">Note that it’s perfectly okay to use one command inside another. So here, we use the <span class="literal">str</span> command inside the <span class="literal">display.scroll</span> command by putting it inside parentheses. When you do this, the innermost command (<span class="literal">str</span> in this case) is run first and supplies a value to the next command (in this case <span class="literal">display.scroll</span>).</p>
<h4 class="h4" id="ch00lev1sec31"><strong>Arithmetic</strong></h4>
<p class="noindent">In the previous example, you saw how we could add a number to a variable. As well as addition, we can use all the usual arithmetic options in programs, including subtraction, multiplication, and division.</p>
<h5 class="h5" id="ch00lev1sec32"><strong>The Blocks Code</strong></h5>
<p class="noindent">Say we wanted to keep doubling a number instead of counting by ones. We could alter the previous program so that the <span epub:type="pagebreak" id="page_28"/>starting number for <span class="literal">counter</span> is 1 and the <span class="literal">on button A pressed</span> block multiplies <span class="literal">counter</span> by 2, as shown here.</p>
<div class="image"><img alt="Image" src="../images/f0028-01.jpg"/></div>
<p class="indent">Now, instead of using a <span class="literal">change counter by 1</span> block, we use a <span class="literal">set counter to</span> block and, inside that, use a multiply block (<span class="literal">×</span>). In the first part of the multiply block, we place the variable <span class="literal">counter</span>, and in the second part, we put the number <span class="literal">2</span>. Now every time button A is pressed, <span class="literal">counter</span> is given the value of 2 times its old value.</p>
<p class="indent">When we use blocks, math like this rapidly becomes quite complicated, as we need to nest blocks inside of blocks inside of other blocks. If we have a program that needs to do a lot of arithmetic, it may be better to code the project using MicroPython.</p>
<h5 class="h5" id="ch00lev1sec33"><strong>The MicroPython Code</strong></h5>
<p class="noindent">In MicroPython, we use arithmetic symbols such as <span class="literal">+</span>, <span class="literal">-</span>, <span class="literal">*</span> (multiply by), and <span class="literal">/</span> (divide). You can also use brackets to change the order of the math operations, as you do in math class. Here’s how we would rewrite the doubling Blocks program we just made:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>counter <span class="purple">=</span> <span class="blue1">1</span><br/><br/><span class="green">while</span> <span class="green">True</span><span class="purple">:</span><br/>    <span class="green">if</span> button_a<span class="purple">.</span>was_pressed<span class="purple">():</span><br/>        counter <span class="purple">=</span> counter <span class="purple">*</span> <span class="blue1">2</span><br/>        display<span class="purple">.</span>scroll<span class="purple">(</span><span class="blue1">str</span><span class="purple">(</span>counter<span class="purple">))</span></div>
<p class="indent"><span epub:type="pagebreak" id="page_29"/>The key line here is <span class="literal">counter = counter * 2</span>. The <span class="literal">=</span> symbol after the variable name means that whatever follows the equal sign will be assigned to the variable as its new value. In this case, that’s <span class="literal">counter * 2</span> (counter times 2). You could also use the shorthand form <span class="literal">counter *= 2</span>, just as we did earlier when doing addition.</p>
<h4 class="h4" id="ch00lev1sec34"><strong>if Blocks</strong></h4>
<p class="noindent">Programs can be thought of as a series of steps that the micro:bit will carry out. Sometimes you’ll need your program to make decisions and execute particular steps based on those decisions. The blocks in the Logic category allow your programs to make decisions.</p>
<p class="indent">We’ll make a variation of our counting-by-1 example that counts up to 10 and then goes back to 0 to start the counting process over.</p>
<h5 class="h5" id="ch00lev1sec35"><strong>The Blocks Code</strong></h5>
<p class="noindent">Try making the following Blocks program.</p>
<div class="image"><img alt="Image" src="../images/f0029-01.jpg"/></div>
<p class="indent"><span epub:type="pagebreak" id="page_30"/>First, we add an <span class="literal">if</span> block after the <span class="literal">change counter by 1</span> block. Onto the <span class="literal">if</span> block, we drop a comparison block that compares the value of <span class="literal">counter</span> to 10. If the <span class="literal">counter</span> value is greater than (<span class="literal">&gt;</span>) 10, the program runs the blocks inside the <span class="literal">if</span> block. In this case, the <span class="literal">if</span> block contains a single block that sets <span class="literal">counter</span> back to 0. If <span class="literal">counter</span> is not greater than 10, then it continues to show the number on the display.</p>
<p class="indent">There are other variants of the <span class="literal">if</span> block that let you carry out one action if a condition is true and another action if the condition is false. You’ll learn more about these in later chapters.</p>
<h5 class="h5" id="ch00lev1sec36"><strong>The MicroPython Code</strong></h5>
<p class="noindent">We’ve already used <span class="literal">if</span> in MicroPython when we checked whether a button had been pressed. Here, we’re not just using it to see whether a condition is true or false. Instead, we’re comparing the variable <span class="literal">counter</span> to the value 10. The MicroPython version of the Blocks code looks like this:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>counter <span class="purple">=</span> <span class="blue1">0</span><br/><br/><span class="green">while</span> <span class="green">True</span><span class="purple">:</span><br/>    <span class="green">if</span> button_a<span class="purple">.</span>was_pressed<span class="purple">():</span><br/>        counter <span class="purple">+=</span> <span class="blue1">1</span><br/>        <span class="green">if</span> counter <span class="purple">&gt;</span> <span class="blue1">10</span><span class="purple">:</span><br/>            counter <span class="purple">=</span> <span class="blue1">0</span><br/>        display<span class="purple">.</span>scroll<span class="purple">(</span><span class="blue1">str</span><span class="purple">(</span>counter<span class="purple">))</span></div>
<p class="indent">Take a good look at the indentation of this program: we have an <span class="literal">if</span> inside another <span class="literal">if</span>, which is itself inside a <span class="literal">while</span>. See if you can figure out how this code works, using the explanation of the Blocks version as a guide.</p>
<h4 class="h4" id="ch00lev1sec37"><strong>Strings</strong></h4>
<p class="noindent">Remember that a string is a series of characters (numbers, letters, or punctuation), often a word. You used a string in your very first Hello World program in <a href="ch01.xhtml#ch1fig8">Figure 1-8</a> to display the message <em>Hello World</em>.</p>
<h5 class="h5" id="ch00lev1sec38"><span epub:type="pagebreak" id="page_31"/><strong>The Blocks Code</strong></h5>
<p class="noindent">Most of the blocks for strings can be found in the Text category. The simplest of these is a block with a pair of quotes and a gap where you can add your own text to make a string. You can use this block to assign a string, rather than a number, to a variable. Here we set the <span class="literal">message</span> variable to a string. This program will display the string’s length.</p>
<div class="image"><img alt="Image" src="../images/f0031-01.jpg"/></div>
<p class="indent">We use an <span class="literal">on start</span> block, inside which we set the value of the variable <span class="literal">message</span> to some text. In the <span class="literal">show number</span> block, you can see a <span class="literal">length of</span> block and, inside that, the <span class="literal">message</span> variable. The <span class="literal">length of</span> block supplies the number of characters in the string message to <span class="literal">show number</span>, which then scrolls that number across the display.</p>
<p class="indent">The Text category has other blocks that let you do things, like join together two strings, chop out a section of a string, and convert a string into a number.</p>
<h5 class="h5" id="ch00lev1sec39"><strong>The MicroPython Code</strong></h5>
<p class="noindent">In MicroPython, string values are distinguished from other program code by being enclosed in double quotes, just as in Blocks code. We would write the previous Blocks program like this in MicroPython:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><br/>message <span class="purple">=</span> <span class="red1">"This text is in a variable."</span><br/><br/><span class="green">while</span> <span class="green">True</span><span class="purple">:</span><br/>    display<span class="purple">.</span>scroll<span class="purple">(</span><span class="blue1">str</span><span class="purple">(</span><span class="blue1">len</span><span class="purple">(</span>message<span class="purple">)))</span></div>
<p class="indent"><span epub:type="pagebreak" id="page_32"/>This works in the same way as the Blocks code. Notice that we use the <span class="literal">str</span> command to convert the length of the string <span class="literal">len</span> into a string itself so that it can be displayed.</p>
<h4 class="h4" id="ch00lev1sec40"><strong>Arrays and Lists</strong></h4>
<p class="noindent">So far, we’ve used variables that contain just a single piece of data, whether that’s a number or string. But sometimes you need to keep a collection of values in a variable, often to access each value in turn, like a sequence of notes that make up a tune (as you’ll see in <a href="ch02.xhtml#ch02">Chapter 2</a>).</p>
<p class="indent">In Blocks code, a collection of values is called an <em>array</em>, and in MicroPython, it’s called a <em>list</em>. The idea is the same for both, however.</p>
<h5 class="h5" id="ch00lev1sec41"><strong>The Blocks Code</strong></h5>
<p class="noindent">The Blocks editor has an Array category that contains array-related blocks. The most important are <span class="literal">set list to</span>, <span class="literal">set text list to</span>, and <span class="literal">get value at</span>. The first two allow you to create a list containing numbers or strings, respectively, and <span class="literal">get value at</span> lets you access a particular element of an array.</p>
<p class="indent">The following small program creates a variable called <span class="literal">colors</span> and assigns it to an <span class="literal">array of</span> four strings. Then it picks a random item from that array to display. Note that the <span class="literal">array of</span> block has <span class="literal">+</span> and <span class="literal">-</span> buttons that allow you to adjust the number of items in the array when you create it.</p>
<div class="image"><img alt="Image" src="../images/f0032-01.jpg"/></div>
<p class="indent"><span epub:type="pagebreak" id="page_33"/>We add an <span class="literal">on button A pressed</span> block. Inside it, we add a <span class="literal">show string</span> block, inside which we add a <span class="literal">get value at</span> block. We then add <span class="literal">pick random</span> (found in the Math category) to choose any number from 0 to 3. Altogether, this means that when button A is pressed, the <span class="literal">pick random</span> block selects a random number between 0 and 3 and fetches the array element at that position, and then the <span class="literal">show string</span> block displays that element. Note that in both Blocks and MicroPython programming, array numbering starts at 0 rather than 1, so if the number 0 is randomly chosen, the <em>first</em> element of the array will be displayed.</p>
<h5 class="h5" id="ch00lev1sec42"><strong>The MicroPython Code</strong></h5>
<p class="noindent">This is how you would write the previous Blocks program in MicroPython:</p>
<div class="programs1"><span class="green">from</span> microbit <span class="green">import</span> <span class="purple">*</span><br/><span class="green">import</span> random<br/><br/>numbers <span class="purple">=</span> <span class="purple">[</span><span class="red1">"orange"</span><span class="purple">,</span> <span class="red1">"yellow"</span><span class="purple">,</span> <span class="red1">"green"</span><span class="purple">,</span> <span class="red1">"blue"</span><span class="purple">]</span><br/><br/><span class="green">while</span> <span class="green">True</span><span class="purple">:</span><br/>    <span class="green">if</span> button_a<span class="purple">.</span>was_pressed<span class="purple">():</span><br/>        display<span class="purple">.</span>scroll<span class="purple">(</span>numbers<span class="purple">[</span>random<span class="purple">.</span>randint<span class="purple">(</span><span class="blue1">0</span><span class="purple">,</span> <span class="blue1">3</span><span class="purple">)])</span></div>
<p class="indent">In MicroPython, we use square brackets, <span class="literal">[</span> and <span class="literal">]</span>, to enclose the elements of a list, and we separate the list elements with commas. We also use square brackets to access a particular element of a list using its position. In this case, the <span class="literal">random.randint</span> command, which returns a number between 0 and 3, is enclosed within the square brackets.</p>
<h4 class="h4" id="ch00lev1sec43"><strong>Programming Wrap-Up</strong></h4>
<p class="noindent">This has been a very quick introduction to programming the micro:bit. All the code for this book is available for download, so you don’t have to master programming before you start doing experiments and making projects. As you progress through this book, you’ll be introduced to new blocks and MicroPython language features, which I’ll explain as they come up.</p>
<p class="indent"><span epub:type="pagebreak" id="page_34"/>For more information on MicroPython for the micro:bit, see <em><a href="https://microbit-micropython.readthedocs.io">https://microbit-micropython.readthedocs.io</a></em>. If you’re new to Python, you might find my book <em>Programming micro:bit: Getting Started with MicroPython</em> (McGraw-Hill, 2018) a useful accompaniment to this book.</p>
<h3 class="h3" id="ch00lev1sec44"><strong>DOWNLOADING THE CODE</strong></h3>
<p class="noindent">Some of the programs in this book are long and complex, and typing them out might not be something that a Mad Scientist such as yourself is eager to do. If you don’t want to make the programs yourself, you can just download them and flash them to your micro:bit.</p>
<h4 class="h4" id="ch00lev1sec45"><strong>Downloading the Blocks Code</strong></h4>
<p class="noindent">All the Blocks code is published on GitHub at <em><a href="https://github.com/simonmonk/mbms/">https://github.com/simonmonk/mbms/</a></em>. When you click a link for the Blocks code, the project will open in your browser.</p>
<p class="indent">Scroll down the GitHub page until you will see something like <a href="ch01.xhtml#ch1fig19">Figure 1-19</a>. You’re looking for a list of links to all the Blocks code programs.</p>
<div class="image" id="ch1fig19"><img alt="Image" src="../images/01fig19.jpg"/></div>
<p class="figcap"><em>Figure 1-19: Links to the Blocks code for all the programs in this book</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_35"/>To open one of the programs, just click the link. For example, <a href="ch01.xhtml#ch1fig20">Figure 1-20</a> shows the result of clicking the link for the musical doorbell project.</p>
<div class="image" id="ch1fig20"><img alt="Image" src="../images/01fig20.jpg"/></div>
<p class="figcap"><em>Figure 1-20: Following a link to the Blocks code for the musical doorbell project</em></p>
<p class="indent">You’ll notice that <a href="ch01.xhtml#ch1fig20">Figure 1-20</a> does not look like the normal Blocks editor window. That’s because you’re to just view the code here and flash it onto your micro:bit to use. If you want to edit the code, or just see the code in its more familiar editor, click the <strong>Edit</strong> button at the top right. This will make a copy of the original program for you, and then you’ll be able to edit this copy.</p>
<h4 class="h4" id="ch00lev1sec46"><strong>Downloading the MicroPython Code</strong></h4>
<p class="noindent">You can download the MicroPython programs from <em><a href="https://github.com/simonmonk/mbms/">https://github.com/simonmonk/mbms/</a></em>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_36"/>If you’re used to using the Git software, you can clone the entire project onto your computer. For non-Git-experts, here’s a step-by-step guide for getting all the code.</p>
<ol>
<li class="noindent">Visit <em><a href="https://github.com/simonmonk/mbms/">https://github.com/simonmonk/mbms/</a></em> and then click the green <strong>Clone or download</strong> button and select <strong>Download ZIP</strong>, as shown in <a href="ch01.xhtml#ch1fig21">Figure 1-21</a>.
<div class="image" id="ch1fig21"><img alt="Image" src="../images/01fig21.jpg"/></div>
<p class="figcap"><em>Figure 1-21: Downloading the code for this book</em></p></li>
<li class="noindent">Find the ZIP file you just downloaded (<em>mbms-master.zip</em>) in your downloads folder and extract all the files from it.
<p class="indent">The process of extracting the files will vary, depending on whether you use Windows, macOS, or Linux. On macOS and most Linux distributions, a ZIP file will automatically extract when you open it. If you’re a Windows user, be aware that while Windows will let you look inside the ZIP file without extracting it into separate files, you won’t be able to use the files unless you extract them. To extract the files in Windows, right-click the archive file in File Explorer and select the option <strong>Extract All</strong> (<a href="ch01.xhtml#ch1fig22">Figure 1-22</a>).</p>
<div class="image" id="ch1fig22"><span epub:type="pagebreak" id="page_37"/><img alt="Image" src="../images/01fig22.jpg"/></div>
<p class="figcap"><em>Figure 1-22: Extracting the ZIP archive file in Windows</em></p>
<p class="indent">The extracted files will be contained in a directory called <em>mbms-master</em>. Within this directory, you’ll find another directory called <em>python</em>, and within this, you’ll find all the MicroPython programs for the book as separate files, each with the file extension <em>.py</em>.</p></li>
<li class="noindent">Unfortunately, you can’t just double-click a program to open it in Mu. To open a program, first open Mu and go to Load. Then find the MicroPython program you want to open. As a shortcut, I suggest you move all the MicroPython programs from the <em>python</em> folder that you just downloaded into the folder where Mu normally expects to find its programs. By default, this is a directory within your home directory called <em>mu_code</em>. Now when you click the Load button in Mu, you’ll see all the MicroPython programs straight away.</li>
</ol>
<h3 class="h3" id="ch00lev1sec47"><span epub:type="pagebreak" id="page_38"/><strong>SUMMARY</strong></h3>
<p class="noindent">Now that we’ve looked at some of the basics of the micro:bit, it’s time to get started with some proper Mad Scientist experimentation and project work. We’ll begin with making and detecting sounds using a micro:bit.</p>
</body></html>