- en: Chapter 11. Layers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Layers are so central to GIMP that without them, this powerful application would
    be almost useless. Instead, we would only be able to use GIMP for simple drawings
    or minor photo touch-ups. All of GIMP’s more powerful and versatile features rely
    on layers.
  prefs: []
  type: TYPE_NORMAL
- en: 'When an image has multiple layers, the GIMP workspace acts as a stack of transparencies.
    Draw or paint on these transparencies, or arrange parts of an existing picture
    on separate layers. Set the layers’ visibility, or adjust how transparent they
    are or how they blend with other layers. Move them around the canvas and control
    their order in the layer stack. Duplicate a layer before changing it so an intact
    copy remains in case you make a mistake or want to use the layer for other purposes.
    Layering makes possible so many things that this chapter covers only the basic
    concepts, while later chapters combine these concepts with the tools and features
    provided by GIMP. In this chapter, we examine the Layers dialog, the Layers menu,
    and the **Image: Layer** menu.'
  prefs: []
  type: TYPE_NORMAL
- en: 11.1 The Layers Dialog
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers dialog")
    shows an example of a Layers dialog for the painting created in [Chapter 3](ch03.html
    "Chapter 3. Drawing and Illustration"). This dialog is probably the most important
    of all the GIMP dialogs, including the Toolbox, since the latter can be replaced
    with the **Image: Tools** menu (or keyboard shortcuts). The Layers dialog is a
    component of the multi-dialog window by default, and you will most likely want
    to keep it open. If you do close it, you can open it again by going to **Image:
    Windows > Dockable Dialogs > Layers** or pressing ![](httpatomoreillycomsourcenostarchimages1455224.png.jpg)
    to bring it back. The keyboard shortcut brings up the dialog in the foreground,
    even if it was hidden by a ![](httpatomoreillycomsourcenostarchimages1453814.png)
    command.'
  prefs: []
  type: TYPE_NORMAL
- en: Components of the Layers Dialog
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s examine the components of the Layers dialog. The numbers below refer to
    [Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers dialog").
  prefs: []
  type: TYPE_NORMAL
- en: The image name is not really a component of the dialog but rather of the multi-dialog
    window. If you select a different tab (the Channels dialog, for example), the
    image name will remain visible. You can change whether the image name is visible
    in the Configuration menu (opened with the button labeled 4). To show the image
    name, check SHOW IMAGE SELECTION. Showing the image name is very useful when you’re
    working with several images at the same time.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![The Layers dialog](httpatomoreillycomsourcenostarchimages1455394.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-1. The Layers dialog
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![The Configuration menu](httpatomoreillycomsourcenostarchimages1455396.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-2. The Configuration menu
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: This button toggles whether the multi-dialog window always reflects the current
    image.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The MODE drop-down menu sets the blending mode of the current layer. For a description
    of the 21 blending modes available, see [12.2 Blending Modes](ch12s02.html "12.2
    Blending Modes").
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This button brings up the Configuration menu, found in all dockable dialogs
    and shown in [Figure 11-2](ch11s01.html#configuration_menu "Figure 11-2. The Configuration
    menu"). The first entry opens the Layers menu, which will be discussed later in
    this chapter. The Configuration menu also allows you to add, close, or detach
    tabs from the multi-dialog menu; change the preview size and the tab style; and
    show or hide elements in the dialog. The last entry allows you to navigate between
    multiple displays, if you’re working with more than one monitor.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The Opacity slider allows you to set the opacity of the current layer. This
    is independent of the transparency, so a layer without an Alpha channel can be
    made semi-transparent with the Opacity slider. The layer opacity combines with
    the layer blending mode to determine the interaction between the pixels of the
    current layer and those of the underlying layers. For example, Dissolve mode is
    different from Normal mode only if the layer opacity is less than 100%.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The paintbrush icon is a toggle button. If pressed, the layer pixels are locked,
    which means they cannot be changed. This is useful if you want to protect a layer
    from accidental alterations. Painting on a layer with locked pixels is very similar
    to painting on it in Behind mode: When the pixels are locked, the painting tools
    will still work in transparent areas.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The square icon, another toggle button, locks a layer’s Alpha channel, if there
    is one. If the Alpha channel is locked, painting tools don’t work in transparent
    areas of the current layer, but they do work in opaque areas, as long as the pixels
    are unlocked. If both locks (pixels and Alpha channel) are checked, the layer
    cannot be changed at all. These buttons are useful, for example, when building
    logos, as shown in [Chapter 4](ch04.html "Chapter 4. Logos and Textures"). If
    you want to blur the logo to add relief to it, the Alpha channel must be unlocked.
    If you want to paint the logo, the Alpha channel must be locked.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The main part of the Layers dialog contains as many entries as there are layers
    in the image. The current layer is noted by an emphasis on the corresponding entry
    (blue in [Figure 11-1](ch11s01.html#layers_dialog-id00088 "Figure 11-1. The Layers
    dialog"), where the current layer is named `River`).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![An example layer in the Layers dialog](httpatomoreillycomsourcenostarchimages1455398.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-3. An example layer in the Layers dialog
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Always be aware of which layer is current, because anything you do to the image
    will be applied to that layer, which can be invisible or hidden by another layer.
    When the current layer is hidden, changes appear to have no effect, yet the current
    layer, hidden somewhere in the layer stack, is being affected by everything you
    do. Sometimes no layer is current, for example when a channel is active. In that
    case, when you apply changes to the image, the active channel is affected.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The bottom of the Layers dialog displays a row of seven buttons, which are
    shortcuts to entries in the Layers or **Image: Layer** menus. From left to right,
    these buttons allow you to do the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a new layer. Hold down ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to use the previous parameters. Otherwise a dialog opens to set them.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Create a new layer group.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Raise the current layer in the layer stack. Press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to move it to the top.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Lower the current layer in the layer stack. Press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to move it to the bottom.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Duplicate the current layer.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Anchor the floating layer.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Delete the current layer.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: A Layer Entry in the Layers Dialog
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Figure 11-3](ch11s01.html#example_layer_in_the_layers_dialog "Figure 11-3. An
    example layer in the Layers dialog") shows all the possible components of a layer
    displayed in the Layers dialog. From left to right, these are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: The eye icon denotes the fact that the layer is visible (if no upper layer hides
    it). Clicking it toggles visibility. An invisible layer does not contribute to
    the visible image, but this does not prevent it from being changed.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The link icon denotes the fact that the layer is linked to something. This is
    meaningful only when it’s activated for more than one object. We can link several
    layers together, or we can link channels and paths, using their respective dialogs.
    See [Chapter 14](ch14.html "Chapter 14. Masks") for information on channels, and
    see [13.3 The Paths Tool](ch13s03.html "13.3 The Paths Tool") for information
    on paths. When several objects are linked, the Move tool and the transformation
    tools (see [Chapter 16](ch16.html "Chapter 16. Transformation Tools")) operate
    on the whole set of linked objects. However, each image is limited to only one
    set of linked objects. Clicking the chain turns the link on or off for that layer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The thumbnail provides a miniature view of the layer contents. If its frame
    is white, that layer is the current layer and any modification made will affect
    it. Otherwise, the frame is black. Clicking on the thumbnail makes the layer active.
    If you click and hold, a larger thumbnail pops out. Clicking and dragging the
    thumbnail to the Toolbox creates a new image from the layer. Dragging it into
    another image copies the layer as a new layer in that image.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the layer has a layer mask (see [14.2 Layer Masks](ch14s02.html "14.2 Layer
    Masks")), its thumbnail appears to the right and has the same properties as the
    layer thumbnail. If the mask frame is white, the mask is active, and any modifications
    made will be applied to the mask. If the mask frame is red, the layer mask is
    inactive. When the layer mask is selected, the dashed outline in the Image window
    changes from yellow and black to green and black. ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    the thumbnail toggles the layer mask activation, and ![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-clicking
    toggles the visibility of the layer mask.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Drag the layer mask thumbnail into another image to add it as a layer or into
    the Toolbox to create a copy as a new image.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'The final item on the layer entry is the layer name. It is displayed in boldface
    if the layer does not have an Alpha channel. A name is assigned to the layer when
    the layer is created, but it can be changed. Double-click it, press ![](httpatomoreillycomsourcenostarchimages1455250.png.jpg),
    or select **Layers: right-click > Edit Layer Attributes** to change it.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If the layer is intended to be an animation frame (see [Chapter 18](ch18.html
    "Chapter 18. Animation Tools")), its name can be followed by text that alters
    the frame’s behavior: the duration in milliseconds, as in `(200ms)`, and the combination
    mode of the frame—either `(combine)` or `(replace)`.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Keyboard Shortcuts in the Layers Dialog
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Some handy keyboard shortcuts are available when the Layers dialog is active.
  prefs: []
  type: TYPE_NORMAL
- en: The up arrow key selects the layer above the current layer as the new current
    layer. The down arrow key selects the layer below.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The ![](httpatomoreillycomsourcenostarchimages1455400.png.jpg) key makes the
    top layer in the stack current, and the ![](httpatomoreillycomsourcenostarchimages1455402.png.jpg)
    key makes the bottom layer current.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The horizontal arrow keys switch among the four (or five) components of the
    current layer: visibility, linking, layer thumbnail, layer mask thumbnail, and
    layer name.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The ![](httpatomoreillycomsourcenostarchimages1453920.png.jpg) and ![](httpatomoreillycomsourcenostarchimages1453866.png.jpg)
    keys toggle the selected layer component (visibility, linking, activity of the
    layer or its layer mask, and the layer name), even if its layer is not active.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pressing ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg) along with
    the up or down arrow key moves from layer to layer without changing the current
    layer. You can use this in combination with the horizontal arrow keys or the ![](httpatomoreillycomsourcenostarchimages1453920.png.jpg)
    or ![](httpatomoreillycomsourcenostarchimages1453866.png.jpg) keys.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The ![](httpatomoreillycomsourcenostarchimages1454482.png.jpg) key erases the
    contents of the current layer (or the selection in this layer).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Uses of the Layers Dialog
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In summary, the Layers dialog allows you to do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Open the configuration menu by clicking the top-right button. The first entry
    in this menu opens the Layers menu (covered later in this chapter).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Change the blending mode of the layer. See [12.2 Blending Modes](ch12s02.html
    "12.2 Blending Modes") for examples and a complete description of the blending
    modes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Set the layer opacity.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Lock the pixels or the Alpha channel.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Set the visibility of the layer by clicking the eye icon. Note that this is
    independent of the activity of the layer. An invisible layer can still be altered.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Set the activity of the layer by clicking its thumbnail. Note that this does
    not change its visibility.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Set the activity of the layer mask by clicking, ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking,
    or ![](httpatomoreillycomsourcenostarchimages1454752.png.jpg)-clicking its thumbnail
    image.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Change the name of the layer by double-clicking its name.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Move the layer in the layer stack by clicking and dragging its thumbnail or
    name up or down the layer stack. This method can also be used to move a layer
    into, or out of, a layer group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Open the Layers menu by right-clicking anywhere in the layer’s entry.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Use the seven buttons in the bottom row to perform common layer-related tasks.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 11.2 The Layers Menu
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Layers menu ([Figure 11-4](ch11s02.html#layers_menu "Figure 11-4. The Layers
    menu")) is selected by right-clicking any of the layer entries in the Layers dialog
    or by selecting the first entry in the Configure menu of the Layers dialog. If
    the current layer is a text layer, this menu contains five additional entries,
    described in [15.8 The Text Tool](ch15s08.html "15.8 The Text Tool"). In this
    section, we examine each of the entries in the Layers menu.
  prefs: []
  type: TYPE_NORMAL
- en: EDIT LAYER ATTRIBUTES opens the dialog shown in [Figure 11-5](ch11s02.html#edit_layer_attributes_dialog
    "Figure 11-5. The Edit Layer Attributes dialog"). The only attribute that can
    be changed is the layer name.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Layers menu](httpatomoreillycomsourcenostarchimages1455404.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-4. The Layers menu
  prefs: []
  type: TYPE_NORMAL
- en: '![The Edit Layer Attributes dialog](httpatomoreillycomsourcenostarchimages1455406.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-5. The Edit Layer Attributes dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'NEW LAYER opens the dialog shown in [Figure 11-6](ch11s02.html#create_a_new_layer_dialog
    "Figure 11-6. The Create a New Layer dialog"). A descriptive layer name can help
    you quickly identify the various components of an image. If you don’t input one,
    a name is automatically generated, such as `Layer #1`. The width and height are
    initially the same as those of the canvas, but you can input different values.
    If the new layer is larger than the canvas, the areas of the layer that extend
    beyond the canvas won’t be visible. The new layer’s dimensions can be assigned
    as a percentage of the canvas dimensions, in pixels, or in a number of other units.
    Note that measurements in inches, millimeters, or other standard units of measurement
    are calculated with regard to the current resolution (see [10.1 Rulers and Units](ch10s01.html
    "10.1 Rulers and Units")). Finally, the four radio buttons allow you to choose
    how the layer is initially filled. The layer can be filled with the foreground
    color, the background color, white, or transparency. Unless transparency is chosen,
    the new layer does not have an Alpha channel.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Create a New Layer dialog](httpatomoreillycomsourcenostarchimages1455408.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-6. The Create a New Layer dialog
  prefs: []
  type: TYPE_NORMAL
- en: NEW FROM VISIBLE creates a new layer, initially called `Visible`, filled with
    the image as it currently appears. This new layer is placed in the stack just
    above the current layer. The layers contributing to this new layer are flattened
    before its creation such that only one new layer is created, even if several are
    visible.
  prefs: []
  type: TYPE_NORMAL
- en: NEW LAYER GROUP creates a new, empty layer group, initially called `Layer Group`.
    This concept is discussed in [11.3 Layer Groups](ch11s03.html "11.3 Layer Groups").
  prefs: []
  type: TYPE_NORMAL
- en: DUPLICATE LAYER makes a copy of the current layer (or layer group), places it
    into the layer stack just above the current layer, and names it the same name
    as that the current layer plus the word `copy`. The copy inherits all the characteristics
    of the original, including its blending mode, opacity, and locks.
  prefs: []
  type: TYPE_NORMAL
- en: ANCHOR LAYER is active only when there is a floating selection. See [13.4 Using
    Selections](ch13s04.html "13.4 Using Selections"). The floating selection is anchored
    to the last current layer.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Layers Merge Options dialog](httpatomoreillycomsourcenostarchimages1455410.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-7. The Layers Merge Options dialog
  prefs: []
  type: TYPE_NORMAL
- en: MERGE DOWN merges the current layer with the layer below. If the current layer
    is invisible, it merges as if it were visible. However, if the layer below is
    invisible, and there is no visible layer below that, MERGE DOWN is inactive. MERGE
    DOWN is also inactive when the layers below the current layer form a layer group.
  prefs: []
  type: TYPE_NORMAL
- en: MERGE LAYER GROUP appears in the menu only if the current layer is a layer group.
    This group is replaced with a single layer, composed of all layers of the group.
  prefs: []
  type: TYPE_NORMAL
- en: DELETE LAYER deletes the active layer or layer group. Like the other Layers
    menu operations, this one can be undone.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next four entry groups in the Layers menu are also found in the **Image:
    Layer** menu, and they are discussed in [11.4 The Image: Layer Menu](ch11s04.html
    "11.4 The Image: Layer Menu"). Therefore we skip to the last two entries in the
    Layers menu.'
  prefs: []
  type: TYPE_NORMAL
- en: 'MERGE VISIBLE LAYERS acts only on the layers with the eye icon checked, and
    it merges them according to their respective opacity and blending mode. The dialog
    is shown in [Figure 11-7](ch11s02.html#layers_merge_options_dialog "Figure 11-7. The
    Layers Merge Options dialog"). The new layer can be sized to match the largest
    layer, the canvas, or the bottom layer. If the DISCARD INVISIBLE LAYERS box is
    checked, the invisible layers are deleted. Otherwise, they remain in the image.
    Note that this operation deletes the visible layers from the image, unlike NEW
    FROM VISIBLE, which is generally a better choice. If you do choose to use MERGE
    VISIBLE LAYERS, we strongly suggest that you save a copy of the image first with
    **Image: File > Save a Copy**.'
  prefs: []
  type: TYPE_NORMAL
- en: FLATTEN IMAGE replaces all the layers with a single-layer representation of
    the image. This is a destructive operation and should be used only after you’ve
    saved a copy of the image with the layers intact.
  prefs: []
  type: TYPE_NORMAL
- en: 11.3 Layer Groups
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Layer groups are a new feature in GIMP 2.8, and the concept is still evolving.
  prefs: []
  type: TYPE_NORMAL
- en: 'To create a new layer group, click the corresponding button in the bottom of
    the Layers dialog or use **Image: Layer > New Layer Group** or **Layers: right-click
    > New Layer Group**.'
  prefs: []
  type: TYPE_NORMAL
- en: The layer group appears just above the current layer and is initially empty.
    A good idea is to immediately give it a meaningful name. To add a layer to a group,
    click and drag it to the group in the layer stack. Do the same to move a layer
    out of its current group or to move an entire layer group around in the stack.
    You can also add a new layer to a layer group, using the corresponding button
    in the Layers dialog or the entry in the Layers menu. Click the small triangle
    to show ([Figure 11-8](ch11s03.html#this_layer_group_has_three_layers "Figure 11-8. This
    layer group has three layers")) or hide ([Figure 11-9](ch11s03.html#three_minimized_layer_groups
    "Figure 11-9. Three minimized layer groups")) the contents of the group. A layer
    group can be placed within another layer group.
  prefs: []
  type: TYPE_NORMAL
- en: 'A layer group is a useful way to organize the layers in a complex image. The
    following operations can be done on a layer group:'
  prefs: []
  type: TYPE_NORMAL
- en: Locking the pixels
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Changing the group opacity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Toggling visibility with the eye icon
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Toggling layer links with the chain icon
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Moving the group in the layer stack
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Moving the layers with the Move tool
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Applying a transformation to all layers (see [Chapter 16](ch16.html "Chapter 16. Transformation
    Tools"))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Duplicating the layer group and its contents
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Copying the layer group and its contents to another image by clicking and dragging
    it, or by copying and pasting it
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![This layer group has three layers](httpatomoreillycomsourcenostarchimages1455412.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-8. This layer group has three layers
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Three minimized layer groups](httpatomoreillycomsourcenostarchimages1455414.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-9. Three minimized layer groups
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Deleting the layer group and its contents
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Applying a layer blending mode to a layer group, which effects only the layers
    of the layer group
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'We’ll use the result of the tutorial from [Chapter 3](ch03.html "Chapter 3. Drawing
    and Illustration") to demonstrate the properties of a layer group. This image
    has 20 layers, which we organized as we built the image. Each of the four mushroom
    caps is composed of two layers, one of which contains a layer mask. The mushroom
    stems are composed of six layers. The flower and stone in the foreground are composed
    of four layers. Finally, there is a white background for the whole image, and
    another layer on the top of the stack, named `Background`, which is in multiply
    blend mode and contains the original drawing. These layers can be organized intuitively
    into three layer groups: `Mushroom stems`, `Mushroom caps`, and `Foreground`.
    To do this without changing the layer order in the stack, click the New Layer
    Group button when the topmost layer of the future group is active, and then move
    layers into the group by clicking and dragging them to the upper layer or to an
    empty layer group. [Figure 11-9](ch11s03.html#three_minimized_layer_groups "Figure 11-9. Three
    minimized layer groups") shows the result when these three layer groups are minimized.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Moving the Mushroom caps layer group](httpatomoreillycomsourcenostarchimages1455416.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-10. Moving the Mushroom caps layer group
  prefs: []
  type: TYPE_NORMAL
- en: '![Reducing the opacity of a layer group to 50%](httpatomoreillycomsourcenostarchimages1455418.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-11. Reducing the opacity of a layer group to 50%
  prefs: []
  type: TYPE_NORMAL
- en: You can hide a layer group by clicking its eye icon, or you can move all of
    its layers simultaneously using the Move tool (see [Figure 11-10](ch11s03.html#moving_the_mushroom_caps_layer_group
    "Figure 11-10. Moving the Mushroom caps layer group")). If a layer group is hidden,
    the layers it contains are invisible and their eye icons are stroked out. You
    can also change the opacity of an entire layer group (see [Figure 11-11](ch11s03.html#reducing_the_opacity_of_a_layer_group_to
    "Figure 11-11. Reducing the opacity of a layer group to 50%")).
  prefs: []
  type: TYPE_NORMAL
- en: '![Linking noncontiguous layers](httpatomoreillycomsourcenostarchimages1455420.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-12. Linking noncontiguous layers
  prefs: []
  type: TYPE_NORMAL
- en: '![Moving only the caps’ spots](httpatomoreillycomsourcenostarchimages1455422.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-13. Moving only the caps’ spots
  prefs: []
  type: TYPE_NORMAL
- en: All the layers in a layer group must be contiguous in the layer stack. This
    is not the case for linking layers. For example, let’s chain together the second
    layer of all mushroom caps, the one containing a layer mask and used to draw the
    spots on the caps (see [Figure 11-12](ch11s03.html#linking_noncontiguous_layers
    "Figure 11-12. Linking noncontiguous layers")). Now we can move the linked layers
    together, but separately from the group, as shown in [Figure 11-13](ch11s03.html#moving_only_the_capsapostrophe_spots
    "Figure 11-13. Moving only the caps’ spots") (compare with [Figure 11-10](ch11s03.html#moving_the_mushroom_caps_layer_group
    "Figure 11-10. Moving the Mushroom caps layer group")). The linked layers can
    even be in different layer groups.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Image: Layer menu](httpatomoreillycomsourcenostarchimages1455424.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 11-14. The Image: Layer menu'
  prefs: []
  type: TYPE_NORMAL
- en: Layer groups are saved in an XCF file, independently from the individual layers.
    In GIMP 2.8, it’s possible to rotate or scale a layer group without rotating or
    scaling the individual layer components of the group. When the layer group is
    rotated or scaled, a floating selection is created with the result of the transformation,
    and the initial layer group is replaced with the merged, transformed components.
    The individual layers, however, are unchanged.
  prefs: []
  type: TYPE_NORMAL
- en: '11.4 The Image: Layer Menu'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The **Image: Layer** menu is shown in [Figure 11-14](ch11s03.html#image_layer_menu
    "Figure 11-14. The Image: Layer menu"). Some of the entries are also found in
    the **Layers: right-click > Layers** menu, but there are many new entries as well.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The first eight entries (or seven if there is no existing layer group) can
    also be found in the **Layers: right-click > Layers** menu, but in the **Image:
    Layer** menu three of these entries are accompanied by keyboard shortcuts:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](httpatomoreillycomsourcenostarchimages1454182.png.jpg) opens the new layer
    dialog.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](httpatomoreillycomsourcenostarchimages1453960.png.jpg) duplicates the current
    layer.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](httpatomoreillycomsourcenostarchimages1454186.png.jpg) anchors the floating
    selection.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Stack menu](httpatomoreillycomsourcenostarchimages1455426.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-15. The Stack menu
  prefs: []
  type: TYPE_NORMAL
- en: This menu, and these shortcuts, allow us to make major changes to the layer
    stack without looking at it, which is generally not advisable. It’s much easier
    to make a mistake when you can’t see what you’re doing. It’s better to adjust
    layers in the Layers dialog whenever possible.
  prefs: []
  type: TYPE_NORMAL
- en: If the current layer is a text layer, the Layer menu will also contain four
    text-specific entries, described in [15.8 The Text Tool](ch15s08.html "15.8 The
    Text Tool"). After that are the four menus discussed next.
  prefs: []
  type: TYPE_NORMAL
- en: The Stack Menu
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The Stack menu is shown in [Figure 11-15](ch11s04.html#stack_menu "Figure 11-15. The
    Stack menu"). Within it are four commands which are most useful when dealing with
    an image that has a lot of layers:'
  prefs: []
  type: TYPE_NORMAL
- en: 'SELECT PREVIOUS LAYER (![](httpatomoreillycomsourcenostarchimages1455428.png.jpg))
    is equivalent to clicking in the previous layer in the Layers dialog, with one
    exception: If the current layer is within a layer group, this command does not
    extend to layers outside of the group.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SELECT NEXT LAYER (![](httpatomoreillycomsourcenostarchimages1455430.png.jpg))
    selects the next layer, with the same exception as above.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SELECT TOP LAYER (![](httpatomoreillycomsourcenostarchimages1455400.png.jpg))
    selects the topmost layer in the stack or the topmost layer in the group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SELECT BOTTOM LAYER (![](httpatomoreillycomsourcenostarchimages1455402.png.jpg))
    selects the bottom layer in the stack or the bottom layer in the group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that the arrow keys on the keyboard can be used to select the previous
    or next layer, but only when the Layers dialog is active. See [Keyboard Shortcuts
    in the Layers Dialog](ch11s01.html#keyboard_shortcuts_in_the_layers_dialog "Keyboard
    Shortcuts in the Layers Dialog") for other keyboard shortcuts available in this
    dialog.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next four commands move the current layer in the layer stack:'
  prefs: []
  type: TYPE_NORMAL
- en: RAISE LAYER moves the layer up in the stack. It cannot raise a layer outside
    of its current group. To move a layer out of its group, click and drag it.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LOWER LAYER moves the layer down in the stack.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAYER TO TOP moves the current layer to the top of the stack, or of its group
    if it belongs to a layer group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAYER TO BOTTOM moves the layer to the bottom of the stack or group.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finally, REVERSE LAYER ORDER can be called only from this menu. A layer group
    counts as a single layer, and there is no action to reverse the layer order within
    a layer group.
  prefs: []
  type: TYPE_NORMAL
- en: The Mask, Transparency, and Transform Menus
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The Mask menu deals with layer masks and is discussed in [14.2 Layer Masks](ch14s02.html
    "14.2 Layer Masks"). It offers slightly more options than are found in the **Layers:
    right-click > Layers** menu.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The Transparency menu is discussed in [Transparency and the Alpha Channel](ch14s03.html#transparency_and_the_alpha_channel
    "Transparency and the Alpha Channel"). Only three of its entries also appear in
    the **Layers: right-click > Layers** menu.'
  prefs: []
  type: TYPE_NORMAL
- en: Using the Transform menu is the easiest way to flip or rotate the current layer.
    You could also use the Flip tool (![](httpatomoreillycomsourcenostarchimages1455432.png.jpg))
    or Arbitrary Rotation, which is also accessed through the Rotate tool (![](httpatomoreillycomsourcenostarchimages1453928.png.jpg)).
    See [Transforming a Layer](ch16s01.html#transforming_a_layer "Transforming a Layer")
    for more information on the Transform menu.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Set Layer Boundary Size dialog](httpatomoreillycomsourcenostarchimages1455434.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 11-16. The Set Layer Boundary Size dialog
  prefs: []
  type: TYPE_NORMAL
- en: The Final Five Entries
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The remaining five entries in the Image: Layer menu provide the only access
    to their respective operations:'
  prefs: []
  type: TYPE_NORMAL
- en: 'LAYER BOUNDARY SIZE opens the dialog shown in [Figure 11-16](ch11s04.html#set_layer_boundary_size_dialog
    "Figure 11-16. The Set Layer Boundary Size dialog"), which is very similar to
    the dialog of **Image: Image > Canvas Size**, described in [Resizing an Image](ch16s01.html#resizing_an_image-id00142
    "Resizing an Image"). You can choose the exact dimensions of the layer, and the
    position of its contents within the new dimensions. Adjust the position by setting
    the *X* and *Y* fields, by dragging the layer preview in its window, or by using
    the CENTER button. If you reduce the size of the layer, the clipped contents are
    deleted, but if you enlarge the layer beyond the border of the image, the contents
    outside of the image border are retained, though invisible. This tool also works
    with a layer group.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAYER TO IMAGE SIZE sets the layer to the image size, without a dialog and without
    moving the layer contents. Any part of the layer that’s beyond the canvas limits
    is deleted. This tool also works with layer groups.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'SCALE LAYER opens the dialog shown in [Figure 11-17](ch11s04.html#scale_layer_dialog-id00090
    "Figure 11-17. The Scale Layer dialog"), which is the same as the **Image: Image
    > Scale Image** dialog, described in [10.1 Rulers and Units](ch10s01.html "10.1
    Rulers and Units") and in [Resizing an Image](ch16s01.html#resizing_an_image-id00142
    "Resizing an Image"). The only difference is that you cannot change the layer
    resolution, which is fixed by the image resolution. This tool also works with
    layer groups.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Scale Layer dialog](httpatomoreillycomsourcenostarchimages1455436.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-17. The Scale Layer dialog
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Autocropping a layer group](httpatomoreillycomsourcenostarchimages1455438.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 11-18. Autocropping a layer group
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: CROP TO SELECTION is active only if there is a current selection. The layer
    dimensions are set to the smallest rectangle that includes the selection.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'AUTOCROP LAYER crops the layer to the smallest rectangle that contains data
    of a color different from that of the layer border. It’s similar to **Image: Image
    > Autocrop Image**, described in [Cropping an Image](ch16s01.html#cropping_an_image-id00145
    "Cropping an Image"). This tool also works with layer groups, as demonstrated
    in [Figure 11-18](ch11s04.html#autocropping_a_layer_group "Figure 11-18. Autocropping
    a layer group"), where the current layer is the entire `Mushroom caps` layer group.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
