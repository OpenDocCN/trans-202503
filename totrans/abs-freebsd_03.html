<html><head></head><body>
<h2 class="h2" id="ch03"><span epub:type="pagebreak" id="page_29"/><strong><span class="big">3</span><br/>INSTALLING</strong></h2>
<div class="image1"><img src="../images/common01.jpg" alt="image"/></div>
<p class="noindent">You’ve thought about what you want your FreeBSD install to do. You’ve chosen hardware. You’ve downloaded boot media and burned it to a flash drive or optical disk. You’ve found a working USB keyboard and set up your test machine to boot from that media. Now let’s walk through a FreeBSD install. Boot up your install media and follow along.</p>
<p class="indent">Throughout this walkthrough, I’ll mention the various key mappings, quirks, and shortcuts the installer provides. One annoyance is that the installer offers no back button: if you screw up something basic, like the disk partitioning, start over.</p>
<p class="indent">My desktop, of course, has been installed and running for years. I’ve somehow been coerced to setting up a system for Bert,<sup><a href="footnote.xhtml#ch03fn1" id="ch03fn1a">1</a></sup> though. If he doesn’t like my installation methods, he can read this chapter and install his own dang machines.</p>
<h3 class="h3" id="lev84"><span epub:type="pagebreak" id="page_30"/><strong>Core Settings</strong></h3>
<p class="noindent">Upon booting the install media, I see the boot loader screen with its 10-second countdown, as shown in <a href="ch03.xhtml#ch03fig1">Figure 3-1</a>.</p>
<div class="image"><a id="ch03fig1"/><img src="../images/f0030-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-1: The boot loader</em></p>
<p class="indent">Hitting <small>ENTER</small> skips the 10-second counter.</p>
<p class="indent">I then get the selection menu shown in <a href="ch03.xhtml#ch03fig2">Figure 3-2</a>.</p>
<div class="image"><a id="ch03fig2"/><img src="../images/f0030-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-2: Selecting Install</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_31"/>In <a href="ch05.xhtml#ch05">Chapter 5</a>, we’ll discuss using the live CD option to repair damaged systems. For right now, choose Install (the default) by pressing <small>ENTER</small>.</p>
<p class="indent">You might notice that the first letter of each choice is in red, while most of the text is gray. You can type that letter to make a choice rather than arrowing over. Here, entering S takes you to a shell, while L starts the live CD image.</p>
<p class="indent">You’re now entering bsdinstall(8), FreeBSD’s old-fashioned installer. While other operating systems have pretty graphical installers with mouse-driven menus and multicolor pie charts, FreeBSD’s looks like an old DOS program. You’ll start your install by choosing a keymap, as shown in <a href="ch03.xhtml#ch03fig3">Figure 3-3</a>.</p>
<div class="image"><a id="ch03fig3"/><img src="../images/f0031-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-3: Keymap selection</em></p>
<p class="indent">Bert’s typing habits are atrocious, and he really needs a better keyboard layout. You can arrow up and down this list, but that’s slow. <small>PAGEUP</small> and <small>PAGEDOWN</small> take you up and down a whole screen at a time, while <small>HOME</small> and <small>END</small> take you to the top and bottom, respectively. When I find a keymap I like, I press <small>ENTER</small>. I can then test the keymap, as shown in <a href="ch03.xhtml#ch03fig4">Figure 3-4</a>.</p>
<p class="indent">The keymap looked familiar, but many keymaps have similar names. Hitting <small>ENTER</small> brings up a field where I can hammer on the keyboard to test whether the keymap fits what I think I picked. If it looks good, <small>ENTER</small> brings me back to this screen, where I can hit the up arrow and <small>ENTER</small> to proceed.</p>
<p class="indent">The installer then asks me for a hostname, as <a href="ch03.xhtml#ch03fig5">Figure 3-5</a> shows.</p>
<div class="image"><span epub:type="pagebreak" id="page_32"/><a id="ch03fig4"/><img src="../images/f0032-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-4: To test or not?</em></p>
<div class="image"><a id="ch03fig5"/><img src="../images/f0032-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-5: Entering a hostname</em></p>
<p class="indent">I’m my own network administrator, so I can use any name I want. Your organization might have different rules. Hit <small>ENTER</small> to proceed.</p>
<h3 class="h3" id="lev85"><strong>Distribution Selection</strong></h3>
<p class="noindent">While setting a keymap and a hostname are important, the first truly FreeBSD-specific item comes up when we choose distributions to install. In FreeBSD, a <em>distribution</em> is a particular subset of FreeBSD components. <span epub:type="pagebreak" id="page_33"/>When you install FreeBSD, you’ll need to pick which distributions you want. The installer doesn’t list any mandatory selections: you must have a kernel and the basic userland. Some parts are optional, however (see <a href="ch03.xhtml#ch03fig6">Figure 3-6</a>).</p>
<div class="image"><a id="ch03fig6"/><img src="../images/f0033-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-6: Distributions</em></p>
<p class="indentb">You don’t need any of these, but some will be very useful for certain situations.</p>
<p class="hang"><strong>base-dbg</strong> Debugging symbols for the base system, useful to programmers</p>
<p class="hang"><strong>doc</strong> FreeBSD’s official documentation, such as the Handbook</p>
<p class="hang"><strong>kernel-dbg</strong> Debugging symbols for the kernel, useful to programmers</p>
<p class="hang"><strong>lib32-dbg</strong> Debugging symbols for 32-bit libraries (only on 64-bit systems)</p>
<p class="hang"><strong>lib32</strong> 32-bit compatibility libraries (only on 64-bit systems)</p>
<p class="hang"><strong>src</strong> Source code of installed operating system</p>
<p class="hang"><strong>tests</strong> FreeBSD’s self-test tools</p>
<p class="indentt">If you’re programming or developing on FreeBSD, or developing FreeBSD itself, arrow up and down to select the debugging libraries. New users might find the documentation helpful. Use the spacebar to select and deselect an option, and <small>ENTER</small> to proceed to disk partitioning.</p>
<p class="indent">I recommend always installing the operating system source code. It takes up very little space and can be an invaluable resource.</p>
<p class="indent">In my case, I want Bert to bother me as little as possible. I give him all the debugging libraries and the system source code, so if he whinges I can tell him to read <em>/usr/src</em>.</p>
<h3 class="h3" id="lev86"><span epub:type="pagebreak" id="page_34"/><strong>Disk Partitioning</strong></h3>
<p class="noindent">FreeBSD supports two primary filesystems: UFS and ZFS (see <a href="ch03.xhtml#ch03fig7">Figure 3-7</a>). <a href="ch02.xhtml#ch02">Chapter 2</a> discusses choosing between them, so I won’t cover that again. Now I need to stop waffling and make a choice.</p>
<div class="image"><a id="ch03fig7"/><img src="../images/f0034-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-7: Choosing a filesystem</em></p>
<p class="indent">Experienced users can select Manual or, for the hardcore, Shell. I’m letting you follow along, though, so I’ll either choose Auto (UFS) or Auto (ZFS). I’ll use UFS to demonstrate disk partitioning and then go on to ZFS.</p>
<h4 class="h4" id="lev87"><strong><em>UFS Installs</em></strong></h4>
<p class="noindent">Because the default UFS install is straightforward and many people use the default options just fine, I’m choosing some more obscure options to demonstrate using bsdinstall. I’m asked first how much of the disk I want to use, as shown in <a href="ch03.xhtml#ch03fig8">Figure 3-8</a>.</p>
<p class="indent">If Bert wants to use multiple operating systems, he can fire up a hypervisor. I hit <small>ENTER</small> to use the whole disk. A pop-up appears, warning me that I’m about to erase the disk. Yes, I am. That’s the point. Select <strong>Yes</strong>. I’m then asked to choose a partition scheme, as shown in <a href="ch03.xhtml#ch03fig9">Figure 3-9</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_35"/><a id="ch03fig8"/><img src="../images/f0035-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-8: Disk use</em></p>
<div class="image"><a id="ch03fig9"/><img src="../images/f0035-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-9: Partition schemes</em></p>
<p class="indent">Bsdinstall conservatively defaults to using MBR partitions. Just about everything supports MBR partitions, much like everything supports BIOS rather than EFI, but GPT will cause me much less pain later. I arrow up one space and select GPT, bringing up the default GPT partitioning (see <a href="ch03.xhtml#ch03fig10">Figure 3-10</a>).</p>
<div class="image"><span epub:type="pagebreak" id="page_36"/><a id="ch03fig10"/><img src="../images/f0036-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-10: Default GPT partitioning</em></p>
<p class="indent">You can hit <small>ENTER</small> right now to finish your UFS partitions, but I’m certain Bert needs special treatment. Let’s create special partitioning just for him.</p>
<p class="indent">Every GPT system needs a freebsd-boot partition, so leave ada0p1 alone. Arrow down to ada0p2, and either hit D or arrow over to the Delete button to blow it away. Do the same for ada0p3, leaving you with a single partition and a bunch of empty space, as seen in <a href="ch03.xhtml#ch03fig11">Figure 3-11</a>.</p>
<div class="image"><a id="ch03fig11"/><img src="../images/f0036-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-11: Only the boot loader</em></p>
<p class="indent">Now decide how you want this disk partitioned. The disk has 16GB of space, which I’m dividing up as follows:</p>
<ul>
<li class="noindent">512KB freebsd-boot EFI boot partition</li>
<li class="noindent">1GB swap</li>
<li class="noindent"><span epub:type="pagebreak" id="page_37"/>4GB emergency dump space (see <a href="ch24.xhtml#ch24">Chapter 24</a>)</li>
<li class="noindent">1GB root (/)</li>
<li class="noindent">512MB /tmp</li>
<li class="noindent">2GB /var</li>
<li class="noindent">Everything else in <em>/usr</em></li>
</ul>
<p class="indent">The boot partition already exists, so I arrow over to Create or just hit C to add the first partition, bringing up the dialog in <a href="ch03.xhtml#ch03fig12">Figure 3-12</a>.</p>
<div class="image"><a id="ch03fig12"/><img src="../images/f0037-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-12: Adding a new partition</em></p>
<p class="indent">The arrow keys will move you between the options at the bottom of the screen, but you’ll need the <small>TAB</small> key to bounce up into the text area at the top. Once you’re in the text area, the arrow keys will move you from field to field and back and forth in each line. Our first partition will be swap space, so use the <small>DELETE</small> key to erase the contents of the Type field and enter <em>freebsd-swap</em>. Set the size to 1GB. Every partition should have a label, so I label this <em>swap0</em>. We discuss labels in <a href="ch10.xhtml#ch10">Chapter 10</a>.</p>
<p class="indent">Now hit <small>TAB</small> to leave the text boxes and select <strong>OK</strong>.</p>
<p class="indent">I’m pretty sure that Bert is going to panic this machine and do it in such a terrible way that I’m going to have to dump all of the host’s memory to disk. The host has 4GB of RAM, so I create a 4GB dump partition. It’ll look exactly like the swap space, including a type of <em>freebsd-swap</em>, but I set the size to 4GB and label it <em>dump0</em>.</p>
<p class="indent">The root partition is a little different, as shown in <a href="ch03.xhtml#ch03fig13">Figure 3-13</a>. The root partition needs a filesystem, so set the type to <em>freebsd-ufs</em>. I’ve decided to allocate it 1GB. The root partition always has a mountpoint of <em>/</em>, and I label it <em>root</em>.</p>
<div class="image"><span epub:type="pagebreak" id="page_38"/><a id="ch03fig13"/><img src="../images/f0038-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-13: Adding the root partition</em></p>
<p class="indent">The remaining partitions for <em>/tmp</em>, <em>/var</em>, and <em>/usr</em> all look similar. When you’ve used up all the disk space, you’ll get a partition table much like that in <a href="ch03.xhtml#ch03fig14">Figure 3-14</a>.</p>
<div class="image"><a id="ch03fig14"/><img src="../images/f0038-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-14: Complete custom GPT/UFS partition table</em></p>
<p class="indent">The installer asks me whether I’m sure. This layout should keep Bert from complaining that log files have overflowed his system, so I’m content. Select <strong>Finish</strong> to partition the disk and have the install proceed.</p>
<h4 class="h4" id="lev88"><span epub:type="pagebreak" id="page_39"/><strong><em>ZFS Installs</em></strong></h4>
<p class="noindent">If I choose ZFS, I’ll get the ZFS configuration screen shown in <a href="ch03.xhtml#ch03fig15">Figure 3-15</a>.</p>
<div class="image"><a id="ch03fig15"/><img src="../images/f0039-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-15: ZFS configuration</em></p>
<p class="indent">The default option is Install, which will give you an error because you haven’t selected a ZFS virtual device type yet. You’ll need to start with Pool Type/Disks. Before we get there, though, let’s look at the other choices.</p>
<p class="indent">The default name of a FreeBSD root ZFS pool is <em>zroot</em>. There’s no real reason to change this, unless you want your system to look different than any other ZFS system out there or your organization has standards for naming pools.</p>
<p class="indent">The Force 4K Sectors option is important for reasons we’ll discuss in <a href="ch10.xhtml#ch10">Chapter 10</a>. Unless you know for absolutely certain that your disks have 512-byte sectors, leave this option at Yes.</p>
<p class="indent">If you choose Encrypt Disks, you’ll be prompted for a passphrase for full-disk encryption. FreeBSD uses GELI for ZFS encryption (see <a href="ch23.xhtml#ch23">Chapter 23</a>), although when ZFS gets native encryption this might change.</p>
<p class="indent">For Partition Scheme, choose GPT. If your host can reasonably run ZFS, it supports GPT.</p>
<p class="indent">How much swap space do you need? Adjust Swap Size as necessary. I want this host to have enough space for a full kernel memory dump, because Bert, so I adjust the swap size to 4GB.</p>
<p class="indent">Hosts with multiple hard drives can use swap partitions on multiple drives. When a drive containing a swap partition fails, the host loses everything in that swapped-out chunk of memory and crashes. Choosing Mirror Swap gives your swap space redundancy but uses more disk space.</p>
<p class="indent">Should you choose Encrypt Swap? There’s very little performance cost and, in case your hard drives are stolen, potential advantages.</p>
<p class="indent"><span epub:type="pagebreak" id="page_40"/>Now go up and choose Pool Type/Disks to select a ZFS virtual device type, as shown in <a href="ch03.xhtml#ch03fig16">Figure 3-16</a>.</p>
<div class="image"><a id="ch03fig16"/><img src="../images/f0040-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-16: Virtual device selection</em></p>
<p class="indent"><a href="ch12.xhtml#ch12">Chapter 12</a> discusses ZFS virtual devices at length. Selecting a virtual device type is the most important decision you’ll make for a ZFS system. For a single-disk host, however, the only viable option is <em>stripe</em>. Select it and you’ll get an option to choose the hard drives in your ZFS pool (see <a href="ch03.xhtml#ch03fig17">Figure 3-17</a>).</p>
<div class="image"><a id="ch03fig17"/><img src="../images/f0040-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-17: ZFS disk selection</em></p>
<p class="indent">Use the spacebar to select the disks you want to include in this pool. As this host has only one disk, I select it and then select OK to continue.</p>
<p class="indent"><span epub:type="pagebreak" id="page_41"/>The installer returns me to the main ZFS configuration screen. I double-check my selections (GPT partitioning and 4GB swap) and then arrow up to select Install. The installer gives me a final “Are you really, really sure?” warning. I’m sure.</p>
<h3 class="h3" id="lev89"><strong>Network and Service Configuration</strong></h3>
<p class="noindent">Once you approve the disk layout, bsdinstall writes the new partition table to disk, creates filesystems, and extracts the distributions you’ve chosen without further intervention. The installer moves on to set up the network, services, and users.</p>
<p class="indent">First, you are prompted for the system’s new root password. The root user can do absolutely anything to the system, so make it a good password. You’ll have to enter it twice to have it accepted.</p>
<p class="indent">Arrow up and down to choose a network interface. This host has only a single interface, so I hit <small>ENTER</small> to configure it (see <a href="ch03.xhtml#ch03fig18">Figure 3-18</a>).</p>
<div class="image"><a id="ch03fig18"/><img src="../images/f0041-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-18: Selecting network interface</em></p>
<p class="indent">Next, we’re asked whether we want to configure IPv4 for this interface. If you’re not sure what IPv4 is, but you want internet, select <strong>Yes</strong>. I certainly do. We’re then asked whether we want to use DHCP to automatically configure networking. If this is a disposable system, then probably, but this is going to be Bert’s personal server. It needs a special network configuration. I select No and bring up the Network Configuration screen, shown in <a href="ch03.xhtml#ch03fig19">Figure 3-19</a>.</p>
<p class="indent">Your cursor is already up in the text area. Use the arrow keys to move down, not <small>TAB</small> or <small>ENTER</small>. See how OK is highlighted? Once you hit <small>ENTER</small>, the installer proceeds to the next screen whether you’ve set up the network or not. Fill in the appropriate values for the IP address, subnet mask, and default gateway. If you don’t know what these are, you should’ve used DHCP <span epub:type="pagebreak" id="page_42"/>or read <a href="ch07.xhtml#ch07">Chapter 7</a>. Don’t worry about making a mistake here; if you goof, the last screen of the installer offers a chance to change the network configuration. Hit <small>ENTER</small> when you’re done.</p>
<div class="image"><a id="ch03fig19"/><img src="../images/f0042-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-19: Network configuration</em></p>
<p class="indent">Once you’ve configured IPv4, the installer proceeds to IPv6. You’re all on modern networks, so go ahead and configure it. The IP address, netmask, and default router settings are much like IPv4. The installer also supports SLAAC, also known as <em>DHCP for IPv6</em>. If you’re still on a decrepit IPv4-only network, though, skip IPv6.</p>
<p class="indent">You’re then given the option to configure DNS. Here, I enter the search domains and nameservers for my network (see <a href="ch03.xhtml#ch03fig20">Figure 3-20</a>).</p>
<div class="image"><a id="ch03fig20"/><img src="../images/f0042-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-20: Resolver configuration</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_43"/>If you have IP address information for your network but don’t know the search domains and the name server IP addresses, copy those values from another machine.</p>
<p class="indent">The installer now requests the host’s time zone. Rather than dumping all the time zones on you in a giant list, you get a series of hierarchical menus, as shown in <a href="ch03.xhtml#ch03fig21">Figure 3-21</a>.</p>
<div class="image"><a id="ch03fig21"/><img src="../images/f0043-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-21: Time zone selector</em></p>
<p class="indent">Choose your continent. You’ll then be asked for a region. I choose United States—Bert’s in Europe, yes, but I want him to be painfully aware that if he requests help during his mornings, he’s not going to get it. Remember that the <small>END</small> and <small>HOME</small> keys take you to the top and bottom of these long lists; it’s much faster to get to the United States by hitting <small>END</small> and going up a couple spots than to page through every country in the Western Hemisphere, including all those little islands. I then get to choose from any time zone in the United States. US citizens will once again be reminded that many states have really messed-up time zones.<sup><a href="footnote.xhtml#ch03fn2" id="ch03fn2a">2</a></sup> Even my home of Michigan isn’t innocent. But I choose Michigan and am given a chance to confirm my choice (see <a href="ch03.xhtml#ch03fig22">Figure 3-22</a>).</p>
<p class="indent">I recognize EDT, or Eastern Daylight Time. If I didn’t, I’d select No and try again.</p>
<p class="indent">The next few screens give you the option to set the system clock. Weirdly, the default is set to Skip. While you can enter the time and datehere, it’s much easier to set the time from the network, as we’ll do later.</p>
<p class="indent">Now we can enable a few services at system startup, as shown in <a href="ch03.xhtml#ch03fig23">Figure 3-23</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_44"/><a id="ch03fig22"/><img src="../images/f0044-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-22: US time zones</em></p>
<div class="image"><a id="ch03fig23"/><img src="../images/f0044-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-23: Startup services</em></p>
<p class="indent">Most hosts need SSH, and you should <em>always</em> enable kernel crash dumps. Other services might not fit your network, though. I always enable <span class="literal">ntpd</span> (see <a href="ch20.xhtml#ch20">Chapter 20</a>) and <span class="literal">local_unbound</span> (see <a href="ch08.xhtml#ch08">Chapter 8</a>) so that the host’s clock synchronizes itself to the public NTP servers and keeps a local DNS cache, but if your host doesn’t have access to the public internet, they aren’t as useful. Laptop users might investigate moused(8) and powerd(8).</p>
<p class="indent">We then get the system hardening options shown in <a href="ch03.xhtml#ch03fig24">Figure 3-24</a>.</p>
<div class="image"><span epub:type="pagebreak" id="page_45"/><a id="ch03fig24"/><img src="../images/f0045-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-24: Hardening options</em></p>
<p class="indent">We discuss the hardening options at length in <a href="ch19.xhtml#ch19">Chapter 19</a>. If this is your first install, and you want to have a gentle learning experience, leave them all off. If you want to learn how to work on a more properly secured system, select everything. I enable every hardening option on all of my hosts, and learning to work with improved security will be good for Bert.</p>
<p class="indent">Now we can add a user to the system (see <a href="ch03.xhtml#ch03fig25">Figure 3-25</a>). I recommend adding at least one unprivileged user to each system so that you can log on to the newly installed host without going straight to <em>root</em>. If you have a provisioning system such as Ansible that requires a user account, create that account here. This host is for Bert, so I’m giving him an account.</p>
<div class="image"><a id="ch03fig25"/><img src="../images/f0045-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-25: Adding a user</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_46"/><a href="ch09.xhtml#ch09">Chapter 9</a> discusses creating user accounts in detail, but I’ll give some reasonable settings for the first account here. Bert’s preferred account name is <em>xistence</em>, and I’ll indulge him in it. I fill in his first name, and just hit <small>ENTER</small> to take the default <em>Uid</em> and <em>Login group</em>. He’s the primary user on this system, so I add him to the wheel group, allowing him to use the root password. He gets the tcsh shell because it’s my favorite.</p>
<p class="indent">If you have a policy on where user home directories go, follow it. Otherwise, take the defaults. Similarly, while you can adjust the password settings to fit the default, generally speaking, it’s easiest to type the user’s password. Many people recommend a password like <em>ChangeMe</em>, but I prefer to go with passwords that actively encourage users to change them as soon as possible—maybe something like <em>BertIsTheWorstIMeanTheWorstHumanBeingEver</em>.<sup><a href="footnote.xhtml#ch03fn3" id="ch03fn3a">3</a></sup> And if I lock out the account after I create it, I’ll need to unlock it only when he wants to use the machine.</p>
<p class="indent">After adding one user, I’m asked whether I want to add another. If I add an account for myself, I’ll bear partial liability for this host. I say No.</p>
<h3 class="h3" id="lev90"><strong>Finishing the Install</strong></h3>
<p class="noindent">The core configuration, shown in <a href="ch03.xhtml#ch03fig26">Figure 3-26</a>, is all done! I then get a chance to go back and tweak some settings.</p>
<div class="image"><a id="ch03fig26"/><img src="../images/f0046-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-26: Final configuration</em></p>
<p class="indent">Most of these options come straight from earlier in the install process. Do you want to go back to change the network configuration? Choose <strong>Network</strong>. Should you add another user or enable more services? Did you enter the wrong password? This is your chance to right those wrongs.</p>
<p class="indent">When you think you’re ready, select <strong>Exit</strong> to discover you don’t have to be done.</p>
<p class="indent"><span epub:type="pagebreak" id="page_47"/>The installer covers the basics, but every environment is unique. Manual configuration offers a command prompt chrooted into the system that gives you the chance to make any final changes (see <a href="ch03.xhtml#ch03fig27">Figure 3-27</a>). Choose No and you’ll be told to remove the boot media and reboot. I often find tweaking a host before its first boot simplifies my life, so I choose Yes.</p>
<div class="image"><a id="ch03fig27"/><img src="../images/f0047-01.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-27: Manual configuration</em></p>
<p class="indent">I’m chrooted into the installed host with a root shell. The exact tasks you perform here depend entirely on your network. <a href="ch09.xhtml#ch09">Chapter 9</a> discusses chflags(8) and schg. Now I type <span class="literal">exit</span>, as shown in <a href="ch03.xhtml#ch03fig28">Figure 3-28</a>.</p>
<div class="image"><a id="ch03fig28"/><img src="../images/f0047-02.jpg" alt="image"/></div>
<p class="figcap"><em>Figure 3-28: Final shell configuration</em></p>
<p class="indent">Then I reboot, pull the installation media, and boot into a complete FreeBSD install!<span epub:type="pagebreak" id="page_48"/></p>
</body></html>