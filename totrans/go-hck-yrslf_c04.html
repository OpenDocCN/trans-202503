<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en">
	<head>
		<title>Chapter 4: Online Reconnaissance and Self-Defense</title>
		<link href="NSTemplate_v1.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:af29b7b1-e841-4e64-a1ef-e03d2d2c1d42" name="Adept.expected.resource"/>
	</head>
	<body epub:type="bodymatter chapter">
		<section>
			<header>
				<h1 class="chapter"><span class="ChapterNumber"><span epub:type="pagebreak" id="Page_31" title="31"/>4</span><br/><span class="ChapterTitle">Online Reconnaissance and Self-Defense</span></h1>
			</header>
			<figure class="opener">
				<img alt="" src="image_fi/book_art/chapterart.png"/>
			</figure>
			<p class="ChapterIntro">The first step in most hacking is <em>reconnaissance</em>, or <em>recon</em>. In a military operation, recon involves surveying enemy territory or observing a target. In the hacking world, attackers perform recon online. They gather information about companies, networks, and individuals using regular search engines (like Google), social media platforms, and specialized tools. Then they use the information to plan the next stage of a hack.</p>
			<p>
				In this chapter, you’ll use Google to find information about yourself and look for usernames and passwords with <em>Google hacking</em>. Then you’ll do further recon using social media, and you’ll learn how to protect yourself by limiting what information you share online. Information you don’t share is information an attacker can’t use!</p>
			<h2 id="h1-502000c04-0001"><span epub:type="pagebreak" id="Page_32" title="32"/>Google Yourself (Before Your Enemy Does)</h2>
			<p class="BodyFirst">An attacker can use public information for a <em>phishing</em> attack, in which they pretend to be someone you know and send a fake email asking for personal information like your password. Many company websites have a staff listing or employee directory with all the names and email addresses an attacker would need to launch a phishing attack, or worse.</p>
			<p>
				Let’s find out what an attacker could see about you. Open a web browser and search for your own name. I searched for my own name in Google, as shown in <a href="#figure4-1" id="figureanchor4-1">Figure 4-1</a>.</p>
			<figure>
				<img alt="f04001" class="" src="image_fi/502000c04/f04001.png"/>
				<figcaption>
					<p><a id="figure4-1">Figure 4-1</a>: Search on your own name in your favorite search engine.</p>
				</figcaption>
			</figure>
			<p>Anyone on the internet can find out what I do, where I work, and that I’ve written books and published online courses in coding and cybersecurity. Clicking the result links turns up a lot more information, including the kind of car I drove in 2018 and some of my email addresses. Similarly, you may appear in photos from work events, news articles, sports teams, church or nonprofit groups, and social media pages and posts. Your name or image might even appear in articles about your family or a high school or college reunion—things you didn’t realize were on the internet.</p>
			<p>It often takes just a few minutes’ reconnaissance to discover where someone works, where they live, their age, who their family members are, and more. Any one of these pieces of information alone might not be particularly worrisome, but if enough information is available, an attacker could build a complete profile on you, filled with family members’ names and birthdates, pets’ names, work and home locations, and so on. Armed with this information, an attacker may be able to answer your password security questions, guess one of your passwords entirely, or pose as someone you know in order to extract even more information from you.</p>
			<p>
				It’s harder than ever to protect your personal information, but a little awareness can help you avoid some common mistakes. And a few skills will help you find information that may already have been leaked about <span epub:type="pagebreak" id="Page_33" title="33"/>you, your company, or your family, including your online accounts and passwords.</p>
			<h2 id="h1-502000c04-0002">Advanced Google Searching</h2>
			<p class="BodyFirst">A simple web search is good recon, but the real power of Google—Google hacking—comes from using advanced search commands. With advanced searches, you can find usernames, passwords, security camera feeds, and more. However, Google hacking techniques also put you at greater risk of accidentally downloading malware. For protection, be sure to use these defenses:</p>
			<ul>
				<li>Conduct your research inside the Kali Linux virtual machine you set up in Chapter 3. Remember: actions you perform in a VM usually don’t affect your computer, so the VM provides a layer of security. If you open an infected file in your VM, you can simply delete and reinstall the virtual machine.</li>
				<li>Check whether links have been infected with viruses before you click them. This is always a good security measure, even inside a VM. VirusTotal is a free online tool that scans web pages, files, and links for malware. We’ll use VirusTotal in the next section to scan a file of passwords before opening it.</li>
				<li>Make sure your computer has antivirus software installed in case you accidentally click a link outside a VM and any malware gets on your computer during your research.</li>
			</ul>
			<p>
				Google hacking hinges on the sophisticated use of <em>search operators</em>, the symbols or words that make your search results more precise. You’re probably familiar with some basic search operators already. For example, putting quotation marks (“ ”) around a phrase searches for the exact phrase, instead of individual words in the phrase. Using the operators <em>AND</em> and <em>OR</em> can help you find pages with both words (<em>3D</em> AND <em>printer</em>) or either word (<em>coding</em> OR <em>cyber</em>).</p>
			<p>
				Other search operators are less well-known, but they can be powerful hacking tools. For example, the operator <code>ext:</code> searches for specific <em>file extensions</em>, or the filename endings for different types of files. Examples include <em>docx</em> for Microsoft Word documents, <em>txt</em> for plaintext, <em>pdf</em> for PDF files, <em>xlsx</em> for Microsoft Excel spreadsheets, and so on. The operator <code>site:</code> searches for results on specific sites; you might search for <code>site:nostarch.com</code> or <code>site:</code><var>yourcompany.com</var>.</p>
			<p>
				Hackers know how to use these operators to find specific types of files that might have more valuable information, like the default password for a particular kind of video surveillance camera stored in the online PDF version of the camera’s user manual. An ethical hacker performing recon for a client can use these targeted search terms to help a company remove <span epub:type="pagebreak" id="Page_34" title="34"/>sensitive data unintentionally exposed to public view online, like a budget spreadsheet that shows what brand of video surveillance camera a company purchased last year.</p>
			<h3 id="h2-502000c04-0001">Finding Passwords with the ext: Operator</h3>
			<p class="BodyFirst">The internet is full of sensitive information like people’s usernames and passwords if you know where—and how—to look. Let’s try using the <code>ext:</code> search operator to find spreadsheets containing passwords.</p>
			<p>
				In your virtual machine, open the web browser, go to <em>https://www.google.com/</em>, and type <code class="bold">ext:xls password</code> into the search field, as shown in <a href="#figure4-2" id="figureanchor4-2">Figure 4-2</a>.</p>
			<p>
				Remember <em>not</em> to click any of the results, as a skilled attacker could easily hide a virus or ransomware in an infected spreadsheet file (or make an infected web page look like a spreadsheet to the search engine). <em>Ransomware</em> is a nasty type of malware that encrypts all your files and demands that you pay a ransom to get your data back, so be careful!</p>
			<p>
				You’ll likely find dozens of usernames and passwords right in the search page, and you can add additional search terms to target the search even further. For example, I added DCCC to my search (short for Democratic Congressional Campaign Committee), and the top result in <a href="#figure4-2">Figure 4-2</a> shows 2016 US election campaign passwords allegedly stolen by hackers attempting to interfere in the 2016 US presidential election.</p>
			<figure>
				<img alt="f04002" class="" src="image_fi/502000c04/f04002.png"/>
				<figcaption>
					<p><a id="figure4-2">Figure 4-2</a>: Typing <span class="LiteralInCaption"><code>ext:xls password</code></span> finds Excel spreadsheets filled with usernames and passwords.</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_35" title="35"/>Once you’ve found a search result you’re interested in, follow these steps:</p>
			<ol class="decimal">
				<li value="1">Copy the URL of one of the files: highlight the link address in the Google results, right-click or <span class="KeyCaps">CONTROL</span>-click (on a Mac), and select <b>Copy link address</b> or <b>Copy link location</b>.</li>
				<li value="2">Open VirusTotal (<a class="LinkURL" href="https://www.virustotal.com">https://www.virustotal.com</a><em>/</em>) in a new browser tab, click the <b>URL</b> tab, and paste the copied URL into the search field, as shown in <a href="#figure4-3" id="figureanchor4-3">Figure 4-3</a>.
					<figure>
						<img alt="f04003" class="" src="image_fi/502000c04/f04003.png"/>
						<figcaption>
							<p><a id="figure4-3">Figure 4-3</a>: Check suspicious web links before clicking them by scanning them through VirusTotal.</p>
						</figcaption>
					</figure>
					</li>
				<li value="3">Click the search icon (the magnifying glass) to scan the link. In <a href="#figure4-4" id="figureanchor4-4">Figure 4-4</a>, VirusTotal has scanned the password spreadsheet file with more than 60 different antivirus engines, and none of them found any sign of infection.</li>
			</ol>
			<p>At this point, an unethical hacker would open one or more of the spreadsheets to see if they could find usable login and password information. As ethical hackers, we can choose to respect people’s privacy and not open the file. Or, if we were performing the search on behalf of a client, we could check the file and let them know their information might be exposed online.</p>
			<span epub:type="pagebreak" id="Page_36" title="36"/>
			<figure>
				<img alt="f04004" class="" src="image_fi/502000c04/f04004.png"/>
				<figcaption>
					<p><a id="figure4-4">Figure 4-4</a>: The password spreadsheet we selected appears safe to open.</p>
				</figcaption>
			</figure>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>	Files may contain advanced malware that doesn’t show up in any normal virus scans on VirusTotal. That’s one of the reasons we’re carrying out this exercise in a virtual machine, instead of directly on your computer.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>
				Try the search again, but now type <code class="bold">ext:txt</code> or <code class="bold">ext:pdf</code> to check for other file types containing passwords.</p>
			<p>
				Now try searching specifically for your own information. Search for your username and the word <em>password</em>, adding the <code>ext:</code> operator to look for various file types (for example, <code>bryson_payne AND password ext:xls</code>). <em>Never type your actual password into Google or any other search engine.</em></p>
			<p>If you find a password of your own posted online, change it immediately.</p>
			<h3 id="h2-502000c04-0002">Finding Passwords with the site: Operator</h3>
			<p class="BodyFirst">You can use the <code>site:</code> search operator to look for leaked passwords on a specific website. For example, in <a href="#figure4-5" id="figureanchor4-5">Figure 4-5</a>, I’ve typed <code>site:ung.edu password</code> into Google to find out whether any student or faculty passwords from my university, the University of North Georgia, are stored on our public web server. This actually happens more often than you’d think—sometimes a private file or folder accidentally gets stored on a public server, or a teacher or administrator might put a password file up temporarily for new users and forget to remove it.</p>
			<span epub:type="pagebreak" id="Page_37" title="37"/>
			<figure>
				<img alt="f04005" class="" src="image_fi/502000c04/f04005.png"/>
				<figcaption>
					<p><a id="figure4-5">Figure 4-5</a>: Use the <span class="LiteralInCaption"><code>site:</code></span> search operator to search for results on a specific organization’s website.</p>
				</figcaption>
			</figure>
			<p>As you can see, there are no text files or spreadsheets listed, but the bottom result is an old news article about the default password assigned to incoming university students. At the time that article appeared, an attacker could have used the default password information to guess thousands of students’ initial passwords.</p>
			<p>
				You can also combine the <code>site:</code> operator with other operators. For example, <code>ext:pdf site:ung.edu bryson_payne AND password</code> searches for PDF files on my university’s website that contain my username and the word <em>password</em>.</p>
			<p>These are just a few of the search operators you can use in Google to find sensitive information. Over the years, other hackers have created a database of Google hacks to record useful search operator combinations.</p>
			<h3 id="h2-502000c04-0003">The Google Hacking Database</h3>
			<p class="BodyFirst">The <em>Google Hacking Database</em> <em>(GHDB)</em> is a public listing of thousands of Google search operator combinations that can be used to find passwords, specific types of devices or equipment connected to the internet, particular web applications with vulnerabilities, and more.</p>
			<p>
				GHDB was a project started by Johnny Long of Hackers for Charity; the database is now maintained by Offensive Security, the same team that supports Kali Linux and other hacking and security tools. You can find the GHDB at <a class="LinkURL" href="https://www.exploit-db.com/google-hacking-database/">https://www.exploit-db.com/google-hacking-database/</a> or by searching for “Google Hacking Database” in your search engine.</p>
			<p>
				Go to the GHDB at <a class="LinkURL" href="https://www.exploit-db.com/google-hacking-database/">https://www.exploit-db.com/google-hacking-database/</a> and enter <code class="bold">password</code> in the search box, as shown in <a href="#figure4-6" id="figureanchor4-6">Figure 4-6</a>. The database will display all <em>search queries</em> (combinations of operators and text to search for) that contain the word <em>password</em>.</p>
				<span epub:type="pagebreak" id="Page_38" title="38"/>
				<figure>
				<img alt="f04006" class="" src="image_fi/502000c04/f04006.png"/>
				<figcaption>
					<p><a id="figure4-6">Figure 4-6</a>: The Google Hacking Database password search queries</p>
				</figcaption>
			</figure>
			<p>Clicking any of the entries in the GHDB will show information about that specific search query, and you can even go directly to Google and try the search.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">WARNING</span></h2>
					<p>	Remember to use an online scanner like VirusTotal to check any files or sites you find before accessing them.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
			<p>
				Hackers refer to advanced searches like the ones found on the GHDB as <em>Google dorks</em> and to the process of using them as <em>dorking</em>. Attackers use dorking not only to find spreadsheets of usernames and passwords but also to find product PDFs with default administrator passwords, or to find vulnerable devices like surveillance cameras or even building thermostat controls that have web interfaces, to name a few examples. A Google dork like <code>intext:username ext:log</code> can expose server logs that might contain useful information like database usernames and passwords. Advanced search techniques like these save hackers tons of time.</p>
			<h3 id="h2-502000c04-0004">How Ethical Hackers Use Google</h3>
			<p class="BodyFirst">If a company hires an ethical hacker to test its security, the hacker will keep their reconnaissance searches focused on the company, its vendors and suppliers, employees, customers, and so on. If the hacker discovers passwords or other sensitive information in the course of their reconnaissance, they would inform the company so it could lock the accounts, have users change the passwords, or take other action as needed. You should approach any information you discover during your reconnaissance for this book in the same way.</p>
			<p>
				Suppose you find passwords from your office, your kids’ school, or your friends’ or family’s accounts. First, never try those passwords yourself; that would be as creepy and unethical as finding someone’s keys and trying to <span epub:type="pagebreak" id="Page_39" title="39"/>open that person’s front door without permission. An ethical hacker would report the potential password leak to an IT employee at the company or school, or they would tell the friend or family member that their password might be exposed and that they should immediately change the password for any account that uses that password or a similar one.</p>
			<h2 id="h1-502000c04-0003">Social Media and the Dangers of Oversharing</h2>
			<p class="BodyFirst">In addition to Google searches, hackers have another frighteningly easy reconnaissance tool at their disposal: social media. You might have been surprised—even a bit scared—to find out how much information Google already has about you. However, you may be leaking much more specific and sensitive information every day, or several times per day, through social media.</p>
			<p>Here’s a quick exercise you can do for yourself and share with friends or family: take five minutes to do a quick recon mission about yourself on your favorite social media account or accounts. Can you find out where you live, what kind of pets you have (and what their names are), where you work, or the names of your spouse and children? What about posts from your most recent birthday? From the date of the posts and the age mentioned (for example, if someone posted “Happy 29th Birthday!”), could an attacker figure out your exact date and year of birth? What else can you find about the places you go regularly, like sporting events, and the people you spend time with?</p>
			<p>Posting information about your job, hobbies, kids, trips, pets, or weekend activities gives away your location and interests to potential attackers. An attacker who’s trying to get into your account will try to guess or reset your password using personal information they find online, like a pet’s name, your birthday, or your favorite restaurant. Worse yet, if you post vacation photos while you’re still away from home, anyone with access to your posts could figure out your home might be empty and therefore less risky to break into.</p>
			<p>Even sharing a picture of your cat or dog can be dangerous, because the image file itself can give away your location, as you’ll see in the next section.</p>
			<h3 id="h2-502000c04-0005">Location Data—Social Media’s Unspoken Danger</h3>
			<p class="BodyFirst">Location data is automatically stored in most images taken with your smartphone, tablet, and many newer digital cameras. <em>Location data</em> usually means the <em>global positioning system (GPS)</em> coordinates, or the precise latitude and longitude of your phone or other device on Earth. Depending on the social media service you’re using (and your settings), you may be regularly streaming your location in every picture you post. A cute picture of your cat or dog taken at home with your smartphone can give away the exact location where you live.</p>
			<p><span epub:type="pagebreak" id="Page_40" title="40"/>To view location data and other information hidden in pictures, we’ll use Jeffrey’s Image Metadata Viewer (<a class="LinkURL" href="http://exif.regex.info/">http://exif.regex.info/</a>). You can upload a picture file or enter the URL of a picture online to find out if there’s any location data or other information in the image file.</p>
			<ol class="decimal">
				<li value="1">Go to <a class="LinkURL" href="https://www.nostarch.com/go-hck-yourself/">https://www.nostarch.com/go-hck-yourself/</a> and download <em>BrysonPayne-TEDx.jpg</em>, a picture of me taken a few years ago at a TEDx talk on coding and cybersecurity for kids.</li>
				<li value="2">Go to <a class="LinkURL" href="http://exif.regex.info/">http://exif.regex.info/</a>, click <b>Choose file</b>, and select the downloaded image file.</li>
				<li value="3">Check the reCAPTCHA box to confirm you’re not a robot and then click <b>View Image Data</b>. <a href="#figure4-7" id="figureanchor4-7">Figure 4-7</a> shows the hidden data (called <em>image metadata</em>).</li>
			</ol>
			<figure>
				<img alt="f04007a" class="" src="image_fi/502000c04/f04007a.png"/>
				<figcaption>
					<p><a id="figure4-7">Figure 4-7</a>: Image metadata reveals when, where, and even with which phone the photo was taken!</p>
				</figcaption>
			</figure>
			<p>The picture was taken on April 8, 2018, at latitude and longitude 34.530261N, 83.986075W—the exact GPS coordinates of the auditorium where I gave the talk! The stage is located at an altitude of 443 meters (1,453 feet) above sea level, and the photo was taken on an old iPhone 6S. All of that information, and more, is hidden inside every picture you snap with a smartphone by default, so be careful where and how you share your photos.</p>
			<p>Some social media apps intentionally post where you are as well. If you’ve ever seen someone “check in” at a cool location, that’s an example. But many of the other apps on your smartphone, from map apps to email and search engines, may also be tracking your location. It’s a good idea to check the security and/or privacy settings for all of the apps that you use regularly to see if you can turn off location services or use them only when needed.</p>
			<h3 id="h2-502000c04-0006"><span epub:type="pagebreak" id="Page_41" title="41"/>Protecting Yourself on Social Media</h3>
			<p class="BodyFirst">A little more caution is likely to protect you from sharing too much online. You also need to educate your friends, relatives, and coworkers—anyone who might take a picture of you in a group and post it to social media or say where you are at a specific time. Everyone needs to understand the importance of keeping a little more privacy in today’s hyperconnected world.</p>
			<p>Here are some of the steps you can take to protect yourself and those you care about from the dangers of social media oversharing:</p>
			<ol class="none">
				<li><span class="RunInHead">Think before you share. </span>  Before posting a picture or comment, pause to think about whether you need to share it right now (or at all). At least wait until you’re back home to brag about your amazing vacation. And remember that a thoughtless (or drunk) 2 <span class="KeyCaps">AM</span> social media post can be printed out, reposted, or worse. Every tweet, post, and snap becomes part of your permanent online reputation.</li>
				<li><span class="RunInHead">Change your default settings. </span>  Most social media apps are set by default to share way too much information with way too many people. Go into the security or privacy settings for the app or website and turn off location data (or location services), along with any other sensitive info you don’t want to share.</li>
				<li><span class="RunInHead">Limit who can see your posts. </span>  If a photo or comment gives out too much information about your daily activities, hobbies, or common places you hang out, share it privately with just the friends who’d enjoy the post.</li>
				<li><span class="RunInHead">Fix problems quickly.</span>  Report identity theft (to your local police and to your credit bureaus), fraud (to your bank and to the Federal Trade Commission at <a class="LinkURL" href="https://www.ftc.gov/">https://www.ftc.gov/</a>), other crimes (to the FBI at <a class="LinkURL" href="https://www.ic3.gov/">https://www.ic3.gov/</a>), and any cyberbullying or harassment (to your local authorities).</li>
			</ol>
			<p>Social media is a powerful connector, but it’s also a powerful tool for both criminal black hats and ethical white hat hackers to conduct recon and information gathering. Don’t overshare. Instead, be aware of your security and privacy settings, use social media wisely, and, if anyone uses social media against you, report it to the proper authorities right away.</p>
			<h2 id="h1-502000c04-0004">The Takeaway</h2>
			<p class="BodyFirst">In this chapter, you learned about free online tools, like search engines and image metadata viewers, that hackers use to gather information about you and the people you care about. Advanced search operators can pinpoint specific usernames and passwords either stolen or accidentally posted online. Image metadata viewers reveal sensitive information <span epub:type="pagebreak" id="Page_42" title="42"/>hidden inside pictures posted online, including the exact GPS coordinates of the location where the picture was taken and what kind of smartphone was used.</p>
			<p>You learned the importance of thinking before you share, being aware of your security and privacy settings, limiting who can see your posts, and reporting fraud and other cybercrimes quickly. As smart cyberdefenders, we have to balance convenience with security to protect ourselves and the people and organizations we care about.</p>
			<p>Each tool and technique discussed in this chapter can be used by ethical hackers to improve security and train people to protect themselves. But it can also be used by attackers to target victims. The first step in being prepared is to be aware of what information is already out there. Take control of what information you share online, and you’ll already be one step ahead of online attackers.</p>
		</section>
	</body>
</html>