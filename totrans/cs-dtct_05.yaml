- en: —6—
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Binary Search for Clues
  prefs: []
  type: TYPE_NORMAL
- en: Food inspectors,” Frank called out as he and Officer Notation stepped up the
    narrow gangplank and onto the ship. At Frank’s instigation, Notation waved her
    badge in a blur, too fast for anyone to read.
  prefs: []
  type: TYPE_NORMAL
- en: “Food inspectors?” asked a crew member. “We aren’t transporting any food.”
  prefs: []
  type: TYPE_NORMAL
- en: Frank looked the man over. He wasn’t an officer or hired security, probably
    just a sailor who had taken charge while the officers were away. It wasn’t uncommon.
    Smugglers rarely employed guards to watch their ships. It drew too much attention.
  prefs: []
  type: TYPE_NORMAL
- en: Frank turned on the sailor, growling out his words. “We’ll see about that. I’m
    told there’s a load of rotting eels on this dock, and I intend to find them.”
  prefs: []
  type: TYPE_NORMAL
- en: “Eels?” The sailor was clearly out of his depth.
  prefs: []
  type: TYPE_NORMAL
- en: “*Rotting* eels,” Frank shot back. “We’re going down to check the stores.” Then,
    without waiting for a response, he strode to the hatch leading below deck.
  prefs: []
  type: TYPE_NORMAL
- en: Notation hurried after him.
  prefs: []
  type: TYPE_NORMAL
- en: “We don’t have much time before they get the captain. We need to find the logbook,”
    Frank said as he climbed down the ladder. The logbook would contain a manifest
    of items shipped and a list of ports visited. The manifest would be fake, of course.
    Smuggling ships never documented their true cargo. But with any luck, he could
    read between the lies and find a clue.
  prefs: []
  type: TYPE_NORMAL
- en: 'Officer Notation found the logbook at the back of the hold and pulled it out.
    Frank checked the cover and swore:'
  prefs: []
  type: TYPE_NORMAL
- en: Manifest and Log of the *Retry Loop*
  prefs: []
  type: TYPE_NORMAL
- en: 'Captain: A. James'
  prefs: []
  type: TYPE_NORMAL
- en: 'Home Port: Usb'
  prefs: []
  type: TYPE_NORMAL
- en: 'Owner: Vinettees Shipping Group LLC'
  prefs: []
  type: TYPE_NORMAL
- en: After months of successfully avoiding the Vinettees, Frank had walked right
    onto one of their ships. He found himself reflexively scanning the hold for hidden
    henchmen, stashes of weaponized farm equipment, or evidence of a slug racetrack.
    Frank discarded the last possibility—everyone knew slugs wouldn’t race on a ship;
    it had something to do with being surrounded by large quantities of saltwater.
  prefs: []
  type: TYPE_NORMAL
- en: He shook his head and focused on the problem at hand. Frank had to find a clue
    before the Vinettees knew he was on the ship, or he might not get back off again.
    He turned to the end of the book and started flipping toward the front, one page
    at a time.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0040-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “What are you doing?” asked Notation.
  prefs: []
  type: TYPE_NORMAL
- en: “Looking for the last entry,” said Frank.
  prefs: []
  type: TYPE_NORMAL
- en: “One page at a time?” asked Notation. “There’s got to be a thousand pages. Why
    don’t you use binary search again? We just used it two minutes ago.”
  prefs: []
  type: TYPE_NORMAL
- en: Frank paused. He wasn’t looking for a specific page number, but he could still
    use a binary search to find the last entry. He would just refine the search bounds
    depending on whether the current page had text or not.
  prefs: []
  type: TYPE_NORMAL
- en: “Okay. Binary search,” he agreed.
  prefs: []
  type: TYPE_NORMAL
- en: He opened to the last page again and confirmed the book had exactly 1,000 pages,
    giving him a lower bound of page 1 and an upper bound of page 1,000\. He added
    the numbers, divided by 2, and computed a midpoint of 500\. He flipped to that
    page.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0041-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Pages 500 and 501 were both blank, so Frank knew the last written page was on
    or before 499—his new upper bound. After another midpoint computation, he flipped
    to page 250\. Again it was blank.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0041-02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “Looks like a new book,” added Notation. “Good thing you didn’t keep going from
    the back.”
  prefs: []
  type: TYPE_NORMAL
- en: Frank didn’t bother replying. With a lower bound of 1 and an upper bound of
    249, he computed a midpoint of 125\. This time he found writing, so he adjusted
    his lower bound accordingly to 125.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0042-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “187,” supplied Notation before Frank could finish the midpoint computation
    in his head. He turned to 187, again finding writing and adjusting his lower bound.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0042-02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “218,” said Notation. The pages were blank, so Frank adjusted his lower and
    upper bounds to 187 and 217, respectively.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0042-03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “202,” said Notation before Frank had even finished adding the upper and lower
    bounds.
  prefs: []
  type: TYPE_NORMAL
- en: “How are you doing that so fast?” asked Frank.
  prefs: []
  type: TYPE_NORMAL
- en: “Practice,” she replied. “We used to have binary search competitions at the
    academy whenever we needed a break from studying. I was undefeated.”
  prefs: []
  type: TYPE_NORMAL
- en: Frank shook his head. “Sounds like a wild time,” he muttered.
  prefs: []
  type: TYPE_NORMAL
- en: Pages 202 and 203 were filled. “210,” supplied Notation.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0043-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: At page 210, they finally found the last entry, detailing the *Retry Loop*’s
    last voyage. “What now?” asked Notation.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0043-02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: “We search for an interesting package or port. On the last voyage, they made
    about 70 entries. We’ll have to scan through them.”
  prefs: []
  type: TYPE_NORMAL
- en: “Exhaustive search?” asked Notation. “Can’t we use something more efficient?
    Aren’t the entries sorted by pickup and delivery time?”
  prefs: []
  type: TYPE_NORMAL
- en: “The sorting doesn’t help us here,” answered Frank. “We don’t know the time.
    Sorted data only helps when it’s sorted by a useful dimension. They didn’t bother
    to sort by suspiciousness. Go figure.”
  prefs: []
  type: TYPE_NORMAL
- en: “Oh. It’s the Weather Records problem,” said Notation.
  prefs: []
  type: TYPE_NORMAL
- en: “What problem?” asked Frank.
  prefs: []
  type: TYPE_NORMAL
- en: “It’s an illustration of how sorting data by the wrong value doesn’t help a
    search,” explained Notation. “Professor Drecker gave the example of finding the
    coldest day in the last 10 years. If the logs are sorted by day, you can use binary
    search to efficiently find any specific day. But that doesn’t help us to find
    the coldest day, so we’d still have to scan through all the data. I hadn’t expected
    to see such a clear example outside of class, though.”
  prefs: []
  type: TYPE_NORMAL
- en: “Welcome to the real world,” said Frank. “Out here, you have to check when the
    structure in the data is helpful to you and when it isn’t. Don’t worry, it’s a
    common rookie mistake.”
  prefs: []
  type: TYPE_NORMAL
- en: He could see Notation bristle at his words and tried not to enjoy her reaction
    too much. Every rookie came out of the academy thinking they knew it all, and
    every one had a lot to learn. Notation was getting off easy with a lecture. His
    own education with binary search had involved hours of scooping through barrels
    of pig waste while he questioned his career choice.
  prefs: []
  type: TYPE_NORMAL
- en: After about three minutes, they found their only clue. The *Retry Loop* had
    recently made two suspicious stops, at the Port of Mudwall and Frayed Cable Island.
    Even for smugglers, these were strange destinations. The Port of Mudwall boasted
    little trade beyond its outlying mud farms. And Frayed Cable Island was even more
    desolate; the small, rocky island possessed only a single building—the now abandoned
    Iron Ring Prison.
  prefs: []
  type: TYPE_NORMAL
- en: “There,” said Frank, pointing. “That’s where they took your documents. Either
    the Port of Mudwall or Frayed Cable Island. They probably dropped the documents
    off at one and picked up the payment at the other.”
  prefs: []
  type: TYPE_NORMAL
- en: “How do you know?” asked Notation. She looked skeptical. “Shouldn’t we consider
    all the ports as—”
  prefs: []
  type: TYPE_NORMAL
- en: Frank cut her off. “No time to check them all.” He didn’t elaborate. He was
    using his own brand of algorithm now, the heuristic searches that had gotten him
    in trouble with the captain in the past. But he had a gut feeling, and Frank had
    learned to trust his gut.
  prefs: []
  type: TYPE_NORMAL
- en: “Are you sure that—” Notation began, but was cut off by noises above them.
  prefs: []
  type: TYPE_NORMAL
- en: Frank couldn’t make out the words, but he could recognize the tone clearly.
    Trouble was on its way.
  prefs: []
  type: TYPE_NORMAL
- en: '**POLICE ALGORITHMS 101: BINARY SEARCH II**'
  prefs: []
  type: TYPE_NORMAL
- en: '***Excerpts from Professor Drecker’s Lecture***'
  prefs: []
  type: TYPE_NORMAL
- en: The key to efficient algorithms is information. In the case of binary search,
    we require that the data be sorted and that we have information on how that data
    is sorted. In order to rule out (or prune) large regions of the search space,
    the algorithm must be able to guarantee that the target value can’t be in that
    region. We can only do that if we know how the values behave as we move along
    the array. In computational problems, we say the array is sorted if all its values
    are arranged in increasing (or decreasing) order.
  prefs: []
  type: TYPE_NORMAL
- en: However, just because the data is sorted by *one* dimension doesn’t mean that
    you will be able to binary search along another dimension. Say you’re searching
    an accounting ledger for clues. Ledgers are sorted by transaction number, which
    indicates when the transaction was *recorded*. This means that the transaction
    number for each entry will be less than the transaction number for the following
    entry. If the current entry has a transaction number of 105, we know that all
    entries before it will have transaction numbers less than 105 and all entries
    after it will have transaction numbers greater than 105.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0045-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: However, this also means that the entries in other fields, such as the actual
    date of the transaction, the mechant’s name, or the transaction amount, are *not*
    in sorted order. What if you’re interested in finding transactions above a certain
    suspicious amount or with a known weapons merchant? Does the sorting help you
    here? No, you would still find yourself using an exhaustive linear search. Knowing
    that transaction 105 was at Zed’s Coffee doesn’t tell you anything about the merchants
    or amounts in transactions before or after that one.
  prefs: []
  type: TYPE_NORMAL
- en: Similarly, if you sorted the ledger in increasing order of transaction amount,
    this would allow you to quickly find all transactions costing $250, but it would
    not help you search for a given transaction date, ID, or merchant.
  prefs: []
  type: TYPE_NORMAL
