- en: —6—
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: —6—
- en: Binary Search for Clues
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找线索的二分查找
- en: Food inspectors,” Frank called out as he and Officer Notation stepped up the
    narrow gangplank and onto the ship. At Frank’s instigation, Notation waved her
    badge in a blur, too fast for anyone to read.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: “食品检查员，”弗兰克大声喊道，他和标注官一起走上了狭窄的跳板，登上了船。应弗兰克的要求，标注官挥动着徽章，动作太快，以至于没人能看清。
- en: “Food inspectors?” asked a crew member. “We aren’t transporting any food.”
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: “食品检查员？”一个船员问道。“我们没有运送任何食品。”
- en: Frank looked the man over. He wasn’t an officer or hired security, probably
    just a sailor who had taken charge while the officers were away. It wasn’t uncommon.
    Smugglers rarely employed guards to watch their ships. It drew too much attention.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克打量了一下那人。他不是军官或雇佣保安，可能只是一个在军官们离开时接管了指挥的水手。这并不罕见。走私者很少雇佣保安来看管他们的船，因为这样会引起太多注意。
- en: Frank turned on the sailor, growling out his words. “We’ll see about that. I’m
    told there’s a load of rotting eels on this dock, and I intend to find them.”
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克转身对着水手低吼道：“我们走着瞧。我听说这码头上有一批腐烂的鳗鱼，我打算找出来。”
- en: “Eels?” The sailor was clearly out of his depth.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: “鳗鱼？”水手显然感到手足无措。
- en: “*Rotting* eels,” Frank shot back. “We’re going down to check the stores.” Then,
    without waiting for a response, he strode to the hatch leading below deck.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: “*腐烂*的鳗鱼，”弗兰克反击道。“我们下去检查一下储藏室。”然后，他毫不等待回应，大步走向通往甲板下方的舱口。
- en: Notation hurried after him.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 标注赶紧跟了上去。
- en: “We don’t have much time before they get the captain. We need to find the logbook,”
    Frank said as he climbed down the ladder. The logbook would contain a manifest
    of items shipped and a list of ports visited. The manifest would be fake, of course.
    Smuggling ships never documented their true cargo. But with any luck, he could
    read between the lies and find a clue.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: “我们没多少时间了，他们很快就会抓住船长。我们需要找到航海日志，”弗兰克一边说，一边爬下梯子。航海日志里会包含货物清单和访问过的港口名单。当然，货单会是假的。走私船从不记录真实货物。但如果运气好，他可以从谎言中找到线索。
- en: 'Officer Notation found the logbook at the back of the hold and pulled it out.
    Frank checked the cover and swore:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 标注官在货舱后部找到了航海日志并拿了出来。弗兰克查看了一下封面，忍不住骂了一声：
- en: Manifest and Log of the *Retry Loop*
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '*重试循环*的清单和日志'
- en: 'Captain: A. James'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 船长：A. 詹姆斯
- en: 'Home Port: Usb'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 本港：Usb
- en: 'Owner: Vinettees Shipping Group LLC'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 所有者：维内特航运集团有限公司
- en: After months of successfully avoiding the Vinettees, Frank had walked right
    onto one of their ships. He found himself reflexively scanning the hold for hidden
    henchmen, stashes of weaponized farm equipment, or evidence of a slug racetrack.
    Frank discarded the last possibility—everyone knew slugs wouldn’t race on a ship;
    it had something to do with being surrounded by large quantities of saltwater.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 几个月来，弗兰克成功地避开了维内特人，但他却走进了他们的船上。他本能地扫描着货舱，寻找隐藏的打手、武器化的农用设备或蛞蝓赛车的证据。弗兰克很快排除了最后一种可能——大家都知道蛞蝓不会在船上比赛，因为那和船身周围的盐水有关系。
- en: He shook his head and focused on the problem at hand. Frank had to find a clue
    before the Vinettees knew he was on the ship, or he might not get back off again.
    He turned to the end of the book and started flipping toward the front, one page
    at a time.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 他摇了摇头，集中精力解决眼前的问题。弗兰克必须在维内特人发现他在船上的时候找到线索，否则他可能再也无法离开了。他转向书的末尾，开始一页一页地翻回前面。
- en: '![image](../images/f0040-01.jpg)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0040-01.jpg)'
- en: “What are you doing?” asked Notation.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: “你在做什么？”标注问道。
- en: “Looking for the last entry,” said Frank.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “在找最后一条记录，”弗兰克说道。
- en: “One page at a time?” asked Notation. “There’s got to be a thousand pages. Why
    don’t you use binary search again? We just used it two minutes ago.”
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “一页一页地翻？”标注问道。“这得有一千页吧。为什么不再用一次二分查找？我们才刚用过。”
- en: Frank paused. He wasn’t looking for a specific page number, but he could still
    use a binary search to find the last entry. He would just refine the search bounds
    depending on whether the current page had text or not.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克停了下来。他并不在找特定的页码，但他仍然可以用二分查找来找到最后一条记录。他会根据当前页面是否有文字来调整查找范围。
- en: “Okay. Binary search,” he agreed.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: “好的。二分查找，”他同意道。
- en: He opened to the last page again and confirmed the book had exactly 1,000 pages,
    giving him a lower bound of page 1 and an upper bound of page 1,000\. He added
    the numbers, divided by 2, and computed a midpoint of 500\. He flipped to that
    page.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 他再次翻到最后一页，确认这本书共有1000页，这让他有了页面1的下限和页面1000的上限。他将数字相加，除以2，计算出中点为500页。他翻到了那一页。
- en: '![image](../images/f0041-01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0041-01.jpg)'
- en: Pages 500 and 501 were both blank, so Frank knew the last written page was on
    or before 499—his new upper bound. After another midpoint computation, he flipped
    to page 250\. Again it was blank.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 第500页和501页都是空白的，所以Frank知道最后一页的内容在499页或之前——这是他的新上界。再进行一次中点计算后，他翻到250页，仍然是空白的。
- en: '![image](../images/f0041-02.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0041-02.jpg)'
- en: “Looks like a new book,” added Notation. “Good thing you didn’t keep going from
    the back.”
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: “看起来像是一本新书，”Notation补充道，“幸好你没有从后面继续翻。”
- en: Frank didn’t bother replying. With a lower bound of 1 and an upper bound of
    249, he computed a midpoint of 125\. This time he found writing, so he adjusted
    his lower bound accordingly to 125.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: Frank没有回答。下界为1，上界为249，他计算出中点为125。这个时候他发现有内容，于是他相应地将下界调整为125。
- en: '![image](../images/f0042-01.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0042-01.jpg)'
- en: “187,” supplied Notation before Frank could finish the midpoint computation
    in his head. He turned to 187, again finding writing and adjusting his lower bound.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: “187，”Notation在Frank还没算出中点之前就补充道。他翻到187，再次发现有内容，并调整了下界。
- en: '![image](../images/f0042-02.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0042-02.jpg)'
- en: “218,” said Notation. The pages were blank, so Frank adjusted his lower and
    upper bounds to 187 and 217, respectively.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: “218，”Notation说道。页面是空白的，于是Frank将上下界分别调整为187和217。
- en: '![image](../images/f0042-03.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0042-03.jpg)'
- en: “202,” said Notation before Frank had even finished adding the upper and lower
    bounds.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: “202，”Notation在Frank还没完成上下界的计算时就说。
- en: “How are you doing that so fast?” asked Frank.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: “你怎么这么快就做到了？”Frank问。
- en: “Practice,” she replied. “We used to have binary search competitions at the
    academy whenever we needed a break from studying. I was undefeated.”
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: “练习，”她回答，“我们以前在学院里每当需要休息时，就会举行二分查找比赛。我从未被打败过。”
- en: Frank shook his head. “Sounds like a wild time,” he muttered.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Frank摇了摇头，“听起来像是个疯狂的时刻，”他低声说。
- en: Pages 202 and 203 were filled. “210,” supplied Notation.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 第202页和203页已填满。“210，”Notation补充道。
- en: '![image](../images/f0043-01.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0043-01.jpg)'
- en: At page 210, they finally found the last entry, detailing the *Retry Loop*’s
    last voyage. “What now?” asked Notation.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在第210页，他们终于找到了最后一条记录，详细描述了*重试循环*的最后一次航行。“现在怎么办？”Notation问。
- en: '![image](../images/f0043-02.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0043-02.jpg)'
- en: “We search for an interesting package or port. On the last voyage, they made
    about 70 entries. We’ll have to scan through them.”
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: “我们要搜索一个有趣的包或者端口。在上一次航行中，他们做了大约70条记录。我们得扫描它们。”
- en: “Exhaustive search?” asked Notation. “Can’t we use something more efficient?
    Aren’t the entries sorted by pickup and delivery time?”
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: “穷举搜索？”Notation问道，“我们不能用更高效的方法吗？记录不是按照取货和交货时间排序的吗？”
- en: “The sorting doesn’t help us here,” answered Frank. “We don’t know the time.
    Sorted data only helps when it’s sorted by a useful dimension. They didn’t bother
    to sort by suspiciousness. Go figure.”
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: “排序在这里帮不上忙，”Frank回答道，“我们不知道时间。排序数据只有在按有用的维度排序时才有帮助。他们没考虑按可疑度排序。真是搞不懂。”
- en: “Oh. It’s the Weather Records problem,” said Notation.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: “哦，是‘天气记录问题’，”Notation说道。
- en: “What problem?” asked Frank.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: “什么问题？”Frank问道。
- en: “It’s an illustration of how sorting data by the wrong value doesn’t help a
    search,” explained Notation. “Professor Drecker gave the example of finding the
    coldest day in the last 10 years. If the logs are sorted by day, you can use binary
    search to efficiently find any specific day. But that doesn’t help us to find
    the coldest day, so we’d still have to scan through all the data. I hadn’t expected
    to see such a clear example outside of class, though.”
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: “这是一个例子，说明按照错误的值排序数据对搜索没有帮助，”Notation解释道，“Drecker教授举了一个找出过去10年最冷的一天的例子。如果日志按天排序，你可以使用二分查找高效地找到任何具体的一天。但这对我们找到最冷的一天并没有帮助，所以我们还是得扫描所有数据。我没想到会在课外看到这么清晰的例子。”
- en: “Welcome to the real world,” said Frank. “Out here, you have to check when the
    structure in the data is helpful to you and when it isn’t. Don’t worry, it’s a
    common rookie mistake.”
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: “欢迎来到现实世界，”Frank说道，“在这里，你得判断数据结构什么时候对你有用，什么时候没有用。别担心，这是一个常见的新手错误。”
- en: He could see Notation bristle at his words and tried not to enjoy her reaction
    too much. Every rookie came out of the academy thinking they knew it all, and
    every one had a lot to learn. Notation was getting off easy with a lecture. His
    own education with binary search had involved hours of scooping through barrels
    of pig waste while he questioned his career choice.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 他能看到符号对他的话不满，忍不住不去享受她的反应。每个新兵从学院出来时，都觉得自己什么都懂，而每个人都有很多东西需要学习。符号还算幸运，得到了一场讲座。至于他自己学二分查找时，得花几个小时在猪粪堆里刨来刨去，同时怀疑自己的职业选择。
- en: After about three minutes, they found their only clue. The *Retry Loop* had
    recently made two suspicious stops, at the Port of Mudwall and Frayed Cable Island.
    Even for smugglers, these were strange destinations. The Port of Mudwall boasted
    little trade beyond its outlying mud farms. And Frayed Cable Island was even more
    desolate; the small, rocky island possessed only a single building—the now abandoned
    Iron Ring Prison.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 约三分钟后，他们找到了唯一的线索。*重试循环*最近在泥墙港和破线岛停留过两次，停留时间都很可疑。即使是走私者，这些地方也很奇怪。泥墙港的贸易几乎只限于外围的泥土农场。而破线岛则更加荒凉，这个小而崎岖的岛屿上只有一座建筑——现在已废弃的铁环监狱。
- en: “There,” said Frank, pointing. “That’s where they took your documents. Either
    the Port of Mudwall or Frayed Cable Island. They probably dropped the documents
    off at one and picked up the payment at the other.”
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: “在那里，”弗兰克指着说道，“那就是他们拿走你文件的地方。可能是泥墙港或破线岛。他们可能在一个港口把文件丢下，在另一个港口拿到付款。”
- en: “How do you know?” asked Notation. She looked skeptical. “Shouldn’t we consider
    all the ports as—”
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: “你怎么知道？”符号问道，她看起来很怀疑，“难道我们不应该把所有港口都考虑为——”
- en: Frank cut her off. “No time to check them all.” He didn’t elaborate. He was
    using his own brand of algorithm now, the heuristic searches that had gotten him
    in trouble with the captain in the past. But he had a gut feeling, and Frank had
    learned to trust his gut.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克打断了她的话，“没时间检查所有的。”他没有多加解释。他现在正在使用自己的算法，那种曾让他因过于草率的启发式搜索而惹上船长麻烦的方法。但他有一种直觉，而弗兰克学会了信任自己的直觉。
- en: “Are you sure that—” Notation began, but was cut off by noises above them.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: “你确定——”符号开始说话，但被上方传来的声音打断了。
- en: Frank couldn’t make out the words, but he could recognize the tone clearly.
    Trouble was on its way.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克听不清楚话语，但他能清楚地辨别出语气。麻烦来了。
- en: '**POLICE ALGORITHMS 101: BINARY SEARCH II**'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**警察算法 101：二分查找 II**'
- en: '***Excerpts from Professor Drecker’s Lecture***'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '***德雷克教授讲座摘录***'
- en: The key to efficient algorithms is information. In the case of binary search,
    we require that the data be sorted and that we have information on how that data
    is sorted. In order to rule out (or prune) large regions of the search space,
    the algorithm must be able to guarantee that the target value can’t be in that
    region. We can only do that if we know how the values behave as we move along
    the array. In computational problems, we say the array is sorted if all its values
    are arranged in increasing (or decreasing) order.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 高效算法的关键是信息。以二分查找为例，我们要求数据已经排序，并且我们了解数据的排序方式。为了排除（或剪枝）搜索空间中的大区域，算法必须能够保证目标值不可能出现在该区域。如果我们知道数据在数组中如何变化，我们才能做到这一点。在计算问题中，如果数组中的所有值都是按递增（或递减）顺序排列的，我们就说这个数组是排序过的。
- en: However, just because the data is sorted by *one* dimension doesn’t mean that
    you will be able to binary search along another dimension. Say you’re searching
    an accounting ledger for clues. Ledgers are sorted by transaction number, which
    indicates when the transaction was *recorded*. This means that the transaction
    number for each entry will be less than the transaction number for the following
    entry. If the current entry has a transaction number of 105, we know that all
    entries before it will have transaction numbers less than 105 and all entries
    after it will have transaction numbers greater than 105.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，仅仅因为数据按*一个*维度排序，并不意味着你可以沿着另一个维度进行二分查找。假设你正在搜索一本账簿以寻找线索。账簿是按交易编号排序的，交易编号表示交易的*记录时间*。这意味着每条记录的交易编号都小于下一条记录的交易编号。如果当前记录的交易编号是105，那么我们知道它之前的所有记录的交易编号都会小于105，之后的记录的交易编号都会大于105。
- en: '![image](../images/f0045-01.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0045-01.jpg)'
- en: However, this also means that the entries in other fields, such as the actual
    date of the transaction, the mechant’s name, or the transaction amount, are *not*
    in sorted order. What if you’re interested in finding transactions above a certain
    suspicious amount or with a known weapons merchant? Does the sorting help you
    here? No, you would still find yourself using an exhaustive linear search. Knowing
    that transaction 105 was at Zed’s Coffee doesn’t tell you anything about the merchants
    or amounts in transactions before or after that one.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这也意味着其他字段中的条目，比如实际交易日期、商家的名称或交易金额，*并未*按排序顺序排列。如果你有兴趣查找超过某个可疑金额的交易，或者找出与已知武器商人相关的交易，这时排序能帮你吗？不，它仍然会让你使用穷举法进行线性搜索。知道交易105是在Zed’s
    Coffee发生的，并不能告诉你之前或之后的交易中的商家或金额信息。
- en: Similarly, if you sorted the ledger in increasing order of transaction amount,
    this would allow you to quickly find all transactions costing $250, but it would
    not help you search for a given transaction date, ID, or merchant.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，如果你按交易金额的升序对账本进行排序，这可以帮助你快速找到所有金额为250美元的交易，但它无法帮助你查找特定的交易日期、ID或商家。
