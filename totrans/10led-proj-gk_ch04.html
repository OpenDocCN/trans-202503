<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en">
  <head>
    <title>Project 4: Color-Coded LED Watch by John Baichtal</title>
    <link href="../styles/9781593278472.css" rel="stylesheet" type="text/css"/>
    <link href="../68851547a55f.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="sbo-rt-content"><h2 class="h2" id="ch04"><span epub:type="pagebreak" id="page_80"/><span class="big">4</span><br/>Color-Coded LED Watch by John Baichtal</h2>
<p class="ch-sub"><span epub:type="pagebreak" id="page_81"/>In this project, you’ll make a watch that displays the time using color.</p>
<div class="image"><img src="../images/f0081-01.jpg" alt="image"/></div>
<p class="noindent"><span epub:type="pagebreak" id="page_82"/>With digital clocks found on phones, microwaves, and even coffee makers, you might think making another is redundant. On the other hand, how often have you needed to know the time while on an important phone call, on a hike, or just nowhere near your kitchen? There is still a place for the portable watch, and to modernize it I’ve come up with a solution: a custom digital timepiece featuring an intriguingly cryptic display.</p>
<p class="indent">With this project you’ll make your own watch using a pair of eight-dot NeoPixel LED strips to convey the time with <em>colors</em>. It may not be immediately clear how you’d tell the time with colors, but stick around and you’ll find out. The brains for our watch will be an Arduino, which simplifies certain parts of displaying the time but also presents special challenges.</p>
<h3 class="h3" id="lev66"><strong>GET THE PARTS</strong></h3>
<p class="noindent">You’ll need the following parts to build this project.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>See “<a href="intro.xhtml#lev17">Getting Started with the Arduino and the Arduino IDE</a>” on <a href="intro.xhtml#page_15">page 15</a> for setup instructions.</em></p>
</div>
<h4 class="h4" id="lev67"><strong>Components</strong></h4>
<ul>
<li class="noindent">Arduino Pro Mini (SparkFun P/N 11113; extra headers are available as P/N 00116.)</li>
<li class="noindent">FTDI Basic Breakout (SparkFun P/N 09716; this is a programming dongle necessary to program the Arduino Pro Mini.)</li>
<li class="noindent">2 NeoPixel strips (Adafruit P/N 1426 or SparkFun P/N 12661; this is an eight-LED RGB strip.)</li>
<li class="noindent">DS1307 RTC Breakout Board (SparkFun P/N 12708; other options are Adafruit P/N 255 or Adafruit P/N 3013.)</li>
<li class="noindent">470 Ω resistor (SparkFun P/N 10969 is a good multipack)</li>
<li class="noindent">Enclosure (My enclosure was 85 mm × 55 mm on its largest side and 30 mm deep; find it by searching online for its P/N, WCAH2855. A similar part is the classic 3 × 2 × 1 project enclosure from RadioShack, P/N 2701801.)</li>
<li class="noindent">Watch band (Any generic nylon or rubber watch band should do the trick. I used a knockoff iWatch band from Amazon.)</li>
<li class="noindent">9 V battery pack and battery (A standard 9 V connector with wire leads; I’m using Jameco P/N 109154. You can also get the SparkFun P/N 00091 snap connector and cut off the plug.)</li>
<li class="noindent">Button (I used a panel-mount momentary button from SparkFun, P/N 11992. The smaller, the better. You can swap out the button for a switch if you want to keep the display going until you turn it off.)</li>
<li class="noindent"><span epub:type="pagebreak" id="page_83"/>Screws (I used M2 × 10 mm screws and nuts from HobbyKing, P/N HA0506.)</li>
</ul>
<p class="indent">The small Arduino we use here offers the same Arduino experience without all the bells and whistles so that it will fit in a small enclosure. For instance, you can’t program it via USB, and you’ll need a FTDI Breakout (such as SparkFun P/N 09716) to program it. Before you begin building this project, see “<a href="intro.xhtml#introsb1">Arduino Boards Without a Built-in USB Connection</a>” on <a href="intro.xhtml#page_21">page 21</a> for information about how to set up the Arduino Pro Mini and FTDI.</p>
<p class="indent">When choosing an enclosure, keep in mind that the LED strips and the 9 V battery are the main limitations on dimensions. You may also want a clip to keep the battery from rolling around inside the enclosure box, though mine was so densely packed nothing could move around.</p>
<h4 class="h4" id="lev68"><strong>Tools</strong></h4>
<ul>
<li class="noindent">Soldering iron and solder</li>
<li class="noindent">Dremel or similar rotary tool, with cutting and drilling implements</li>
<li class="noindent">(Optional) Spray paint</li>
</ul>
<h3 class="h3" id="lev69"><strong>INTRODUCING THE REAL-TIME CLOCK MODULE</strong></h3>
<p class="noindent">It turns out that keeping accurate time isn’t something Arduinos do well. They can keep track of time from second to second fairly well, thanks to the timing crystal built into the board, but they must use their own internal memory to retain this information, so when the memory fills up your clock stops working. Another problem arises when the Arduino loses power—you lose the time and have to reset it when you start the Arduino up again. The solution to these challenges lies in an add-on board called a <em>Real-Time Clock (RTC)</em> module.</p>
<p class="indent">The RTC consists of a dedicated timekeeping chip and a battery backup, so it can retain the time even when the main project powers down. It keeps track of the time so your Arduino doesn’t have to.</p>
<p class="indent"><a href="ch04.xhtml#ch04fig1">Figure 4-1</a> shows the DS1307 RTC module sold by Adafruit Industries. It accurately computes calendars up to the year 2100 with leap year factored in, and communicates with the Arduino through a two-wire interface.</p>
<div class="image"><span epub:type="pagebreak" id="page_84"/><a id="ch04fig1"/><img src="../images/f0084-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-1:</strong> Adafruit’s DS1307 breakout board helps your Arduino keep time.</p>
<h3 class="h3" id="lev70"><strong>HOW IT WORKS: COLOR-CODING THE LEDS</strong></h3>
<p class="noindent">With only a small watch face to utilize, we are limited to just two eight-LED strips to show the time. I devised a system—shown in <a href="ch04.xhtml#ch04fig2">Figure 4-2</a>—that uses the color of the LEDs to convey the information. I selected five colors to stand in for numbers, listed in <a href="ch04.xhtml#ch04tab1">Table 4-1</a>.</p>
<p class="tabcap" id="ch04tab1"><strong>TABLE 4-1:</strong> Number codes for the colors</p>
<table class="topbot-d">
<thead>
<tr>
<td style="vertical-align: top;" class="border_th"><p class="tab_th"><strong>COLOR</strong></p></td>
<td style="vertical-align: top;" class="border_th"><p class="tab_th"><strong>VALUE</strong></p></td>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">Black</span></p></td>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">0</span></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">Blue</span></p></td>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">1</span></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">Red</span></p></td>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">2</span></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">Yellow</span></p></td>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">4</span></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">Green</span></p></td>
<td style="vertical-align: top;" class="table-ca"><p class="tabc"><span class="blue">5</span></p></td>
</tr>
</tbody>
</table>
<p class="indent">The top LED strip will indicate the hour, and the bottom strip the minutes. As mentioned, each strip will have eight LEDs. Each LED’s position in that strip will be the <em>multiplier</em> that you apply to the number associated with the color in <a href="ch04.xhtml#ch04tab1">Table 4-1</a>. For example, the seventh LED lit up yellow (4) would be 4 × 7, so would mean 28 minutes if it’s lit in the bottom strip.</p>
<p class="indent">You could use more or fewer colors, but I decided to use only four (plus black) for simplicity’s sake. I wanted my clock to use the same colors manufacturers use to color-code resistors—in their world, 0 is black, 1 is brown, 2 is red, and so on. However, brown doesn’t show up well as visible light, so I substituted blue. Ultimately it doesn’t matter what colors you choose for each time. If it makes sense to you, go for it.</p>
<p class="indent"><span epub:type="pagebreak" id="page_85"/>Rather than use more colors to display larger times, we’ll light up a <em>second</em> LED on the bottom strip, and you can add the two bottom-strip numbers in your head to arrive at the time. Remember, the top strip will indicate the hour, and the bottom strip the minutes. Say it’s 7:56 <small>AM</small>, or 756. To indicate this time, I could light up a blue LED in position #7 on the top bar, and yellow #4 (16) and green #8 (40) on the bottom bar. <a href="ch04.xhtml#ch04fig2">Figure 4-2</a> shows how it should look. Refer to <a href="ch04.xhtml#ch04tab1">Table 4-1</a> if you’re not sure how I arrived at these numbers. This will be a good test of your mental arithmetic skills.</p>
<div class="image"><a id="ch04fig2"/><img src="../images/f0085-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-2:</strong> The color and position of the LEDs indicate the time. This simulated display shows 7:56 <small>AM</small>.</p>
<h3 class="h3" id="lev71"><strong>BUILD IT</strong></h3>
<p class="noindent">The watch consists of the electronics and the enclosure that holds them. We’ll work on the two parts simultaneously.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>If you need instructions on soldering, see the appendix.</em></p>
</div>
<ol>
<li class="noindent"><p class="list"><strong>Solder the NeoPixel strips.</strong> Solder a couple of short wires connecting the two NeoPixel strips in series, as seen in <a href="ch04.xhtml#ch04fig3">Figure 4-3</a>. Connect the pin marked Dout, or Data out, to the pin marked Din, or Data in, shown with an orange wire in <a href="ch04.xhtml#ch04fig3">Figure 4-3</a>. Connect the remaining two pins, 4-7VDC (red) and GND (gray), to their mates on the other strip. Note that there are two GND pins and either one can be used.</p>
<div class="image"><a id="ch04fig3"/><img src="../images/f0085-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-3:</strong> Solder the LED strips together.</p></li>
<li class="noindent"><p class="list"><strong>Drill the enclosure.</strong> Once you have the LED strips wired up, place them on top of the enclosure and mark their mounting holes with a permanent marker for drilling; you should also indicate <span epub:type="pagebreak" id="page_86"/>where the wires will enter the enclosure. While you’re at it, mark where you want the power button to go.</p>
<p class="indent">Once you have the enclosure marked, drill the holes. You may also want to consider how you intend to wear the watch. If you’re using a wrist strap, you’ll need to figure out how to attach the strap to the enclosure. <a href="ch04.xhtml#ch04fig4">Figure 4-4</a> shows my enclosure with the holes drilled.</p>
<div class="image"><a id="ch04fig4"/><img src="../images/f0086-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-4:</strong> Drill holes into the enclosure.</p></li>
<li class="noindent"><p class="list"><strong>Paint the enclosure.</strong> You may want to paint the enclosure if the black finish is getting you down. <a href="ch04.xhtml#ch04fig5">Figure 4-5</a> shows my enclosure being painted. I’m going for a military-esque olive drab.</p>
<div class="image"><a id="ch04fig5"/><img src="../images/f0086-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-5:</strong> Customize the plain black box with a splash of color.</p></li>
<li class="noindent"><p class="list"><span epub:type="pagebreak" id="page_87"/><strong>Wire the RTC to the Arduino.</strong> While the paint is drying, begin soldering the guts. Start with the RTC module, and wire it up to the Arduino Pro Mini; use <a href="ch04.xhtml#ch04fig6">Figure 4-6</a> as a reference. Connect 5V on the RTC to the Arduino’s VCC pin (shown as a red wire in <a href="ch04.xhtml#ch04fig6">Figure 4-6</a>) and the GND to the Arduino’s GND pin, shown as a black wire. Connect SCL, the serial clock shown as a green wire, to pin A5 of the Arduino, and connect SDA, in yellow, to pin A4.</p>
<div class="image"><a id="ch04fig6"/><img src="../images/f0087-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-6:</strong> Connect the RTC to the Arduino.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>The FTDI board is not shown in the wiring diagrams, but you should have already attached it to your Pro Mini. If you haven’t done that yet, see “<a href="intro.xhtml#introsb1">Arduino Boards Without a Built-in USB Connection</a>” on <a href="intro.xhtml#page_21">page 21</a>.</em></p>
</div></li>
<li class="noindent"><p class="list"><strong>Attach the LED strips to the enclosure.</strong> Once the paint is dry, you can attach the LED strips to the enclosure using M2 screws. Note that the specific orientation of the strips with regards to your viewing angle affects whether you get an accurate reading. <em>Both LED strips must be oriented the same way</em>. In the photo of my prototype on page 81, you can see that I had one strip inverted from the other. However, this proved to be a problem and I fixed it in the final design. Make sure you orient the strips the way they’re shown in the wiring diagrams.</p></li>
<li class="noindent"><p class="list"><strong>Connect the LED strips to the Arduino.</strong> Attach the strips’ power, GND, and data wires to the Arduino as shown in <a href="ch04.xhtml#ch04fig7">Figure 4-7</a>.</p>
<div class="image"><a id="ch04fig7"/><img src="../images/f0087-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-7:</strong> Attach the NeoPixel strips to the Arduino.</p>
<p class="indent"><span epub:type="pagebreak" id="page_88"/>Data, shown as a yellow wire, connects to pin 6 on the Arduino with a 470 Ω resistor, which protects the strips from power spikes. Power (red) and GND (black) connect to +5V and GND, respectively.</p></li>
<li class="noindent"><p class="list"><strong>Install the button or switch.</strong> Wire up the button and secure it to the enclosure using the panel-mount hardware that came with it. Connect one lead of the button to the red wire of the battery pack, shown in <a href="ch04.xhtml#ch04fig8">Figure 4-8</a>. Connect the second lead of the button, shown in purple, to the RAW pin of the Arduino. The GND wire of the battery pack connects to the GND of the Arduino. You can also swap in a switch, which will require you to manually turn on and off the display. This does not require a modification to the code—the LEDs update once a second as long as they and the rest of the project are powered.</p>
<div class="image"><a id="ch04fig8"/><img src="../images/f0088-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-8:</strong> Install the button and solder its leads to the Arduino.</p></li>
<li class="noindent"><p class="list"><strong>Attach the watch strap.</strong> Attach the strap. I used my Dremel to mill down a slot between the enclosure mouth and the lid, allowing me to “trap” the strap once the lid was secured. <a href="ch04.xhtml#ch04fig9">Figure 4-9</a> shows the band’s installation.</p>
<div class="image"><span epub:type="pagebreak" id="page_89"/><a id="ch04fig9"/><img src="../images/f0089-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4-9:</strong> Strap it!</p></li>
</ol>
<h3 class="h3" id="lev72"><strong>CODE IT</strong></h3>
<p class="noindent">Let’s examine the Arduino code for this project. You’ll find this listed as <em>led_watch.ino</em> in the book’s resources at <em><a href="https://nostarch.com/LEDHandbook/">https://nostarch.com/LEDHandbook/</a></em>. <a href="ch04.xhtml#ch04list1">Listing 4-1</a> sets up the script.</p>
<p class="listing" id="ch04list1"><strong>LISTING 4-1:</strong> Libraries and declarations</p>
<p class="programs"><span class="ent">➊</span> <span class="green">#include</span> &lt;Adafruit_NeoPixel.h&gt;<br/>  <span class="green">#include</span> <span class="gray">&lt;</span><span class="orange">Wire</span>.h<span class="gray">&gt;</span><br/>  <span class="green">#include</span> <span class="dark-teal">"RTClib.h"</span><br/><br/><span class="ent">➋</span> RTC_DS1307 RTC;<br/><br/>  <span class="green">#define</span> PIN 6<br/><br/><span class="ent">➌</span> Adafruit_NeoPixel strip = Adafruit_NeoPixel(16, PIN,<br/>  NEO_GRB + NEO_KHZ800);</p>
<p class="indent">We start with library declarations <span class="ent">➊</span>. Then we initialize the RTC <span class="ent">➋</span> and the NeoPixel strips <span class="ent">➌</span>. The button/switch needs no declaration, as it merely connects power to the Arduino.</p>
<p class="indent">If you haven’t yet installed the libraries, you’ll have to do that before the code will run. You can find information on downloading and installing the NeoPixel and RTC libraries from their respective product pages at <em><a href="https://www.adafruit.com/">https://www.adafruit.com/</a></em>. You should have the Wire library installed already, as it comes with the Arduino software.</p>
<p class="indent">Next let’s delve into the heart of the code with <a href="ch04.xhtml#ch04list2">Listing 4-2</a>, which initializes the arrays that keep track of which colors correspond to the different times.</p>
<p class="listing" id="ch04list2"><span epub:type="pagebreak" id="page_90"/><strong>LISTING 4-2:</strong> Initializing the arrays</p>
<p class="programs"><span class="light-teal">byte</span> numberMatrix[60][8] = {  <span class="gray">//array of numbers</span><br/>  { <span class="gray">//time 0</span><br/>    2, 2, 2, 2, 2, 2, 2, 2    <span class="gray">//all pixels red</span> <br/>  },<br/><br/>  { <span class="gray">//time 1</span><br/>    1, 0, 0, 0, 0, 0, 0, 0    <span class="gray">//pixel 1 is blue</span><br/>  },<br/><br/>  { <span class="gray">//time 2</span><br/>    0, 1, 0, 0, 0, 0, 0, 0    <span class="gray">//pixel 2 is blue</span><br/>  },<br/>--<span class="codeitalic">snip</span>--</p>
<p class="indent">There are 60 entries—one for each minute in an hour—but for the sake of space, I’ve included only three here as examples. The watch displays the hour using the same array, so 7 <small>AM</small> has the same color coding as 7 minutes after the hour. Partly for whimsy and partly for debugging purposes, I made 0 all red. This way you can see when the hour strikes, and it also tells you the code works if you happen to be working on the project around the start of the hour.</p>
<p class="indent"><a href="ch04.xhtml#ch04list3">Listing 4-3</a> defines the <span class="literal">setup()</span> function.</p>
<p class="listing" id="ch04list3"><strong>LISTING 4-3:</strong> The <span class="literal">setup()</span> function</p>
<p class="programs"><span class="light-teal">void</span> <span class="green">setup</span>() {<br/>  <span class="orange">Serial</span>.<span class="orange">begin</span>(57600);<br/><span class="ent">➊</span> <span class="orange">Wire</span>.<span class="orange">begin</span>();<br/><span class="ent">➋</span> RTC.<span class="orange">begin</span>();<br/><br/>  strip.<span class="orange">begin</span>();<br/>  strip.show(); <span class="gray">// Initialize all pixels to 'off'</span><br/><br/>  <span class="green">if</span> (! RTC.isrunning()) {<br/>  <span class="ent">➌</span> <span class="orange">Serial</span>.<span class="orange">println</span>(<span class="dark-teal">"RTC is NOT running!"</span>);<br/>    <span class="gray">// The following line sets the RTC to the date and time</span><br/>    <span class="gray">// this sketch was compiled</span><br/>  <span class="ent">➍</span> RTC.adjust(DateTime(<span class="green">__DATE__</span>, <span class="green">__TIME__</span>));<br/>  }<br/>}</p>
<p class="indent">This block of code begins Wire <span class="ent">➊</span>, a library for governing serial communications, and activates the RTC <span class="ent">➋</span>. If the RTC chip doesn’t respond, the Arduino sends an error message <span class="ent">➌</span> to the serial monitor. The script then adjusts the RTC’s time to match the date and time when the sketch was compiled <span class="ent">➍</span>.</p>
<p class="indent"><span epub:type="pagebreak" id="page_91"/><a href="ch04.xhtml#ch04list4">Listing 4-4</a> consists of the <span class="literal">loop()</span> function, which contains the code that controls the activation of the LED strips.</p>
<p class="listing" id="ch04list4"><strong>LISTING 4-4:</strong> The activation loop</p>
<p class="programs"><span class="light-teal">void</span> <span class="green">loop</span>() {<br/>   <span class="gray"> //determine time</span><br/>    DateTime now = RTC.now();<br/><br/>    <span class="light-teal">int</span> hourDisplay = (now.hour(), <span class="light-teal">DEC</span>);<br/>    <span class="light-teal">int</span> minuteDisplay = (now.minute(), <span class="light-teal">DEC</span>);<br/><br/>  <span class="orange">Serial</span>.<span class="orange">println</span>();<br/>    <span class="orange">Serial</span>.<span class="orange">print</span>(<span class="dark-teal">"time: "</span>);<br/>    <span class="orange">Serial</span>.<span class="orange">print</span>(hourDisplay);<br/>    <span class="orange">Serial</span>.<span class="orange">print</span>(<span class="dark-teal">':'</span>);<br/>    <span class="orange">Serial</span>.<span class="orange">println</span>(minuteDisplay);<br/><br/>  <span class="gray">//hour display</span><br/>  <span class="green">for</span> (<span class="light-teal">int</span> thisPin = 0; thisPin &lt; 8; thisPin++) {<br/><br/>    <span class="light-teal">int</span> LEDcolor = numberMatrix[hourDisplay][thisPin];<br/><br/>    <span class="green">switch</span> (LEDcolor) {<br/><br/>      <span class="green">case</span> 0:<br/>        strip.setPixelColor (thisPin, 0, 0, 0);<br/>        <span class="green">break</span>;<br/><br/>      <span class="green">case</span> 1: <span class="gray">//make that pixel blue</span><br/>        strip.setPixelColor (thisPin, 0, 0, 100);<br/>        <span class="green">break</span>;<br/><br/>      <span class="green">case</span> 2: <span class="gray">//make that pixel red</span><br/>        strip.setPixelColor (thisPin, 100, 0, 0);<br/>        <span class="green">break</span>;<br/><br/>      <span class="green">case</span> 4: <span class="gray">//make that pixel yellow</span><br/>        strip.setPixelColor (thisPin, 100, 50, 0);<br/>        <span class="green">break</span>;<br/><br/>      <span class="green">case</span> 5: <span class="gray">//make that pixel green</span><br/>        strip.setPixelColor (thisPin, 0, 100, 00);<br/>        <span class="green">break</span>;<br/>    }<br/>  }<br/><span epub:type="pagebreak" id="page_92"/>    <span class="green">for</span> (<span class="light-teal">int</span> thisPin = 0; thisPin &lt; 8; thisPin++) {<br/>      <span class="light-teal">int</span> LEDcolor = numberMatrix[minuteDisplay][thisPin];<br/><br/>      <span class="green">switch</span> (LEDcolor) {<br/><br/>        <span class="green">case</span> 0:<br/>          strip.setPixelColor ((thisPin+8), 0, 0, 0);<br/>          <span class="green">break</span>;<br/><br/>        <span class="green">case</span> 1:<br/>          strip.setPixelColor ((thisPin+8), 0, 0, 100);<br/>          <span class="green">break</span>;<br/><br/>        <span class="green">case</span> 2:<br/>          strip.setPixelColor ((thisPin+8), 100, 0, 0);<br/>          <span class="green">break</span>;<br/><br/>        <span class="green">case</span> 4:<br/>          strip.setPixelColor ((thisPin+8), 100, 50, 0);<br/>          <span class="green">break</span>;<br/><br/>        <span class="green">case</span> 5:<br/>          strip.setPixelColor ((thisPin+8), 0, 100, 00);<br/>          <span class="green">break</span>;<br/>      }<br/>  strip.show();<br/>    }<br/>  <span class="orange">Serial</span>.<span class="orange">println</span>();<br/>  <span class="orange">delay</span>(1000);<br/>}</p>
<p class="indent">The sketch launches the instant you power up the Arduino (by pressing the button or hitting the switch). The loop reads the time from the RTC and then lights up the LEDs with whatever color is appropriate, displaying them as long as the board is powered. Each LED has a number (0–7 for hours and 8–15 for minutes), and receives color data from the array at the beginning of the sketch. If you use a switch instead of a button, it will keep the LEDs lit continuously, and the time will update every second.</p>
<h3 class="h3" id="lev73"><span epub:type="pagebreak" id="page_93"/><strong>SUMMARY</strong></h3>
<p class="noindent">Once you complete the physical build and upload the code, your watch is done! It may not be a precision instrument, but it will certainly start a conversation or two.</p>
</div>
  </body>
</html>
