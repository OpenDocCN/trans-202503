<html><head></head><body>
<section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="79" id="Page_79"/>5</span><br/>
<span class="ChapterTitle">Modules</span></h1>
</header>
<figure class="opener">
<img src="image_fi/book_art/chapterart.png" alt=""/>
</figure>
<p class="ChapterIntro">In this chapter, you’ll learn how to turn complex designs into more manageable components called modules. <em>Modules</em> are separate sections of code that organize a collection of stand-alone statements, and they’re particularly useful for two reasons. If your code is long and complicated, using modules can break your code into smaller subsections, which helps make your code more readable. And if your design has duplicate or similar shapes, you can use a single module to define the shape, reducing the amount of code you need to write to create complex designs.</p>
<p>This chapter also describes how to use variables and parameters to customize your modules. Finally, we’ll explain how to group similar modules into a separate file (often called a <em>library</em>) to make it easier to organize designs, share designs, and use designs others have created.</p>
<h2 id="h1-279547c05-0001"><span epub:type="pagebreak" title="80" id="Page_80"/>Simplifying Code with Modules</h2>
<p class="BodyFirst">To understand how using modules might simplify your code, let’s take another look at the code for drawing the cross-shaped cookie cutter (<a href="#figure5-1" id="figureanchor5-1">Figure 5-1</a>)<em> </em>you built in <span class="xref" itemid="xref_target_Chapter 3">Chapter 3</span>.</p>
<figure>
<img src="image_fi/279547c05/f05001.png" alt="f05001"/>
<figcaption><p><a id="figure5-1">Figure 5-1</a>: The cross-shaped cookie cutter</p></figcaption>
</figure>
<p>We’ve reproduced the code in <a href="#listing5-1" id="listinganchor5-1">Listing 5-1</a>. Do you see any repeated code?</p>
<pre><code>linear_extrude(30) {
    difference() {
        union() {
            square([100, 30], center=true);
            square([30, 100], center=true);
        }
        offset(-2) {
            square([100, 30], center=true);
            square([30, 100], center=true);
        }
    }
}</code></pre>
<p class="CodeListingCaption"><a id="listing5-1">Listing 5-1</a>: The original cross-shaped cookie cutter program</p>
<p>The cookie cutter is made by taking the difference of two crosses, so the <code>square</code> commands to create the cross shape are repeated twice. Duplicate code almost always causes problems, because any change you make to a shape’s dimensions must be made twice (or however many times the code is duplicated). If you forget to change every instance, you’ll need to spend time fixing it later, or worse, end up with lasting mistakes in your design.</p>
<p><span epub:type="pagebreak" title="81" id="Page_81"/>To improve this design, you can use a module to create a cross shape, and then use that module to create each of the two crosses. The following pseudocode shows the syntax of a module definition:</p>
<pre><code>module <var>ModuleName</var>() {
    // code used to define the new shape
}</code></pre>
<p>Use the <code>module</code> keyword to start defining a new module. Then give the module a name that describes the new shape you are creating. Module names have the same restrictions as variable names, meaning you can only use lowercase and uppercase letters, underscores, or the digits 0 to 9. A good name should help readers understand what the module does without making them read the actual code that defines the module. Following the <var>ModuleName</var>, add an empty pair of parentheses followed by the code enclosed in curly brackets. The code you write inside the curly brackets is no different from any other OpenSCAD code.</p>
<p>The module definition will stand alone as a separate section of your design. So, defining a module won’t actually draw the new shape. It’s simply a recipe that describes how to create a shape. To see the shape, you must create it by inserting the module name into your design, just as you would to create any other shape. Here’s the syntax for using a module:</p>
<pre><code><em>ModuleName</em>();</code></pre>
<p>A module is an example of a programmer-defined shape. In fact, all the OpenSCAD commands you have used so far, including <code>sphere</code>, <code>cylinder</code>, and <code>linear_extrude</code>, are actually modules that are built into the language. An implied <code>union</code> operation occurs when shapes are combined within a module, so you can transform and combine the shape(s) generated by a module with any operation you’ve seen so far.</p>
<p>Write some new code for your cookie cutter by creating a <code>cross</code> module, as shown in <a href="#listing5-2" id="listinganchor5-2">Listing 5-2</a>.</p>
<pre><code>module cross()<span class="CodeAnnotation" aria-label="annotation1">1</span> {
    square([100, 30], center=true);
    square([30, 100], center=true);<span class="CodeAnnotation" aria-label="annotation2">2</span>
}

linear_extrude(30) {
    difference() {
      <span class="CodeAnnotationCode" aria-label="annotation3">3</span> cross();
      <span class="CodeAnnotationCode" aria-label="annotation4">4</span> offset(-2) cross();
    }
}</code></pre>
<p class="CodeListingCaption"><a id="listing5-2">Listing 5-2</a>: The new cross-shaped cookie cutter program, improved with a module</p>
<p>Use the <code>module</code> keyword to start the definition of the new shape. Give it the name <code>cross</code> <span class="CodeAnnotation" aria-label="annotation1">1</span> to describe the shape you’re creating. In curly brackets following the name, enter the code for the shapes that define the cross <span class="CodeAnnotation" aria-label="annotation2">2</span>. Finally, <span epub:type="pagebreak" title="82" id="Page_82"/>tell OpenSCAD to draw the cross by using the module name followed by a set of parentheses <span class="CodeAnnotation" aria-label="annotation3">3</span> <span class="CodeAnnotation" aria-label="annotation4">4</span>. Notice that you use the <code>cross</code> module twice, so you can subtract one cross shape from the other with the <code>difference</code> operation. </p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Tips</h2>
<p class="BoxBodyFirst">Curly brackets are optional if they enclose a single shape. So this</p>
<pre><code>offset(-2) {
  cross();
}</code></pre>
<p class="BoxBodyContinued">is the same as this:</p>
<pre><code>offset(-2) cross();</code></pre>
<p class="BoxBodyContinued">And, a union of a single shape is the same as the shape itself, which means that this</p>
<pre><code>union() {
  cross();
}</code></pre>
<p class="BoxBodyContinued">is the same as this:</p>
<pre><code>cross();</code></pre>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-279547c05-0002">Splitting Your Design into Multiple Files</h2>
<p class="BodyFirst">Sometimes when creating a new design, you’ll want to reuse a component from a previous project. A good way to organize this is to make the component into a module. Putting this module definition into a separate file will allow you to easily use it in both designs. Saving modules separately helps you find and reuse your new shapes in as many projects as you like, as well as easily share them with others. Also, if you make improvements to a module defined in a file that is used by several designs, those improvements will be applied the next time you open each design. Organizing module definitions into separate files is often called creating a <em>library</em>, especially when a new file has multiple related modules defined within it.</p>
<p>To learn how to save your module in a separate file, let’s split the cross-shaped cookie-cutter design into two files. We’ll use one file to define a cross shape, and then use that module in the second file to create a cookie cutter. First, create two empty OpenSCAD files: <em>cross-module.scad</em> and <em>cookie-cutter.scad</em>. Make sure you save the two files in the same folder so OpenSCAD can find the two files. Also, note that these filenames were <span epub:type="pagebreak" title="83" id="Page_83"/>chosen to clearly indicate the purpose of each file. Carefully choosing your filenames will help you organize your projects in the future, especially as you build more and more OpenSCAD projects.</p>
<p>In <em>cross-module.scad</em>, copy the module definition from <a href="#listing5-2">Listing 5-2</a>, including the curly brackets, and then paste it into the file you just created. Be sure to save <em>cross-module.scad</em> after you’ve pasted the code so that OpenSCAD can use the newest version when you connect the files. The new <em>cross-module.scad</em> file should contain only the following code:</p>
<pre><code>module cross() {
    square([100, 30], center=true);
    square([30, 100], center=true);
}</code></pre>
<p>Now in <em>cookie-cutter.scad</em>, remove the module definition and add the following line at the top of your file:</p>
<pre><code><b>use &lt;cross-module.scad&gt;</b><em> </em>

linear_extrude(30) {
    difference() {
        cross();
        offset(-2) cross();
    }
}</code></pre>
<p>Instead of typing the module definition in <em>cookie-cutter.scad</em>, the first line tells OpenSCAD to use code from <em>cross-module.scad</em>. This is what provides the definition for the cross shape.</p>
<p>The <code>use</code> keyword tells OpenSCAD to load the modules from a different file. The syntax for the <code>use</code> keyword is as follows:</p>
<pre><code>use <var>&lt;path/to/filename.scad&gt;</var></code></pre>
<p>After the <code>use</code> keyword, add <em>angle brackets</em> (<code>&lt; &gt;</code>), and inside the angle brackets, specify the name of the <em>.scad</em> file you want to use. If the file you want to use is not in the same folder as your main design file, specify either the absolute or relative path to the file. A <code>use</code> statement allows you to use the module definitions from the file, but it will not immediately result in any shape being drawn.</p>
<p>Generating a preview of <em>cookie-cutter.scad </em>will now produce the same shape as in <a href="#figure5-1">Figure 5-1</a>. However, generating a preview of <em>cross-module.scad </em>will not produce any shape. That is because <em>cross-module.scad </em>currently only contains a definition of the cross module. In order to see what the cross shape looks like by generating a preview of <em>cross-module.scad</em>, you need to add a statement to draw the cross:</p>
<pre><code>cross();

module cross() {
    square([100, 30], center=true);
<span epub:type="pagebreak" title="84" id="Page_84"/>    square([30, 100], center=true);
}</code></pre>
<h2 id="h1-279547c05-0003">Adding Parameters to Your Modules</h2>
<p class="BodyFirst">Because shapes come in different sizes, you’ll likely want your modules to allow for some variation. You already know that built-in OpenSCAD modules, like <code>sphere</code>, can take a parameter,<em> </em>such as <code>sphere(r=30);</code>, where the parameter specifies the sphere’s radius. You can add such parameters to your own modules as well. </p>
<p>The following pseudocode shows the full syntax for specifying a module, including parameters:</p>
<pre><code>module <var>ModuleName</var>(<var>parameterName</var> = <var>defaultValue</var>, ...) {
 // statements used to define the shape
}</code></pre>
<p>Instead of leaving the parentheses after the module definition empty, add a <var>parameterName</var>, which is a placeholder for a value that you’ll provide whenever you use the module. You can also give each parameter a <var>defaultValue</var>, so if the user of a module doesn’t specify a value for a parameter, the module will use the default value instead. Providing a default value allows people to use the module without having to specify all parameters, which can be beneficial when experimenting with a module, or it can hide distracting details when the default value is a common choice. To create multiple parameters, specify multiple parameter names, separated by commas, and be sure to give each parameter a different name.</p>
<p>You may have noticed that parameters look a lot like variables. In fact, inside a module, parameters behave as if they were variables. It’s good practice to give parameters names that describe their purpose. As with variables and module names, parameter names can only include letters, underscores, or numbers.</p>
<p><a href="#listing5-3" id="listinganchor5-3">Listing 5-3</a> shows how to add parameters to the <code>cross</code> module:</p>
<pre><code>module cross(width=30, length=100) {
    square([length, width], center=true);
    square([width, length], center=true);
}</code></pre>
<p class="CodeListingCaption"><a id="listing5-3">Listing 5-3</a>: Defining the <code>cross</code> module with parameters</p>
<p>Inside the parentheses, you add the <code>width</code> and <code>length</code> parameters, which define the width and length of each arm of the cross. </p>
<p>To create a cross shape with the <code>cross</code> module, provide specific values for each parameter each time you use the module, as shown in <a href="#listing5-4" id="listinganchor5-4">Listing 5-4</a>.</p>
<pre><code>use &lt;cross-module.scad&gt;

linear_extrude(30) {
    difference() {
<span epub:type="pagebreak" title="85" id="Page_85"/>        cross(20, 100);
        offset(-2) cross(20, 100);
    }
}</code></pre>
<p class="CodeListingCaption"><a id="listing5-4">Listing 5-4</a>: Specifying values for the <code>cross</code> module</p>
<p>The order of the numbers indicates which should be interpreted as the width of the cross and which should be interpreted as the length of the cross. Since the <code>width</code> parameter comes first in the definition of the module, the first number in the parentheses is assigned to the <code>width</code> parameter, and the second number is assigned to the <code>length</code> parameter.</p>
<p>OpenSCAD also allows you to name your parameters explicitly when you use a module, which can be helpful when you create a shape with a large number of parameters (and keeping track of the order becomes unwieldy):</p>
<pre><code>cross(width=20, length=100);</code></pre>
<p>When you use a module and name your parameters, the order of the parameters is not important. Switching the order of the length and width parameters does not affect the appearance of the shape:</p>
<pre><code>cross(length=100, width=20); </code></pre>
<p>Now the module is truly dynamic; you can use it to create cookie cutters of any size (<a href="#figure5-2" id="figureanchor5-2">Figure 5-2</a>).</p>
<figure>
<img src="image_fi/279547c05/f05002.png" alt="f05002"/>
<figcaption><p><a id="figure5-2">Figure 5-2</a>: A variety of cookie cutters, each created with different parameters</p></figcaption>
</figure>
<h2 id="h1-279547c05-0004"><span epub:type="pagebreak" title="86" id="Page_86"/>Building a LEGO Brick</h2>
<p class="BodyFirst">In this section, we’ll walk through a complex modeling project that uses parameters, modules, and <code>for</code> loops in a single design. You’ll design a LEGO brick shape that has two studs in one direction and any number of studs in the other direction. <em>Studs </em>are the small bumps on the top of a LEGO brick that fit into other LEGO bricks to hold them together. <a href="#figure5-3" id="figureanchor5-3">Figure 5-3</a> shows a LEGO brick with two rows and four studs per row.</p>
<figure>
<img src="image_fi/279547c05/f05003.png" alt="f05003"/>
<figcaption><p><a id="figure5-3">Figure 5-3</a>: A LEGO brick with a 2<span class="NSSymbol">×</span>4 grid of studs</p></figcaption>
</figure>
<p>Before coding a complicated design like this, sketching a few hand-drawn versions of your shape can help you gain a firm understanding of the dimensions and patterns that exist within the shape (<a href="#figure5-4" id="figureanchor5-4">Figure 5-4</a>). </p>
<figure>
<img src="image_fi/279547c05/f05004.png" alt="f05004"/>
<figcaption><p><a id="figure5-4">Figure 5-4</a>: A hand-drawn exploration of the dimensions of LEGO bricks of various sizes</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="87" id="Page_87"/>The dimensions of LEGO bricks are readily available online. We’ve taken our dimensions from Wikipedia:</p>
<ul>
<li>The height of a brick is 9.6 mm.</li>
<li>The height of a stud is 1.7 mm.</li>
<li>The diameter of a stud is 4.8 mm.</li>
</ul>
<p>Each new stud adds 8 mm to the width of the brick to accommodate not only the diameter of a stud, but also the empty space surrounding a stud. The length of a brick is also dependent on the number of studs. You’ll generate only bricks with two rows of studs, which implies a fixed brick length of 16 mm for this example.</p>
<p>Exploring a variety of hand-drawn LEGO shapes makes it easier to identify the OpenSCAD statements necessary for defining a LEGO brick module.</p>
<p><a href="#listing5-5" id="listinganchor5-5">Listing 5-5</a> defines a LEGO brick module.</p>
<pre><code>module LEGObrick(studs_per_row=4) {
    $fn=30;
    
    width = studs_per_row * 8;

    cube([width, 16, 9.6]);
    
    for (x_position=[4 : 8 : width-4]) {
        translate([x_position, 4, 1.7]) cylinder(h=9.6, d=4.8);
        translate([x_position, 12, 1.7]) cylinder(h=9.6, d=4.8);
    }
}

LEGObrick(4);</code></pre>
<p class="CodeListingCaption"><a id="listing5-5">Listing 5-5</a>: Drawing a LEGO brick with modules</p>
<p>Start by creating a module named <code>LEGObrick</code> with a <code>studs_per_row</code> parameter. This parameter represents the number of studs along the top of the LEGO brick, which determines the overall width along the x-axis of the brick. LEGO bricks come in different sizes, so this parameter will be useful as a way to reuse the same module to draw a variety of brick sizes. We chose to set a default value of 4 studs per row, but this is an arbitrary choice.</p>
<p>A variable called <code>width</code> is created to keep track of the overall width of the brick, which is based on <code>studs_per_row</code>. Each additional stud increases the width of the brick by 8 mm:</p>
<pre><code>width = studs_per_row * 8;</code></pre>
<p>Other dimensions of the LEGO brick remain fixed, unrelated to the number of studs per row:</p>
<pre><code>    cube([width, 16, 9.6]);</code></pre>
<p><span epub:type="pagebreak" title="88" id="Page_88"/>A <code>for</code> loop is used to draw each repeated stud in its proper position:</p>
<pre><code>for (x_position=[4<span class="CodeAnnotation" aria-label="annotation1">1</span> : 8<span class="CodeAnnotation" aria-label="annotation2">2</span> : width-4<span class="CodeAnnotation" aria-label="annotation3">3</span>]) {
    translate([x_position, 4, 1.7]) cylinder(h=9.6, d=4.8);
    translate([x_position, 12, 1.7]) cylinder(h=9.6, d=4.8);
}</code></pre>
<p>Inside the <code>for</code> loop, the variable <code>x_position</code> keeps track of the x position of each stud. The first stud is centered at x = 4 mm <span class="CodeAnnotation" aria-label="annotation1">1</span>, and each additional stud is positioned 8 mm <span class="CodeAnnotation" aria-label="annotation2">2</span> away from the previous stud. Similarly, the last stud in each row is centered 4 mm from the overall width of the brick <span class="CodeAnnotation" aria-label="annotation3">3</span>. Two rows of studs are drawn with the exact same values on the x-axis. Since we’re restricting ourselves to just two studs on the y-axis, it’s easier to position the rows explicitly at y = 4 mm and y = 12 mm instead of using a second loop.</p>
<p>The <code>LEGObrick</code> module is now complete, which means you can use it to create LEGO bricks of various sizes, like the ones in <a href="#figure5-5" id="figureanchor5-5">Figure 5-5</a>. </p>
<figure>
<img src="image_fi/279547c05/f05005.png" alt="f05005"/>
<figcaption><p><a id="figure5-5">Figure 5-5</a>: A variety of LEGO bricks created with the same <span class="LiteralInCaption"><code>LEGObrick</code></span> module</p></figcaption>
</figure>
<p>This module is only a simplified design of a LEGO brick, however; it won’t function as a real brick would, because the current design doesn’t include an interior mechanism on the bottom of the brick for snapping bricks together. We leave that as a challenge for you.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="89" id="Page_89"/>Tips</h2>
<p class="BoxBodyFirst">You might have noticed a new use of the <code>cylinder</code> module to generate the <code>LEGOBrick</code> module:</p>
<pre><code>    cylinder(h=9.6, d=4.8);</code></pre>
<p>This version of <code>cylinder</code> uses a single <code>d</code> parameter to indicate that both faces of the cylinder should have the same diameter. In past chapters, we would have drawn a cylinder with two separate parameters to indicate the radius of individual faces:</p>
<pre><code>    cylinder(h=9.6, r1=2.4, r2=2.4);</code></pre>
<p>OpenSCAD provides four alternative ways of using a <code>cylinder</code> module. Each method uses a different combination of named parameters:</p>
<pre><code>    cylinder(h, r|d, center)
    cylinder(h, r1|d1, r2|d2, center)</code></pre>
<p>The <code>|</code> indicates that you can either use <code>r</code> or <code>d</code>, depending on whether you prefer using the radius or diameter to define cylinder faces. If both faces have the same size, it can be easier and less error-prone to define the size of both faces just once. Otherwise, you can use two different parameters to indicate the size of each face. Which version you use is up to you!</p>
<p>In prior chapters, we used a single version of the <code>cylinder</code> module to reduce the number of new OpenSCAD commands needed to draw both cylinder and cone shapes. Alternative versions of the <code>cylinder</code> module are introduced in this chapter to illustrate the variety of choices you have in regard to choosing and naming parameters. Alternative versions of cylinder and other OpenSCAD modules are listed in <span class="xref" itemid="xref_target_Appendix A_OpenSCAD Language Reference">Appendix A: OpenSCAD Language Reference</span>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-279547c05-0005">Sharing and Collaborating</h2>
<p class="BodyFirst">If you save your modules in separate files, you can reuse your new shapes in multiple designs, as you saw earlier in this chapter. Keeping your modules separate also allows you to share common design components with other people or use other people’s components instead of building everything yourself. Splitting a design into multiple modules allows you to collaborate more easily.</p>
<p>Let’s walk through a possible collaboration. Say you and a friend want to work together to make a 3D animation of a LEGO castle. To save time, you decide to split the design into two tasks that can be completed <span epub:type="pagebreak" title="90" id="Page_90"/>in parallel using two different computers. Your friend decides to design a module that will draw a LEGO brick shape, while you will be in charge of designing a castle that is made from LEGO brick shapes.</p>
<p>You and your friend first decide what the <code>LEGO</code> module should look like. You agree on a name for the module (<code>LEGObrick</code>), any necessary parameters and their defaults (<code>studs_per_row</code>), with a default of three studs, and the basic shape and size of each brick (24 <span class="NSSymbol">×</span> 16 <span class="NSSymbol">×</span> 9.6 mm for a 3<span class="NSSymbol">×</span>2 brick). Your friend then goes off and builds a simple version of the <code>LEGObrick</code> module in a file called <em>LEGObrick-module.scad</em>, shown in <a href="#figure5-6" id="figureanchor5-6">Figure 5-6</a>: </p>
<pre><code>LEGObrick();
module LEGObrick(studs_per_row=3) {
    cube([24, 16, 9.6]);
}</code></pre>
<figure>
<img src="image_fi/279547c05/f05006.png" alt="f05006"/>
<figcaption><p><a id="figure5-6">Figure 5-6</a>: A simple version of the <span class="LiteralInCaption"><code>LEGObrick</code></span> module</p></figcaption>
</figure>
<p>Even though the <code>LEGObrick</code> module isn’t complete (this simple version of the module doesn’t have studs yet), you can still use it as a building block to start creating the castle design in a file called <em>castle-wall.scad</em>, as shown in <a href="#figure5-7" id="figureanchor5-7">Figure 5-7</a>.</p>
<figure>
<img src="image_fi/279547c05/f05007.png" alt="f05007"/>
<figcaption><p><a id="figure5-7">Figure 5-7</a>: A wall of the LEGO castle that uses a basic version of the <span class="LiteralInCaption"><code>LEGObrick</code></span> module</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="91" id="Page_91"/>Meanwhile, your friend keeps working on the <code>LEGObrick</code> module, and every time it improves, your friend shares their new version of <em>LEGObrick-module.scad </em>with you. Because OpenSCAD designs are plaintext files (with a <em>.scad</em> extension), you can share them by emailing the files as attachments, copying and pasting OpenSCAD code directly from email or other documents, or by using more advanced services like GitHub to make designs public. 3D design-sharing websites also exist. One of the more popular ones, which supports OpenSCAD directly, is Thingiverse (<a href="https://thingiverse.com/" class="LinkURL">https://thingiverse.com/</a>).</p>
<p>Every time your friend shares an updated version of <em>LEGObrick-module.scad</em>, you replace your old version of the file with the new version. Your castle design in <em>castle-wall.scad</em> will update to use the newest definition of <code>LEGObrick</code> each time you Preview or Render your castle code. Over time, your design may look more like the one shown in <a href="#figure5-8" id="figureanchor5-8">Figure 5-8</a>.</p>
<figure>
<img src="image_fi/279547c05/f05008.png" alt="f05008"/>
<figcaption><p><a id="figure5-8">Figure 5-8</a>: Building the castle by using the updated <span class="LiteralInCaption"><code>LEGObrick</code></span> module</p></figcaption>
</figure>
<p>This collaboration strategy saves you time, because you and your friend can work on the <code>LEGObrick</code> module and castle design simultaneously. You don’t have to wait for your friend to finish a part before you can make progress on your own part, while your friend can see how small changes in their module design effect the overall castle design.</p>
<h2 id="h1-279547c05-0006">Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to organize your design into smaller logical components by using modules, which can make your OpenSCAD code more readable, facilitate collaboration, and help you customize your design.</p>
<p>When using modules, remember these key concepts:</p>
<ul>
<li>Module definitions have three parts: a name, a parameter list, and a body.</li>
<li>The body of the module contains a collection of OpenSCAD statements that define the unique shape of the module.</li>
<li><span epub:type="pagebreak" title="92" id="Page_92"/>To use a module, create the shape by using the name of the module in your design. If your module isn’t showing up, check that you’re actually using the name of the module in your code statements; it’s possible you’ve only defined the module.</li>
<li>When designing a module, choose module names and parameters that obviously describe their purpose, so someone using your module won’t need to read your module definition to know what it does. This can also help you later if you have forgotten the module’s details.</li>
<li>Parameters are useful for specifying a module’s characteristics. Identifying which variables should be included as parameters is an important part of designing a module.</li>
<li>Specifying default values for parameters is a useful way to make some parameters optional.</li>
<li>Separating your module definition into other files helps you use the module in other OpenSCAD designs. You can also group related modules into a library. As with modules and variables, choose filenames that adequately describe their purpose.</li>
<li>Connecting your design to a module with the <code>use</code> keyword won’t immediately add new shapes to your design. You have to explicitly use the module in your code to see the new shape. </li>
<li>It’s common practice to draw the shape defined by a module at the top of a module definition file. This is helpful for testing purposes. </li>
</ul>
<p>Try searching online for examples of OpenSCAD modules to see more examples of user-defined shapes. You can learn a lot by inspecting and tinkering with other people’s solutions, especially when it comes to figuring out which parameters to include.</p>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c05-0007"><span epub:type="pagebreak" title="93" id="Page_93"/>Design Time: Modules</h2>
<p class="BoxBodyFirst">Practice using modules to define each of the shapes in <a href="#figure5-9" id="figureanchor5-9">Figure 5-9</a>. We’ve suggested a few parameters for each module. Feel free to create modules with a different list of parameters. </p>
<figure>
<img src="image_fi/279547c05/f05009.png" alt="f05009"/>
<figcaption><p><a id="figure5-9">Figure 5-9</a>: Practice using modules to create these designs.</p></figcaption></figure><div class="dottedBottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c05-0008"><span epub:type="pagebreak" title="94" id="Page_94"/>Big Projects: Modules</h2>
<p class="BoxBodyFirst">Now try your hand at these two projects. </p>
<h3>Skyscraper </h3>
<p class="BoxBodyFirst">Design a module that generates a variety of skyscrapers (<a href="#figure5-10" id="figureanchor5-10">Figure 5-10</a>). Control the design of your skyscraper by using parameters to determine its length, width, height, and number of windows. Don’t forget to draw windows on the other side of the skyscraper!</p>
<figure>
<img src="image_fi/279547c05/f05010.png" alt="f05010"/>
<figcaption><p><a id="figure5-10">Figure 5-10</a>: A variety of skyscrapers generated with the same module</p></figcaption></figure>
<h3>LEGO Library </h3>
<p class="BoxBodyFirst">Build a library of creative brick modules by adding definitions for multiple brick types to the same file. Use parameters to control the length of each brick. Create corner bricks, wall bricks, and double-sided bricks (<a href="#figure5-11" id="figureanchor5-11">Figure 5-11</a>). Try to create your own unique brick type to add to the library.</p>
<figure>
<img src="image_fi/279547c05/f05011.png" alt="f05011"/>
<figcaption><p><a id="figure5-11">Figure 5-11</a>: A variety of corner, wall, and double-sided LEGO bricks</p></figcaption></figure><div class="dottedBottom hr"><hr/></div>
</section>
</aside>
</section>
</body></html>