- en: '**4**'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**4**'
- en: '**PLANNING AND PREPARATION**'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**计划与准备**'
- en: '![image](../images/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common-01.jpg)'
- en: This chapter describes the preparatory steps performed prior to imaging a disk
    or storage medium. These include setting up an audit trail of investigator activity,
    saving output for reports, and deciding on naming conventions. In addition, I
    describe various logistical challenges involved in the forensic acquisition of
    storage media and how to establish a protected write-blocking environment.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章描述了在对磁盘或存储介质进行成像之前的准备步骤。这些步骤包括设置调查员活动的审计跟踪、保存报告输出以及决定命名规范。此外，我还描述了与法医采集存储介质相关的各种后勤挑战，以及如何建立一个受保护的写阻环境。
- en: The subject of forensic readiness overlaps somewhat with the sections in this
    chapter. However, forensic readiness is a broader topic that includes general
    planning, budgeting, lab infrastructure, staff training, hardware and software
    purchasing, and so on. If you consider the preceding requirements needed as “macro”
    forensic readiness, you can consider the information in this chapter as “micro”
    forensic readiness. The focus is narrower and includes setting up a forensic examiner’s
    workstation environment and the tools and individual tasks needed to analyze a
    disk or storage media.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 法医准备的主题与本章中的某些部分有所重叠。然而，法医准备是一个更广泛的话题，包括一般的规划、预算、实验室基础设施、员工培训、硬件和软件采购等。如果将前述需求视为“宏观”法医准备，可以将本章中的信息视为“微观”法医准备。焦点较窄，涵盖了设置法医检查员工作站环境、分析磁盘或存储介质所需的工具和各项任务。
- en: It is worth noting that forensic readiness in a private sector organization
    (in a corporate forensic lab, for example) is different from forensic readiness
    in some public sector organizations, such as law enforcement agencies. Private
    sector organizations, especially large corporate IT environments, can dictate
    how their IT infrastructure is built and operated. Forensic readiness in this
    controlled environment can be built into the IT infrastructure, providing advantages
    for a forensic examiner in the event of an investigation or incident. This chapter
    focuses on preparatory forensic tasks, which the private sector and public sector
    have in common.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 值得注意的是，私人部门组织（例如企业法医实验室）的法医准备与某些公共部门组织（如执法机关）的法医准备有所不同。私人部门组织，尤其是大型企业IT环境，可以决定其IT基础设施的构建和运行方式。可以将法医准备嵌入到这种受控的IT基础设施中，在调查或事件发生时为法医检查员提供优势。本章重点讨论的是私人和公共部门共有的法医准备任务。
- en: '**Maintain an Audit Trail**'
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**保持审计跟踪**'
- en: An audit trail or log maintains a historical record of actions, events, and
    tasks. It can have various levels of detail and can be either manual or automated.
    This section covers several command line methods for manually tracking tasks as
    well as automated logging of command line activity.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 审计跟踪或日志维护了操作、事件和任务的历史记录。它可以有不同的详细程度，并可以是手动的或自动的。本节介绍了几种手动跟踪任务的命令行方法以及自动记录命令行活动的方式。
- en: '***Task Management***'
  id: totrans-8
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***任务管理***'
- en: During a forensic examination, it’s beneficial to keep a high-level log of pending
    and completed activity. Pending tasks turn into completed tasks, and completed
    tasks make up the examination’s historical record. Often while working, you’ll
    think of a task that you need to address sometime in the future or a task you’ve
    completed and should note. Making quick notes and more comprehensive task lists
    becomes increasingly valuable as the length of the examination grows (possibly
    to many hours, days, or longer) or when more than one examiner is involved.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在法医检查过程中，保持一个高层次的待办和已完成活动日志是很有益的。待办任务会转变为已完成任务，而已完成的任务构成了检查的历史记录。在工作过程中，你常常会想到一些未来需要处理的任务，或者已经完成并应记录的任务。随着检查时间的延长（可能需要很多小时、天数甚至更长时间）或涉及多名检查员时，快速记录和更全面的任务清单变得愈加重要。
- en: 'Maintaining a list of pending and completed tasks during an examination is
    important for a number of reasons:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在考试过程中，维护待办任务和已完成任务的列表对于多种原因都很重要：
- en: • Helps ensure nothing was forgotten
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: • 有助于确保没有遗漏任何事情
- en: • Avoids duplicating work already done
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: • 避免重复已完成的工作
- en: • Improves collaboration and coordination when working in teams
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: • 提高团队协作和协调性
- en: • Shows compliance with policies and procedures
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: • 展示符合政策和程序的情况
- en: • Facilitates accounting, including billing
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: • 便于账务处理，包括计费
- en: • Helps produce documentation and reports (formal incident reports or forensic
    reports)
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: • 帮助生成文档和报告（正式的事件报告或取证报告）
- en: • Allows for post-incident review to identify lessons learned and support process
    optimization
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: • 允许事后审查，以识别经验教训并支持过程优化
- en: • Helps to maintain a longer-term historical record of completed activity
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: • 帮助维护已完成活动的长期历史记录
- en: • Supports learning and education for new team members
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: • 支持新团队成员的学习和教育
- en: • Serves as a guide to remember complex procedures
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: • 作为记住复杂程序的指南
- en: • Provides information for troubleshooting problems and getting support
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: • 提供故障排除信息并获得支持
- en: • Maintains a record of work done by external and third-party examiners
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: • 维护外部和第三方检查员的工作记录
- en: Many commercial task managers and investigation management tools are available,
    but the focus in this section is on simple task management that you can do from
    the command line. Using the command line permits you to quickly track tasks and
    activity without leaving the terminal to access some other graphical or web-based
    application.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 许多商业任务管理器和调查管理工具可供使用，但本节重点介绍可以通过命令行完成的简单任务管理。使用命令行可以快速跟踪任务和活动，而无需离开终端去访问其他图形或基于
    Web 的应用程序。
- en: Many open source command line task managers are available and can be used to
    manage a forensic examiner’s activity. The most important criteria include reliable
    task recording and a detailed timestamp (not just dates).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多开源命令行任务管理器可供使用，可用于管理取证检查员的活动。最重要的标准包括可靠的任务记录和详细的时间戳（不仅仅是日期）。
- en: '**Taskwarrior**'
  id: totrans-25
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**Taskwarrior**'
- en: Taskwarrior is a popular task manager with many features for managing large
    task lists in a quick and efficient manner. You’ll find more information about
    Taskwarrior at *[http://taskwarrior.org/](http://taskwarrior.org/)*. The following
    examples show Taskwarrior commands in practical use in a forensic lab context.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: Taskwarrior 是一款流行的任务管理器，具有许多功能，能够快速高效地管理大量任务列表。你可以在 *[http://taskwarrior.org/](http://taskwarrior.org/)*
    查找更多关于 Taskwarrior 的信息。以下示例展示了 Taskwarrior 命令在取证实验室环境中的实际应用。
- en: 'To add several pending tasks:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 添加多个待办任务：
- en: '[PRE0]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To list the current task list (`task info` will show times and more detailed
    information):'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 列出当前任务列表（`task info` 将显示时间和更详细的信息）：
- en: '[PRE1]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'To complete a task on the task list:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 完成任务列表中的任务：
- en: '[PRE2]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'To log a completed task without placing it on the task list:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 记录已完成任务，但不将其放入任务列表：
- en: '[PRE3]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Taskwarrior is useful for managing large numbers of tasks. It provides reports,
    searching, sorting, and various levels of customizable detail. Taskwarrior maintains
    timestamps and unique identifiers (UUID) for each task, manages prioritization
    of pending tasks, and keeps a history of completed tasks. The ability to create
    user-defined attributes makes it customizable for specific settings, such as a
    forensics lab or examination process.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: Taskwarrior 对于管理大量任务非常有用。它提供报告、搜索、排序和各种自定义细节级别。Taskwarrior 为每个任务维护时间戳和唯一标识符（UUID），管理待办任务的优先级，并保持已完成任务的历史记录。创建用户定义属性的能力使其可定制，适用于特定的设置，例如取证实验室或检查过程。
- en: '**Todo.txt**'
  id: totrans-36
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**Todo.txt**'
- en: 'You can also maintain a list of completed tasks and pending work by editing
    a simple text file. An example is the *todo.txt* file format by Gina Trapani (see
    *[http://todotxt.com/](http://todotxt.com/)* for more information). The *todo.txt*
    system defines a file format for task creation and completion dates, priorities,
    projects, and contexts. It also provides a shell script to manage the *todo.txt*
    file. Although the `todo.sh` script performs all the necessary operations on the
    *todo.txt* task list, the file format can be managed using a regular text editor.
    The notation indicates priority with parentheses (`(A)`, `(B)`, and so on), context
    keywords with `@`, and project keywords with `+`. Completed tasks are prefixed
    with an `x`. Here is an example *todo.txt* file:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过编辑简单的文本文件来维护已完成的任务和待办事项列表。一个例子是 Gina Trapani 提出的 *todo.txt* 文件格式（更多信息请见
    *[http://todotxt.com/](http://todotxt.com/)*）。*todo.txt* 系统定义了一个任务创建和完成日期、优先级、项目和上下文的文件格式。它还提供了一个
    Shell 脚本来管理 *todo.txt* 文件。虽然 `todo.sh` 脚本执行了所有必要的操作来管理 *todo.txt* 任务列表，但文件格式可以通过常规文本编辑器进行管理。符号表示优先级（`(A)`、`(B)`
    等）、上下文关键字以 `@` 表示、项目关键字以 `+` 表示。已完成的任务前缀为 `x`。以下是一个 *todo.txt* 文件示例：
- en: '[PRE4]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The *todo.txt* apps don’t use timestamps, only dates. If you use this system,
    you must manually include the time with the completed task.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '*todo.txt* 应用程序不使用时间戳，仅使用日期。如果你使用这个系统，必须手动为已完成的任务添加时间。'
- en: '**Shell Alias**'
  id: totrans-40
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**Shell Alias**'
- en: 'You can also maintain an examiner activity log of completed tasks without the
    use of task management software. For example, here is a simple shell alias that
    redirects a short description into a file with a timestamp:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以在不使用任务管理软件的情况下维护一个检查员活动日志，记录已完成的任务。例如，以下是一个简单的shell别名，它将简短描述重定向到带有时间戳的文件中：
- en: '[PRE5]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You can customize the log filename and date format as desired. Making a quick
    note of activity or viewing past activity takes a simple one-line command, which
    you can enter anytime during the examination process. When something significant
    or notable occurs, enter `log` followed by the short description of the action
    taken. For example:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以根据需要自定义日志文件名和日期格式。快速记录活动或查看过去的活动只需要一条简单的命令，您可以在检查过程中随时输入。当发生重要或值得注意的事情时，输入`log`，后面跟上对所采取行动的简短描述。例如：
- en: '[PRE6]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Simple systems for managing tasks are useful for staff who spend much of their
    time working on the command line. They are also advantageous for remotely working
    on systems with secure shell (ssh).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 用于管理任务的简单系统对大部分时间在命令行上工作的工作人员非常有用。它们对于通过安全外壳（ssh）远程工作时也很有优势。
- en: '***Shell History***'
  id: totrans-46
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***Shell 历史***'
- en: This section discusses how to set up automated logging of shell commands entered
    by the examiner on the command line. Ideally, this command logging should not
    increase complexity or interfere with the forensic work in progress. Using various
    tools, you can log the examiner’s command line activity with automated background
    processes. This approach is completely transparent to the examiner during the
    course of a forensic investigation.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 本节讨论如何设置自动记录检查员在命令行上输入的shell命令。理想情况下，这种命令日志记录不应增加复杂性或干扰正在进行的取证工作。通过使用各种工具，您可以通过自动化后台进程记录检查员的命令行活动。这种方法在取证调查过程中对检查员完全透明。
- en: The Unix/Linux shell was not originally designed with logging or audit trails
    in mind. In the past, patches have been created to augment the history mechanism,
    hacks have attempted to capture commands as the shell is used, and commercial
    products have performed various enterprise logging. Developing a robust auditing
    and compliance system to log all commands with timestamps, including shell builtins
    as well as executed programs and pipelines, is beyond the scope of this book.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Unix/Linux shell最初并没有考虑日志记录或审计追踪。在过去，曾经创建过补丁来增强历史机制，黑客也尝试在shell使用时捕获命令，而商业产品则进行了各种企业级日志记录。开发一个强大的审计和合规系统来记录所有命令的时间戳，包括shell内建命令以及执行的程序和管道，超出了本书的范围。
- en: 'The Bash shell history can be configured to satisfy the following basic requirements:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 可以配置Bash shell历史以满足以下基本要求：
- en: • Record the command entered by the examiner
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: • 记录检查员输入的命令
- en: • Record a timestamp for each command entered
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: • 为每个输入的命令记录时间戳
- en: • Record all commands, including duplicates, comments, and space-prefixed commands
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: • 记录所有命令，包括重复命令、注释和空格前缀的命令
- en: • Avoid truncating or overwriting history files
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: • 避免截断或覆盖历史文件
- en: • Avoid conflicts when using multiple terminal windows on the same system
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: • 在同一系统上使用多个终端窗口时避免冲突
- en: • Include root and non-root command history
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: • 包括root和非root命令历史
- en: 'Using basic Bash shell history as an audit trail is rudimentary. Important
    information, such as the command completion time, the working directory where
    the command was executed, and the return code, are not logged. The Bash history
    is also not a tamper-resistant system: the examiner can easily modify or delete
    the history. Creating a secure and tamper-resistant audit environment with restricted
    access is beyond the scope of this book.'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 使用基本的Bash shell历史作为审计追踪是初级的。重要信息，如命令完成时间、命令执行的工作目录和返回码，并没有被记录。Bash历史也不是一个防篡改的系统：检查员可以轻松修改或删除历史记录。创建一个安全且防篡改的审计环境并限制访问超出了本书的范围。
- en: Some shells, such as zsh, have additional history features that allow for the
    logging of elapsed time. Other proposed solutions to improve shell logging include
    the use of `PS1`, `PROMPT_COMMAND`, `trap` and `DEBUG`, and `key` bindings to
    modify a command before executing. Using `sudo` logging; `auditd` logging; or
    special scripts, such as `preexec.sh`, can also increase command line logging.
    A useful tutorial at *[http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/](http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/)*
    discusses this problem at length and proposes a solution. The command line audit
    trail should be tailored to particular lab policies or expectations.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 一些 shell，如 zsh，具有额外的历史记录功能，允许记录经过的时间。其他改进 shell 日志记录的提议解决方案包括使用 `PS1`、`PROMPT_COMMAND`、`trap`
    和 `DEBUG`，以及 `key` 绑定来在执行命令之前修改它。使用 `sudo` 日志记录；`auditd` 日志记录；或特殊脚本，如 `preexec.sh`，也可以增加命令行日志记录。一个有用的教程
    *[http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/](http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/)*
    详细讨论了这个问题并提出了解决方案。命令行审计跟踪应根据特定的实验室政策或期望进行定制。
- en: 'For basic shell command logging, the built-in shell history functionality can
    be configured to record command line activity. Bash provides some useful functionality,
    including the ability to enable the time stamping of the commands entered. You
    can add the following commands to the Linux startup scripts (`.bashrc` and so
    on) to enable the basic requirements outlined in the previous list:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 对于基本的 shell 命令日志记录，可以配置内置的 shell 历史记录功能来记录命令行活动。Bash 提供了一些有用的功能，包括启用命令输入时间戳的功能。你可以将以下命令添加到
    Linux 启动脚本（如 `.bashrc` 等）中，以启用之前列表中概述的基本要求：
- en: '[PRE7]'
  id: totrans-59
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: These commands ensure that history is enabled and in append mode (as opposed
    to overwriting with each new login). The two variables `HISTCONTROL` and `HISTIGNORE`
    control which commands are saved to the history file. A common default setting
    is to ignore duplicates and commands beginning with a space. To ensure complete
    logging of all commands, the `HISTCONTROL` and `HISTIGNORE` variables are explicitly
    set to null. The `HISTFILE` variable is explicitly set to ensure command history
    held in memory is saved when a shell exits. `HISTFILESIZE` and `HISTSIZE` are
    set to `-1` to ensure history is not truncated or overwritten. The `HISTTIMEFORMAT`
    variable enables timestamps to be written to the history file and allows you to
    set a time format. The format can include regional settings and should include
    a timestamp, not just the date.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这些命令确保历史记录已启用并处于附加模式（而不是在每次新登录时覆盖）。两个变量 `HISTCONTROL` 和 `HISTIGNORE` 控制哪些命令会保存到历史文件中。一个常见的默认设置是忽略重复的命令和以空格开头的命令。为了确保完整记录所有命令，`HISTCONTROL`
    和 `HISTIGNORE` 变量明确设置为 null。`HISTFILE` 变量明确设置，确保 shell 退出时内存中的命令历史被保存。`HISTFILESIZE`
    和 `HISTSIZE` 设置为 `-1`，以确保历史记录不会被截断或覆盖。`HISTTIMEFORMAT` 变量启用将时间戳写入历史文件，并允许你设置时间格式。该格式可以包括地区设置，并应包括时间戳，而不仅仅是日期。
- en: 'At the end of the examination, the history can be saved to a text file and
    included in the examination’s supporting data files. The history can then be reset
    and made ready for the next examination by using the following commands:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在考试结束时，历史记录可以保存到文本文件中，并包含在考试的支持数据文件中。然后可以通过以下命令重置历史记录并为下次考试做好准备：
- en: '[PRE8]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Synchronizing the history across multiple shell instances can be tricky because
    each shell keeps its history in memory and writes it to the history file only
    on exit. Setting the variable `PROMPT_COMMAND='history -a; history -r'` will write
    (append) and read new commands from the Bash history file every time the command
    prompt is displayed.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在多个 shell 实例之间同步历史记录可能比较棘手，因为每个 shell 都将历史记录保存在内存中，并仅在退出时将其写入历史文件。设置变量 `PROMPT_COMMAND='history
    -a; history -r'` 将在每次显示命令提示符时，向 Bash 历史文件写入（附加）并读取新命令。
- en: 'A command logger that is actively developed is Snoopy: it provides a number
    of features, including logging the commands to syslog. Snoopy is a preloaded library
    that functions as a wrapper around the `execv()` and `execve()` system calls.
    It is transparent to users, and you can enable and configure it by adding the
    Snoopy library to */etc/ld.so.preload* and editing the */etc/snoopy.ini* file.
    For example, suppose the following series of commands are entered on the Bash
    command prompt:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 一个正在积极开发的命令日志记录器是 Snoopy：它提供了许多功能，包括将命令记录到 syslog。Snoopy 是一个预加载的库，作为 `execv()`
    和 `execve()` 系统调用的包装器。它对用户是透明的，你可以通过将 Snoopy 库添加到 */etc/ld.so.preload* 并编辑 */etc/snoopy.ini*
    文件来启用和配置它。例如，假设在 Bash 命令提示符中输入以下一系列命令：
- en: '[PRE9]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'These commands are individually logged to syslog with various details:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 这些命令会单独记录到syslog中，并附带各种细节：
- en: '[PRE10]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: You’ll find more information and the latest release of Snoopy at *[https://github.com/a2o/snoopy/](https://github.com/a2o/snoopy/)*.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在 *[https://github.com/a2o/snoopy/](https://github.com/a2o/snoopy/)* 找到更多信息和Snoopy的最新版本。
- en: '***Terminal Recorders***'
  id: totrans-69
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***终端记录器***'
- en: In some cases, it might be useful to show the work done in the terminal, complete
    with command output (`stdout`), error messages (`stderr`), and other messages
    or activity visible in a terminal session. Several tools exist to capture session
    activity and even provide playback of the session.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，展示终端中的工作过程可能很有用，包括命令输出（`stdout`）、错误信息（`stderr`）以及终端会话中可见的其他消息或活动。有多个工具可以捕获会话活动，甚至提供会话回放功能。
- en: The most well-known tool is script. In this example, script is started and the
    output appended to a file together with timing data for replay. After running
    `script`, you can execute any normal shell commands, and they’ll be saved for
    later viewing.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 最著名的工具是`script`。在这个示例中，`script`启动后将输出追加到文件中，并附上用于回放的时间数据。在运行`script`之后，你可以执行任何正常的shell命令，它们将被保存以供后续查看。
- en: '[PRE11]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'When the recorded session is finished, enter `exit` or press CTRL-D. You can
    view the recording using the `scriptreplay` command as follows:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 当录制的会话结束时，输入`exit`或按CTRL-D。你可以使用`scriptreplay`命令查看录制的内容，如下所示：
- en: '[PRE12]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Common issues that make this method challenging are the handling of control
    characters and events such as terminal resizing. Other TTY recorders and sniffers,
    such as ttyrec and termrec, are available with similar functionality and features.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 使这种方法具有挑战性的一些常见问题是处理控制字符和诸如终端调整大小等事件。其他TTY记录器和嗅探器，如ttyrec和termrec，也提供类似的功能和特性。
- en: 'Terminal multiplexers, such as tmux and GNU screen, also provide some level
    of logging that can be useful in certain situations. With screen, you can set
    up logging for a detached session from within a session (CTRL-A followed by H).
    The tmux terminal multiplexer now supports logging by using the `pipe-pane` option,
    as shown here:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 终端复用器，如tmux和GNU screen，也提供一些级别的日志记录，这在某些情况下可能非常有用。使用screen时，你可以为分离会话设置日志记录（CTRL-A，然后按H）。tmux终端复用器现在通过使用`pipe-pane`选项支持日志记录，如下所示：
- en: '[PRE13]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: '***Linux Auditing***'
  id: totrans-78
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***Linux审计***'
- en: Professional labs might want to implement more robust logging or an audit trail
    to satisfy stricter organizational policies or regulatory requirements. One possibility
    to achieve this is through auditd, a Linux audit package. Typically, this involves
    running the `auditd` daemon with *pam_tty_audit.so* configured as a pam module.
    You can review audit trail activity using the `aureport` command.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 专业实验室可能希望实施更为强大的日志记录或审计追踪，以满足更严格的组织政策或监管要求。一种实现方法是通过`auditd`，这是一个Linux审计包。通常，这涉及运行`auditd`守护进程，并将*pam_tty_audit.so*配置为pam模块。你可以使用`aureport`命令查看审计追踪活动。
- en: Using auditd provides several security advantages, especially when used with
    granular access control, such as `sudo`. Audit trails, in particular those logging
    to a central log host, can be made relatively tamper resistant, ensuring an increased
    level of integrity when recording examination work.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`auditd`提供了几个安全优势，尤其是在与精细化访问控制（如`sudo`）一起使用时。审计追踪，特别是那些记录到中央日志主机的追踪，可以变得相对不易篡改，从而确保在记录检查工作时增加完整性。
- en: Comprehensive audit trails can record all TTY activity (including keystrokes),
    as well as monitor file access and many other events on a system. Setting up auditing
    and audit reporting can be a complex process, one beyond the scope of this book.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 综合审计追踪可以记录所有TTY活动（包括按键），还可以监控文件访问以及系统上的许多其他事件。设置审计和审计报告可能是一个复杂的过程，超出了本书的范围。
- en: You’ll find discussions of other solutions and hacks in various places, including
    *[http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/](http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/)*
    and *[http://whmcr.com/2011/10/14/auditd-logging-all-commands/](http://whmcr.com/2011/10/14/auditd-logging-all-commands/)*.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你会在各种地方找到有关其他解决方案和黑客技巧的讨论，包括 *[http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/](http://www.pointsoftware.ch/en/howto-bash-audit-command-logger/)*
    和 *[http://whmcr.com/2011/10/14/auditd-logging-all-commands/](http://whmcr.com/2011/10/14/auditd-logging-all-commands/)*。
- en: As of Bash version 4.1, a new feature allowing command history logging to syslog
    has been added (it may require recompilation to enable).
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 从Bash 4.1版本开始，新增了将命令历史记录日志写入syslog的功能（可能需要重新编译才能启用）。
- en: '**Organize Collected Evidence and Command Output**'
  id: totrans-84
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**整理收集到的证据和命令输出**'
- en: When conducting a forensic examination on the command line, it’s common to save
    command output from various tools and utilities to files for future reference
    and reporting. You can do this by redirecting the output of commands to text files.
    Those files can be saved with the rest of the examination data collected. During
    the process of collecting and saving large amounts of evidence data, it is important
    to keep your file and directory structure organized and understandable. This section
    talks about various strategies to achieve this goal.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在命令行进行法医检查时，通常会将各种工具和实用程序的命令输出保存到文件中，以供以后参考和报告。你可以通过将命令的输出重定向到文本文件来实现这一点。这些文件可以与收集到的其余检查数据一起保存。在收集和保存大量证据数据的过程中，保持文件和目录结构的组织性和可理解性非常重要。本节讨论了实现这一目标的各种策略。
- en: '***Naming Conventions for Files and Directories***'
  id: totrans-86
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***文件和目录的命名规范***'
- en: To reduce confusion among all the files, directories, mount points, images,
    and other saved data collected during an examination, it’s best to follow a naming
    convention. Make it descriptive enough to be intuitive, but avoid redundancy in
    the wording and file extensions. Most important, make naming conventions consistent
    throughout an investigation or incident and across multiple incidents.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减少在检查过程中收集到的所有文件、目录、挂载点、图像和其他保存数据之间的混淆，最好遵循命名规范。命名应具有足够的描述性，以便直观理解，但避免冗余的措辞和文件扩展名。最重要的是，命名规范应该在整个调查或事件中保持一致，并且在多个事件之间保持一致。
- en: 'Certain unique identifiers are associated with systems, storage media devices,
    and removable media. Such identifiers can be useful when deciding on a naming
    convention:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 某些独特的标识符与系统、存储介质设备和可移动媒体相关联。这些标识符在决定命名规范时可能非常有用：
- en: • Company asset tag or inventory number for PCs
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: • 个人计算机的公司资产标签或库存编号
- en: • Manufacturer serial number for disk drives
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: • 磁盘驱动器的制造商序列号
- en: • 64-bit World Wide Name (WWN) for disk drives
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: • 磁盘驱动器的64位全球唯一名称（WWN）
- en: • Block device UUID for filesystems and RAIDs
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: • 文件系统和RAID的块设备UUID
- en: • Forensic hash value for disk drive images
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: • 磁盘驱动器图像的法医哈希值
- en: • 48-bit MAC address for network interface cards (NICs)
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: • 网络接口卡（NIC）的48位MAC地址
- en: • Forensic lab evidence number (possibly a sticker or tag on the drive)
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: • 法医实验室证据编号（可能是磁盘上的贴纸或标签）
- en: • Forensic lab evidence bag number (evidence bag containing the disc)
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: • 法医实验室证据袋编号（包含磁盘的证据袋）
- en: Wherever sensible, start all numbering with 1, not 0\. Programmers and engineers
    have a tendency to start at 0, but people who read and review the examination
    reports may not have a technical background (lawyers, judges, managers, and so
    on) and expect numbering to start with 1.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在合理的情况下，所有编号应从1开始，而非0。程序员和工程师通常习惯从0开始，但阅读和审查检查报告的人可能没有技术背景（如律师、法官、经理等），他们通常期望编号从1开始。
- en: Raw image files use the extension **.raw* throughout this book. The commonly
    used **.dd* extension implies that a dd tool was used, which might not be the
    case. The **.raw* extension describes the file accurately without associating
    it with the particular tool used to acquire the image.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 原始图像文件在本书中使用**.raw**扩展名。常用的**.dd**扩展名意味着使用了dd工具，但实际情况可能并非如此。**.raw**扩展名准确描述了文件的性质，而不与特定工具关联。
- en: Ideally, a raw image’s filename should link a forensic image to a unique attribute
    of the physical object. If a forensic format is used, this unique information
    can be embedded as metadata in the forensic image file. This allows you to associate
    a lone physical disk with an image and associate a lone image with a physical
    disk. The disk and the image then remain linked without any dependencies on surrounding
    context (directory names, evidence shelves, and so on). This establishes a chain
    of custody link between the physical and digital worlds.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，原始图像的文件名应将法医图像与物理对象的唯一属性联系起来。如果使用法医格式，这些唯一的信息可以作为元数据嵌入到法医图像文件中。这使你能够将单一的物理磁盘与图像关联，并将单一的图像与物理磁盘关联。这样，磁盘和图像就可以在没有对周围上下文（如目录名称、证据架等）的依赖下保持关联。这建立了物理世界和数字世界之间的证据链。
- en: If large numbers of disks are under analysis, possibly include a serial number
    in the image filename. You can include varying levels of detail in a filename.
    Although the filename *server12-slot3-seagate-3.5in-disk-500gb -SN12345ACBDEE.raw*
    is very descriptive, it might be too detailed and cumbersome to work with. A practical
    naming convention for many basic incidents could simply be the storage media type
    with a number, for example, *disk1*, *tape1*, *ssd1*, *stick1*, *card1*, *cdrom1*,
    *dvd1*, *bluray1*, *floppy1*, and so on. In some cases, using a short description
    of the disk and the serial number might be the most suitable approach, for example,
    *crucial-ssd -15030E69A241.raw*. Often, it’s helpful to create image names that
    exam-iners can easily discuss in conversation, such as, “We found the file on
    disk1.” Terms used in conversations, raw examination output, and final reports
    should have a consistent nomenclature.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有大量磁盘正在分析，可能在镜像文件名中包括序列号。你可以在文件名中包含不同级别的细节。尽管文件名 *server12-slot3-seagate-3.5in-disk-500gb
    -SN12345ACBDEE.raw* 非常具有描述性，但它可能过于详细且不便于处理。对于许多基本事件，一个实用的命名规范可以仅仅使用存储介质类型加上一个数字，例如
    *disk1*、*tape1*、*ssd1*、*stick1*、*card1*、*cdrom1*、*dvd1*、*bluray1*、*floppy1* 等。在某些情况下，使用磁盘的简短描述和序列号可能是最合适的方式，例如
    *crucial-ssd-15030E69A241.raw*。通常，创建易于在对话中讨论的镜像名称很有帮助，例如，“我们在 disk1 上找到了文件。”对话中使用的术语、原始检查输出和最终报告应具有一致的命名法。
- en: 'When you’re extracting files from disk images, archive files, or other compound
    images, add an underscore to the filename to indicate it has been extracted. This
    will prevent you and others from accidentally opening malware, HTML pages with
    tracking bugs, macros in Office documents, or other executables and scripts that
    might execute on opening. Some examples are shown here:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 当你从磁盘镜像、归档文件或其他复合镜像中提取文件时，在文件名中添加一个下划线，表示文件已被提取。这样可以防止你或其他人在不小心打开恶意软件、带有跟踪漏洞的
    HTML 页面、Office 文档中的宏，或其他可能在打开时执行的可执行文件和脚本时遭遇问题。以下是一些示例：
- en: '[PRE14]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: If an extracted file already ends with an underscore, add another one. An appended
    underscore make it obvious that a file has been extracted as evidence from a suspect
    drive.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 如果提取的文件已经以下划线结尾，请再添加一个下划线。附加的下划线可以清楚地表明该文件已作为证据从嫌疑驱动器中提取。
- en: 'When you’re analyzing an extracted file, saving tool output, or making manual
    notes, create a text file with the original name and append *_.txt* to it. For
    example:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 当你分析提取的文件、保存工具输出或做手动笔记时，创建一个文本文件，使用原始文件名并在其后附加 *_.txt*。例如：
- en: '[PRE15]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The *_.txt* extension signifies that the text file contains notes, tool output,
    and results of forensic analysis work about the extracted file. The filename is
    associated with the file originally extracted from the image. The text file may
    contain bookmarks and examiner annotations that can be searched. Unless it’s otherwise
    clear where an extracted file came from (which disk, partition, and so on), it’s
    good practice to have such corresponding text files; they can also indicate why
    it was chosen for extraction.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '*_.txt* 扩展名表示文本文件包含关于提取文件的笔记、工具输出和取证分析结果。文件名与原始从镜像中提取的文件相关联。文本文件可能包含书签和检查员注释，可以进行搜索。除非清楚地知道提取文件的来源（例如，哪个磁盘、分区等），否则最好有这样的相应文本文件；它们还可以指示为何选择该文件进行提取。'
- en: 'A file extension should always indicate the format of the content. For example:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 文件扩展名应始终指示内容的格式。例如：
- en: • **.txt* can be opened and read using a text editor.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: • **.txt* 可以使用文本编辑器打开并阅读。
- en: • **.raw* is a raw data dump (disk, memory, and so on).
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: • **.raw* 是一个原始数据转储（磁盘、内存等）。
- en: • **.pcap* is captured network traffic.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: • **.pcap* 是捕获的网络流量。
- en: • **.db* is a database (possibly a Sleuth Kit file list).
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: • **.db* 是一个数据库（可能是 Sleuth Kit 文件列表）。
- en: • **.sfs* is a SquashFS evidence container.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: • **.sfs* 是一个 SquashFS 证据容器。
- en: • **.e01* and **.aff* are forensic formats.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: • **.e01* 和 **.aff* 是取证格式。
- en: Each case, incident, or investigation will have an associated physical storage
    media. Storage media will have a corresponding forensic image and associated output
    from various programs (hdparm, smartctl, and so on). Each forensic image will
    have associated output from various programs (mmls, fls, and so on), and each
    extracted file may have associated output from various programs (exif, objdump,
    and so on). A naming convention will help keep everything organized and allow
    the organizing system to scale as the investigation data grows.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 每个案件、事件或调查都会有一个相关的物理存储介质。存储介质将有相应的法医镜像和来自各种程序的关联输出（如hdparm、smartctl等）。每个法医镜像将有来自各种程序的关联输出（如mmls、fls等），每个提取的文件可能会有来自各种程序的关联输出（如exif、objdump等）。命名约定有助于保持一切井井有条，并随着调查数据的增长，使组织系统能够扩展。
- en: How much information should be embedded into filenames and directory names?
    When is it more sensible to have a corresponding description text file with additional
    information? How should the corresponding file be associated with an image? Consider
    the following examples of two representations of the same incident.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 应该在文件名和目录名中嵌入多少信息？什么时候更合理地使用一个包含额外信息的描述文本文件？如何将相应的文件与图像关联？请考虑以下两个表示相同事件的示例。
- en: 'An example of information embedded into filenames looks like this:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 一个将信息嵌入文件名中的示例如下所示：
- en: '[PRE16]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'An example of that same information embedded into a directory structure looks
    like this:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 将相同信息嵌入到目录结构中的示例如下所示：
- en: '[PRE17]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: For manually written notes, further descriptions, caveats, issues, and other
    random comments within a certain context, storing the information in simple *notes.txt*
    or *readme.txt* files within working directories can be useful. They can provide
    reminders, hints, or warnings for you or other examiners to read at a later date.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 对于手动书写的笔记、进一步的描述、警告、问题以及其他在特定上下文中的随意评论，将这些信息存储在工作目录中的简单*notes.txt*或*readme.txt*文件中可能是有用的。它们可以为你或其他检查员提供提醒、提示或警告，以供日后阅读。
- en: When you’re noting web URLs that might pose a risk if opened, replace *http*
    with *hxxp* to prevent others from accidentally clicking them. Such links might
    take the user to malware, personal sites monitored by a suspect, sites with tracking
    bugs, or other content that should not be accessed without understanding the consequences.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 当你记录可能存在风险的网页网址时，替换*http*为*hxxp*，以防止其他人意外点击它们。这些链接可能会将用户带到恶意软件、嫌疑人监控的个人网站、带有跟踪代码的网站，或其他在不了解后果的情况下不应访问的内容。
- en: '***Scalable Examination Directory Structure***'
  id: totrans-122
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***可扩展的检查目录结构***'
- en: Each incident, case, or investigation should have a single unique directory
    (for example, *case42*). All collected evidence, images, and analysis work should
    be contained within a hierarchy under that one root directory. As investigations
    scale, a well-planned directory structure can scale with it. Having a single directory
    is also practical when multiple forensic examiners are working on the same incident
    and sharing the directory structure. Be prepared to reorganize the directory structure
    if an incident grows in complexity. If a large number of files are being extracted
    for individual analysis, consider having an *export* directory (similar to EnCase).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 每个事件、案件或调查应该有一个唯一的目录（例如，*case42*）。所有收集到的证据、图像和分析工作应该包含在该根目录下的一个层次结构中。随着调查的规模扩大，一个良好规划的目录结构可以随之扩展。当多个法医检查员在同一事件上工作并共享目录结构时，拥有一个单一的目录也很实用。如果事件变得更加复杂，准备好重新组织目录结构。如果需要为单独分析提取大量文件，考虑创建一个*export*目录（类似于EnCase）。
- en: Examinations often scale unexpectedly, and a forensic examination that starts
    with a single disk under suspicion might expand into a larger examination involving
    multiple PCs with many disks. For example, suppose someone reports strange or
    suspicious behavior of a PC or employee. A single disk is seized for examination.
    Preliminary examination results find a USB stick is also involved. It is found
    and examined, and a second PC is linked to the incident. That PC has two internal
    hard disks and DVD burner. Further search reveals a box of DVDs full of data hidden
    in a closet. Then it turns out that an external USB hard disk and a spare notebook
    in another building are also involved in the incident. The collected evidence
    has grown from a single hard disk to 16 storage media items. This hypothetical
    incident is not uncommon in large organizations. When preparing for an examination,
    expanded coverage should be anticipated. The naming convention should be designed
    to scale as the size of an investigation grows.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 考试常常会扩大规模，一次从单个可疑磁盘开始的法医检查可能会扩展为涉及多个PC和许多磁盘的大规模检查。例如，假设有人报告某台PC或员工的行为异常或可疑。一个磁盘被扣押进行检查。初步检查结果发现还涉及一个USB闪存驱动器。该设备被发现并检查，随后发现第二台PC与事件相关联。该PC有两块内部硬盘和DVD刻录机。进一步搜索发现，一盒充满数据的DVD被藏在一个衣橱里。随后发现，另一个建筑里的外部USB硬盘和备用笔记本电脑也与此事件相关。收集的证据从一个硬盘增加到16个存储介质。这种假设的事件在大型组织中并不罕见。在准备检查时，应预期扩大检查范围。命名约定应设计得足够灵活，以适应调查规模的扩展。
- en: Some PCs are used by multiple people, and some people use multiple PCs. Notebooks
    are not necessarily bound to a physical location. Removable media can be shared
    and attached to multiple PCs and notebooks. Over long periods of time, PC hardware
    will change, offices may change, departments will experience staff turnover, and
    organizational restructuring may occur. Be sure to design file and directory names
    to accommodate these changes.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 一些PC由多人使用，有些人使用多台PC。笔记本电脑不一定绑定于某个固定位置。可移动存储介质可以共享并连接到多台PC和笔记本电脑。随着时间的推移，PC硬件会发生变化，办公室可能会变动，部门会有员工流动，组织重组也可能发生。务必设计文件和目录名称，以适应这些变化。
- en: As an examination progresses, the number of output files will grow as more collected
    data is analyzed and output is produced. A good practice is to create a directory
    structure to separate the files and organize the output of the examination. As
    with filenames, the directory name should indicate the contents without revealing
    confidential information. Creating a separate directory for each disk or image
    analyzed segregates files and allows an investigation to scale up.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 随着检查的进行，输出文件的数量将增加，因为更多的收集数据被分析并生成输出。一个好的做法是创建一个目录结构来区分文件并组织检查的输出。与文件名一样，目录名应指示内容，同时避免泄露机密信息。为每个分析的磁盘或镜像创建单独的目录可以隔离文件，并使调查过程得以扩展。
- en: 'The smallest examination usually consists of a single disk. A slightly larger
    examination might consist of a PC containing multiple disks; consider the following
    example directory structure:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 最小的检查通常由一个磁盘组成。稍大的检查可能由一个包含多个磁盘的PC组成；考虑以下示例目录结构：
- en: '![image](../images/f0080-01.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0080-01.jpg)'
- en: As another example, consider the examination of an entire workplace that consists
    of a desktop PC (possibly with multiple disks), a notebook, several USB drives,
    multiple CD-ROMs and DVDs, and an external disk pack. A convenient directory structure
    would organize each piece of storage media where the command output files are
    stored, allowing an examination to easily scale further. Consider a larger investigation
    consisting of multiple workplaces, across multiple office buildings, spread out
    across multiple countries. In large global organizations, such investigations
    can occur; therefore, having a well-thought-out naming convention will maintain
    the organization of the examination process.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个例子，考虑检查一个完整的工作场所，该工作场所包含一台桌面PC（可能有多个磁盘）、一台笔记本、几个USB驱动器、多个CD-ROM和DVD，以及一个外部磁盘包。一个便捷的目录结构将每个存储介质组织起来，其中存储了命令输出文件，从而使检查可以轻松扩展。再考虑一个更大的调查，涉及多个工作场所，分布在多个办公楼，跨越多个国家。在大型全球组织中，这种调查是可能发生的；因此，拥有一个经过深思熟虑的命名约定将有助于保持检查过程的有序进行。
- en: 'It’s advantageous to rely on a directory structure to separate command output
    from different disks, PCs, users, and locations. As a result, you won’t need to
    embed this information into the output filenames. For example:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 依赖目录结构将不同磁盘、PC、用户和位置的命令输出分开是很有利的。这样，您就不必将这些信息嵌入输出文件名中。例如：
- en: '![image](../images/f0081-01.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0081-01.jpg)'
- en: In this example, two office locations are US123 and UK567, in the United States
    and the United Kingdom, respectively. The US office is divided by user workplaces,
    and a directory is used for each piece of storage media under examination. The
    UK office PC is not associated with any particular user (possibly located in a
    meeting room), and this is reflected in the directory structure.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，两个办公室位置分别是美国的US123和英国的UK567。美国办公室按用户工作区进行划分，每个正在检查的存储介质都有一个目录。而英国办公室的PC并未与任何特定用户关联（可能位于会议室），这在目录结构中有所体现。
- en: Instead of using an employee identifier for the storage media, an organization’s
    IT inventory number can be used for the storage media in the directory structure.
    This unique identifier will likely have additional information associated with
    it (date of purchase, department, office location, user details, software installed,
    history of use, and so on). Confidentiality reasons might require you to omit
    information from the filenames and directory structure. For example, names of
    suspected or targeted individuals should not be embedded into filenames. Rather,
    you should use an identifier, initials, or an employee number. Code names for
    investigations might also be used. They provide a minimal level of protection
    if the information is lost, stolen, or otherwise accessed at a later date.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在目录结构中，不必使用员工标识符来标识存储介质，而可以使用组织的IT库存编号。这个唯一标识符通常会有额外的信息与之关联（如购买日期、部门、办公室位置、用户详细信息、安装的软件、使用历史等）。出于保密原因，可能需要从文件名和目录结构中省略某些信息。例如，疑似或目标人物的名字不应嵌入文件名中。相反，您应使用标识符、首字母缩写或员工编号。调查的代号也可以使用。这样可以提供最低限度的保护，以防信息丢失、被盗或在之后被访问。
- en: '***Save Command Output with Redirection***'
  id: totrans-134
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***保存命令输出并进行重定向***'
- en: 'After creating the directory structure to store the analysis results from various
    items under examination, typical shell command output is redirected into files
    from stdout as shown here:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建用于存储各种检查项分析结果的目录结构后，典型的Shell命令输出将像这样从stdout重定向到文件：
- en: '[PRE18]'
  id: totrans-136
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'To include regular output and error messages, you need to redirect stdout and
    stderr file descriptors to the file. Newer versions of Bash provide an easy-to-remember
    method by adding an ampersand to the redirection (this also applies when piping
    to another program):'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 若要包含常规输出和错误消息，您需要将stdout和stderr文件描述符重定向到文件。Bash的较新版本通过在重定向中添加一个和符号提供了一种易于记忆的方法（这在管道到另一个程序时也适用）：
- en: '[PRE19]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Other shells and earlier Bash versions might require `2>&1` notation for combining
    stderr and stdin. For example:'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 其他Shell和较早的Bash版本可能需要使用`2>&1`符号来合并stderr和stdin。例如：
- en: '[PRE20]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'When a text file already exists and you need to add additional information
    to it, you can use the `>>` notation to specify an append operation. For example:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 当一个文本文件已经存在，并且您需要向其中添加额外的信息时，您可以使用`>>`符号指定附加操作。例如：
- en: '[PRE21]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: Here, all instances of a known filename are added to the end of the *notes.txt*
    file.^([1](footnote.xhtml#fn17)) If *notes.txt* doesn’t exist, it will be created.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，所有已知文件名的实例都会被添加到*notes.txt*文件的末尾。^([1](footnote.xhtml#fn17)) 如果*notes.txt*文件不存在，将会被创建。
- en: 'Many forensic tasks performed on the command line are time-consuming and may
    take many hours to complete (disk imaging, performing operations on very large
    files, and so on). Having a timestamp indicating the duration of the command can
    be useful. The `time` command provides this functionality. There are two common
    implementations of the `time` command: one is a shell builtin with rudimentary
    features, and the other is a GNU utility with additional features. The primary
    advantage of the shell builtin `time` version is that it will time an entire pipeline
    of commands, whereas GNU `time` will only time the first command in a pipeline.'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 许多在命令行上执行的法医任务是耗时的，可能需要几个小时才能完成（例如磁盘映像、对非常大的文件执行操作等）。显示命令执行持续时间的时间戳会很有用。`time`命令提供了这一功能。`time`命令有两种常见实现：一种是
    shell 内建的，功能简单；另一种是 GNU 工具，功能更强大。shell 内建的 `time` 版本的主要优点是它会计时整个命令管道，而 GNU `time`
    只会计时管道中的第一个命令。
- en: 'Here is an example of using the `time` command to run a disk-imaging program:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这是使用`time`命令运行磁盘映像程序的一个示例：
- en: '[PRE22]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The zsh shell can log the elapsed time of a command as part of the history file.
    This functionality is currently not available in Bash.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: zsh shell 可以将命令执行的经过时间记录为历史文件的一部分。当前在 Bash 中并没有这个功能。
- en: Another useful command for some situations is the timestamp output command `ts`.
    Any output piped into `ts` will have a timestamp appended to each line of output.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个在某些情况下有用的命令是时间戳输出命令`ts`。任何传递到`ts`的输出都将在每行输出中附加时间戳。
- en: '[PRE23]'
  id: totrans-149
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: In this example, three commands were executed (grouped together with parentheses)
    and the command outputs were sent to `ts`, creating a timeline.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，执行了三个命令（用括号分组）并将命令输出发送到`ts`，从而创建了时间轴。
- en: '**Assess Acquisition Infrastructure Logistics**'
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**评估采集基础设施的后勤需求**'
- en: Various logistical issues are important when performing forensic acquisition
    of storage media. Managing large acquired forensic images is not a trivial task
    and so requires planning and forethought. Factors such as disk capacity, time
    duration, performance, and environmental issues need to be considered.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行存储介质的法医采集时，后勤问题非常重要。管理大型的法医映像文件并不是一项简单的任务，因此需要提前进行规划和思考。需要考虑磁盘容量、时间持续性、性能和环境因素等问题。
- en: '***Image Sizes and Disk Space Requirements***'
  id: totrans-153
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***映像大小和磁盘空间需求***'
- en: Forensic images of storage media are orders of magnitude larger than the small
    file sizes a PC typically handles. Managing disk image files of this size takes
    additional thought and planning. You also need to consider certain logistical
    factors when you’re preparing an examination system. Careful preparation and planning
    for an examination will save you time and effort, as well as help you avoid problems
    that might disrupt the process.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 存储介质的法医映像比 PC 通常处理的小文件要大几个数量级。管理这种大小的磁盘映像文件需要额外的思考和计划。你还需要考虑准备检查系统时的一些后勤因素。仔细的准备和规划将为你节省时间和精力，同时帮助你避免可能破坏过程的问题。
- en: When creating a forensic image of a disk (hundreds of gigabytes or tera-bytes),
    it is not files that are copied, but the individual disk sectors. If a 1TB disk
    has only a single 20K Microsoft Word document on it, an uncompressed forensic
    image will still be 1TB. As of this writing, 10TB disks are now on the market,
    increasing the challenge for performing forensic acquisition.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建磁盘的法医映像时（数百GB或TB级别），复制的不是文件，而是单个磁盘扇区。如果一块1TB的磁盘上只有一个20K的Microsoft Word文档，那么即使未压缩，法医映像的大小仍将是1TB。截止到本文撰写时，10TB的磁盘已经上市，这使得执行法医采集的挑战增加。
- en: 'When managing disk images, the examiner’s time and the examiner host’s disk
    capacity are the main logistical factors that need to be considered. Before beginning
    a forensic acquisition of a subject disk or storage media, you need to ask a number
    of questions:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在管理磁盘映像时，检查者的时间和检查主机的磁盘容量是需要考虑的主要后勤因素。在开始对目标磁盘或存储介质进行法医采集之前，你需要提出一系列问题：
- en: • Can the attached storage be analyzed *in place* without taking a forensic
    image?
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: • 附加存储是否可以*原地*分析，而不需要创建法医映像？
- en: • What is the size of the subject disk?
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: • 目标磁盘的大小是多少？
- en: • What is the available space on the examiner’s machine?
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: • 检查者机器上可用的空间是多少？
- en: • What is the potential for image compression?
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: • 图像压缩的潜力如何？
- en: • How much space do forensic tools need for processing and temporary files?
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: • 法医工具在处理和临时文件时需要多大的空间？
- en: • What is the estimated number of files to be extracted for further analysis?
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: • 估计需要提取多少文件以供进一步分析？
- en: • How much memory and swap space is available on the examiner’s machine?
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: • 检查员主机上有多少内存和交换空间可用？
- en: • Is there a possibility of more subject disks being added to the same case
    or incident?
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有可能向同一案件或事件中添加更多目标磁盘？
- en: • Is there an expectation to separately extract all slack or unallocated disk
    space?
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有期望单独提取所有空闲或未分配的磁盘空间？
- en: • Are there plans to extract individual partitions (possibly including swap)?
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有计划提取单独的分区（可能包括交换分区）？
- en: • Is there a potential need to convert from one forensic format to another?
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有可能将一种取证格式转换为另一种格式？
- en: • Do disk images need to be prepared for transport to another location?
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否需要为将磁盘镜像准备转移到另一个位置？
- en: • Do subject disks contain virtual machine images to separately extract and
    analyze?
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: • 目标磁盘是否包含虚拟机镜像，需要单独提取和分析？
- en: • Do subject disks contain large numbers of compressed and archive files?
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: • 目标磁盘是否包含大量的压缩文件和归档文件？
- en: • Are subject disks using full-disk encryption?
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: • 目标磁盘是否使用全盘加密？
- en: • Is there a need to burn images to another disk or DVDs for storage or transport?
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否需要将镜像刻录到另一个磁盘或DVD以用于存储或运输？
- en: • Is there a need to carve files from a damaged or partially overwritten filesystem?
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否需要从损坏或部分覆盖的文件系统中恢复文件？
- en: • How are backups of the examiner host performed?
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: • 检查主机的备份是如何执行的？
- en: In some situations, it may not be necessary to image a disk. When certain triage
    or cursory searching is conducted, it may be enough to attach the disk to an examiner
    host and operate on the live subject disk. Depending on the triage or search findings,
    you can decide whether or not to take a forensic image. In a corporate environment,
    this approach could translate into downtime for an employee, because they must
    wait for a seized disk to be reviewed or analyzed. Corporate environments typically
    have a standard end-user PC build, which is designed without local user data (all
    data is saved to servers or clouds). It could be more economical simply to swap
    the original disk with a new disk. End-user PC disks are cheap, and replacing
    a subject disk with a new one could be a cost-saving alternative when factoring
    in the cost of employee downtime and the time needed to image a disk in the field.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，可能不需要对磁盘进行镜像。当进行某些初步筛查或快速搜索时，将磁盘连接到检查主机并操作实时的目标磁盘可能就足够了。根据筛查或搜索的结果，你可以决定是否进行取证镜像。在企业环境中，这种方法可能意味着员工的停机时间，因为他们必须等待被扣押的磁盘被审查或分析。企业环境通常有标准的终端用户PC配置，设计时不包含本地用户数据（所有数据都保存在服务器或云端）。简单地用新磁盘替换原磁盘可能是更经济的选择，尤其是在考虑到员工停机时间和现场镜像磁盘所需的时间成本时。
- en: '***File Compression***'
  id: totrans-176
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***文件压缩***'
- en: Using compression solves a number of the capacity challenges faced by a forensic
    examiner. You can use a compressed forensic format to store the resulting acquired
    image, but the effectiveness depends on a number of factors.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 使用压缩解决了取证检查员面临的许多容量挑战。你可以使用压缩的取证格式来存储获得的镜像，但其有效性取决于多个因素。
- en: The compression algorithms you choose will have some effect on the size and
    time needed to compress a subject disk. A better compression ratio will take more
    time to compress (and subsequently uncompress).
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 你选择的压缩算法将对压缩目标磁盘所需的大小和时间产生一定影响。较好的压缩比会需要更多的时间来压缩（以及随后的解压缩）。
- en: A relatively new PC disk that contains a large number of untouched disk sectors
    (original manufacturer’s zeroed contents) will compress better than an older disk
    containing significant amounts of residual data in the unallocated sectors.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 一个相对较新的PC磁盘，如果包含大量未触及的磁盘扇区（原厂清零内容），会比一个包含大量残留数据（未分配扇区中的数据）的旧磁盘压缩效果更好。
- en: Disks that contain large amounts of compressed files (**.mp3*, **.avi*, and
    so on) will not compress much further, and as a result, forensic imaging tools
    will benefit less from added compression.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 包含大量压缩文件（**.mp3**、**.avi**等）的磁盘将不会进一步压缩，因此，取证镜像工具将从额外的压缩中受益较少。
- en: Encrypted subject disks or disks with large numbers of encrypted files will
    not compress as well as unencrypted content due to the data’s higher entropy level.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 加密的目标磁盘或包含大量加密文件的磁盘由于数据的熵值较高，其压缩效果不如未加密内容。
- en: '***Sparse Files***'
  id: totrans-182
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***稀疏文件***'
- en: Sparse files are worth mentioning because they have some advantages; however,
    they can also be problematic when calculating disk capacity. Some filesystems
    use metadata to represent a sequence of zeros in a file instead of actually writing
    all the zeros to the disk. Sparse files contain “holes” where a sequence of zeros
    is known to exist. To illustrate, a new drive containing mostly zeroed sectors
    is acquired with GNU dd,^([2](footnote.xhtml#fn18)) first as a regular raw file
    and then as a sparse file.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 稀疏文件值得一提，因为它们有一些优势；然而，在计算磁盘容量时，它们也可能会带来问题。一些文件系统使用元数据来表示文件中一串零，而不是将所有零写入磁盘。稀疏文件包含“空洞”，其中已知存在一串零。举例来说，一个新磁盘包含大多数为零的扇区，通过
    GNU dd 获取，^([2](footnote.xhtml#fn18)) 首先作为常规原始文件，然后作为稀疏文件。
- en: '[PRE24]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'The GNU `dd` command provides a `conv=sparse` flag that creates a sparse destination
    file. In these dd examples, you can see the number of blocks transferred is the
    same for both the normal and sparse files. In the following output, the file size
    and the MD5 hash are also identical. However, notice how the block size used on
    the filesystem is very different (7733252 blocks versus 2600 blocks):'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: GNU `dd` 命令提供了一个 `conv=sparse` 标志，用于创建稀疏目标文件。在这些 dd 示例中，你可以看到传输的块数对于正常文件和稀疏文件是相同的。在以下输出中，文件大小和
    MD5 哈希也完全相同。然而，注意到文件系统中使用的块大小有很大不同（7733252 块与 2600 块）：
- en: '[PRE25]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Although the sparse file requires much less space, the full byte size is still
    reported as the file size. This can cause confusion when calculating the real
    available disk capacity. Sparse files are often used by VM images and can become
    an issue when extracted for analysis.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管稀疏文件需要的空间少得多，但仍然报告完整的字节大小作为文件大小。这可能会在计算实际可用磁盘容量时造成混淆。稀疏文件通常用于虚拟机镜像，在提取进行分析时可能成为一个问题。
- en: You can also use sparse files as a method of compacting image files, but using
    compressed forensic formats or SquashFS containers is preferred and recommended.
    Not all programs and utilities can handle sparse files correctly, and the files
    can become problematic when moved between filesystems and platforms. Some programs
    may even expand sparse files when reading them.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用稀疏文件作为压缩镜像文件的方法，但建议和推荐使用压缩的法医格式或 SquashFS 容器。并非所有程序和工具都能正确处理稀疏文件，而且这些文件在不同文件系统和平台之间移动时可能会变得有问题。一些程序甚至在读取稀疏文件时可能会扩展它们。
- en: '***Reported File and Image Sizes***'
  id: totrans-189
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***报告的文件和镜像大小***'
- en: Reporting data sizes is an important concept to grasp. When you’re working with
    forensic tools, size can refer to bytes, disk sectors, filesystem blocks, or other
    units of measurement. The notation for bytes can be prefixed with a multiplier
    (such as kilobytes, megabytes, gigabytes, terabytes, and so on), and the multiplier
    can refer to multiples of either 1000 or 1024\. Disk sectors could represent sector
    sizes of either 512 bytes or 4096 bytes. The filesystem block size depends on
    the type of filesystem and the parameters used during creation. When you’re documenting
    sizes in a forensic context, it’s important to always include descriptive units.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 报告数据大小是一个重要的概念。当你使用法医工具时，大小可以指字节、磁盘扇区、文件系统块或其他计量单位。字节的表示法可以带上倍数前缀（例如千字节、兆字节、吉字节、太字节等），而倍数可以是
    1000 或 1024 的倍数。磁盘扇区可能表示 512 字节或 4096 字节的扇区大小。文件系统块大小取决于文件系统类型和创建时使用的参数。当你在法医环境中记录大小时，务必始终附上描述性单位。
- en: 'Many Linux tools support the `-h` flag to report file sizes in a human readable
    form. For example, you can use `ls -lh`, `df -h`, and `du -h` to more easily view
    the size of files and partitions. An example `ls` output with several file sizes
    is shown here:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 许多 Linux 工具支持 `-h` 标志以人类可读的形式报告文件大小。例如，你可以使用 `ls -lh`、`df -h` 和 `du -h` 更轻松地查看文件和分区的大小。下面是一个带有多个文件大小的
    `ls` 输出示例：
- en: '[PRE26]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: The sizes in the second command’s output are much easier to read and understand.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 第二条命令输出中的大小要更易读和理解。
- en: '***Moving and Copying Forensic Images***'
  id: totrans-194
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***移动和复制法医镜像***'
- en: Moving and copying forensic disk images from one place to another requires planning
    and foresight. Don’t think of image files in the same way as typical end-user
    files (even though technically they’re the same).
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 将法医磁盘镜像从一个地方移动或复制到另一个地方需要规划和预见性。不要将镜像文件与典型的终端用户文件看作相同的（尽管从技术上讲它们是相同的）。
- en: Acquiring, copying, and moving large disk images may take many hours or even
    days depending on the size and speed of the source disk and other performance
    factors. Consider the following list of typical file and disk image sizes and
    the average amount of time needed to copy the file from one disk to another disk:^([3](footnote.xhtml#fn19))
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 采集、复制和移动大型磁盘镜像可能需要许多小时甚至几天，具体取决于源磁盘的大小、速度以及其他性能因素。考虑以下典型文件和磁盘镜像的大小，以及将文件从一个磁盘复制到另一个磁盘所需的平均时间：^([3](footnote.xhtml#fn19))
- en: '• 5KB simple ASCII text email: less than 1 second'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: • 5KB 简单 ASCII 文本电子邮件：不到 1 秒
- en: '• 5MB typical MP3 music file: less than 1 second'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: • 5MB 典型 MP3 音乐文件：不到 1 秒
- en: '• 650MB CD ISO image: about 5 seconds'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: • 650MB CD ISO 镜像：大约 5 秒
- en: '• 5–6GB typical DVD or iTunes movie download: about 1 minute'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: • 5–6GB 典型 DVD 或 iTunes 电影下载：大约 1 分钟
- en: '• 64GB common mobile phone image: about 10 minutes'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: • 64GB 典型手机镜像：大约 10 分钟
- en: '• 250GB common notebook disk image: 30-40 minutes'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: • 250GB 典型笔记本磁盘镜像：30-40 分钟
- en: '• 1TB typical desktop PC image: more than 2 hours'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: • 1TB 典型桌面 PC 镜像：超过 2 小时
- en: '• 2TB typical external USB disk image: more than 4 hours'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: • 2TB 典型外部 USB 磁盘镜像：超过 4 小时
- en: '• 8TB internal disk image: more than 16 hours'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: • 8TB 内部磁盘镜像：超过 16 小时
- en: Once a copy or move process has been started, disrupting it could leave the
    data in an incomplete state or require additional time to revert to the original
    state. A copy or move operation could create temporary files or result in two
    copies of the images existing temporarily.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦复制或移动过程开始，打断它可能会导致数据处于不完整状态，或需要额外的时间恢复到原始状态。复制或移动操作可能会创建临时文件，或导致镜像暂时存在两个副本。
- en: In general, think carefully beforehand about the copying and moving of large
    data sets, and don’t interrupt the process once it has started.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，提前仔细考虑复制和移动大数据集，并且一旦开始，避免中断过程。
- en: '***Estimate Task Completion Times***'
  id: totrans-208
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***估算任务完成时间***'
- en: The forensic acquisition process takes time to complete. During this time, people
    and other processes may be waiting. Therefore, it’s important to calculate and
    estimate the completion time needed for various processes. Also, determine whether
    you need to report estimated completion times to other parties, such as management,
    legal teams, law enforcement, or other investigators. It is important to manage
    expectations with regard to the time needed for completion.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 取证采集过程需要时间完成。在此过程中，人员和其他进程可能会等待。因此，计算并估算各种过程的完成时间非常重要。同时，确定是否需要将估算的完成时间报告给其他方，如管理层、法律团队、执法部门或其他调查人员。管理完成所需时间的期望非常重要。
- en: 'Some important questions to consider include:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 需要考虑的一些重要问题包括：
- en: • Can the acquisition be safely left running overnight while nobody is around?
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否可以在无人值守的情况下让采集过程安全地运行一整晚？
- en: • Is the examiner machine unusable during the acquisition process (for performance
    reasons or other reasons)?
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: • 采集过程中检查员机器是否无法使用（因性能原因或其他原因）？
- en: • Can other examination work be done while the forensic image is being acquired?
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: • 在获取取证镜像时，是否可以进行其他检查工作？
- en: • When can several tasks be completed in parallel?
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: • 什么时候可以并行完成多个任务？
- en: • Are there certain tasks or processes that can only be done sequentially?
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有某些任务或过程只能按顺序执行？
- en: • Are there tasks that will block other tasks until they’re completed?
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: • 是否有任务会阻塞其他任务，直到它们完成？
- en: • Can the workload be shared, delegated, or distributed across multiple examiners?
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: • 工作负载是否可以在多个检查员之间共享、委派或分配？
- en: You can calculate an estimated completion time for an acquisition. From previous
    work and processes, you should know the approximate initial setup time. This includes
    factors such as completing paperwork, creating necessary directory structure,
    documenting the hardware, attaching suspect drives to the examiner host, deciding
    on the approach for acquisition, and so on. This will give you a time estimate
    for the preacquisition phase.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以根据以往的工作和过程来估算采集的完成时间。你应该知道大致的初始设置时间，包括完成文书工作、创建必要的目录结构、记录硬件、将嫌疑驱动器连接到检查主机、决定采集方法等因素。这将为你提供预采集阶段的时间估算。
- en: You can calculate the expected storage media acquisition time based on the amount
    of data (known) passing through the slowest component in the system (the bottleneck).
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以根据通过系统中最慢组件（瓶颈）传输的数据量（已知）来估算存储介质采集时间。
- en: '***Performance and Bottlenecks***'
  id: totrans-220
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***性能与瓶颈***'
- en: To improve the efficiency of a forensic acquisition, you can optimally tune
    the examiner host and assess the bottlenecks.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提高取证采集的效率，你可以优化检查主机并评估瓶颈。
- en: A performance bottleneck always occurs; this is simply the slowest component
    in the system, which all other components must wait for. In a forensic setting,
    the bottleneck should ideally be the subject disk. This is the evidence source
    and is the only performance variable that you can’t (or shouldn’t) modify.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 性能瓶颈总是存在的；这就是系统中最慢的组件，其他所有组件都必须等待它。在取证环境中，瓶颈应该理想地是目标磁盘。它是证据源，也是唯一一个你不能（或不应该）修改的性能变量。
- en: You can assess the performance of various system components by reading the vendor
    specifications, querying the system with various tools, or running various benchmarking
    and measurement tests.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过阅读厂商规格、使用各种工具查询系统，或运行各种基准测试和测量测试来评估系统各个组件的性能。
- en: Useful tools to check the speed of various components include dmidecode, lshw,
    hdparm, and lsusb. Several command line examples are shown here.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 检查各种组件速度的有用工具包括 dmidecode、lshw、hdparm 和 lsusb。这里展示了几个命令行示例。
- en: 'To check the CPU family and model, current and maximum speed, number of cores
    and threads, and other flags and characteristics, use this command:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查 CPU 家族和型号、当前和最大速度、核心数和线程数，以及其他标志和特性，请使用以下命令：
- en: '[PRE27]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Here is a command to view the CPU’s cache (L1, L2, and L3):'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个查看 CPU 缓存（L1、L2 和 L3）的命令：
- en: '[PRE28]'
  id: totrans-228
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'To view the memory, including slots used, size, data width, speed, and other
    details, use this command:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看内存，包括使用的插槽、大小、数据宽度、速度和其他细节，请使用以下命令：
- en: '[PRE29]'
  id: totrans-230
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Here is a command to view the number of PCI slots, usage, designation, and
    type:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个查看 PCI 插槽数量、使用情况、标识和类型的命令：
- en: '[PRE30]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'A command to view the storage interfaces, type (SATA, NVME, SCSI, and so on),
    and speed:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 查看存储接口、类型（SATA、NVME、SCSI 等）和速度的命令：
- en: '[PRE31]'
  id: totrans-234
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'To view the speed, interface, cache, rotation, and other information about
    the attached disks (using device */dev/sda* in this example), use this:'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看附加磁盘的速度、接口、缓存、转速和其他信息（以设备 */dev/sda* 为例），请使用以下命令：
- en: '[PRE32]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'To view the speed of the external USB interfaces (and possibly an attached
    write blocker), use this command:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看外部 USB 接口的速度（以及可能附加的写保护器），请使用以下命令：
- en: '[PRE33]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '**NOTE**'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*There are many different methods and commands to get this information. The
    commands shown here each present one example of getting the desired performance
    information. Providing an exhaustive list of all possible tools and techniques
    is beyond the scope of this book.*'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '*获取这些信息有许多不同的方法和命令。这里展示的命令仅提供了一种获取所需性能信息的示例。提供一个包含所有可能工具和技术的详尽清单超出了本书的范围。*'
- en: Reading the vendor documentation and querying a system will identify the speeds
    of various components. To get an accurate measurement, it’s best to use tools
    for hardware benchmarking and software profiling. Some tools for benchmarking
    include mbw for memory and bonnie++ for disk I/O.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 阅读厂商文档并查询系统将帮助你识别各种组件的速度。为了获得准确的测量，最好使用硬件基准测试和软件性能分析工具。一些基准测试工具包括 mbw（用于内存）和
    bonnie++（用于磁盘 I/O）。
- en: The health and tuning of the OS is also a performance factor. Monitoring the
    logs (syslog, dmesg) of the examiner hardware can reveal error messages, misconfiguration,
    and other inefficiency indicators. Tools to monitor the performance and load of
    the live state of an examiner machine include htop, iostat, vmstat, free, or nmon.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 操作系统的健康和调整也是一个性能因素。监控检查硬件的日志（syslog、dmesg）可以揭示错误信息、配置错误和其他低效指标。监控检查机器实时状态的性能和负载的工具包括
    htop、iostat、vmstat、free 或 nmon。
- en: You can also optimize the OS by ensuring minimal processes are running in the
    background (including scheduled processes via cron), tuning the kernel (`sysctl
    -a`), tuning the examiner host’s filesystems (`tunefs`), and managing disk swap
    and caching. In addition, ensure that the examiner OS is running on native hardware,
    not as a virtual machine.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过确保后台运行的进程最小化（包括通过 cron 安排的进程）、调整内核（`sysctl -a`）、调整检查主机的文件系统（`tunefs`）以及管理磁盘交换和缓存来优化操作系统。此外，确保检查器操作系统运行在原生硬件上，而不是作为虚拟机。
- en: 'When you’re looking for bottlenecks or optimizing, it’s helpful to imagine
    the flow of data from the subject disk to the examiner host’s disk. During an
    acquisition, the data flows through the following hardware interfaces and components:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在寻找瓶颈或优化时，帮助你想象数据从目标磁盘流向检查主机的磁盘是有用的。在采集过程中，数据会通过以下硬件接口和组件流动：
- en: • Subject disk platters/media (rotation speed? latency?)
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: • 被检查磁盘的盘片/介质（转速？延迟？）
- en: • Subject disk interface (SATA-X?)
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: • 被检查磁盘接口（SATA-X？）
- en: • Write blocker logic (added latency?)
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: • 写保护器逻辑（增加的延迟？）
- en: • Write blocker examiner host interface (USB3 with UASP?)
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: • 写保护器检查主机接口（USB3与UASP？）
- en: • Examiner host interface (USB3 sharing a bus with other devices? bridged?)
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: • 被检查主机接口（USB3与其他设备共享总线？桥接？）
- en: • PCI bus (PCI Express? speed?)
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: • PCI总线（PCI Express？速度？）
- en: • CPU/memory and OS kernel (speed? DMA? data width?)
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: • CPU/内存和操作系统内核（速度？DMA？数据宽度？）
- en: These components will be traversed twice, once between the subject disk and
    the examiner host, and again between the host and the examiner disk where the
    acquired image is being saved.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这些组件将被遍历两次，一次是在被检查磁盘和被检查主机之间，另一次是在主机和被检查磁盘之间，后者用于保存采集的图像。
- en: Ensure that the data flow between the subject disk and the CPU/memory is not
    using the same path as for the data flow between the CPU/memory and the destination
    disk on the examiner host. For example, if a field imaging system has a write
    blocker and an external disk for the acquired image, and both are connected to
    local USB ports, it is possible they’re sharing a single bus. As a result, the
    available bandwidth will be split between the two disks, causing suboptimal performance.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 确保被检查磁盘和CPU/内存之间的数据流与CPU/内存和目标磁盘之间的数据流不使用相同的路径。例如，如果一个现场成像系统有一个写保护器和一个外部磁盘用于保存采集的图像，并且它们都连接到本地USB端口，它们可能共享一个总线。因此，可用带宽将被两个磁盘共享，从而导致性能不佳。
- en: For network performance tuning, the speed of the underlying network becomes
    a primary factor, and performance enhancements include the use of jumbo Ethernet
    frames and TCP checksum offloading with a high-performance network interface card.
    It is also beneficial to assess when various programs are accessing the network
    and for what reason (automatic updates, network backups, and so on).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 对于网络性能调优，底层网络的速度成为一个主要因素，性能增强包括使用巨型以太网帧和通过高性能网络接口卡进行TCP校验和卸载。评估各种程序何时访问网络以及访问的原因（自动更新、网络备份等）也是有益的。
- en: To summarize, have an overall plan or strategy for the acquisition actions you
    intend to take. Have well-tested processes and infrastructure in place. Ensure
    that the right capacity planning and optimizing has been done. Be able to monitor
    the activity while it’s in progress.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，要为你打算执行的采集操作制定一个整体计划或策略。确保已经建立了经过充分测试的流程和基础设施。确保已经进行了正确的容量规划和优化。能够在操作进行时监控活动。
- en: The most common bus speeds relevant for a forensic examination host (in bytes/second)
    are listed in [Table 4-1](ch04.xhtml#ch4table1) for comparison. You’ll find a
    good reference of the bit rates for various interfaces and buses at *[https://en.wikipedia.org/wiki/List_of_device_bit_rates](https://en.wikipedia.org/wiki/List_of_device_bit_rates)*.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 与法医检查主机相关的最常见总线速度（以字节/秒计）列在[表4-1](ch04.xhtml#ch4table1)中以供比较。你可以在*[https://en.wikipedia.org/wiki/List_of_device_bit_rates](https://en.wikipedia.org/wiki/List_of_device_bit_rates)*上找到各种接口和总线的比特率的良好参考。
- en: '**Table 4-1:** Common Bus/Interface Speeds'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '**表4-1：** 常见总线/接口速度'
- en: '| **Bus/interface** | **Speed** |'
  id: totrans-258
  prefs: []
  type: TYPE_TB
  zh: '| **总线/接口** | **速度** |'
- en: '| --- | --- |'
  id: totrans-259
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Internal buses |  |'
  id: totrans-260
  prefs: []
  type: TYPE_TB
  zh: '| 内部总线 |  |'
- en: '| PCI Express 3.0 x16 | 15750 MB/s |'
  id: totrans-261
  prefs: []
  type: TYPE_TB
  zh: '| PCI Express 3.0 x16 | 15750 MB/s |'
- en: '| PCI Express 3.0 x8 | 7880 MB/s |'
  id: totrans-262
  prefs: []
  type: TYPE_TB
  zh: '| PCI Express 3.0 x8 | 7880 MB/s |'
- en: '| PCI Express 3.0 x4 | 3934 MB/s |'
  id: totrans-263
  prefs: []
  type: TYPE_TB
  zh: '| PCI Express 3.0 x4 | 3934 MB/s |'
- en: '| PCI 64-bit/133MHz | 1067 MB/s |'
  id: totrans-264
  prefs: []
  type: TYPE_TB
  zh: '| PCI 64位/133MHz | 1067 MB/s |'
- en: '| Storage drives |  |'
  id: totrans-265
  prefs: []
  type: TYPE_TB
  zh: '| 存储驱动器 |  |'
- en: '| SAS4 | 2400 MB/s |'
  id: totrans-266
  prefs: []
  type: TYPE_TB
  zh: '| SAS4 | 2400 MB/s |'
- en: '| SAS3 | 1200 MB/s |'
  id: totrans-267
  prefs: []
  type: TYPE_TB
  zh: '| SAS3 | 1200 MB/s |'
- en: '| SATA3 | 600 MB/s |'
  id: totrans-268
  prefs: []
  type: TYPE_TB
  zh: '| SATA3 | 600 MB/s |'
- en: '| SATA2 | 300 MB/s |'
  id: totrans-269
  prefs: []
  type: TYPE_TB
  zh: '| SATA2 | 300 MB/s |'
- en: '| SATA1 | 150 MB/s |'
  id: totrans-270
  prefs: []
  type: TYPE_TB
  zh: '| SATA1 | 150 MB/s |'
- en: '| External interfaces |  |'
  id: totrans-271
  prefs: []
  type: TYPE_TB
  zh: '| 外部接口 |  |'
- en: '| Thunderbolt3 | 5000 MB/s |'
  id: totrans-272
  prefs: []
  type: TYPE_TB
  zh: '| Thunderbolt3 | 5000 MB/s |'
- en: '| Thunderbolt2 | 2500 MB/s |'
  id: totrans-273
  prefs: []
  type: TYPE_TB
  zh: '| Thunderbolt2 | 2500 MB/s |'
- en: '| USB3.1 | 1250 MB/s |'
  id: totrans-274
  prefs: []
  type: TYPE_TB
  zh: '| USB3.1 | 1250 MB/s |'
- en: '| USB3.0 | 625 MB/s |'
  id: totrans-275
  prefs: []
  type: TYPE_TB
  zh: '| USB3.0 | 625 MB/s |'
- en: '| GB Ethernet | 125 MB/s |'
  id: totrans-276
  prefs: []
  type: TYPE_TB
  zh: '| GB以太网 | 125 MB/s |'
- en: '| FW800 | 98 MB/s |'
  id: totrans-277
  prefs: []
  type: TYPE_TB
  zh: '| FW800 | 98 MB/s |'
- en: '| USB2 | 60 MB/s |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '| USB2 | 60 MB/s |'
- en: '***Heat and Environmental Factors***'
  id: totrans-279
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***热量和环境因素***'
- en: During a forensic disk acquisition, every accessible sector on the disk is being
    read, and the reading of the disk is sustained and uninterrupted, often for many
    hours. As a result, disk operating temperatures can increase and cause issues.
    When disks become too hot, the risk of failure increases, especially with older
    disks. Researchers at Google have produced an informative paper on hard disk failure
    at *[http://research.google.com/archive/disk_failures.pdf](http://research.google.com/archive/disk_failures.pdf)*.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行取证磁盘获取时，每个可访问的扇区都被读取，且读取过程持续且不中断，通常会持续几个小时。因此，磁盘的工作温度可能会上升并引发问题。当磁盘过热时，故障风险增加，尤其是对于较旧的磁盘。Google的研究人员发布了一篇关于硬盘故障的有益论文，地址为
    *[http://research.google.com/archive/disk_failures.pdf](http://research.google.com/archive/disk_failures.pdf)*。
- en: To reduce the risk of read errors, bad blocks, or total disk failure, it’s worthwhile
    to monitor the disk temperature while a disk is being acquired. Most disk vendors
    publish the normal operating temperatures for their drives, including the maximum
    acceptable operating temperature.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 为了减少读取错误、坏块或硬盘故障的风险，在获取磁盘时监控磁盘温度是值得的。大多数磁盘供应商都会发布其驱动器的正常工作温度，包括最大可接受的工作温度。
- en: 'You can also use several tools to manually query the temperature of a drive.
    A simple tool that queries the SMART interface for a drive’s temperature is hddtemp,
    as shown here:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用多个工具手动查询硬盘的温度。一个简单的工具是`hddtemp`，它通过查询SMART接口来获取硬盘的温度，如下所示：
- en: '[PRE34]'
  id: totrans-283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: The hddtemp tool can be run as a daemon and periodically log to syslog, where
    you can monitor it for certain thresholds.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '`hddtemp`工具可以作为守护进程运行，并定期记录到syslog中，你可以监控它以便检测某些阈值。'
- en: 'For more detailed output on a disk’s temperature, and in some cases a temperature
    history, use the smartctl tool. Here is an example:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 要获得有关磁盘温度的更详细输出，并在某些情况下获取温度历史记录，可以使用`smartctl`工具。以下是一个示例：
- en: '[PRE35]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: If a disk begins to overheat during a disk acquisition, take action to reduce
    the temperature. As an immediate step, temporarily suspend the acquisition process
    and continue it when the disk has cooled. Depending on the acquisition method
    you use, this could be a simple matter of sending a signal to the Linux process
    by pressing CTRL-Z or entering `kill -SIGTSTP` followed by a process id. When
    the temperature decreases to an acceptable level, the acquisition process can
    be resumed from the same place it was suspended.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 如果磁盘在磁盘获取过程中开始过热，请采取措施降低温度。作为一个立即的步骤，可以暂时挂起获取过程，待磁盘降温后再继续。根据你使用的获取方法，这可能只是通过按CTRL-Z或输入`kill
    -SIGTSTP`后跟进程ID来向Linux进程发送一个信号。当温度降至可接受水平时，可以从挂起的地方恢复获取过程。
- en: 'Suspending and resuming a process in this way should not affect the forensic
    soundness of the acquisition. The process is suspended with its operational state
    intact (current sector, destination file, environment variables, and so on). An
    example of suspending and resuming an imaging process on the shell by pressing
    CTRL-Z looks like this:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式挂起和恢复进程不会影响获取过程的取证有效性。进程被挂起时，其操作状态保持完整（当前扇区、目标文件、环境变量等）。通过按CTRL-Z在Shell中挂起并恢复成像过程的示例如下：
- en: '[PRE36]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: Here an executing `dcfldd` command is suspended by pressing CTRL-Z on the keyboard.
    Resume the process by using the `fg` command (foreground). The process can also
    be resumed with a `kill -SIGCONT` command. See the Bash documentation and the
    SIGNAL(7) manual page for more about job control and signals.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，执行的`dcfldd`命令通过按下键盘上的CTRL-Z被挂起。通过使用`fg`命令（前台）可以恢复该进程。也可以使用`kill -SIGCONT`命令来恢复该进程。有关作业控制和信号的更多信息，请参阅Bash文档和SIGNAL(7)手册页。
- en: Using tools such as Nagios, Icinga, or other infrastructure-monitoring systems,
    you can automate temperature monitoring and alerting. Such systems monitor various
    environmental variables and provide alerts when critical thresholds are approached
    or exceeded.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 使用像Nagios、Icinga或其他基础设施监控系统这样的工具，你可以自动化温度监控和报警。这些系统监控各种环境变量，并在接近或超过临界阈值时提供警报。
- en: Many forensic labs use heat sinks or disk coolers when imaging to reduce the
    problem of overheating subject disks. This is recommended during long acquisition
    sessions, especially when you’re working with older drives.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 许多取证实验室在成像时使用散热器或硬盘冷却器，以减少被处理磁盘过热的问题。特别是在进行长时间的获取会话时，建议这样做，尤其是当你使用较旧的硬盘时。
- en: If you attempt to use certain power management techniques to reduce heat, they
    will be of little use. These methods work by spinning down the drive after a period
    of idle time; however, during a sustained imaging operation, there is little or
    no idle time.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你尝试使用某些电源管理技术来降低温度，它们将无太大作用。这些方法通过在一段时间空闲后关闭硬盘来工作；然而，在持续的成像操作过程中，几乎没有空闲时间。
- en: '**Establish Forensic Write-Blocking Protection**'
  id: totrans-294
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**建立法医写保护**'
- en: A fundamental component of digital evidence collection is performing a forensically
    sound acquisition of storage media. You can achieve part of this goal^([4](footnote.xhtml#fn20))
    by ensuring that a write-blocking mechanism is in place before you attach the
    disk to the forensic acquisition host.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 数字证据收集的基本组成部分是对存储介质进行法医上可靠的获取。你可以通过确保在将磁盘连接到法医获取主机之前，已经有写保护机制到位，来实现这一部分目标^([4](footnote.xhtml#fn20))。
- en: When you attach a disk to a PC running a modern OS, automated processes significantly
    increase the risk of data modification (and therefore evidence destruction). Attempts
    to automatically mount partitions, generate thumbnail images for display in graphical
    file managers, index for local search databases, scan with antivirus software,
    and more all put an attached drive at risk of modification. Timestamps might be
    updated, destroying potential evidence. Deleted files in unallocated parts of
    the disk might be overwritten, also destroying evidence. Discovered malware or
    viruses (the very evidence an investigator might be looking for) could be purged.
    Journaling filesystems could have queued changes in the journal log written to
    disk. There may be attempts to repair a broken filesystem or assemble/synchronize
    RAID components.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 当你将磁盘连接到运行现代操作系统的计算机时，自动化进程显著增加了数据修改的风险（因此也增加了证据销毁的风险）。自动挂载分区、生成缩略图以便在图形文件管理器中显示、为本地搜索数据库建立索引、使用杀毒软件扫描等尝试都会使连接的磁盘面临修改的风险。时间戳可能会被更新，破坏潜在证据。未分配区域中的删除文件可能被覆盖，也会破坏证据。发现的恶意软件或病毒（这正是调查员可能正在寻找的证据）可能会被清除。日志文件系统可能会将队列中的变更写入磁盘。也可能会尝试修复损坏的文件系统或组装/同步
    RAID 组件。
- en: In addition to automated potential destruction of evidence, human error poses
    another significant risk. People might accidentally copy or delete files; browse
    around the filesystem (and update last-accessed time-stamps); or mistakenly choose
    the wrong device, resulting in a destructive action.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 除了自动化潜在的证据销毁，人的错误也是另一个显著的风险。人们可能会不小心复制或删除文件；浏览文件系统（并更新最后访问时间戳）；或错误选择了设备，从而导致破坏性操作。
- en: Write blockers were designed to protect against unwanted data modification on
    storage media. Requiring the use of write blockers in a forensic lab’s standard
    processes and procedures demonstrates due diligence. It satisfies industry best
    practice for handling storage media as evidence in a digital forensic setting.
    Write blockers guarantee a read-only method of attaching storage media to an examiner’s
    workstation.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 写保护器的设计目的是防止存储介质上的数据被修改。要求在法医实验室的标准流程和程序中使用写保护器，展示了应有的谨慎态度。这符合行业最佳实践，用于在数字取证环境中处理存储介质作为证据。写保护器确保了将存储介质以只读方式连接到检查员的工作站。
- en: 'NIST Computer Forensic Tool Testing (CFTT) provides formal requirements for
    write blockers. The Hardware Write Block (HWB) Device Specification, Version 2.0
    is available at *[http://www.cftt.nist.gov/hardware_write_block.htm](http://www.cftt.nist.gov/hardware_write_block.htm)*.
    This specification identifies the following top-level tool requirements:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: NIST 计算机取证工具测试（CFTT）提供了写保护器的正式要求。《硬件写保护（HWB）设备规范，第2.0版》可以在 *[http://www.cftt.nist.gov/hardware_write_block.htm](http://www.cftt.nist.gov/hardware_write_block.htm)*
    上找到。该规范标识了以下顶级工具要求：
- en: • An HWB device shall not transmit a command to a protected storage device that
    modifies the data on the storage device.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: • HWB 设备不得向受保护的存储设备发送任何修改存储设备数据的命令。
- en: • An HWB device shall return the data requested by a read operation.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: • HWB 设备应返回读取操作请求的数据。
- en: • An HWB device shall return without modification any access-significant information
    requested from the drive.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: • HWB 设备应无修改地返回请求磁盘访问的重要信息。
- en: • Any error condition reported by the storage device to the HWB device shall
    be reported to the host.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: • 存储设备向 HWB 设备报告的任何错误条件应报告给主机。
- en: Both hardware and software write blockers are available, as stand-alone hardware,
    installable software packages, or bootable forensic CDs. In some cases, media
    might have built-in read-only functionality.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
- en: '***Hardware Write Blockers***'
  id: totrans-305
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: The preferred method of write blocking uses hardware devices situated between
    a subject disk and an examiner’s workstation. A hardware write blocker intercepts
    drive commands sent to the disk that might modify the data. A photograph of a
    portable write-blocking device protecting a SATA drive (Tableau by Guidance Software)
    is shown in [Figure 4-1](ch04.xhtml#ch4fig1).
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f04-01.jpg)'
  id: totrans-307
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4-1: Portable SATA write blocker*'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
- en: Hardware write blockers usually have a switch or LED to indicate whether write
    blocking functionality is in operation. A photograph of a multifunctional write-blocking
    device designed to be built directly into the examiner workstation (Tableau by
    Guidance Software) is shown in [Figure 4-2](ch04.xhtml#ch4fig2). It can protect
    SATA, SAS, IDE, FireWire, and USB drives.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f04-02.jpg)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4-2: Multifunction drive bay write blocker*'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
- en: 'Write blockers can provide status information to the acquisition host system.
    An example is the tableau-parm tool (*[https://github.com/ecbftw/tableau-parm/](https://github.com/ecbftw/tableau-parm/)*),
    which can query the Tableau hardware write blocker for information. You can use
    this open source tool to verify the write-blocking status of a disk attached with
    a Tableau write blocker. For example:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE37]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: According to Tableau’s documentation, the `drive_vendor` field may not contain
    any information for some drives.^([5](footnote.xhtml#fn21))
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
- en: 'During the final stages of editing this book, the first PCI Express write blockers
    appeared on the market. An example is shown here from Tableau. Attaching an NVME
    drive using a PCI Express write blocker produces the following dmesg output:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE38]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: The write blocker operates as a USB3 bridge and makes the NVME drive available
    as a SCSI device. This particular write blocker supports PCI Express drives using
    both AHCI and NVME standards. The hardware interfaces supported are regular PCI
    Express slots ([Figure 4-3](ch04.xhtml#ch4fig3)) and M.2 ([Figure 4-4](ch04.xhtml#ch4fig4)).
    Standard adapters from mini-SAS to PCI Express or M.2 can be used to attach U.2
    (SFF-8639) NVME drives. PCI write blockers with NVME support are also available
    from Wiebetech.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
- en: The primary advantage of hardware-based write blockers is their OS independence.
    They operate transparently and separately from the acquisition host, eliminating
    the need to maintain drivers or OS compatibility. This makes them ideal for use
    in a Linux acquisition environment.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f04-03.jpg)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4-3: Write blocker dock for PCI Express slot drives*'
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f04-04.jpg)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4-4: Multifunction write blocker and dock for PCI Express M.2 drives*'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
- en: Special thanks to Arina AG in Switzerland for providing the write blocker equipment
    used for test purposes in this book.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 特别感谢瑞士的Arina AG提供了本书中用于测试目的的写保护设备。
- en: '***Software Write Blockers***'
  id: totrans-324
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***软件写保护器***'
- en: Software write blockers have a somewhat controversial history. They’ve become
    increasingly difficult to develop and maintain with modern OSes. System updates
    by the OS vendor, configuration tweaks by the examiner, and additionally installed
    software all create a risk of disabling, overwriting, bypassing, or causing the
    failure of write-blocking functionality implemented in software.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 软件写保护器有着相对有争议的历史。随着现代操作系统的发展，它们变得越来越难以开发和维护。操作系统厂商的系统更新、审查员的配置调整以及额外安装的软件都可能导致禁用、覆盖、绕过或使得软件实现的写保护功能失效。
- en: Software write blockers are difficult to implement. Simply mounting a disk as
    read-only (`mount -o ro`) will *not* guarantee that the disk won’t be modified.
    The *read-only* property in this context refers to the filesystem, not the disk
    device. The kernel may still write to the disk for various reasons. Software write
    blocking must be implemented in the kernel, below the virtual filesystem layer
    and even below the other device drivers that implement a particular drive interface
    (AHCI for example). Several low-level software write-blocking methods have been
    used under Linux but with limited success.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 软件写保护器的实现比较困难。仅仅将磁盘挂载为只读（`mount -o ro`）*不能*保证磁盘不会被修改。此处的*只读*属性指的是文件系统，而不是磁盘设备。在各种情况下，内核仍然可能会写入磁盘。软件写保护必须在内核中实现，位于虚拟文件系统层以下，甚至在实现特定驱动接口的其他设备驱动程序（例如AHCI）以下。Linux下已经使用了几种低级别的软件写保护方法，但成功的案例有限。
- en: 'Tools such as hdparm and blockdev can set a disk to read-only by setting a
    kernel flag. For example:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 工具如hdparm和blockdev可以通过设置内核标志将磁盘设置为只读。例如：
- en: '[PRE39]'
  id: totrans-328
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'The same flag can be set with blockdev, like this:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 可以像这样使用blockdev设置相同的标志：
- en: '[PRE40]'
  id: totrans-330
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: The method of setting kernel flags is dependent on properly configuring udev
    to make newly attached drives read-only before any other process has a chance
    to modify them.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 设置内核标志的方法依赖于正确配置udev，以便在其他进程有机会修改新附加的驱动器之前将其设置为只读。
- en: 'A kernel patch has also been written to specifically implement forensic write-blocking
    functionality. You’ll find more information about it at *[https://github.com/msuhanov/Linux-write-blocker/](https://github.com/msuhanov/Linux-write-blocker/)*.
    Several forensic boot CDs use Maxim Suhanov’s write-blocking kernel patch. The
    following helper script manages software write blocking on the DEFT Linux forensic
    boot CD:'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 也有一个内核补丁专门实现了取证写保护功能。你可以在*[https://github.com/msuhanov/Linux-write-blocker/](https://github.com/msuhanov/Linux-write-blocker/)*上找到更多信息。几种取证启动CD使用了Maxim
    Suhanov的写保护内核补丁。以下辅助脚本管理DEFT Linux取证启动CD上的软件写保护：
- en: '[PRE41]'
  id: totrans-333
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: The patch is implemented in the kernel and is turned on (and off) using helper
    scripts. The helper scripts simply use the `blockdev` command to mark the device
    as read-only.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 补丁在内核中实现，并通过辅助脚本来开启（和关闭）。辅助脚本简单地使用`blockdev`命令将设备标记为只读。
- en: NIST CFTT has performed software write blocker tool tests, which you’ll find
    at *[http://www.cftt.nist.gov/software_write_block.htm](http://www.cftt.nist.gov/software_write_block.htm)*.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: NIST CFTT已经进行过软件写保护工具测试，相关信息可以在*[http://www.cftt.nist.gov/software_write_block.htm](http://www.cftt.nist.gov/software_write_block.htm)*上找到。
- en: Hardware write blockers are still the safest and recommended method of protecting
    storage media during forensic acquisition.
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: 硬件写保护器仍然是保护存储介质在取证过程中最安全和推荐的方法。
- en: '***Linux Forensic Boot CDs***'
  id: totrans-337
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***Linux取证启动CD***'
- en: The need to perform incident response and triage in the field has led to the
    development of bootable Linux CDs that contain the required software to perform
    such tasks. These CDs can boot a subject PC and access the locally attached storage
    using various forensic tools. Forensic boot CDs are designed to write protect
    discovered storage in the event it needs to be forensically imaged. You can make
    an attached disk writable by using a command (like `wrtblk` shown in the previous
    example), which is useful in acquiring an image when you attach an external destination
    disk. Forensic boot CDs also have network functionality and enable remote analysis
    and acquisition.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
- en: 'Forensic boot CDs are useful when:'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
- en: • A PC is examined without opening it to remove a disk.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
- en: • A write blocker is not available.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
- en: • PCs need to be quickly checked during triage for a certain piece of evidence
    before deciding to image.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
- en: • Linux-based tools (Sleuth Kit, Foremost, and so on) are needed but not otherwise
    available.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
- en: • A forensic technician needs to remotely perform work via ssh.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: 'Several popular forensic boot CDs that are currently maintained include:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: '• Kali Linux (formerly BackTrack), which is based on Debian: *[https://www.kali.org/](https://www.kali.org/)*'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
- en: '• Digital Evidence & Forensics Toolkit (DEFT), which is based on Ubuntu Linux:
    *[http://www.deftlinux.net/](http://www.deftlinux.net/)*'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
- en: '• Pentoo, a forensic CD based on Gentoo Linux: *[http://pentoo.ch/](http://pentoo.ch/)*'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: '• C.A.I.N.E, Computer Forensics Linux Live Distro, which is based on Ubuntu
    Linux: *[http://www.caine-live.net/](http://www.caine-live.net/)*'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: Forensic boot CDs require a lot of work to maintain and test. Many other forensic
    boot CDs have been available in the past. Because of the changing landscape of
    forensic boot CDs, be sure to research and use the latest functional and maintained
    versions.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
- en: '***Media with Physical Read-Only Modes***'
  id: totrans-351
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Some storage media have a write-protect mechanism that can be useful in a forensic
    context. For example, most tapes have a sliding switch or tab that instructs the
    tape drive to treat them as read-only, as shown on the left of [Figure 4-5](ch04.xhtml#ch4fig5).
    On the LTO-5 tape (bottom left), a closed tab indicates it is write protected;
    on the DAT160 tape (top left), an open tab indicates it is write protected.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
- en: SD memory cards have a *lock* switch that write protects the memory card, as
    shown on the right of [Figure 4-5](ch04.xhtml#ch4fig5).
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f04-05.jpg)'
  id: totrans-354
  prefs: []
  type: TYPE_IMG
- en: '*Figure 4-5: Write-protect tabs on tapes and SD cards*'
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
- en: Older USB thumb drives may have a write-protect switch. Some very old IDE hard
    disks have a jumper that you can set to make the drive electronics treat the drive
    as read-only.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: CD-ROMs, DVDs, and Blu-ray discs do not need a write blocker, because they are
    read-only by default. The simple act of accessing a rewritable disc will not make
    modifications to timestamps or other data on the disc; changes to these optical
    media must be explicitly burned to the disc.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: CD-ROM、DVD 和 Blu-ray 光盘不需要写入阻断器，因为它们默认是只读的。访问可重写光盘的简单操作不会修改光盘上的时间戳或其他数据；对这些光盘的更改必须明确地刻录到光盘上。
- en: '**Closing Thoughts**'
  id: totrans-358
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**结束语**'
- en: In this chapter, you learned how to set up basic auditing, activity logging,
    and task management. I covered topics such as naming conventions and scalable
    directory structures, as well as various challenges with image sizes, drive capacity
    planning, and performance and environmental issues. Finally, this chapter discussed
    the crucial component of forensic write blocking. You are now ready to attach
    a subject drive to the acquisition host in preparation for executing the forensic
    acquisition process.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何设置基本的审计、活动日志记录和任务管理。我涵盖了命名约定和可扩展目录结构等主题，还讨论了图像大小、驱动器容量规划以及性能和环境问题等各种挑战。最后，本章讨论了法医写入阻断的关键组件。你现在已经准备好将目标驱动器连接到采集主机，准备执行法医采集过程。
