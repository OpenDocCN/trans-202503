- en: '2'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '2'
- en: Attack Targets on the Internet
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网中的攻击目标
- en: '![](image_fi/book_art/chapterart.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![](image_fi/book_art/chapterart.png)'
- en: 'You know what types of black hats exist, but a question still remains: how
    do they find you? Most people don’t expect to be targeted by an attacker. You
    might wonder what you have that a black hat wants.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 你知道有哪些类型的黑帽攻击者，但问题依然存在：他们是如何找到你的？大多数人并不期待自己会成为攻击者的目标。你可能会想知道自己有什么东西是黑帽攻击者想要的。
- en: You’d be surprised at what an attacker finds valuable. It’s true that many steal
    credit card and social security numbers, but others look for more than just personal
    data. Some might want information about other targets. Or they might want access
    to your equipment, such as computers or routers, to carry out other hacks. They
    might even be looking for insecure devices, just to have a little fun. In these
    cases, any device that is connected to the internet becomes a target for black
    hats.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 你会惊讶于攻击者认为有价值的东西。确实，许多人会窃取信用卡和社会保障号码，但也有些攻击者寻找的不仅仅是个人数据。某些人可能会想要关于其他目标的信息，或者他们可能想要访问你的设备，比如计算机或路由器，以进行其他黑客攻击。他们甚至可能只是想寻找不安全的设备，纯粹是为了好玩。在这些情况下，任何连接到互联网的设备都会成为黑帽攻击者的目标。
- en: We all have plenty of devices, some we might not even know about, that use the
    internet and need to be secured against black hat attacks. In this chapter, we’ll
    briefly look at how the internet works, including a history of the technology,
    to help you better understand how an adversary uses it. Next, I’ll break down
    how black hats prepare an attack with the information they gather from public
    resources. I’ll finish the chapter by explaining how to hide from attackers by
    implementing three essential rules of internet use.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 我们每个人都有大量设备，其中一些我们可能甚至不知道，它们使用互联网并需要保护以防止黑帽攻击。在本章中，我们将简要了解互联网是如何工作的，包括技术的历史，帮助你更好地理解攻击者是如何利用它的。接下来，我会解析黑帽攻击者如何利用他们从公共资源中收集到的信息来准备攻击。最后，我将通过实施三条互联网使用的基本规则，向你解释如何躲避攻击者。
- en: How the Internet Works
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 互联网是如何运作的
- en: To comprehend how a black hat finds and exploits you on the internet, you need
    to understand some fundamental concepts about how the internet works. The internet
    as you know it today began as a project in the *Advance Research Projects Agency*
    *(ARPA**)*, a United States government organization tasked with researching new
    technologies to maintain a lead over the Soviet Union.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 要理解黑帽攻击者如何在互联网中找到并利用你，你需要理解一些关于互联网运作的基本概念。你今天所知的互联网起源于*先进研究计划署*（*ARPA*），这是一个美国政府机构，负责研究新技术以保持对苏联的技术领先优势。
- en: In the 1960s, ARPA began working on a tool that would protect US communications
    during a nuclear attack. Because nuclear bombs could easily wipe out massive amounts
    of infrastructure, the US military needed a communications network that could
    reactively realign itself should part of the country be attacked. For example,
    if Washington, DC, was hit with a bomb, the military needed to be able to bypass
    the communication lines that went through the city so it could continue to share
    information with other parts of the country seamlessly.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在1960年代，ARPA开始研究一种工具，用于在核攻击期间保护美国的通信。由于核弹可以轻易摧毁大量基础设施，美国军方需要一个能够在部分国家遭到攻击时自动重新调整的通信网络。例如，如果华盛顿特区遭到轰炸，军方需要能够绕过经过该城市的通信线路，以便继续与国家其他地区无缝地共享信息。
- en: One solution to this problem was the idea of *packet* *switching*. The premise
    was to put information into packets, or self-contained units, and then have a
    computer decide in real time where those packets should be sent based on information
    provided to it. For instance, if a computer received a packet destined for Atlanta
    (identified by an address attached to the packet) and knew that the intermediary
    Washington, DC, communication lines were down, it could automatically send that
    packet to, say, Cleveland, which could then pass it on to Atlanta. This allowed
    computers to create and maintain a network of communication even if part of the
    network was destroyed.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 解决这个问题的一种方法是*分组* *交换*的理念。其前提是将信息分成数据包，或者是自包含的单元，然后让计算机根据所提供的信息实时决定这些数据包应该发送到哪里。例如，如果计算机接收到一个目标是亚特兰大的数据包（通过附加在数据包上的地址来标识），并且知道中介的华盛顿特区通信线路已经中断，它可以自动将该数据包发送到克利夫兰，克利夫兰随后将其传递到亚特兰大。这使得即使网络的一部分被摧毁，计算机也能创建并维护一个通信网络。
- en: ARPA and many other researchers worked on implementing packet switching in large
    networks. Until that point, devices had communicated with each other directly
    via dedicated circuits set up between them. A circuit was typically a single physical
    line, and any break in the line would bring down the entire network. By the late
    1960s and early 1970s, several smaller networks, created mostly to communicate
    between various universities and supercomputer sites, used packet switching to
    allow computers to communicate with each other over vast distances. [Figure 2-1](#figure2-1)
    shows a breakdown of the sites connected as part of *NSFNET*, one of the early
    networks that would later become the internet. This work continued into the 1980s,
    when commercial desktop computers become more readily available to the public.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ARPA 和许多其他研究人员致力于在大型网络中实现分组交换。在此之前，设备通过设置的专用电路直接进行通信。电路通常是单一的物理线路，任何线路中断都会导致整个网络瘫痪。到
    1960 年代末和 1970 年代初，几个较小的网络，主要用于各大学和超级计算机站点之间的通信，开始使用分组交换，允许计算机在广阔的距离上相互通信。[图 2-1](#figure2-1)
    展示了作为 *NSFNET* 一部分的站点连接情况，*NSFNET* 是早期网络之一，后来发展成了互联网。这个工作一直持续到 1980 年代，当时商业桌面计算机开始更广泛地向公众提供。
- en: '![f02001](image_fi/501287c02/f02001.png)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![f02001](image_fi/501287c02/f02001.png)'
- en: 'Figure 2-1: NSFNET in 1992, connecting various academic and other sites across
    the United States (image altered from the original created by Merit Network, Inc.
    under the Attribution-ShareAlike 3.0 Unported [CC BY-SA 3.0] license, [https://creativecommons.org/licenses/by-sa/3.0/deed.en](https://creativecommons.org/licenses/by-sa/3.0/deed.en))'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 图 2-1：1992 年的 NSFNET，连接美国各地的学术和其他站点（图片修改自原始图像，由 Merit Network, Inc. 创建，采用 Attribution-ShareAlike
    3.0 Unported [CC BY-SA 3.0] 许可证，[https://creativecommons.org/licenses/by-sa/3.0/deed.en](https://creativecommons.org/licenses/by-sa/3.0/deed.en)）
- en: It was also at this time that Robert Kahn and Vinton Cerf first developed the
    communication protocols known as the Internet Protocol (IP) and Transmission Control
    Protocol (TCP).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 正是在这一时期，Robert Kahn 和 Vinton Cerf 首次开发了被称为互联网协议（IP）和传输控制协议（TCP）的通信协议。
- en: 'TCP/IP: The Backbone of the Internet'
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: TCP/IP：互联网的支柱
- en: '*TCP**/IP* (sometimes referred to as the *IP* *suite*) is the set of protocols
    that runs the modern internet. Protocols are special codes that define how a system
    should understand and process the data received over a network. For example, the
    HTTP protocol tells a system that the data sent is a website and should be processed
    by a web browser. The TCP/IP protocols tell systems how traffic (flows of data)
    should be passed from device to device to reach a destination. It’s part of the
    information that systems use to make adjustments in a packet-switching network.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '*TCP**/IP*（有时称为 *IP* *套件*）是运行现代互联网的协议集合。协议是特别的代码，定义了系统应如何理解和处理通过网络接收到的数据。例如，HTTP
    协议告诉系统，发送的数据是一个网站，应该由网页浏览器处理。TCP/IP 协议告诉系统如何将流量（数据流）从一个设备传输到另一个设备，直到达到目的地。它是系统用来在分组交换网络中进行调整的信息的一部分。'
- en: The IP protocol provides a number, known as an IP address, that identifies the
    location of a computer on a given network. You can think of an IP address as your
    ZIP code. A ZIP code identifies a general region that the postal service uses
    to direct a package. There are two versions of IP addresses, version 4 (called
    IPv4) and version 6 (called IPv6). In this chapter I’ll only discuss IPv4, because
    it’s still the most common.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: IP 协议提供了一个编号，称为 IP 地址，用于标识计算机在给定网络上的位置。你可以把 IP 地址想象成你的邮政编码。邮政编码标识了一个大致的区域，邮政服务利用它来引导包裹。IP
    地址有两个版本，版本 4（称为 IPv4）和版本 6（称为 IPv6）。在本章中，我只讨论 IPv4，因为它仍然是最常见的。
- en: TCP is a set of rules that allows one system to communicate with another system
    while ensuring that both systems are available on the network. TCP is essentially
    the same as calling a friend to confirm they’ll be home to receive a package when
    it comes in the mail. We’ll talk more about these two protocols in Chapter 6.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: TCP 是一套规则，允许一个系统与另一个系统进行通信，同时确保两个系统都能在网络上访问。TCP 本质上就像打电话给朋友，确认他们在家，以便包裹寄到时可以接收。我们将在第
    6 章中进一步讨论这两种协议。
- en: With TCP/IP, packet-switching technology, and cheaper home computers, it didn’t
    take long before commercial companies became interested in setting up their own
    networks so businesses and homes could communicate. Eventually, these networks
    began mingling, connecting larger and larger numbers of systems until the internet
    evolved naturally to consist of internet service providers (ISPs). ISPs, such
    as AT&T, Comcast, and Verizon, began to provide internet access and sell the necessary
    infrastructure to businesses and eventually homes. Since the early 1990s the world
    has become more interconnected, with computer networks reaching nearly every corner
    of the planet.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 随着TCP/IP、分组交换技术以及家庭计算机变得更加便宜，商业公司很快对建立自己的网络产生了兴趣，以便企业和家庭能够进行通信。最终，这些网络开始互相连接，连接了越来越多的系统，直到互联网自然而然地发展成了由互联网服务提供商（ISPs）构成的网络。像AT&T、Comcast和Verizon这样的ISP开始提供互联网接入，并向企业以及最终的家庭销售必要的基础设施。自1990年代初以来，世界变得更加互联互通，计算机网络几乎覆盖了地球的每个角落。
- en: Public vs. Private Networks
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 公共网络与私人网络
- en: 'Today’s internet is made up of a large number of connected smaller networks.
    These networks can generally be categorized into two types: public and private.
    Essentially, anyone can use a *public network*, usually by paying a fee. For example,
    the network that your house connects to and that you pay an ISP to use is a public
    network. These form the backbone of the internet, because they allow any paying
    customer to connect. Often, public networks are run by ISPs.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 当今的互联网由大量连接的小型网络组成。这些网络通常可以分为两种类型：公共网络和私人网络。本质上，任何人都可以使用*公共网络*，通常需要支付一定费用。例如，你家连接的网络并通过ISP支付使用费用的网络就是公共网络。这些网络构成了互联网的骨干，因为它们允许任何付费用户进行连接。通常，公共网络由ISP运营。
- en: Frequently, public networks are also connected to *private networks**,* which
    only allow connections to a limited group of devices. For example, if you work
    in an office, you might be able to access files from a specific server through
    a connection from your desktop computer. The server and the desktop computer are
    on a private network, meaning they’re only allowed to communicate with each other
    or other devices on the private network. People on the public network (the internet)
    can’t directly see, connect, or access anything on the private network.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 公共网络通常也与*私人网络*连接，私人网络仅允许有限的设备连接。例如，如果你在办公室工作，你可能可以通过桌面计算机的连接访问特定服务器上的文件。服务器和桌面计算机位于一个私人网络中，这意味着它们只允许彼此或其他位于私人网络上的设备进行通信。公共网络（互联网）上的人无法直接查看、连接或访问私人网络中的任何内容。
- en: Many private networks have a connection to the public network through equipment
    provided by an ISP, and they pay to get access to the internet. For example, your
    home might have a Wi-Fi network. Only the people who live at your house or guests
    to whom you give access can use that Wi-Fi network, making it a private network.
    However, your house is connected to the internet, usually through a special device
    called a *modem* or *router*. These devices pass your traffic between your home
    Wi-Fi network and the ISP’s public internet. You, along with people in your neighborhood,
    pay the ISP to access the internet using special ISP equipment. Without you letting
    them have access, people can’t just access your private network from the public
    network.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 许多私人网络通过ISP提供的设备连接到公共网络，并支付费用以接入互联网。例如，你家可能有一个Wi-Fi网络。只有住在你家的人或你授权的访客才能使用这个Wi-Fi网络，这使它成为一个私人网络。然而，你的家与互联网连接，通常是通过一个叫做*调制解调器*或*路由器*的特殊设备。这些设备在你家的Wi-Fi网络和ISP的公共互联网之间传递流量。你和你邻里的其他人通过特别的ISP设备支付费用以访问互联网。如果你不允许别人访问，他们就无法从公共网络直接访问你的私人网络。
- en: '[Figure 2-2](#figure2-2) shows how the internet with its public and private
    networks might look as a visual map.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 2-2](#figure2-2) 显示了带有公共和私人网络的互联网的可视化地图。'
- en: Billions of *nodes* make up the internet. These nodes represent connections
    between IP addresses. The expanded section in the bottom-right corner of the figure
    reveals how individual addresses, such as 8.8.8.8, are connected to an ISP to
    form larger connections that create the internet.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 数十亿个*节点*构成了互联网。这些节点代表了IP地址之间的连接。图中右下角的扩展部分显示了像8.8.8.8这样的单个地址是如何连接到ISP，形成更大连接，最终构成互联网的。
- en: '![f02002](image_fi/501287c02/f02002.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![f02002](image_fi/501287c02/f02002.png)'
- en: 'Figure 2-2: A map of the internet (image altered from the original created
    by the Opte Project under the Attribution 2.5 Generic [CC BY 2.5] license, [https://creativecommons.org/licenses/by/2.5/deed.en](https://creativecommons.org/licenses/by/2.5/deed.en))'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-2：互联网地图（图像已根据Opte项目创建的原始图像进行修改，使用署名 2.5 通用 [CC BY 2.5] 许可证，[https://creativecommons.org/licenses/by/2.5/deed.en](https://creativecommons.org/licenses/by/2.5/deed.en)）
- en: 'Private and public networks are differentiated by the type of IP address they
    use. An IPv4 address is made up of four numbers, each ranging from 0 to 255, usually
    separated by periods: 192.168.15.1 and 10.10.10.255, for example. Certain ranges
    of those numbers are set aside for use by private networks only, whereas the rest
    are available for the public. Private addresses use certain addresses that never
    change, such as 10.0.0.0 or 192.168.27.0\. Public addresses get translated to
    private addresses when you connect from a public network to a private network,
    and vice versa. For example, when you connect to google.com, you might connect
    to the address 8.8.8.8 (a public address). Once the connection to 8.8.8.8 is made,
    Google’s own network equipment might translate that connection into a private
    address, such as *192.168.1.1*, so you can access resources on Google’s private
    network. This process is known as *Network Address Translation* *(NAT**).*'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 私有网络和公共网络通过它们使用的IP地址类型来区分。IPv4地址由四个数字组成，每个数字的范围是0到255，通常用句点分隔，例如：192.168.15.1和10.10.10.255。某些数字范围仅为私有网络保留，而其余的则供公共使用。私有地址使用某些永不改变的地址，例如10.0.0.0或192.168.27.0。公共地址在你从公共网络连接到私有网络时，会被转换为私有地址，反之亦然。例如，当你连接到google.com时，你可能会连接到地址8.8.8.8（一个公共地址）。一旦与8.8.8.8的连接建立，Google自己的网络设备可能会将该连接转换为私有地址，例如*192.168.1.1*，以便你能够访问Google私人网络中的资源。这个过程被称为*网络地址转换*（*NAT**）。
- en: How the Internet Looks to a Black Hat
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 黑帽眼中的互联网
- en: 'When a black hat accesses the internet, they’re often trying to figure out
    how they can get past the public network and look into a private network. This
    can be exceedingly difficult, because many of the systems that make the internet
    what it is today are designed specifically to prevent people on a public network
    from seeing what’s going on in any private network. Consider the NAT process:
    the person connecting to the public address doesn’t see the translation or what
    is happening behind the scenes. When you connect to google.com, you connect through
    a web browser, and the Google website appears. You’re not informed of and normally
    can’t see all the mechanisms on Google’s private network that allow the web page
    to operate the way it’s supposed to.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 当黑帽访问互联网时，他们通常是在尝试弄清楚如何越过公共网络，进入私人网络。这可能非常困难，因为构成今天互联网的许多系统是专门设计来阻止公共网络上的人们查看任何私人网络中的情况的。考虑NAT过程：连接到公共地址的用户看不到翻译过程，也看不到幕后发生的事情。当你连接到google.com时，你是通过网页浏览器连接的，Google网站会出现。你并不会被告知，也通常看不到Google私人网络中所有的机制，这些机制使得网页能够按照预期的方式运行。
- en: So when an adversary focuses on a target, their first step is often to determine
    how they can move from the public side of a network to the private side. Once
    they’re in the private network, they can work on finding their specific target
    and executing the attack to get whatever they’re after, whether that’s disrupting
    business as usual or stealing data. To perform all these actions successfully,
    many black hats rely on a certain set of steps to maximize their attack’s potential.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，当对手集中攻击一个目标时，他们的第一步通常是确定如何从网络的公共侧转移到私人侧。一旦进入私人网络，他们就可以继续寻找特定的目标，并执行攻击以获取他们想要的东西，无论是破坏正常的业务运作，还是窃取数据。为了成功执行这些操作，许多黑帽依赖于一套特定的步骤，以最大化他们攻击的潜力。
- en: The Black Hat Attack Methodology
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 黑帽攻击方法
- en: Not every attack by a black hat follows a specific pattern or set of steps.
    But most attackers must accomplish certain objectives before they can fully realize
    their goals. Several models classify these objectives, but one of the most famous
    is the *Lockheed Martin Cyber Kill Chain* *(CKC**)*.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有黑帽攻击都遵循特定的模式或步骤。但大多数攻击者在完全实现他们的目标之前，必须完成某些特定的目标。虽然有多个模型对这些目标进行了分类，但其中最著名的之一是*洛克希德·马丁网络攻击杀链*（*CKC**）。
- en: 'The CKC consists of seven steps that a black hat must accomplish for their
    attack to be effective. These steps involve activities undertaken before, during,
    and after many cyberattacks: they include *reconnaissance*, *weaponization*, *delivery*,
    *exploitation*, *installation*, *command and control*, and *attack on objectives*.
    Let’s look at each step in more detail.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: CKC 包含七个步骤，黑帽攻击者必须完成这些步骤，才能使他们的攻击有效。这些步骤涉及许多网络攻击的前期、进行中和后期活动：包括*侦察*、*武器化*、*交付*、*利用*、*安装*、*指挥与控制*和*攻击目标*。让我们更详细地看一下每个步骤。
- en: Reconnaissance
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 侦察
- en: During the reconnaissance phase of the CKC, the attacker learns everything they
    can about their target. They begin by collecting any data considered public information.
    In the case of an organization, this means data from their websites and social
    media, as well as data about their employees, their organizational structure,
    physical locations, groups they’ve partnered with, recent news stories, public
    IP addresses owned by the organization, and more. For an individual, this might
    include information about their family members, where they work, where they live,
    criminal and other government records, and of course, social media.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在 CKC 的侦察阶段，攻击者尽可能多地了解目标。他们首先收集任何被认为是公开信息的数据。在组织的情况下，这意味着来自其网站和社交媒体的数据，以及有关员工、组织结构、物理位置、合作伙伴关系、近期新闻、组织拥有的公共
    IP 地址等信息。对于个人，这可能包括关于家庭成员、工作地点、居住地、犯罪记录和其他政府记录的信息，当然，还有社交媒体上的内容。
- en: These adversaries also look for not-so-public information, much of which is
    still available on the internet if you know where to look. This includes websites
    that, although accessible by everyone, might not be meant for public consumption,
    such as an employee’s remote login page. Or it might include details collected
    about a public IP address, such as the services it’s running. The black hat might
    also begin listing relevant email addresses by mining social media or other places
    on the internet to use at a later time.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这些对手还会寻找一些不那么公开的信息，尽管这些信息仍然可以通过互联网找到，只要你知道在哪里找。这包括虽然所有人都能访问的、但并非公开消费的网站，比如员工的远程登录页面。或者它可能包括收集到的有关公共
    IP 地址的细节，比如它正在运行的服务。黑帽攻击者还可能通过挖掘社交媒体或其他互联网资源，开始列出相关的电子邮件地址，供以后使用。
- en: One of the ways that attackers can find information is by sniffing and scanning.
    *Sniffing* is intercepting and analyzing other users’ network traffic. Black hats
    can do this without interrupting the traffic flow, so the user remains unaware
    that their traffic is being monitored. For example, an attacker might look at
    all the data coming from an email server and copy any attachments before sending
    the original emails to their destinations. *Scanning* is sending specially crafted
    packets to a device and listening to how it responds to those packets. The responses
    can provide the black hat with information about what kind of system or software
    the node is running. For example, if an attacker wants to know whether a host
    is running a Windows operating system, they can send a packet made specifically
    for a Windows system. If the system responds with an error, they know it’s not
    a Windows system. We’ll talk more about scanning and sniffing in “Attacking Your
    Network” in Chapter 6; both can be lucrative sources of information for an adversary.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者可以通过嗅探和扫描来寻找信息。*嗅探*是截取并分析其他用户的网络流量。黑帽攻击者可以在不干扰流量的情况下进行嗅探，因此用户不会意识到他们的流量正在被监控。例如，攻击者可能会查看来自邮件服务器的所有数据，并在将原始邮件发送到目的地之前复制任何附件。*扫描*是向设备发送特殊构造的数据包，并监听设备如何回应这些数据包。这些响应可以向黑帽攻击者提供有关节点运行的系统或软件类型的信息。例如，如果攻击者想知道主机是否运行的是
    Windows 操作系统，他们可以发送专为 Windows 系统设计的数据包。如果系统回应错误，他们就知道这不是 Windows 系统。我们将在第六章《攻击你的网络》中详细讨论扫描和嗅探；这两者都可以成为对手信息来源的丰厚宝库。
- en: All of this reconnaissance work provides information that helps black hats narrow
    their field of focus until they know where to begin their initial attack. It also
    provides valuable information they can use in the next phase to craft attacks
    that are likely to work. For example, if an attacker scans a public IP address
    and finds it’s connected to a Windows server, they won’t waste time using Apple
    exploits on it. This is what makes reconnaissance such a key part of mounting
    a successful attack.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些侦察工作提供的信息帮助黑客缩小他们的关注范围，直到他们知道从哪里开始他们的初步攻击。它还提供了宝贵的信息，供他们在下一阶段利用来制定可能成功的攻击。例如，如果攻击者扫描一个公共IP地址并发现它连接到一个Windows服务器，他们就不会浪费时间去利用Apple的漏洞。这正是侦察工作成为成功攻击关键部分的原因。
- en: Weaponization
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 武器化
- en: In the next step, weaponization, the black hat creates an actual attack to use
    against a target. With the information gathered from the reconnaissance phase,
    they plan and create the tools they’ll need. This phase also requires that the
    adversary have a good sense of what will get them to their mission objective the
    quickest. For example, if the attacker’s objective is to gather more personal
    information about a target and use it to blackmail them, they might try to exploit
    the target’s email. Creating a virus that destroys Word documents, although an
    effective attack, wouldn’t be a great way to meet this objective. Instead, it’s
    a much better idea to create a PDF that links to a fake email login page and try
    to trick the victim into using it. That way, the attacker may be able to gather
    the victim’s credentials from the fake page and use them to log in to the legitimate
    account.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一步的武器化阶段，黑客创建实际的攻击工具来针对目标进行攻击。通过侦察阶段收集到的信息，他们计划并创建所需的工具。这个阶段还要求对手清楚地知道什么方法能够最迅速地达到他们的任务目标。例如，如果攻击者的目标是收集更多关于目标的个人信息并用来勒索他们，他们可能会尝试利用目标的电子邮件。尽管创建一个破坏Word文档的病毒是一个有效的攻击手段，但这并不是实现该目标的最佳方式。相反，创建一个链接到虚假电子邮件登录页面的PDF文件，并尝试欺骗受害者使用它，才是更好的选择。这样，攻击者可能能够从虚假页面收集受害者的凭证，并用它们登录合法账户。
- en: Delivery
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 传递
- en: Once the black hat has a weaponized package, whether it’s malware, a phishing
    website (which we’ll discuss in more detail in Chapter 3), or some other form
    of attack, they’re ready to deliver. Again, this requires using the information
    gathered during the reconnaissance phase to decide what the best method of delivery
    will be. Many recent attacks have been delivered through email, but this might
    not always be the best method.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦黑客拥有了武器化的工具包，无论是恶意软件、网络钓鱼网站（我们将在第3章详细讨论）还是其他形式的攻击，他们就准备好进行攻击了。同样，这要求使用侦察阶段收集到的信息来决定最佳的传递方式。许多近期的攻击通过电子邮件进行，但这并不总是最好的方式。
- en: If the attacker knows that the target uses a device with a known flaw, they
    might craft a delivery method that takes advantage of this flaw. For example,
    if a company website was using a fillable form that included exploits, an adversary
    might be able to inject code directly onto the web server through the exploit.
    This would allow them to deliver their attack directly to the server instead of
    having to rely on an employee to install it for them.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果攻击者知道目标使用的设备存在已知漏洞，他们可能会制定一种利用该漏洞的传递方式。例如，如果一个公司网站使用了包含漏洞的可填写表单，对手可能会通过该漏洞直接将代码注入到网站服务器。这将使他们能够直接向服务器传递攻击，而不必依赖员工为他们安装攻击。
- en: Exploitation and Installation
  id: totrans-44
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 利用与安装
- en: The next two steps, exploitation and installation, rely on getting the exploit
    installed once it’s delivered. This means getting a person to click a malicious
    link or launch the malware created during the delivery phase. Once the exploitation
    is done, the black hat should be able to execute their attack or install malware
    on the device.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的两步——利用和安装——依赖于一旦传递完成，如何将漏洞利用安装到目标设备。这意味着要让某个人点击恶意链接或启动在传递阶段创建的恶意软件。一旦利用完成，黑客应该能够执行他们的攻击或在设备上安装恶意软件。
- en: Keep in mind that many of the items attackers want, such as credit card numbers
    or other personal information, are usually stored on private networks, inaccessible
    to the public. This means that attackers must compromise the private network before
    they can fully access it.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，攻击者想要获取的许多物品，比如信用卡号码或其他个人信息，通常存储在私人网络中，这些信息对公众是不可访问的。这意味着攻击者必须先攻破私人网络，才能完全访问其中的内容。
- en: 'This compromise usually involves the adversary establishing *backdoors*. Consider
    this analogy: if the front door is the way people are supposed to enter a house,
    then using the back door (or garage door) would be a way for someone to bypass
    the controls, such as the lock on the door. Black hat backdoors work in a similar
    fashion, allowing an adversary to access the system without having to go through
    the normal, trusted means of authentication.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这种妥协通常涉及对手建立*后门*。考虑这个类比：如果前门是人们进入房屋的正常途径，那么使用后门（或车库门）就是绕过控制手段（例如门上的锁）的方式。黑帽的后门也以类似的方式工作，允许对手在不通过正常、可信的身份验证手段的情况下访问系统。
- en: Command and Control, and Attack on Objectives
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 指挥与控制，以及对目标的攻击
- en: During the command and control and attack on objectives phases, the black hat
    uses the backdoor to establish a foothold in the system. From there, they can
    use it as a base to identify further systems to exploit. This is known as *pivoting*.
    Attackers will continue to pivot until they can reach their objective directly
    (as discussed in Chapter 1, objectives will vary depending on the type of attacker).
    Once they find a way to their objective, the attacker will launch a full set of
    attacks to gain access and accomplish their mission.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在指挥与控制和攻击目标阶段，黑帽利用后门在系统中建立立足点。然后，他们可以利用这个立足点作为基地，进一步识别可以利用的系统。这被称为*横向渗透*。攻击者会继续进行横向渗透，直到能够直接到达他们的目标（如第一章所讨论，目标会根据攻击者类型而有所不同）。一旦他们找到通向目标的路径，攻击者将发动一整套攻击来获得访问权限并完成他们的任务。
- en: The command and control phase involves creating a command and control server,
    which is a tool that allows the attacker to send the compromised device commands
    from a remote location and receive information. For example, if a black hat compromises
    a web server, they might instruct that server to reach out to other devices on
    the network to find additional systems they could compromise. Often, these commands
    use normal traffic patterns to hide, so it’s harder for white hats to detect them
    until it’s too late.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 指挥与控制阶段涉及创建一个指挥与控制服务器，这是一个允许攻击者从远程位置向受害设备发送命令并接收信息的工具。例如，如果黑帽攻破了一个网页服务器，他们可能指示该服务器联系网络上的其他设备，寻找他们可以进一步攻破的系统。通常，这些命令会使用正常的流量模式来隐藏，以便白帽更难在为时已晚之前检测到它们。
- en: The attack on the objective is usually done in a similar stealthy manner to
    ensure that the black hat isn’t prevented from getting what they want and that
    the organization can’t mitigate the damage. If an attacker steals a number of
    credit card numbers, they’re only useful if the bank doesn’t know they’ve been
    stolen, at which point it would cancel them before they can be sold or used. With
    this final phase complete, the black hat sells their prize and moves on to the
    next target, again starting at the reconnaissance phase.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 对目标的攻击通常以类似的隐秘方式进行，以确保黑帽不会被阻止获取他们想要的东西，而且组织无法减轻损害。如果攻击者盗取了一些信用卡号码，只有在银行不知道这些号码被盗的情况下，它们才有用，届时银行会在它们被出售或使用之前取消这些卡片。完成最后阶段后，黑帽会出售他们的战利品，接着进入下一个目标，再次从侦察阶段开始。
- en: How Black Hats Find You
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 黑帽如何找到你
- en: 'If you look closely at the phases of a black hat’s attack, you’ll notice that
    one of the most important steps is the first one: reconnaissance. If an adversary
    can’t find any useful information about their target, they’ll have an extremely
    difficult time delivering an effective attack. This, of course, makes it that
    much harder to get a foothold in the private network.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仔细观察黑帽攻击的各个阶段，你会注意到最重要的步骤之一是第一步：侦察。如果对手无法找到任何有用的信息关于他们的目标，他们将很难发动有效的攻击。当然，这也使得在私有网络中站稳脚跟变得更加困难。
- en: So, where do black hats find their reconnaissance information? They find it
    mostly from publicly available sources, which people often create without realizing
    what they’re exposing. Often, misconfigured systems openly communicate on the
    internet, exposing services that an organization might not want available to the
    public. You can see many of these open systems by using *Shodan*, a tool that
    scans the internet for open services and systems. After a scan, Shodan puts its
    findings in an easy-to-use database that is open to the public to search through.
    Using Shodan, you can find all sorts of detailed information on the types of devices
    that are publicly accessible from the internet. We’ll walk through using the tool
    in the exercise at the end of this chapter.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，黑帽攻击者从哪里找到他们的侦察信息呢？他们大多数从公开可用的资源中获取这些信息，而这些资源通常是人们在不自觉中创建的，暴露了他们并未意识到的信息。许多时候，配置错误的系统会在互联网上公开通信，暴露出组织可能不希望对外公开的服务。你可以通过使用*Shodan*来看到许多这样的开放系统，Shodan是一个扫描互联网开放服务和系统的工具。扫描之后，Shodan将其发现结果放入一个易于使用的数据库中，供公众搜索。通过使用Shodan，你可以找到各种关于从互联网公开可访问设备的详细信息。我们将在本章末的练习中演示如何使用该工具。
- en: Using Shodan isn’t the only way to find useful information online. A ton of
    data on the internet might help a black hat craft an attack. Let’s look at a few
    scenarios to help you understand how an adversary can gather this type of information.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Shodan并不是唯一能在网上找到有用信息的方式。互联网上有大量数据可能帮助黑帽攻击者设计攻击。让我们看几个场景，帮助你理解敌人是如何收集这类信息的。
- en: 'Example 1: The Merger'
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例1：并购
- en: Say an attacker learns that Sparkle Kitten Inc. is buying Smelly Puppy Co. and
    merging the company directly into Sparkle Kitten. By reading the news, the black
    hat learns that the CEO of Smelly Puppy is unhappy about the merger. The attacker
    decides to target Smelly Puppy during this stressful time. They begin by scanning
    Smelly Puppy’s website to look for any listed email addresses. By using an automated
    tool to comb through all available web pages, even those that might not be available
    via a Google search, they locate a job ad for an administrator with knowledge
    of a specific type of web server.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个攻击者得知Sparkle Kitten Inc.正在收购Smelly Puppy Co.并将其直接并入Sparkle Kitten。通过阅读新闻，黑帽攻击者了解到Smelly
    Puppy的首席执行官对这次并购感到不满。攻击者决定在这个压力巨大的时刻针对Smelly Puppy。他们从扫描Smelly Puppy的官网开始，寻找任何列出的电子邮件地址。通过使用自动化工具遍历所有可用的网页，包括那些可能无法通过Google搜索到的网页，他们找到了一个需要了解特定类型Web服务器的管理员职位招聘广告。
- en: Using public registration information, the black hat can find exactly which
    IP addresses the company bought and registered to use. The adversary then uses
    a scanning tool that targets those addresses, looking for that particular web
    server. They find the server, and what’s more, discover that it responds to the
    traffic sent to it. Now they can craft an effective attack using a known exploit
    and gain access to the server.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用公开的注册信息，黑帽攻击者可以精确地找到该公司购买并注册使用的IP地址。接着，攻击者使用扫描工具针对这些地址，寻找特定的Web服务器。他们找到了服务器，而且发现它对发送到它的流量有响应。现在他们可以利用已知漏洞来精心设计有效的攻击并获取服务器访问权限。
- en: 'Example 2: Social Media Hunting'
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 示例2：社交媒体狩猎
- en: A black hat wants to gain access to Secure Co., one of the most secure companies
    in the world (it says so in its name). The attacker knows that Secure Co. uses
    the latest appliances, training, and best practices to remain secure, because
    Secure Co. advertises this information often. The black hat also realizes the
    organization uses a specific marketing company, Super Awesome Marketing, for all
    its advertising. The adversary decides that instead of attacking Secure Co. directly,
    they’ll attack Super Awesome Marketing.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 一个黑帽攻击者想要攻击Secure Co.，世界上最安全的公司之一（正如它的名字所示）。攻击者知道Secure Co.使用最新的设备、培训和最佳实践来保持安全，因为Secure
    Co.经常宣传这些信息。黑帽攻击者还意识到该组织使用了一个特定的营销公司——Super Awesome Marketing，来处理所有广告事务。敌人决定不直接攻击Secure
    Co.，而是攻击Super Awesome Marketing。
- en: To do so, the attacker looks through LinkedIn and Facebook to find employees
    who work at Super Awesome Marketing. They locate a particular employee who works
    for the IT department and track them on Twitter. Every morning, this employee
    takes a picture in the same gym. The black hat also notices they leave geolocation
    tags on their posts. Using those tags, the black hat finds the gym the employee
    uses. The attacker visits that gym one morning, listens to the employee’s conversations,
    and hears about a particular exploit in Super Awesome Marketing’s email server.
    The adversary uses that exploit to gain access to the email server, where they
    can then take over an employee’s email account. Now the black hat has a means
    of infecting the marketing material Super Awesome Marketing creates for Secure
    Co. Because this material is coming from a trusted vendor, it proceeds right past
    the normal security checks and stealthily sets up a backdoor inside Secure Co.’s
    private network. Not so secure now, huh?
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 为了做到这一点，攻击者会浏览 LinkedIn 和 Facebook，寻找在 Super Awesome Marketing 工作的员工。他们找到了一个在
    IT 部门工作的特定员工，并开始在 Twitter 上追踪他们。每天早晨，这名员工都会在同一个健身房拍照。黑帽黑客还注意到他们在帖子中留下了地理位置标签。通过这些标签，黑帽黑客找到了员工使用的健身房。攻击者某天早晨到达那家健身房，倾听员工的对话，得知了关于
    Super Awesome Marketing 邮件服务器的一个特定漏洞。对手利用这个漏洞访问邮件服务器，并接管了某名员工的邮件账户。现在，黑帽黑客可以通过该账户感染
    Super Awesome Marketing 为 Secure Co. 创建的营销材料。因为这些材料来自一个受信任的供应商，它能顺利通过正常的安全检查，悄悄地在
    Secure Co. 的私人网络中设置后门。现在安全性不再那么强了，是吧？
- en: How to Hide from Black Hats
  id: totrans-62
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何从黑帽黑客中隐藏自己
- en: The previous examples on how an adversary gathers information might seem far-fetched,
    but they describe real-life techniques that black hats have used. When people
    post information publicly, attackers can use it to find cracks in their security,
    allowing the attackers to craft the perfect attacks against a person or organization.
    The best way to defend against these attacks is to implement *operational security*
    *(OPSEC**)*.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 前面关于对手如何收集信息的示例可能看起来有些牵强，但它们描述的是黑帽黑客使用的真实技巧。当人们公开发布信息时，攻击者可以利用这些信息找到他们安全系统中的漏洞，从而能够精心策划针对个人或组织的完美攻击。防御这些攻击的最佳方法是实施*操作安全*（*OPSEC**）。
- en: OPSEC is the process of understanding and minimizing any information that could
    be used against you. The technique originated in the military, which worried about
    tipping off an enemy about an attack by revealing seemingly noncritical information.
    For example, if the military moved a unit to a new base, an opponent could correlate
    this action with other information to deduce that the military was planning an
    attack on a certain country, perhaps one that was closer to the new base.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: OPSEC 是理解并最小化任何可能被用来对付你的信息的过程。这个技巧起源于军事领域，当时军方担心通过泄露看似不重要的信息，会让敌人猜到即将发动的攻击。例如，如果军方将一支部队转移到一个新基地，敌方可以通过与其他信息进行关联推测出军方可能正在计划对某个国家发动攻击，尤其是该国家距离新基地较近。
- en: 'For civilian organizations, OPSEC is about protecting information that a black
    hat could use to attack your organization. This means limiting the information
    you share on a public website, press release, or social media. OPSEC is tricky
    to get right, because it’s difficult to know what an attacker might find useful
    in the right context. The best way to ensure your OPSEC is to keep three rules
    about the internet in mind when posting information: the internet is open, public,
    and forever.'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 对于民间组织来说，OPSEC 是保护黑帽黑客可能用来攻击组织的信息。这意味着限制你在公共网站、新闻稿或社交媒体上分享的信息。OPSEC 很难做到完美，因为很难知道攻击者可能在特定的情况下发现什么信息有用。确保
    OPSEC 的最佳方法是，在发布信息时记住关于互联网的三条规则：互联网是开放的、公开的，并且是永远存在的。
- en: The Internet Is Open
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 互联网是开放的
- en: When you’re using the internet, assume that anyone can see what you’re doing
    or sharing, including any data moving across the network. It’s up to you to protect
    that information by determining how you send it.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用互联网时，假设任何人都能看到你正在做什么或分享的内容，包括任何通过网络传输的数据。保护这些信息是你的责任，你需要决定如何发送这些信息。
- en: A good example is the ability to request web pages. When you access a web page,
    your browser has to figure out where that page is located on the internet. It
    does this by querying a *Domain Name Service* *(DNS**)* server, which contains
    records of the public IP addresses to which websites are assigned. For example,
    a DNS server might tell you that the domain sparklekitten.net is at the IP address
    1.1.1.1\. When you tell your browser to go to sparklekitten.net, it sends out
    a request that eventually ends up at the DNS server, which provides the record
    of the IP address where you can find sparklekitten.net so your browser can access
    that website.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一个很好的例子是请求网页的能力。当您访问一个网页时，您的浏览器需要弄清楚该页面在互联网上的位置。它通过查询一个*域名服务*（*DNS*）服务器来做到这一点，该服务器包含网站分配的公共
    IP 地址的记录。例如，DNS 服务器可能会告诉您，域名 sparklekitten.net 的 IP 地址是 1.1.1.1。当您告诉浏览器访问 sparklekitten.net
    时，它会发送出一个请求，最终到达 DNS 服务器，服务器提供该网站所在的 IP 地址记录，这样您的浏览器就能访问该网站。
- en: Usually, DNS requests travel through a series of DNS servers until they find
    the right one. Your browser starts by sending a request to a server, hosted by
    your ISP, which sends it to another DNS server, which sends it to another, until
    it finds the Sparkle Kitten DNS server with the correct record. Until recently,
    browsers sent these requests almost entirely unencrypted, meaning they remained
    in plain view for anyone to see. So not only could your ISP see every web page
    you requested—information it was more than willing to sell to marketing firms—but
    anyone with the ability to sniff your traffic could also see your DNS requests.
    Even if you were using a private browser or visiting websites using encrypted
    links, that DNS request used unencrypted protocols, so anyone could know which
    website you were trying to reach.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，DNS 请求会经过一系列的 DNS 服务器，直到找到正确的服务器。您的浏览器首先向由 ISP 托管的服务器发送请求，该服务器再将请求转发给另一个
    DNS 服务器，接着又转发给另一个，直到找到拥有正确记录的 Sparkle Kitten DNS 服务器。直到最近，浏览器几乎完全以未加密的方式发送这些请求，这意味着这些请求处于明文状态，任何人都可以看到。因此，不仅您的
    ISP 可以看到您请求的每一个网页——它们非常乐意将这些信息出售给营销公司——而且任何能够嗅探您流量的人也能看到您的 DNS 请求。即使您正在使用私人浏览器或访问加密链接的网站，该
    DNS 请求仍然使用未加密的协议，因此任何人都能知道您试图访问哪个网站。
- en: Fortunately, many browsers have since begun supporting DNS requests sent over
    encrypted links. Still, this is a prime example of how the internet is open. As
    you browse, send email, or download files, you’re relaying information that is
    being cataloged, stored, and often sold. This information can easily be exploited
    to learn about you or your organization to craft the perfect attack. This is why
    it’s important to be mindful of the kind of information you communicate on the
    internet. Although you don’t need to cut yourself off from the world entirely
    and live in a cave, it’s best to ensure you encrypt any sensitive information,
    especially if you send it through email, file sharing, or social media. It’s frequently
    a good idea to research the services you use and what data they might be collecting
    on the backend. Even though it might take additional time and effort to take these
    steps, the extra security and peace of mind they offer is more than worth it.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，许多浏览器现在已经开始支持通过加密链接发送的 DNS 请求。不过，这仍然是一个典型的例子，展示了互联网是如何开放的。无论您是在浏览网页、发送邮件，还是下载文件，您都在传递信息，这些信息会被编目、存储，并且通常会被出售。这些信息可以很容易地被利用，用来了解您或您的组织，从而策划出完美的攻击。因此，意识到您在互联网上传递的是什么信息是非常重要的。虽然您不需要完全切断与世界的联系，生活在洞穴里，但最好确保您加密任何敏感信息，尤其是当您通过电子邮件、文件共享或社交媒体发送时。通常，研究您使用的服务及其可能在后台收集的数据是个好主意。尽管采取这些步骤可能需要额外的时间和精力，但它们提供的额外安全性和内心的平静是完全值得的。
- en: The Internet Is Public
  id: totrans-71
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 互联网是公开的
- en: The internet is completely public; anyone can get online as long as they have
    the right connection set up or pay a company, like an ISP, to use their equipment.
    In many ways, access isn’t even tied to a specific person. It’s possible, legal,
    and often best to hide who you are on the internet by using usernames or hiding
    your IP address (more on this later). This applies not just to usernames on a
    video game or social media site, but also to your IP address and your physical
    location in the world.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网是完全公开的；只要拥有正确的连接设置或支付给像 ISP 这样的公司使用其设备，任何人都可以上网。从很多方面来看，访问并不与特定的人挂钩。通过使用用户名或隐藏您的
    IP 地址（稍后会详细介绍），您可以在互联网上隐藏自己的身份，这既是合法的，也是最好的做法。这不仅适用于视频游戏或社交媒体网站上的用户名，也适用于您的 IP
    地址和您在世界上的实际位置。
- en: One way to track down an IP address’s location is to look up the registration
    information using a *Whois* search. Whois is a database of website registration
    information. Several websites provide Whois information, including Myip.ms, shown
    in [Figure 2-3](#figure2-3) displaying the Whois record for the IP address 1.1.1.1.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 跟踪IP地址位置的一种方法是使用*Whois*查询来查找注册信息。Whois是一个网站注册信息数据库。多个网站提供Whois信息，包括Myip.ms，如[图2-3](#figure2-3)所示，展示了IP地址1.1.1.1的Whois记录。
- en: '![f02003](image_fi/501287c02/f02003.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![f02003](image_fi/501287c02/f02003.png)'
- en: 'Figure 2-3: 1.1.1.1 Whois record'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-3：1.1.1.1 Whois记录
- en: Although public IP addresses are tied to specific regions in the world, it’s
    very difficult to trust that the person using an IP address is actually present
    in that location. Just like you can translate public IPs to private IPs, you can
    translate a public IP address to a different one. This can make it difficult to
    track down where traffic is actually coming from, which allows a black hat to
    easily hide in plain sight.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管公共IP地址与全球特定地区相关联，但很难信任使用该IP地址的人确实位于该地点。就像你可以将公共IP地址转换为私有IP地址一样，你也可以将公共IP地址转换为另一个地址。这使得追踪流量的实际来源变得困难，从而使黑客能够轻松地在明处隐藏自己。
- en: This also means that people from other countries, your teachers, your grandmother,
    or even your postal worker can access what you post on the internet. More importantly,
    if you put something on the internet and make it public, it can be difficult to
    stop people from seeing it. Even if you think you’re only sharing something with
    your friends, it’s possible that your friends are sharing it with the public at
    large. The best rule to adhere to when posting any information to the internet
    is to assume that everyone will be able to see it, so craft what you say with
    that assumption in mind. If you think the post might hurt you or provide information
    that others can use against you, it’s best not to post it in the first place.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这也意味着其他国家的人、你的老师、你的祖母，甚至你的邮递员都可以访问你在互联网上发布的内容。更重要的是，如果你将某些内容发布到互联网上并设为公开，可能很难阻止别人看到它。即使你认为你只是与朋友分享，还是有可能你的朋友将其分享给了公众。当你在互联网上发布任何信息时，最好的规则是假设每个人都能看到它，因此要以这种假设为基础来表达自己的想法。如果你认为某条发布可能会伤害到你，或者提供别人可以用来对付你的信息，最好不要发布它。
- en: The Internet Is Forever
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 互联网是永恒的
- en: It’s nearly impossible to delete information from the internet. For instance,
    when you delete an email, is it actually gone? If you’re using a service like
    Gmail, deleted mail goes into a trash folder, which holds it for 30 days before
    it’s removed from sight. So the email you deleted isn’t really deleted; it’s just
    placed in a different place where an adversary could still access it.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎不可能从互联网上删除信息。例如，当你删除一封电子邮件时，它真的被删除了吗？如果你使用像Gmail这样的服务，删除的邮件会进入垃圾箱，保留30天后才会被彻底删除。因此，你删除的邮件并没有真正删除，它只是被放到了一个不同的地方，黑客仍然可以访问。
- en: In the case of social media, the situation is even worse. Companies like Facebook
    and Google make a lot of money from the data people create on their platforms,
    so it benefits them to hold on to it for as long as possible. Facebook and Twitter
    store posts for many years. Even when you remove yourself from the platform, posts
    you’ve made in groups that you were a part of remain publicly available. Try googling
    your full name and state; you might be surprised to find your posts in the search
    results.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在社交媒体的情况下，情况甚至更糟。像Facebook和Google这样的公司通过人们在平台上创建的数据赚取大量利润，因此它们有利益保持这些数据尽可能长时间。Facebook和Twitter会保存多年发布的内容。即使你从平台上删除了自己，曾在群组中发布的帖子仍然会公开可见。试着搜索你的全名和所在州，可能会惊讶地发现你的帖子出现在搜索结果中。
- en: Also, many people document online activity to keep a record of the internet
    as it changes. One of the main projects doing this work is the Internet Archive,
    at [https://archive.org/](https://archive.org/). The Internet Archive attempts
    to catalog every web page created, so even if you’ve removed or edited web pages,
    it’s possible a record of them exists for people to find.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，许多人记录在线活动，以保留互联网变化的历史。一项主要从事此项工作的项目是互联网档案馆，网址为[https://archive.org/](https://archive.org/)。互联网档案馆试图对每个创建的网页进行目录编制，因此即使你已删除或编辑了网页，仍有可能存在它们的记录，供他人查找。
- en: Just as it’s important to assume that everyone can see what you post on the
    internet, it’s just as important to assume that your internet posts will exist
    forever. Again, this doesn’t mean you should forgo using the internet entirely.
    Just be mindful of what you do when you’re online.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the three rules of the internet will help you practice OPSEC if
    someday you work for an organization that needs to prevent sensitive information
    from becoming public. By being mindful of how you post your personal information,
    you’ll notice information that black hats could potentially use to attack your
    organization. You could also teach others in your organization, especially new
    hires, about the importance of limiting the information they share with the public.
    This behavior will make your organization more secure overall. After all, the
    less information an attacker has, the harder it is for them to attack.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: 'Exercise: Analyzing Your Network'
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: As you learned in this chapter, it’s important to understand the information
    you’re posting to the internet. Otherwise, attackers might use a post you’ve unknowingly
    left visible to access your accounts or your private network. As mentioned earlier,
    you can use Shodan to find this information, which, as you’ll recall, is like
    a search engine for IP addresses.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: Although you can use Shodan in your web browser, other useful tools require
    the *command line*, which allows you to enter commands on your system to perform
    tasks. In this exercise, you’ll learn how to use some of these simple commands
    to discover information about your network. Then you’ll use that information to
    search Shodan to see what sorts of services you’re leaving open on the internet.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: Network Command Line Tools
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Windows and macOS operating systems come with built-in tools that can help you
    learn about your network. Let’s look at four of these tools that are particularly
    useful for finding information that you can then use when searching with Shodan.
    Before you can begin using commands, you’ll need to access the command line on
    your system. Windows and macOS have different command line programs; each uses
    slightly different versions of the commands and has different outputs. Let’s look
    at them separately.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: Windows
  id: totrans-89
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Locate the search bar in the lower-left corner of the screen and enter **CMD**.
    At the top of the results, you should see an app called *Command Prompt*. Select
    it, and a window like the one in [Figure 2-4](#figure2-4) should appear on your
    screen. If you’re not running as an admin, the text after C: will be your home
    directory and include your current username.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: '![f02004](image_fi/501287c02/f02004.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
- en: 'Figure 2-4: The Command Prompt window'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: 'First, we’ll use the `ipconfig` command. This command outputs your current
    networking configuration, including your computer’s assigned IP address, its default
    gateway, and information about your DNS server. The default gateway is the first
    router to which your computer connects to transmit traffic out of your network.
    Routers pass traffic from one to another to connect two endpoints together. A
    router creates a single network, which devices can join. So, the default gateway
    address is the address your computer needs to know to send traffic to the router
    that controls the flow of traffic into and out of your network. When you enter
    `ipconfig` in the Command Prompt window, you should see output similar to the
    following:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Notice the section labeled `IPv4` `Address` below `Wireless Lan adapter Wi-Fi`.
    This is your computer’s private IP address. From this output, you can see that
    this system was assigned a private IP address. Also notice the section titled
    `Default Gateway` two rows below the `IPv4 Address` section. This identifies the
    router to which your system sends its traffic to leave the private network. In
    home networks, this is often the modem or router that the ISP provides. The default
    gateway also has a private IP address.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: 'Although `ipconfig` gives you great information on what address your computer
    is using to communicate on your local network, it doesn’t help you if you want
    to use Shodan, because you’ll need to search for a public IP address, not a private
    one. You can use online tools to discover public IP addresses, but we’ll use the
    `nslookup` command because it’s another command line tool that is usually available.
    This tool looks up IP addresses assigned to website domain names. To use it, you’ll
    need a target. For this exercise, let’s use google.com. Run the command by entering
    `nslookup` in the Command Prompt window followed by `google.com`:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The output from `nslookup` shows the public IP addresses currently attached
    to google.com. This tool is useful when you’re trying to determine the IP address
    attached to a website to figure out where suspicious traffic in your network is
    coming from. Your output might look different depending on where you’re located
    and the current configurations Google uses.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that you have a public IP address, you can use another tool called `ping`.
    This tool sends a small packet of information to an IP address and then listens
    for the ping’s destination to respond back with its own packet of information.
    This tells you whether or not you can communicate with the system, because the
    system can’t respond if it can’t receive the ping in the first place. You can
    try using `ping` against the public IP addresses that you discovered using `nslookup`.
    Simply enter `ping` followed by the IP address you want to target:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: As you can see, `ping` sends out four packets. Each packet is tracked by how
    fast it goes out and returns to its point of origin. The speed is so fast, it’s
    recorded in milliseconds. In this example, each packet took approximately 14 ms.
    At the end of the command, the system provides a summary of how many packets were
    sent and received. If you’re unable to reach a system, `ping` will show the packets
    as lost.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s use one last tool that will provide you with all the information you
    need to search with Shodan. You know you can reach Google’s IP address because
    of the results from `ping`, but they don’t tell you *how* your packets actually
    got to Google’s system. To learn that, you can use the `tracert` tool, which sends
    packets to each router along the path between your computer and the destination
    you want your traffic to reach. These packets provide information about the stops
    (or hops) your traffic makes on its way to its destination, using a feature called
    *Time to Live*(*TTL*). Essentially, each packet is designed to make only a certain
    number of hops based on its TTL number. A hop is counted when the packet is passed
    by a router. Each time a router passes the packet of traffic along, the TTL number
    is reduced by 1\. Once its TTL reaches 0, the packet returns information about
    the last router to receive the packet. The packet *dies*, so the last router to
    hear it sends a message to the packet’s next of kin, or in this case, the device
    that initially sent the packet. The `tracert` tool summarizes all of these hops.
    Enter `tracert` in the Command Prompt window along with a destination IP:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The output shows that the first hop made is to your default gateway (in other
    words, your router). From there, it takes another nine hops before your packet
    gets to its destination. Each hop represents a router, either on your local network
    or on the internet. Each hop is sent three packets to show an average of how long
    it took to move to that point.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: Using this tool is an ideal way to determine the parts of your network or the
    internet where your transmissions might encounter trouble reaching a destination.
    It also gives you a good idea of the public IP address assigned to your computer
    by your ISP; this should be the first public address you see, because your traffic
    has to make this hop to gain access to the internet. In the previous `tracert`
    output, I omitted the second and third results, because they link directly to
    my home network. But in a normal `tracert` execution, you’d be able to see these
    addresses.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: macOS
  id: totrans-106
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: On macOS, open the Terminal app to access the command line. To do this, use
    the search bar at the top-right corner of the screen. Enter **Terminal** and click
    the application that appears. Now you can learn some useful commands to help you
    find information about your network.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: 'On macOS, you can use commands very similar to the Windows 10 commands, although
    some require slight variations. For example, instead of using `ipconfig`, you’ll
    use the `ifconfig` command on macOS. The `ifconfig` command provides the same
    information `ipconfig` does but with much more detail, as you can see in this
    output:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '在 macOS 上，你可以使用与 Windows 10 命令非常相似的命令，尽管有些命令需要稍作调整。例如，在 macOS 上，你将使用 `ifconfig`
    命令，而不是 `ipconfig`。`ifconfig` 命令提供与 `ipconfig` 相同的信息，但更为详细，正如你在以下输出中所看到的：  '
- en: '[PRE4]'
  id: totrans-109
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The `ifconfig` command returns a huge amount of information. Within this output,
    it can be hard to find your device’s IP address. Look for `en0` (ethernet 0),
    which usually identifies your main network adapter. By default, your main network
    adapter is assigned your IP address.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '`ifconfig` 命令返回大量信息。在这些输出中，可能很难找到你的设备的 IP 地址。查找 `en0`（以太网 0），它通常表示你的主要网络适配器。默认情况下，主网络适配器会分配你的
    IP 地址。  '
- en: 'The `traceroute` command on macOS is similar to the Windows `tracert` command.
    It follows the same syntax, entering the command and then a target you want to
    trace to:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: macOS 上的 `traceroute` 命令类似于 Windows 上的 `tracert` 命令。它遵循相同的语法，输入命令后加上你要追踪的目标：
- en: '[PRE5]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The `nslookup` and `ping`commands are nearly the same on macOS as on Windows.
    One key difference is that on macOS, `ping` doesn’t perform only four pings by
    default. Instead, it continuously pings a system until the user manually stops
    the command. This can be useful if you’re changing configurations on a system
    and want to make sure nothing you’re doing is obstructing network access. But
    in most cases, you’ll want to limit the number of pings you send to four or five
    to avoid sending too many pings at once. You can set the number of pings to send
    using the `-c` argument, which is short for count:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '`nslookup` 和 `ping` 命令在 macOS 和 Windows 上几乎相同。一个主要区别是，在 macOS 上，`ping` 默认不会仅执行四次
    ping，而是会持续 ping 一个系统，直到用户手动停止命令。如果你正在更改系统配置并希望确保你所做的任何操作没有阻碍网络访问，这种行为会非常有用。但在大多数情况下，你可能希望将
    ping 的次数限制为四次或五次，以避免一次发送过多的 ping。你可以使用 `-c` 参数设置发送的 ping 次数，`-c` 是 count（计数）的缩写：  '
- en: '[PRE6]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Using Shodan
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '使用 Shodan  '
- en: 'Shodan comes in two forms: a command line tool you can install and a website
    you can browse through. For the purposes of this chapter, we’ll look at the website
    only. You can access Shodan at [https://www.shodan.io/](https://www.shodan.io/).
    At the website, you’ll need to sign up for a free account. The free account allows
    you to use most of the tool’s functions, including searching through its databases,
    but it limits the amount of reports and other information you can download from
    the website. [Figure 2-5](#figure2-5) shows the home page.'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 'Shodan 提供两种形式：一个你可以安装的命令行工具和一个你可以浏览的网站。本章只讨论网站版。你可以访问 Shodan 网站 [https://www.shodan.io/](https://www.shodan.io/)。在网站上，你需要注册一个免费账户。免费账户允许你使用大部分工具功能，包括搜索其数据库，但限制了你从网站下载报告和其他信息的数量。图
    2-5 展示了首页。  '
- en: Once you have a free account, browse through the website to become familiar
    with its layout. Start by clicking the **Explore** tab, which is just to the right
    of the search bar, near the top of the page. This page provides a breakdown of
    the various IP addresses Shodan has in its database and the services that are
    exposed on those addresses.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '一旦你拥有一个免费账户，浏览网站以熟悉其布局。首先点击 **Explore** 标签，它位于页面顶部、搜索框的右侧。这个页面提供了 Shodan 数据库中各种
    IP 地址的分类和这些地址上暴露的服务。  '
- en: '![f02005](image_fi/501287c02/f02005.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![f02005](image_fi/501287c02/f02005.png)  '
- en: 'Figure 2-5: Shodan’s home page'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '图 2-5：Shodan 的首页  '
- en: On the left side, you should see a few interesting categories. Click the one
    labeled **Video Games**. You’ll see a list of various online games, including
    *Counter Strike*, *Starbound*, and *Minecraft*. If you click Minecraft, you’ll
    get a rundown of all the open *Minecraft* servers currently located by Shodan.
    [Figure 2-6](#figure2-6) gives you an example of the list.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '在左侧，你应该能看到几个有趣的类别。点击标记为 **Video Games** 的类别。你会看到一列各种在线游戏的列表，包括 *Counter Strike*、*Starbound*
    和 *Minecraft*。如果点击 Minecraft，你将看到 Shodan 当前定位到的所有开放的 *Minecraft* 服务器。图 2-6 展示了该列表的一个示例。  '
- en: '![f02006](image_fi/501287c02/f02006.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![f02006](image_fi/501287c02/f02006.png)  '
- en: 'Figure 2-6: *Minecraft* servers located by Shodan'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '图 2-6：Shodan 定位到的 *Minecraft* 服务器  '
- en: Shodan can also provide more serious information, such as information that attackers
    can use to exploit systems. Return to the Explore page, and this time, instead
    of selecting Video Games, click **Default Password**, which is about halfway down
    the page in a light gray box. A list of systems Shodan has verified that use default
    passwords for their authentication credentials appears, as shown in [Figure 2-7](#figure2-7).
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Shodan还可以提供更为严重的信息，例如攻击者可以用来利用系统的信息。返回到Explore页面，这次不要选择“Video Games”，而是点击**Default
    Password**，它位于页面中部，灰色框内。Shodan验证过的使用默认密码进行身份验证的系统列表将会显示出来，如[图2-7](#figure2-7)所示。
- en: '![f02007](image_fi/501287c02/f02007.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![f02007](image_fi/501287c02/f02007.png)'
- en: 'Figure 2-7: A list of systems using default passwords'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-7：使用默认密码的系统列表
- en: Using a default password is a good way to invite a black hat into your system.
    Shodan allows you to check whether any of the IP addresses you’re using have default
    credentials. It can also tell you which services you’re leaving open to the internet.
    For example, on the left side, you’ll see a list called Top Services. Click **Telnet**
    to pull up a list of systems that allow Telnet connections, as shown in [Figure
    2-8](#figure2-8).
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 使用默认密码是邀请黑帽攻击者进入你系统的好方法。Shodan允许你检查你正在使用的任何IP地址是否有默认凭据。它还可以告诉你哪些服务暴露在互联网上。例如，在左侧，你会看到一个名为“Top
    Services”的列表。点击**Telnet**，以查看允许Telnet连接的系统列表，如[图2-8](#figure2-8)所示。
- en: '![f02008](image_fi/501287c02/f02008.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![f02008](image_fi/501287c02/f02008.png)'
- en: 'Figure 2-8: Systems with Telnet open'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-8：Telnet开放的系统
- en: Telnet allows you to make a remote connection to a system and send it commands
    as if you were an administrator. It essentially lets you to control the system.
    Oh, and all Telnet traffic is sent unencrypted. This makes it rather dangerous.
    But as you can see, a ton of devices allow Telnet connections. Click the IP address
    in the list to see where these devices are located and other information about
    them. [Figure 2-9](#figure2-9) shows an example of a system in China with Telnet
    open.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: Telnet允许你远程连接到一个系统，并像管理员一样发送命令。它本质上让你控制系统。哦，顺便提一下，所有的Telnet流量都是以未加密的形式发送的，这使得它相当危险。但正如你所见，许多设备都允许Telnet连接。点击列表中的IP地址，查看这些设备的位置以及其他相关信息。[图2-9](#figure2-9)展示了一个在中国的系统，Telnet开放。
- en: '![f02009](image_fi/501287c02/f02009.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![f02009](image_fi/501287c02/f02009.png)'
- en: 'Figure 2-9: An IP record on Shodan for a system in China'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图2-9：Shodan上关于中国某系统的IP记录
- en: Getting paranoid yet? Shodan gives you a massive amount of information about
    what the public can see about a network on the internet. You can also use it to
    search for specific addresses. In the search bar, try plugging in the intermediary
    addresses you discovered during your `tracert` trial to see what comes up. You
    might not like the results, but at least now you know what your network is putting
    out for black hats to see.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 现在开始有点偏执了吗？Shodan为你提供了大量关于公众可以在互联网上看到的网络信息。你还可以用它来搜索特定的地址。在搜索栏中，尝试输入你在`tracert`试验中发现的中介地址，看看结果是什么。你可能不喜欢这些结果，但至少现在你知道你的网络将什么暴露给黑帽攻击者了。
- en: The key to hiding from an attacker is first knowing what they can see. Using
    the command line tools in this exercise and Shodan, you can gather that data.
    If you find that one of your devices is exposed on Shodan, you can take a few
    steps to close the exposure. First, you’ll need to identify which device is exposed.
    Shodan provides additional details about the connection that can be helpful to
    accomplish this. Second, you’ll need to control the exposure. You have some options
    here. You can remove the device from the network entirely, although this often
    isn’t viable, because it might not continue to function. You can also look up
    the manufacturer and find out whether it has recommendations for securing the
    device. If that doesn’t work, forums like Reddit and Spiceworks often provide
    advice on how to secure home networks. Once you know which device is open, it
    becomes that much easier to close it.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 隐藏攻击者的关键是首先了解他们可以看到什么。在这个练习中，使用命令行工具和Shodan，你可以收集到这些数据。如果你发现你的某个设备在Shodan上暴露了，你可以采取一些步骤来关闭暴露。首先，你需要识别出哪个设备被暴露了。Shodan提供了关于连接的更多细节，这些细节对完成这一任务很有帮助。其次，你需要控制暴露。这里有几个选项。你可以完全将设备从网络中移除，尽管这通常不可行，因为设备可能无法继续正常工作。你还可以查找制造商，看看是否有关于如何保护设备的建议。如果这些方法不起作用，像Reddit和Spiceworks这样的论坛通常会提供关于如何保护家庭网络的建议。一旦你知道哪个设备是开放的，关闭它就容易多了。
- en: Conclusion
  id: totrans-134
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论
- en: The internet is a complicated construction of devices and connections that span
    the globe. Although this can be difficult to conceptualize, you don’t need to
    understand every aspect of the internet to use it securely. By understanding how
    black hats find targets and how they create attacks against those targets, you
    can better defend your system when using the internet. The first step is knowing
    what information you’re making public. Once you know what is exposed to attackers
    on the internet, you can better deploy your own defenses.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网是由设备和连接构成的复杂结构，跨越全球。虽然这可能很难想象，但你不需要理解互联网的每一个方面就能安全地使用它。通过了解黑客如何找到目标，以及他们如何针对这些目标发动攻击，你可以在使用互联网时更好地保护自己的系统。第一步是知道你正在公开哪些信息。一旦了解了暴露给攻击者的信息，你就可以更好地部署自己的防御措施。
