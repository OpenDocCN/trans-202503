<html><head></head><body>
<section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="1" id="Page_1"/>1</span><br/>
<span class="ChapterTitle">3D Drawing with OpenSCAD</span></h1>
</header>
<figure class="opener">
<img src="image_fi/book_art/chapterart.png" alt=""/>
</figure>
<p class="ChapterIntro">This chapter introduces the OpenSCAD 3D design software with its own built-in programming language. You’ll learn how to use text-based commands to draw the basic 3D shapes that will act as the building blocks for all the designs in this book. OpenSCAD’s easy-to-learn programming language, specifically designed for 3D printing, is a descriptive language that offers a more natural way of describing geometry than traditional programs.</p>
<h2 id="h1-279547c01-0001"><span epub:type="pagebreak" title="2" id="Page_2"/>Why Use OpenSCAD?</h2>
<p class="BodyFirst"><em>OpenSCAD</em> is an open source program that is freely available for download. It is one of the most widely used 3D design software applications in the maker community, and as a result, many online resources are available. OpenSCAD was built to enable nondesigners to easily create 3D models. It does not have a graphical user interface like Photoshop. Instead, you define your design with text-based code, which makes it easier to move around different parts, change earlier steps in the design process, share sections of your designs with other people, discuss your design problems in forums, and email designs to others. You can do similar things in OpenSCAD as are possible with other high-end tools; however, OpenSCAD is quick to learn, simple to use, and more accessible.</p>
<h2 id="h1-279547c01-0002">Getting Started with OpenSCAD</h2>
<p class="BodyFirst">Creating a 3D design with OpenSCAD is a two-step process. First, in the Editor window, type a code statement to give OpenSCAD instructions about what to display. <a href="#figure1-1" id="figureanchor1-1">Figure 1-1</a> shows a code statement to draw a simple OpenSCAD shape circled in red.</p>
<figure>
<img src="image_fi/279547c01/f01001.png" alt="f01001"/>
<figcaption><p><a id="figure1-1">Figure 1-1</a>: Code for a cube in the Editor window</p></figcaption>
</figure>
<p>This OpenSCAD code statement has two parts. The first part indicates the type of shape you want to draw (in this case, a cuboid). The second part, which contains what are called <em>parameters</em>, indicates the properties of that shape. Parameters allow you to specify values that modify the appearance of the shape. Parameters are always placed between parentheses <code>( )</code>. </p>
<p>Next, draw your shape in the Preview window by clicking the <b>Preview</b> button (circled in red in <a href="#figure1-2" id="figureanchor1-2">Figure 1-2</a>) to see a quick visual preview of your design.</p>
<span epub:type="pagebreak" title="3" id="Page_3"/><figure>
<img src="image_fi/279547c01/f01002.png" alt="f01002"/>
<figcaption><p><a id="figure1-2">Figure 1-2</a>: Drawing a cube after clicking the Preview button</p></figcaption>
</figure>
<h2 id="h1-279547c01-0003">Drawing Basic 3D Shapes</h2>
<p class="BodyFirst">In this section, you’ll learn how to write OpenSCAD code to draw cuboids (cubes or 3D rectangles), spheres, and cylinders, and you’ll learn how to import shapes from other design programs.</p>
<h3 id="h2-279547c01-0001">Drawing Cuboids with cube</h3>
<p class="BodyFirst">Use the <code>cube</code> command to create a cuboid (as shown in <a href="#figure1-2">Figure 1-2</a>):</p>
<pre><code>cube([5, 10, 20]);</code></pre>
<p>The first part of the statement, <code>cube</code>, indicates that you want to draw a cuboid. The <span class="ColorText" style="color:#auto">parameter</span>s inside the parentheses modify the <code>cube</code> command by specifying how big you want your cuboid to be. The square brackets (<code>[ ]</code>) indicate a <em>vector</em> that organizes the three dimensions of your cuboid. The order of the numbers in the vector is important: 5 is the width of the cuboid along the x-axis, 10 is the length of the cuboid along the y-axis, and 20 is the height of the cuboid along the z-axis. Finally, mark the end of the statement with a semicolon (<code>;</code>).</p>
<p>Notice that one corner of the cuboid touches the <em>origin</em>: the point at which the three axes meet, represented by the coordinates (0, 0, 0).</p>
<h3 id="h2-279547c01-0002">Drawing Spheres with sphere</h3>
<p class="BodyFirst">To draw a sphere, use the <code>sphere</code> command followed by the sphere’s radius in parentheses to indicate its size. For example, the following statement draws a sphere with a radius of 10 units (<a href="#figure1-3" id="figureanchor1-3">Figure 1-3</a>):</p>
<pre><code>sphere(10);</code></pre>
<span epub:type="pagebreak" title="4" id="Page_4"/><figure>
<img src="image_fi/279547c01/f01003.png" alt="f01003"/>
<figcaption><p><a id="figure1-3">Figure 1-3</a>: A sphere with a radius of 10 units</p></figcaption>
</figure>
<p>You can change the size of a sphere by changing its radius. Unlike cuboids, which might have three distinct measurements for width, length, and height, a sphere has the same measurements along all three axes. That’s why the basic <code>sphere</code> command has only one number inside the parentheses. As with the <code>cube</code> command, mark the end of the code statement with a semicolon. But unlike with the <code>cube</code> command, OpenSCAD centers a sphere around the origin.</p>
<h3 id="h2-279547c01-0003">Drawing Cylinders and Cones with cylinder</h3>
<p class="BodyFirst">To draw a cylinder, use the <code>cylinder</code> command followed by parentheses containing the cylinder’s height and the length of the two radii of the circles that form its top and bottom. The following statement draws a cylinder with two radii of the same size (<a href="#figure1-4" id="figureanchor1-4">Figure 1-4</a>):</p>
<pre><code>cylinder(h=20, r1=5, r2=5);</code></pre>
<figure>
<img src="image_fi/279547c01/f01004.png" alt="f01004"/>
<figcaption><p><a id="figure1-4">Figure 1-4</a>: A cylinder with a height of 20 units, a bottom radius of 5 units, and a top radius of 5 units</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="5" id="Page_5"/>Because keeping track of the cylinder’s three parameters can be confusing, OpenSCAD allows you to label each parameter and include them in the command in any order. In parentheses, set the following values: <code>h</code>, which is the height of the cylinder along the z-axis; <code>r1</code>, which is the radius at the bottom of the cylinder; and <code>r2</code>, which is the radius at the top of the cylinder. As with the <code>sphere</code> and <code>cube</code> commands, use a semicolon to mark the end of the statement.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2>Parameter Order</h2>
<p class="BoxBodyFirst">It’s perfectly fine to pass parameters to <code>cylinder</code> without labels for height and radii, so entering <code>cy</code><code>l</code><code>inder(</code><code>15, 8, 8)</code> is equivalent to <code>cylinder(h=15, r1=8, r2=8)</code>. However, if you don’t use labels, the parameters must be in the exact order for it to be read properly. If using labels, you can enter the parameters in any order, for example: <code>cylinder(</code><code>r1=8, r2=8, h=15)</code>.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<p>The two radii of a cylinder don’t need to have the same measurements. When they’re different, the cylinder looks more like a cone with its top cut off (or, a truncated cone, according to mathematicians), as shown in <a href="#figure1-5" id="figureanchor1-5">Figure 1-5</a>:</p>
<pre><code>cylinder(h=20, r1=5, r2=3);</code></pre>
<figure>
<img src="image_fi/279547c01/f01005.png" alt="f01005"/>
<figcaption><p><a id="figure1-5">Figure 1-5</a>: A cone with a height of 20 units, a bottom radius of 5 units, and a top radius of 3 units</p></figcaption>
</figure>
<p>You can draw a pointed cone, like the one in <a href="#figure1-6" id="figureanchor1-6">Figure 1-6</a>, by assigning one of the radii a radius of <code>0</code>:</p>
<pre><code>cylinder(h=20, r1=0, r2=5);</code></pre>
<span epub:type="pagebreak" title="6" id="Page_6"/><figure>
<img src="image_fi/279547c01/f01006.png" alt="f01006"/>
<figcaption><p><a id="figure1-6">Figure 1-6</a>: A pointed cone with a height of 20 units, a bottom radius of 0 units, and a top radius of 5 units</p></figcaption>
</figure>
<p>Notice also that, unlike the shapes drawn with the <code>sphere</code> and <code>cube</code> commands, cylinders are centered around the z-axis, with one face touching the xy-plane.</p>
<h2 id="h1-279547c01-0004">Importing 3D Models with import</h2>
<p class="BodyFirst">OpenSCAD allows you to import shapes from other 3D design programs if they’re saved in the <em>.stl</em> format, which is a common format for 3D models. You can import these preexisting 3D shapes with the <code>import</code> command. For example, use the following statement to import a popular file called <em>3DBenchy.stl</em> (<a href="#figure1-7" id="figureanchor1-7">Figure 1-7</a>):</p>
<pre><code>import("3DBenchy.stl");</code></pre>
<figure>
<img src="image_fi/279547c01/f01007.png" alt="f01007"/>
<figcaption><p><a id="figure1-7">Figure 1-7</a>: An imported 3D model of a boat often used to calibrate 3D printers</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="7" id="Page_7"/>To import a 3D shape, place the <em>.stl</em> file’s name within parentheses after the <code>import</code> command. Enclose the name of the file in quotation marks (<code>"</code> <code>"</code>) to indicate that the filename is literal text and should not be interpreted by OpenSCAD. Note that you should save the <em>.stl</em> file in the same folder/directory as your OpenSCAD program, and be sure to save your OpenSCAD program before you generate a preview of your design; otherwise, OpenSCAD might have trouble finding the file. Mark the end of the statement with a semicolon.</p>
<h2 id="h1-279547c01-0005">Modifying Basic Shapes</h2>
<p class="BodyFirst">Some of the basic ways to alter the shapes you draw with OpenSCAD include moving or smoothing them.</p>
<h3 id="h2-279547c01-0004">Moving Shapes</h3>
<p class="BodyFirst">If the design you’re creating has more than one shape, you’ll need to know how to move those shapes around the Preview window. Otherwise, by default, they will sit on top of each other, and you may not be able to see the shapes of different sizes. For example, consider the following design (<a href="#figure1-8" id="figureanchor1-8">Figure 1-8</a>):</p>
<pre><code>cube([20, 10, 10]);
sphere(5);
cylinder(h=30, r1=2, r2=2);</code></pre>
<figure>
<img src="image_fi/279547c01/f01008.png" alt="f01008"/>
<figcaption><p><a id="figure1-8">Figure 1-8</a>: Multiple shapes drawn with default positioning</p></figcaption>
</figure>
<h4 id="h3-279547c01-0001"><span epub:type="pagebreak" title="8" id="Page_8"/>Centering Shapes with center=true</h4>
<p class="BodyFirst">By default, the <code>sphere</code> command draws a sphere so that it’s centered around the origin; the <code>cube</code>, <code>cylinder</code>, and <code>import</code> commands don’t do this. If you want to draw other shapes so that they’re also centered around the origin, add the <code>center=true</code> parameter inside the parentheses, as in this snippet (<a href="#figure1-9" id="figureanchor1-9">Figure 1-9</a>):</p>
<pre><code>cube([5, 10, 20], center=true);</code></pre>
<figure>
<img src="image_fi/279547c01/f01009.png" alt="f01009"/>
<figcaption><p><a id="figure1-9">Figure 1-9</a>: A cuboid centered around the origin</p></figcaption>
</figure>
<p>Now the cuboid’s center will be at (0, 0, 0). You can also add the <code>center=true</code> parameter to cylinder shapes in order to center cylinders and cones around the origin. It’s not possible to center imported shapes with <code>center=true</code>.</p>
<h4 id="h3-279547c01-0002">Moving Shapes to a Specific Location with translate</h4>
<p class="BodyFirst">To move a shape to a specific location in the Preview window, use the <code>translate</code> operation. This operation modifies a shape as a whole so it’s included right before the shape it’s meant to modify.</p>
<p>For example, the following statement draws a cuboid that is shifted from its default position by 10 units in the negative direction along the x-axis, 20 units in the positive direction along the y-axis, and 0 units along the z-axis (<a href="#figure1-10" id="figureanchor1-10">Figure 1-10</a>):</p>
<pre><code>translate([-10, 20, 0]) cube([20, 10, 10]);</code></pre>
<span epub:type="pagebreak" title="9" id="Page_9"/><figure>
<img src="image_fi/279547c01/f01010.png" alt="f01010"/>
<figcaption><p><a id="figure1-10">Figure 1-10</a>: A translated cuboid with a starting corner at (–10, 20, 0)</p></figcaption>
</figure>
<p>The <code>translate</code> operation uses square brackets to group the x, y, and z dimensions into a vector. Similar to specifying the dimensions of a cube shape, the order of the numbers in the vector is important. The first number in the translation vector describes movement along the x-axis; the second describes movement along the y-axis; and the third describes movement along the z-axis. Finally, mark the end of the entire statement with a semicolon.</p>
<p>You may have noticed that the vector you use to modify the <code>translate</code> operation moves the shape’s starting corner—the corner that touches the origin by default. <a href="#figure1-11" id="figureanchor1-11">Figure 1-11</a> shows how the <code>translate</code> operation moves the cuboid relative to the origin (the original cube is shown in gray). You can use the axes legend to predict the location of your shapes after the <code>translate</code> operation has been applied.</p>
<figure>
<img src="image_fi/279547c01/f01011.png" alt="f01011"/>
<figcaption><p><a id="figure1-11">Figure 1-11</a>: A cuboid moved 10 units along the x-axis and 20 units along the y-axis, compared with the same-sized cuboid at the origin</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="10" id="Page_10"/>To create a more complex design, you may need to move shapes around in different configurations. Use the <code>translate</code> operation in front of a command to move it into a different position. For instance, the following statements draw a cuboid, a sphere, and a cylinder in one Preview window (<a href="#figure1-12" id="figureanchor1-12">Figure 1-12</a>):</p>
<pre><code>translate([-10, 10, 0]) cube([20, 10, 10]);
translate([20, 0, 0]) sphere(5);
translate([0, 0, -10]) cylinder(h=30, r1=2, r2=2);</code></pre>
<figure>
<img src="image_fi/279547c01/f01012.png" alt="f01012"/>
<figcaption><p><a id="figure1-12">Figure 1-12</a>: Three distinct shapes, translated from default positions</p></figcaption>
</figure>
<p>Both the sphere and cylinder move according to their respective center points, while the cube moves relative to the corner that touches the origin. Notice that the movement is different if you apply the same translation operations to a cube and cylinder that have been centered (<a href="#figure1-13" id="figureanchor1-13">Figure 1-13</a>):</p>
<pre><code>translate([-10, 10, 0]) cube([20, 10, 10], center=true);
translate([20, 0, 0]) sphere(5);
translate([0, 0, -10]) cylinder(h=30, r1=2, r2=2, center=true);</code></pre>
<figure>
<img src="image_fi/279547c01/f01013.png" alt="f01013"/>
<figcaption><p><a id="figure1-13">Figure 1-13</a>: Three distinct shapes, translated from centered positions</p></figcaption>
</figure>
<h3 id="h2-279547c01-0005"><span epub:type="pagebreak" title="11" id="Page_11"/>Smoothing Curves with $fn</h3>
<p class="BodyFirst">You might be wondering why the spheres and cylinders you’ve drawn so far don’t appear to be round, but instead are formed by a series of flat panels. That’s because OpenSCAD, like most 3D design software, uses a collection of straight lines to approximate a curve. To save on memory and reduce the processing time required to draw complex shapes, OpenSCAD uses a relatively small number of these lines by default. The cylinder shown in <a href="#figure1-13">Figure 1-13</a>, for example, uses only six line segments to approximate the curve of the circular faces of the cylinder.</p>
<p>To make your cylinders and spheres smoother, specify the number of line segments used to approximate a curve by including the <code>$fn</code> parameter. Setting <code>$fn</code> to 10, for instance, makes a cylinder look a bit rounder, because it draws the circumference of the cylinder with 10 line segments (<a href="#figure1-14" id="figureanchor1-14">Figure 1-14</a>):</p>
<pre><code>cylinder(h=20, r1=2, r2=2, $fn=10);</code></pre>
<figure>
<img src="image_fi/279547c01/f01014.png" alt="f01014"/>
<figcaption><p><a id="figure1-14">Figure 1-14</a>: Approximating the curve of a cylinder with 10 line segments</p></figcaption>
</figure>
<p>As with other parameters, include <code>$fn</code> in the parentheses within the command.</p>
<p>Although the cylinder in <a href="#figure1-14">Figure 1-14</a> is rounder than a default cylinder, it’s still not visibly round. Increase <code>$fn</code> to an even larger value in order to make the cylinder rounder (<a href="#figure1-15" id="figureanchor1-15">Figure 1-15</a>):</p>
<pre><code>cylinder(h=20, r1=2, r2=2, $fn=50);</code></pre>
<p>With 50 line segments, the curve in this cylinder looks a lot smoother. After a certain point, though, increasing <code>$fn</code> will stop showing any visible effect. Also, note that OpenSCAD takes longer to generate shapes with large <code>$fn</code> values (as there are more details to generate), so be sure to <span epub:type="pagebreak" title="12" id="Page_12"/>consider the trade-off between smoothness and computational overhead when you set <code>$fn</code>. Generally, <code>$fn=50</code> will produce a “roundness” that is more than sufficient.</p>
<figure>
<img src="image_fi/279547c01/f01015.png" alt="f01015"/>
<figcaption><p><a id="figure1-15">Figure 1-15</a>: A cylinder with a curve approximated with 50 line segments</p></figcaption>
</figure>
<h2 id="h1-279547c01-0006">Combining 3D Shapes with Boolean Operations</h2>
<p class="BodyFirst">Sometimes you’ll want to create shapes with features that are more complex than the basic shapes you’ve made so far. The <em>Boolean</em> operations in OpenSCAD allow you to combine multiple shapes, like cuboids, spheres, cylinders, and cones, into one shape (<a href="#figure1-16" id="figureanchor1-16">Figure 1-16</a>). You can do this by using one of three operations: <code>union</code>, <code>difference</code>, or <code>intersection</code>.</p>
<figure>
<img src="image_fi/279547c01/f01016.png" alt="f01016"/>
<figcaption><p><a id="figure1-16">Figure 1-16</a>: An illustration of basic Boolean operations</p></figcaption>
</figure>
<p>The <code>union</code> operation groups two shapes together, the <code>difference</code> operation subtracts one shape from another, and the <code>intersection</code> operation keeps only the parts where two shapes intersect with each other.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="box">
<h2><span epub:type="pagebreak" title="13" id="Page_13"/>Boolean Operations</h2>
<p class="BoxBodyFirst">You can think of <em>Boolean</em> as <em>yes/no.</em> It’s commonly used in math and software engineering when you need to define whether something exists or doesn’t exist. The Boolean operations discussed here define whether a volume of space should have material or should be empty.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h3 id="h2-279547c01-0006">Subtracting Shapes with difference</h3>
<p class="BodyFirst">Let’s start by subtracting shapes with the <code>difference</code> operation (<a href="#figure1-17" id="figureanchor1-17">Figure 1-17</a>):</p>
<pre><code>difference() {
    cube([10, 10, 10]);
    sphere(5);
}</code></pre>
<figure>
<img src="image_fi/279547c01/f01017.png" alt="f01017"/>
<figcaption><p><a id="figure1-17">Figure 1-17</a>: A sphere subtracted from a cuboid with the <span class="LiteralInCaption"><code>difference</code></span> operation</p></figcaption>
</figure>
<p>Indicate a <code>difference</code> operation, followed by a set of parentheses, and then enter at least two commands between a set of curly brackets. Order matters when you use the <code>difference</code> operation; it keeps only the first shape, removing the parts of that shape where the remaining shapes intersect it. Notice in <a href="#figure1-18" id="figureanchor1-18">Figure 1-18</a> what happens when you exchange the order of the two shapes:</p>
<pre><code>difference() {
    sphere(5);   
    cube([10, 10, 10]);
}</code></pre>
<span epub:type="pagebreak" title="14" id="Page_14"/><figure>
<img src="image_fi/279547c01/f01018.png" alt="f01018"/>
<figcaption><p><a id="figure1-18">Figure 1-18</a>: A cuboid subtracted from a sphere with the <span class="LiteralInCaption"><code>difference</code></span> operation</p></figcaption>
</figure>
<p>Reversing the operations creates a sphere with a slice missing, precisely where <code>cube</code> would have drawn a cuboid shape on top of the original sphere.</p>
<h4 id="h3-279547c01-0003">Debugging difference Operations with #</h4>
<p class="BodyFirst">It can be easy to lose track of the shape you’re subtracting because it is no longer visible in the design. To make things easier, place a hash mark (<code>#</code>) in front of a subtracted shape to create a ghost version of the shape. The following code is identical to the code that drew <a href="#figure1-17">Figure 1-17</a>, except it uses a hash mark to render the sphere as a ghost-like image (<a href="#figure1-19" id="figureanchor1-19">Figure 1-19</a>):</p>
<pre><code>difference() {
    cube([10, 10, 10]);
    #sphere(5);
}</code></pre>
<figure>
<img src="image_fi/279547c01/f01019.png" alt="f01019"/>
<figcaption><p><a id="figure1-19">Figure 1-19</a>: A ghost version of a subtracted sphere to help with problem-solving</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="15" id="Page_15"/>Use the hash mark to help you debug your designs, and then when your design is correct, be sure to remove the hash mark from your code.</p>
<h4 id="h3-279547c01-0004">Avoiding “Shimmering Walls” with <span class="ColorText" style="color:#auto">the</span> difference Operation</h4>
<p class="BodyFirst">When subtracting shapes with the <code>difference</code> operation, you may sometimes end up with “shimmering walls” like those in <a href="#figure1-20" id="figureanchor1-20">Figure 1-20</a>.</p>
<figure>
<img src="image_fi/279547c01/f01020.png" alt="f01020"/>
<figcaption><p><a id="figure1-20">Figure 1-20</a>: Two cuboids subtracted from a larger cuboid create shimmering walls</p></figcaption>
</figure>
<p>The shimmering walls appear because the subtracted shapes share a face with the shape they’re being subtracted from. This creates an ambiguous scenario; should the face remain or be subtracted? Because of this concern, a model with shimmering walls isn’t 3D-printable.</p>
<p>To solve this issue, only subtract shapes that extend slightly beyond the size of the outer shape (<a href="#figure1-21" id="figureanchor1-21">Figure 1-21</a>).</p>
<figure>
<img src="image_fi/279547c01/f01021.png" alt="f01021"/>
<figcaption><p><a id="figure1-21">Figure 1-21</a>: Two slightly larger cuboids subtracted from an outer cuboid</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="16" id="Page_16"/>Once you’ve removed the ghost shapes, the remaining shape should contain no shimmering walls (<a href="#figure1-22" id="figureanchor1-22">Figure 1-22</a>):</p>
<pre><code>difference() {
    cube([10, 10, 10]);
    
    translate([-1, 2.5, 2.5]) cube([12, 5, 5]);
    translate([2.5, 2.5, -1]) cube([5, 5, 12]);
}</code></pre>
<figure>
<img src="image_fi/279547c01/f01022.png" alt="f01022"/>
<figcaption><p><a id="figure1-22">Figure 1-22</a>: A subtracted shape that is fit for 3D printing</p></figcaption>
</figure>
<p>You should now be able to 3D-print this design.</p>
<h3 id="h2-279547c01-0007">Carving Out Overlapping Shapes with intersection</h3>
<p class="BodyFirst">You can also carve away everything <em>except</em> the overlapping portion of two shapes by using the <code>intersection</code> operation (<a href="#figure1-23" id="figureanchor1-23">Figure 1-23</a>):</p>
<pre><code>intersection() {
    sphere(5);   
    cube([10, 10, 10]);
}</code></pre>
<span epub:type="pagebreak" title="17" id="Page_17"/><figure>
<img src="image_fi/279547c01/f01023.png" alt="f01023"/>
<figcaption><p><a id="figure1-23">Figure 1-23</a>: The cutout of an overlapping sphere and cuboid, drawn with the <span class="LiteralInCaption"><code>intersection</code></span> operation</p></figcaption>
</figure>
<p>First, indicate the <code>intersection </code>operation followed by parentheses, and then enter at least two commands between curly brackets. Unlike with the <code>difference</code> operation, the order in which you include the shapes doesn’t matter with <code>intersection</code>.</p>
<h3 id="h2-279547c01-0008">Grouping Shapes with union</h3>
<p class="BodyFirst">To group shapes into a single entity, use the <code>union</code> operation (<a href="#figure1-24" id="figureanchor1-24">Figure 1-24</a>):</p>
<pre><code>union() {
    cube([10, 10, 10]);
    sphere(5);
}</code></pre>
<figure>
<img src="image_fi/279547c01/f01024.png" alt="f01024"/>
<figcaption><p><a id="figure1-24">Figure 1-24</a>: A sphere and a cuboid grouped together with a <span class="LiteralInCaption"><code>union</code></span> operation</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="18" id="Page_18"/>The <code>union</code> operation combines all the shapes inside the curly brackets into one shape. Indenting all the lines that come between the curly brackets makes your code readable and easy to understand. Similar to <code>intersection </code><span class="ColorText" style="color:#000000">and</span><code> difference</code><span class="ColorText" style="color:#000000">, t</span>here’s no way to modify the <code>union</code> operation, so you’ll never need to put any information inside its parentheses.</p>
<p>Although it appears as if you can combine shapes by simply drawing them on top of each other, each shape will still remain a separate entity. This can be a problem when using the <code>difference</code> operation, as that operation subtracts only from the first shape inside the curly brackets. To avoid this problem, you can group multiple shapes into one shape by using the <code>union</code> operation. Include this grouped shape within <code>difference</code> as the first shape. For example, the following program uses the <code>union</code> operation to subtract a sphere from two shapes at once <span class="ColorText" style="color:#auto">(<a href="#figure1-25" id="figureanchor1-25">Figure 1-25</a>):</span></p>
<pre><code>difference() {
    union() {
      cube([10, 10, 10]);
      cylinder(h=10, r1=2, r2=2);
    }
    sphere(5);
}</code></pre>
<figure>
<img src="image_fi/279547c01/f01025.png" alt="f01025"/>
<figcaption><p><a id="figure1-25">Figure 1-25</a>: A sphere subtracted from a cylinder and a cuboid grouped together with <span class="LiteralInCaption"><code>union</code></span></p></figcaption>
</figure>
<p>OpenSCAD first combines the cube and cylinder into one shape, and then subtracts the sphere from that new shape. Without the <code>union</code> operation, OpenSCAD would, instead, subtract both the cylinder and sphere from the cuboid (<a href="#figure1-26" id="figureanchor1-26">Figure 1-26</a>).</p>
<span epub:type="pagebreak" title="19" id="Page_19"/><figure>
<img src="image_fi/279547c01/f01026.png" alt="f01026"/>
<figcaption><p><a id="figure1-26">Figure 1-26</a>: A sphere and a cylinder subtracted from a cuboid</p></figcaption>
</figure>
<p>Once you’ve created a complex shape with <code>difference</code>, <code>intersection</code>, or <code>union</code>, a computer can easily break it into geometric primitives to generate an accurate 3D model of your design. You can then print this complex 3D model on a 3D printer or import it into a 3D virtual reality program.</p>
<h2 id="h1-279547c01-0007">Getting Ready for 3D Printing</h2>
<p class="BodyFirst">When you’re ready to send your OpenSCAD design to another application for 3D printing, you’ll need to export an <em>.stl</em> version of your design from OpenSCAD. You can then import this file into your 3D printing preparation software to adjust the settings, then turn it into a physical object with a 3D printer.</p>
<p>To export an <em>.stl</em> version of your design, first render your design by clicking the <b>Render</b> button (circled in red in <a href="#figure1-27" id="figureanchor1-27">Figure 1-27</a>). Whereas Preview generates a quick picture of your model, Render fully calculates all of the surfaces needed to define the model. Especially complex designs require more surfaces and might have slow Render times as a result.</p>
<figure>
<img src="image_fi/279547c01/f01027.png" alt="f01027"/>
<figcaption><p><a id="figure1-27">Figure 1-27</a>: Rendering a design with the Render button</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="20" id="Page_20"/>Finally, export your design as an <em>.stl</em> by selecting <b>File</b><span class="MenuArrow">▶</span><b>Export</b><span class="MenuArrow">▶</span><b>Export as STL </b>(<a href="#figure1-28" id="figureanchor1-28">Figure 1-28</a>).</p>
<figure>
<img src="image_fi/279547c01/f01028.png" alt="f01028"/>
<figcaption><p><a id="figure1-28">Figure 1-28</a>: Exporting a design as an <em>.</em><em>stl</em> file</p></figcaption>
</figure>
<h2 id="h1-279547c01-0008">Summary</h2>
<p class="BodyFirst">Congratulations! You should now be able to create designs that include cuboids, spheres, and cylinders in any size and draw them in OpenSCAD’s Preview window. You can also import 3D <span class="ColorText" style="color:#auto">shape</span>s, smooth curves, and move shapes to anywhere along the x-, y-, and z-axis. Finally, you also should know how to create complex designs out of basic shapes by grouping, subtracting, and cutting out overlapping shapes.</p>
<p>Here are some important points to remember:</p>
<ul>
<li>The name of an OpenSCAD command describes the type of shape you’d like to draw.</li>
<li>Commands are followed by parentheses. Information inside parentheses <code>( )</code> modifies a command. The values inside the parentheses are called <em>parameters</em>. You can think of parameters as adjectives that describe characteristics of the shape.</li>
<li>A semicolon (<code>;</code>) marks the end of most statements. Statements can include both commands and operations.</li>
<li>Use the <code>translate</code> operation to move your shapes around the Preview window. Indicate the amount and direction of movement by changing the vector parameter of the <code>translate</code> operation.</li>
<li>Square brackets (<code>[ ]</code>) collect numbers together to form a vector. The order of the numbers inside a vector is important.</li>
<li>Boolean operations use curly brackets (<code>{ }</code>) to collect multiple shapes together. These curly brackets also form a complete OpenSCAD statement and do not require a semicolon to end the statement.</li>
<li>Parentheses, square brackets, and curly brackets always come in pairs.</li>
<li><span epub:type="pagebreak" title="21" id="Page_21"/><code>$fn </code>can be used as a parameter to change the smoothness of a single shape. You can also set <code>$fn</code> to a high value at the beginning of your code to generate smooth curves for every shape in a design. High values for <code>$fn</code> can result in slow rendering times.</li>
<li>Use indentation to help make your code readable and easy to understand.</li>
<li>A design must be <em>rendered</em> before it can be exported as an <em>.stl </em>file.</li>
</ul>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c01-0009"><span epub:type="pagebreak" title="22" id="Page_22"/>Design Time: 3D Shapes</h2>
<p class="BoxBodyFirst">Practice your composition and design skills by building each of the complex shapes in <a href="#figure1-29" id="figureanchor1-29">Figure 1-29</a>. We strongly recommend that you finish building each shape before moving on.</p>
<figure>
<img src="image_fi/279547c01/f01029.png" alt="f01029"/>
<figcaption><p><a id="figure1-29">Figure 1-29</a>: Practice drawing these shapes.</p></figcaption></figure>
<div class="dottedBottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c01-0010"><span epub:type="pagebreak" title="23" id="Page_23"/>Big Projects: 3D Shapes</h2>
<p class="BoxBodyFirst">The following big projects will help you practice the commands covered in this chapter, and will introduce you to some basic considerations for using your 3D printer, such as printer resolution and temperature.</p>
<h4>Calibration Pyramid</h4>
<p class="BoxBodyFirst">Building a calibration pyramid, shown in <a href="#figure1-30" id="figureanchor1-30">Figure 1-30</a>, will help you determine whether you need to tweak the settings on your 3D printing preparation software. It will also help you practice using <code>cube</code> and <code>translate</code>.</p>
<figure>
<img src="image_fi/279547c01/f01030.png" alt="f01030"/>
<figcaption><p><a id="figure1-30">Figure 1-30</a>: Calibration pyramid</p></figcaption></figure>
<ul>
<li>Try printing this at different <em>resolutions</em>. Try Low, Medium, and High quality. Compare print times and results.</li>
<li>Try printing this pyramid at different sizes. Measure the pyramid after you print it. Check to make sure your physical measurements match the virtual measurements of your 3D model.</li>
<li>Tweak your software settings so the pyramid has straight lines at all corners after it’s printed.</li>
</ul>
<h4><span epub:type="pagebreak" title="24" id="Page_24"/>Smiley-Face Pendant</h4>
<p class="BoxBodyFirst">To create the smiley-face pendant shown in <a href="#figure1-31" id="figureanchor1-31">Figure 1-31</a>, you’ll need to use your 3D printer to print large, flat shapes. Flat shapes can be difficult to print because they tend to curl.</p>
<figure>
<img src="image_fi/279547c01/f01031.png" alt="f01031"/>
<figcaption><p><a id="figure1-31">Figure 1-31</a>: Smiley-face pendant</p></figcaption></figure>
<p>If you have a heated bed on your 3D printer, use it. Vary the temperature of your heated bed to see which temperature works best for the type of filament you are using.</p>
<p>If you don’t have a heated bed, inserting thin <em>helper disks</em> can keep prints from curling. Helper disks are 1 mm thick, so you can easily remove them after your print is complete. You can place helper disks around the perimeter of your design, and then easily cut them off after you’ve finished the print. Some 3D printing preparation software allow you to insert these discs automatically. Otherwise, you can insert ultra-thin cylinders in your OpenSCAD design.</p>
<h4>Hole-and-Pins Test</h4>
<p class="BoxBodyFirst">To design a hole-and-pins test, you’ll use your 3D printer to print pieces that fit together, as shown in <a href="#figure1-32" id="figureanchor1-32">Figure 1-32</a>. If you design this properly, the pins should fit snugly inside the holes.</p>
<figure>
<img src="image_fi/279547c01/f01032.png" alt="f01032"/>
<figcaption><p><a id="figure1-32">Figure 1-32</a>: Hole-and-pins test</p></figcaption></figure>
<p>If you design the pins to be exactly the same size as the holes, the two pieces won’t fit together. The pins should be slightly smaller than the holes. How much smaller depends on the type of filament you’re using and your printer settings. Both the brand and type of plastic will make a difference.</p>
<div class="dottedBottom hr"><hr/></div>
</section>
</aside>
</section>
</body></html>