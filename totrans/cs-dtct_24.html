<html><head></head><body>
<h2 class="h2" id="ch25"><span epub:type="pagebreak" id="page_201"/>—25—<br/>Priority Queues for Lock Picking</h2>&#13;
<p class="noindent">A small group of thugs was waiting outside the door to Frank’s office. They were trying to blend in, but Frank spotted them a block away. One sat on a bench, pretending to read a paper while his eyes darted around the street. Three others stood near the corner, arguing loudly about a recent sporting match. As he neared, Frank realized they were discussing completely different sports. One thug ranted about the officiating at the last royal polo match, another interjected with tips about an upcoming horse race, and the third seemed content with just saying the word “sports” at regular intervals.</p>&#13;
<p class="indent">Only the spy succeeded in being inconspicuous. She was waiting across the street, where she leaned casually against the wall. If he hadn’t chased her earlier, Frank might have completely overlooked her. She was good. Or, more accurately, the thugs were really bad.</p>&#13;
<p class="indent">Without breaking stride, Frank turned and started down a side street. He couldn’t go back to the office, not with a contingent of Vinettee thugs waiting for him. After a moment’s thought, he settled on an old police safe house. It was close and hadn’t been used in years. If he was lucky, he might even remember the combination to the lock.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_202"/><img src="../images/f0202-01.jpg" alt="image"/></div>&#13;
<p class="indent">Frank made it half a block before he heard the shouts and pounding footsteps behind him. The spy must have alerted the others.</p>&#13;
<p class="indent">“Frank!” yelled one particularly beefy thug. “We just want to talk.”</p>&#13;
<p class="indent">As if this claim weren’t far-fetched enough, the laughter from the rest of the thugs dispelled any doubt about their intentions. Frank broke into a run. The footsteps behind him followed suit.</p>&#13;
<p class="indent">Frank cut left sharply, heading into a narrow alley. He knew this part of town well and was sure he could lose his pursuers. He just had to buy himself enough time to get into the safe house. Getting in could take a while, unless he remembered the combination on the first try.</p>&#13;
<p class="indent">Frank emerged from the alley onto Flag Street and pulled a quick U-turn, heading into the store on the corner. He pretended to peruse <span epub:type="pagebreak" id="page_203"/>the racks of baby clothes while watching through the window. The rack of Tike’s Tunics provided an ideal vantage point.</p>&#13;
<p class="indent">Within a minute, the thugs spilled out onto the street and stood around, looking confused. The spy followed and began shouting orders. She split the thugs into two groups and sent them down the street in both directions—one group on each side—while she waited at the mouth of the alley.</p>&#13;
<p class="indent">Frank didn’t waste any time. He hurried through the shop and exited through a back door that led into the alley. The spy stood only 10 feet away, her back to Frank. As quietly as he could, Frank retreated down the alley and made his way to the safe house. If he was lucky and the thugs didn’t think to ask the shopkeeper about him, he had bought some time.</p>&#13;
<p class="indent">At the safe house door, Frank fumbled with the combination lock. He spun the dial to 1, around to 1, and finally back around to 1 again. Admittedly, it was a simple code. The lock didn’t open.</p>&#13;
<p class="indent">Frank swore. Someone must have changed the combination since he’d last been here. He considered his options. He could try to find the combination, which might take him a long time, or he could find another place to hide. Unable to think of anywhere safe that didn’t take him past the thugs again, he turned back to the lock.</p>&#13;
<p class="indent">Since time was short, Frank needed to be efficient. The lock required three numbers, each 1–20, so he faced 8,000 possible combinations. He didn’t have time for a breadth-first search or a depth-first search. Instead he would have to rely on a limited best-first search and some liberal guessing; he would have to trust his gut. He withdrew his priority queue from his pocket, wiped it clean, and started jotting down combinations. With each combination, he added a priority—how likely he felt it would be. He started with some common police combinations:</p>&#13;
<div class="blockquote">&#13;
<p class="noindent">1-2-3</p>&#13;
<p class="noindent">1-1-2</p>&#13;
<p class="noindent">1-3-5</p>&#13;
</div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_204"/>He gave each of those a priority of 10.</p>&#13;
<p class="indent">Then he moved on to other triples of the same number. If the code had once been 1-1-1, why not use 2-2-2? The safe houses were used rarely enough that it paid to keep the combinations simple. He listed 19 untried triplets, giving them priorities of 5. The priority queue now held 22 possibilities.</p>&#13;
<p class="indent">Then he quickly ran through the birthdays of the officers responsible for the safe houses. That added another 6 combinations, which he assigned priorities of 8. He added the birthdays of every other officer he could remember, dropping the priority to 2 for those.</p>&#13;
<p class="indent">Finally he added the word <em>RUN</em> and assigned it a priority of 1. He knew full well that if he reached that option, it was time to give up. He would have to find another place to hide.</p>&#13;
<p class="indent">The priority queue now held 32 options. The result was a long list of possible combinations to try. At the top was the highest-priority combination, 1-2-3. Frank tried it, but nothing happened.</p>&#13;
<p class="indent">He swore and removed the combination from the priority queue. A new highest-priority combination popped to the top.</p>&#13;
<p class="indent">Before he could try the next combination, a thought struck him. Maybe they used some variation of the old combination? He had known plenty of officers to use one combination for their locker and its reverse for their luggage. Could the officer in charge of the safe houses have done something similar here? Frank added 3-2-1 to the bottom of his list with a priority of 9.</p>&#13;
<p class="indent">Neither 1-1-2 or 1-3-5 worked, which exhausted all of the priority-10 combinations. Frank crossed them off and added their reversed combinations, 2-1-1 and 5-3-1, to the bottom of the list. Again he used priority 9, figuring that a reversed combination would be easy for people to remember.</p>&#13;
<p class="indent">He read the next-highest-priority combination, 3-2-1, from the top of the list. It was one of the reversed combinations he had recently added. That was the magic of priority queues: no matter what order you added the items, you always got the best entry next.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_205"/>The lock finally clicked open at 5-3-1, one of the priority-9 codes he’d added. Frank breathed a sigh of relief and glanced around. Still no sign of the Vinettees. He was safe for now.</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><strong>POLICE ALGORITHMS 101: DATA STRUCTURES AND SEARCH</strong></p>&#13;
<p class="sbsub"><em><strong>Excerpt from Professor Drecker’s Lecture</strong></em></p>&#13;
<p class="noindent">As we’ve discussed in lectures throughout the semester, the data structures we use can impact both how an algorithm functions and how efficient it is. During the lectures on depth-first search and breadth-first search, we looked at how the difference between stacks and queues impacted the search order. The use of priority queues for best-first search is another great example of the impact of data structures.</p>&#13;
<p class="indent">Conceptually, best-first search is similar to both breadth-first and depth-first search. At each step in the algorithm, we are choosing a single new state to explore. The key difference is how we order our exploration of new states. Using a priority queue allows us to efficiently pick <em>the most promising</em> next state. Best-first search and priority queues are perfect complements and make an extremely efficient data structure–algorithm combination.<span epub:type="pagebreak" id="page_206"/></p>&#13;
</div>&#13;
</body></html>