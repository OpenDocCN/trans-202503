- en: '**16**'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**COMMON PROBABILITY DISTRIBUTIONS**'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: In this chapter, you’ll look at a number of standard probability distributions
    that exist for dealing with commonly occurring random phenomena in statistical
    modeling. These distributions follow the same natural rules as the examples presented
    in [Chapter 15](ch15.xhtml#ch15), and they’re useful because their properties
    are well understood and documented. In fact, they are so ubiquitous that most
    statistical software packages have corresponding built-in functionality for their
    evaluation, and R is no exception. Several of these distributions represent an
    essential ingredient in traditional statistical hypothesis testing, which is explored
    in [Chapters 17](ch17.xhtml#ch17) and [18](ch18.xhtml#ch18).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Just like the random variables they model, the common distributions you’ll examine
    here are broadly categorized as either discrete or continuous. Each distribution
    has four core R functions tied to it—a `d`-function, providing specific mass or
    density function values; a `p`-function, providing cumulative distribution probabilities;
    a `q`-function, providing quantiles; and an `r`-function, providing random variate
    generation.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: '**16.1 Common Probability Mass Functions**'
  id: totrans-5
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You’ll start here by looking at definitions and examples of some common probability
    mass functions for discrete random variables. Continuous distributions will be
    explored in in [Section 16.2](ch16.xhtml#ch16lev1sec51).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: '***16.1.1 Bernoulli Distribution***'
  id: totrans-7
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: The *Bernoulli* distribution is the probability distribution of a discrete random
    variable that has only two possible outcomes, such as success or failure. This
    type of variable can be referred to as *binary* or *dichotomous*.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Let’s say you’ve defined a binary random variable *X* for the success or failure
    of an event, where *X* = 0 is failure, *X* = 1 is success, and *p* is the known
    probability of success. [Table 16-1](ch16.xhtml#ch16tab1) shows the probability
    mass function for *X*.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '**Table 16-1:** The Bernoulli Probability Mass Function'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '| ***x*** | **0** | **1** |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
- en: '| Pr(*X* = *x*) | 1 – *p* | *p* |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
- en: From [Section 15.2.2](ch15.xhtml#ch15lev2sec134) you know that the probabilities
    associated with all possible outcomes must sum to 1\. Therefore, if the probability
    of success is *p* for a binary random variable, the only other alternative outcome,
    failure, must occur with probability 1 − *p*.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: In mathematical terms, for a discrete random variable *X* = *x*, the Bernoulli
    mass function *f* is
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/e16-1.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
- en: where *p* is a parameter of the distribution. The notation
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '*X* ∼ BERN(*p*)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: is often used to indicate that “*X* follows a Bernoulli distribution with parameter
    *p*.”
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the key points to remember:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: • *X* is dichotomous and can take only the values 1 (“success”) or 0 (“failure”).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: • *p* should be interpreted as “the probability of success,” and therefore 0
    ≤ *p* ≤ 1.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: 'The mean and variance are defined as follows, respectively:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和方差分别定义如下：
- en: '![image](../images/f0332-01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0332-01.jpg)'
- en: Say you use the common example of rolling a die, with success defined as getting
    a 4, and you roll once. You therefore have a binary random variable *X* that can
    be modeled using the Bernoulli distribution, with the probability of success ![image](../images/f0333-01.jpg).
    For this example, ![image](../images/f0333-02.jpg). You can easily determine,
    using (16.1), that
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你使用掷骰子的常见例子，成功定义为掷出4点，并且你掷一次骰子。那么你就有了一个二元随机变量 *X*，它可以通过伯努利分布来建模，成功的概率是 ![image](../images/f0333-01.jpg)。对于这个例子，![image](../images/f0333-02.jpg)。你可以轻松地通过(16.1)得出：
- en: '![image](../images/f0333-03.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0333-03.jpg)'
- en: and, in much the same way, that ![image](../images/f0333-04.jpg). Furthermore,
    you’d have ![image](../images/f0333-05.jpg) and ![image](../images/f0333-06.jpg).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 同样地，![](../images/f0333-04.jpg)也有类似的定义。进一步地，你会得到![](../images/f0333-05.jpg)和![](../images/f0333-06.jpg)。
- en: '***16.1.2 Binomial Distribution***'
  id: totrans-28
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.1.2 二项分布***'
- en: The *binomial distribution* is the distribution of successes in *n* number of
    trials involving binary discrete random variables. The role of the Bernoulli distribution
    is typically one of a “building block” for more complicated distributions, like
    the binomial, that give you more interesting results.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '*二项分布*是描述在 *n* 次试验中成功的分布，这些试验涉及二元离散随机变量。伯努利分布的作用通常是作为更复杂分布（如二项分布）的“构建模块”，这些复杂分布能提供更有趣的结果。'
- en: For example, suppose you define a random variable ![image](../images/f0333-07.jpg),
    where *Y*[1], *Y*[2], ..., *Y[n]* are each Bernoulli random variables corresponding
    to the same event, in other words, the die roll with success defined as rolling
    a 4\. The new random variable *X*, a sum of Bernoulli random variables, now describes
    *the number of successes in n trials* of the defined action. Providing that certain
    reasonable assumptions are satisfied, the probability distribution that describes
    this success count is the binomial distribution.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，假设你定义了一个随机变量 ![image](../images/f0333-07.jpg)，其中 *Y*[1]、*Y*[2]、...、*Y*[n]*
    都是每个对应于相同事件的伯努利随机变量，换句话说，就是掷骰子的结果，成功定义为掷出4点。新的随机变量 *X* 是伯努利随机变量的和，现在描述的是“在 *n*
    次试验中成功的次数”。如果满足某些合理的假设，描述这个成功次数的概率分布就是二项分布。
- en: In mathematical terms, for a discrete random variable and a realization *X*
    = *x*, the binomial mass function *f* is
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在数学术语中，对于离散随机变量和一个具体实现 *X* = *x*，二项质量函数 *f* 为：
- en: '![image](../images/e16-2.jpg)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-2.jpg)'
- en: where
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 其中
- en: '![image](../images/e16-3.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-3.jpg)'
- en: is known as the *binomial coefficient*. (Recall the use of the integer factorial
    operator !, as first discussed in [Exercise 10.4](ch10.xhtml#ch10exc4) on [page
    203](ch10.xhtml#page_203).) This coefficient, also referred to as a *combination*,
    accounts for all different orders in which you might observe *x* successes throughout
    *n* trials.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 被称为*二项系数*。（回想一下在[习题 10.4](ch10.xhtml#ch10exc4)中首次讨论的整数阶乘运算符！，见[第203页](ch10.xhtml#page_203)）这个系数，也叫做*组合*，表示你可能在
    *n* 次试验中观察到 *x* 次成功的所有不同顺序。
- en: The parameters of the binomial distribution are *n* and *p*, and the notation
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 二项分布的参数是 *n* 和 *p*，符号表示为
- en: '*X* ∼ BIN(*n*, *p*)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* ∼ BIN(*n*, *p*)'
- en: is often used to indicate that *X* follows a binomial distribution for *n* trials
    with parameter *p*.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 通常用来表示 *X* 服从二项分布，进行 *n* 次试验，参数为 *p*。
- en: 'The following are the key points to remember:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要记住的关键点：
- en: • *X* can take only the values 0, 1, ..., *n* and represents the total number
    of successes.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: • *X* 只能取值 0, 1, ..., *n*，表示成功的总次数。
- en: • *p* should be interpreted as “the probability of success at each trial.” Therefore,
    0 ≤ *p* ≤ 1, and *n* > 0 is an integer interpreted as “the number of trials.”
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: • *p* 应该理解为“每次试验的成功概率”。因此，0 ≤ *p* ≤ 1，且 *n* > 0 是一个整数，表示“试验的次数”。
- en: • Each of the *n* trials is a Bernoulli success and failure event, the trials
    are independent (in other words, the outcome of one doesn’t affect the outcome
    of any other), and *p* is constant.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: • 每次* n * 次试验中的每一项都是伯努利成功或失败事件，试验是独立的（换句话说，一个试验的结果不会影响其他试验的结果），并且*p*是常数。
- en: 'The mean and variance are defined as follows:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和方差分别定义如下：
- en: '![image](../images/f0334-01.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0334-01.jpg)'
- en: Counting the number of successes of repeated trials of a binary-valued test
    is one of the common random phenomena mentioned at the start of this section.
    Consider the specific situation in which there’s only one “trial,” that is, *n*
    = 1\. Examining [Equations (16.2)](ch16.xhtml#ch16eq2) and [(16.3)](ch16.xhtml#ch16eq3),
    it should become clear that (16.2) simplifies to (16.1). In other words, the Bernoulli
    distribution is just a special case of the binomial. Clearly, this makes sense
    with respect to the definition of a binomial random variable as a sum of *n* Bernoulli
    random variables. In turn, R provides functionality for the binomial distribution
    though not explicitly for the Bernoulli.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 计数重复试验中二值测试的成功次数是本节开头提到的常见随机现象之一。考虑一种特定情况，其中只有一次“试验”，即 *n* = 1。检查[方程 (16.2)](ch16.xhtml#ch16eq2)
    和 [(16.3)](ch16.xhtml#ch16eq3)，应该很清楚 (16.2) 会简化为 (16.1)。换句话说，伯努利分布只是二项分布的一个特例。显然，从二项随机变量作为
    *n* 个伯努利随机变量之和的定义来看，这一点是有意义的。R 提供了二项分布的相关功能，但并未明确支持伯努利分布。
- en: To illustrate this, I’ll return to the example of rolling a die with success
    defined as getting a 4\. If you roll the die independently eight times, what is
    the probability of observing exactly five successes (five 4s) in total? Well,
    you’d have ![image](../images/f0334-03.jpg), and this probability can be worked
    through mathematically using (16.2).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明这一点，我将回到投掷骰子的例子，其中成功定义为得到 4。如果你独立地掷骰子八次，观察到恰好五次成功（五个 4）的概率是多少？那么，你将得到 ![image](../images/f0334-03.jpg)，这个概率可以通过
    (16.2) 进行数学推导。
- en: '![image](../images/f0334-02.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0334-02.jpg)'
- en: The result tells you there is approximately a 0.4 percent chance that you’ll
    observe exactly five 4s in eight rolls of the die. This is small and makes sense—it’s
    far more probable that you might observe zero to two 4s in eight rolls of a die.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 结果告诉你，在八次投掷中恰好观察到五个 4 的概率约为 0.4%。这个概率很小，且合乎常理——在八次投掷中，观察到零到两个 4 的概率远大于观察到五个
    4 的概率。
- en: Fortunately, R functions will handle the arithmetic in these situations. The
    built-in functions `dbinom`, `pbinom`, `qbinom`, and `rbinom` are all relevant
    to the binomial and Bernoulli distributions and are summarized in one help file
    indexed by each of these function names.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，R 函数可以处理这些情况下的运算。内置函数 `dbinom`、`pbinom`、`qbinom` 和 `rbinom` 都与二项分布和伯努利分布相关，并在一个帮助文件中根据这些函数名称进行总结。
- en: • `dbinom` directly provides the mass function probabilities Pr(*X* = *x*) for
    any valid *x*—that is, 0 ≤ *x* ≤ *n*.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: • `dbinom` 直接提供任何有效 *x* 的质量函数概率 Pr(*X* = *x*)——即，0 ≤ *x* ≤ *n*。
- en: • `pbinom` provides the cumulative probability distribution—given a valid *x*,
    it yields Pr(*X* ≤ *x*).
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: • `pbinom` 提供累积概率分布——给定一个有效的 *x*，它会输出 Pr(*X* ≤ *x*)。
- en: • `qbinom` provides the *inverse* cumulative probability distribution (also
    known as the *quantile function* of the distribution)—given a valid probability
    0 ≤ *p* ≤ 1, it yields the value of *x* that satisfies Pr(*X* ≤ *x*) = *p*.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: • `qbinom` 提供*逆*累积概率分布（也称为分布的*分位数函数*）——给定一个有效的概率 0 ≤ *p* ≤ 1，它会输出满足 Pr(*X* ≤
    *x*) = *p* 的 *x* 值。
- en: • `rbinom` is used to generate any number of realizations of *X* given a specific
    binomial distribution.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: • `rbinom` 用于根据特定的二项分布生成任何数量的 *X* 实现。
- en: '**The dbinom Function**'
  id: totrans-54
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**dbinom 函数**'
- en: With this knowledge, you can use R to confirm the result of Pr(*X* = 5) for
    the die-roll example described a moment ago.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这些知识，你可以使用 R 来确认刚才提到的骰子投掷例子的结果 Pr(*X* = 5)。
- en: '[PRE0]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: To the `dbinom` function, you provide the specific value of interest as `x`;
    the total number of trials, *n*, as `size`; and the probability of success at
    each trial, *p*, as `prob`. True to R, a vector argument is possible for `x`.
    If you want the full probability mass function table for *X* for this example,
    you can supply the vector `0:8` to `x`.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 `dbinom` 函数，你需要提供感兴趣的具体值作为 `x`；试验的总次数 *n* 作为 `size`；每次试验成功的概率 *p* 作为 `prob`。符合
    R 规范，你可以为 `x` 提供一个向量参数。如果你想得到这个例子的 *X* 的完整概率质量函数表，可以将向量 `0:8` 传递给 `x`。
- en: '[PRE1]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: These can be confirmed to sum to 1.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 这些值可以确认其和为 1。
- en: '[PRE2]'
  id: totrans-60
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The resulting vector of probabilities, which corresponds to the specific outcomes
    *x* = {0, 1, ..., 8}, is returned using e-notation (refer to [Section 2.1.3](ch02.xhtml#ch02lev2sec19)).
    You can tidy this up by rounding the results using the `round` function introduced
    in [Section 13.2.2](ch13.xhtml#ch13lev2sec117). Rounding to three decimal places,
    the results are easier to read.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 结果概率向量对应于特定的结果*x* = {0, 1, ..., 8}，以科学计数法形式返回（参见[第2.1.3节](ch02.xhtml#ch02lev2sec19)）。你可以通过使用[第13.2.2节](ch13.xhtml#ch13lev2sec117)中介绍的`round`函数来整理结果，四舍五入到三位小数，使结果更易于阅读。
- en: '[PRE3]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The achievement of one success in eight trials has the highest probability,
    at approximately 0.372\. Furthermore, the mean (expected value) and variance of
    *X* in this example are ![image](../images/f0335-01.jpg) and ![image](../images/f0335-02.jpg).
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在八次试验中，成功一次的概率最高，约为0.372。 此外，*X*的均值（期望值）和方差分别为![image](../images/f0335-01.jpg)和![image](../images/f0335-02.jpg)。
- en: '[PRE4]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'You can plot the corresponding probability mass function in the same way as
    for the example in [Section 15.2.2](ch15.xhtml#ch15lev2sec134); the following
    line produces [Figure 16-1](ch16.xhtml#ch16fig1):'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以像[第15.2.2节](ch15.xhtml#ch15lev2sec134)中的例子那样绘制相应的概率质量函数；以下代码生成了[图16-1](ch16.xhtml#ch16fig1)：
- en: '[PRE5]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '![image](../images/f16-01.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-01.jpg)'
- en: '*Figure 16-1: The probability mass function associated with the binomial distribution
    of the die-rolling example*'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-1：与掷骰子例子的二项分布相关的概率质量函数*'
- en: '**The pbinom Function**'
  id: totrans-69
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**pbinom函数**'
- en: The other R functions for the binomial distribution work in much the same way.
    The first argument is always the value (or values) of interest; *n* is supplied
    as `size` and *p* as `prob`. To find, for example, the probability that you observe
    three or fewer 4s, Pr(*X* ≤ 3), you either sum the relevant individual entries
    from `dbinom` as earlier or use `pbinom`.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 其他与二项分布相关的R函数的工作方式大致相同。第一个参数始终是感兴趣的值（或值的集合）；*n*被提供为`size`，*p*作为`prob`。例如，要找出你在八次投掷中观察到三次或更少的4的概率Pr(*X*
    ≤ 3)，你可以像之前那样从`dbinom`中累加相关的单个条目，或者使用`pbinom`。
- en: '[PRE6]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Note that the pivotal argument to `pbinom` is tagged `q`, not `x`; this is
    because, in a cumulative sense, you are searching for a probability based on a
    quantile. The cumulative distribution results from `pbinom` can be used in the
    same way to search for “upper-tail” probabilities (probabilities to the right
    of a given value) since you know that the total probability mass is always 1\.
    To find the probability that you observe *at least* three 4s in eight rolls of
    the die, Pr(*X* ≥ 3) (which is equivalent to Pr(*X* > 2) in the context of this
    discrete random variable), note that the following finds the correct result because
    it’s the complement of Pr(*X* ≤ 2) that you’re looking for:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，`pbinom`的关键参数是标记为`q`，而不是`x`；这是因为在累积的意义上，你是在根据分位数寻找概率。`pbinom`的累积分布结果可以以相同的方式用于寻找“上尾”概率（给定值右侧的概率），因为你知道总的概率质量始终为1。要找出你在八次掷骰子中至少观察到三次4的概率Pr(*X*
    ≥ 3)（这在此离散随机变量的上下文中等同于Pr(*X* > 2)），请注意以下内容能找到正确的结果，因为它是Pr(*X* ≤ 2)的补集。
- en: '[PRE7]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '**The qbinom Function**'
  id: totrans-74
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**qbinom函数**'
- en: Less frequently used is the `qbinom` function, which is the inverse of `pbinom`.
    Where `pbinom` provides a cumulative probability when given a quantile value `q`,
    the function `qbinom` provides a quantile value when given a cumulative probability
    `p`. The discrete nature of a binomial random variable means `qbinom` will return
    the nearest value of *x* below which `p` lies. For example, note that
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 较少使用的是`qbinom`函数，它是`pbinom`的逆函数。`pbinom`在给定分位值`q`时提供累积概率，而`qbinom`则在给定累积概率`p`时提供分位值。二项随机变量的离散性质意味着`qbinom`将返回`p`所在分位值以下的最近*
    x *值。例如，注意到
- en: '[PRE8]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: provides 3 as the quantile value, even though you know from earlier that the
    exact probability that lies at or below 3, Pr(*X* ≤ 3), is 0.9693436\. You’ll
    look at `p`- and `q`-functions more when dealing with continuous probability distributions;
    see [Section 16.2](ch16.xhtml#ch16lev1sec51).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 提供了3作为分位值，尽管从之前的内容你已经知道，Pr(*X* ≤ 3)的确切概率是0.9693436。 在处理连续概率分布时，你会更多地接触到`p`-和`q`-函数；见[第16.2节](ch16.xhtml#ch16lev1sec51)。
- en: '**The rbinom Function**'
  id: totrans-78
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**rbinom函数**'
- en: 'Lastly, the random generation of realizations of a binomially distributed variable
    is retrieved using the `rbinom` function. Again, going with the ![image](../images/f0337-01.jpg)
    distribution, note the following:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，使用 `rbinom` 函数检索二项分布随机变量的实现。再次以 ![image](../images/f0337-01.jpg) 分布为例，请注意以下几点：
- en: '[PRE9]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The initial argument `n` doesn’t refer to the number of trials. The number of
    trials is still provided to `size` with *p* given to `prob`. Here, `n` requests
    the number of realizations you want to generate for the random variable ![image](../images/f0337-02.jpg).
    The first three lines each request a single realization—in the first eight rolls,
    you observe zero successes (4s), and in the second and third sets of eight rolls,
    you observe two and two 4s, respectively. The fourth line highlights the fact
    that multiple realizations of *X* are easily obtained and stored as a vector by
    increasing `n`. As these are *randomly generated realizations*, if you run these
    lines now, you’ll probably observe some different values.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 初始参数 `n` 并不代表试验的次数。试验次数仍然通过 `size` 提供，*p* 赋值给 `prob`。在这里，`n` 表示你想为随机变量 ![image](../images/f0337-02.jpg)
    生成的实现次数。前三行每一行请求一个单一的实现——在前八次投掷中，你观察到零次成功（4点），在第二和第三组八次投掷中，你分别观察到两个和两个 4 点。第四行突出了通过增加
    `n` 可以轻松获得和存储多个 *X* 实现并将其作为一个向量的事实。由于这些是*随机生成的实现*，如果你现在运行这些代码，可能会观察到一些不同的值。
- en: Though not used often in standard statistical testing methods, the `r-`functions
    for probability distributions, either discrete or continuous, play an important
    role when it comes to simulation and various advanced numeric algorithms in computational
    statistics.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在标准统计测试方法中不常使用，但概率分布的 `r-` 函数，无论是离散的还是连续的，在模拟和计算统计学中的各种高级数值算法中起着重要作用。
- en: '**Exercise 16.1**'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 16.1**'
- en: A forested nature reserve has 13 bird-viewing platforms scattered throughout
    a large block of land. The naturalists claim that at any point in time, there
    is a 75 percent chance of seeing birds at each platform. Suppose you walk through
    the reserve and visit every platform. If you assume that all relevant conditions
    are satisfied, let *X* be a binomial random variable representing the total number
    of platforms at which you see birds.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 一个森林自然保护区在一大片土地上分布着 13 个观鸟平台。自然学家声称，在任何时刻，每个平台看到鸟的概率为 75%。假设你在保护区内走动并参观每个平台。如果假设所有相关条件都得到满足，设
    *X* 为一个二项分布的随机变量，表示你看到鸟的所有平台数量。
- en: Visualize the probability mass function of the binomial distribution of interest.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化感兴趣的二项分布的概率质量函数。
- en: What is the probability you see birds at all sites?
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有平台上看到鸟的概率是多少？
- en: What is the probability you see birds at more than 9 platforms?
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在超过 9 个平台上看到鸟的概率是多少？
- en: What is the probability of seeing birds at between 8 and 11 platforms (inclusive)?
    Confirm your answer by using only the `d`-function and then again using only the
    `p`-function.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 8 到 11 个平台之间（包括 8 和 11）看到鸟的概率是多少？使用 `d`-函数确认你的答案，然后再使用 `p`-函数确认一次。
- en: Say that, before your visit, you decide that if you see birds at fewer than
    9 sites, you’ll make a scene and demand your entry fee back. What’s the probability
    of your embarrassing yourself in this way?
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 假设在你访问之前，你决定如果你在不到 9 个站点看到鸟，你就会制造一场骚动并要求退还入场费。你让自己尴尬的概率是多少？
- en: Simulate realizations of *X* that represent 10 different visits to the reserve;
    store your resulting vector as an object.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟代表 10 次不同访问的 *X* 实现；将你得到的向量存储为一个对象。
- en: Compute the mean and standard deviation of the distribution of interest.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算感兴趣分布的均值和标准差。
- en: '***16.1.3 Poisson Distribution***'
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.1.3 泊松分布***'
- en: In this section, you’ll use the *Poisson* distribution to model a slightly more
    general, but just as important, discrete random variable—a *count*. For example,
    the variable of interest might be the number of seismic tremors detected by a
    certain station in a given year or the number of imperfections found on square-foot
    pieces of sheet metal coming off a factory production line.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，你将使用 *泊松* 分布来模拟一个稍微更一般但同样重要的离散随机变量——*计数*。例如，感兴趣的变量可能是某个站点在一年内检测到的地震震动次数，或者某个工厂生产线下来的每平方英尺金属板上的缺陷数量。
- en: 'Importantly, the events or items being counted are assumed to manifest independently
    of one another. In mathematical terms, for a discrete random variable and a realization
    *X* = *x*, the Poisson mass function *f* is given as follows, where *λ*[p] is
    a parameter of the distribution (this will be explained further momentarily):'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是，被计数的事件或项目假设彼此独立地发生。从数学角度来看，对于离散随机变量和一个实现 *X* = *x*，泊松质量函数 *f* 如下所示，其中 *λ*[p]
    是分布的一个参数（稍后会进一步解释）：
- en: '![image](../images/e16-4.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-4.jpg)'
- en: The notation
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 记号
- en: '*X* ∼ POIS(*λ*[p])'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* ∼ POIS(*λ*[p])'
- en: is often used to indicate that “*X* follows a Poisson distribution with parameter
    *λ*[p].”
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 通常用于表示“*X* 遵循具有参数 *λ*[p] 的泊松分布。”
- en: 'The following are the keys points to remember:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要记住的关键点：
- en: • The entities, features, or events being counted occur independently in a well-defined
    interval at a constant rate.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: • 被计数的实体、特征或事件在一个明确的区间内以恒定的速率独立发生。
- en: '• *X* can take only non-negative integers: 0,1,. . ..'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: • *X* 只能取非负整数：0,1,…。
- en: • *λ*[p] should be interpreted as the “mean number of occurrences” and must
    therefore be finite and strictly positive; that is, 0 < *λ*[p] < ∞.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: • *λ*[p] 应解释为“事件发生的均值数量”，因此必须是有限且严格正的；即 0 < *λ*[p] < ∞。
- en: 'The mean and variance are as follows:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和方差如下：
- en: '![image](../images/f0339-01.jpg)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0339-01.jpg)'
- en: Like the binomial random variable, the values taken by a Poisson random variable
    are discrete, non-negative integers. Unlike the binomial, however, there’s typically
    no upper limit on a Poisson count. While this implies that an “infinite count”
    is allowed to occur, it’s a distinct feature of the Poisson distribution that
    the probability mass associated with some value *x* goes to zero as *x* itself
    goes to infinity.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 像二项式随机变量一样，泊松随机变量的取值是离散的、非负整数。然而，与二项式不同，泊松计数通常没有上限。这意味着“无限计数”是允许发生的，但泊松分布的一个显著特点是，当
    *x* 趋向于无穷大时，与某个值 *x* 相关的概率质量趋近于零。
- en: As noted in [Equation (16.4)](ch16.xhtml#ch16eq4), any Poisson distribution
    depends upon the specification of a single parameter, denoted here with *λ*[p].
    This parameter describes the mean number of occurrences, which impacts the overall
    shape of the mass function, as shown in [Figure 16-2](ch16.xhtml#ch16fig2).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 如[方程式 (16.4)](ch16.xhtml#ch16eq4)所示，任何泊松分布都依赖于单个参数的指定，这里用 *λ*[p] 表示。这个参数描述了事件发生的均值数量，它影响了质量函数的整体形状，如[图16-2](ch16.xhtml#ch16fig2)所示。
- en: '![image](../images/f16-02.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-02.jpg)'
- en: '*Figure 16-2: Three examples of the Poisson probability mass function, plotted
    for 0* ≤ x ≤ *30\. The “expected count” parameter* *λ*[p] *is altered from 3.00
    (left) to 6.89 (middle) and to 17.20 (right).*'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-2：泊松概率质量函数的三个示例，绘制了 0* ≤ x ≤ *30* 的范围。 “期望计数”参数 *λ*[p] 从3.00（左）到6.89（中间）再到17.20（右）。*'
- en: Again, it’s worth noting that the total probability mass over all possible outcomes
    is 1, no matter what the value of *λ*[p] is and regardless of the fact that possible
    outcomes can, technically, range from 0 to infinity.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 再次需要注意的是，无论 *λ*[p] 的值是多少，总概率质量在所有可能的结果上加和为1，并且尽管可能的结果理论上可以从0到无限，但这一点始终成立。
- en: By definition, it’s easy to understand why the mean of *X*, *μ[X]*, is equal
    to *λ*[p]; in fact, it turns out that the variance of a Poisson distributed random
    variable is also equal to *λ*[p].
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 根据定义，容易理解为什么 *X* 的均值 *μ[X]* 等于 *λ*[p]；实际上，事实证明，泊松分布随机变量的方差也等于 *λ*[p]。
- en: Consider the example of blemishes on 1-foot-square sheets of metal coming off
    a production line, mentioned in the opening of this section. Suppose you’re told
    that the number of blemishes found, *X*, is thought to follow a Poisson distribution
    with *λ*[p] = 3.22, as in *X* ∼ POIS(3.22). In other words, you’d expect to see
    an average of 3.22 blemishes on your 1-foot sheets.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑本节开头提到的金属生产线上每平方英尺的缺陷示例。假设你被告知，发现的缺陷数量 *X* 预计遵循泊松分布，且 *λ*[p] = 3.22，即 *X*
    ∼ POIS(3.22)。换句话说，你期望在每个1平方英尺的金属片上看到平均3.22个缺陷。
- en: '**The dpois and ppois Functions**'
  id: totrans-112
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**dpois 和 ppois 函数**'
- en: 'The R `dpois` function provides the individual Poisson mass function probabilities
    Pr(*X* = *x*) for the Poisson distribution. The `ppois` function provides the
    left cumulative probabilities, as in Pr(*X* ≤ *x*). Consider the following lines
    of code:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: R 中的 `dpois` 函数提供了泊松分布的单个质量函数概率 Pr(*X* = *x*)。`ppois` 函数提供左侧累积分布概率，如 Pr(*X*
    ≤ *x*)。请参考以下代码行：
- en: '[PRE10]'
  id: totrans-114
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'The first call finds that Pr(*X* = 3) = 0.22 (to 2 d.p.); in other words, the
    probability that you observe exactly three blemishes on a randomly selected piece
    of sheet metal is equal to about 0.22\. The second call indicates a less than
    4 percent chance that the piece is flawless. The third line returns a rounded
    version of the relevant mass function for the values 0 ≤ *x* ≤ 10\. By hand you
    can confirm the first result like this:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次调用结果表明 Pr(*X* = 3) = 0.22（保留两位小数）；换句话说，观察到在随机选择的金属片上有恰好三个缺陷的概率约为 0.22。第二次调用表示该金属片没有缺陷的概率小于
    4%。第三行返回了相关质量函数的一个近似值，适用于 0 ≤ *x* ≤ 10。你可以手动确认第一个结果，方法如下：
- en: '[PRE11]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'You create a visualization of the mass function with the following:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 你通过以下方法创建质量函数的可视化：
- en: '[PRE12]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This is shown on the left of [Figure 16-3](ch16.xhtml#ch16fig3).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 这显示在[图 16-3](ch16.xhtml#ch16fig3)的左侧。
- en: '![image](../images/f16-03.jpg)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-03.jpg)'
- en: '*Figure 16-3: The Poisson probability mass function (left) and cumulative distribution
    function (right) for* *λ[p] = 3.22 plotted for the integers 0* ≤ x ≤ *10, with
    reference to the sheet metal example*'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 16-3：泊松概率质量函数（左侧）和累积分布函数（右侧），对于* *λ[p] = 3.22* 在整数 0 ≤ x ≤ *10 范围内的绘图，参考金属片示例*'
- en: To calculate cumulative results, you use `ppois`.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 要计算累积结果，你可以使用 `ppois`。
- en: '[PRE13]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: These lines find that the probability you observe at most two imperfections,
    Pr(*X* ≤ 2), is about 0.38, and the probability you observe strictly more than
    five blemishes, Pr(*X* ≥ 6), is roughly 0.11.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这些行的结果显示，观察到至多两个缺陷的概率 Pr(*X* ≤ 2) 约为 0.38，观察到严格超过五个缺陷的概率 Pr(*X* ≥ 6) 约为 0.11。
- en: 'A visualization of the cumulative mass function is given on the right of [Figure
    16-3](ch16.xhtml#ch16fig3), created with the following:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 累积质量函数的可视化展示在右侧的[图 16-3](ch16.xhtml#ch16fig3)，通过以下方法创建：
- en: '[PRE14]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: '**The qpois Function**'
  id: totrans-127
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**qpois 函数**'
- en: The `q`-function for the Poisson distribution, `qpois`, provides the inverse
    of `ppois`, in the same way as `qbinom` in [Section 16.1.2](ch16.xhtml#ch16lev2sec138)
    provides the inverse of `pbinom`.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 泊松分布的 `q` 函数 `qpois` 提供了 `ppois` 的逆函数，类似于[第 16.1.2 节](ch16.xhtml#ch16lev2sec138)中的
    `qbinom` 提供了 `pbinom` 的逆函数。
- en: '**The rpois Function**'
  id: totrans-129
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**rpois 函数**'
- en: To produce random variates, you use `rpois`; you supply the number of variates
    you want as `n` and supply the all-important parameter as `lambda`. You can imagine
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 要生成随机变量，你可以使用 `rpois`；你需要提供想要生成的变量数 `n`，并且提供重要的参数 `lambda`。你可以想象
- en: '[PRE15]'
  id: totrans-131
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: as selecting fifteen 1-foot-square metal sheets from the production line at
    random and counting the number of blemishes on each. Note again that this is random
    generation; your specific results are likely to vary.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 就像从生产线上随机选择 15 个 1 平方英尺的金属片，并统计每片上的缺陷数一样。再次强调，这属于随机生成；你的具体结果可能会有所不同。
- en: '**Exercise 16.2**'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 16.2**'
- en: Every Saturday, at the same time, an individual stands by the side of a road
    and tallies the number of cars going by within a 120-minute window. Based on previous
    knowledge, she believes that the mean number of cars going by during this time
    is exactly 107\. Let *X* represent the appropriate Poisson random variable of
    the number of cars passing her position in each Saturday session.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 每个周六，在同一时间，一个人站在路边，记录 120 分钟内经过的车辆数。根据先前的知识，她认为在这段时间内经过的车辆平均数量正好是 107。让 *X*
    代表每周六观察到的通过她位置的车辆数的泊松随机变量。
- en: What is the probability that more than 100 cars pass her on any given Saturday?
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在任何一个周六，超过 100 辆车经过她的概率是多少？
- en: Determine the probability that no cars pass.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算没有车经过的概率。
- en: Plot the relevant Poisson mass function over the values in 60 ≤ *x* ≤ 150.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制 60 ≤ *x* ≤ 150 范围内相关的泊松质量函数。
- en: Simulate 260 results from this distribution (about five years of weekly Saturday
    monitoring sessions). Plot the simulated results using `hist`; use `xlim` to set
    the horizontal limits from 60 to 150\. Compare your histogram to the shape of
    your mass function from (c).
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从该分布中模拟 260 个结果（大约五年的每周六监测数据）。使用 `hist` 绘制模拟结果；使用 `xlim` 设置横坐标范围为 60 到 150。将你的直方图与（c）部分的质量函数形状进行比较。
- en: '***16.1.4 Other Mass Functions***'
  id: totrans-139
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.1.4 其他质量函数***'
- en: 'There are many other well-defined probability mass functions in R’s built-in
    suite of statistical calculations. All model a discrete random variable in a certain
    way under certain conditions and are defined with at least one parameter, and
    most are represented by their own set of `d`-, `p`-, `q`-, and `r`-functions.
    Here I summarize a few more:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在R内置的统计计算套件中，还有许多其他明确定义的概率质量函数。它们在某些条件下以特定方式对离散随机变量建模，并且至少定义一个参数，且大多数都有自己的`d`-、`p`-、`q`-和`r`-函数。这里我总结了更多的函数：
- en: • The *geometric* distribution counts the number of failures before a success
    is recorded and is dependent on a “probability of success parameter” `prob`. Its
    functions are `dgeom`, `pgeom`, `qgeom`, and `rgeom`.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: • *几何*分布统计在成功发生之前失败的次数，并依赖于一个“成功概率参数”`prob`。其函数为`dgeom`、`pgeom`、`qgeom`和`rgeom`。
- en: • The *negative binomial* distribution is a generalization of the geometric
    distribution, dependent upon parameters `size` (number of trials) and `prob`.
    Its functions are `dnbinom`, `pnbinom`, `qnbinom`, and `rnbinom`.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: • *负二项*分布是几何分布的推广，依赖于参数`size`（试验次数）和`prob`。其函数为`dnbinom`、`pnbinom`、`qnbinom`和`rnbinom`。
- en: • The *hypergeometric* distribution is used to model sampling without replacement
    (in other words, a “success” can change the probabilities associated with further
    successes), dependent upon parameters `m`, `n`, and `k` describing the nature
    of sampled items. Its functions are `dhyper`, `phyper`, `qhyper`, and `rhyper`.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: • *超几何*分布用于建模不放回抽样（换句话说，某次“成功”会改变之后成功的概率），依赖于描述样本项目性质的参数`m`、`n`和`k`。其函数为`dhyper`、`phyper`、`qhyper`和`rhyper`。
- en: • The *multinomial* distribution is a generalization of the binomial, where
    a success can occur in one of multiple categories at each trial, with parameters
    `size` and `prob` (this time, `prob` must be a vector of probabilities corresponding
    to the multiple categories). Its built-in functions are limited to `dmultinom`
    and `rmultinom`.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: • *多项式*分布是二项分布的推广，在每次试验中，成功可以出现在多个类别中的任何一个，其参数为`size`和`prob`（这时，`prob`必须是一个概率向量，表示多个类别的概率）。其内置函数仅限于`dmultinom`和`rmultinom`。
- en: As noted earlier, some familiar probability distributions are just simplifications
    or special cases of functions that describe a more general class of distributions.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，一些常见的概率分布只是描述更一般类别分布函数的简化版或特例。
- en: '**16.2 Common Probability Density Functions**'
  id: totrans-146
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**16.2 常见概率密度函数**'
- en: When considering continuous random variables, you need to deal with probability
    density functions. There are a number of common continuous probability distributions
    frequently used over many different types of problems. In this section, you’ll
    be familiarized with some of these and R’s accompanying `d`-, `p`-, `q`-, and
    `r`-functions.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在考虑连续随机变量时，您需要处理概率密度函数。有许多常见的连续概率分布，通常用于各种不同类型的问题。在这一节中，您将了解其中一些分布及其在R中的`d`-、`p`-、`q`-和`r`-函数。
- en: '***16.2.1 Uniform***'
  id: totrans-148
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.2.1 均匀分布***'
- en: The *uniform* distribution is a simple density function that describes a continuous
    random variable whose interval of possible values offers no fluctuations in probability.
    This will become clear in a moment when you plot [Figure 16-4](ch16.xhtml#ch16fig4).
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: '*均匀*分布是一个简单的密度函数，用于描述一个连续的随机变量，其可能值的区间内，概率没有波动。稍后在绘制[图16-4](ch16.xhtml#ch16fig4)时，这一点会变得更加清晰。'
- en: '![image](../images/f16-04.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-04.jpg)'
- en: '*Figure 16-4: Two uniform distributions plotted on the same scale for comparability.
    Left:* X ∼ *UNIF(*−*0.4,1.1); right:* X ∼ *UNIF(0.223,0.410). The total area underneath
    each density function is, as always, 1.*'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-4：为了便于比较，将两个均匀分布绘制在相同的尺度上。左：* X ∼ *UNIF(*−*0.4,1.1)；右：* X ∼ *UNIF(0.223,0.410)。每个密度函数下方的总面积，和往常一样，都是1。*'
- en: For a continuous random variable *a* ≤ *X* ≤ *b*, the uniform density function
    *f* is
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 对于连续随机变量*a* ≤ *X* ≤ *b*，均匀密度函数*f*为：
- en: '![image](../images/e16-5.jpg)'
  id: totrans-153
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-5.jpg)'
- en: where *a* and *b* are parameters of the distribution defining the limits of
    the possible values *X* can take. The notation
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*a*和*b*是定义分布可能取值区间的参数。记法：
- en: '*X* ∼ UNIF(*a*, *b*)'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* ∼ UNIF(*a*, *b*)'
- en: is often used to indicate that “*X* follows a uniform distribution with limits
    *a* and *b*.”
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 通常用来表示“*X*服从一个均匀分布，区间为*a*和*b*”。
- en: 'The following are the key points to remember:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要记住的关键点：
- en: • *X* can take any value in the interval bounded by *a* and *b*.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: • *X*可以取*a*和*b*之间区间中的任何值。
- en: • *a* and *b* can be any values, provided that *a* < *b*, and they represent
    the lower and upper limits, respectively, of the interval of possible values.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: • *a*和*b*可以是任何值，只要*a* < *b*，它们分别表示可能值区间的下限和上限。
- en: 'The mean and variance are as follows:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和方差如下：
- en: '![image](../images/f0343-01.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0343-01.jpg)'
- en: For the more complicated densities in this section, it’s especially useful to
    visualize the functions in order to understand the probabilistic structure associated
    with a continuous random variable. For the uniform distribution, given [Equation
    (16.5)](ch16.xhtml#ch16eq5), you can recognize the two different uniform distributions
    shown in [Figure 16-4](ch16.xhtml#ch16fig4). I’ll provide the code to produce
    these types of plots shortly.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本节中的更复杂的密度函数，特别是为了理解与连续随机变量相关的概率结构，形象地展示这些函数非常有用。对于均匀分布，考虑[方程（16.5）](ch16.xhtml#ch16eq5)，你可以识别出[图16-4](ch16.xhtml#ch16fig4)中显示的两种不同的均匀分布。我会很快提供生成这些类型图形的代码。
- en: 'For the left plot in [Figure 16-4](ch16.xhtml#ch16fig4), you can confirm the
    exact height of the *X* ∼ UNIF(−0.4,1.1) density by hand: ![image](../images/f0344-01.jpg).
    For the plot on the right, based on *X* ∼ UNIF(0.223,0.410), you can use R to
    find that its height is roughly 5.35.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 对于[图16-4](ch16.xhtml#ch16fig4)中的左图，你可以手动确认*X* ∼ UNIF(−0.4,1.1)密度的确切高度：![image](../images/f0344-01.jpg)。对于右图，基于*X*
    ∼ UNIF(0.223,0.410)，你可以使用R来发现它的高度大约是5.35。
- en: '[PRE16]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: '**The dunif Function**'
  id: totrans-165
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**dunif函数**'
- en: You can use the built-in `d`-function for the uniform distribution, `dunif`,
    to return these heights for any value within the defined interval. The `dunif`
    command returns zero for values outside of the interval. The parameters of the
    distribution, *a* and *b*, are provided as the arguments `min` and `max`, respectively.
    For example, the line
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用内置的均匀分布`d`函数`dunif`来返回定义区间内任何值的高度。`dunif`命令对于区间外的值返回零。分布的参数，*a*和*b*，分别作为`min`和`max`的参数提供。例如，下面这一行
- en: '[PRE17]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: evaluates the uniform density function of *X* ∼ UNIF(−0.4,1.1) at the values
    given in the vector passed to `x`. You’ll notice that the first and last values
    fall outside the bounds defined by `min` and `max`, and so they are zero. All
    others evaluate to the height value of ![image](../images/2by3.jpg), as previously
    calculated.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在传递给`x`的向量中评估*X* ∼ UNIF(−0.4,1.1)的均匀密度函数。你会注意到，第一个和最后一个值超出了`min`和`max`定义的范围，因此它们的值为零。其他所有值的高度为![image](../images/2by3.jpg)，如之前计算的那样。
- en: As a second example, the line
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 作为第二个例子，下面这一行
- en: '[PRE18]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: confirms the correct density values for the *X* ∼ UNIF(0.223,0.410) distribution,
    with the second value, zero, falling outside the defined interval.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 确认了*X* ∼ UNIF(0.223,0.410)分布的正确密度值，第二个值零，超出了定义的区间。
- en: This most recent example in particular should remind you that probability density
    functions for continuous random variables, unlike mass functions for discrete
    variables, *do not* directly provide probabilities, as mentioned in [Section 15.2.3](ch15.xhtml#ch15lev2sec135).
    In other words, the results just returned by `dunif` represent the respective
    density functions themselves and not any notion of chance attached to the specific
    values of *x* at which they were evaluated.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 尤其是这个最新的例子应该提醒你，连续随机变量的概率密度函数与离散变量的质量函数不同，*并不*直接提供概率，正如在[第15.2.3节](ch15.xhtml#ch15lev2sec135)中提到的。换句话说，`dunif`返回的结果仅代表各自的密度函数本身，而不是与它们评估的特定*x*值相关的概率。
- en: 'To calculate some probabilities based on the uniform density function, use
    the example of a faulty drill press. In a woodworker’s shop, imagine there’s a
    drill press that cannot keep to a constant alignment when in use; instead, it
    randomly hits the intended target at up to 0.4 cm to the left or 1.1 cm to the
    right. Let the random variable *X* ∼ UNIF(−0.4,1.1) represent where the drill
    hits the material relative to the target at 0\. [Figure 16-5](ch16.xhtml#ch16fig5)
    replots the left image of [Figure 16-4](ch16.xhtml#ch16fig4) on a more detailed
    scale. You have three versions, each marking off a different area under the density
    function: Pr(*X* ≤ −0.21), Pr(−0.21 ≤ *X* ≤ 0.6), and Pr(*X* ≥ 0.6).'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 要基于均匀密度函数计算一些概率，可以使用一个故障钻孔机的例子。在一个木工车间，假设有一台钻孔机在使用时无法保持恒定对准；相反，它会随机地在目标左偏最多0.4厘米或右偏最多1.1厘米的地方打击目标。让随机变量
    *X* ∼ UNIF(−0.4,1.1) 表示钻孔机相对于目标的位置。 [图16-5](ch16.xhtml#ch16fig5)在更精细的尺度上重新绘制了[图16-4](ch16.xhtml#ch16fig4)中的左图。你有三种版本，每个版本都在密度函数下标出不同的区域：Pr(*X*
    ≤ −0.21)、Pr(−0.21 ≤ *X* ≤ 0.6) 和 Pr(*X* ≥ 0.6)。
- en: '![image](../images/f16-05.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-05.jpg)'
- en: '*Figure 16-5: Three areas underneath the* X ∼ *UNIF(*−*0.4,1.1) density function
    for the drill press example. Left: Pr(*X ≤ −*0.21); middle: Pr(*−*0.21* ≤ X ≤
    *0.6); right: Pr(*X ≥ *0.6).*'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-5：钻孔机示例下X ∼ UNIF(−0.4,1.1)密度函数下的三个区域。左：Pr(*X ≤ −0.21*)；中：Pr(*−0.21* ≤
    *X* ≤ *0.6*)；右：Pr(*X ≥ 0.6*)。*'
- en: 'These plots are created using the coordinate-based plotting skills covered
    in [Chapter 7](ch07.xhtml#ch07). The density itself is presented with the following:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 这些图是使用[第7章](ch07.xhtml#ch07)中介绍的基于坐标的绘图技巧创建的。密度本身通过以下方式呈现：
- en: '[PRE19]'
  id: totrans-177
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: You can use much of the same code to produce the plots in [Figure 16-4](ch16.xhtml#ch16fig4)
    by modifying the `xlim` and `ylim` arguments to adjust the scale of the axes.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用相同的代码来生成[图16-4](ch16.xhtml#ch16fig4)中的图，只需修改`xlim`和`ylim`参数以调整坐标轴的刻度。
- en: You add the vertical lines denoting *f* (−0.21) and *f* (0.6) in [Figure 16-5](ch16.xhtml#ch16fig5)
    with another call to `segments`.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 你在[图16-5](ch16.xhtml#ch16fig5)中添加了表示 *f* (−0.21) 和 *f* (0.6) 的垂直线，使用了另一次`segments`调用。
- en: '[PRE20]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'Finally, you can shade the areas using the `polygon` function, which was first
    explored in [Section 15.2.3](ch15.xhtml#ch15lev2sec135). For example, in the leftmost
    plot in [Figure 16-5](ch16.xhtml#ch16fig5), use the previous plotting code followed
    by this:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以使用`polygon`函数来为区域上色，该函数最早在[第15.2.3节](ch15.xhtml#ch15lev2sec135)中进行探讨。例如，在[图16-5](ch16.xhtml#ch16fig5)中的最左边的图中，使用前面的绘图代码，后跟以下内容：
- en: '[PRE21]'
  id: totrans-182
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: As mentioned earlier, the three shaded areas in [Figure 16-5](ch16.xhtml#ch16fig5)
    represent, from left to right, Pr(*X* < −0.21), Pr(−0.21 < *X* < 0.6), and Pr(*X*
    > 0.6), respectively. In terms of the drill press example, you can interpret these
    as the probability that the drill hits the target 0.21 cm to the left or more,
    the probability that the drill hits the target between 0.21 cm to the left and
    0.6 cm to the right, and the probability that the drill hits the target 0.6 cm
    to the right or more, respectively. (Remember from [Section 15.2.3](ch15.xhtml#ch15lev2sec135)
    that it makes no difference if you use ≤ or < (or ≥ or >) for probabilities associated
    with continuous random variables.) Though you could evaluate these probabilities
    geometrically for such a simple density function, it’s still faster to use R.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，[图16-5](ch16.xhtml#ch16fig5)中的三个阴影区域分别代表从左到右的Pr(*X* < −0.21)、Pr(−0.21 <
    *X* < 0.6)和Pr(*X* > 0.6)。就钻孔机的例子而言，你可以将它们解释为：钻孔机命中目标的概率在左偏0.21厘米或更多，钻孔机命中目标的概率在左偏0.21厘米到右偏0.6厘米之间，和钻孔机命中目标的概率在右偏0.6厘米或更多。（记住，在[第15.2.3节](ch15.xhtml#ch15lev2sec135)中提到，对于连续随机变量，使用
    ≤ 或 <（或 ≥ 或 >）对概率没有影响。）尽管你可以通过几何方法计算这些概率来应对如此简单的密度函数，但使用R来计算更快。
- en: '**The punif Function**'
  id: totrans-184
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**punif函数**'
- en: Remember that probabilities associated with continuous random variables are
    defined as *areas under the function*, and therefore your study focuses on the
    appropriate intervals of *X* rather than any specific value. The `p`-function
    for densities, just like the `p`-function for discrete random variables, provides
    the cumulative probability distribution Pr(*X* ≤ *x*). In the context of the uniform
    density, this means that given a specific value of *x* (supplied as a “quantile”
    argument `q`), `punif` will provide the left-directional area underneath the function
    from that specific value.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，连续随机变量相关的概率是通过*函数下的面积*来定义的，因此你的研究集中在 *X* 的适当区间，而不是任何特定的数值。密度的 `p`-函数，和离散随机变量的
    `p`-函数一样，提供了累积概率分布 Pr(*X* ≤ *x*)。在均匀密度的上下文中，这意味着给定一个特定的 *x* 值（作为“分位数”参数 `q` 提供），`punif`
    将提供从该特定值开始的函数下的左侧区域。
- en: Accessing `punif`, the line
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 `punif`，该行
- en: '[PRE22]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: tells you that the leftmost area in [Figure 16-5](ch16.xhtml#ch16fig5) represents
    a probability of about 0.127\. The line
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 告诉你，[图 16-5](ch16.xhtml#ch16fig5) 中最左侧的区域代表大约 0.127 的概率。该线
- en: '[PRE23]'
  id: totrans-189
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: tells you that ![image](../images/f0346-01.jpg). The final result for Pr(−0.21
    < *X* < 0.6), giving a 54 percent chance, is found with
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 告诉你 ![image](../images/f0346-01.jpg)。最终结果 Pr(−0.21 < *X* < 0.6)，即 54% 的概率，通过以下公式得到：
- en: '[PRE24]'
  id: totrans-191
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: since the first call provides the area under the density from 0.6 all the way
    left and the second call provides the area from −0.21 all the way left. Therefore,
    this difference is the middle area as defined.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 由于第一次调用提供的是从 0.6 开始向左的密度下的面积，而第二次调用提供的是从 −0.21 开始向左的面积。因此，这个差值即为定义中的中间面积。
- en: It’s essential to be able to manipulate cumulative probability results like
    this when working with probability distributions in R, and the beginner might
    find it useful to sketch out the desired area before using `p`-functions, especially
    with respect to density functions.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用 R 处理概率分布时，能够操作累积概率结果是非常重要的，初学者可能会觉得在使用 `p`-函数之前，特别是在处理密度函数时，绘制出所需的区域会很有帮助。
- en: '**The qunif Function**'
  id: totrans-194
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**qunif 函数**'
- en: The `q`-functions for densities are used more often than they are for mass functions
    because the continuous nature of the variable means that a unique quantile value
    can be found for any valid probability `p`.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 密度的 `q`-函数比质量函数使用得更多，因为变量的连续性意味着可以为任何有效的概率 `p` 找到唯一的分位数值。
- en: 'The `qunif` function is the inverse of `punif`:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '`qunif` 函数是 `punif` 的逆函数：'
- en: '[PRE25]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: These lines confirm the values of *X* used earlier to get the lower- and upper-tail
    probabilities Pr(*X* < −0.21) and Pr(*X* > 0.6), respectively. Any `q`-function
    expects a *cumulative* (in other words, left-hand) probability as its first argument,
    which is why you need to supply `1-1/3` in the second line to recover `0.6`. (The
    total area is 1\. You know that you want the area to the *right* of 0.6 to be
    ![image](../images/1by3.jpg); thus, the area on the left must be ![image](../images/f0347-01.jpg).)
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这些行确认了之前用来获取下尾和上尾概率 Pr(*X* < −0.21) 和 Pr(*X* > 0.6) 的 *X* 值。任何 `q`-函数都期待一个*累积*（换句话说，左侧）概率作为它的第一个参数，这就是为什么你需要在第二行提供
    `1-1/3` 来恢复 `0.6` 的原因。（总面积为 1。你知道你想要的是 0.6 右侧的区域！[image](../images/1by3.jpg)；因此，左侧的区域必须是
    ![image](../images/f0347-01.jpg)。）
- en: '**The runif Function**'
  id: totrans-199
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**runif 函数**'
- en: Lastly, to generate random realizations of a specific uniform distribution,
    you use `runif`. Let’s say the woodworker drills 10 separate holes using the faulty
    press; you can simulate one instance of the position of each of these holes relative
    to their target with the following call.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了生成特定均匀分布的随机实现，你可以使用 `runif`。假设木工使用故障的压机钻了 10 个独立的孔；你可以通过以下调用来模拟每个孔相对于其目标的位置的一个实例。
- en: '[PRE26]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Again, note that the specific values of `r`-function calls like `runif` will
    be different each time they are run.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 再次提醒，像 `runif` 这样的 `r`-函数的具体值每次运行时都会不同。
- en: '**Exercise 16.3**'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 16.3**'
- en: You visit a national park and are informed that the height of a certain species
    of tree found in the forest is uniformly distributed between 3 and 70 feet.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 你参观了一个国家公园，并被告知，森林中某种树木的高度在 3 到 70 英尺之间均匀分布。
- en: What is the probability you encounter a tree shorter than ![image](../images/f0347-02.jpg)
    feet?
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 遇到一棵比 ![image](../images/f0347-02.jpg) 英尺更矮的树的概率是多少？
- en: For this probability density function, what is the height that marks the cutoff
    point of the tallest 15 percent of trees?
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于这个概率密度函数，标志着最高 15% 树木的分界点的高度是多少？
- en: Evaluate the mean and standard deviation of the tree height distribution.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算树高分布的均值和标准差。
- en: Using (c), confirm that the chance that you encounter a tree with a height that
    is within half a standard deviation (that is, below or above) of the mean height
    is roughly 28.9 percent.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用（c），确认树高在均值的半个标准差范围内（即高于或低于）出现的概率大约为 28.9%。
- en: At what height is the density function itself? Show it in a plot.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 密度函数本身的高度是多少？请在图中显示它。
- en: Simulate 10 observed tree heights. Based on these data, use `quantile` (refer
    to [Section 13.2.3](ch13.xhtml#ch13lev2sec118)) to estimate the answer you arrived
    at in (b). Repeat your simulation, this time generating 1,000 variates, and estimate
    (b) again. Do this a handful of times, taking a mental note of your two estimates
    each time. Overall, what do you notice of your two estimates (one based on 10
    variates at a time and the other based on 1,000) with respect to the “true” value
    in (b)?
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模拟 10 个观察到的树高。根据这些数据，使用 `quantile`（参考[第 13.2.3 节](ch13.xhtml#ch13lev2sec118)）估计你在（b）中得到的答案。重复你的模拟，这次生成
    1,000 个随机变量，再次估计（b）。做几次这个实验，每次都记录下你的两个估计值（一个基于 10 个随机变量，另一个基于 1,000 个）。总的来说，你会注意到你两个估计值（一个基于
    10 个随机变量，一个基于 1,000 个随机变量）与（b）中的“真实”值之间有什么不同吗？
- en: '***16.2.2 Normal***'
  id: totrans-211
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.2.2 正态分布***'
- en: The *normal distribution* is one of the most well-known and commonly applied
    probability distributions in modeling continuous random variables. Characterized
    by a distinctive “bell-shaped” curve, it’s also referred to as the *Gaussian*
    distribution.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '*正态分布* 是建模连续随机变量时最著名和最常用的概率分布之一。它的特点是具有独特的“钟形”曲线，也叫做 *高斯* 分布。'
- en: For a continuous random variable −∞ < *X* < ∞, the normal density function *f*
    is
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 对于连续随机变量 −∞ < *X* < ∞，正态密度函数 *f* 为
- en: '![image](../images/e16-6.jpg)'
  id: totrans-214
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-6.jpg)'
- en: where *μ* and *σ* are parameters of the distribution, *π* is the familiar geometric
    value 3.1415 ..., and exp{·} is the exponential function (refer to [Section 2.1.2](ch02.xhtml#ch02lev2sec18)).
    The notation
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 其中 *μ* 和 *σ* 是分布的参数，*π* 是熟悉的几何常数 3.1415 ...，而 exp{·} 是指数函数（参考[第 2.1.2 节](ch02.xhtml#ch02lev2sec18)）。该符号
- en: '*X* ∼ N(*μ*, *σ*)'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* ∼ N(*μ*, *σ*)'
- en: is often used to indicate that “*X* follows a normal distribution with mean
    *μ* and standard deviation *σ*.”
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 常用来表示“*X* 服从均值为 *μ* 和标准差为 *σ* 的正态分布”。
- en: 'The following are the key points to remember:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要记住的关键点：
- en: • Theoretically, *X* can take any value from −∞ to ∞.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: • 理论上，*X* 可以取从 −∞ 到 ∞ 的任何值。
- en: • As hinted at earlier, the parameters *μ* and *σ* directly describe the mean
    and the standard deviation of the distribution, with the square of the latter,
    *σ*², being the variance.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: • 如前所述，参数 *μ* 和 *σ* 直接描述了分布的均值和标准差，后者的平方，*σ*²，就是方差。
- en: • In practice, the mean parameter is finite −∞ < *μ* < ∞, and the standard deviation
    parameter is strictly positive and finite 0 < *σ* < ∞.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: • 在实际应用中，均值参数是有限的 −∞ < *μ* < ∞，标准差参数严格为正且有限 0 < *σ* < ∞。
- en: • If you have a random variable *X* ∼ N(*μ*, *σ*), then you can create a new
    random variable *Z* = (*X* − *μ*)/σ, which means *Z* ∼ N(0,1). This is known as
    *standardization* of *X*.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: • 如果你有一个随机变量 *X* ∼ N(*μ*, *σ*)，那么你可以创建一个新的随机变量 *Z* = (*X* − *μ*)/σ，这意味着 *Z*
    ∼ N(0,1)。这被称为 *标准化* *X*。
- en: The two parameters noted earlier fully define a particular normal distribution.
    These are always perfectly symmetric, unimodal, and centered on the mean *μ*,
    and they have a degree of “spread” defined using the standard deviation *σ*.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 之前提到的两个参数完全定义了一个特定的正态分布。这些分布总是完美对称的，单峰的，并且以均值 *μ* 为中心，具有通过标准差 *σ* 定义的“扩展”程度。
- en: The top image of [Figure 16-6](ch16.xhtml#ch16fig6) provides the density functions
    for four specific normal distributions. You can see that altering the mean results
    in a translation, where the center of the distribution is simply shifted to sit
    on the specific value of *μ*. The effect of a smaller standard deviation is to
    reduce the spread, resulting in a taller, skinnier appearance of the density.
    Increasing *σ* flattens the density out around the mean.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 16-6](ch16.xhtml#ch16fig6) 的顶部图像展示了四个特定正态分布的密度函数。你可以看到，改变均值会导致分布的平移，其中分布的中心只是简单地移到
    *μ* 的特定值上。较小的标准差的效果是减少分布的扩展，导致密度曲线变得更高、更窄。增加 *σ* 会使密度曲线在均值周围变平。'
- en: The bottom image zooms in on the N(0,1) distribution when you have a normal
    density centered on *μ* = 0 and with a standard deviation of *σ* = 1\. This distribution,
    known as the *standard normal*, is frequently used as a standard reference to
    compare different normally distributed random variables with one another on the
    same scale of probabilities. It’s common practice to rescale, or *standardize*,
    some variable *X* ∼ N(*μ[X]* ,σ[*X*]) to a new variable *Z* such that *Z* ∼ N(0,1)
    (you’ll see this practiced in [Chapter 18](ch18.xhtml#ch18)). Vertical lines in
    the plot show plus or minus one, two, and three times the standard deviation away
    from the mean of zero. This serves to highlight the fact that for *any* normal
    distribution, a probability of exactly 0.5 lies either above or below the mean.
    Furthermore, note that there’s a probability of approximately 0.683 of a value
    falling within one standard deviation of the mean, approximately 0.954 probability
    under the curve from −2*σ* to +2σ, and approximately 0.997 probability between
    −3*σ* and +3σ.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 底部的图像聚焦于 N(0,1) 分布，这时你有一个均值为 *μ* = 0，标准差为 *σ* = 1 的正态密度分布。这个分布被称为 *标准正态分布*，常作为标准参考，用来比较不同的正态分布随机变量。通常会将某个变量
    *X* ∼ N(*μ[X]*,σ[*X*]) 重新标定或 *标准化* 为一个新的变量 *Z*，使得 *Z* ∼ N(0,1)（你将在 [第18章](ch18.xhtml#ch18)
    中看到这一应用）。图中的垂直线表示均值零上下 1、2、3 倍标准差的值。这有助于突出显示，对于 *任何* 正态分布，精确的 0.5 概率位于均值的上方或下方。此外，注意到，数据落在均值一个标准差以内的概率大约是
    0.683，落在从 −2*σ* 到 +2*σ* 的曲线下的概率约为 0.954，落在 −3*σ* 到 +3*σ* 之间的概率约为 0.997。
- en: '![image](../images/f16-06.jpg)'
  id: totrans-226
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-06.jpg)'
- en: '*Figure 16-6: Illustrating the normal distribution. Top: Four different instances
    of the density achieved by varying the mean* *μ* *and standard deviation* *σ.
    Bottom: The “standard normal” distribution, N(0,1), marking off the mean* ±*1*σ,
    ±*2*σ*, and* ±*3*σ.'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-6：正态分布示意图。上图：通过改变均值 *μ* 和标准差 *σ* 得到的四种不同的密度情况。下图：标准正态分布 N(0,1)，标出均值 *±1*σ,
    *±2*σ*, 和 *±3*σ*。'
- en: '**NOTE**'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*The mathematical definition of the normal density means that as you move further
    away from the mean, the value of the density function itself will approach zero.
    In actual fact, any normal density function never actually touches the horizontal
    line at zero; it just gets closer and closer as you move to positive or negative
    infinity. This behavior is formally referred to as* asymptotic*; in this case,
    you’d say that the normal distribution f* (*x*) *has a* horizontal asymptote *at
    f* (*x*) *= 0\. In discussing probabilities as areas under the curve, you’d refer
    to the fact that “the total area under the curve from negative to positive infinity”
    is 1, in other words, ![image](../images/f0349-01.jpg).*'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '*正态密度的数学定义意味着，当你离均值越来越远时，密度函数的值会趋近于零。实际上，任何正态密度函数都永远不会真正触及零的水平线；它只是随着向正无穷或负无穷移动而越来越接近零。这种行为正式被称为*
    渐近性*；在这种情况下，你可以说正态分布 f* (*x*) *在 f* (*x*) *= 0* 处有一个水平渐近线。讨论概率作为曲线下的面积时，你可以提到“从负无穷到正无穷曲线下的总面积”是
    1，换句话说，![image](../images/f0349-01.jpg)。*'
- en: '**The dnorm Function**'
  id: totrans-230
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**dnorm函数**'
- en: Being a probability density function, the `dnorm` function itself doesn’t provide
    probabilities—merely the value of the desired normal function curve *f* (*x*)
    at any *x*. To plot a normal density, you’d therefore be able to use `seq` (refer
    to [Section 2.3.2](ch02.xhtml#ch02lev2sec21)) to create a fine sequence of values
    for *x*, evaluate the density at these values with `dnorm`, and then plot the
    result as a line. For example, to produce an image of the standard normal distribution
    curve similar to that in the bottom image of [Figure 16-6](ch16.xhtml#ch16fig6),
    the following code will create the desired *x* values as `xvals`.
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个概率密度函数，`dnorm` 函数本身并不提供概率——它仅仅提供所需正态函数曲线 *f* (*x*) 在任意 *x* 点的值。因此，为了绘制正态密度图，你可以使用
    `seq`（参见 [第2.3.2节](ch02.xhtml#ch02lev2sec21)）创建一系列细致的 *x* 值，通过 `dnorm` 在这些值处评估密度，然后将结果绘制成一条曲线。例如，为了生成与
    [图16-6](ch16.xhtml#ch16fig6) 底部图像类似的标准正态分布曲线，以下代码将生成所需的 *x* 值，保存在 `xvals` 中。
- en: '[PRE27]'
  id: totrans-232
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Then `dnorm`, which includes specification of *μ* as `mean` and *σ* as `sigma`,
    produces the precise values of *f*(*x*) at those `xvals`. Finally, a call such
    as `plot(xvals,fx,type="l")` achieves the bare bones of a density plot, which
    you can easily enhance by adding titles and using commands such as `abline` and
    `segments` to mark locations off (I’ll produce another plot in a moment, so this
    basic one isn’t shown here).
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，`dnorm`，其中 *μ* 被指定为 `mean`，*σ* 被指定为 `sigma`，生成在这些 `xvals` 上的 *f*(*x*) 的精确值。最后，像
    `plot(xvals,fx,type="l")` 这样的调用实现了一个简单的密度图，你可以通过添加标题并使用 `abline` 和 `segments`
    等命令来标记位置（我稍后会再生成另一个图，因此这里没有显示这个基本的图）。
- en: Note that if you don’t supply any values to `mean` and `sd`, the default behavior
    of R is to implement the standard normal distribution; the object `fx` shown earlier
    could have been created with an even shorter call using just `dnorm(xvals)`.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，如果你没有为 `mean` 和 `sd` 提供任何值，R 的默认行为是实现标准正态分布；前面显示的对象 `fx` 本可以通过更简短的调用，只用 `dnorm(xvals)`
    创建。
- en: '**The pnorm Function**'
  id: totrans-235
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**pnorm 函数**'
- en: The `pnorm` function obtains left-side probabilities under the specified normal
    density. As with `dnorm`, if no parameter values are supplied, R automatically
    sets `mean=0` and `sd=1`. In the same way you used `punif` in [Section 16.2.1](ch16.xhtml#ch16lev2sec141),
    you can find differences of results from `pnorm` to find any areas you want when
    you provide the function with the desired values in the argument `q`.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '`pnorm` 函数在指定的正态密度下获取左侧概率。与 `dnorm` 一样，如果没有提供参数值，R 会自动设置 `mean=0` 和 `sd=1`。像你在
    [第16.2.1节](ch16.xhtml#ch16lev2sec141) 中使用 `punif` 一样，你可以通过提供所需的 `q` 参数值，使用 `pnorm`
    查找结果的差异，从而找到你想要的区域。'
- en: For example, it was mentioned earlier that a probability of approximately 0.683
    lies within one standard deviation of the mean. You can confirm this using `pnorm`
    for the standard normal.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，之前提到过，大约 0.683 的概率位于均值的一个标准差范围内。你可以通过对标准正态分布使用 `pnorm` 来确认这一点。
- en: '[PRE28]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'The first call to `pnorm` evaluates the area under the curve from positive
    1 left (in other words, all the way to −∞) and then finds the difference between
    that and the area from −1 left. The result reflects the proportion between the
    two dashed lines in the bottom of [Figure 16-6](ch16.xhtml#ch16fig6). These kinds
    of probabilities will be the same for *any* normal distribution. Consider the
    distribution where *μ* = −3.42 and *σ* = 0.2\. Then the following provides the
    same value:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 第一次调用 `pnorm` 评估了从正 1 左侧（换句话说，从 −∞ 到达）的曲线下的面积，然后计算该面积与从 −1 左侧的面积之间的差值。结果反映了
    [图16-6](ch16.xhtml#ch16fig6) 底部两条虚线之间的比例。这些类型的概率对 *任何* 正态分布都是相同的。考虑 *μ* = −3.42
    和 *σ* = 0.2 的分布。那么，以下提供了相同的值：
- en: '[PRE29]'
  id: totrans-240
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'It takes a little more work to specify the distribution of interest since it’s
    not standard, but the principle is the same: plus and minus one standard deviation
    away from the mean.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 如果要指定感兴趣的分布，需要多一些工作，因为它不是标准的，但原理是相同的：从均值加减一个标准差。
- en: The symmetry of the normal distribution is also useful when it comes to calculating
    probabilities. Sticking with the N(3.42,0.2) distribution, you can see that the
    probability you make an observation greater than *μ* + *σ* = −3.42 + 0.2 = −3.22
    (an *upper-tail* probability) is identical to the probability of making an observation
    less than *μ* − *σ* = −3.42 − 0.2 = −3.62 (a *lower-tail* probability).
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 正态分布的对称性在计算概率时也非常有用。以 N(3.42,0.2) 分布为例，可以看到你得到一个大于 *μ* + *σ* = −3.42 + 0.2 =
    −3.22（一个 *上尾* 概率）的观察值的概率，与得到一个小于 *μ* − *σ* = −3.42 − 0.2 = −3.62（一个 *下尾* 概率）的观察值的概率是相同的。
- en: '[PRE30]'
  id: totrans-243
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'You can also evaluate these values by hand, given the result you computed earlier
    that says Pr(μ − *σ* < *X* < *μ* + *σ*) = 0.6826895\. The remaining probability
    *outside* of this middle area must be as follows:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以手动计算这些值，参考你之前计算的结果，即 Pr(μ − *σ* < *X* < *μ* + *σ*) = 0.6826895。剩余的概率 *在*
    这个中间区域之外应该是：
- en: '[PRE31]'
  id: totrans-245
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'So, in each of the lower- and upper-tail areas marked off by *μ* − *σ* and
    *μ* + *σ*, respectively, there must be a probability of the following:'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在由 *μ* − *σ* 和 *μ* + *σ* 分别标记的下尾和上尾区域中，必须有如下的概率：
- en: '[PRE32]'
  id: totrans-247
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'This is what was just found using `pnorm` (note that there can be some minor
    rounding errors in these types of calculations). You can see this in [Figure 16-7](ch16.xhtml#ch16fig7),
    which is, initially, plotted with the following:'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是刚刚使用 `pnorm` 找到的结果（注意，这些计算中可能会有一些小的舍入误差）。你可以在 [图16-7](ch16.xhtml#ch16fig7)
    中看到这个，最初绘制的是以下内容：
- en: '[PRE33]'
  id: totrans-249
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: '![image](../images/f16-07.jpg)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-07.jpg)'
- en: '*Figure 16-7: Illustrating the example in the text, where the symmetry of the
    normal distribution is used to point out features of probabilities under the curve.
    Note that the total area under the density is 1, which in conjunction with symmetry
    is useful for making calculations.*'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-7：展示文本中的示例，利用正态分布的对称性来指出曲线下方概率的特征。请注意，密度下方的总面积为1，结合对称性有助于进行计算。*'
- en: To add the shaded area between *μ* ± *σ*, you can use `polygon`, for which you
    need the vertices of the shape of interest. To get a smooth curve, make use of
    the fine sequence `xvals` and corresponding `fx` as defined in the code, and use
    logical vector subsetting to restrict attention to those locations of *x* such
    that −3.62 ≤ *x* ≤ −3.22.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加*μ* ± *σ*之间的阴影区域，可以使用`polygon`，需要输入感兴趣形状的顶点。为了得到平滑的曲线，可以使用代码中定义的精细序列`xvals`和相应的`fx`，并使用逻辑向量子集来限制关注范围至*
    x* 的位置，使得 −3.62 ≤ *x* ≤ −3.22。
- en: '[PRE34]'
  id: totrans-253
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: You can then sandwich these between the two corners at the bottom of the shaded
    polygon using the matrix structure that the `polygon` function expects.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你可以通过使用`polygon`函数所期望的矩阵结构，将这些点夹在阴影多边形底部的两个角落之间。
- en: '[PRE35]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: Finally, `arrows` and `text` indicate the areas discussed in the text.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，`arrows`和`text`表示文本中讨论的区域。
- en: '[PRE36]'
  id: totrans-257
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: '**The qnorm Function**'
  id: totrans-258
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**qnorm函数**'
- en: 'Let’s turn to `qnorm`. To find the quantile value that will give you a lower-tail
    probability of 0.159, you use the following:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 我们来看看`qnorm`。要找到一个使得下尾概率为0.159的分位数值，可以使用以下方法：
- en: '[PRE37]'
  id: totrans-260
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Given the earlier results and what you already know about previous `q-`functions,
    it should be clear why the result is a value of approximately −3.62\. You find
    the upper quartile (the value *above which* you’d find a probability of 0.25)
    with this:'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 基于之前的结果和你对`q-`函数的了解，应该能清楚为什么结果大约是−3.62。你可以使用以下方法找到上四分位数（即使得概率为0.25的值）：
- en: '[PRE38]'
  id: totrans-262
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: Remember that the `q`-function will operate based on the (left) lower-tail probability,
    so to find a quantile based on an upper-tail probability, you must first subtract
    it from the total probability of 1.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，`q`-函数将根据（左侧）下尾概率进行操作，因此要基于上尾概率找到分位数，必须先从总概率1中减去它。
- en: 'In some methods and models used in frequentist statistics, it’s common to assume
    that your observed data are normal. You can test the validity of this assumption
    by using your knowledge of the theoretical quantiles of the normal distribution,
    found in the results of `qnorm`: calculate a range of sample quantile values for
    your observed data and plot these against the same quantiles for a correspondingly
    standardized normal distribution. This visual tool is referred to as a normal
    *quantile-quantile* or *QQ* plot and is useful when viewed alongside a histogram.
    If the plotted points don’t lie on a straight line, then the quantiles from your
    data do not match the appearance of those from a normal curve, and the assumption
    that your data are normal may not be valid.'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在频率学派统计学中，某些方法和模型假设观察到的数据是正态分布的。你可以通过使用对正态分布理论分位数的了解来验证这一假设，该分位数可以通过`qnorm`函数获得：计算观察数据的分位数范围，并将其与标准化的正态分布的相应分位数进行对比。这种可视化工具被称为正态*分位数-分位数*图或*QQ*图，当与直方图一起查看时特别有用。如果绘制的点没有落在一条直线上，那么数据的分位数与正态曲线的外观不匹配，假设数据符合正态分布可能不成立。
- en: The built-in `qqnorm` function takes in your raw data and produces the corresponding
    plot. Go back once more to the ready-to-use `chickwts` data set. Let’s say you
    want to find out whether it’s reasonable to assume the weights are normally distributed.
    To that end, you use
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 内置的`qqnorm`函数接收原始数据并生成相应的图表。再一次回到现成的`chickwts`数据集。假设你想要检验假设体重是否符合正态分布。为此，你可以使用
- en: '[PRE39]'
  id: totrans-266
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: to produce the histogram of the 71 weights and the normal QQ plot given in [Figure
    16-8](ch16.xhtml#ch16fig8). The additional `qqline` command adds the “optimal”
    line that the coordinates would lie along if the data were perfectly normal.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 生成图16-8中给出的71个体重的直方图和正态QQ图，见[图16-8](ch16.xhtml#ch16fig8)。附加的`qqline`命令会添加一条“最优”线，如果数据完全符合正态分布，数据点将沿着这条线排列。
- en: '![image](../images/f16-08.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-08.jpg)'
- en: '*Figure 16-8: Histogram (left) and normal QQ plot (right) of the weights of
    chicks in the* `chickwts` *data set. Are the data normally distributed?*'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-8：小鸡体重的直方图（左）和正态QQ图（右），来自`chickwts`数据集。数据符合正态分布吗？*'
- en: If you inspect the histogram of the weights, you can see that the data match
    the general appearance of a normal distribution, with a roughly symmetric unimodal
    appearance. That said, it doesn’t quite achieve the smoothness and naturally decaying
    height that produces the familiar normal bell shape. This is reflected in the
    QQ plot on the right; the central quantile values appear to lie on the line relatively
    well, except for some relatively minor “wiggles.” There are some clear discrepancies
    in the outer tails, but note that it is typical to observe discrepancies in these
    extreme quantiles in any QQ plot because fewer data points naturally occur there.
    Taking all of this into consideration, for this example the assumption of normality
    isn’t completely unreasonable.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你检查权重的直方图，你会发现数据大致符合正态分布的整体外观，呈现出大致对称的单峰特征。也就是说，它并没有完全达到平滑且自然衰减的高度，这种高度会产生我们熟悉的正态钟形曲线。这一点在右侧的QQ图中有所反映；中央的分位数值似乎相对较好地位于直线上，除了有一些相对较小的“波动”。在外尾部有一些明显的偏差，但需要注意的是，在任何QQ图中，观察到这些极端分位数的偏差是很典型的，因为在这些区域自然会出现较少的数据点。综合考虑所有这些因素，对于这个例子来说，正态性的假设并不完全不合理。
- en: '**NOTE**'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*It’s important to consider the sample size when assessing the validity of
    these kinds of assumptions; the larger the sample size, the less random variability
    will creep into the histogram and QQ plot, and you can more confidently reach
    a conclusion about whether your data are normal. For instance, the assumption
    of normality in this example may be complicated by the fact there’s a relatively
    small sample size of only 71.*'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '*在评估这类假设的有效性时，考虑样本大小非常重要；样本越大，直方图和QQ图中的随机变动越小，你可以更有信心地得出数据是否符合正态分布的结论。例如，这个例子中的正态性假设可能会因为样本量较小（只有71个样本）而变得复杂。*'
- en: '**The rnorm Function**'
  id: totrans-273
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**rnorm函数**'
- en: Random variates of any given normal distribution are generated with `rnorm`;
    for example, the line
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: 任意给定正态分布的随机变量是通过`rnorm`生成的；例如，以下代码行
- en: '[PRE40]'
  id: totrans-275
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: produces seven normally distributed values arising from N(−3.42,0.2). In contrast
    to the QQ plot produced for the chick weights in [Figure 16-8](ch16.xhtml#ch16fig8),
    you can use `rnorm`, `qqnorm`, and `qqline` to examine the degree to which hypothetically
    observed data sets that are truly normal vary in the context of a QQ plot.
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 会生成七个来自N(−3.42,0.2)的正态分布值。与[图16-8](ch16.xhtml#ch16fig8)中小鸡体重的QQ图相比，你可以使用`rnorm`、`qqnorm`和`qqline`来检查那些假设上符合正态分布的观测数据集在QQ图中的变动程度。
- en: The following code generates 71 standard normal values and produces a corresponding
    normal QQ plot and then does the same for a separate data set of *n* = 710; these
    are displayed in [Figure 16-9](ch16.xhtml#ch16fig9).
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码生成71个标准正态值，并生成相应的正态QQ图，然后对另一个数据集（*n* = 710）进行相同的操作；这些结果显示在[图16-9](ch16.xhtml#ch16fig9)中。
- en: '[PRE41]'
  id: totrans-278
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: '![image](../images/f16-09.jpg)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-09.jpg)'
- en: '*Figure 16-9: Normal QQ plots of 71 (left) and 710 (right) observations randomly
    generated from the standard normal distribution*'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-9：从标准正态分布随机生成的71个（左）和710个（右）观测值的正态QQ图*'
- en: You can see that the QQ plot for the simulated data set of size *n* = 71 shows
    similar deviation from the optimal line as does the chick weights data set. Bumping
    the sample size up by a factor of 10 shows that the QQ plot for the *n* = 710
    normal observations offers up far less random variation, although visible discrepancies
    in the tails do still occur. A good way to get used to assessing these effects
    is to rerun these lines of code several times (in other words, generating new
    data sets each time) and examine how each new QQ plot varies.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以看到，对于模拟数据集（大小为*n* = 71）的QQ图，与小鸡体重数据集的偏差相似。将样本量增加十倍后，*n* = 710的正态观察值的QQ图显示出更少的随机变动，尽管尾部的偏差仍然存在。一个很好的方法是多次运行这些代码（换句话说，每次生成新的数据集），并检查每个新的QQ图是如何变化的，从而习惯于评估这些影响。
- en: '**Normal Functions in Action: A Quick Example**'
  id: totrans-282
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**正态函数的应用：一个快速示例**'
- en: 'Let’s finish this section with one more working problem. Assume the manufacturer
    of a certain type of snack knows that the total net weight of the snacks in its
    80-gram advertised package, *X*, is normally distributed with a mean of 80.2 grams
    and a standard deviation of 1.1 grams. The manufacturer weighs the contents of
    randomly selected individual packets. The probability a randomly selected packet
    is less than 78 grams (that is, Pr(*X* < 78)) is as follows:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个工作问题结束这一部分。假设某种类型的零食的制造商知道其80克标称包装中的零食总净重*X*是正态分布的，平均值为80.2克，标准差为1.1克。制造商称重随机选取的单个包装内容。随机选取的包装小于78克的概率（即Pr(*X*
    < 78)）如下：
- en: '[PRE42]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The probability a packet is found to weigh between 80.5 and 81.5 grams is as
    follows:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 数据包的重量在80.5克和81.5克之间的概率如下：
- en: '[PRE43]'
  id: totrans-286
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'The weight below which the lightest 20 percent of packets lie is as follows:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 小于下列重量的轻量20%的数据包如下：
- en: '[PRE44]'
  id: totrans-288
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'A simulation of five randomly selected packets can be found with the following:'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 随机选择的五个数据包的模拟结果如下：
- en: '[PRE45]'
  id: totrans-290
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: '**Exercise 16.4**'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习16.4**'
- en: A tutor knows that the length of time taken to complete a certain statistics
    question by first-year undergraduate students, *X*, is normally distributed with
    a mean of 17 minutes and a standard deviation of 4.5 minutes.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一名辅导员知道，某种统计学问题的完成时间，对于大一本科生来说，*X*是正态分布的，平均值为17分钟，标准差为4.5分钟。
- en: What is the probability a randomly selected undergraduate takes more than 20
    minutes to complete the question?
  id: totrans-293
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 随机选择的本科生完成该问题超过20分钟的概率是多少？
- en: What’s the chance that a student takes between 5 and 10 minutes to finish the
    question?
  id: totrans-294
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 学生完成该问题所需时间在5到10分钟之间的概率是多少？
- en: Find the time that marks off the slowest 10 percent of students.
  id: totrans-295
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找出标志着最慢10%的学生的时间。
- en: Plot the normal distribution of interest between ±4*σ* and shade in the probability
    area of (iii), the slowest 10 percent of students.
  id: totrans-296
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制感兴趣的正态分布图，范围在±4*σ*之间，并标出概率区域(iii)，即最慢的10%学生。
- en: Generate a realization of times based on a class of 10 students completing the
    question.
  id: totrans-297
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 基于10名学生完成问题的时间，生成一个时间实现。
- en: A meticulous gardener is interested in the length of blades of grass on his
    lawn. He believes that blade length *X* follows a normal distribution centered
    on 10 mm with a variance of 2 mm.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一位细心的园丁对他草坪上的草叶长度很感兴趣。他认为草叶长度*X*遵循以10毫米为中心，方差为2毫米的正态分布。
- en: Find the probability that a blade of grass is between 9.5 and 11 mm long.
  id: totrans-299
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找出草叶长度在9.5毫米和11毫米之间的概率。
- en: What are the standardized values of 9.5 and 11 in the context of this distribution?
    Using the standardized values, confirm that you can obtain the same probability
    you found in (i) with the standard normal density.
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在该分布的背景下，9.5和11的标准化值分别是多少？利用这些标准化值，确认你能用标准正态密度计算出在(i)中找到的相同概率。
- en: Below which value are the shortest 2.5 percent of blade lengths found?
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最短的2.5%的草叶长度低于哪个值？
- en: Standardize your answer from (iii).
  id: totrans-302
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你的答案从(iii)进行标准化。
- en: '***16.2.3 Student’s t-distribution***'
  id: totrans-303
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.2.3 学生t分布***'
- en: The *Student’s t-distribution* is a continuous probability distribution generally
    used when dealing with statistics estimated from a sample of data. It will become
    particularly relevant in the next two chapters, so I’ll briefly explain it here
    first.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '*学生t分布* 是一种连续概率分布，通常用于处理从数据样本中估计的统计数据。它将在接下来的两章中变得尤为重要，因此我在这里先简要解释一下。'
- en: Any particular *t*-distribution looks a lot like the standard normal distribution—it’s
    bell-shaped, symmetric, and unimodal, and it’s centered on zero. The difference
    is that while a normal distribution is typically used to deal with a population,
    the *t*-distribution deals with *sample* from a population.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 任何特定的*t*-分布看起来都像标准正态分布——它是钟形的，对称的，单峰的，并且以零为中心。不同之处在于，正常分布通常用于处理总体数据，而*t*-分布用于处理来自总体的*样本*。
- en: For the *t*-distribution you don’t have to define any parameters per se, but
    you must choose the appropriate *t*-distribution by way of a strictly positive
    integer *ν* > 0; this is referred to as the *degrees of freedom* (df), called
    so because it represents the number of individual components in the calculation
    of a given statistic that are “free to change.” You’ll see in the upcoming chapters
    that this quantity is usually directly related to sample sizes.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 对于* t *分布，你不需要定义任何参数，但你必须通过严格正整数* ν * > 0 来选择合适的* t *分布；这称为*自由度*（df），之所以这样称呼，是因为它表示在计算给定统计量时，“可以自由变化”的个体组件的数量。在接下来的章节中，你会看到这个量通常与样本大小直接相关。
- en: For the moment, though, you should just loosely think of the *t-*distribution
    as the representation of a family of curves and think of the degrees of freedom
    as the “selector” you use to tell you which particular version of the density
    to use. The precise equation for the density of the *t-*distribution is also not
    especially useful in an introductory setting, though it is useful to remember
    that the total probability underneath any *t* curve is naturally 1.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，你可以大致把* t *分布看作是一系列曲线的表示，并把自由度看作是你用来选择使用哪一特定版本密度的“选择器”。虽然在初学阶段，* t *分布的精确密度方程并不是特别有用，但记住任何*
    t *曲线下的总概率自然是 1，这一点是有帮助的。
- en: For a *t*-distribution, the `dt`, `pt`, `qt`, and `rt` functions represent the
    R implementation of the density, the cumulative distribution (left probabilities),
    the quantile, and the random variate generation functions, respectively. The first
    arguments, `x`, `q`, `p`, and `n`, respectively, provide the relevant value (or
    values) of interest to these functions; the second argument in all of these is
    `df`, to which you must specify the degrees of freedom *ν*.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 对于* t *分布，`dt`、`pt`、`qt` 和 `rt` 函数分别代表 R 中的密度函数、累积分布（左侧概率）、分位数和随机变量生成函数。第一个参数
    `x`、`q`、`p` 和 `n` 分别提供了这些函数所需的相关值；所有这些函数的第二个参数是 `df`，你必须在其中指定自由度* ν *。
- en: The best way to get an impression of the *t* family is through a visualization.
    [Figure 16-10](ch16.xhtml#ch16fig10) plots the standard normal distribution, as
    well as the *t-*distribution curve with *ν* = 1, *ν* = 6, and *ν* = 20 df.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 获取* t *分布家族印象的最佳方式是通过可视化。[图 16-10](ch16.xhtml#ch16fig10)绘制了标准正态分布，以及自由度* ν *
    = 1，* ν * = 6 和 * ν * = 20 的* t *分布曲线。
- en: '![image](../images/f16-10.jpg)'
  id: totrans-310
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-10.jpg)'
- en: '*Figure 16-10: Comparing the standard normal distribution with three instances
    of the* t*-distribution. Note that the higher the degrees of freedom, the closer
    the* t*-distribution approximation becomes to the normal.*'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 16-10：比较标准正态分布与三种不同自由度的* t *分布。请注意，自由度越高，* t *分布的逼近越接近正态分布。*'
- en: 'The one important note to take away from [Figure 16-10](ch16.xhtml#ch16fig10),
    and indeed from this section, is the way in which the *t* density function changes
    with respect to the N(0,1) distribution as you increase the df. For small values
    of *ν* close to 1, the *t*-distribution is shorter, in terms of its mode, with
    more probability occurring in noticeably fatter tails. It turns out that the *t*
    density approaches the standard normal density as *ν* → ∞. As a case in point,
    note that the upper 5 percent tail of the standard normal distribution is delineated
    by the following value:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 从[图 16-10](ch16.xhtml#ch16fig10)以及这一节中，最重要的要点是，随着自由度的增加，* t *密度函数如何相对于 N(0,1)
    分布发生变化。对于接近 1 的小自由度* ν *值，* t *分布在其众数上更短，更多的概率出现在明显更胖的尾部。事实证明，* t *密度随着* ν * →
    ∞ 而逼近标准正态密度。作为一个例子，注意标准正态分布的上 5%尾部由以下值划定：
- en: '[PRE46]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: The same upper tail of the *t*-distribution is provided with df values of *ν*
    = 1, *ν* = 6, and *ν* = 20, respectively.
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 相同的* t *分布的上尾部提供了* ν * = 1，* ν * = 6 和 * ν * = 20 的自由度值。
- en: '[PRE47]'
  id: totrans-315
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: In direct comparison with the standard normal, the heavier weight in the tails
    of the *t* density leads naturally to more extreme quantile values given a specific
    probability. Notice that this extremity, however, is reduced as the df is increased—fitting
    in with the aforementioned fact that the *t-*distribution continues to improve
    in terms of its approximation to the standard normal as you raise the df.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 与标准正态分布直接比较，* t *密度在尾部的较大权重自然导致在给定特定概率时，分位数值更为极端。然而，随着自由度的增加，这种极端性会减少——这与前面提到的事实一致，即*
    t *分布随着自由度的提高，逼近标准正态分布的效果会越来越好。
- en: '***16.2.4 Exponential***'
  id: totrans-317
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.2.4 指数分布***'
- en: Of course, probability density functions don’t have to be symmetrical like those
    you’ve encountered so far, nor do they need to allow for the random variable to
    be able to take values from negative infinity to positive infinity (like the normal
    or *t*-distributions). A good example of this is the *exponential distribution*,
    for which realizations of a random variable *X* are valid only on a 0 ≤ *X* <
    ∞ domain.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，概率密度函数不一定像你之前遇到的那样对称，也不需要允许随机变量取值范围从负无穷到正无穷（如正态分布或*t*分布）。一个很好的例子就是*指数分布*，对于这种分布，随机变量*X*的取值仅在0
    ≤ *X* < ∞的范围内有效。
- en: For a continuous random variable 0 ≤ *X* < ∞, the exponential density function
    *f* is
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 对于连续随机变量0 ≤ *X* < ∞，指数密度函数*f*为：
- en: '![image](../images/e16-7.jpg)'
  id: totrans-320
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e16-7.jpg)'
- en: where *λ*[e] is a parameter of the distribution and exp{·} is the exponential
    function. The notation
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 其中*λ*[e]是分布的一个参数，exp{·}是指数函数。记号
- en: '*X* ∼ EXP(*λ*[e])'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '*X* ∼ EXP(*λ*[e])'
- en: is often used to indicate that “*X* follows an exponential distribution with
    rate *λ*[e].”
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 通常用来表示“*X*服从带有速率*λ*[e]的指数分布”。
- en: 'The following are the key points to note:'
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要注意的关键点：
- en: • Theoretically, *X* can take any value in the range 0 to ∞, and *f* (*x*) decreases
    as *x* increases.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: • 从理论上讲，*X*可以取值范围为0到∞，并且随着*x*的增加，*f*（*x*）会减小。
- en: • The “rate” parameter must be strictly positive; in other words, *λ*[e] > 0\.
    It defines *f* (0) and the rate of decay of the function to the horizontal asymptote
    at zero.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: • “速率”参数必须严格为正；换句话说，*λ*[e] > 0。它定义了*f*（0）和该函数衰减到零水平渐近线的速率。
- en: 'The mean and variance are as follows, respectively:'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 均值和方差分别如下所示：
- en: '![image](../images/f0359-01.jpg)'
  id: totrans-328
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0359-01.jpg)'
- en: '**The dexp Function**'
  id: totrans-329
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**dexp函数**'
- en: The density function for the exponential distribution is a steadily decreasing
    line beginning at *f* (0) = *λ*; the rate of this decay ensures a total area of
    1 underneath the curve. You create [Figure 16-11](ch16.xhtml#ch16fig11) with the
    relevant `d`-function in the following code.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 指数分布的密度函数是一条从*f*（0）= *λ*开始的稳定下降的曲线；这一衰减的速率确保曲线下方的总面积为1。你可以通过下面的代码，使用相关的`d`函数创建[图16-11](ch16.xhtml#ch16fig11)。
- en: '[PRE48]'
  id: totrans-331
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: '![image](../images/f16-11.jpg)'
  id: totrans-332
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f16-11.jpg)'
- en: '*Figure 16-11: Three different exponential density functions. Decreasing* *λ*[e]
    *lowers the mode and extends the tail.*'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: '*图16-11：三种不同的指数密度函数。减小*λ*[e]会降低众数并延长尾部。*'
- en: The parameter *λ*[e] is provided to `rate` in `dexp`, which is evaluated at
    *x*, provided to the first argument `x` (via the `xvals` object in this example).
    You can see that a distinct feature of the exponential density function is that
    aforementioned decay to zero, with larger values of *λ*[e] translating to a taller
    (yet sharper and more rapid) drop.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 参数*λ*[e]被提供给`rate`参数，在`dexp`函数中进行评估，并传递给第一个参数`x`（通过这个示例中的`xvals`对象）。你可以看到，指数密度函数的一个显著特征是前述的衰减到零，*λ*[e]的较大值意味着更高（但更陡峭和更快速）的下降。
- en: This naturally decreasing behavior helps identify the role the exponential distribution
    often plays in applications—one of a “time-until-event” nature. In fact, there’s
    a special relationship between the exponential distribution and the Poisson distribution
    introduced in [Section 16.1.3](ch16.xhtml#ch16lev2sec139). When the Poisson distribution
    is used to model the count of a certain event through time, you use the exponential
    distribution to model the time between these events. In such a setting, the exponential
    parameter *λ*[e] defines the mean *rate* at which the events occur over time.
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 这种自然衰减的行为有助于识别指数分布在应用中的作用——一种“直到事件发生的时间”性质的分布。实际上，指数分布和泊松分布之间有一个特殊的关系，后者在[第16.1.3节](ch16.xhtml#ch16lev2sec139)中已介绍。当泊松分布用于建模某一事件在时间上的发生次数时，指数分布则用于建模这些事件之间的时间间隔。在这种情况下，指数分布的参数*λ*[e]定义了事件发生的平均速率。
- en: '**The pexp Function**'
  id: totrans-336
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**pexp函数**'
- en: Let’s revisit the example from [Exercise 16.2](ch16.xhtml#ch16exc2), where the
    average number of cars passing an individual within a 120-minute window was said
    to be 107\. Define the random variable *X* to be the waiting time between two
    consecutive cars passing and, using an exponential distribution for *X* on a minute
    time scale, set *λ*[e] = 107/120 ≈ 0.89 (rounded to 2 d.p.). If 107 cars are typically
    observed in a two-hour window, then you see cars at an average rate of 0.89 per
    minute.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们回顾一下 [练习 16.2](ch16.xhtml#ch16exc2) 中的例子，其中提到在 120 分钟的时间窗口内通过某个人的平均汽车数量为
    107。定义随机变量 *X* 为两辆车之间的等待时间，并且使用指数分布来表示 *X*，以分钟为时间尺度，设定 *λ*[e] = 107/120 ≈ 0.89（保留两位小数）。如果通常在两小时的时间窗口内观察到
    107 辆车，那么你看到车的平均速率是每分钟 0.89 辆。
- en: Thus, you interpret *λ*[e] as the “per-unit-time” measure of the *λ*[p] parameter
    from the Poisson mass function. The interpretation of the mean as the reciprocal
    of the rate, *μ[X]* = 1/λ[e], is also intuitive. For example, when observing cars
    at a rate of about 0.89 per minute, note that the average waiting time between
    cars is roughly 1/0.89 ≈ 1.12 minutes.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，你将 *λ*[e] 解释为泊松质量函数中 *λ*[p] 参数的“单位时间”度量。将均值解释为速率的倒数，*μ[X]* = 1/λ[e]，也是直观的。例如，当以每分钟大约
    0.89 的速率观察汽车时，注意到两辆车之间的平均等待时间大约是 1/0.89 ≈ 1.12 分钟。
- en: So, in the current example, you want to examine the density ![image](../images/f0361-01.jpg).
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，在当前的例子中，你想要检查密度 ![image](../images/f0361-01.jpg)。
- en: '[PRE49]'
  id: totrans-340
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: Say a car has just passed the individual’s location and you want to find the
    probability that they must wait more than two and a half minutes before seeing
    another car, in other words, Pr(*X* > 2.5). You can do so using `pexp`.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一辆车刚刚通过某个人的位置，你想找出他们必须等待超过两分半钟才能看到下一辆车的概率，换句话说，Pr(*X* > 2.5)。你可以使用 `pexp`
    来做到这一点。
- en: '[PRE50]'
  id: totrans-342
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: 'This indicates that you have just over a 10 percent chance of observing at
    least a 2-minute 30-second gap before the next car appears. Remember that the
    default behavior of the `p`-function is to find the cumulative, left-hand probability
    from the provided value, so you need to subtract the result from 1 to find an
    upper-tail probability. You find the probability of waiting less than 25 seconds
    with the following, which gives a result of roughly 0.31:'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明你大约有 10% 的机会观察到下辆车出现之前有至少 2 分钟 30 秒的间隔。记住，`p` 函数的默认行为是找到给定值的累计左侧概率，因此你需要从
    1 中减去结果，以找到上尾概率。你可以通过以下方式找到等待少于 25 秒的概率，结果大约为 0.31：
- en: '[PRE51]'
  id: totrans-344
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: Note the need to first convert the value of interest from seconds to minutes
    since you’ve defined *f* (*x*) via *λ*[e] ≈ 0.89 on the scale of the latter.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 注意需要首先将关注值从秒转换为分钟，因为你通过 *λ*[e] ≈ 0.89 在后者的尺度上定义了 *f* (*x*)。
- en: '**The qexp Function**'
  id: totrans-346
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**qexp 函数**'
- en: Use the appropriate quantile function `qexp` to find, say, the cutoff point
    for the shortest 15 percent of waits.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 使用适当的分位数函数 `qexp` 来找到例如最短 15% 等待时间的截止点。
- en: '[PRE52]'
  id: totrans-348
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: This indicates that the value of interest is about 0.182 minutes, in other words,
    roughly 0.182 × 60 = 10.9 seconds.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明你关注的值大约是 0.182 分钟，换句话说，大约是 0.182 × 60 = 10.9 秒。
- en: As usual, you can use `rexp` to generate random variates of any specific exponential
    distribution.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 和往常一样，你可以使用 `rexp` 来生成任意特定指数分布的随机变量。
- en: '**NOTE**'
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*It is important to distinguish between the “exponential distribution,” the
    “exponential* family *of distributions,” and the “exponential* function*.” The
    first refers to the density function that’s just been studied, whereas the second
    refers to a general class of probability distributions, including the Poisson,
    the normal, and the exponential itself. The third is just the standard mathematical
    exponential function upon which the exponential family members depend and is directly
    accessible in R via* `exp`.'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: '*重要的是要区分“指数分布”、“指数*族*分布”和“指数*函数*”。前者指的是刚刚研究的密度函数，而后者指的是一个包含泊松分布、正态分布以及指数分布本身的一般概率分布类。第三个则只是标准的数学指数函数，指数族的成员依赖于该函数，并且可以通过
    `exp` 在 R 中直接访问。*'
- en: '**Exercise 16.5**'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 16.5**'
- en: Situated in the central north island of New Zealand, the Pohutu geyser is said
    to be the largest active geyser in the southern hemisphere. Suppose that it erupts
    an average of 3,500 times every year.
  id: totrans-354
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 位于新西兰中北岛的波胡图间歇泉被称为南半球最大的活跃间歇泉。假设它每年喷发约 3,500 次。
- en: With the intention of modeling a random variable *X* as the time between consecutive
    eruptions, evaluate the parameter value *λ*[e] with respect to a time scale in
    days (assume 365.25 days per year to account for leap years).
  id: totrans-355
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了将随机变量 *X* 建模为连续喷发之间的时间，计算时间尺度为天数时的参数值 *λ*[e]（假设每年365.25天以考虑闰年）。
- en: Plot the density function of interest. What’s the mean wait in days between
    eruptions?
  id: totrans-356
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 绘制感兴趣的密度函数。两次喷发之间的平均等待时间是多少天？
- en: What’s the probability of waiting less than 30 minutes for the next eruption?
  id: totrans-357
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待下次喷发少于30分钟的概率是多少？
- en: What waiting time defines the longest 10 percent of waits? Convert your answer
    to hours.
  id: totrans-358
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义最长10%的等待时间是多少？将答案转换为小时。
- en: You can also use the exponential distribution to model certain product survival
    times, or “time-to-failure” type of variables. Say a manufacturer of a particular
    air conditioning unit knows that the product has an average life of 11 years before
    it needs any type of repair callout. Let the random variable *X* represent the
    time until the necessary repair of one of these units and assume *X* follows an
    exponential distribution with *λ*[e] = 1/11.
  id: totrans-359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以使用指数分布来建模某些产品的生存时间，或者“故障时间”类型的变量。假设某个空调设备制造商知道，产品的平均使用寿命为11年，之后需要维修。设随机变量
    *X* 表示该设备需要维修的时间，并假设 *X* 服从参数 *λ*[e] = 1/11 的指数分布。
- en: The company offers a five-year full repair warranty on this unit. What’s the
    probability that a randomly selected air conditioner owner makes use of the warranty?
  id: totrans-360
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该公司为该设备提供五年的全面维修保修。随机选择的空调用户使用保修服务的概率是多少？
- en: A rival company offers a six-year guarantee on its competing air conditioning
    unit but knows that its units last, on average, only nine years before requiring
    some kind of repair. What are the chances of making use of that warranty?
  id: totrans-361
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另一家竞争公司为其空调设备提供六年保修，但知道其设备的平均寿命仅为九年，之后需要维修。使用该保修的概率是多少？
- en: Determine the probabilities that the units in (i) and the units in (ii) last
    more than 15 years.
  id: totrans-362
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确定（i）和（ii）中的单位持续超过15年的概率。
- en: '***16.2.5 Other Density Functions***'
  id: totrans-363
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***16.2.5 其他密度函数***'
- en: 'There are a number of other common probability density functions used for a
    wide variety of tasks involving continuous random variables. I’ll summarize a
    few here:'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多其他常见的概率密度函数广泛用于涉及连续随机变量的各种任务。以下是一些总结：
- en: • The *chi-squared distribution* models sums of squared normal variates and
    is thus often related to operations concerning sample variances of normally distributed
    data. Its functions are `dchisq`, `pchisq`, `qchisq`, and `rchisq`, and like the
    *t*-distribution ([Section 16.2.3](ch16.xhtml#ch16lev2sec143)), it’s dependent
    upon specification of a degrees of freedom provided as the argument `df`.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: • *卡方分布* 模拟平方的正态变量之和，因此通常与关于正态分布数据样本方差的操作相关。其函数有 `dchisq`、`pchisq`、`qchisq`
    和 `rchisq`，与 *t*-分布类似（参见 [16.2.3节](ch16.xhtml#ch16lev2sec143)），它依赖于作为输入的自由度指定，输入参数为
    `df`。
- en: • The *F-distribution* is used to model ratios of two chi-squared random variables
    and is useful in, for example, regression problems (see [Chapter 20](ch20.xhtml#ch20)).
    Its functions are `df`, `pf`, `qf`, and `rf`, and as it involves two chi-squared
    values, it’s dependent upon the specification of a *pair* of degrees of freedom
    values supplied as the arguments `df1` and `df2`.
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: • *F-分布* 用于建模两个卡方随机变量的比率，通常用于回归问题中（参见 [第20章](ch20.xhtml#ch20)）。其函数包括 `df`、`pf`、`qf`
    和 `rf`，由于涉及两个卡方值，因此依赖于一对自由度值的指定，这两个值通过 `df1` 和 `df2` 作为输入。
- en: • The *gamma distribution* is a generalization of both the exponential and chi-squared
    distributions. Its functions are `dgamma`, `pgamma`, `qgamma`, and `rgamma`, and
    it’s dependent upon “shape” and “scale” parameters provided as the arguments `shape`
    and `scale`, respectively.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: • *伽马分布* 是指数分布和卡方分布的一个推广。其函数有 `dgamma`、`pgamma`、`qgamma` 和 `rgamma`，并且依赖于“形状”参数和“尺度”参数，这两个参数分别通过
    `shape` 和 `scale` 作为输入。
- en: • The *beta distribution* is often used in Bayesian modeling, and it has implemented
    functions `dbeta`, `pbeta`, `qbeta`, and `rbeta`. It’s defined by two “shape”
    parameters *α* and *β*, supplied as `shape1` and `shape2`, respectively.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: • *贝塔分布* 常用于贝叶斯建模，其已实现的函数有 `dbeta`、`pbeta`、`qbeta` 和 `rbeta`。它由两个“形状”参数 *α*
    和 *β* 定义，分别通过 `shape1` 和 `shape2` 提供。
- en: In particular, you’ll encounter the chi-squared and *F*-distributions over the
    next couple of chapters.
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 尤其在接下来的几章中，你将会遇到卡方分布和*F*分布。
- en: '**NOTE**'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*In all of the common probability distributions you’ve examined over the past
    couple of sections, I’ve emphasized the need to perform “one-minus” operations
    to find probabilities or quantiles with respect to an upper- or right-tailed area.
    This is because of the cumulative nature of the* `p`*- and* `q`*-functions—by
    definition, it’s the lower tail that is dealt with. However, most* `p`*- and*
    `q`*-functions in R include an optional logical argument,* `lower.tail`*, which
    defaults to* `FALSE`*. Therefore, an alternative is to set* `lower.tail=TRUE`
    *in any relevant function call, in which case R will expect or return upper-tail
    areas specifically.*'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: '*在你之前研究的所有常见概率分布中，我强调了执行“减一”操作来找到关于上尾或右尾区域的概率或分位数的必要性。这是因为`p`-和`q`-函数的累积性质——根据定义，处理的是下尾。然而，大多数R中的`p`-和`q`-函数包括一个可选的逻辑参数，`lower.tail`，其默认值为*FALSE*。因此，另一种方法是将`lower.tail=TRUE`设置为任何相关函数调用中的参数，这样R将特别期望或返回上尾区域。*'
- en: '**Important Code in This Chapter**'
  id: totrans-372
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**本章重要代码**'
- en: '| **Function/operator** | **Brief description** | **First occurrence** |'
  id: totrans-373
  prefs: []
  type: TYPE_TB
  zh: '| **函数/运算符** | **简要描述** | **首次出现** |'
- en: '| --- | --- | --- |'
  id: totrans-374
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `dbinom` | Binomial mass function | [Section 16.1.2](ch16.xhtml#ch16lev2sec138),
    [p. 335](ch16.xhtml#page_335) |'
  id: totrans-375
  prefs: []
  type: TYPE_TB
  zh: '| `dbinom` | 二项质量函数 | [第16.1.2节](ch16.xhtml#ch16lev2sec138)，[第335页](ch16.xhtml#page_335)
    |'
- en: '| `pbinom` | Binomial cumulative problems | [Section 16.1.2](ch16.xhtml#ch16lev2sec138),
    [p. 336](ch16.xhtml#page_336) |'
  id: totrans-376
  prefs: []
  type: TYPE_TB
  zh: '| `pbinom` | 二项分布累积问题 | [第16.1.2节](ch16.xhtml#ch16lev2sec138)，[第336页](ch16.xhtml#page_336)
    |'
- en: '| `qbinom` | Binomial quantiles function | [Section 16.1.2](ch16.xhtml#ch16lev2sec138),
    [p. 337](ch16.xhtml#page_337) |'
  id: totrans-377
  prefs: []
  type: TYPE_TB
  zh: '| `qbinom` | 二项分位数函数 | [第16.1.2节](ch16.xhtml#ch16lev2sec138)，[第337页](ch16.xhtml#page_337)
    |'
- en: '| `rbinom` | Binomial random realizations | [Section 16.1.2](ch16.xhtml#ch16lev2sec138),
    [p. 337](ch16.xhtml#page_337) |'
  id: totrans-378
  prefs: []
  type: TYPE_TB
  zh: '| `rbinom` | 二项随机实现 | [第16.1.2节](ch16.xhtml#ch16lev2sec138)，[第337页](ch16.xhtml#page_337)
    |'
- en: '| `dpois` | Poisson mass function | [Section 16.1.3](ch16.xhtml#ch16lev2sec139),
    [p. 340](ch16.xhtml#page_340) |'
  id: totrans-379
  prefs: []
  type: TYPE_TB
  zh: '| `dpois` | 泊松质量函数 | [第16.1.3节](ch16.xhtml#ch16lev2sec139)，[第340页](ch16.xhtml#page_340)
    |'
- en: '| `ppois` | Poisson cumulative problems | [Section 16.1.3](ch16.xhtml#ch16lev2sec139),
    [p. 341](ch16.xhtml#page_341) |'
  id: totrans-380
  prefs: []
  type: TYPE_TB
  zh: '| `ppois` | 泊松分布累积问题 | [第16.1.3节](ch16.xhtml#ch16lev2sec139)，[第341页](ch16.xhtml#page_341)
    |'
- en: '| `rpois` | Poisson random realizations | [Section 16.1.3](ch16.xhtml#ch16lev2sec139),
    [p. 341](ch16.xhtml#page_341) |'
  id: totrans-381
  prefs: []
  type: TYPE_TB
  zh: '| `rpois` | 泊松随机实现 | [第16.1.3节](ch16.xhtml#ch16lev2sec139)，[第341页](ch16.xhtml#page_341)
    |'
- en: '| `dunif` | Uniform density function | [Section 16.2.1](ch16.xhtml#ch16lev2sec141),
    [p. 344](ch16.xhtml#page_344) |'
  id: totrans-382
  prefs: []
  type: TYPE_TB
  zh: '| `dunif` | 均匀密度函数 | [第16.2.1节](ch16.xhtml#ch16lev2sec141)，[第344页](ch16.xhtml#page_344)
    |'
- en: '| `punif` | Uniform cumulative problems | [Section 16.2.1](ch16.xhtml#ch16lev2sec141),
    [p. 346](ch16.xhtml#page_346) |'
  id: totrans-383
  prefs: []
  type: TYPE_TB
  zh: '| `punif` | 均匀分布累积问题 | [第16.2.1节](ch16.xhtml#ch16lev2sec141)，[第346页](ch16.xhtml#page_346)
    |'
- en: '| `qunif` | Uniform quantiles | [Section 16.2.1](ch16.xhtml#ch16lev2sec141),
    [p. 346](ch16.xhtml#page_346) |'
  id: totrans-384
  prefs: []
  type: TYPE_TB
  zh: '| `qunif` | 均匀分位数 | [第16.2.1节](ch16.xhtml#ch16lev2sec141)，[第346页](ch16.xhtml#page_346)
    |'
- en: '| `runif` | Uniform random realizations | [Section 16.2.1](ch16.xhtml#ch16lev2sec141),
    [p. 347](ch16.xhtml#page_347) |'
  id: totrans-385
  prefs: []
  type: TYPE_TB
  zh: '| `runif` | 均匀随机实现 | [第16.2.1节](ch16.xhtml#ch16lev2sec141)，[第347页](ch16.xhtml#page_347)
    |'
- en: '| `dnorm` | Normal density function | [Section 16.2.2](ch16.xhtml#ch16lev2sec142),
    [p. 350](ch16.xhtml#page_350) |'
  id: totrans-386
  prefs: []
  type: TYPE_TB
  zh: '| `dnorm` | 正态密度函数 | [第16.2.2节](ch16.xhtml#ch16lev2sec142)，[第350页](ch16.xhtml#page_350)
    |'
- en: '| `pnorm` | Normal cumulative problems | [Section 16.2.2](ch16.xhtml#ch16lev2sec142),
    [p. 350](ch16.xhtml#page_350) |'
  id: totrans-387
  prefs: []
  type: TYPE_TB
  zh: '| `pnorm` | 正态分布累积问题 | [第16.2.2节](ch16.xhtml#ch16lev2sec142)，[第350页](ch16.xhtml#page_350)
    |'
- en: '| `qnorm` | Normal quantiles | [Section 16.2.2](ch16.xhtml#ch16lev2sec142),
    [p. 353](ch16.xhtml#page_353) |'
  id: totrans-388
  prefs: []
  type: TYPE_TB
  zh: '| `qnorm` | 正态分位数 | [第16.2.2节](ch16.xhtml#ch16lev2sec142)，[第353页](ch16.xhtml#page_353)
    |'
- en: '| `rnorm` | Normal random realizations | [Section 16.2.2](ch16.xhtml#ch16lev2sec142),
    [p. 355](ch16.xhtml#page_355) |'
  id: totrans-389
  prefs: []
  type: TYPE_TB
  zh: '| `rnorm` | 正态随机实现 | [第16.2.2节](ch16.xhtml#ch16lev2sec142)，[第355页](ch16.xhtml#page_355)
    |'
- en: '| `qt` | Student’s *t* quantiles | [Section 16.2.3](ch16.xhtml#ch16lev2sec143),
    [p. 358](ch16.xhtml#page_358) |'
  id: totrans-390
  prefs: []
  type: TYPE_TB
  zh: '| `qt` | 学生* t *分位数 | [第16.2.3节](ch16.xhtml#ch16lev2sec143)，[第358页](ch16.xhtml#page_358)
    |'
- en: '| `dexp` | Exponential density function | [Section 16.2.4](ch16.xhtml#ch16lev2sec144),
    [p. 359](ch16.xhtml#page_359) |'
  id: totrans-391
  prefs: []
  type: TYPE_TB
  zh: '| `dexp` | 指数密度函数 | [第16.2.4节](ch16.xhtml#ch16lev2sec144)，[第359页](ch16.xhtml#page_359)
    |'
- en: '| `pexp` | Exponential cumulative problems | [Section 16.2.4](ch16.xhtml#ch16lev2sec144),
    [p. 361](ch16.xhtml#page_361) |'
  id: totrans-392
  prefs: []
  type: TYPE_TB
  zh: '| `pexp` | 指数分布累积问题 | [第16.2.4节](ch16.xhtml#ch16lev2sec144)，[第361页](ch16.xhtml#page_361)
    |'
- en: '| `qexp` | Exponential quantiles | [Section 16.2.4](ch16.xhtml#ch16lev2sec144),
    [p. 361](ch16.xhtml#page_361) |'
  id: totrans-393
  prefs: []
  type: TYPE_TB
  zh: '| `qexp` | 指数分位数 | [第16.2.4节](ch16.xhtml#ch16lev2sec144), [第361页](ch16.xhtml#page_361)
    |'
