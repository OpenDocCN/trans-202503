<html><head></head><body>
<h2 class="h2" id="ch2"><span epub:type="pagebreak" id="page_19"/><span class="big"><strong>2</strong></span></h2>&#13;
<h2 class="h2a">BUILD A HI-LO GUESSING GAME APP!</h2>&#13;
<div class="image21"><img src="../images/circle.jpg" alt="Image"/></div>&#13;
<p class="noindent">Let’s begin by coding a fun, playable game in Java: the Hi-Lo guessing game. We’ll program this game as a <em>command line application</em>, which is just a fancy way of saying it’s text based (see <a href="ch2.xhtml#ch2fig1">Figure 2-1</a>). When the program runs, the prompt will ask the user to guess a number between 1 and 100. Each time they guess, the program will tell them whether the guess is too high, too low, or correct.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_20"/><img src="../images/f0020-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig1"/>Figure 2-1: A text-based Hi-Lo guessing game</em></p>&#13;
<p class="indent">Now that you know how the game works, all you have to do is code the steps to play it. We’ll start by mapping out the app at a high level and then code a very simple version of the game. By starting out with a goal in mind and understanding how to play the game, you’ll be able to pick up coding skills more easily, and you’ll learn them with a purpose. You can also enjoy the game immediately after you finish coding it.</p>&#13;
<h3 class="h3"><a id="toc_lev21"/>Planning the Game Step-by-Step</h3>&#13;
<p class="noindentb">Let’s think about all the steps we’ll need to code in order to get the Hi-Lo guessing game to work. A basic version of the game will need to do the following:</p>&#13;
<p class="order">1. Generate a random number between 1 and 100 for the user to guess.</p>&#13;
<p class="order">2. Display a <em>prompt</em>, or a line of text, asking the user to guess a number in that range.</p>&#13;
<p class="order">3. Accept the user’s guess as input.</p>&#13;
<p class="order">4. Compare the user’s guess to the computer’s number to see if the guess is too high, too low, or correct.</p>&#13;
<p class="order">5. Display the results on the screen.</p>&#13;
<p class="order">6. Prompt the user to guess another number until they guess correctly.</p>&#13;
<p class="order">7. Ask the user if they’d like to play again.</p>&#13;
<p class="indentt">We’ll start with this basic structure. In Programming Challenge #2 on <a href="ch2.xhtml#page_40">page 40</a>, you’ll try adding an extra feature, to tell the user how many tries it took to guess the number correctly.</p>&#13;
<h3 class="h3"><a id="toc_lev22"/>Creating a New Java Project</h3>&#13;
<p class="noindent">The first step in coding a new Java app in Eclipse is creating a project. On the menu bar in Eclipse, go to <strong>File</strong> <span class="ent">▸</span> <strong>New</strong> <span class="ent">▸</span> <strong>Java Project</strong> (or select <strong>File</strong> <span class="ent">▸</span> <strong>New</strong> <span class="ent">▸</span> <strong>Project</strong>, then <strong>Java</strong> <span class="ent">▸</span> <strong>Java Project</strong> in the New Project wizard). The New Java Project dialog should pop up, as shown in <a href="ch2.xhtml#ch2fig2">Figure 2-2</a>.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_21"/><img src="../images/f0021-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig2"/>Figure 2-2: The New Java Project dialog for the Hi-Lo guessing game app</em></p>&#13;
<p class="indent">Type <span class="codestrong"><code>HiLo</code></span> into the Project name field. Note that uppercase and lowercase letters are important in Java, and we’ll get in the habit of using uppercase letters to start all of our project, file, and class names, which is a common Java practice. And we’ll use camel case, as <em>Hi</em> and <em>Lo</em> are two words: <em>HiLo</em>. Leave all the other settings unchanged and click <strong>Finish</strong>. Depending on your version of Eclipse, you may be asked if you want to open the project using the Java Perspective. A <em>perspective</em> in Eclipse is a workspace set up for coding in a specific language. Click <strong>Yes</strong> to tell Eclipse you’d like the workspace set up for convenient coding in Java.</p>&#13;
<h3 class="h3"><a id="toc_lev23"/>Creating the HiLo Class</h3>&#13;
<p class="noindent">Java is an <em>object-oriented programming language</em>. Object-oriented programming languages use <em>classes</em> to design reusable pieces of programming code. Classes are like templates that make it easier to create <em>objects</em>, or instances of that class. If you think of a class as a cookie cutter, objects are the cookies. And, just like a cookie cutter, classes are reusable, so once we’ve built a useful class, we can reuse it over and over to create as many objects as we want.</p>&#13;
<p class="indent">The Hi-Lo guessing game will have a single class file that creates a guessing game object with all the code needed to play the game. We’ll call our new class <code>HiLo</code>. The capitalization matters, and naming the class <code>HiLo</code> follows several Java naming conventions. It’s common practice to start all class names with an uppercase letter, so we use a capital <code>H</code> in <code>HiLo</code>. Also, there should be no spaces, hyphens, or special characters between words in a class name. Finally, we use camel case for class names with multiple words, beginning each new word with a capital letter, as in <code>HiLo</code>, <code>GuessingGame</code>, and <code>BubbleDrawApp</code>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_22"/>To create the new <code>HiLo</code> class, first find your <em>HiLo</em> project folder under the Package Explorer pane on the left side of the Eclipse workspace. Expand the folder by clicking the small arrow to the left of it. You should see a subfolder called <em>src</em>, short for <em>source code</em>. All the text files containing your Java programs will go in this <em>src</em> folder.</p>&#13;
<p class="indent">Right-click the <em>src</em> folder and select <strong>New</strong> <span class="ent">▸</span> <strong>Class</strong>, as shown in <a href="ch2.xhtml#ch2fig3">Figure 2-3</a>.</p>&#13;
<div class="image"><img src="../images/f0022-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig3"/>Figure 2-3: Creating a new class file for the Hi-Lo guessing game app</em></p>&#13;
<p class="indent">The New Java Class dialog will appear, as shown in <a href="ch2.xhtml#ch2fig4">Figure 2-4</a>. Type <span class="codestrong"><code>HiLo</code></span> into the Name field. Then, under <em>Which method stubs would you like to create?</em>, check the box for <strong>public static void main(String[] args)</strong>. This tells Eclipse that we’re planning to write a <code>main()</code> program method, so Eclipse will include a <em>stub</em>, or skeleton, for the <code>main()</code> method that we can fill in with our own code. <em>Methods</em> are the functions in an object or class. The <code>main()</code> method is required any time you want to run an app as a stand-alone program.</p>&#13;
<div class="image"><img src="../images/f0022-02.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig4"/>Figure 2-4: Name the new Java class</em> HiLo <em>and select the checkbox to create a main() method.</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_23"/>Click <strong>Finish</strong> in the New Java Class dialog, and you should see a new file named <em>HiLo.java</em> that contains the code shown in <a href="ch2.xhtml#ch2list1">Listing 2-1</a>. This Java file will be the outline of the Hi-Lo guessing game. We’ll write the guessing game program by editing this file and adding code inside it.</p>&#13;
<p class="pre"><span class="ent">➊</span> public class HiLo {<br/>&#13;
    <span class="ent">➋</span> public static void main(String[] args) {<br/>&#13;
          // TODO Auto-generated method stub<br/>&#13;
<br/>&#13;
      }<br/>&#13;
  }</p>&#13;
<p class="code-title"><em><a id="ch2list1"/>Listing 2-1: The stub code for the HiLo guessing game class, generated by Eclipse</em></p>&#13;
<p class="indent">Eclipse creates this code all on its own. The class <code>HiLo</code> is <code>public</code> <span class="ent">➊</span>, meaning we can run it from the command line or terminal.</p>&#13;
<p class="indent">Java groups statements with braces, <code>{</code> and <code>}</code>. The opening brace, <code>{</code>, begins a block of statements that will form the body of the <code>HiLo</code> class. The closing brace, <code>}</code>, ends the block of statements. Inside the class is the <code>main()</code> method <span class="ent">➋</span>, which is the method that will run when the class is executed.</p>&#13;
<p class="indent">Inside the opening brace for the <code>main()</code> method is a comment line that starts with two forward slashes, <code>//</code>. Comments are for us (the humans) to read. They’re ignored by the computer, so we can use them to help us remember what a section of code does or to leave notes for future use. You can delete the <code>TODO</code> comment in <a href="ch2.xhtml#ch2list1">Listing 2-1</a>.</p>&#13;
<h4 class="h4"><em><a id="toc_lev24"/>Generating a Random Number</em></h4>&#13;
<p class="noindent">The first programming task for our game is to generate a random number. We’ll use the <code>Math</code> class, which contains a method for generating a random floating-point (decimal) number between 0.0 and 1.0. Then, we’ll convert that decimal value to an <em>integer</em> (a whole number) between 1 and 100. The <code>Math</code> class is a built-in class that contains many useful math functions like the ones you might find on a nice scientific calculator.</p>&#13;
<p class="indent">Inside the <code>main()</code> method, add the comment and line of code shown in <a href="ch2.xhtml#ch2list2">Listing 2-2</a>. (The new code is shown in black and the existing code is shown in gray.)</p>&#13;
<p class="pre"><span class="ash">public class HiLo {</span><br/>&#13;
    <span class="ash">public static void main(String[] args) {</span><br/>&#13;
        // Create a random number for the user to guess<br/>&#13;
        int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);<br/>&#13;
    <span class="ash">}</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="noindenttb"><em><a id="ch2list2"/>Listing 2-2: The code to create a random number between 1 and 100</em></p>&#13;
<p class="indent">First, we need to create a variable to hold the random number the user will be trying to guess in the app. Since the app will ask the user to guess a whole number between 1 and 100, we’ll use the <code>int</code> type, short for <em>integer</em>. We name our variable <code>theNumber</code>. The equal sign, <code>=</code>, assigns a value to our <span epub:type="pagebreak" id="page_24"/>new <code>theNumber</code> variable. We use the built-in <code>Math.random()</code> function to generate a random number between 0.0 and just under 1.0 (0.99999). Because <code>Math.random()</code> generates numbers only in that specific range, we need to multiply the random number we get by 100 to stretch the range from 0.0 to just under 100.0 (99.99999 or so). Then we add 1 to that value to ensure the number runs from 1.0 (0.0 + 1) to 100.99999.</p>&#13;
<p class="indent">The <code>(int)</code> part is called a <em>type cast</em>, or just <em>cast</em> for short. Casting changes the <em>type</em> of the number from a decimal number to an integer. In this case, everything after the decimal point is removed, resulting in a whole number between 1 and 100. Java then stores that number in the variable <code>theNumber</code>, the number the user is trying to guess in the game. Finally, we add a semicolon (<code>;</code>) to indicate the end of the instruction.</p>&#13;
<p class="indent">Now, you can add a <code>System.out.println()</code> statement to print the number you’ve generated:</p>&#13;
<p class="pre">      <span class="ash">int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);</span><br/>&#13;
      System.<span class="codeitalic">out</span>.println( theNumber );<br/>&#13;
  <span class="ash">}</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="indent">After we add this line of code, we can run the program to see it generate and print a random number. Click the green run button in the top menu bar to compile and run the program, as shown in <a href="ch2.xhtml#ch2fig5">Figure 2-5</a>. You can also go to the <strong>Run</strong> menu and select <strong>Run</strong>.</p>&#13;
<div class="image"><img src="../images/f0024-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig5"/>Figure 2-5: Printing a random number to the screen</em></p>&#13;
<p class="indent">Your random number will appear in the small console window at the bottom of the screen, as shown in <a href="ch2.xhtml#ch2fig5">Figure 2-5</a>. If you run your program again, you’ll see a different number between 1 and 100.</p>&#13;
<p class="indent">This would be a great time to play with the program a bit. Try generating a number between 1 and 10, or 1 and 1,000—even 1 to 1,000,000. Java will accept numbers all the way to a billion or so. Just remember to write your numbers without commas: 1,000 becomes <code>1000</code> in Java, and 1,000,000 <span epub:type="pagebreak" id="page_25"/>is written <code>1000000</code>. You probably don’t want to guess a number between 1 and 1,000,000 the first time you play the game, though, so remember to change this line back before you move ahead.</p>&#13;
<div class="note">&#13;
<p class="notet"><span class="noteg"><strong>NOTE</strong></span></p>&#13;
<p class="notep"><em>Remember to save your code often. Eclipse will save for you automatically every time you run a program, but it’s a good idea to save after every few lines of code. In fact, pressing <small>CTRL</small>-S (or</em> <img class="inline" src="../images/symbol.jpg" alt="Image"/><em>-S) to save after each line of code isn’t a bad habit to get into. I’ve never heard a coder say they wish they hadn’t saved so often, but I’ve experienced losing unsaved code a few times myself, and it’s not fun. Save often, and remember that you can use</em> <strong><em>Edit</em></strong> <span class="ent">▸</span> <strong><em>Undo</em></strong> <em>if you ever type something incorrectly or accidentally delete a section of code.</em></p>&#13;
</div>&#13;
<h4 class="h4"><em><a id="toc_lev25"/>Getting User Input from the Keyboard</em></h4>&#13;
<p class="noindent">Now let’s add the code that allows the user to guess a number. To do this, we’ll need to <em>import</em> some additional Java capabilities. Java comes with many libraries and packages that we can use in our own projects. Libraries and packages are sets of code that someone else has created. When we import them, we get new features that make creating our own programs even easier. We can access packages and libraries whenever we need them using the <code>import</code> statement.</p>&#13;
<p class="indent">For the guessing game program, we need to be able to accept keyboard input from the user. The <code>Scanner</code> class, contained in the <code>java.util</code> utilities package, provides several useful functions for working with keyboard input. Let’s import the <code>Scanner</code> class into our program. Add the following statement at the top of the <em>HiLo.java</em> file, before the line <code>public class HiLo</code>:</p>&#13;
<p class="pre">import java.util.Scanner;<br/>&#13;
<br/>&#13;
<span class="ash">public class HiLo {</span></p>&#13;
<p class="indent">This line imports the <code>Scanner</code> class and all its functionality from the main Java utilities package. The <code>Scanner</code> class includes functions like <code>nextLine()</code> to accept a line of input from the keyboard and <code>nextInt()</code> to turn text input from the keyboard into an integer number that can be compared or used in calculations. To use the <code>Scanner</code> class for keyboard input, we have to tell it to use the keyboard as its source.</p>&#13;
<p class="indent">We want to do this before anything else in the program, so add this line of code inside the top of the <code>main()</code> method:</p>&#13;
<p class="pre"><span class="ash">public class HiLo {</span><br/>&#13;
    <span class="ash">public static void main(String[] args) {</span><br/>&#13;
       Scanner scan = new Scanner(System.<em>in</em>);<br/>&#13;
       <span class="ash">// Create a random number for the user to guess</span><br/>&#13;
       <span class="ash">int theNumber = (int)(Math.<em>random</em>() * 100 + 1);</span></p>&#13;
<p class="indent">This line creates a <code>Scanner</code> object called <code>scan</code> that pulls input from the computer’s keyboard, <code>System.in</code>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_26"/>Although this new line of code sets up the <code>scan</code> object, it doesn’t actually ask for input yet. To get the user to type in a guess, we’ll need to prompt them by asking them to enter a number. Then, we’ll take the number they enter from the keyboard and store it in a variable that we can compare against <code>theNumber</code>, the computer’s original random number. Let’s call the variable that will store the user’s guess something easy to remember, like <code>guess</code>. Add the following line next:</p>&#13;
<p class="pre">   <span class="ash">public static void main(String[] args) {</span><br/>&#13;
       <span class="ash">Scanner scan = new Scanner(System.<em>in</em>);</span><br/>&#13;
       <span class="ash">// Create a random number for the user to guess</span><br/>&#13;
       <span class="ash">int theNumber = (int)(Math.<em>random</em>() * 100 + 1);</span><br/>&#13;
       <span class="ash">System.<em>out</em>.println( theNumber );</span><br/>&#13;
       int guess = 0;</p>&#13;
<p class="indent">This statement both <em>declares</em> a variable called <code>guess</code> of type <code>int</code> (an integer in Java), and it <em>initializes</em> the <code>guess</code> variable to a starting value of <code>0</code>. Some programming languages require a variable to be declared and then initialized in separate lines of code, but Java allows programmers to include both the declaration and initialization of variables in a single line. Java requires every variable to be declared with a specific <em>type</em>, or kind of information it should store. The user’s guess will be a whole number, so we’ve declared <code>guess</code> as an <code>int</code>.</p>&#13;
<p class="indent">Next, we need to prompt the user to enter a guess. We can let the user know the program is ready for input by printing a line of text to the console window (or command line). We access this text-based screen as a part of our computer system through the <code>System</code> class, just like we did for keyboard input. But this time, we want to <em>output</em> information for the user to read. The object that lets us access the command line console for output is <code>System.out</code>. Similar to the <code>System.in</code> object that allows us to receive text input from the keyboard, <code>System.out</code> gives us the ability to output text to the screen. The specific function to print a line of text is the <code>println()</code> command:</p>&#13;
<p class="pre">   <span class="ash">  int guess = 0;</span><br/>&#13;
     System.<em>out</em>.println("Guess a number between 1 and 100:");</p>&#13;
<p class="indent">Here we are using <em>dot notation</em>, which lists a class or object, followed by a dot and then a method or an attribute of that class or object. Methods need to be called with dot notation to tell Java which object or class they belong to; for example, <code>Math.random()</code>. <em>Attributes</em> are the values stored in an object or class.</p>&#13;
<p class="indent">For example, <code>System</code> is a class representing your computer system. <code>System.out</code> is the command line screen object contained in the <code>System</code> class, because your computer monitor is part of your overall computer system. <code>System.out.println()</code> is a method to print a line of text using the <code>System.out</code> object. We’ll get more practice using dot notation as we continue.</p>&#13;
<p class="indent">Now that the user knows what kind of input the program is expecting from them, it’s time to check the keyboard for their guess. We’ll use the <code>Scanner</code> object called <code>scan</code> that we created earlier. Scanners have a method <span epub:type="pagebreak" id="page_27"/>called <code>nextInt()</code> that looks for the next <code>int</code> value the user inputs from the keyboard. We’ll store the user’s guess in the variable <code>guess</code> that we created earlier:</p>&#13;
<p class="pre">      <span class="ash">System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");</span><br/>&#13;
      guess = scan.nextInt();</p>&#13;
<p class="indent">This statement will wait for the user to type something into the console window (hopefully a whole number between 1 and 100—we’ll see how to make sure the user enters a valid number in <a href="ch3.xhtml#ch3">Chapter 3</a>) and press <small>ENTER</small>. The <code>nextInt()</code> method will take the string of text characters the user entered (<code>"50"</code>, for example), turn it into the correct numeric value (<code>50</code>), and then store that number in the variable <code>guess</code>. Take a moment to save the changes you’ve made so far.</p>&#13;
<h4 class="h4"><em><a id="toc_lev26"/>Making the Program Print Output</em></h4>&#13;
<p class="noindent">We can also check to make sure our program is working so far by adding another <code>println()</code> statement:</p>&#13;
<p class="pre">      <span class="ash">guess = scan.nextInt();</span><br/>&#13;
      System.<em>out</em>.println("You entered " + guess + ".");</p>&#13;
<p class="indent">This line uses the <code>System.out.println()</code> method again, but now we’re combining text and numeric output. If the user guesses <code>50</code>, we want the output to read, <code>"You entered 50."</code> To make this happen, we form a <code>println()</code> statement that mixes text with the number stored in the variable <code>guess</code>.</p>&#13;
<p class="indent">Java allows us to concatenate strings of text using the <code>+</code> operator. We use double quotation marks to specify the text we want to output first (<code>"You entered "</code>). Note the space before the closing quotation marks—this tells th program that we want a space to appear in the printed output after the last word. Java ignores most spacing, but when a space is included inside the quotation marks of a string of text, it becomes part of that text.</p>&#13;
<p class="indent">We also want to print the number the user guessed. We’ve stored this value in the variable called <code>guess</code>, so we just have to use the <code>println()</code> statement to output that value. Fortunately, in Java, when you include a variable in a <code>println()</code> statement, Java prints the value contained in that variable. So, immediately after the text <code>"You entered "</code>, we add the concatenation operator (<code>+</code>) followed by the variable name <code>guess</code>. Finally, we want to end the sentence with a period, so we use another concatenation operator followed by the text we want, contained in double quotation marks, so it looks like <code>"."</code>.</p>&#13;
<p class="indent"><a href="ch2.xhtml#ch2list3">Listing 2-3</a> puts together all of our lines of code so far.</p>&#13;
<p class="pre">import java.util.Scanner;<br/>&#13;
<br/>&#13;
public class HiLo {<br/>&#13;
    public static void main(String[] args) {<br/>&#13;
        Scanner scan = new Scanner(System.<span class="codeitalic">in</span>);<span epub:type="pagebreak" id="page_28"/><br/>&#13;
        // Create a random number for the user to guess<br/>&#13;
        int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);<br/>&#13;
      <span class="ent">➊</span> // System.out.println( theNumber );<br/>&#13;
        int guess = 0;<br/>&#13;
        System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");<br/>&#13;
        guess = scan.nextInt();<br/>&#13;
        System.<span class="codeitalic">out</span>.println("You entered " + guess + ".");<br/>&#13;
  }<br/>&#13;
}</p>&#13;
<p class="noindenttb"><em><a id="ch2list3"/>Listing 2-3: The code to this point generates a random number and allows the user to guess once.</em></p>&#13;
<p class="indent">At <span class="ent">➊</span>, note that I turned <code>System.out.println( theNumber );</code> into a comment by adding a pair of forward slashes to the start of that line. This is called <em>commenting out</em>, and it’s a useful technique for <em>debugging</em>—finding and fixing bugs or errors in programs. We used this <code>println()</code> statement earlier to show the value of the variable <code>theNumber</code> while we were writing and testing the program. Now, rather than deleting the line entirely, we can turn it into a comment so it’s ignored by the computer. If we want to use that line again, we can just remove the <code>//</code> to include it in the program.</p>&#13;
<p class="indent">Now let’s save our program and run it to see how it works so far. To run it, press the green run button or go to <strong>Run</strong> <span class="ent">▸</span> <strong>Run</strong>. Right now, the user can guess only once and the program doesn’t check whether they guessed correctly. So next, we’ll add some code so that the user can guess more than one time, and then we’ll learn how to test each guess against <code>theNumber</code>.</p>&#13;
<h3 class="h3"><a id="toc_lev27"/>Loops: Ask, Check, Repeat</h3>&#13;
<p class="noindent">To give the user more than one chance to guess the number, we need to learn how to build a loop! In the guessing game program, we need to ask the user for a guess until they guess correctly. <em>Loops</em> give us the ability to repeat a set of steps over and over. In this section, we’ll build a loop for the steps that prompt the user for a guess and accept the keyboard input.</p>&#13;
<p class="indent">Loops are very powerful programming tools, and they’re one of the reasons computers are so valuable in our daily lives and in the business world—computers are really good at repeating the same task predictably. And, if they’re programmed correctly, they can do this all day, every day, without making mistakes. You or I might get tired of telling someone their guess is too high or too low, but the computer never does. It will also never forget the number or tell the player their guess is too low or too high when it’s actually not.</p>&#13;
<p class="indent">Let’s tap into the power of loops with a <code>while</code> loop. A <code>while</code> loop repeats a set of statements as long as some <em>condition</em> is true. A condition is just something we can test. For example, in this program, we want to know whether the user correctly guessed the secret number. If they didn’t guess correctly, we want to keep giving them a chance to guess again until they get it right.</p>&#13;
<p class="indent">To write a <code>while</code> loop, we need to know what condition we want to test for before repeating the loop each time. In the guessing game, we want the <span epub:type="pagebreak" id="page_29"/>user to guess again as long as their <code>guess</code> isn’t equal to the secret number <code>theNumber</code>. When the user’s guess is equal to the secret number, the user wins and the game is over, so the loop should stop.</p>&#13;
<p class="indent">To create a <code>while</code> loop, we need to insert a <code>while</code> statement before the last three lines of code and then wrap the three lines for guessing inside a new pair of braces, as follows:</p>&#13;
<p class="pre"><span class="ash">      int guess = 0;</span><br/>&#13;
      while (guess != theNumber) {<br/>&#13;
      <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println("Guess a number between 1 and 100:");</span><br/>&#13;
      <span class="ash">guess = scan.nextInt();</span><br/>&#13;
      <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println("You entered " + guess + ".");</span><br/>&#13;
      }<br/>&#13;
   <span class="ash">}</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="indent">We use the keyword <code>while</code> to let Java know we’re building a <code>while</code> loop, and then we put the appropriate condition inside parentheses. The part inside the parentheses, <code>guess != theNumber</code>, means that while the value stored in <code>guess</code> is not equal to (<code>!=</code>) the value stored in <code>theNumber</code>, the loop should repeat whatever statement or set of statements immediately follow this line of code. The <code>!=</code> operator is a <em>comparison operator</em>—in this case, it compares <code>guess</code> and <code>theNumber</code> and evaluates whether they’re different, or <em>not equal</em>. You’ll learn about other comparison operators in the next section, but this is the one we need for the guessing <code>while</code> loop.</p>&#13;
<p class="indent">We need to tell Java what statements to repeat in the <code>while</code> loop, so I’ve added an opening brace, <code>{</code>, after the <code>while</code> statement. In the same way that braces group all the statements together in the <code>main()</code> method, these braces group statements together inside the <code>while</code> loop.</p>&#13;
<p class="indent">There are three statements that we want to include inside the loop. First we need the <code>println()</code> statement that prompts the user to guess a number. Then we need the statement that scans the keyboard and records the guess with the <code>nextInt()</code> method. Finally, we need the <code>println()</code> statement that tells the user what they entered. To turn this set of statements into a block of code that will be run repeatedly in the <code>while</code> statement, we write the <code>while</code> statement and condition first, then an opening brace, then all three statements, and finally, a closing brace. Don’t forget the closing brace! Your program won’t run if it’s missing.</p>&#13;
<p class="indent">One good programming practice that will help you keep your code organized and readable is using tab spacing correctly. Highlight the three statements inside the braces for the <code>while</code> statement and then press the <small>TAB</small> key to indent them.</p>&#13;
<p class="indent">The result should look like the following code:</p>&#13;
<p class="pre">      <span class="ash">int guess = 0;</span><br/>&#13;
      while (guess != theNumber) {<br/>&#13;
          System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");<br/>&#13;
          guess = scan.nextInt();<br/>&#13;
          System.<span class="codeitalic">out</span>.println("You entered " + guess + ".");<br/>&#13;
      }<span epub:type="pagebreak" id="page_30"/><br/>&#13;
   <span class="ash">}</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="indent">Correct indentation will help you remember to match up your opening and closing braces, and it will help you quickly see which statements are inside a loop or other block of code, as well as which statements are outside the loop. Indentation doesn’t affect how your program runs, but if done well, it makes your program much easier to read and maintain.</p>&#13;
<p class="indent">Save your program now and run it to check that it works. The game is almost playable now, but we still need to tell the program to check if the user’s guess is too high, too low, or just right. Time for (drum roll, please . . .) <code>if</code> statements!</p>&#13;
<h4 class="h4"><em><a id="toc_lev28"/>if Statements: Testing for the Right Conditions</em></h4>&#13;
<p class="noindent">Now that the user is able to guess until they are correct, we need to check the guess to let them know whether they were too high or too low. The statement that allows us to do this is the <code>if</code> statement.</p>&#13;
<p class="indent">An <code>if</code> statement will select whether to run a block of statements once or not at all based on a condition, or a <em>conditional expression</em>.</p>&#13;
<p class="indent">We used a conditional expression before in the guessing loop: <code>(guess != theNumber)</code>. To check whether a guess is too high or too low, we just need a few more comparison operators: less than (<code>&lt;</code>), greater than (<code>&gt;</code>), and equal to (<code>==</code>).</p>&#13;
<p class="indent">First, instead of just telling the user what their guess was, let’s write some code to check whether their guess was too low. Replace the last line of the <code>while</code> statement with the following two-line <code>if</code> statement:</p>&#13;
<p class="pre">      <span class="ash">while (guess != theNumber) {</span><br/>&#13;
          <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println("Guess a number between 1 and 100:");</span><br/>&#13;
          <span class="ash">guess = scan.nextInt();</span><br/>&#13;
          if (guess &lt; theNumber)<br/>&#13;
              System.<span class="codeitalic">out</span>.println(guess + " is too low. Try again.");<br/>&#13;
          <span class="ash">}</span></p>&#13;
<p class="indent">The <code>if</code> statement begins with the keyword <code>if</code>, followed by a conditional expression in parentheses. In this case, the condition is <code>guess &lt; theNumber</code>, which means the value of the user’s guess is less than the value of the random secret number. Notice there’s no semicolon after the parentheses, because the <code>println()</code> statement that follows is actually part of the <code>if</code> statement. The whole statement tells the program that if the condition is true, it should print the user’s guess and let them know they guessed too low. We use the concatenation operator (<code>+</code>) between the user’s guess and the string of text telling them the guess was too low. Note the space after the first double quote and before <code>is</code>. This separates the user’s guess from the word <code>is</code>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_31"/>If you run the program now and enter a low guess, like <span class="codestrong"><code>1</code></span>, the <code>if</code> statement should tell the program to say your guess is too low. That’s a good start, but what if we guess a number that’s too high instead? In that case, we need an <code>else</code> statement.</p>&#13;
<p class="indent">The <code>else</code> statement gives the program a way to choose an alternative path, or set of steps, if the condition in the <code>if</code> statement is not true. We can test for guesses that are too high or too low with an <code>if-else</code> statement pair. Let’s add an <code>else</code> statement right after the <code>if</code> statement:</p>&#13;
<p class="pre">      <span class="ent">➊</span> <span class="ash"> if (guess &lt; theNumber)</span><br/>&#13;
            <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println(guess + " is too low. Try again.");</span><br/>&#13;
      <span class="ent">➋</span> else if (guess &gt; theNumber)<br/>&#13;
            System.<span class="codeitalic">out</span>.println(guess + " is too high. Try again.");</p>&#13;
<p class="indent">Notice that the code at <span class="ent">➋</span> looks similar to the code at <span class="ent">➊</span>. Often when we’re using <code>if-else</code> statements, we need to check for multiple conditions in a row, instead of just one. Here, we need to check for a guess that’s too low, too high, or just right. In cases like this, we can chain <code>if-else</code> conditions together by placing the next <code>if</code> statement inside the <code>else</code> portion of the previous <code>if-else</code> statement. At <span class="ent">➋</span> we’ve begun the next <code>if</code> statement immediately after the <code>else</code> from the previous condition. If the guess is higher than the number, the program tells the user their guess is too high. Now that the program can tell the user if their guess is too high or too low, we just need to tell them if they guessed correctly and won!</p>&#13;
<p class="indent">If neither of the previous conditions is true—the user’s guess is not too high and not too low—then they must have guessed the number. So we add one final <code>else</code> statement:</p>&#13;
<p class="pre">       <span class="ent">➊</span> <span class="ash"> if (guess &lt; theNumber)</span><br/>&#13;
              <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println(guess + " is too low. Try again.");</span><br/>&#13;
       <span class="ent">➋</span><span class="ash"> else if (guess &gt; theNumber)</span><br/>&#13;
             <span class="ash">System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println(guess + " is too high. Try again.");</span><br/>&#13;
       <span class="ent">➌</span> else<br/>&#13;
             System.<span class="codeitalic">out</span>.println(guess + " is correct. You win!");</p>&#13;
<p class="indent">Notice that we don’t need a conditional expression for this final <code>else</code> statement <span class="ent">➌</span>. A correct guess is the only remaining option if the number is neither too high nor too low. In the case of a winning guess, we provide the statement to let the user know they’ve won. The full program up to this point is shown in <a href="ch2.xhtml#ch2list4">Listing 2-4</a>. Save your <em>HiLo.java</em> file and run the program to check that it works. It should prompt you to enter guesses until you guess the correct number.</p>&#13;
<p class="pre">import java.util.Scanner; <br/>&#13;
<br/>&#13;
public class HiLo {<br/>&#13;
    public static void main(String[] args) {<br/>&#13;
        Scanner scan = new Scanner(System.<span class="codeitalic">in</span>);<br/>&#13;
        // Create a random number for the user to guess<br/>&#13;
        int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);<span epub:type="pagebreak" id="page_32"/><br/>&#13;
        // System.out.println( theNumber );<br/>&#13;
        int guess = 0;<br/>&#13;
        while (guess != theNumber) {<br/>&#13;
            System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");<br/>&#13;
            guess = scan.nextInt();<br/>&#13;
            if (guess &lt; theNumber)<br/>&#13;
                System.<span class="codeitalic">out</span>.println(guess + " is too low. Try again.");<br/>&#13;
            else if (guess &gt; theNumber)<br/>&#13;
                System.<span class="codeitalic">out</span>.println(guess + " is too high. Try again.");<br/>&#13;
            else<br/>&#13;
                System.<span class="codeitalic">out</span>.println(guess + " is correct. You win!");<br/>&#13;
        }  // End of while loop for guessing<br/>&#13;
    }<br/>&#13;
 }</p>&#13;
<p class="code-title"><em><a id="ch2list4"/>Listing 2-4: The Hi-Lo guessing game is complete for a single full round of play.</em></p>&#13;
<p class="indent">The full program is now a completely playable guessing game! After the user wins, the program tells them that they guessed correctly and won, and then it ends, as shown in <a href="ch2.xhtml#ch2fig6">Figure 2-6</a>.</p>&#13;
<div class="image"><img src="../images/f0032-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig6"/>Figure 2-6: One full play-through of the Hi-Lo guessing game—the program ends when the user guesses the secret number.</em></p>&#13;
<p class="indent">Give yourself a hand! You’ve built a program in Java from scratch, and if this is your first program ever in Java, you deserve some kudos. Enjoy the game for a few rounds and see if you can guess the number in fewer tries each time. Test your program to make sure it works the way you want, and we’ll add some improvements in the next section.</p>&#13;
<h4 class="h4"><span epub:type="pagebreak" id="page_33"/><em><a id="toc_lev29"/>Adding a Play Again Loop</em></h4>&#13;
<p class="noindent">Right now, the only way to play the guessing game again is to rerun the program in Eclipse. Fortunately, we already know there’s a way to make our program do something over and over again—we need another loop!</p>&#13;
<p class="indent">The guessing game program ends when the user guesses the right number because there’s nothing after the <code>while</code> loop. The <code>while</code> loop ends when the condition <code>(guess != theNumber)</code> is no longer true. A user might want to play over and over once they get the hang of the game. For this play again loop, we’ll learn a new keyword and a new kind of loop: the <code>do-while</code> loop.</p>&#13;
<p class="indent">Like the <code>while</code> loop, a <code>do-while</code> loop repeats a block of statements as long as a condition is true. Unlike the <code>while</code> loop, however, the block of code inside a <code>do-while</code> loop is guaranteed to run at least once. There are times when the condition at the top of a <code>while</code> loop may be false before the loop even starts, so the entire loop and all the lines of code inside it are ignored. Think of the condition of a <code>while</code> loop as being like a thermostat on a heater. If the temperature of the room is already warm enough and the condition for the heater to turn on isn’t met, the heater may not turn on at all.</p>&#13;
<p class="indent">For our guessing game, or almost any game program in general, we choose a <code>do-while</code> loop (we sometimes call this the <em>game loop</em>), because the user probably wants to play the game at least once. We also usually want to ask the user if they would like to play again, and the user typically responds yes or no (or <code>y</code> or <code>n</code> in a text-based game like this one). The game will continue to play through the game loop as long as the user responds with a yes.</p>&#13;
<p class="indent">To check the user’s response, we’ll need a new type of variable: a <code>String</code>. Strings are objects that hold text within double quotation marks, like <code>"y"</code>, or <code>"yes"</code>, or <code>"My name is Bryson! I hope you like my game!"</code>. Earlier we used an integer variable, or <code>int</code> type, to hold the numbers the user was guessing, but now we need to hold text, so we’ll use a <code>String</code> instead. We can add a <code>String</code> variable to the top of the program, right after the <code>Scanner</code> setup:</p>&#13;
<p class="pre">      <span class="ash">Scanner scan = new Scanner(System.</span><span class="ash"><span class="codeitalic">in</span></span><span class="ash">);</span><br/>&#13;
      String playAgain = "";</p>&#13;
<p class="indent">Notice the <code>String</code> type begins with an uppercase <code>S</code>. This is because the <code>String</code> type is actually a class, complete with several useful functions for working with strings of text. I’ve named the variable <code>playAgain</code>, using camel case with a capital <code>A</code> to start the second word. Remember, no spaces are allowed in variable names. And, just like how we gave an initial value of <code>0</code> to the <code>guess</code> variable with <code>int guess = 0</code>, here we’ve given an initial value to the <code>playAgain</code> variable with <code>playAgain = ""</code>. The two double quotes, with no space between, indicate an empty string, or a <code>String</code> variable with no text in it. We’ll assign a different text value to the variable later, when the user enters <code>y</code> or <code>n</code>.</p>&#13;
<p class="indent">Just as we did with the <code>while</code> loop, we’ll need to figure out which statements should be repeated in the <code>do-while</code> loop. The <code>do-while</code> loop will be our main loop, so almost all of the statements in the program will go inside it. In fact, all the remaining statements after the <code>Scanner</code> and <code>String playAgain</code> <span epub:type="pagebreak" id="page_34"/>statements will be contained in the <code>do-while</code> loop. Those steps describe one full round of play, so for each round, the game repeats all of those steps again, from choosing a new random number to declaring a winning guess and asking the user to play again.</p>&#13;
<p class="indent">So, we can add the <code>do</code> keyword and an opening brace immediately after these two lines and before the code that creates the secret number:</p>&#13;
<p class="pre">      <span class="ash">Scanner scan = new Scanner(System.</span><span class="ash"><span class="codeitalic">in</span></span><span class="ash">);</span><br/>&#13;
      <span class="ash">String playAgain = "";</span><br/>&#13;
      do {<br/>&#13;
          <span class="ash">// Create a random number for the user to guess</span><br/>&#13;
          <span class="ash">int theNumber = (int)(Math.</span><span class="ash"><span class="codeitalic">random</span></span><span class="ash">() * 100 + 1);</span><br/>&#13;
          <span class="ash">// System.out.println( theNumber );</span><br/>&#13;
          <span class="ash">int guess = 0;</span><br/>&#13;
          <span class="ash">while (guess != theNumber) {</span></p>&#13;
<p class="indent">Then, after the closing brace for the <code>while</code> loop for guessing and the brace following our last <code>else</code> statement, we’ll ask the user if they would like to play again and get their response from the keyboard.</p>&#13;
<p class="indent">Then we need to close the <code>do-while</code> loop with a <code>while</code> condition to check whether the user replied with a yes:</p>&#13;
<p class="pre">      <span class="ash">}   // End of while loop for guessing</span><br/>&#13;
        <span class="ent">➊</span> System.<span class="codeitalic">out</span>.println("Would you like to play again (y/n)?");<br/>&#13;
        <span class="ent">➋</span> playAgain = scan.next();<br/>&#13;
    <span class="ent">➌</span> } while (playAgain.equalsIgnoreCase("y"));<br/>&#13;
  <span class="ent">➍</span> <span class="ash">}</span><br/>&#13;
<span class="ent">➎</span> <span class="ash">}</span></p>&#13;
<p class="indent">The prompt asks the user <code>"Would you like to play again (y/n)?"</code> <span class="ent">➊</span>, to which they can reply with a single letter, <code>y</code> for yes or <code>n</code> for no. At <span class="ent">➋</span>, the <code>scan.next()</code> function scans the keyboard for input, but instead of looking for the next integer as <code>nextInt()</code> does, it looks for the next character or group of characters that the user types on the keyboard. Whatever the user types will get stored in the variable <code>playAgain</code>.</p>&#13;
<p class="indent">The line at <span class="ent">➌</span> closes the block of code that repeats the game with a brace, and it contains the <code>while</code> condition that determines whether the code will run again. Within the <code>while</code> condition, you can see an example of the <code>equals()</code> method of a <code>String</code> object. The <code>equals()</code> method tells you whether a string variable is exactly the same as another string of characters, and the <code>equalsIgnoreCase()</code> method tells you whether the strings are equal even if their capitalization is different. In our game, if the user wants to play again, they are asked to type <code>y</code>. However, if we just test for a lowercase <code>y</code>, we might miss an uppercase <code>Y</code> response. In this case, we want to be flexible by checking for the letter <code>y</code>, whether it is uppercase or lowercase, so we use the string method <code>equalsIgnoreCase()</code>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_35"/>The final <code>while</code> statement tells Java to continue to do the game loop while the string variable <code>playAgain</code> is either an uppercase or lowercase <code>y</code>. The final two closing braces at <span class="ent">➍</span> and <span class="ent">➎</span> are the ones that were already in the program. The one at <span class="ent">➍</span> closes the <code>main()</code> method, and the one at <span class="ent">➎</span> closes the entire <code>HiLo</code> class. I’ve included them just to show where lines <span class="ent">➊</span> through <span class="ent">➌</span> should be inserted.</p>&#13;
<p class="indent">The complete game to this point is shown in <a href="ch2.xhtml#ch2list5">Listing 2-5</a>.</p>&#13;
<p class="pre">import java.util.Scanner;<br/>&#13;
public class HiLo {<br/>&#13;
    public static void main(String[] args) {<br/>&#13;
        Scanner scan = new Scanner(System.<span class="codeitalic">in</span>);<br/>&#13;
        String playAgain = "";<br/>&#13;
        do {<br/>&#13;
           // Create a random number for the user to guess<br/>&#13;
           int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);<br/>&#13;
           // System.out.println( theNumber );<br/>&#13;
           int guess = 0;<br/>&#13;
           while (guess != theNumber) {<br/>&#13;
               System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");<br/>&#13;
               guess = scan.nextInt();<br/>&#13;
               if (guess &lt; theNumber)<br/>&#13;
                   System.<span class="codeitalic">out</span>.println(guess + " is too low. Try again.");<br/>&#13;
               else if (guess &gt; theNumber)<br/>&#13;
                   System.<span class="codeitalic">out</span>.println(guess + " is too high. Try again.");<br/>&#13;
               else<br/>&#13;
                   System.<span class="codeitalic">out</span>.println(guess + " is correct. You win!");<br/>&#13;
         }   // End of while loop for guessing<br/>&#13;
         System.<span class="codeitalic">out</span>.println("Would you like to play again (y/n)?");<br/>&#13;
         playAgain = scan.next();<br/>&#13;
      } while (playAgain.equalsIgnoreCase("y"));<br/>&#13;
    }<br/>&#13;
}</p>&#13;
<p class="code-title"><em><a id="ch2list5"/>Listing 2-5: The Hi-Lo guessing game is ready to play over and over again.</em></p>&#13;
<p class="indent">Review your code to make sure you’ve added everything in the correct place, check your braces and semicolons, and take a moment to save your file. We’ll test the game in the next section.</p>&#13;
<div class="note">&#13;
<p class="notet"><span class="noteg"><strong>NOTE</strong></span></p>&#13;
<p class="notep"><em>Your indentation, which is the tab spacing at the beginning of each line, may not look exactly like the last code snippet because we’ve added braces in a couple of new places. Fortunately, adding new features, including loops and other blocks of code, is so common in Java that Eclipse has a menu option to clean up indentation automatically. First, select (highlight) all the text in your</em> HiLo.java <em>file on the screen. Then, go to</em> <strong><em>Source</em></strong> <span class="ent">▸</span> <strong><em>Correct Indentation</em></strong>. <em>Eclipse will correctly indent each line of code to show which statements are meant to be grouped together. As I mentioned before, the indentation doesn’t matter to the computer (the program will run just fine even with</em> no <em>tabs or extra spaces), but good indentation and spacing help make the program easier to read.</em></p>&#13;
</div>&#13;
<h3 class="h3"><span epub:type="pagebreak" id="page_36"/><a id="toc_lev30"/>Testing the Game</h3>&#13;
<p class="noindent">Now that the play again loop is in place, the game should run perfectly. First, save your <em>HiLo.java</em> file and choose <strong>Run</strong> <span class="ent">▸</span> <strong>Run</strong> to test the program. After you guess the first random number correctly, the program should ask you if you’d like to play again. As long as you respond <span class="codestrong"><code>y</code></span> (or <span class="codestrong"><code>Y</code></span>) and press <small>ENTER</small>, the program should keep giving you new random numbers to guess. In the screenshot in <a href="ch2.xhtml#ch2fig7">Figure 2-7</a>, notice that the game starts over when I respond <span class="codestrong"><code>y</code></span> to the prompt to play again.</p>&#13;
<div class="image"><img src="../images/f0036-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="ch2fig7"/>Figure 2-7: The guessing game is fully playable for multiple rounds as long as the user answers y or Y</em>.</p>&#13;
<p class="indent">When the user finishes playing and responds to the play again question with <code>n</code>, or anything other than <code>y</code> or <code>Y</code>, the game will end. However, we might want to thank them for playing after they’ve finished the game. Add the following line after the final <code>while</code> statement, before the final two closing braces:</p>&#13;
<p class="pre">      <span class="ash">} while (playAgain.equalsIgnoreCase("y"));</span><br/>&#13;
      System.<span class="codeitalic">out</span>.println("Thank you for playing! Goodbye.");<br/>&#13;
   <span class="ash">}</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_37"/>Finally, the last line we’ll add to the guessing game app is to address a warning you may have noticed in Eclipse. This warning appears as a faint yellow line under the declaration of the <code>scan</code> object, as well as a yellow triangle with an exclamation point to the left of that line. Eclipse is bringing to our attention that we’ve opened a resource that we haven’t closed. In programming, this can create what’s known as a <em>resource leak</em>. This doesn’t usually matter if we just open one <code>Scanner</code> object for keyboard input, but if we leave multiple <code>Scanner</code> objects open without closing them, the program could fill up memory, slowing or even crashing the user’s system. We use the <code>close()</code> method of the <code>Scanner</code> class to tell our program to close the connection to the keyboard.</p>&#13;
<p class="indent">Add the following line after the <code>println()</code> statement thanking the user for playing, before the final two closing braces:</p>&#13;
<p class="pre">    <span class="ash">  System.</span><span class="ash"><span class="codeitalic">out</span></span><span class="ash">.println("Thank you for playing! Goodbye.");</span><br/>&#13;
      scan.close();<br/>&#13;
   <span class="ash">  }</span><br/>&#13;
<span class="ash">}</span></p>&#13;
<p class="indent">You’ll notice that the yellow warning disappears from the Eclipse editor window when we add this line. Eclipse helps with common programming errors like misspellings or missing punctuation, and it even warns us about problems that <em>could</em> occur like resource leaks and unused variables. As you build bigger, more complex applications in Java, these features of the IDE will become even more valuable. You can find more information on using Eclipse to debug your programs in the appendix.</p>&#13;
<p class="indent">The finished program, shown in <a href="ch2.xhtml#ch2list6">Listing 2-6</a>, is a fully playable guessing game, complete with the option to play again and guess a new random number every game.</p>&#13;
<p class="pre">import java.util.Scanner; <br/>&#13;
<br/>&#13;
public class HiLo {<br/>&#13;
    public static void main(String[] args) {<br/>&#13;
        Scanner scan = new Scanner(System.<span class="codeitalic">in</span>);<br/>&#13;
        String playAgain = "";<br/>&#13;
        do {<br/>&#13;
           // Create a random number for the user to guess<br/>&#13;
           int theNumber = (int)(Math.<span class="codeitalic">random</span>() * 100 + 1);<br/>&#13;
           // System.out.println( theNumber );<br/>&#13;
           int guess = 0;<br/>&#13;
           while (guess != theNumber) {<br/>&#13;
               System.<span class="codeitalic">out</span>.println("Guess a number between 1 and 100:");<br/>&#13;
               guess = scan.nextInt();<br/>&#13;
               if (guess &lt; theNumber)<br/>&#13;
                   System.<span class="codeitalic">out</span>.println(guess + " is too low. Try again.");<br/>&#13;
              else if (guess &gt; theNumber)<br/>&#13;
                  System.<span class="codeitalic">out</span>.println(guess + " is too high. Try again.");<br/>&#13;
              else<br/>&#13;
                  System.<span class="codeitalic">out</span>.println(guess + " is correct. You win!");<br/>&#13;
            }  // End of while loop for guessing<span epub:type="pagebreak" id="page_38"/><br/>&#13;
            System.<span class="codeitalic">out</span>.println("Would you like to play again (y/n)?");<br/>&#13;
            playAgain = scan.next();<br/>&#13;
      } while (playAgain.equalsIgnoreCase("y"));<br/>&#13;
      System.<span class="codeitalic">out</span>.println("Thank you for playing! Goodbye.");<br/>&#13;
      scan.close();<br/>&#13;
   }<br/>&#13;
}</p>&#13;
<p class="code-title"><em><a id="ch2list6"/>Listing 2-6: The finished text-based, command line guessing game</em></p>&#13;
<p class="indent">There are a few things worth noting about the finished Hi-Lo guessing game program. First, despite all the work in writing it, the code is relatively short—fewer than 30 lines long. Nevertheless, you could play it forever if you wanted to. Second, this program not only demonstrates conditions and looping, it also makes use of a loop inside another loop. This is called a <em>nested loop</em>, because the guessing loop is contained in, or nested inside, the play again loop. The indentation helps us see where the <code>do-while</code> loop begins and ends, and we can see the smaller <code>while</code> loop and its <code>if</code> statements tabbed over and nested inside the bigger <code>do-while</code> loop. Finally, we end the program neatly—both for the user, by thanking them for playing, and for the computer, by closing the scanner resource.</p>&#13;
<h3 class="h3"><a id="toc_lev31"/>What You Learned</h3>&#13;
<p class="noindent">While building a simple, fun, playable game, we’ve picked up several valuable programming concepts along the way. That’s the way I first learned how to code as a kid—I would find a fun game or graphical app, program it, then change it, take it apart, and try new things. Play and exploration are an important part of learning anything new, and I hope you’ll take a little time to try new things with each program. The programming challenges at the end of each chapter will also give you an opportunity to try a few new things.</p>&#13;
<p class="indentb">In building this guessing game, we’ve developed a wide range of skills in Java:</p>&#13;
<p class="bull">• Creating a new class, <code>HiLo</code></p>&#13;
<p class="bull">• Importing an existing Java package, <code>java.util.Scanner</code></p>&#13;
<p class="bull">• Using a <code>Scanner</code> object to accept keyboard input</p>&#13;
<p class="bull">• Declaring and initializing integer and string variables</p>&#13;
<p class="bull">• Generating a random number with <code>Math.random()</code> and casting it to an integer</p>&#13;
<p class="bull">• Using <code>while</code> and <code>do-while</code> loops to repeat a set of steps while a condition is true</p>&#13;
<p class="bull">• Printing text strings and variable values to the command line console</p>&#13;
<p class="bull">• Scanning integers and strings from the keyboard and storing them in variables</p>&#13;
<p class="bull">• Testing various conditional expressions in <code>if</code> and <code>if-else</code> statements</p>&#13;
<p class="bull"><span epub:type="pagebreak" id="page_39"/>• Using <code>String</code> methods to compare string values with <code>equalsIgnoreCase()</code></p>&#13;
<p class="bull">• Closing input resources like <code>Scanner</code> objects with the <code>close()</code> method</p>&#13;
<p class="bull">• Running a command line program from inside Eclipse</p>&#13;
<p class="indentt">In addition to practical skills, you’ve also developed a working knowledge of several important programming concepts in Java:</p>&#13;
<p class="bq"><strong>Variables</strong> <code>theNumber</code> is an integer variable, or <code>int</code>, and so is <code>guess</code>. <code>playAgain</code> is a string variable, or <code>String</code>. We change the values of these variables as we play the game by entering new number guesses or answering <code>y</code> or <code>n</code>.</p>&#13;
<p class="bq"><strong>Methods</strong> Methods are what we call functions inside a class in Java. <code>Math.random()</code> is a method for generating random numbers between 0.0 and 1.0. The <code>scan.nextInt()</code> method accepts numeric input from the user. <code>System.out.println()</code> is a function for displaying text to the console or terminal window.</p>&#13;
<p class="bq"><strong>Conditionals</strong> The <code>if-else</code> statements allow us to test whether a condition, like <code>guess &lt; theNumber</code>, is true and run a different block of code depending on the outcome of that test. We also use conditional expressions to determine whether to perform a loop again, as in the statement <code>while (guess != theNumber)</code>. This statement will loop as long as <code>guess</code> is not equal to <code>theNumber</code>. Remember the test for “is equal to” is the double equal sign: <code>==</code>.</p>&#13;
<p class="bq"><strong>Loops</strong> A <code>while</code> loop lets us repeat a block of code as long as a condition is true. We used a <code>while</code> loop in the guessing game to keep asking the user for another guess until they got the right number. A <code>do-while</code> loop always runs at least once, and we used one to ask the user if they wanted to play again.</p>&#13;
<p class="bq"><strong>Classes</strong> The whole HiLo app is a Java class, <code>public class HiLo</code>. A class is a template. Now that we’ve built a class template for the HiLo guessing game, we can reuse it to play the guessing game across many different computers. We also imported the <code>Scanner</code> and <code>Math</code> classes in this app to accept user input and generate random numbers. We’ll write our own classes to do something new, and we’ll take advantage of the classes already included in Java to do everyday tasks like input, math, and more.</p>&#13;
<h3 class="h3"><a id="toc_lev32"/>Programming Challenges</h3>&#13;
<p class="noindent">Try these programming challenges to review and practice what you’ve learned and to expand your programming skills. If you get stuck, you can visit the book’s website at <em><a href="https://www.nostarch.com/learnjava/">https://www.nostarch.com/learnjava/</a></em> to download sample solutions, or you can watch this lesson in the video course online at <em><a href="http://www.udemy.com/java-the-easy-way/">http://www.udemy.com/java-the-easy-way/</a></em> for step-by-step solutions. <a href="ch2.xhtml#ch2">Chapter 2</a> is free to preview, and you can use the coupon code BOOKHALFOFF to save 50 percent when you buy the full course.</p>&#13;
<h4 class="h4"><span epub:type="pagebreak" id="page_40"/><em><a id="toc_lev33"/>#1: Expanding Your Range</em></h4>&#13;
<p class="noindent">For this first programming challenge, change the guessing game to use a bigger range of numbers. Instead of 1 to 100, try having the user guess between −100 and 100!</p>&#13;
<div class="note">&#13;
<p class="notet"><span class="noteg"><strong>HINT</strong></span></p>&#13;
<p class="notep"><em>Multiply Math.random() by 200 and subtract 100 from the result.</em></p>&#13;
</div>&#13;
<p class="indent">Remember to change <em>both</em> the programming statement that generates the random number <em>and</em> the prompt that tells the user the range they should guess between.</p>&#13;
<p class="indent">If you want an easier game, you can change the range from 1 to 10 and wow your friends when you can guess the secret number in just four tries. Try other ranges, like 1 to 1,000, or even 1 to 1,000,000, or use negative ranges if you want! (Remember that you can’t use commas when writing the number in Java.) You’ll not only get better at programming but also improve your math skills. Change the program however you’d like and have fun with it!</p>&#13;
<div class="sidebar">&#13;
<p class="sidetitle"><strong>STRATEGIZE YOUR GUESSES</strong></p>&#13;
<p class="noindent">You may discover that the more you play the guessing game, the faster you’ll be able to guess the secret number. You might even stumble onto the fact that you can guess the number fastest by guessing in the middle of a range with each new guess. This technique is called a <em>binary search</em>. Guessing a number in the middle of the possible range cuts the number of possibilities in half each time.</p>&#13;
<p class="indent">Here’s how it works. For a number from 1 to 100, guess 50. If that’s too low, you know the secret number must be between 51 and 100, so guess 75, right in the middle of this range. If that’s too low, try a number halfway between 76 and 100, which would be 87. One reason the binary search is so valuable is that we can reduce the number of guesses to just seven tries (or fewer) to find a secret number between 1 and 100, every time. Try it out!</p>&#13;
<p class="indent">When you get the hang of guessing a number between 1 and 100 in seven tries or less, try guessing a number from 1 to 1,000 in just 10 tries. If you’re really brave (and have a pencil nearby), try guessing a number from 1 to 1,000,000. Believe it or not, it should take you just 20 guesses.</p>&#13;
</div>&#13;
<h4 class="h4"><em><a id="toc_lev34"/>#2: Counting Tries</em></h4>&#13;
<p class="noindent">We’ve already built a pretty cool guessing game app, but let’s try adding one more feature to the game. Your challenge is to count and report how many tries it takes the user to guess the secret number. It could look something like the following:</p>&#13;
<p class="pre">62 is correct! You win!<br/>&#13;
It only took you 7 tries! Good work!</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_41"/>To accomplish this task, you’ll need to create a new variable (you might add a line like <code>int numberOfTries = 0;</code>), and you’ll have to add to the number of tries every time the guessing loop executes. You can do this by increasing the variable <code>numberOfTries</code> by one for each new loop using <code>numberOfTries = numberOfTries + 1</code>. Be sure to include text to let the user know the number of tries.</p>&#13;
<p class="indent">It may take a few tries to get all the code working in the right order at the right time, but it’s worth the effort and will help you practice your new skills. In <a href="ch3.xhtml#ch3">Chapter 3</a>, we’ll build this feature into a different version of the guessing game. In the meantime, I hope you’ll come up with even more ideas for improving and changing the game. Playing with your programs, taking them apart, and rebuilding them can be the best way to learn.</p>&#13;
<h4 class="h4"><em><a id="toc_lev35"/>#3: Playing MadLibs</em></h4>&#13;
<p class="noindent">For your final challenge in this chapter, let’s write a completely new program. We’ve learned how to ask a user for input and store it in a variable. We’ve also learned how to print out both text and variable values to the screen. With those skills, you can build even more interesting and fun programs.</p>&#13;
<p class="indent">Have you ever played MadLibs? Let’s try to use our new skills to build a program in that same style. MadLibs asks a player for various words or parts of speech, such as a color, a past-tense verb, or an adjective, and then inserts the words the player chose into a template, usually resulting in a funny story. For example, if a player gave a color of “pink,” a past-tense verb of “burped,” and an adjective of “silly” and then inserted them into the template “The ____ dragon ____ at the ____ knight,” they would get the result “The <em>pink</em> dragon <em>burped</em> at the <em>silly</em> knight.”</p>&#13;
<p class="indent">Now, the challenge is to write a new program, <em>MadLibs.java</em>, with a class called <code>MadLibs</code> and a <code>main()</code> method that prompts the user for several words. Those words should each be stored in a different <code>String</code> variable, like <code>color</code>, <code>pastTenseVerb</code>, <code>adjective</code>, and <code>noun</code>, which you initialize as empty strings. Then, after the user has entered their last word, the program should print a completed sentence or story by replacing the empty strings with the words the user provided, like this:</p>&#13;
<p class="pre">System.<span class="codeitalic">out</span>.print("The " + color + " dragon " + pastTenseVerb + " at the " + adjective);<br/>&#13;
System.<span class="codeitalic">out</span>.println(" knight, who rode in on a sturdy, giant " + noun + ".");</p>&#13;
<p class="indent">Note that the first statement is a <code>print()</code> statement instead of a <code>println()</code>. The <code>print()</code> statement continues printing at the end of the same line, allowing us to build a longer paragraph or story. The <code>println()</code> statement, however, always skips a line after printing, like when you press <small>ENTER</small> at the end of the line. You can write a longer MadLibs story by using different variable names like <code>noun1</code>, <code>noun2</code>, and <code>noun3</code>. Give it a try, and get ready to laugh at the funny stories you create! Try to personalize each program you create by adding new features and making it your own.</p>&#13;
<span epub:type="pagebreak" id="page_42"/>&#13;
</body></html>