<html><head></head><body><div id="sbo-rt-content"><h2 class="h2" id="ch04"><span epub:type="pagebreak" id="page_73"/><strong><span class="big">4</span><br/>AN INTRODUCTION TO UML AND USE CASES</strong></h2>
<div class="image1"><img src="Images/com.jpg" alt="Image" width="204" height="204"/></div>
<p class="noindent"><span class="big1">The <em>Unified Modeling Language (UML)</em> is a graphic-based developmental language used to describe requirements and standards for software design. The latest versions of the Institute of Electrical and Electronics Engineers (IEEE) SDD standard are built around UML concepts, so we’ll</span> start by covering the background and features of UML before moving on to how the language implements use cases to help us represent software system designs clearly and consistently.</p>
<h3 class="h3" id="lev-4.1"><strong>4.1 The UML Standard</strong></h3>
<p class="noindent">UML started out in the mid-1990s as a collection of three independent modeling languages: the Booch method (Grady Booch), the object modeling technique (Jim Rumbaugh), and the object-oriented software engineering system (Ivar Jacobson). After this initial amalgamation, the Object Management Group (OMG) developed the first UML standard, with input <span epub:type="pagebreak" id="page_74"/>from a multitude of researchers, in 1997. UML remains under OMG’s management today. Because UML was essentially designed by unification, it contains many different ways to specify the same thing, resulting in a lot of systemwide redundancy and inconsistency.</p>
<p class="indent">So why use UML? Well, despite its shortcomings, it’s a rather complete modeling language for object-oriented design. It’s also become the de facto IEEE documentation standard to use. So even if you don’t intend to use UML for your own projects, you’ll need to be able to read it when dealing with documentation from other projects. Because UML has become popular, there’s a good chance your project’s stakeholders are already familiar with it. It’s sort of like the C programming language (or BASIC, if you don’t know C): it’s ugly as far as language design goes, but everybody knows it.</p>
<p class="indent">UML is a very complex language that requires considerable study to master, an educational process that is beyond the scope of this book. Fortunately, dozens of good books are available on the subject, some almost 1,000 pages long (for example, <em>The UML Bible</em> by Tom Pender; see “<a href="ch04.xhtml#lev-4.5">For More Information</a>” on <a href="ch04.xhtml#page_88">page 88</a>). This chapter and those that follow are not intended to make you an expert on UML, but rather to quickly cover the UML features and concepts that the rest of the book uses. That way, you can refer back to these chapters when you’re trying to make sense of UML diagrams later in the book.</p>
<p class="indent">With that brief introduction behind us, next we’ll discuss how UML enables us to visualize a system’s design in a standardized way.</p>
<h3 class="h3" id="lev-4.2"><strong>4.2 The UML Use Case Model</strong></h3>
<p class="noindent">UML specifies use cases to describe a system’s functionality. A <em>use case</em> roughly corresponds to a requirement. Designers create a <em>use case diagram</em> to specify what a system does from an external observer’s point of view, meaning they specify only <em>what</em> a system does, not <em>how</em> it does it. They’ll then create a use case narrative to fill in the details of the diagram.</p>
<h4 class="h4" id="lev-4.2.1"><strong><em>4.2.1 Use Case Diagram Elements</em></strong></h4>
<p class="noindent">Use case diagrams typically contain three elements: an actor, a communication link (or association), and the actual use case:</p>
<ul>
<li class="noindent"><em>Actors</em>, typically drawn as stick figures, represent users or external devices and systems that use the system under design.</li>
<li class="noindent"><em>Communication links</em> are drawn as a line between an actor and a use case, and indicate some form of communication between the two.</li>
<li class="noindent"><em>Use cases</em> are drawn as ovals with an appropriate description and represent the activities the actors perform on the system.</li>
</ul>
<p class="indent"><a href="ch04.xhtml#ch4fig1">Figure 4-1</a> shows an example of a use case diagram.</p>
<div class="image"><a id="ch4fig1"/><span epub:type="pagebreak" id="page_75"/><img src="Images/fig4-1.jpg" alt="image" width="430" height="168"/></div>
<p class="figcap"><em>Figure 4-1: A sample use case diagram</em></p>
<p class="indent">Every use case should have a high-level name that concisely and uniquely describes the operation. For example, a nuclear reactor operator might want to select a power input from a nuclear power (NP) channel: “select %Pwr” is a general description, whereas “press the percent power button on the NP device” is probably too specific. How the user selects percent power is more of a design issue, not a system analysis issue (analysis is what we’re doing at this stage).</p>
<p class="indent">The use case name should be unique, because you’ll likely use it to associate the diagram with a use case narrative elsewhere in your UML documentation. One way to achieve uniqueness is by attaching a <em>tag</em> (see “<a href="ch09.xhtml#lev-9.2.2">Tag Formats</a>” on <a href="ch09.xhtml#page_172">page 172</a>). However, the whole point of a use case diagram is to make the action obvious to the readers and stakeholders (that is, the external observers), and tags can obfuscate the meaning. One possible solution is to include a descriptive name (or phrase) <em>and</em> a tag inside the use case oval, as shown in <a href="ch04.xhtml#ch4fig2">Figure 4-2</a>.</p>
<div class="image"><a id="ch4fig2"/><img src="Images/fig4-2.jpg" alt="image" width="236" height="95"/></div>
<p class="figcap"><em>Figure 4-2: A use case tag combined with a user-friendly name</em></p>
<p class="indent">The tag uniquely identifies the use case narrative, and the user-friendly name makes the diagram easy to read and understand.</p>
<p class="indent">A use case diagram can contain multiple actors as well as multiple use cases, as shown in <a href="ch04.xhtml#ch4fig3">Figure 4-3</a>, which provides use cases for generating Individual Megawatt Hour (MWH) and other reports.</p>
<div class="image"><a id="ch4fig3"/><img src="Images/fig4-3.jpg" alt="image" width="502" height="190"/></div>
<p class="figcap"><em>Figure 4-3: Multiple actors and use cases in a use case diagram</em></p>
<p class="indent"><span epub:type="pagebreak" id="page_76"/>Stick figures are useful for making it instantly obvious that you’re specifying an actor, but they have some drawbacks. First, a stick figure is rather large and can consume considerable screen (or page) space. Also, in a large and cluttered UML diagram, it can become difficult to associate names and other information with a stick figure actor. For this reason, UML designers often use a stereotype to represent an actor. A <em>stereotype</em> is a special UML name (such as “actor”) surrounded by guillemets (« and ») and enclosed along with the element’s name inside a rectangle, as shown in <a href="ch04.xhtml#ch4fig4">Figure 4-4</a>. (You can use a pair of angle brackets—less-than and greater-than symbols—if you don’t have access to guillemets in your editing system.)</p>
<div class="image"><a id="ch4fig4"/><img src="Images/fig4-4.jpg" alt="image" width="252" height="77"/></div>
<p class="figcap"><em>Figure 4-4: An actor stereotype</em></p>
<p class="indent">Stereotypes can apply to any UML element, not just an actor. The stereotype consumes less space and creates less clutter, though its disadvantage is that the type of element isn’t as instantly clear as it would be using the actual icon.<sup><a href="ch19_footnote.xhtml#ch04fn1" id="ch04fn1a">1</a></sup></p>
<h4 class="h4" id="lev-4.2.2"><strong><em>4.2.2 Use Case Packages</em></strong></h4>
<p class="noindent">You can assign use case names to different <em>packages</em> by separating the package name from the use case name using a pair of colons. For example, if the aforementioned reactor operator needs to select percent power from two different nuclear power systems (NP and NPP), we could use <span class="literal">NP</span> and <span class="literal">NPP</span> packages to separate these operations (see <a href="ch04.xhtml#ch4fig5">Figure 4-5</a>).</p>
<div class="image"><a id="ch4fig5"/><img src="Images/fig4-5.jpg" alt="image" width="464" height="175"/></div>
<p class="figcap"><em>Figure 4-5: Package names in a use case</em></p>
<h4 class="h4" id="lev-4.2.3"><strong><em>4.2.3 Use Case Inclusion</em></strong></h4>
<p class="noindent">Sometimes, use cases will replicate information. For example, the use case in <a href="ch04.xhtml#ch4fig5">Figure 4-5</a> might correspond to a reactor operator selecting which nuclear power channel to use (the NP or NPP instrument) for a given operation. If the operator must verify that the channel is online before making the selection, presumably either of the use cases for <span class="literal">NP::Select%Pwr</span> <span epub:type="pagebreak" id="page_77"/>and <span class="literal">NPP::Select%Pwr</span> would contain the steps needed to confirm this. When writing the narrative for these two use cases, you’ll probably discover that you’re duplicating considerable information.</p>
<p class="indent">To avoid this replication, UML defines <em>use case inclusion</em>, which allows one use case to completely include the functionality of another.</p>
<p class="indent">You specify use case inclusion by drawing two use cases with oval icons, and placing a dashed open arrow from the including use case to the included use case. Also attach the label «include» to the dashed arrow, as shown in <a href="ch04.xhtml#ch4fig6">Figure 4-6</a>.</p>
<div class="image"><a id="ch4fig6"/><img src="Images/fig4-6.jpg" alt="image" width="471" height="68"/></div>
<p class="figcap"><em>Figure 4-6: Use case inclusion</em></p>
<p class="indent">We could redraw <a href="ch04.xhtml#ch4fig5">Figure 4-5</a> using inclusion as shown in <a href="ch04.xhtml#ch4fig7">Figure 4-7</a>.</p>
<div class="image"><a id="ch4fig7"/><img src="Images/fig4-7.jpg" alt="image" width="692" height="242"/></div>
<p class="figcap"><em>Figure 4-7: Use case inclusion example</em></p>
<p class="indent">An inclusion is the use case diagram equivalent of a function call. Inclusion allows you to reuse a use case from other use cases, thereby reducing redundancy.</p>
<h4 class="h4" id="lev-4.2.4"><strong><em>4.2.4 Use Case Generalization</em></strong></h4>
<p class="noindent">Sometimes, two or more use cases share an underlying base design and build upon it to produce different use cases. Revisiting the example from <a href="ch04.xhtml#ch4fig3">Figure 4-3</a>, the Sr. Reactor Operator actor might produce additional reactor reports (that is, “All reports”) beyond those that the Reactor Operator actor produces (“Individual MWH report”). However, both use cases are still an example of the more general “Generate reports” use case and, therefore, they share some common (<em>inherited</em>) operations. This relationship is known as <em>use case generalization</em>.</p>
<p class="indent">We can illustrate use case generalization in a use case diagram by drawing a hollow arrow from a specific use case to the more general use case, as shown in <a href="ch04.xhtml#ch4fig8">Figure 4-8</a>.</p>
<div class="image"><a id="ch4fig8"/><span epub:type="pagebreak" id="page_78"/><img src="Images/fig4-8.jpg" alt="image" width="520" height="291"/></div>
<p class="figcap"><em>Figure 4-8: Generalization of use cases</em></p>
<p class="indent">This figure tells us that the “Individual MWH report” and “All reports” use cases share some common activities inherited from the “Generate reports” use case.</p>
<p class="indent">We can generalize actors in the same fashion by drawing an open arrow from multiple (specific) actors to a generalized actor, as shown in <a href="ch04.xhtml#ch4fig9">Figure 4-9</a>.</p>
<div class="image"><a id="ch4fig9"/><img src="Images/fig4-9.jpg" alt="image" width="503" height="552"/></div>
<p class="figcap"><em>Figure 4-9: Generalization of actors</em></p>
<p class="indent">Generalization (particularly, use case generalization) is equivalent to inheritance in object-oriented systems. The hollow arrow points at the base <span epub:type="pagebreak" id="page_79"/>use case, and the tail of the arrow (that is, the end without the arrowhead) connects to the inheriting, or derived, use case. In <a href="ch04.xhtml#ch4fig9">Figure 4-9</a>, “Generate reports” is the base use case, and “Individual MWH report” and “All reports” are the derived use cases.</p>
<p class="indent">A derived use case inherits all the features and activities of the base use case. That is, all the items and functionality in the base use case are present in the derived use case, along with certain items unique to the derived use case.</p>
<p class="indent">In <a href="ch04.xhtml#ch4fig9">Figure 4-9</a>, the Reactor Operator actor can select only an “Individual MWH report.” Therefore, any report generated by the Reactor Operator actor always follows the steps associated with that individual report. The Sr. Reactor Operator actor, on the other hand, can generate any report derived from the “All reports” or “Individual MWH report” use case.</p>
<p class="indent">Although generalization might seem very similar to inclusion, there are subtle differences. With inclusion a use case is completely included, but with inheritance the base use case is augmented by the features in the derived use case.</p>
<h4 class="h4" id="lev-4.2.5"><strong><em>4.2.5 Use Case Extension</em></strong></h4>
<p class="noindent">The UML <em>use case extension</em> allows you to specify the optional (<em>conditional</em>) inclusion of some use case. You draw an extension similar to an inclusion except you use the word «extend» rather than «include» and the arrow is a dashed line with a solid arrowhead. Another difference is that the arrowhead points at the extended use case, and the tail points at the extending use case, as shown in <a href="ch04.xhtml#ch4fig10">Figure 4-10</a>.</p>
<div class="image"><a id="ch4fig10"/><img src="Images/fig4-10.jpg" alt="image" width="525" height="252"/></div>
<p class="figcap"><em>Figure 4-10: Use case extension</em></p>
<p class="indent">Use case extensions are useful when you want to select one of several different use cases based on some internal system/software state. A classic example would be error or exception handling conditions. Suppose you have a small command line processor that recognizes certain commands beginning with a verb (such as <span class="literal">read_digital</span>). The command syntax might take the form:</p>
<p class="programs">read_digital <span class="codeitalic1">port#</span></p>
<p class="noindent"><span epub:type="pagebreak" id="page_80"/>where <span class="literal"><span class="codeitalic">port#</span></span> is a numeric string indicating the port to read from. Two things could go wrong when the software processes this command: <span class="literal"><span class="codeitalic">port#</span></span> could have a syntax error (that is, it doesn’t represent a valid numeric value) or the <span class="literal"><span class="codeitalic">port#</span></span> value could be out of range. Thus, there are three possible outcomes from processing this command: the command is correct and reads the specified port; a syntax error occurs and the system presents an appropriate message to the user; or a range error occurs and the system displays an appropriate error message. Use case extensions easily handle these situations, as shown in <a href="ch04.xhtml#ch4fig11">Figure 4-11</a>.</p>
<div class="image"><a id="ch4fig11"/><img src="Images/fig4-11.jpg" alt="image" width="351" height="211"/></div>
<p class="figcap"><em>Figure 4-11: Use case extension example</em></p>
<p class="indent">Note that the normal case (no error) is not an extension use case. The <span class="literal">read_port</span> command use case handles the nonerror case directly.</p>
<h4 class="h4" id="lev-4.2.6"><strong><em>4.2.6 Use Case Narratives</em></strong></h4>
<p class="noindent">By themselves, the use case diagrams you’ve seen thus far don’t explain any details. An actual use case (as opposed to a use case <em>diagram</em>) is text, not graphics. The diagrams provide an “executive overview” of the use case and make it easy for external observers to differentiate activities, but the <em>use case narrative</em> is where you truly describe a use case. Although there is no defined set of items that appear in a use case narrative, it typically contains the information listed in <a href="ch04.xhtml#ch4tab1">Table 4-1</a>.</p>
<p class="tabcap" id="ch4tab1"><strong>Table 4-1:</strong> Use Case Narrative Items</p>
<table class="topbot-d">
<colgroup>
<col style="width:30%"/>
<col style="width:70%"/>
</colgroup>
<thead>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Use case narrative item</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Description</strong></p></td>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Associated requirements</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">A requirements tag or other indication of the requirement(s) associated with the use case. This provides traceability to the SyRS and SRS documentation.</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Actors</p></td>
<td style="vertical-align: top;"><p class="taba">A list of the actors that interact with the use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Goal/purpose/brief description</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">A description of the goal (and its context within the system) to clarify the purpose of the use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Assumptions and preconditions</p></td>
<td style="vertical-align: top;"><p class="taba">A description of what must be true prior to the execution of the use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Triggers</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">External events that start the execution of the use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><span epub:type="pagebreak" id="page_81"/><p class="taba">Interaction/Flow of Events</p></td>
<td style="vertical-align: top;"><p class="taba">The step-by-step description of how an external actor interacts with the system during the execution of the use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Optional interactions/Alternative Flow of Events</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Alternative interactions from those the interaction steps describe.</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Termination</p></td>
<td style="vertical-align: top;"><p class="taba">Conditions that result in the termination of a use case.</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">End conditions</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Conditions describing what happens when the use case successfully terminates or when it fails.</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Post conditions</p></td>
<td style="vertical-align: top;"><p class="taba">Conditions that apply upon completion of the execution of a use case (success or failure).</p></td>
</tr>
</tbody>
</table>
<p class="indent">Additional items (search online for descriptions) might include:<sup><a href="ch19_footnote.xhtml#ch04fn2" id="ch04fn2a">2</a></sup></p>
<ul>
<li class="noindent">Minimal guarantees</li>
<li class="noindent">Successful guarantees</li>
<li class="noindent">Dialog (effectively another name for interactions)</li>
<li class="noindent">Secondary actors</li>
<li class="noindent">Extensions (another name for optional/conditional interactions)</li>
<li class="noindent">Exceptions (that is, error-handling conditions)</li>
<li class="noindent">Related use cases (that is, other relevant use cases)</li>
<li class="noindent">Stakeholders (people with an interest in the use case)</li>
<li class="noindent">Priority (among use cases for implementation)</li>
</ul>
<h5 class="h5" id="lev-4.2.6.1"><strong>4.2.6.1 Use Case Narrative Formality</strong></h5>
<p class="noindent">Use case narratives can range in formality from casual to fully dressed.</p>
<p class="indent">A casual use case narrative is a natural language (for example, English) description of the use case without much structure. Casual narratives are ideal for small projects, and often vary from use case to use case.</p>
<p class="indent">A fully dressed use case narrative is a formal description of the use case, typically created via a form with all the narrative items defined for your project. A fully dressed use case narrative will likely consist of three forms:</p>
<ul>
<li class="noindent">A list of the use case items, exclusive of the Dialog/Flow of Events/Interaction and Alternative Flow of Events/Optional Interactions items</li>
<li class="noindent">The main Flow of Events</li>
<li class="noindent">The Alternative Flow of Events (extensions)</li>
</ul>
<p class="indent"><span epub:type="pagebreak" id="page_82"/><a href="ch04.xhtml#ch4tab2">Tables 4-2</a>, <a href="ch04.xhtml#ch4tab3">4-3</a>, and <a href="ch04.xhtml#ch4tab4">4-4</a> show an example of a fully dressed use case narrative.</p>
<p class="tabcap" id="ch4tab2"><strong>Table 4-2:</strong> Select Nuclear Power Source, RCTR_USE_022</p>
<table class="topbot-d">
<colgroup>
<col style="width:30%"/>
<col style="width:70%"/>
</colgroup>
<thead>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Requirement(s)</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>RCTR_SyRS_022, RCTR_SRS_022_000</strong></p></td>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Actors</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Reactor Operator, Sr. Reactor Operator</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Goal</p></td>
<td style="vertical-align: top;"><p class="taba">To select the power measurement channel used during automatic operation</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Assumptions and preconditions</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Operator has logged in to the reactor console</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Trigger</p></td>
<td style="vertical-align: top;"><p class="taba">Operator presses appropriate button, selecting automatic mode power source</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Termination</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Operator-specified power source is selected</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">End conditions</p></td>
<td style="vertical-align: top;"><p class="taba">System uses the selected power source for current actual power during automatic operation, if successful; system reverts to original auto-mode power source if unsuccessful</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Post condition</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">System has an operational automatic-mode power source available</p></td>
</tr>
</tbody>
</table>
<p class="tabcap" id="ch4tab3"><strong>Table 4-3:</strong> Flow of Events, RCTR_USE_022</p>
<table class="topbot-d">
<colgroup>
<col style="width:20%"/>
<col style="width:80%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Step</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Action</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Operator presses NP selection button</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">2</p></td>
<td style="vertical-align: top;"><p class="taba">System verifies that the NP is online</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">3</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">System switches auto-mode power selection to the NP channel</p></td>
</tr>
</tbody>
</table>
<p class="tabcap" id="ch4tab4"><strong>Table 4-4:</strong> Alternative Flow of Events (Extensions), RCTR_USE_022</p>
<table class="topbot-d">
<colgroup>
<col style="width:20%"/>
<col style="width:80%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Step</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Action</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">2.1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">The NP channel is not online</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">2.2</p></td>
<td style="vertical-align: top;"><p class="taba">The system doesn’t switch to using the NP power channel and continues to use the previously selected power channel for automatic mode</p></td>
</tr>
</tbody>
</table>
<h5 class="h5" id="lev-4.2.6.2"><strong>4.2.6.2 Alternative Flow of Events</strong></h5>
<p class="noindent">Whenever a step in the Flow of Events table contains a conditional or optional item (an <em>extension</em> in UML terminology), you’ll have some corresponding entries in the Alternative Flow of Events table that describe the behavior when the conditional item is <span class="literal">false</span>. Note that you don’t use a separate Alternative Flow of Events table for each condition; you simply use substeps (in this example, 2.1 and 2.2 in <a href="ch04.xhtml#ch4tab4">Table 4-4</a>) associated with the step number(s) from the Flow of Events table (step 2 in <a href="ch04.xhtml#ch4tab3">Table 4-3</a>).</p>
<p class="indent">This is just one possible example of a fully dressed use case narrative. Many other forms are possible. For example, you could create a fourth table to list all the possible end conditions, as shown in <a href="ch04.xhtml#ch4tab5">Table 4-5</a>.</p>
<p class="tabcap" id="ch4tab5"><span epub:type="pagebreak" id="page_83"/><strong>Table 4-5:</strong> End Conditions, RCTR_USE_022</p>
<table class="topbot-d">
<colgroup>
<col style="width:20%"/>
<col style="width:80%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Condition</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Result</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Success</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">The NP channel is selected as the automatic-mode power channel</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Failure</p></td>
<td style="vertical-align: top;"><p class="taba">The previously selected channel continues to control automatic mode</p></td>
</tr>
</tbody>
</table>
<p class="indent">Adding an end conditions table is especially compelling if there are more than two end conditions.</p>
<p class="indent">As another example, consider the <span class="literal">read_port</span> use case in <a href="ch04.xhtml#ch4fig11">Figure 4-11</a>. The narrative for it could be similar to <a href="ch04.xhtml#ch4tab6">Tables 4-6</a>, <a href="ch04.xhtml#ch4tab7">4-7</a>, and <a href="ch04.xhtml#ch4tab8">4-8</a>.</p>
<p class="tabcap" id="ch4tab6"><strong>Table 4-6:</strong> <span class="literal">read_port</span> Command</p>
<table class="topbot-d">
<colgroup>
<col style="width:30%"/>
<col style="width:70%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Requirement(s)</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>DAQ_SyRS_102, DAQ_SRS_102_000</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Actors</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">PC host computer system</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Goal</p></td>
<td style="vertical-align: top;"><p class="taba">To read a digital data port on the data acquisition system</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Assumptions and preconditions</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Digital data acquisition ports have been initialized as input ports</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">Trigger</p></td>
<td style="vertical-align: top;"><p class="taba">Receipt of the <span class="literal">read_port</span> command</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Termination</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Data port is read and the value returned to requesting system</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">End conditions</p></td>
<td style="vertical-align: top;"><p class="taba">System returns port value or appropriate error message if the command was malformed</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">Post condition</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">The system is ready to accept another command</p></td>
</tr>
</tbody>
</table>
<p class="tabcap" id="ch4tab7"><strong>Table 4-7:</strong> Flow of Events, <span class="literal">read_port</span> Command</p>
<table class="topbot-d">
<colgroup>
<col style="width:20%"/>
<col style="width:80%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Step</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Action</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">The host PC sends a command line beginning with <span class="literal">read_port</span></p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">2</p></td>
<td style="vertical-align: top;"><p class="taba">System verifies that there is a second parameter</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">3</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">System verifies that the second parameter is a valid numeric string</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">4</p></td>
<td style="vertical-align: top;"><p class="taba">System verifies that the second parameter is a numeric value in the range 0–15</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">5</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">System reads the digital data from the specified port</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">6</p></td>
<td style="vertical-align: top;"><p class="taba">System returns the port value to the host PC</p></td>
</tr>
</tbody>
</table>
<p class="tabcap" id="ch4tab8"><strong>Table 4-8:</strong> Alternative Flow of Events (Extensions), <span class="literal">read_port</span> Command</p>
<table class="topbot-d">
<colgroup>
<col style="width:20%"/>
<col style="width:80%"/>
</colgroup>
<tbody>
<tr>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Step</strong></p></td>
<td style="vertical-align: top;" class="table-h"><p class="tab_th"><strong>Action</strong></p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">2.1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Second parameter doesn’t exist</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">2.2</p></td>
<td style="vertical-align: top;"><p class="taba">System returns a “syntax error” message to the host PC</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">3.1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Second parameter isn’t a valid numeric string</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">3.2</p></td>
<td style="vertical-align: top;"><p class="taba">System returns a “syntax error” message to the host PC</p></td>
</tr>
<tr>
<td style="vertical-align: top;" class="table-v"><p class="taba">4.1</p></td>
<td style="vertical-align: top;" class="table-v"><p class="taba">Second parameter is outside the range 0–15</p></td>
</tr>
<tr>
<td style="vertical-align: top;"><p class="taba">4.2</p></td>
<td style="vertical-align: top;"><p class="taba">The system returns a “range error” message to the host PC</p></td>
</tr>
</tbody>
</table>
<p class="indent"><span epub:type="pagebreak" id="page_84"/><a href="ch04.xhtml#ch4tab8">Table 4-8</a> actually contains several independent flows of events. The major number to the left of the decimal point specifies the associated step in the Flow of Events table; the minor number to the right of the decimal point is the particular step within the Alternative Flow of Events. The flow occurs only within the steps associated with a single Flow of Events number. That is, the flow from 2.1 to 2.2 ends with 2.2; it doesn’t continue into 3.1 (in this example).</p>
<p class="indent">Generally, once a system selects an alternative flow (such as the “range error” flow, steps 4.1 and 4.2 in this example), the use case ends with the completion of that alternative flow (that is, at step 4.2). Control doesn’t return to the main Flow of Events. Execution to the end of the main Flow of Events list happens only if no alternative flows occur.</p>
<p class="indent">The “correct” way to use the Flow of Events and Alternative Flow of Events is to write a straight-line sequence representing the path through the use case that produces the intended result. If multiple viable paths exist, you would typically create multiple use cases, one for each correct path. The alternative flows handle any deviations (usually error paths) from the correct path. Of course, one risk of this approach is that you might wind up with an excessive number of use case diagrams.</p>
<p class="indent">For a Flow of Events, diagrams are more expensive to create and maintain than a textual description; even with the proper UML diagramming tools, creating figures generally takes more time and effort than just writing textual descriptions.</p>
<h5 class="h5" id="lev-4.2.6.3"><strong>4.2.6.3 Conditional Flow of Events</strong></h5>
<p class="noindent">For use cases that have multiple correct paths, you could encode those paths in the main Flow of Events using branches and conditionals, and leave the alternative paths for exceptional conditions. Consider a command for a data acquisition system that supports two different syntaxes:<sup><a href="ch19_footnote.xhtml#ch04fn3" id="ch04fn3a">3</a></sup></p>
<p class="programs">ppdio boards<br/>
ppdio boards <span class="codeitalic1">boardCount</span></p>
<p class="indent">The first variant returns the number of PPDIO boards in the system, and the second variant sets the number of PPDIO boards. The technically correct solution to document these two commands is to create two separate use cases, each with its own Flow of Events. However, if the data acquisition system has dozens of different commands, creating individual use cases could clutter your documentation. One solution is to combine these use cases into a single use case by incorporating conditional operations (that is, <span class="literal">if..else..endif</span>) into a single Flow of Events, as in the following example.</p>
<p class="listhead"><span epub:type="pagebreak" id="page_85"/><strong>Flow of Events</strong></p>
<ol class="numberz">
<li class="noindent">Verify command begins with <span class="literal">ppdio</span>.</li>
<li class="noindent">Verify second word on command line is <span class="literal">boards</span>.</li>
<li><p class="noindent">If no additional parameters appear on command line:</p>
<ol class="lower-alpha">
<li class="noindent">Return number of PPDIO boards in system as response.</li>
</ol>
</li>
<li class="noindent">Verify there is a single numeric parameter on the line.</li>
<li class="noindent">Verify that the numeric parameter is in the range <span class="literal">0..6</span>.</li>
<li class="noindent">Set the number of PPDIO boards to the value specified by the numeric parameter.</li>
</ol>
<p class="listhead"><strong>Alternative Flows</strong></p>
<p class="numberh">1.1 If command doesn’t begin with <span class="literal">ppdio</span>, return <span class="literal">not PPDIO</span> response.</p>
<p class="numberh">2.1 If command doesn’t begin with <span class="literal">ppdio boards</span>, return <span class="literal">not PPDIO BOARDS</span> response.</p>
<p class="numberh">5.1 Return <span class="literal">syntax error</span> as the response.</p>
<p class="numberh">6.1 Return <span class="literal">range error</span> as the response.</p>
<p class="indenta">Having conditionals and multiple exit points from a Flow of Events isn’t “clean” UML; however, it can reduce the overall size of the documentation (saving time and expenses), so this is a common kludge in use cases.</p>
<p class="indent">You could even add <span class="literal">while</span>, <span class="literal">for</span>, <span class="literal">switch</span>, and other high-level-language–style operations to your Flow of Events. But keep in mind that use cases (and their descriptions) should be very general. Once you start embedding programming language concepts into your use cases, you invariably start introducing implementation details, which don’t belong in use cases; save those for later UML diagram types (such as activity diagrams).</p>
<p class="indent">These examples might seem to suggest that alternative flows are solely for error handling, but you can use them for other purposes as well; any time a conditional branch is out of a main flow, you can use extensions to handle that. However, one problem with using alternative flows for generic conditionals is that concepts that are inherently related wind up separated from one another in your use case descriptions, which can make following the logic in those descriptions more difficult.</p>
<h5 class="h5" id="lev-4.2.6.4"><strong>4.2.6.4 Generalization vs. Extension</strong></h5>
<p class="noindent">Generalization is often a better tool than extension. For example, suppose you have a generic <span class="literal">port_command</span> use case and you want to attach <span class="literal">read_port</span> and <span class="literal">write_port</span> to it. In theory, you could create an extension to handle this, as shown in <a href="ch04.xhtml#ch4fig12">Figure 4-12</a>.</p>
<div class="image"><a id="ch4fig12"/><span epub:type="pagebreak" id="page_86"/><img src="Images/fig4-12.jpg" alt="image" width="351" height="212"/></div>
<p class="figcap"><em>Figure 4-12: Poor example of use case extension</em></p>
<p class="indent">In practice, this particular situation is probably better handled with generalization, because <span class="literal">read_port</span> and <span class="literal">write_port</span> are special cases of a <span class="literal">port_command</span> (rather than being alternative branches from <span class="literal">port_command</span>). <a href="ch04.xhtml#ch4fig13">Figure 4-13</a> shows the generalization approach.</p>
<div class="image"><a id="ch4fig13"/><img src="Images/fig4-13.jpg" alt="image" width="351" height="211"/></div>
<p class="figcap"><em>Figure 4-13: Using generalization rather than extension</em></p>
<p class="indent">With generalization, the derived use case follows all the steps in the base use case. When you use extensions, control transfers from the main Flow of Events to the Alternative Flow of Events, and any remaining steps in the main flow don’t happen.</p>
<h4 class="h4" id="lev-4.2.7"><strong><em>4.2.7 Use Case Scenarios</em></strong></h4>
<p class="noindent">A <em>scenario</em> is a single path through a use case. For example, the <span class="literal">read_port</span> use case has four scenarios: the success scenario when the command reads a port and returns the port data; two syntax error scenarios (2.1/2.2 and 3.1/3.2 in the Alternative Flow of Events); and one range error scenario (4.1/4.2 in the Alternative Flow of Events). You generate a full scenario by choosing the steps from the Flow of Events and Alternative Flow of Events that complete a specific path. The <span class="literal">read_port</span> command has the following scenarios:</p>
<p class="listhead"><strong>Success scenario</strong></p>
<ol class="numberz">
<li class="noindent">The host sends a command beginning with <span class="literal">read_port</span>.</li>
<li class="noindent">The system verifies that there is a second parameter.</li>
<li class="noindent"><span epub:type="pagebreak" id="page_87"/>The system verifies that the second parameter is a numeric string.</li>
<li class="noindent">The system verifies that the second parameter is a value in the range <span class="literal">0..15</span>.</li>
<li class="noindent">The system reads the data from the specified port.</li>
<li class="noindent">The system returns the port value to the host PC.</li>
</ol>
<p class="listhead"><strong>Syntax error #1 scenario</strong></p>
<ol class="numberz">
<li class="noindent">The host sends a command beginning with <span class="literal">read_port</span>.</li>
<li class="noindent">The system determines there is no second parameter.</li>
<li class="noindent">The system sends a syntax error to the host PC.</li>
</ol>
<p class="listhead"><strong>Syntax error #2 scenario</strong></p>
<ol class="numberz">
<li class="noindent">The host sends a command beginning with <span class="literal">read_port</span>.</li>
<li class="noindent">The system verifies that there is a second parameter.</li>
<li class="noindent">The system determines that the second parameter is not a legal numeric string.</li>
<li class="noindent">The system sends a syntax error to the host PC.</li>
</ol>
<p class="listhead"><strong>Range error scenario</strong></p>
<ol class="numberz">
<li class="noindent">The host sends a command beginning with <span class="literal">read_port</span>.</li>
<li class="noindent">The system verifies that there is a second parameter.</li>
<li class="noindent">The system verifies that the second parameter is a numeric string.</li>
<li class="noindent">The system determines that the numeric string is a value outside the range <span class="literal">0..15</span>.</li>
<li class="noindent">The system sends a range error to the host PC.</li>
</ol>
<p class="indent">You can use scenarios to create test cases and test procedures for your system. You’ll have one or more test cases for each scenario.</p>
<p class="indent">You can combine use case scenarios by incorporating <span class="literal">if</span> statements in your Flow of Events. However, because this introduces low-level details into your use case narratives, you should avoid combining scenarios unless the number of use case narratives grows out of control.</p>
<h3 class="h3" id="lev-4.3"><strong>4.3 The UML System Boundary Diagrams</strong></h3>
<p class="noindent">When you’re drawing a simple use case diagram, it should be obvious which components are internal to the system and which are external. Specifically, actors are external entities, and the use cases are internal. If you’re using stereotyped rectangles instead of stick figures for the actors, though, it might not be immediately clear which components are external to the system. Also, if you reference multiple systems in a use case diagram, determining which use cases are part of which system can be challenging. UML system boundary diagrams solve these problems.</p>
<p class="indent"><span epub:type="pagebreak" id="page_88"/>A <em>UML system boundary diagram</em> is simply a shaded rectangle surrounding the use cases that are internal to a particular system, as shown in <a href="ch04.xhtml#ch4fig14">Figure 4-14</a>. The system title generally appears near the top of the rectangle.</p>
<div class="image"><a id="ch4fig14"/><img src="Images/fig4-14.jpg" alt="image" width="444" height="168"/></div>
<p class="figcap"><em>Figure 4-14: A system boundary diagram</em></p>
<h3 class="h3" id="lev-4.4"><strong>4.4 Beyond Use Cases</strong></h3>
<p class="noindent">This chapter introduced UML uses cases, a very important feature of the Unified Modeling Language. However, there are many other components of UML beyond use cases. The next chapter presents UML activity diagrams, which provide a way to model actions within a software design.</p>
<h3 class="h3" id="lev-4.5"><strong>4.5 For More Information</strong></h3>
<p class="ref">Bremer, Michael. <em>The User Manual Manual: How to Research, Write, Test, Edit, and Produce a Software Manual</em>. Grass Valley, CA: UnTechnical Press, 1999. A sample chapter is available at <em><a href="http://www.untechnicalpress.com/Downloads/UMM%20sample%20doc.pdf">http://www.untechnicalpress.com/Downloads/UMM%20sample%20doc.pdf</a></em>.</p>
<p class="ref">Larman, Craig. <em>Applying UML and Patterns: An Introduction to Object-Oriented Analysis and Design and Iterative Development</em>. 3rd ed. Upper Saddle River, NJ: Prentice Hall, 2004.</p>
<p class="ref">Miles, Russ, and Kim Hamilton. <em>Learning UML 2.0: A Pragmatic Introduction to UML</em>. Sebastopol, CA: O’Reilly Media, 2003.</p>
<p class="ref">Pender, Tom. <em>UML Bible</em>. Indianapolis: Wiley, 2003.</p>
<p class="ref">Pilone, Dan, and Neil Pitman. <em>UML 2.0 in a Nutshell: A Desktop Quick Reference</em>. 2nd ed. Sebastopol, CA: O’Reilly Media, 2005.</p>
<p class="ref">Roff, Jason T. <em>UML: A Beginner’s Guide</em>. Berkeley, CA: McGraw-Hill Education, 2003.</p>
<p class="ref">Tutorials Point. “UML Tutorial.” <a href="https://www.tutorialspoint.com/uml/"><em>https://www.tutorialspoint.com/uml/</em></a>.</p>
</div>



  </body></html>