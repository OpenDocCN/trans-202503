<html><head></head><body>
<h2 class="h2" id="ch05"><span epub:type="pagebreak" id="page_95"/><strong><span class="big">5</span><br/>CHARACTER REPRESENTATION</strong></h2>&#13;
<div class="image1"><img alt="Image" src="../images/comm1.jpg"/></div>&#13;
<p class="noindents">Although computers are famous for their “number-crunching” capabilities, the truth is that most computer systems process character data far more often than numbers. The term <em>character</em> refers to a human- or machine-readable symbol that is typically a non-numeric entity. In general, a character is any symbol that you can type on a keyboard or show on a video display. In addition to alphabetic characters, character data includes punctuation marks, numeric digits, spaces, tabs, carriage returns (the <small>ENTER</small> key), other control characters, and other special symbols.</p>&#13;
<p class="indent">This chapter looks at how to represent characters, strings, and character sets within a computer system. It also discusses various operations on these data types.</p>&#13;
<h3 class="h3" id="sec5_1"><span epub:type="pagebreak" id="page_96"/><strong>5.1 Character Data</strong></h3>&#13;
<p class="noindent">Most computer systems use a 1-byte or multibyte binary sequence to encode the various characters. Windows, macOS, and Linux fall into this category, using the ASCII or Unicode character sets, whose members can all be represented with 1- or multibyte binary sequences. The EBCDIC character set, in use on IBM mainframes and minicomputers, is another example of a single-byte character code.</p>&#13;
<p class="indent">This chapter will discuss all three of these character sets and their internal representations, as well as how to create your own character sets.</p>&#13;
<h4 class="h4" id="sec5_1_1"><strong><em>5.1.1 The ASCII Character Set</em></strong></h4>&#13;
<p class="noindent">The ASCII (American Standard Code for Information Interchange) character set maps 128 characters to the unsigned integer values 0 through 127 (<code>$0</code> through <code>$7F</code>). Although the exact mapping of characters to numeric values is arbitrary and unimportant, a standardized mapping allows you to communicate between programs and peripheral devices. The standard ASCII codes are useful because nearly everyone uses them. If you use the ASCII code <code>65</code> to represent the character <em>A</em>, for example, you can be confident that some peripheral device (such as a printer) will correctly interpret this value as an <em>A</em>.</p>&#13;
<p class="indent">Because the ASCII character set provides only 128 different characters, you might be wondering: “What do we do with the additional 128 values (<code>$80..$FF</code>) that we can represent with a byte?” One option is to ignore those extra values, and that’s the primary approach of this book. Another possibility is to extend the ASCII character set by an additional 128 characters. Of course, unless you can get everyone to agree upon a particular extension of the character set<sup><a href="footnotes.xhtml#fn5_1a" id="fn5_1">1</a></sup> (a difficult task indeed), the whole purpose of having a standardized character set will be defeated.</p>&#13;
<p class="indent">Despite some major shortcomings, such as the inability to represent all characters and alphabets in use today, ASCII data is <em>the</em> standard for data interchange across computer systems and programs. Most programs can accept ASCII data, and most programs can produce it. Because you’ll probably be dealing with ASCII characters in your programs, it would be wise to study the layout of the character set and memorize a few key ASCII codes (such as those for <em>0</em>, <em>A</em>, and <em>a</em>).</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Table A-1 in <a href="app01.xhtml#app01">Appendix A</a> lists all the characters in the standard ASCII character set.</em></p>&#13;
</div>&#13;
<p class="indent">The ASCII character set is divided into four groups of 32 characters. The first 32 characters, ASCII codes <code>$0</code> through <code>$1F</code> (0 through 31), form a special set of nonprinting characters called the <em><a href="gloss01.xhtml#gloss01_59">control characters</a></em>. As their name implies, these characters perform various printer and display control operations rather than displaying symbols. Examples of control characters <span epub:type="pagebreak" id="page_97"/>include the carriage return, which positions the cursor at the beginning of the current line of characters;<sup><a href="footnotes.xhtml#fn5_2a" id="fn5_2">2</a></sup> line feed, which moves the cursor down one line on the output device; and backspace, which moves the cursor back one position to the left. Unfortunately, because there’s very little standardization among output devices, different control characters perform different operations on different output devices. To find out exactly how a particular control character affects a certain device, consult the device’s manual.</p>&#13;
<p class="indent">The second group of 32 ASCII character codes comprises various punctuation symbols, special characters, and the numeric digits. The most notable characters in this group include the space character (ASCII code <code>$20</code>) and the numeric digits (ASCII codes <code>$30..$39</code>).</p>&#13;
<p class="indent">The third group of 32 ASCII characters contains the uppercase alphabetic characters. The ASCII codes for the characters <em>A</em> through <em>Z</em> lie in the range <code>$41</code> through <code>$5A</code>. Because there are only 26 different alphabetic characters, the remaining six codes hold various special symbols.</p>&#13;
<p class="indent">The fourth and final group of 32 ASCII character codes represents the lowercase alphabetic symbols, five additional special symbols, and another control character (delete). The lowercase character symbols use the ASCII codes <code>$61</code> through <code>$7A</code>. If you convert the codes for the upper- and lowercase characters to binary, you’ll notice that the uppercase symbols differ from their lowercase equivalents in exactly one bit position. For example, consider the character codes for <em>E</em> and <em>e</em> in <a href="ch05.xhtml#ch05fig01">Figure 5-1</a>.</p>&#13;
<div class="image"><img alt="image" src="../images/05fig01.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig01"/><em>Figure 5-1: ASCII codes for E and e</em></p>&#13;
<p class="indent">These two codes differ only in bit 5. Uppercase alphabetic characters always contain a <code>0</code> in bit 5; lowercase alphabetic characters always contain a <code>1</code> in bit 5. To quickly convert an alphabetic character between upper- and lowercase, simply invert bit 5. To force an uppercase character to lowercase, set bit 5 to <code>1</code>. Likewise, you can force a lowercase character to uppercase by setting bit 5 to <code>0</code>.</p>&#13;
<p class="indent">Bits 5 and 6 determine the character’s group (see <a href="ch05.xhtml#ch05tab01">Table 5-1</a>). Therefore, you can convert any upper- or lowercase (or special) character to its corresponding control character by setting bits 5 and 6 to <code>0</code> (for example, <em>A</em> becomes <small>CTRL</small>-A when you set bits 5 and 6 to <code>0</code>; that is, <code>0x41</code> becomes <code>0x01</code>).</p>&#13;
<p class="tabcap"><span epub:type="pagebreak" id="page_98"/><a id="ch05tab01"/><strong>Table 5-1:</strong> ASCII Character Groups Determined by Bits 5 and 6</p>&#13;
<table class="topbot-d">&#13;
<colgroup>&#13;
<col style="width:30%"/>&#13;
<col style="width:35%"/>&#13;
<col style="width:35%"/>&#13;
</colgroup>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Bit 6</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Bit 5</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Group</strong></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Control characters</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Digits and punctuation</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Uppercase and special</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Lowercase and special</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="indent">Bits 5 and 6 aren’t the only bits that encode useful information. Consider, for a moment, the ASCII codes of the numeric digit characters in <a href="ch05.xhtml#ch05tab02">Table 5-2</a>. The decimal representations of these ASCII codes are not very enlightening. However, the hexadecimal representation reveals something very important—the LO nibble is the binary equivalent of the represented number. By stripping away (setting to <code>0</code>) the HO nibble of the ASCII code, you obtain the binary representation of that digit. Conversely, you can convert a binary value in the range <code>0</code> through <code>9</code> to its ASCII character representation by simply setting the HO nibble to <code>%0011</code>, or the decimal value <code>3</code>. You can use the logical AND operation to force the HO bits to <code>0</code>; likewise, you can use the logical OR operation to force the HO bits to <code>%0011</code>. For more information on string-to-numeric conversions, see <a href="ch02.xhtml#ch02">Chapter 2</a>.</p>&#13;
<p class="tabcap"><a id="ch05tab02"/><strong>Table 5-2:</strong> ASCII Codes for the Numeric Digits</p>&#13;
<table class="topbot-d">&#13;
<colgroup>&#13;
<col style="width:30%"/>&#13;
<col style="width:35%"/>&#13;
<col style="width:35%"/>&#13;
</colgroup>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Character</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Decimal</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Hexadecimal</strong></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">0</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>48</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>$30</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">1</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>49</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$31</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">2</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>50</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>$32</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">3</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>51</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$33</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">4</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>52</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>$34</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">5</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>53</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$35</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">6</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>54</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>$36</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">7</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>55</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$37</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">8</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>56</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>$38</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">9</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>57</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$39</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="indent">Despite the fact that it is a “standard,” simply encoding your data using ASCII characters does not guarantee compatibility across systems. An <em>A</em> on one machine is most likely an <em>A</em> on another system; but, of the 32 control codes in the first group of ASCII codes, plus the delete code in the last group, only 4 control codes are commonly supported by most devices and applications—backspace (BS), tab, carriage return (CR), and line feed (LF). Worse still, different machines often use these “supported” control codes in different ways. End-of-line is a particularly troublesome example. Windows, MS-DOS, CP/M, and other systems mark end-of-line by the two-character sequence CR/LF. The original Apple Macintosh OS and many other systems <span epub:type="pagebreak" id="page_99"/>mark end-of-line by a single CR character. Linux, BeOS, macOS, and other Unix systems mark end-of-line with a single LF character.</p>&#13;
<p class="indent">Exchanging simple text files between different systems can be an exercise in frustration. Even if you use standard ASCII characters in all your files, you still need to convert the data when exchanging files between systems. Fortunately, many text editors automatically handle files with different line endings (many available freeware utilities will also do this conversion for you). If you have to do this in your own software, simply copy all characters except the end-of-line sequence from one file to another, and then emit the new end-of-line sequence whenever you encounter an old end-of-line sequence in the input file.</p>&#13;
<h4 class="h4" id="sec5_1_2"><strong><em>5.1.2 The EBCDIC Character Set</em></strong></h4>&#13;
<p class="noindent">Although the ASCII character set is, unquestionably, the most popular character representation, it’s certainly not the only one available. For example, IBM uses the <em><a href="gloss01.xhtml#gloss01_86">EBCDIC</a></em> code on many of its mainframe and mini-computer lines. However, you’ll rarely encounter it on personal computer systems, so we’ll consider it only briefly in this book.</p>&#13;
<p class="indent">EBCDIC (pronounced “Eb-suh-dic”) stands for <em>Extended Binary Coded Decimal Interchange Code</em>. If you’re wondering whether there was an unextended version of this character code, the answer is yes. Earlier IBM systems and keypunch machines used <em>BCDIC (Binary Coded Decimal Interchange Code)</em>, a character set based on punched cards and decimal representation (for IBM’s older decimal machines).</p>&#13;
<p class="indent">BCDIC existed long before modern digital computers; it was born on old-fashioned IBM keypunches and tabulator machines. EBCDIC extended that encoding to provide a character set for IBM’s computers. However, EBCDIC inherited several traits from BCDIC that seem strange in the context of modern computers. For example, the encodings of the alphabetic characters are not contiguous. Originally, the alphabetic characters probably did have a sequential encoding; however, when IBM expanded the character set, it used some binary combinations that aren’t present in the BCD format (like <code>%1010..%1111</code>). These binary values appear between two otherwise sequential BCD values, which explains why certain character sequences (such as the alphabetic characters) aren’t contiguous in the EBCDIC encoding.</p>&#13;
<p class="indent">EBCDIC is not a single character set; rather, it is a family of character sets. While the EBCDIC character sets have a common core (for example, the encodings for the alphabetic characters are usually the same), different versions, known as <em><a href="gloss01.xhtml#gloss01_51">code pages</a></em>, have different encodings for punctuation and special characters. Because of the limited number of encodings available in a single byte, different code pages reuse some of the character encodings for their own special set of characters. So, if you’re given a file that contains EBCDIC characters and someone asks you to translate it to ASCII, you’ll quickly discover that it’s not a trivial task.</p>&#13;
<p class="indent">Because of the weirdness of the EBCDIC character set, many common algorithms that work well on ASCII characters simply don’t work with <span epub:type="pagebreak" id="page_100"/>EBCDIC. However, keep in mind that EBCDIC functional equivalents exist for most ASCII characters. Check out the IBM literature for more details.</p>&#13;
<h4 class="h4" id="sec5_1_3"><strong><em>5.1.3 Double-Byte Character Sets</em></strong></h4>&#13;
<p class="noindent">Because a byte can represent a maximum of 256 characters, some computer systems use <em>double-byte character sets (DBCSs)</em> to represent more than 256 characters. DBCSs do not encode every character using 16 bits; instead, they use a single byte for most character encodings and use double-byte codes only for certain characters.</p>&#13;
<p class="indent">A typical double-byte character set uses the standard ASCII character set along with several additional characters in the range <code>$80</code> through <code>$FF</code>. Certain values in this range are used as extension codes that tell the software that a second byte immediately follows. Each extension byte allows the DBCS to support another 256 different character codes. With three extension values, for example, the DBCS can support up to 1,021 different characters: 256 characters for each of the extension bytes, and 253 (256 – 3) characters for the standard single-byte set (we subtract 3 because the three extension byte values each consume one of the 256 combinations, and they don’t count as characters).</p>&#13;
<p class="indent">Back in the days when terminals and computers used memory-mapped character displays, double-byte character sets weren’t very practical. Hardware character generators really want each character to be the same size, and they want to process a limited number of characters. However, as bitmapped displays with software character generators became prevalent (such as Windows, Macintosh, Unix/XWindows machines, tablets, and smartphones), it became possible to process DBCSs.</p>&#13;
<p class="indent">Although DBCSs can compactly represent a large number of characters, more computing resources are required to process text in a DBCS format. For example, determining the length of a zero-terminated string containing DBCS characters (typical in the C/C++ languages) can be considerable work. Some characters in the string consume 2 bytes, while most others consume only 1 byte, so a string length function has to scan the string byte-by-byte to locate any extension values indicating that a single character consumes 2 bytes. This process more than doubles the time a high-performance string length function takes to execute.</p>&#13;
<p class="indent">Worse still, many common algorithms used to manipulate string data fail when applied to DBCSs. For example, a common C/C++ trick to step through characters in a string is to either increment or decrement a pointer to the string using expressions like <code>++ptrChar</code> or <code>--ptrChar</code>. This won’t work with DBCSs. While someone using a DBCS probably has a set of standard C library routines that work on DBCSs, it’s also quite likely that other character functions they or others have written don’t work properly with the extended characters.</p>&#13;
<p class="indent">The other big problem with DBCSs is the lack of consistent standard. Different DBCSs use the same exact encoding for different characters. For these reasons, if you need a standardized character set that supports more than 256 characters, you’re far better off using the Unicode character set.</p>&#13;
<h4 class="h4" id="sec5_1_4"><span epub:type="pagebreak" id="page_101"/><strong><em>5.1.4 The Unicode Character Set</em></strong></h4>&#13;
<p class="noindent">A few decades back, engineers at Aldus, NeXT, Sun, Apple Computer, IBM, Microsoft, the Research Library Group, and Xerox realized that their new computer systems with bitmaps and user-selectable fonts could display far more than 256 different characters at one time. At the time, DBCSs were the most common solution, but—as just noted—they had a couple of compatibility problems. So, the engineers sought a different route.</p>&#13;
<p class="indent">The solution they came up with was the Unicode character set. The engineers who originally developed Unicode chose a 2-byte character size. Like DBCSs, this approach still required special library code (existing single-byte string functions would not always work with double-byte characters), but other than changing the size of a character, most existing string algorithms would still work with 2-byte characters. The Unicode definition included all of the (known/living) character sets at the time, giving each character a unique encoding, to avoid the consistency problems that plagued differing DBCSs.</p>&#13;
<p class="indent">The original Unicode standard used a 16-bit word to represent each character. Therefore, Unicode supported up to 65,536 different character codes—a huge advance over the 256 possible codes that are representable with an 8-bit byte. Furthermore, Unicode is upward compatible from ASCII. If the HO 9 bits<sup><a href="footnotes.xhtml#fn5_3a" id="fn5_3">3</a></sup> of a Unicode character’s binary representation contain <code>0</code>, then the LO 7 bits use the standard ASCII code. If the HO 9 bits contain some nonzero value, then the 16 bits form an extended character code (extended from ASCII, that is). If you’re wondering why so many different character codes are necessary, note that, at the time, certain Asian character sets contained 4,096 characters. The Unicode character set even provided a set of codes you could use to create an application-defined character set. Approximately half of the 65,536 possible character codes have been defined, and the remaining character encodings are reserved for future expansion.</p>&#13;
<p class="indent">Today, Unicode is a universal character set, long replacing ASCII and older DBCSs. All modern operating systems (including macOS, Windows, Linux, iOS, Android, and Unix), web browsers, and most modern applications provide Unicode support. Unicode Consortium, a nonprofit corporation, maintains the Unicode standard. By maintaining the standard, Unicode, Inc. (<em><a href="https://home.unicode.org/">https://home.unicode.org/</a></em>), helps guarantee that a character you write on one system will display as you expect on a different system or application.</p>&#13;
<h4 class="h4" id="sec5_1_5"><strong><em>5.1.5 Unicode Code Points</em></strong></h4>&#13;
<p class="noindent">Alas, as well thought-out as the original Unicode standard was, it couldn’t have anticipated the explosion in characters that would occur. Emojis, astrological symbols, arrows, pointers, and a wide variety of symbols introduced for the internet, mobile devices, and web browsers have greatly <span epub:type="pagebreak" id="page_102"/>expanded the Unicode symbol repertoire (along with a desire to support historic, obsolete, and rare scripts). In 1996, systems engineers discovered that 65,536 symbols were insufficient. Rather than require 3 or 4 bytes for each Unicode character, those in charge of the Unicode definition gave up on trying to create a fixed-size representation of characters and allowed for opaque (and multiple) encodings of Unicode characters. Today, Unicode defines 1,112,064 code points, far exceeding the 2-byte capacity originally set aside for Unicode characters.</p>&#13;
<p class="indent">A Unicode <em><a href="gloss01.xhtml#gloss01_53">code point</a></em> is simply an integer value that Unicode associates with a particular character symbol; you can think of it as the Unicode equivalent of the ASCII code for a character. The convention for Unicode code points is to specify the value in hexadecimal with a <code>U+</code> prefix; for example, <code>U+0041</code> is the Unicode code point for the letter <em>A</em>.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>See</em> <a href="https://en.wikipedia.org/wiki/Unicode#General_Category_property">https://en.wikipedia.org/wiki/Unicode#General_Category_property</a> <em>for more details on code points.</em></p>&#13;
</div>&#13;
<h4 class="h4" id="sec5_1_6"><strong><em>5.1.6 Unicode Code Planes</em></strong></h4>&#13;
<p class="noindent">Because of its history, blocks of 65,536 characters are special in Unicode—they are known as a <em>multilingual plane</em>. The first multilingual plane, <code>U+000000</code> to <code>U+00FFFF</code>, roughly corresponds to the original 16-bit Unicode definition; the Unicode standard calls this the <em><a href="gloss01.xhtml#gloss01_24">Basic Multilingual Plane (BMP)</a></em>. Planes 1 (<code>U+010000</code> to <code>U+01FFFF</code>), 2 (<code>U+020000</code> to <code>U+02FFFF</code>), and 14 (<code>U+0E0000</code> to <code>U+0EFFFF</code>) are supplementary planes. Unicode reserves planes 3 through 13 for future expansion and planes 15 and 16 for user-defined character sets.</p>&#13;
<p class="indent">The Unicode standard defines code points in the range <code>U+000000</code> to <code>U+10FFFF</code>. Note that <code>0x10ffff</code> is 1,114,111, which is where most of the 1,112,064 characters in the Unicode character set come from; the remaining 2,048 code points are reserved for use as <em>surrogates</em>, which are Unicode extensions. <em>Unicode scalar</em>, another term you might hear, is a value from the set of all Unicode code points <em>except</em> the 2,048 surrogate code points. The HO two hexadecimal digits of the six-digit code point value specify the multilingual plane. Why 17 planes? The reason, as you’ll see in a moment, is that Unicode uses special multiword entries to encode code points beyond <code>U+FFFF</code>. Each of the two possible extensions encodes 10 bits, for a total of 20 bits; 20 bits gives you 16 multilingual planes, which, plus the original BMP, produces 17 multilingual planes. This is also why code points fall in the range <code>U+000000</code> to <code>U+10FFFF</code>: it takes 21 bits to encode the 16 multilingual planes plus the BMP.</p>&#13;
<h4 class="h4" id="sec5_1_7"><strong><em>5.1.7 Surrogate Code Points</em></strong></h4>&#13;
<p class="noindent">As noted earlier, Unicode began life as a 16-bit (2-byte) character set encoding. When it became apparent that 16 bits were insufficient to handle all the possible characters that existed at the time, an expansion was necessary. As of Unicode v2.0, the Unicode, Inc., organization extended the definition of Unicode to include multiword characters. Now Unicode uses surrogate <span epub:type="pagebreak" id="page_103"/>code points (<code>U+D800</code> through <code>U+DFFF</code>) to encode values larger than <code>U+FFFF</code>. <a href="ch05.xhtml#ch05fig02">Figure 5-2</a> shows the encoding.</p>&#13;
<div class="image"><img alt="image" src="../images/05fig02.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig02"/><em>Figure 5-2: Surrogate code point encoding for Unicode planes 1–16</em></p>&#13;
<p class="indent">Note that the two words (unit 1/high surrogate and unit 2/low surrogate) always appear together. The unit 1 value (with HO bits <code>%110110</code>) specifies the upper 10 bits (<code>b</code><sub><code>10</code></sub>..<code>b</code><sub><code>19</code></sub>) of the Unicode scalar, and the unit 2 value (with HO bits <code>%110111</code>) specifies the lower 10 bits (<code>b</code><sub><code>0</code></sub>..<code>b</code><sub><code>9</code></sub>) of the Unicode scalar. Therefore, the value of bits <code>b</code><sub><code>16</code></sub> through <code>b</code><sub><code>19</code></sub> plus 1 specifies Unicode plane 1 through 16. Bits <code>b</code><sub><code>0</code></sub> through <code>b</code><sub><code>15</code></sub> specify the Unicode scalar value within the plane.</p>&#13;
<p class="indent">Note that surrogate codes appear only in the BMP. None of the other multilingual planes contain surrogate codes. Bits <code>b</code><sub><code>0</code></sub> through <code>b</code><sub><code>19</code></sub>, extracted from the unit 1 and 2 values, always specify a Unicode scalar value (even if the values fall in the range <code>U+D800</code> through <code>U+DFFF</code>).</p>&#13;
<h4 class="h4" id="sec5_1_8"><strong><em>5.1.8 Glyphs, Characters, and Grapheme Clusters</em></strong></h4>&#13;
<p class="noindent">Each Unicode code point has a unique name. For example, <code>U+0045</code> has the name “LATIN CAPITAL LETTER A.” Note that the symbol <em>A</em> is <em>not</em> the name of the character. <em>A</em> is a <em>glyph</em>—a series of strokes (one horizontal and two slanted strokes) that a device draws in order to represent the character.</p>&#13;
<p class="indent">There are many different glyphs for the single Unicode character “LATIN CAPITAL LETTER A.” For example, a Times Roman letter A and a Times Roman Italic letter <em>A</em> have different glyphs, but Unicode doesn’t differentiate between them (or between <em>A</em> characters in any two different fonts). The character “LATIN CAPITAL LETTER A” remains <code>U+0045</code> regardless of the font or style you use to draw it.</p>&#13;
<p class="indent">As an interesting side note, if you have access to the Swift programming language, you can print the name of any Unicode character using the following code:</p>&#13;
<pre>import Foundation<br/>&#13;
let charToPrintName  :String = "A"      // Print name of this character<br/><br/>&#13;
let unicodeName =<br/>&#13;
    String(charToPrintName).applyingTransform(<br/>&#13;
        StringTransform(rawValue: "Any-Name"),<br/>&#13;
        reverse: false<br/>&#13;
    )! // Forced unwrapping is legit here because it always succeeds.<br/>&#13;
<span epub:type="pagebreak" id="page_104"/>print( unicodeName )<br/><br/>&#13;
Output from program:<br/>&#13;
\N{LATIN CAPITAL LETTER A}</pre>&#13;
<p class="indent">So, what exactly is a character in Unicode? Unicode scalars are Unicode characters, but there’s a difference between what you’d normally call a character and the definition of a scalar. For example, is <em>©</em> one character or two? Consider the following Swift code:</p>&#13;
<pre>import Foundation<br/>&#13;
let eAccent  :String = "e\u{301}"<br/>&#13;
print( eAccent )<br/>&#13;
print( "eAccent.count=\(eAccent.count)" )<br/>&#13;
print( "eAccent.utf16.count=\(eAccent.utf16.count)" )</pre>&#13;
<p class="indent"><code>"\u{301}"</code> is the Swift syntax for specifying a Unicode scalar value within a string; in this particular case <code>301</code> is the hexadecimal code for the <em>combining acute accent</em> character.</p>&#13;
<p class="indent">The first <code>print</code> statement:</p>&#13;
<pre>print( eAccent )</pre>&#13;
<p class="noindent">prints the character (producing <code>©</code> on the output, as we expect).</p>&#13;
<p class="indent">The second <code>print</code> statement prints the number of characters Swift determines are present in the string:</p>&#13;
<pre>print( "eAccent.count=\(eAccent.count)" )</pre>&#13;
<p class="noindent">This prints <code>1</code> to the standard output.</p>&#13;
<p class="indent">The third <code>print</code> statement prints the number of elements (UTF-16 elements<sup><a href="footnotes.xhtml#fn5_4a" id="fn5_4">4</a></sup>) in the string:</p>&#13;
<pre>print( "eAccent.utf16.count=\(eAccent.utf16.count)" )</pre>&#13;
<p class="noindent">This prints <code>2</code> on the standard output, because the string holds two words of UTF-16 data.</p>&#13;
<p class="indent">So, again, is this one character or two? Internally (assuming UTF-16 encoding), the computer sets aside 4 bytes of memory for this single character (two 16-bit Unicode scalar values).<sup><a href="footnotes.xhtml#fn5_5a" id="fn5_5">5</a></sup> On the screen, however, the output takes only one character position and looks like a single character to the user. When this character appears within a text editor and the cursor is immediately to the right of the character, the user expects that pressing the backspace key will delete it. From the user’s perspective, then, this is a single character (as Swift reports when you print the <code>count</code> attribute of the string).</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_105"/>In Unicode, however, a character is largely equivalent to a code point. This is not what people normally think of as a character. In Unicode terminology, a <em>grapheme cluster</em> is what people commonly call a character—it’s a sequence of one or more Unicode code points that combine to form a single language element (that is, a single character). So, when we talk about characters with respect to symbols that an application displays to an end user, we’re really talking about grapheme clusters.</p>&#13;
<p class="indent">Grapheme clusters can make life miserable for software developers. Consider the following Swift code (a modification of the earlier example):</p>&#13;
<pre>import Foundation<br/>&#13;
let eAccent  :String = "e\u{301}\u{301}"<br/>&#13;
<span epub:type="pagebreak" id="page_106"/>print( eAccent )<br/>&#13;
print( "eAccent.count=\(eAccent.count)" )<br/>&#13;
print( "eAccent.utf16.count=\(eAccent.utf16.count)" )</pre>&#13;
<p class="indent">This code produces the same <code>©</code> and <code>1</code> outputs from the first two <code>print</code> statements. The following produces <code>©</code>:</p>&#13;
<pre>print( eAccent )</pre>&#13;
<p class="noindent">and this <code>print</code> statement produces <code>1</code>.</p>&#13;
<pre>print( "eAccent.count=\(eAccent.count)" )</pre>&#13;
<p class="indent">However, the third <code>print</code> statement:</p>&#13;
<pre>print( "eAccent.utf16.count=\(eAccent.utf16.count)" )</pre>&#13;
<p class="noindent">displays <code>3</code> rather than <code>2</code> (as in the original example).</p>&#13;
<p class="indent">There are definitely three Unicode scalar values in this string (<code>U+0065</code>, <code>U+0301</code>, and <code>U+0301</code>). When printing, the operating system combines the <code>e</code> and the two acute accent combining characters to form the single character <code>©</code> and then outputs the character to the standard output device. Swift is smart enough to know that this combination creates a single output symbol on the display, so printing the result of the <code>count</code> attribute continues to output <code>1</code>. However, there are (undeniably) three Unicode code points in this string, so printing <code>utf16.count</code> produces <code>3</code> on output.</p>&#13;
<h4 class="h4" id="sec5_1_9"><strong><em>5.1.9 Unicode Normals and Canonical Equivalence</em></strong></h4>&#13;
<p class="noindent">The Unicode character <em>©</em> actually existed on personal computers long before Unicode came along. It’s part of the original IBM PC character set and also part of the Latin-1 character set (used, for example, on old DEC terminals). As it turns out, Unicode uses the Latin-1 character set for the code points in the range <code>U+00A0</code> to <code>U+00FF</code>, and <code>U+00E9</code> just happens to correspond to the <em>©</em> character. Therefore, we can modify the earlier program as follows:</p>&#13;
<pre>import Foundation<br/>&#13;
let eAccent  :String = "\u{E9}"<br/>&#13;
print( eAccent )<br/>&#13;
print( "eAccent.count=\(eAccent.count)" )<br/>&#13;
print( "eAccent.utf16.count=\(eAccent.utf16.count)" )</pre>&#13;
<p class="indent">The outputs from this program are:</p>&#13;
<pre>©<br/>&#13;
1<br/>&#13;
1</pre>&#13;
<p class="indent">Ouch! Three different strings all producing <code>©</code> but containing a different number of code points. Imagine how this complicates programming strings containing Unicode characters. For example, if you have the following three strings (Swift syntax) and you try to compare them, what will the result be?</p>&#13;
<pre>let eAccent1 :String = "\u{E9}"<br/>&#13;
let eAccent2 :String = "e\u{301}"<br/>&#13;
let eAccent3 :String = "e\u{301}\u{301}"</pre>&#13;
<p class="indent">To the user, all three strings look the same on the screen. However, they clearly contain different values. If you compare them to see if they are equal, will the result be <code>true</code> or <code>false</code>?</p>&#13;
<p class="indent">Ultimately, that depends upon whose string libraries you’re using. Most current string libraries would return <code>false</code> if you compared these strings for equality. Interestingly enough, Swift will claim that <code>eAccent1</code> is equal to <code>eAccent2</code>, but it isn’t smart enough to report that <code>eAccent1</code> is equal to <code>eAccent3</code> or that <code>eAccent2</code> is equal to <code>eAccent3</code>—despite the fact that it displays the same symbol for all three strings. Many languages’ string libraries simply report that all three strings are unequal.</p>&#13;
<p class="indent">The three Unicode/Swift strings <code>"\{E9}"</code>, <code>"e\{301}"</code>, and <code>"e\{301}\{301}"</code> all produce the same output on the display; therefore, they are canonically equivalent according to the Unicode standard. Some string libraries won’t report any of these strings as being equivalent, however. Others, like the one for Swift, will handle small canonical equivalences (such as <code>"\{E9}" == "e\{301}"</code>) but not arbitrary sequences that should be equivalent.<sup><a href="footnotes.xhtml#fn5_6a" id="fn5_6">6</a></sup></p>&#13;
<p class="indent">Unicode defines <em>normal forms</em> for Unicode strings. One aspect of normal form is to replace canonically equivalent sequences with an equivalent sequence—for example, replace <code>"e\u{309}"</code> by <code>"\u{E9}"</code> or replace <code>"\u{E9}"</code> by <code>"e\u{309}"</code> (usually, the shorter form is preferable). Some Unicode sequences allow multiple combining characters. Often, the order of the combining characters is irrelevant to producing the desired grapheme cluster. However, it’s easier to compare two such strings if the combining characters are in a specified order. Normalizing Unicode strings may also produce results whose combining characters always appear in a fixed order (thereby improving efficiency of string comparisons).</p>&#13;
<h4 class="h4" id="sec5_1_10"><span epub:type="pagebreak" id="page_107"/><strong><em>5.1.10 Unicode Encodings</em></strong></h4>&#13;
<p class="noindent">As of Unicode v2.0, the standard supports a 21-bit character space capable of handling over a million characters (though most of the code points remain reserved for future use). Rather than use a fixed-size 3-byte (or worse, 4-byte) encoding to allow the larger character set, Unicode, Inc., allows different encodings—UTF-32, UTF-16, and UTF-8—each with its own advantages and disadvantages.<sup><a href="footnotes.xhtml#fn5_7a" id="fn5_7">7</a></sup></p>&#13;
<p class="indent">UTF-32 uses 32-bit integers to hold Unicode scalars. The advantage to this scheme is that a 32-bit integer can represent every Unicode scalar value (which requires only 21 bits). Programs that require random access to characters in strings—without having to search for surrogate pairs—and other constant-time operations are (mostly) possible with UTF-32. The obvious drawback to UTF-32 is that each Unicode scalar value requires 4 bytes of storage—twice that of the original Unicode definition and four times that of ASCII characters. It may seem that using two or four times as much storage (over ASCII and the original Unicode) is a small price to pay. After all, modern machines have several orders of magnitude more storage than they did when Unicode first appeared. However, that extra storage has a huge impact on performance, because those additional bytes quickly consume cache storage. Furthermore, modern string processing libraries often operate on character strings 8 bytes at a time (on 64-bit machines). With ASCII characters, that means a given string function can process up to eight characters concurrently; with UTF-32, that same string function can operate on only two characters concurrently. As a result, the UTF-32 version will run four times slower than the ASCII version. Ultimately, even Unicode scalar values are insufficient to represent all Unicode characters (that is, many Unicode characters require a sequence of Unicode scalars), so using UTF-32 doesn’t solve the problem.</p>&#13;
<p class="indent">The second encoding format the Unicode supports is UTF-16. As the name suggests, UTF-16 uses 16-bit (unsigned) integers to represent Unicode values. To handle scalar values greater than <code>0xFFFF</code>, UTF-16 uses the surrogate pair scheme to represent values in the range <code>0x010000</code> to <code>0x10FFFF</code> (see “<a href="#sec5_1_7">Surrogate Code Points</a>” on page <a href="#sec5_1_7">102</a>). Because the vast majority of useful characters fit into 16 bits, most UTF-16 characters require only 2 bytes. For those rare cases where surrogates are necessary, UTF-16 requires 2 words (32 bits) to represent the character.</p>&#13;
<p class="indent">The last encoding, and unquestionably the most popular, is UTF-8. The UTF-8 encoding is forward compatible from the ASCII character set. In particular, all ASCII characters have a single-byte representation (their original ASCII code, where the HO bit of the byte containing the character contains a <code>0</code> bit). If the UTF-8 HO bit is <code>1</code>, then UTF-8 requires between 1 and 3 additional bytes to represent the Unicode code point. <a href="ch05.xhtml#ch05tab03">Table 5-3</a> provides the UTF-8 encoding schema.</p>&#13;
<p class="tabcap"><span epub:type="pagebreak" id="page_108"/><a id="ch05tab03"/><strong>Table 5-3:</strong> UTF Encoding</p>&#13;
<table class="topbot-d">&#13;
<colgroup>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:10%"/>&#13;
<col style="width:15%"/>&#13;
<col style="width:15%"/>&#13;
</colgroup>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Bytes</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Bits for code point</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>First code point</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Last code point</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Byte 1</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Byte 2</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Byte 3</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Byte 4</strong></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>7</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>U+00</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>U+7F</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code><span class="EmpItalic">xxxxxxx</span></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>2</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>11</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>U+80</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>U+7FF</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>110</code><span class="EmpItalic">xxxxx</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
<td style="vertical-align: top;"/>&#13;
<td style="vertical-align: top;"/>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>3</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>16</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>U+800</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>U+FFFF</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1110</code><span class="EmpItalic">xxxx</span></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>4</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>21</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>U+10000</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>U+10FFFF</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>11110</code><span class="EmpItalic">xxx</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>10</code><span class="EmpItalic">xxxxxx</span></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="indent">The “<span class="EmpItalic">xxx</span> . . .” bits are the Unicode code point bits. For multibyte sequences, byte 1 contains the HO bits, byte 2 contains the next HO bits (LO bits compared to byte 1), and so on. For example, the 2-byte sequence (<code>%11011111</code>, <code>%10000001</code>) corresponds to the Unicode scalar <code>%0000_0111_1100_0001</code> (<code>U+07C1</code>).</p>&#13;
<p class="indent">UTF-8 encoding is probably the most common encoding in use. Most web pages use it. Most C standard library string functions will operate on UTF-8 text without modification (although some C standard library functions can produce malformed UTF-8 strings if the programmer isn’t careful with them).</p>&#13;
<p class="indent">Different languages and operating systems use different encodings as their default. For example, macOS and Windows tend to use UTF-16 encoding, whereas most Unix systems use UTF-8. Some variants of Python use UTF-32 as their native character format. By and large, though, most programming languages use UTF-8 because they can continue to use older ASCII-based character processing libraries to process UTF-8 characters. Apple’s Swift is one of the first programming languages that attempts to do Unicode right (though there is a huge performance hit for doing so).</p>&#13;
<h4 class="h4" id="sec5_1_11"><strong><em>5.1.11 Unicode Combining Characters</em></strong></h4>&#13;
<p class="noindent">Although UTF-8 and UTF-16 encodings are much more compact than UTF-32, the CPU overhead and algorithmic complexities of dealing with multibyte (or multiword) characters sets complicates their use, introducing bugs and performance issues. Despite the issues of wasting memory (especially in the cache), why not simply define characters as 32-bit entities and be done with it? This seems like it would simplify string processing algorithms, improving performance and reducing the likelihood of defects in the code.</p>&#13;
<p class="indent">The problem with this theory is that you cannot represent all possible grapheme clusters with only 21 bits (or even 32 bits) of storage. Many grapheme clusters consist of several concatenated Unicode code points. Here’s an example from Chris Eidhof and Ole Begemann’s <em>Advanced Swift</em> (CreateSpace, 2017):</p>&#13;
<pre>let chars: [Character] = [<br/>&#13;
    "\u{1ECD}\u{300}", <br/>&#13;
    "\u{F2}\u{323}",<br/>&#13;
    "\u{6F}\u{323}\u{300}",<br/>&#13;
    "\u{6F}\u{300}\u{323}"<br/>&#13;
]</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_109"/>Each of these Unicode grapheme clusters produces an identical character: an <code>ó</code> with a dot underneath the character (this is a character from the Yoruba character set). The character sequence (<code>U+1ECD</code>, <code>U+300</code>) is an <code>o</code> with a dot under it followed by a combining acute. The character sequence (<code>U+F2</code>, <code>U+323</code>) is an <code>ó</code> followed by a combining dot. The character sequence (<code>U+6F</code>, <code>U+323</code>, <code>U+300</code>) is an <code>o</code> followed by a combining dot, followed by a combining acute. Finally, the character sequence (<code>U+6F</code>, <code>U+300</code>, <code>U+323</code>) is an <code>o</code> followed by a combining acute, followed by a combining dot. All four strings produce the same output. Indeed, the Swift string comparisons treat all four strings as equal:</p>&#13;
<pre>print( "\u{1ECD} + \u{300} = \u{1ECD}\u{300}" )<br/>&#13;
print( "\u{F2} + \u{323} = \u{F2}\u{323}" )<br/>&#13;
print( "\u{6F} + \u{323} + \u{300} = \u{6F}\u{323}\u{300}" )<br/>&#13;
print( "\u{6F} + \u{300} + \u{323} = \u{6F}\u{300}\u{323}" )<br/>&#13;
print( chars[0] == chars[1] ) // Outputs true<br/>&#13;
print( chars[0] == chars[2] ) // Outputs true<br/>&#13;
print( chars[0] == chars[3] ) // Outputs true<br/>&#13;
print( chars[1] == chars[2] ) // Outputs true<br/>&#13;
print( chars[1] == chars[3] ) // Outputs true<br/>&#13;
print( chars[2] == chars[3] ) // Outputs true</pre>&#13;
<p class="indent">Note that there is not a single Unicode scalar value that will produce this character. You must combine at least two Unicode scalars (or as many as three) to produce this grapheme cluster on the output device. Even if you used UTF-32 encoding, it would still require two (32-bit) scalars to produce this particular output.</p>&#13;
<p class="indent">Emojis present another challenge that can’t be solved using UTF-32. Consider the Unicode scalar <code>U+1F471</code>. This prints an emoji of a person with blond hair. If we add a skin color modifier to this, we obtain (<code>U+1F471</code>, <code>U+1F3FF</code>), which produces a person with a dark skin tone (and blond hair). In both cases we have a single character displaying on the screen. The first example uses a single Unicode scalar value, but the second example requires two. There is no way to encode this with a single UTF-32 value.</p>&#13;
<p class="indent">The bottom line is that certain Unicode grapheme clusters will require multiple scalars, no matter how many bits we assign to the scalar (it’s possible to combine 30 or 40 scalars into a single grapheme cluster, for example). That means we’re stuck dealing with multiword sequences to represent a single “character” regardless of how hard we try to avoid it. This is why UTF-32 has never really taken off. It doesn’t solve the problem of random access into a string of Unicode characters. If you’ve got to deal with normalizing and combining Unicode scalars, it’s more efficient to use UTF-8 or UTF-16 encodings.</p>&#13;
<p class="indent">Again, most languages and operating systems today support Unicode in one form or another (typically using UTF-8 or UTF-16 encoding). Despite the obvious problems with dealing with multibyte character sets, modern programs need to deal with Unicode strings rather than simple ASCII strings. Swift, which is almost “pure Unicode,” doesn’t even offer much in the way of standard ASCII character support.</p>&#13;
<h3 class="h3" id="sec5_2"><span epub:type="pagebreak" id="page_110"/><strong>5.2 Character Strings</strong></h3>&#13;
<p class="noindent">After integers, character strings are probably the most common type in use in modern programs. In general, a <em><a href="gloss01.xhtml#gloss01_47">character string</a></em> is a sequence of characters with two main attributes: a <em>length</em> and the <em>character data</em>.</p>&#13;
<p class="indent">Character strings may also possess other attributes, such as the <em>maximum length</em> allowable for that particular variable or a <em>reference count</em> specifying how many different string variables refer to the same character string. We’ll look at these attributes and how programs can use them in this section, which describes various string formats and some of the possible string operations.</p>&#13;
<h4 class="h4" id="sec5_2_1"><strong><em>5.2.1 Character String Formats</em></strong></h4>&#13;
<p class="noindent">Different languages use different data structures to represent strings. Some string formats use less memory, others allow faster processing, some are more convenient to use, and still others provide additional functionality for the programmer and operating system. To help you better understand the reasoning behind the design of character strings, let’s look at some common string representations popularized by various high-level languages.</p>&#13;
<h5 class="h5" id="sec5_2_1_1"><strong>5.2.1.1 Zero-Terminated Strings</strong></h5>&#13;
<p class="noindent">Without question, <em><a href="gloss01.xhtml#gloss01_271">zero-terminated strings</a></em> are the most common string representation in use today, because this is the native string format for C, C++, and several other languages. In addition, you’ll find zero-terminated strings in programs written in languages that don’t have a specific native string format, such as assembly language.</p>&#13;
<p class="indent">A zero-terminated ASCII string is a sequence containing zero or more 8-bit character codes ending with a byte containing <code>0</code> (or, in the case of UTF-16, a sequence containing zero or more 16-bit character codes and ending with a 16-bit word containing <code>0</code>). For example, in C/C++, the ASCII string <code>"abc"</code> requires 4 bytes: 1 byte for each of the three characters <code>a</code>, <code>b</code>, and <code>c</code>, and a <code>0</code> byte.</p>&#13;
<p class="indent">Zero-terminated strings have a few advantages over other string formats:</p>&#13;
<ul>&#13;
<li class="noindent">Zero-terminated strings can represent strings of any practical length with only one byte of overhead (2 bytes in UTF-16, 4 in UTF-32).</li>&#13;
<li class="noindent">Given the popularity of the C/C++ programming languages, high-performance string processing libraries are available that work well with zero-terminated strings.</li>&#13;
<li class="noindent">Zero-terminated strings are easy to implement. As far as the C and C++ languages are concerned, strings are just arrays of characters. That’s probably why C’s designers chose this format in the first place—so they wouldn’t have to clutter up the language with string operators.</li>&#13;
<li class="noindent">You can easily represent zero-terminated strings in any language able to create an array of characters.</li>&#13;
</ul>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_111"/>However, zero-terminated strings also have disadvantages that mean they are not always the best choice for representing character string data:</p>&#13;
<ul>&#13;
<li class="noindent">String functions that need to know the length of a string before working on the string data often aren’t very efficient when operating on zero-terminated strings. The only reasonable way to compute the length of a zero-terminated string is to scan the string from the beginning to the end. The longer your strings are, the slower this function runs, so the zero-terminated string format isn’t the best choice if you need to process long strings.</li>&#13;
<li class="noindent">Although it’s a minor problem, you cannot easily represent the character code <code>0</code> (such as the NUL character in ASCII and Unicode) with the zero-terminated string format.</li>&#13;
<li class="noindent">Zero-terminated strings don’t contain any information that tells you how long the string can grow beyond the terminating <code>0</code> byte. Therefore, some string functions, like concatenation, can only extend the length of an existing string variable and check for overflow if the caller explicitly passes the maximum length.</li>&#13;
</ul>&#13;
<h5 class="h5" id="sec5_2_1_2"><strong>5.2.1.2 Length-Prefixed Strings</strong></h5>&#13;
<p class="noindent">A second string format, <em><a href="gloss01.xhtml#gloss01_135">length-prefixed strings</a></em>, overcomes some of the problems with zero-terminated strings. Length-prefixed strings are common in languages like Pascal; they generally consist of a single byte that specifies the length of the string, followed by zero or more 8-bit character codes. In a length-prefixed scheme, the string <code>"abc"</code> consists of 4 bytes: the length byte (<code>$03</code>), followed by <code>a</code>, <code>b</code>, and <code>c</code>.</p>&#13;
<p class="indent">Length-prefixed strings solve two of the problems associated with zero-terminated strings: they allow you to represent the NUL character, and string operations are more efficient. Another advantage to length-prefixed strings is that the length is usually located at position <code>0</code> in the string (if we view the string as an array of characters), so the first character of the string begins at index <code>1</code> in the array representation of the string. For many string functions, having a <code>1</code>-based index into the character data is much more convenient than a <code>0</code>-based index (which zero-terminated strings use).</p>&#13;
<p class="indent">The principal drawback of length-prefixed strings that they are limited to a maximum of 255 characters in length (assuming a 1-byte length prefix). You can remove this limitation by using a 2- or 4-byte length value, but doing so increases the amount of overhead data from 1 to 2 or 4 bytes.</p>&#13;
<h5 class="h5" id="sec5_2_1_3"><strong>5.2.1.3 Seven-Bit Strings</strong></h5>&#13;
<p class="noindent">The 7-bit string format is an interesting option that works for 7-bit encodings like ASCII. It uses the (normally unused) higher-order bit of the characters in the string to indicate the end of the string. All but the last character code in the string has its HO bit clear, and the last character in the string has its HO bit set.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_112"/>This 7-bit string format has several disadvantages:</p>&#13;
<ul>&#13;
<li class="noindent">You have to scan the entire string in order to determine the length of the string.</li>&#13;
<li class="noindent">You cannot have zero-length strings.</li>&#13;
<li class="noindent">Few languages provide literal string constants for 7-bit strings.</li>&#13;
<li class="noindent">You’re limited to a maximum of 128 character codes, though this is fine when you’re using plain ASCII.</li>&#13;
</ul>&#13;
<p class="indent">However, a big advantage of 7-bit strings is that they don’t require any overhead bytes to encode the length. Assembly language (using a macro to create literal string constants) is probably the best language to use when dealing with 7-bit strings. Because the benefit of 7-bit strings is that they’re compact and assembly language programmers tend to worry most about compactness, this is a good match. Here’s an HLA macro that converts a literal string constant to a 7-bit string:</p>&#13;
<pre>#macro sbs( s );<br/><br/>&#13;
    // Grab all but the last character of the string:<br/><br/>&#13;
    (@substr( s, 0, @length(s) – 1) +<br/><br/>&#13;
        // Concatenate the last character with its HO bit set:<br/><br/>&#13;
        char( uns8( char( @substr( s, @length(s) – 1, 1))) | $80 ) )<br/><br/>&#13;
#endmacro<br/>&#13;
    . . .<br/>&#13;
byte sbs( "Hello World" );</pre>&#13;
<h5 class="h5" id="sec5_2_1_4"><strong>5.2.1.4 HLA Strings</strong></h5>&#13;
<p class="noindent">As long as you’re not too concerned about a few extra bytes of overhead per string, you can create a string format that combines the advantages of both length-prefixed and zero-terminated strings without their respective disadvantages. The High-Level Assembly language has done this with its native string format.<sup><a href="footnotes.xhtml#fn5_8a" id="fn5_8">8</a></sup></p>&#13;
<p class="indent">The biggest drawback to the HLA character string format is the amount of overhead required for each string: 9 bytes per string,<sup><a href="footnotes.xhtml#fn5_9a" id="fn5_9">9</a></sup> which can be significant, percentage-wise, if you’re in a memory-constrained environment and you process many small strings.</p>&#13;
<p class="indent">The HLA string format uses a 4-byte length prefix, allowing character strings to be just over four billion characters long (obviously, this is far <span epub:type="pagebreak" id="page_113"/>more than any practical HLA application will use). HLA also appends a <code>0</code> byte to the character string data. The additional 4 bytes of overhead contain the maximum legal length for that string. Having this extra field allows HLA string functions to check for string overflow, if necessary. In memory, HLA strings take the form shown in <a href="ch05.xhtml#ch05fig03">Figure 5-3</a>.</p>&#13;
<div class="image"><img alt="image" src="../images/05fig03.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig03"/><em>Figure 5-3: HLA string format</em></p>&#13;
<p class="indent">The 4 bytes immediately before the first character of the string contain the current string length. The 4 bytes preceding the current string length contain the maximum string length. Immediately following the character data is a <code>0</code> byte. Finally, HLA always ensures that the string data structure’s length is a multiple of 4 bytes long (for performance reasons), so there may be up to 3 additional bytes of padding at the end of the object in memory. (Note that the string in <a href="ch05.xhtml#ch05fig03">Figure 5-3</a> requires only 1 byte of padding to ensure that the data structure is a multiple of 4 bytes in length.)</p>&#13;
<p class="indent">HLA string variables are pointers that contain the byte address of the first character in the string. To access the length fields, you load the value of the string pointer into a 32-bit register, then access the <code>Length</code> field at offset –4 from the base register and the <code>MaxLength</code> field at offset –8 from the base register. Here’s an example:</p>&#13;
<pre>static<br/>&#13;
        s :string := "Hello World";<br/>&#13;
                . . .<br/>&#13;
        mov( s, esi );        // Move the address of 'H' in "Hello World"<br/>&#13;
                              // into esi.<br/>&#13;
        mov( [esi-4], ecx );  // Puts length of string (11 for "Hello World")<br/>&#13;
                              // into ECX.<br/>&#13;
                . . .<br/>&#13;
        mov( s, esi );<br/>&#13;
        cmp( eax, [esi-8] );  // See if value in EAX exceeds the maximum<br/>&#13;
                              // string length.<br/>&#13;
        ja StringOverflow;</pre>&#13;
<p class="indent">As read-only objects, HLA strings are compatible with zero-terminated strings. For example, if you have a function written in C that’s expecting you to pass it a zero-terminated string, you can call that function and pass it an HLA string variable, like this:</p>&#13;
<pre><span class="EmpItalic1">someCFunc</span>( hlaStringVar );</pre>&#13;
<p class="indent">The only catch is that the C function must not make any changes to the string that would affect its length (because the C code won’t update the <code>Length</code> field of the HLA string). Of course, you can always call a C <code>strlen()</code> function upon returning to update the length field yourself, but generally, it’s best not to pass HLA strings to a function that modifies zero-terminated strings.</p>&#13;
<h5 class="h5" id="sec5_2_1_5"><span epub:type="pagebreak" id="page_114"/><strong>5.2.1.5 Descriptor-Based Strings</strong></h5>&#13;
<p class="noindent">The string formats we’ve considered up to this point have kept the attribute information (that is, the lengths and terminating bytes) for a string in memory along with the character data. A slightly more flexible scheme is to maintain such information in a record structure, known as a <em><a href="gloss01.xhtml#gloss01_73">descriptor</a></em>, that also contains a pointer to the character data. Consider the following Pascal/Delphi data structure:</p>&#13;
<pre>type<br/>&#13;
    dString :record<br/>&#13;
              curLength  :integer;<br/>&#13;
              strData    :^char;<br/>&#13;
   end;</pre>&#13;
<p class="indent">Note that this data structure does not hold the actual character data. Instead, the <code>strData</code> pointer contains the address of the first character of the string. The <code>curLength</code> field specifies the current length of the string. You could add any other fields you like to this record, like a maximum length field, though a maximum length isn’t usually necessary because most string formats employing a descriptor are <em>dynamic</em> (as the next section will discuss). Most string formats employing a descriptor just maintain the <code>Length</code> field.</p>&#13;
<p class="indent">An interesting attribute of a descriptor-based string system is that the actual character data associated with a string could be part of a larger string. Because there are no length or terminating bytes within the actual character data, it’s possible to have the character data for two strings overlap (see <a href="ch05.xhtml#ch05fig04">Figure 5-4</a>).</p>&#13;
<div class="image"><img alt="image" src="../images/05fig04.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig04"/><em>Figure 5-4: Overlapping strings using descriptors</em></p>&#13;
<p class="indent">In this example, there are two strings—<code>"Hello World"</code> and <code>"World"</code>—that overlap. This can save memory and make certain functions, like <code>substring()</code>, very efficient. Of course, when strings overlap like this, you can’t modify the string data because that could wipe out part of some other string.</p>&#13;
<h5 class="h5" id="sec5_2_1_6"><strong>5.2.1.6 Java Strings</strong></h5>&#13;
<p class="noindent">Java uses a descriptor-based string form. The actual <code>String</code> data type (that is, the structure/class that defines the internal representation of a Java string) is <em>opaque</em>, which means you really aren’t supposed to know about or mess with it. It’s a very bad idea to attempt to manipulate Java strings other than via the Java String API, because the Java standard has changed their internal representation on a couple of occasions.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_115"/>For example, Java originally defined the <code>String</code> type as a descriptor with four items: a pointer to an array of 16-bit (original) Unicode characters (no extension beyond 16 bits), a count field, an offset field, and a hash code field. The offset and count fields allowed efficient substring operations, since all substrings into a larger string would share the same array of characters. Unfortunately, this format produced memory leaks in some degenerate cases, so Java’s designers changed the format and eliminated these fields. If you had code that used the offset and count fields (again, a bad idea), your code was broken by this change.</p>&#13;
<p class="indent">Java also switched from the original Unicode 2-byte definition to UTF-16 encoding once it became apparent that 16-bit characters were insufficient. However, after a bit of research into a wide variety of Java programs on the internet, Oracle (Java’s owner) discovered that most programs use only the Latin-1 character set (basically, ASCII). In Oracle’s own words:</p>&#13;
<p class="block-quote">Data from different applications suggests that strings are a major component of Java heap usage and that most <code>java.lang.String</code> objects contain only Latin-1 characters. Such characters require only one byte of storage. As a result, half of the space in the internal character arrays of <code>java.lang.String</code> objects are not used. The compact strings feature, introduced in Java SE 9, reduces the memory footprint, and reduces garbage collection activity.</p>&#13;
<p class="indent">This change was largely transparent to Java users and their programs. Oracle added a new field to the <code>String</code> descriptor to specify whether the encoding was UTF-16 or Latin-1. Once again, if your programs depended on the internal representation, they broke.</p>&#13;
<p class="indent">Always assume that Java <code>String</code>s are proper Unicode strings (typically using UTF-16 encoding). Java does not try to hide the ugliness of multiword characters. As a Java programmer, you must be aware of the difference between the number of characters, code points, and grapheme clusters in a string. Java provides functions—for example, <code>String.length()</code>, <code>String.codePointCount()</code>, and <code>BreakIterator.getCharacterInstance()</code>—to compute all these values for you, but your code must explicitly call them.</p>&#13;
<h5 class="h5" id="sec5_2_1_7"><strong>5.2.1.7 Swift Strings</strong></h5>&#13;
<p class="noindent">Like Java, the Swift programming language uses Unicode characters in its strings. Swift 4.x and earlier used a UTF-16 encoding, which is native to macOS (on which Apple developed Swift); with Swift v5.0, Apple switched to UTF-8 as the native encoding for Swift strings. As with Java, Swift’s <code>String</code> type is opaque, so you shouldn’t attempt to mess with (or otherwise use) its internal representation.</p>&#13;
<h5 class="h5" id="sec5_2_1_8"><strong>5.2.1.8 C# Strings</strong></h5>&#13;
<p class="noindent">The C# programming language uses UTF-16 encoding for characters in its strings. As with Java and Swift, C#’s <code>string</code> type is opaque and you shouldn’t attempt to mess with (or otherwise use) its internal representation. That <span epub:type="pagebreak" id="page_116"/>being said, the Microsoft documentation does claim that C# strings are an array of (Unicode) characters.</p>&#13;
<h5 class="h5" id="sec5_2_1_9"><strong>5.2.1.9 Python Strings</strong></h5>&#13;
<p class="noindent">The Python programming language originally used UCS-2 (original 16-bit Unicode, BMP-only) encoding for strings. Then Python was modified to support UTF-16 or UTF-32 encodings (the language was compiled in “narrow” or “wide” versions for 16- or 32-bit characters). Today, modern versions of Python use a special string format that tracks the characters in strings and stores them as ASCII, UTF-8, UTF-16, or UTF-32, based on the most compact representation. You can’t really access the internal string representation directly within Python, so the caveats of opaque types aren’t relevant.</p>&#13;
<h4 class="h4" id="sec5_2_2"><strong><em>5.2.2 Types of Strings: Static, Pseudo-Dynamic, and Dynamic</em></strong></h4>&#13;
<p class="noindent">Based on the various string formats covered thus far, we can now define three string types according to when the system allocates storage for the string. There are static, pseudo-dynamic, and dynamic strings.</p>&#13;
<h5 class="h5" id="sec5_2_2_1"><strong>5.2.2.1 Static Strings</strong></h5>&#13;
<p class="noindent">Pure <em>static strings</em> are those whose maximum size a programmer chooses when writing the program. Pascal strings and Delphi “short” strings fall into this category. Arrays of characters that you use to hold zero-terminated strings in C/C++ also fall into this category. Consider the following declaration in Pascal:</p>&#13;
<pre>(* Pascal static string example *)<br/><br/>&#13;
var  pascalString :string(255);  // Max length will always be 255 characters.</pre>&#13;
<p class="indent">And here’s an example in C/C++:</p>&#13;
<pre>// C/C++ static string example:<br/><br/>&#13;
char cString[256];  // Max length will always be 255 characters<br/>&#13;
                    // (plus 0 byte).</pre>&#13;
<p class="indent">While the program is running, there’s no way to increase the maximum sizes of these static strings. Nor is there any way to reduce the storage they will use; these string objects will consume 256 bytes at runtime, period. One advantage to pure static strings is that the compiler can determine their maximum length at compile time and implicitly pass this information to a string function so it can test for bounds violations at runtime.</p>&#13;
<h5 class="h5" id="sec5_2_2_2"><strong>5.2.2.2 Pseudo-Dynamic Strings</strong></h5>&#13;
<p class="noindent">A pseudo-dynamic string is one whose length the system sets at runtime by calling a memory management function like <code>malloc()</code> to allocate storage for it. However, once the system allocates storage for the string, the maximum <span epub:type="pagebreak" id="page_117"/>length of the string is fixed. HLA strings generally fall into this category.<sup><a href="footnotes.xhtml#fn5_10a" id="fn5_10">10</a></sup> An HLA programmer typically calls the <code>stralloc()</code> function to allocate storage for a string variable, after which that particular string object has a fixed length that cannot change.<sup><a href="footnotes.xhtml#fn5_11a" id="fn5_11">11</a></sup></p>&#13;
<h5 class="h5" id="sec5_2_2_3"><strong>5.2.2.3 Dynamic Strings</strong></h5>&#13;
<p class="noindent">Dynamic string systems, which typically use a descriptor-based format, automatically allocate sufficient storage for a string object whenever you create a new string or otherwise do something that affects an existing string. Operations like string assignment and substring are relatively trivial in dynamic string systems—generally they copy only the string descriptor data, so these operations are fast. However, as noted in the section “<a href="#sec5_2_1_5">Descriptor-Based Strings</a>” on page <a href="#sec5_2_1_5">114</a>, when using strings this way, you cannot store data back into a string object, because it could modify data that is part of other string objects in the system.</p>&#13;
<p class="indent">The solution to this problem is to use the copy-on-write technique. Whenever a string function needs to change characters in a dynamic string, the function first makes a copy of the string and then makes the necessary modifications to that copy. Research suggests that copy-on-write semantics can improve the performance of many typical applications, because operations like string assignment and substring extraction (which is just a partial string assignment) are far more common than the modification of character data within strings. The only drawback to this approach is that after several modifications to string data in memory, there may be sections of the string heap area that contain character data that’s no longer in use. To avoid a <em><a href="gloss01.xhtml#gloss01_152">memory leak</a></em>, dynamic string systems employing copy on write usually provide <em><a href="gloss01.xhtml#gloss01_103">garbage collection</a></em> code, which scans the string heap area looking for <em>stale</em> character data in order to recover that memory for other purposes. Unfortunately, depending on the algorithms in use, garbage collection can be quite slow.</p>&#13;
<h4 class="h4" id="sec5_2_3"><strong><em>5.2.3 Reference Counting for Strings</em></strong></h4>&#13;
<p class="noindent">Consider the case where you have two string descriptors (or pointers) pointing at the same string data in memory. Clearly, you can’t <em>deallocate</em> (that is, reuse for a different purpose) the storage associated with one pointer while the program is still using the other pointer to access the same data. One common solution is to make the programmer responsible for keeping track of such details. Unfortunately, as applications become more complex, this approach often leads to dangling pointers, memory leaks, and other pointer-related problems in the software. A better solution is to allow the <span epub:type="pagebreak" id="page_118"/>programmer to deallocate the storage for the character data in the string and to have the actual deallocation process hold off until the programmer releases the last pointer referencing that data. To accomplish this, a string system can use reference counters, which track the pointers and their associated data.</p>&#13;
<p class="indent">A <em><a href="gloss01.xhtml#gloss01_214">reference counter</a></em> is an integer that counts the number of pointers that reference a string’s character data in memory. Every time you assign the address of the string to some pointer, you increment the reference counter by 1. Likewise, whenever you wish to deallocate the storage associated with the character data for the string, you decrement the reference counter. Deallocation of the storage for the character data doesn’t happen until the reference counter decrements to 0.</p>&#13;
<p class="indent">Reference counting works great when the language handles the details of string assignment automatically for you. If you try to implement reference counting manually, you must be sure to always increment the reference counter when you assign a string pointer to some other pointer variable. The best way to do this is to never assign pointers directly, but rather to handle all string assignments via some function (or macro) call that updates the reference counters in addition to copying the pointer data. If your code fails to update the reference counter properly, you’ll wind up with dangling pointers or memory leaks.</p>&#13;
<h4 class="h4" id="sec5_2_4"><strong><em>5.2.4 Delphi Strings</em></strong></h4>&#13;
<p class="noindent">Although Delphi provides a “short string” format that is compatible with the length-prefixed strings in earlier versions of Delphi, later versions of Delphi (4.0 and later) use dynamic strings. While this string format is unpublished (and, therefore, subject to change), indications are that Delphi’s string format is very similar to HLA’s. Delphi uses a zero-terminated sequence of characters with a leading string length and a reference counter (rather than a maximum length as HLA uses). <a href="ch05.xhtml#ch05fig05">Figure 5-5</a> shows the layout of a Delphi string in memory.</p>&#13;
<div class="image"><img alt="image" src="../images/05fig05.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig05"/><em>Figure 5-5: Delphi string data format</em></p>&#13;
<p class="indent">As with HLA, Delphi string variables are pointers that point to the first character of the actual string data. To access the length and reference counter fields, the Delphi string routines use a negative offset of – 4 and –8 from the character data’s base address. However, because this string format is not published, applications should never access the length or reference counter fields directly. Delphi provides a length function that extracts the string length for you, and there’s really no need for your applications to access the reference counter field because the Delphi string functions maintain it automatically.</p>&#13;
<h4 class="h4" id="sec5_2_5"><span epub:type="pagebreak" id="page_119"/><strong><em>5.2.5 Custom String Formats</em></strong></h4>&#13;
<p class="noindent">Typically, you’ll use the string format your language provides, unless you have special requirements. If that’s the case, you’ll find that most languages provide user-defined data-structuring capabilities that enable you to create your own custom string formats.</p>&#13;
<p class="indent">Note that the language will probably insist on a single string format for literal string constants. However, you can usually write a short conversion function that will translate the literal strings in your language to whatever format you choose.</p>&#13;
<h3 class="h3" id="sec5_3"><strong>5.3 Character Set Data Types</strong></h3>&#13;
<p class="noindent">Like strings, character set data types (or just <em>character sets</em>) are a composite data type built upon the character data type. A <em>character set</em> is a mathematical set of characters. Membership in a set is a binary relation: a character is either in the set or not, and you can’t have multiple copies of the same character in a character set. Furthermore, the concept of sequence (whether one character comes before another, as in a string) is foreign to a character set. If two characters are members of a set, their order in the set is irrelevant.</p>&#13;
<p class="indent"><a href="ch05.xhtml#ch05tab04">Table 5-4</a> lists some common operations that applications perform on character sets.</p>&#13;
<p class="tabcap"><a id="ch05tab04"/><strong>Table 5-4:</strong> Common Character Set Functions</p>&#13;
<table class="topbot-d">&#13;
<colgroup>&#13;
<col style="width:50%"/>&#13;
<col style="width:50%"/>&#13;
</colgroup>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Function/operator</strong></p></td>&#13;
<td class="table-h" style="vertical-align: top;"><p class="tab_th"><strong>Description</strong></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Membership (in)</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Checks to see if a character is a member of a character set (returns <code>true</code>/<code>false</code>).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Intersection</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Returns the intersection of two character sets (that is, the set of characters that are members of both sets).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Union</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Returns the union of two character sets (that is, all the characters that are members of either set or both sets).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Difference</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Returns the difference of two sets (that is, those characters in one set that are not in the other).</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Extraction</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Extracts a single character from a set.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Subset</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is a subset of another.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Proper subset</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is a proper subset of another.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Superset</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is a superset of another.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Proper superset</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is a proper superset of another.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Equality</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is equal to another.</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Inequality</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Returns <code>true</code> if one character set is not equal to another.</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<h4 class="h4" id="sec5_3_1"><strong><em>5.3.1 Powerset Representation of Character Sets</em></strong></h4>&#13;
<p class="noindent">There are many different ways to represent character sets. Several languages implement them using an array of Boolean values (one Boolean value for each possible character code). Each Boolean value determines <span epub:type="pagebreak" id="page_120"/>whether its corresponding character is (<code>true</code>) or is not (<code>false</code>) a member of the character set. To conserve memory, most character set implementations allocate only a single bit for each character in the set; therefore, they consume 16 bytes (128 bits) of memory when supporting 128 characters, or 32 bytes (256 bits) when supporting up to 256 possible characters. This representation of a character set is known as a <em><a href="gloss01.xhtml#gloss01_199">powerset</a></em>.</p>&#13;
<p class="indent">The HLA language uses an array of 16 bytes to represent the 128 possible ASCII characters, which is organized in memory as shown in <a href="ch05.xhtml#ch05fig06">Figure 5-6</a>.</p>&#13;
<div class="image"><img alt="image" src="../images/05fig06.jpg"/></div>&#13;
<p class="figcap"><a id="ch05fig06"/><em>Figure 5-6: HLA character set representation</em></p>&#13;
<p class="indent">Bit 0 of byte 0 corresponds to ASCII code <code>0</code> (the NUL character). If this bit is <code>1</code>, then the character set contains the NUL character; if this bit is <code>0</code>, then the character set does not contain the NUL character. Likewise, bit 1 of byte 8 corresponds to ASCII code <code>65</code>, an uppercase <em>A</em>. Bit 65 will contain a <code>1</code> if <em>A</em> is a current member of the character set, and <code>0</code> if it is not.</p>&#13;
<p class="indent">Pascal (for example, Delphi) uses a similar scheme to represent character sets. Delphi allows up to 256 characters in a character set, so Delphi character sets consume 256 bits (or 32 bytes) of memory.</p>&#13;
<p class="indent">While there are other ways to implement character sets, this bit vector (array) implementation makes it very easy to perform set operations like union, intersection, difference comparison, and membership tests.</p>&#13;
<h4 class="h4" id="sec5_3_2"><strong><em>5.3.2 List Representation of Character Sets</em></strong></h4>&#13;
<p class="noindent">Sometimes a powerset bitmap just isn’t the right representation for a character set. For example, if your sets are always very small (no more than three or four members), using 16 or 32 bytes to represent each of them can be overkill. In this case, you’d be better off using a character string to represent a list of characters.<sup><a href="footnotes.xhtml#fn5_12a" id="fn5_12">12</a></sup> If you rarely have more than a few characters in a set, scanning through a string to locate a particular character is probably efficient enough for most applications. Likewise, if your character set has a large number of possible characters, then the powerset representation could become huge (for example, implementing the original Unicode UCS-2 character set as a powerset would require 8,192 bytes of memory, even if there was only a single character in the set). In this situation, a list or character string representation could be more appropriate than a powerset, as you don’t need to reserve memory for all possible members of the set (only those that are actually present).</p>&#13;
<h3 class="h3" id="sec5_4"><span epub:type="pagebreak" id="page_121"/><strong>5.4 Designing Your Own Character Set</strong></h3>&#13;
<p class="noindent">Very little is sacred about the ASCII, EBCDIC, and Unicode character sets. Their primary advantage is that they are international standards to which many systems adhere. If you stick with one of these standards, chances are good you’ll be able to exchange information with other people, which is what these codes were designed for.</p>&#13;
<p class="indent">However, they were not designed to make various character computations easy. ASCII and EBCDIC were developed with now-antiquated hardware in mind—mechanical teletypewriters’ keyboards and punched-card systems, respectively. Given that such equipment is found mainly in museums today, the layout of the codes in these character sets has almost no benefit in modern computer systems. If we could design our own character sets today, they’d be considerably different from ASCII or EBCDIC. They’d probably be based on modern keyboards (so they’d include codes for common keys, like <small>LEFT ARROW</small>, <small>RIGHT ARROW</small>, page up, and page down). They’d also be laid out to make various common computations a whole lot easier.</p>&#13;
<p class="indent">Although the ASCII and EBCDIC character sets are not going away any time soon, there’s nothing stopping you from defining your own application-specific character set. Of course, such a set is, well, application-specific, and you won’t be able to share text files containing characters encoded in your custom character set with applications that are ignorant of your private encoding. But it’s fairly easy to translate between different character sets using a lookup table, so you can convert between your application’s internal character set and an external character set (like ASCII) when performing I/O operations. Assuming you pick a reasonable encoding that makes your programs more efficient overall, the loss of efficiency during I/O can be worthwhile. But how do you choose an encoding?</p>&#13;
<p class="indent">The first question you have to ask yourself is, “How many characters do I want to support in my character set?” Obviously, the number of characters you choose will directly affect the size of your character data. An easy choice is 256 possible characters, because bytes are the most common primitive data type that software uses to represent character data. Keep in mind, however, that if you don’t really need 256 characters, you probably shouldn’t try to define that many in your character set. For example, if you can get by with 128, or even 64, characters in your custom character set, then “text files” you create with it will compress better. Likewise, data transmissions using it will be faster if you only have to transmit 6 or 7 bits for each character instead of 8. If you need more than 256 characters, you’ll have to weigh the advantages and disadvantages of using multiple code pages, double-byte character sets, or 16-bit characters. And keep in mind that Unicode provides support for user-defined characters. So, if you need more than 256 characters in your character set, you might consider inserting it into Unicode to remain “somewhat standard” with the rest of the world.</p>&#13;
<p class="indent">In this section, we’ll define a character set containing 128 characters using an 8-bit byte. For the most part, we’ll simply rearrange the codes in the ASCII character set to make them more convenient for several calculations, and we’ll rename a few of the control codes so they make sense on <span epub:type="pagebreak" id="page_122"/>modern systems instead of the old mainframes and teletypes for which they were created. We’ll also add a few new characters beyond those defined by the ASCII standard. Again, the main purpose of this exercise is to make various computations more efficient, not create new characters. We’ll call this the <em>HyCode</em> character set.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>This point bears repeating: the use of HyCode in this chapter is not an attempt to create some new character set standard. It’s simply a demonstration of how you can create a custom, application-specific character set to improve your programs.</em></p>&#13;
</div>&#13;
<h4 class="h4" id="sec5_4_1"><strong><em>5.4.1 Designing an Efficient Character Set</em></strong></h4>&#13;
<p class="noindent">We should think about several things when designing a new character set. For example, do we need to be able to represent strings of characters using an existing string format? This can influence the encoding of our strings—if you want to use function libraries that operate on zero-terminated strings, then you need to reserve encoding <code>0</code> in your custom character set for use as an end-of-string marker. Keep in mind, however, that a fair number of string functions won’t work with your new character set, no matter what you do. Functions like <code>stricmp()</code> work only if you use the same representation for alphabetic characters as ASCII (or some other common character set). Therefore, you shouldn’t feel hampered by the requirements of some particular string representation, because you’re going to have to write many of your own string functions to process your custom characters anyway. The HyCode character set doesn’t reserve code <code>0</code> for an end-of-string marker, and that’s okay because zero-terminated strings are not very efficient.</p>&#13;
<p class="indent">If you look at programs that use character functions, you’ll see that certain functions occur frequently, such as:</p>&#13;
<ul>&#13;
<li class="noindent">Check a character to see if it is a digit.</li>&#13;
<li class="noindent">Convert a digit character to its numeric equivalent.</li>&#13;
<li class="noindent">Convert a numeric digit to its character equivalent.</li>&#13;
<li class="noindent">Check a character to see if it is alphabetic.</li>&#13;
<li class="noindent">Check a character to see if it is a lowercase character.</li>&#13;
<li class="noindent">Check a character to see if it is an uppercase character.</li>&#13;
<li class="noindent">Compare two characters (or strings) using a <em>case-insensitive</em> comparison.</li>&#13;
<li class="noindent">Sort a set of alphabetic strings (case-sensitive and case-insensitive sorting).</li>&#13;
<li class="noindent">Check a character to see if it is alphanumeric.</li>&#13;
<li class="noindent">Check a character to see if it is legal in an identifier.</li>&#13;
<li class="noindent">Check a character to see if it is a common arithmetic or logical operator.</li>&#13;
<li class="noindent">Check a character to see if it is a bracketing character (that is, one of <em>(</em>, <em>)</em>, <em>[</em>, <em>]</em>, <em>{</em>, <em>}</em>, <em>&lt;</em>, or <em>&gt;</em>).</li>&#13;
<li class="noindent">Check a character to see if it is a punctuation character.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_123"/>Check a character to see if it is a <em>whitespace</em> character (such as a space, tab, or newline).</li>&#13;
<li class="noindent">Check a character to see if it is a cursor control character.</li>&#13;
<li class="noindent">Check a character to see if it is a scroll control key (such as P<small>G</small>U<small>P</small>, P<small>G</small>D<small>N</small>, <small>HOME</small>, and <small>END</small>).</li>&#13;
<li class="noindent">Check a character to see if it is a function key.</li>&#13;
</ul>&#13;
<p class="indent">We’ll design the HyCode character set to make these types of operations as efficient and easy as possible. One huge improvement we can make over the ASCII character set is to assign contiguous character codes to characters belonging to the same type, such as alphabetic characters and control characters, so we can do any of the preceding tests by using a pair of comparisons. For example, it would be nice if we could determine that a particular character is some sort of punctuation mark by comparing against two values that represent upper and lower bounds of the entire range of such characters, which we can’t do in ASCII because the punctuation marks are spread throughout the character set. While it’s not possible to satisfy every conceivable range comparison this way, we can design our character set to accommodate the most common tests with as few comparisons as possible.</p>&#13;
<h4 class="h4" id="sec5_4_2"><strong><em>5.4.2 Grouping the Character Codes for Numeric Digits</em></strong></h4>&#13;
<p class="noindent">We can achieve the first three functions in the previous list by reserving the character codes <code>0</code> through <code>9</code> for the characters 0 through 9. First, by using a single unsigned comparison to check if a character code is less than or equal to <code>9</code>, we can see if a character is a digit. Next, converting between characters and their numeric representations is trivial, because the character code and the numeric representation are one and the same.</p>&#13;
<h4 class="h4" id="sec5_4_3"><strong><em>5.4.3 Grouping Alphabetic Characters</em></strong></h4>&#13;
<p class="noindent">The ASCII character set, though nowhere near as bad as EBCDIC, just isn’t well designed for dealing with alphabetic character tests and operations. Here are some problems with ASCII that we’ll solve with HyCode:</p>&#13;
<ul>&#13;
<li class="noindent">The alphabetic characters lie in two disjoint ranges. Tests for an alphabetic character require four comparisons.</li>&#13;
<li class="noindent">The lowercase characters have ASCII codes that are greater than the uppercase characters. If we’re going to do a case-sensitive comparison, it’s more intuitive to treat lowercase characters as being less than uppercase characters.</li>&#13;
<li class="noindent">All lowercase characters have a greater value than any individual uppercase character. This leads to counterintuitive results, such as <em>a</em> being greater than <em>B</em>.</li>&#13;
</ul>&#13;
<p class="indent">HyCode solves these problems in a couple of interesting ways. First, HyCode uses encodings <code>$4C</code> through <code>$7F</code> to represent the 52 alphabetic characters. Because HyCode uses only 128 character codes (<code>$00..$7F</code>), the <span epub:type="pagebreak" id="page_124"/>alphabetic codes consume the last 52 character codes. This means that we can test a character to see if it is alphabetic by comparing whether the code is greater than or equal to <code>$4C</code>. In a high-level language, you’d write the comparison like this:</p>&#13;
<pre>if( c &gt;= 76) . . .</pre>&#13;
<p class="indent">Or, if your compiler supports the HyCode character set, like this:</p>&#13;
<pre>if( c &gt;= 'a') . . .</pre>&#13;
<p class="indent">In assembly language, you could use a pair of instructions like the following:</p>&#13;
<pre>         cmp( al, 76 );<br/>&#13;
         jnae NotAlphabetic;<br/><br/>&#13;
             // Execute these statements if it's alphabetic<br/><br/>&#13;
NotAlphabetic:</pre>&#13;
<p class="indent">HyCode interleaves the lowercase and uppercase characters (that is, the sequential encodings are for the characters <em>a</em>, <em>A</em>, <em>b</em>, <em>B</em>, <em>c</em>, <em>C</em>, and so on). This makes sorting and comparing strings very easy, regardless of whether you’re doing a case-sensitive or case-insensitive search. The interleaving uses the LO bit of the character code to determine whether the character code is lowercase (LO bit is <code>0</code>) or uppercase (LO bit is <code>1</code>). HyCode uses the following encodings for alphabetic characters:</p>&#13;
<pre>a:76, A:77, b:78, B:79, c:80, C:81, . . . y:124, Y:125, z:126, Z:127</pre>&#13;
<p class="indent">Checking for an uppercase or lowercase alphabetic using HyCode is more work than checking whether a character is alphabetic, but in assembly it’s still less work than the equivalent ASCII comparison. To test a character to see if it’s a member of a single case, you need two comparisons—first to see if it’s alphabetic, then to determine its case. In C/C++ you can use statements like the following:</p>&#13;
<pre>if( (c &gt;= 76) &amp;&amp; (c &amp; 1) )<br/>&#13;
{<br/>&#13;
    // execute this code if it's an uppercase character<br/>&#13;
}<br/><br/>&#13;
if( (c &gt;= 76) &amp;&amp; !(c &amp; 1) )<br/>&#13;
{<br/>&#13;
    // execute this code if it's a lowercase character<br/>&#13;
}</pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_125"/>The subexpression <code>(c &amp; 1)</code> evaluates <code>true</code> (<code>1</code>) if the LO bit of <code>c</code> is <code>1</code>, meaning we have an uppercase character if <code>c</code> is alphabetic. Likewise, <code>!(c &amp; 1)</code> evaluates <code>true</code> if the LO bit of <code>c</code> is <code>0</code>, meaning we have a lowercase character. If you’re working in 80x86 assembly language, you can test a character to see if it’s uppercase or lowercase by using three machine instructions:</p>&#13;
<pre>// Note: ROR(1, AL) maps lowercase to the range $26..$3F (38..63)<br/>&#13;
//       and uppercase to $A6..$BF (166..191). Note that all other characters<br/>&#13;
//       get mapped to smaller values within these ranges.<br/><br/>&#13;
         ror( 1, al );<br/>&#13;
         cmp( al, $26 );<br/>&#13;
         jnae NotLower;    // Note: must be an unsigned branch!<br/><br/>&#13;
             // Code that deals with a lowercase character.<br/><br/>&#13;
NotLower:<br/><br/>&#13;
// For uppercase, note that the ROR creates codes in the range $A8..$BF which <br/>&#13;
// are negative (8-bit) values. They also happen to be the *most* negative <br/>&#13;
// numbers that ROR will produce from the HyCode character set.<br/><br/>&#13;
         ror( 1, al );<br/>&#13;
         cmp( al, $a6 );<br/>&#13;
         jge NotUpper;    // Note: must be a signed branch!<br/><br/>&#13;
             // Code that deals with an uppercase character.<br/><br/>&#13;
NotUpper:</pre>&#13;
<p class="indent">Very few languages provide the equivalent of an <code>ror()</code> operation, and only a few allow you to (easily) treat character values as signed and unsigned within the same code sequence. Therefore, this sequence is probably limited to assembly language programs.</p>&#13;
<h4 class="h4" id="sec5_4_4"><strong><em>5.4.4 Comparing Alphabetic Characters</em></strong></h4>&#13;
<p class="noindent">The HyCode grouping of alphabetic characters means that lexicographical ordering (“dictionary ordering”) is almost free. Sorting your strings by comparing the HyCode character values gives you lexicographical order, because HyCode defines the following relations on the alphabetic characters:</p>&#13;
<pre>a &lt; A &lt; b &lt; B &lt; c &lt; C &lt; d &lt; D &lt; . . . &lt; w &lt; W &lt; x &lt; X &lt; y &lt; Y &lt; z &lt; Z</pre>&#13;
<p class="indent">This is exactly the relationship you want for lexicographical ordering, and it’s also the one most people would intuitively expect. To do a case-insensitive comparison, you simply mask out the LO bits (or force them both to <code>1</code>) of the alphabetic characters.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_126"/>To see the benefit of the HyCode character set when doing case-insensitive comparisons, let’s first take a look at what the standard case-insensitive character comparison would look like in C/C++ for two ASCII characters:</p>&#13;
<pre>if( toupper( c ) == toupper( d ))<br/>&#13;
{<br/>&#13;
    // do code that handles c==d using a case-insensitive comparison.<br/>&#13;
}</pre>&#13;
<p class="indent">This code doesn’t look too bad, but consider what the <code>toupper()</code> function (or, usually, macro) expands to:<sup><a href="footnotes.xhtml#fn5_13a" id="fn5_13">13</a></sup></p>&#13;
<pre>#define toupper(ch) ( (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') ? ch &amp; 0x5f : ch )</pre>&#13;
<p class="indent">With this macro, you wind up with the following once the C preprocessor expands the previous <code>if</code> statement:</p>&#13;
<pre>if<br/>&#13;
(<br/>&#13;
        ( (c &gt;= 'a' &amp;&amp; c &lt;= 'z') ? c &amp; 0x5f : c )<br/>&#13;
     == ( (d &gt;= 'a' &amp;&amp; d &lt;= 'z') ? d &amp; 0x5f : d )<br/>&#13;
)<br/>&#13;
{<br/>&#13;
        // do code that handles c==d using a case-insensitive comparison.<br/>&#13;
}</pre>&#13;
<p class="indent">This expands to 80x86 code similar to this:</p>&#13;
<pre>        // assume c is in cl and d is in dl.<br/><br/>&#13;
        cmp( cl, 'a' );     // See if c is in the range 'a'..'z'<br/>&#13;
        jb NotLower;<br/>&#13;
        cmp( cl, 'z' );<br/>&#13;
        ja NotLower;<br/>&#13;
        and( $5f, cl );     // Convert lowercase char in cl to uppercase.<br/>&#13;
NotLower:<br/><br/>&#13;
        cmp( dl, 'a' );     // See if d is in the range 'a'..'z'<br/>&#13;
        jb NotLower2;<br/>&#13;
        cmp( dl, 'z' );<br/>&#13;
        ja NotLower2;<br/>&#13;
        and( $5f, dl );     // Convert lowercase char in dl to uppercase.<br/>&#13;
NotLower2:<br/><br/>&#13;
        cmp( cl, dl );      // Compare the (now uppercase if alphabetic)<br/>&#13;
                            // chars.<br/>&#13;
        jne NotEqual;       // Skip the code that handles c==d if they're <br/>&#13;
                            // not equal.<br/>&#13;
<span epub:type="pagebreak" id="page_127"/>            // do code that handles c==d using a case-insensitive comparison.<br/>&#13;
NotEqual:</pre>&#13;
<p class="indent">In HyCode, case-insensitive comparisons are much simpler. Here’s what the HLA assembly code would look like:</p>&#13;
<pre>// Check to see if CL is alphabetic. No need to check DL as the comparison<br/>&#13;
// will always fail if DL is nonalphabetic.<br/><br/>&#13;
        cmp( cl, 76 );      // If CL &lt; 76 ('a') then it's not alphabetic<br/>&#13;
        jb TestEqual;       // and there is no way the two chars are equal<br/>&#13;
                            // (even ignoring case).<br/><br/>&#13;
        or( 1, cl );        // CL is alpha, force it to uppercase.<br/>&#13;
        or( 1, dl );        // DL may or may not be alpha. Force to <br/>&#13;
                            // uppercase if it is.<br/><br/>&#13;
TestEqual:<br/>&#13;
        cmp( cl, dl );      // Compare the uppercase versions of the chars.<br/>&#13;
        jne NotEqual;       // Bail out if they're not equal.<br/><br/>&#13;
TheyreEqual:<br/>&#13;
            // do code that handles c==d using a case-insensitive comparison.<br/><br/>&#13;
NotEqual:</pre>&#13;
<p class="indent">As you can see, the HyCode sequence uses half the instructions for a case-insensitive comparison of two characters.</p>&#13;
<h4 class="h4" id="sec5_4_5"><strong><em>5.4.5 Grouping Other Characters</em></strong></h4>&#13;
<p class="noindent">Because alphabetic characters are at one end of the character code range and numeric characters are at the other, it takes two comparisons to check a character to see if it’s alphanumeric (which is still better than the four comparisons necessary in ASCII). Here’s the Pascal/Delphi code you’d use to see if a character is alphanumeric:</p>&#13;
<pre>if( ch &lt; chr(10) or ch &gt;= chr(76) ) then . . .</pre>&#13;
<p class="indent">Several programs (beyond compilers) need to efficiently process strings of characters that represent program identifiers. Most languages allow alphanumeric characters in identifiers, and, as you just saw, we can check a character to see if it’s alphanumeric using only two comparisons.</p>&#13;
<p class="indent">Many languages also allow underscores within identifiers, and some languages, such as MASM, allow other characters like the “at” character (<code>@</code>) and dollar sign (<code>$</code>) to appear within identifiers. Therefore, by assigning the underscore character the value <code>75</code>, and by assigning the <code>$</code> and <code>@</code> characters the respective codes <code>73</code> and <code>74</code>, we can still test for an identifier character using only two comparisons.</p>&#13;
<p class="indent">For similar reasons, HyCode groups together the cursor control keys, the whitespace characters, the bracketing characters (parentheses, brackets, braces, and angle brackets), the arithmetic operators, the punctuation <span epub:type="pagebreak" id="page_128"/>characters, and so on. <a href="ch05.xhtml#ch05tab05">Table 5-5</a> lists the complete HyCode character set. If you study the numeric codes assigned to each character, you’ll see that they allow for efficient computation of most of the character operations described earlier.</p>&#13;
<p class="tabcap"><a id="ch05tab05"/><strong>Table 5-5:</strong> The HyCode Character Set</p>&#13;
<table class="topbot-da">&#13;
<colgroup>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:12%"/>&#13;
<col style="width:10%"/>&#13;
<col style="width:15%"/>&#13;
<col style="width:15%"/>&#13;
</colgroup>&#13;
<thead>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Binary</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Hex</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Decimal</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Character</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Binary</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Hex</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Decimal</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>Character</strong></p></td>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>00</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_1110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1E</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>30</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">End</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>01</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_1111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>31</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Home</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>02</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>2</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>2</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>20</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>32</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">PgDn</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>03</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>3</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>3</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>21</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>33</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">PgUp</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>04</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>4</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>4</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>22</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>34</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Left</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>05</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>5</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>5</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>23</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>35</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Right</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>06</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>6</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>6</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>24</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>36</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Up</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>07</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>7</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>7</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>25</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>37</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Down/linefeed</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>08</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>8</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>8</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>26</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>38</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Nonbreaking space</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>09</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>9</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>9</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>27</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>39</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Paragraph</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>10</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Keypad</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>28</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>40</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Carriage return</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>11</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Cursor</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>29</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>41</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Newline/enter</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>12</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Function</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>2A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>42</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Tab</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_1101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>13</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Alt</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>2B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>43</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Space</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0000_1110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0E</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>14</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Control</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>2C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>44</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>(</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0000_1111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>15</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Command</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_1101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>2D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>45</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>)</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>10</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>16</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Len</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0010_1110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>2E</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>46</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>[</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>11</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>17</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Len128</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0010_1111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>2F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>47</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>]</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>12</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>18</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Bin128</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>30</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>48</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>{</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>13</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>19</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Eos</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>31</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>49</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>}</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>14</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>20</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Eof</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>32</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>50</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>&lt;</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>15</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>21</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Sentinel</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>33</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>51</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>&gt;</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>16</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>22</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Break/interrupt</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>34</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>52</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>=</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>17</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>23</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Escape/cancel</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>35</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>53</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>^</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>18</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>24</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Pause</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>36</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>54</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>|</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>19</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>25</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Bell</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>37</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>55</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>&amp;</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0001_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>26</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Back tab</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>38</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>56</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>-</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>27</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Backspace</p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>39</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>57</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>+</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><span epub:type="pagebreak" id="page_129"/><code>0001_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>1C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>28</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba">Delete</p></td>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
<td class="table-ba" style="vertical-align: top;"/>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0001_1101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>1D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>29</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba">Insert</p></td>&#13;
<td style="vertical-align: top;"/>&#13;
<td style="vertical-align: top;"/>&#13;
<td style="vertical-align: top;"/>&#13;
<td style="vertical-align: top;"/>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>3A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>58</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>*</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_1101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>5D</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>93</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>I</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>3B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>59</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>/</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_1110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>5E</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>94</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>j</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>3C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>60</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>%</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_1111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>5F</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>95</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>J</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_1101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>3D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>61</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>~</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_0000</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>60</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>96</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>k</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0011_1110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>3E</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>62</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>!</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_0001</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>61</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>97</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>K</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0011_1111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>3F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>63</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>?</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_0010</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>62</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>98</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>l</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>40</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>64</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>,</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_0011</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>63</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>99</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>L</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>41</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>65</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>.</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_0100</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>64</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>100</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>m</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>42</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>66</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>:</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_0101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>65</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>M</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>43</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>67</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>;</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_0110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>66</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>102</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>n</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>44</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>68</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>"</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_0111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>67</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>103</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>N</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>45</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>69</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>'</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_1000</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>68</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>104</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>o</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>46</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>70</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>`</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_1001</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>69</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>105</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>O</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>47</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>71</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>\</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_1010</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>6A</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>106</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>p</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>48</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>72</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>#</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_1011</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>6B</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>107</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>P</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>49</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>73</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>$</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_1100</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>6C</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>108</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>q</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>4A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>74</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>@</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_1101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>6D</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>109</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>Q</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>4B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>75</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>_</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0110_1110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>6E</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>r</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>4C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>76</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>a</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0110_1111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>6F</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>R</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_1101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>4D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>77</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>A</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_0000</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>70</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>112</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>s</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0100_1110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>4E</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>78</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>b</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_0001</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>71</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>113</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>S</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0100_1111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>4F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>79</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_0010</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>72</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>114</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>t</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_0000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>50</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>80</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>c</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_0011</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>73</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>115</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>T</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_0001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>51</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>81</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>C</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_0100</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>74</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>116</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>u</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_0010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>52</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>82</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>d</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_0101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>75</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>117</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>U</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_0011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>53</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>83</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>D</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_0110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>76</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>118</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>v</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_0100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>54</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>84</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>e</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_0111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>77</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>119</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>V</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_0101</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>55</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>85</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>E</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_1000</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>78</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>120</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>w</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_0110</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>56</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>86</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>f</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_1001</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>79</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>121</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>W</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_0111</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>57</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>87</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>F</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_1010</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>7A</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>122</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>x</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_1000</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>58</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>88</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>g</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_1011</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>7B</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>123</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>X</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_1001</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>59</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>89</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>G</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_1100</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>7C</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>124</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>y</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_1010</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>5A</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>90</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>h</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_1101</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>7D</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>125</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>Y</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0101_1011</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>5B</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>91</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>H</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>0111_1110</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>7E</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>126</code></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><code>z</code></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0101_1100</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>5C</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>92</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>i</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>0111_1111</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>7F</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>127</code></p></td>&#13;
<td class="table-ba" style="vertical-align: top;"><p class="taba"><code>Z</code></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<h3 class="h3" id="sec5_5"><span epub:type="pagebreak" id="page_130"/><strong>5.5 For More Information</strong></h3>&#13;
<p class="ref">Hyde, Randall. “HLA Standard Library Reference Manual.” n.d. <em><a href="http://www.plantation-productions.com/Webster/HighLevelAsm/HLADoc/">http://www.plantation-productions.com/Webster/HighLevelAsm/HLADoc/</a></em> or <em><a href="https://bit.ly/2W5G1or">https://bit.ly/2W5G1or</a>.</em></p>&#13;
<p class="ref">IBM. “ASCII and EBCDIC Character Sets.” n.d. <em><a href="https://ibm.co/33aPn3t">https://ibm.co/33aPn3t</a></em>.</p>&#13;
<p class="ref">Unicode, Inc. “Unicode Technical Site.” Last updated March 4, 2020. <em><a href="https://www.unicode.org/">https://www.unicode.org/</a></em>.</p>&#13;
</body></html>