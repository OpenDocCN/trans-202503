<html><head></head><body><section class="appendix" epub:type="appendix" id="resources" title="Appendix&#xA0;A.&#xA0;Resources"><div class="titlepage"><div><div><h2 class="title">Appendix A. Resources</h2></div></div></div><div class="mediaobject"><a id="med_id00023"/><img alt="Resources" src="httpatomoreillycomsourcenostarchimages2127149.png.jpg"/></div><p><a class="indexterm" id="iddle1112"/>Though I may have wanted to, it proved impossible to cover all possible wrinkles of PF configuration within these pages. I hope that the resources listed here fill in some details or present a slightly different perspective. Some of them are even quite enjoyable reads for their own sake.</p><div class="sect1" title="General Networking and BSD Resources on the Internet"><div class="titlepage"><div><div><h2 class="title" id="general_networking_and_bsd_resources_on" style="clear: both">General Networking and BSD Resources on the Internet</h2></div></div></div><p>The following are the general web-accessible resources cited throughout the book. It’s worth looking at the various BSD projects’ websites for the most up-to-date information.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Of particular interest for OpenBSD users is the online <span class="emphasis"><em>OpenBSD Journal (<a class="ulink" href="http://undeadly.org/" target="_top">http://undeadly.org/</a>)</em></span>. It offers news and articles about OpenBSD and related issues.</p></li><li class="listitem"><p>OpenBSD’s website, <span class="emphasis"><em><a class="ulink" href="http://www.openbsd.org/" target="_top">http://www.openbsd.org/</a></em></span>, is the main reference for OpenBSD information. If you’re using OpenBSD, you’ll be visiting this site every now and then.</p></li><li class="listitem"><p>You’ll find a collection of presentations and papers by OpenBSD developers at <span class="emphasis"><em><a class="ulink" href="http://www.openbsd.org/papers/" target="_top">http://www.openbsd.org/papers/</a>.</em></span> This site is a good source of information about ongoing developments in OpenBSD.</p></li><li class="listitem"><p><span class="emphasis"><em>OpenBSD’s Frequently Asked Questions (<a class="ulink" href="http://www.openbsd.org/faq/index.html" target="_top">http://www.openbsd.org/faq/index.html</a>)</em></span> is more of a user guide than a traditional question-and-answer document. This is where you’ll find a generous helping of background information and step-by-step instructions on how to set up and run your OpenBSD system.</p></li><li class="listitem"><p>Henning Brauer’s presentation “Faster Packets—Performance Tuning in the Network Stack and PF” <span class="emphasis"><em>(<a class="ulink" href="http://quigon.bsws.de/papers/2009/eurobsdcon-faster_packets/" target="_top">http://quigon.bsws.de/papers/2009/eurobsdcon-faster_packets/</a>)</em></span> is the current main PF developer’s overview of the work done in recent OpenBSD releases to improve network performance, with PF as a main component.</p></li><li class="listitem"><p><span class="emphasis"><em>PF: The OpenBSD Packet Filter (<a class="ulink" href="http://www.openbsd.org/faq/pf/index.html" target="_top">http://www.openbsd.org/faq/pf/index.html</a>)</em></span>, also known as the <span class="emphasis"><em>PF User Guide</em></span> or the <span class="emphasis"><em>PF FAQ</em></span>, is the official PF documentation maintained by the OpenBSD team. This guide is updated for each release, and it’s an extremely valuable reference resource for PF practitioners.</p></li><li class="listitem"><p>Bob Beck’s “pf. It’s not just for firewalls anymore” <span class="emphasis"><em>(<a class="ulink" href="http://www.ualberta.ca/~beck/nycbug06/pf/" target="_top">http://www.ualberta.ca/~beck/nycbug06/pf/</a>)</em></span> is an NYCBUG 2006 presentation that covers PF’s redundancy and reliability features, illustrated by real-world examples taken from the University of Alberta network.</p></li><li class="listitem"><p>Daniel Hartmeier’s PF pages <span class="emphasis"><em>(<a class="ulink" href="http://www.benzedrine.cx/pf.html" target="_top">http://www.benzedrine.cx/pf.html</a>)</em></span> are his collection of PF-related material with links to resources around the Web.</p></li><li class="listitem"><p>Daniel Hartmeier’s “Design and Performance of the OpenBSD Stateful Packet Filter (pf)” <span class="emphasis"><em>(<a class="ulink" href="http://www.benzedrine.cx/pf-paper.html" target="_top">http://www.benzedrine.cx/pf-paper.html</a>)</em></span> is the paper he presented at Usenix 2002. It describes the initial design and implementation of PF.</p></li><li class="listitem"><p>Daniel Hartmeier’s three-part <span class="emphasis"><em>undeadly.org</em></span> PF series includes “PF: Firewall Ruleset Optimization” <span class="emphasis"><em>(<a class="ulink" href="http://undeadly.org/cgi?action=article&amp;sid=20060927091645" target="_top">http://undeadly.org/cgi?action=article&amp;sid=20060927091645</a>)</em></span>, “PF: Testing Your Firewall <span class="emphasis"><em>(<a class="ulink" href="http://undeadly.org/cgi?action=article&amp;sid=20060928081238" target="_top">http://undeadly.org/cgi?action=article&amp;sid=20060928081238</a>)</em></span>, and “PF: Firewall Management” <span class="emphasis"><em>(<a class="ulink" href="http://undeadly.org/cgi?action=article&amp;sid=20060929080943" target="_top">http://undeadly.org/cgi?action=article&amp;sid=20060929080943</a>)</em></span>. The three articles cover their respective subjects in great detail yet manage to be quite readable.</p></li><li class="listitem"><p>RFC 1631, The IP Network Address Translator (NAT), May 1994 (<span class="emphasis"><em><a class="ulink" href="http://www.ietf.org/rfc/rfc1631.txt" target="_top">http://www.ietf.org/rfc/rfc1631.txt</a></em></span>, written by K. Egevang and P. Francis) is the first part of the NAT specification, which has proved longer-lived than the authors had apparently intended. While still an important resource for understanding NAT, it has been largely superseded by the updated RFC 3022 (<span class="emphasis"><em><a class="ulink" href="http://www.ietf.org/rfc/rfc3022.txt" target="_top">http://www.ietf.org/rfc/rfc3022.txt</a></em></span>, written by P. Srisuresh and K. Egevang), dated January 2001.</p></li><li class="listitem"><p><a class="indexterm" id="iddle1799"/>RFC 1918, Address Allocation for Private Internets, February 1996 (<span class="emphasis"><em><a class="ulink" href="http://www.ietf.org/rfc/rfc1918.txt" target="_top">http://www.ietf.org/rfc/rfc1918.txt</a></em></span>, written by Y. Rebhter, B. Moskowitz, D. Karrenberg, G.J. de Groot, and E. Lear) is the second part of the NAT and private address space puzzle. This RFC describes the motivations for the allocation of private, nonroutable address space and defines the address ranges. RFC 1918 has been designated a Best Current Practice.</p></li><li class="listitem"><p>If you’re looking for a text that gives you a thorough and detailed treatment of network protocols with a clear slant toward the TCP/IP worldview, Charles M. Kozierok’s <span class="emphasis"><em>The TCP/IP Guide</em></span> (No Starch Press, October 2005), available online with updates at <span class="emphasis"><em><a class="ulink" href="http://www.tcpipguide.com/" target="_top">http://www.tcpipguide.com/</a></em></span>, has few, if any, serious rivals. At more than 1,600 pages, it’s not exactly a pocket guide, but it’s very useful to have on your desk or in a browser window to set the record straight on any networking terms that you find insufficiently explained in other texts.</p></li></ul></div></div><div class="sect1" title="Sample Configurations and Related Musings"><div class="titlepage"><div><div><h2 class="title" id="sample_configurations_and_related_musing" style="clear: both">Sample Configurations and Related Musings</h2></div></div></div><p>A number of people have been kind enough to write up their experiences and make sample configurations available on the Web. The following are some of my favorites.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Marcus Ranum’s “The Six Dumbest Ideas in Computer Security” <span class="emphasis"><em>(<a class="ulink" href="http://www.ranum.com/security/computer_security/editorials/dumb/index.html" target="_top">http://www.ranum.com/security/computer_security/editorials/dumb/index.html</a>)</em></span>, from September 1, 2005, is a longtime favorite of mine. This article explores some common misconceptions about security and their unfortunate implications for real-world security efforts.</p></li><li class="listitem"><p>Randal L. Schwartz’s “Monitoring Net Traffic with OpenBSD’s Packet Filter” <span class="emphasis"><em>(<a class="ulink" href="http://www.stonehenge.com/merlyn/UnixReview/col51.html" target="_top">http://www.stonehenge.com/merlyn/UnixReview/col51.html</a>)</em></span> shows a real-life example of traffic monitoring and using labels for accounting. Some details about PF and labels have changed in the intervening years, but the article is still quite readable and presents several important concepts well.</p></li><li class="listitem"><p>The Swedish user group Unix.se’s <span class="emphasis"><em>Brandvägg med OpenBSD (<a class="ulink" href="http://unix.se/Brandv%E4gg_med_OpenBSD" target="_top">http://unix.se/Brandv%E4gg_med_OpenBSD</a>)</em></span> and its sample configurations, such as the basic ALTQ configurations, were quite useful to me early on. The site serves as a nice reminder that volunteer efforts, such as local user groups, can be excellent sources of information.</p></li><li class="listitem"><p>The <span class="emphasis"><em>#pf</em></span> IRC channel wiki (<span class="emphasis"><em><a class="ulink" href="http://www.probsd.net/pf/" target="_top">http://www.probsd.net/pf/</a></em></span>) is a collection of documentation, sample configurations, and other PF information maintained by participants in the <span class="emphasis"><em>#pf</em></span> IRC channel discussions. It’s another example of a very worthwhile volunteer effort.</p></li><li class="listitem"><p><a class="indexterm" id="iddle1113"/><a class="indexterm" id="iddle1264"/><a class="indexterm" id="iddle1533"/>Daniele Mazzocchio, an OpenBSD fan from Italy, maintains the website Kernel Panic, which houses a collection of useful articles and tutorial-like documents on various OpenBSD topics at <span class="emphasis"><em><a class="ulink" href="http://www.kernel-panic.it/openbsd.html" target="_top">http://www.kernel-panic.it/openbsd.html</a></em></span> (in English and Italian). It’s well worth the visit for a fresh perspective on various interesting topics from someone who seems to be dedicated to keeping the material up-to-date with the latest stable OpenBSD versions.</p></li><li class="listitem"><p>Kenjiro Cho’s “Managing Traffic with ALTQ” <span class="emphasis"><em>(<a class="ulink" href="http://www.usenix.org/publications/library/proceedings/usenix99/cho.html" target="_top">http://www.usenix.org/publications/library/proceedings/usenix99/cho.html</a>)</em></span> is the original paper that describes the ALTQ design and early implementation on FreeBSD.</p></li><li class="listitem"><p>Jason Dixon’s “Failover Firewalls with OpenBSD and CARP,” from the May 2005 <span class="emphasis"><em>SysAdmin Magazine (<a class="ulink" href="http://planet.admon.org/howto/failover-firewalls-with-openbsd-and-carp/" target="_top">http://planet.admon.org/howto/failover-firewalls-with-openbsd-and-carp/</a>)</em></span> is an overview of CARP and pfsync, with some practical examples.</p></li><li class="listitem"><p>Theo de Raadt’s OpenCON 2006 presentation “Open Documentation for Hardware: Why hardware documentation matters so much and why it is so hard to get” <span class="emphasis"><em>(<a class="ulink" href="http://openbsd.org/papers/opencon06-docs/index.html" target="_top">http://openbsd.org/papers/opencon06-docs/index.html</a>)</em></span> was an important inspiration for the note in <a class="xref" href="apb.html" title="Appendix B. A Note On Hardware Support">Appendix B</a> about hardware for free operating systems in general and for OpenBSD in particular.</p></li></ul></div></div><div class="sect1" title="PF on Other BSD Systems"><div class="titlepage"><div><div><h2 class="title" id="pf_on_other_bsd_systems" style="clear: both">PF on Other BSD Systems</h2></div></div></div><p>PF has been ported from OpenBSD to the other BSDs, and while the stated goal for these efforts naturally is to be as up-to-date as possible in relation to the newest PF versions coming out of OpenBSD, it’s useful to keep track of the PF projects in the other BSDs.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The FreeBSD packet filter (pf) home page <span class="emphasis"><em>(<a class="ulink" href="http://pf4freebsd.love2party.net/" target="_top">http://pf4freebsd.love2party.net/</a>)</em></span> describes the early work with PF on FreeBSD and the project goals. At the moment, the page isn’t quite up-to-date with the latest developments, but it’ll hopefully spring to life again once Max Laier notices that he’s referenced in a printed book.</p></li><li class="listitem"><p>The NetBSD project maintains its PF pages at <span class="emphasis"><em><a class="ulink" href="http://www.netbsd.org/docs/network/pf.html" target="_top">http://www.netbsd.org/docs/network/pf.html</a></em></span>, where you can find updated information about PF on NetBSD.</p></li></ul></div></div><div class="sect1" title="BSD and Networking Books"><div class="titlepage"><div><div><h2 class="title" id="bsd_and_networking_books" style="clear: both">BSD and Networking Books</h2></div></div></div><p>In addition to what appears to be an ever-expanding number of online resources, several books may be useful as companions or supplements to this book.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Michael W. Lucas, <span class="emphasis"><em>Absolute OpenBSD</em></span>, 2nd edition (No Starch Press, 2013). This volume offers a thorough walk-through of OpenBSD with a wealth of hands-on, practical material.</p></li><li class="listitem"><p><a class="indexterm" id="iddle1298"/><a class="indexterm" id="iddle1572"/><a class="indexterm" id="iddle1871"/><a class="indexterm" id="iddle2050"/>Michael W. Lucas, <span class="emphasis"><em>Network Flow Analysis</em></span> (No Starch Press, 2010). One of a select few books about network analysis and management using free NetFlow-based tools, this book shows you the tools and methods to discover just what really happens in your network.</p></li><li class="listitem"><p>Brandon Palmer and Jose Nazario, <span class="emphasis"><em>Secure Architectures with OpenBSD</em></span> (Addison-Wesley, 2004). This book provides an overview of OpenBSD’s features with a marked slant toward building secure and reliable systems. The book references OpenBSD 3.4 as the then up-to-date version.</p></li><li class="listitem"><p>Douglas R. Mauro and Kevin J. Schmidt, <span class="emphasis"><em>Essential SNMP</em></span>, 2nd edition (O’Reilly Media, 2005). As the title says, this is an essential reference book about SNMP.</p></li><li class="listitem"><p>Jeremy C. Reed (editor), <span class="emphasis"><em>The OpenBSD PF Packet Filter Book</em></span> (Reed Media Services, 2006). The book, based on the <span class="emphasis"><em>PF User Guide</em></span>, extends to cover PF on FreeBSD, NetBSD, and DragonFly BSD and includes some additional material on third-party tools that interoperate with PF.</p></li><li class="listitem"><p>Christopher M. Buechler and Jim Pingle, <span class="emphasis"><em>pfSense: The Definitive Guide</em></span> (Reed Media Services, 2009). At some 515 pages, this is a comprehensive guide to the FreeBSD- and PF-based firewall appliance distribution. A revised edition is planned for 2014 publication as of this writing.</p></li></ul></div></div><div class="sect1" title="Wireless Networking Resources"><div class="titlepage"><div><div><h2 class="title" id="wireless_networking_resources" style="clear: both">Wireless Networking Resources</h2></div></div></div><p>Kjell Jørgen Hole’s Wi-Fi courseware <span class="emphasis"><em>(<a class="ulink" href="http://www.nowires.org/" target="_top">http://www.nowires.org/</a>)</em></span> is an excellent resource for understanding wireless networks. The courseware is mainly aimed at University of Bergen students who take Professor Hole’s courses, but it’s freely available and well worth reading.</p></div><div class="sect1" title="spamd and Greylisting-Related Resources"><div class="titlepage"><div><div><h2 class="title" id="spamd_and_greylisting-related_resources" style="clear: both">spamd and Greylisting-Related Resources</h2></div></div></div><p>If handling email is part of your life (or is likely to be in the future), you’ve probably enjoyed the descriptions of <code class="literal">spamd</code>, tarpitting, and greylisting in this book. If you want a little more background information than what you find in the relevant RFCs, the following documents and web resources provide it.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Greylisting.org (<span class="emphasis"><em><a class="ulink" href="http://www.greylisting.org/" target="_top">http://www.greylisting.org/</a></em></span>) has a useful collection of greylisting-related articles and other information about greylisting and SMTP in general.</p></li><li class="listitem"><p>Evan Harris’s “The Next Step in the Spam Control War: Greylisting” <span class="emphasis"><em>(<a class="ulink" href="http://greylisting.org/articles/whitepaper.shtml" target="_top">http://greylisting.org/articles/whitepaper.shtml</a>)</em></span> is the original greylisting paper.</p></li><li class="listitem"><p>Bob Beck’s “OpenBSD spamd—greylisting and beyond” <span class="emphasis"><em>(<a class="ulink" href="http://www.ualberta.ca/~beck/nycbug06/spamd/" target="_top">http://www.ualberta.ca/~beck/nycbug06/spamd/</a>)</em></span> is an NYCBUG presentation that explains how <code class="literal">spamd</code> works, leading up to a description of <code class="literal">spamd</code>’s role in University of Alberta’s infrastructure. (Note that much of the “future work” mentioned in the presentation has already been implemented.)</p></li><li class="listitem"><p>“Effective spam and malware countermeasures” <span class="emphasis"><em>(<a class="ulink" href="http://bsdly.blogspot.com/2014/02/effective-spam-and-malware.html" target="_top">http://bsdly.blogspot.com/2014/02/effective-spam-and-malware.html</a>)</em></span>, originally my BSDCan 2007 paper with some updates, includes a best-practice description of how to use greylisting, <code class="literal">spamd</code>, and various other free tools and OpenBSD to successfully fight spam and malware in your network.</p></li><li class="listitem"><p>A promising new development is Peter Hessler’s <span class="emphasis"><em>BGP-spamd</em></span> project, which abuses the BGP routing protocol slightly to distribute <code class="literal">spamd</code> data between participating hosts. See the project’s website at <span class="emphasis"><em><a class="ulink" href="http://bgp-spamd.net/" target="_top">http://bgp-spamd.net/</a></em></span> for further information.</p></li></ul></div></div><div class="sect1" title="Book-Related Web Resources"><div class="titlepage"><div><div><h2 class="title" id="book-drelated_web_resources" style="clear: both">Book-Related Web Resources</h2></div></div></div><p>For news and updates about this book, check the book’s home page at the No Starch Press website <span class="emphasis"><em>(<a class="ulink" href="http://www.nostarch.com/pf3/" target="_top">http://www.nostarch.com/pf3/</a>)</em></span>. That page contains links to pages on my personal web space, where various updates and book-related resources will appear as they become available. I’ll post book-related news and updates at <span class="emphasis"><em><a class="ulink" href="http://www.bsdly.net/bookofpf/" target="_top">http://www.bsdly.net/bookofpf/</a></em></span>. Announcements relevant to the book are likely to turn up via my blog at <span class="emphasis"><em><a class="ulink" href="http://bsdly.blogspot.com/" target="_top">http://bsdly.blogspot.com/</a></em></span>, too.</p><p>I maintain the tutorial manuscript “Firewalling with OpenBSD’s PF packet filter,” which is the forerunner of this book. My policy is to make updates when appropriate, usually as I become aware of changes or features of PF and related software and while preparing for appearances at conferences. The tutorial manuscript is available under a BSD license and can be downloaded in several formats from my web space at <span class="emphasis"><em><a class="ulink" href="http://home.nuug.no/~peter/pf/" target="_top">http://home.nuug.no/~peter/pf/</a></em></span>. Updated versions will appear at that URL more or less in the natural course of tinkering in between events.</p></div><div class="sect1" title="Buy OpenBSD CDs and Donate!"><div class="titlepage"><div><div><h2 class="title" id="buy_openbsd_cds_and_donateexclamation_ma" style="clear: both">Buy OpenBSD CDs and Donate!</h2></div></div></div><p>If you’ve enjoyed this book or found it useful, please go to the OpenBSD.org ordering page at <span class="emphasis"><em><a class="ulink" href="http://www.openbsd.org/orders.html" target="_top">http://www.openbsd.org/orders.html</a></em></span> to buy CD sets, or for that matter, go to the donations page at <span class="emphasis"><em><a class="ulink" href="http://www.openbsd.org/donations.html" target="_top">http://www.openbsd.org/donations.html</a></em></span> to support further development work by the OpenBSD project via a monetary contribution.</p><p>If you’re the kind of entity that’s more comfortable with donating to a corporation, you can contact the OpenBSD foundation, a Canadian nonprofit corporation created in 2007 for that specific purpose. See the OpenBSD Foundation website at <span class="emphasis"><em><a class="ulink" href="http://www.openbsdfoundation.org/" target="_top">http://www.openbsdfoundation.org/</a></em></span> for more information.</p><p>If you’ve found this book at a conference, there might even be an OpenBSD booth nearby where you can buy CDs, T-shirts, and other items.</p><p>Remember that even free software takes real work and real money to develop and maintain.</p></div></section></body></html>