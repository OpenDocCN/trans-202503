["```\n---\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: nginx\nspec:\n  replicas: 5\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-deploy.yaml\ndeployment.apps/nginx created\n```", "```\nroot@host01:~# kubectl get pods -o wide\nNAME                     READY   STATUS    ... IP                NODE    ...\nnginx-6799fc88d8-2wqc7   1/1     Running   ... 172.31.239.231   host01   ...\nnginx-6799fc88d8-78bwx   1/1     Running   ... 172.31.239.229   host01   ...\nnginx-6799fc88d8-dtx7s   1/1     Running   ... 172.31.89.240    host02   ...\nnginx-6799fc88d8-wh479   1/1     Running   ... 172.31.239.230   host01   ...\nnginx-6799fc88d8-zwx27   1/1     Running   ... 172.31.239.228   host01   ...\n```", "```\nroot@host01:~# curl -v http://172.31.239.231\n*   Trying 172.31.239.231:80...\n* Connected to 172.31.239.231 (172.31.239.231) port 80 (#0)\n> GET / HTTP/1.1\n...\n< HTTP/1.1 200 OK\n< Server: nginx/1.21.3\n...\n```", "```\n---\nkind: Service\napiVersion: v1\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 80\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-service.yaml \nservice/nginx created\n```", "```\nroot@host01:~# kubectl get services\nNAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)   AGE\nkubernetes   ClusterIP   10.96.0.1        <none>        443/TCP   14d\nnginx        ClusterIP   10.100.221.220   <none>        80/TCP    25s\n```", "```\nroot@host01:~# curl -v http://10.100.221.220\n*   Trying 10.100.221.220:80...\n* Connected to 10.100.221.220 (10.100.221.220) port 80 (#0)\n> GET / HTTP/1.1\n...\n< HTTP/1.1 200 OK\n< Server: nginx/1.21.3\n...\n```", "```\nroot@host01:~# kubectl describe service nginx\nName:              nginx\nNamespace:         default\n...\nSelector:          app=nginx\n...\nEndpoints:         172.31.239.228:80,172.31.239.229:80,172.31.239.230:80 \n+ 2 more...\n...\n```", "```\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod\nspec:\n  containers:\n  - name: pod\n    image: alpine\n    command: \n      - \"sleep\"\n      - \"infinity\"\n```", "```\nroot@host01:~# kubectl apply -f /opt/pod.yaml \npod/pod created\n```", "```\nroot@host01:~# kubectl exec -ti pod -- wget -O - http://nginx\nConnecting to nginx (10.100.221.220:80)\n...\n<title>Welcome to nginx!</title>\n...\n```", "```\nroot@host01:~# kubectl exec -ti pod -- cat /etc/resolv.conf \nsearch default.svc.cluster.local svc.cluster.local cluster.local \nnameserver 10.96.0.10\noptions ndots:5\n```", "```\nroot@host01:~# kubectl -n kube-system get services\nNAME            TYPE       CLUSTER-IP      ... PORT(S)                  AGE\nkube-dns        ClusterIP  10.96.0.10      ... 53/UDP,53/TCP,9153/TCP   14d\nmetrics-server  ClusterIP  10.105.140.176  ... 443/TCP                  14d\n```", "```\nroot@host01:~# kubectl exec -ti pod -- wget -O - http://nginx.default.svc\nConnecting to nginx.default.svc (10.100.221.220:80)\n...\n<title>Welcome to nginx!</title>\n...\n```", "```\nroot@host01:~# kubectl exec -ti pod -- apk add bind-tools\n...\nOK: 13 MiB in 27 packages\n```", "```\nroot@host01:~# kubectl exec -ti pod -- dig +search metrics-server\n...\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: SERVFAIL, id: 38423\n...\n```", "```\nroot@host01:~# kubectl exec -ti pod -- dig +search metrics-server.kube-system\n...\n;; ANSWER SECTION:\nmetrics-server.kube-system.svc.cluster.local. 30 IN A 10.105.140.176\n...\n```", "```\nroot@host01:~# kubectl exec -ti pod -- ping -c 3 nginx\nPING nginx (10.100.221.220): 56 data bytes\n\n--- nginx ping statistics ---\n3 packets transmitted, 0 packets received, 100% packet loss\ncommand terminated with exit code 1\n```", "```\n   root@host01:~# iptables-save | grep 'default/nginx cluster IP'\n➊ -A KUBE-SERVICES ! -s 172.31.0.0/16 -d 10.100.221.220/32 -p tcp -m comment \n    --comment \"default/nginx cluster IP\" -m tcp --dport 80 -j KUBE-MARK-MASQ\n➋ -A KUBE-SERVICES -d 10.100.221.220/32 -p tcp -m comment --comment \n   \"default/nginx cluster IP\" -m tcp --dport 80 -j KUBE-SVC-2CMXP7HKUVJN7L6M\n```", "```\nroot@host01:~# iptables-save | grep KUBE-SVC-2CMXP7HKUVJN7L6M\n...\n-A KUBE-SVC-2CMXP7HKUVJN7L6M ... -m statistic --mode random \n  --probability 0.20000000019 -j KUBE-SEP-PIVU7ZHMCSOWIZ2Z\n-A KUBE-SVC-2CMXP7HKUVJN7L6M ... -m statistic --mode random \n  --probability 0.25000000000 -j KUBE-SEP-CFQXKE74QEHFB7VJ\n-A KUBE-SVC-2CMXP7HKUVJN7L6M ... -m statistic --mode random \n  --probability 0.33333333349 -j KUBE-SEP-DHDWEJZ7MGGIR5XF\n-A KUBE-SVC-2CMXP7HKUVJN7L6M ... -m statistic --mode random \n  --probability 0.50000000000 -j KUBE-SEP-3S3S2VJCXSAISE2Z\n-A KUBE-SVC-2CMXP7HKUVJN7L6M ... -j KUBE-SEP-AQWD2Y25T24EHSNI\n```", "```\nroot@host01:~# iptables-save | grep KUBE-SEP-PIVU7ZHMCSOWIZ2Z\n...\n-A KUBE-SEP-PIVU7ZHMC ... -s 172.31.239.235/32 ... --comment \"default/nginx\" -j KUBE-MARK-MASQ\n-A KUBE-SEP-PIVU7ZHMCSOWIZ2Z -p tcp ... -m tcp -j DNAT --to-destination 172.31.239.235:80\n```", "```\n---\nspec:\n  type: NodePort\n```", "```\nroot@host01:~# kubectl patch svc nginx --patch-file /opt/nginx-nodeport.yaml \nservice/nginx patched\n```", "```\nroot@host01:~# kubectl get service nginx\nNAME    TYPE       CLUSTER-IP       EXTERNAL-IP   PORT(S)        AGE\nnginx   NodePort   10.100.221.220   <none>        80:31326/TCP   2h\n```", "```\nroot@host01:~# ss -nlp | grep 31326\ntcp   LISTEN 0  4096  .0.0.0:31326 ... users:((\"kube-proxy\",pid=3339,fd=15))\n```", "```\nroot@host01:~# kubectl exec -ti pod -- wget -O - http://nginx\nConnecting to nginx (10.100.221.220:80)\n...\n<title>Welcome to nginx!</title>\n...\nroot@host01:~# wget -O - http://host01:31326\n...\nConnecting to host01 (host01)|127.0.2.1|:31326... connected.\n...\n<h1>Welcome to nginx!</h1>\n...\n```", "```\nroot@host01:~# kubectl -n ingress-nginx get deploy\nNAME                       READY   UP-TO-DATE   AVAILABLE   AGE\ningress-nginx-controller   1/1     1            1           15d\nroot@host01:~# kubectl -n ingress-nginx get svc\nNAME                      TYPE        ... PORT(S)               ...\ningress-nginx-controller  NodePort    ... 80:80/TCP,443:443/TCP ...\n...\n```", "```\n---\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: web01\nspec:\n  rules:\n    - host: web01\n      http:\n        paths:\n          - path: /\n pathType: Prefix\n            backend:\n              service:\n                name: nginx\n                port:\n                  number: 80\n```", "```\nroot@host01:~# curl -vH \"Host:web01\" http://192.168.61.10\n...\n> Host:web01\n...\n<head><title>404 Not Found</title></head>\n...\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-ingress.yaml \ningress.networking.k8s.io/web01 created\n```", "```\nroot@host01:~# curl -vH \"Host:web01\" http://host01\n...\n> Host:web01\n...\n<title>Welcome to nginx!</title>\n...\nroot@host01:~# curl -vH \"Host:web01\" http://192.168.61.10\n...\n> Host:web01\n...\n<title>Welcome to nginx!</title>\n...\n```"]