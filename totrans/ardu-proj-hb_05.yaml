- en: '**PART 4**'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '**第四部分**'
- en: '![image](../images/common-01.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common-01.jpg)'
- en: '**LCDS**'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**LCD 屏幕**'
- en: 'PROJECT 12: LCD SCREEN WRITER'
  id: totrans-3
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目12：LCD 屏幕编程器
- en: '**NOT ONLY IS THERE SOMETHING VERY SATISFYING ABOUT HAVING AN LCD SCREEN DISPLAY
    YOUR OWN MESSAGES, BUT IT’S ALSO VERY USEFUL.**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**不仅 LCD 屏幕显示你自己的信息很令人满足，而且它也非常有用。**'
- en: '![image](../images/f0102-01.jpg)![image](../images/f0103-01.jpg)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0102-01.jpg)![image](../images/f0103-01.jpg)'
- en: '**PARTS REQUIRED**'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需零件**'
- en: • Arduino board
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: • Arduino 主板
- en: • Breadboard
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: • 面包板
- en: • Jumper wires
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: • 跳线
- en: • 16×2 LCD screen (Hitachi HD44780 compatible)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: • 16×2 LCD 屏幕（兼容 Hitachi HD44780）
- en: • 50k-ohm potentiometer
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: • 50k 欧姆电位计
- en: '**LIBRARIES REQUIRED**'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需库**'
- en: • LiquidCrystal
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: • LiquidCrystal
- en: '**HOW IT WORKS**'
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**工作原理**'
- en: An LCD (liquid crystal display) screen is made of two sheets of polarizing material
    with a liquid crystal solution between them. Current passing through the solution
    creates an image or, in this case, characters. For this project, you’ll need an
    LCD screen that’s compatible with the Hitachi HD44780 driver for it to work with
    the Arduino—there are lots of them out there and you can usually identify them
    by their 16-pin interface.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: LCD（液晶显示）屏幕由两层偏振材料组成，中间夹着液晶溶液。电流通过溶液会形成图像或字符，在这个项目中就是字符。为了使 LCD 屏幕能够与 Arduino
    一起工作，你需要一个与 Hitachi HD44780 驱动程序兼容的 LCD 屏幕——市场上有很多这样的屏幕，通常可以通过其 16 针接口来识别。
- en: We’ll use the LiquidCrystal library to send characters to the LCD screen. The
    LiquidCrystal library maps the characters and uses the `print.lcd` commands to
    copy the message from the sketch to the screen.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用 LiquidCrystal 库将字符发送到 LCD 屏幕。LiquidCrystal 库将字符映射并使用 `print.lcd` 命令将信息从草图复制到屏幕上。
- en: Before you start, you need to prepare your LCD screen.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，你需要准备好你的 LCD 屏幕。
- en: '**PREPARING THE LCD SCREEN**'
  id: totrans-18
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**准备 LCD 屏幕**'
- en: The LCD screen will probably require a bit of assembly. Your screen should come
    with 16 holes (as shown in [Figure 12-1](ch12.xhtml#ch12fig1)) and a separate
    strip of header pins.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: LCD 屏幕可能需要一些组装。你的屏幕应该有 16 个孔（如[图12-1](ch12.xhtml#ch12fig1)所示），并附带一排独立的插头引脚。
- en: '**FIGURE 12-1:**'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**图12-1：**'
- en: The LCD screen has 16 pins running along the top.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: LCD 屏幕的顶部有 16 个引脚。
- en: '![image](../images/f12-01.jpg)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f12-01.jpg)'
- en: 'Take the strip of pins and break off a row of 16 pins. Insert the shorter side
    of the pins into the 16 LCD holes. You’ll need to solder these in place: solder
    the far-right and far-left pins first to hold the strip in place and wait a moment
    for them to set. Then solder each pin in turn, holding the solder and soldering
    iron to each pin. Holding the iron to the pins for too long will damage them;
    you only need to solder them for a couple of seconds. (If you’ve never soldered
    before, see the “[Quick Soldering Guide](ch00.xhtml#ch00lev1sec07)” on [page 18](ch00.xhtml#page_18).)'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 拿起这排引脚并断开 16 个引脚的一排。将引脚的短侧插入 16 个 LCD 孔中。你需要将这些引脚焊接到位：首先焊接最右和最左的引脚来固定插头，等它们稳定后再焊接每个引脚。每个引脚的焊接时间不宜过长，只需几秒钟（如果你从未焊接过，可以查看[快速焊接指南](ch00.xhtml#ch00lev1sec07)，见[第18页](ch00.xhtml#page_18)）。
- en: '**THE BUILD**'
  id: totrans-24
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**构建过程**'
- en: Place your LCD screen in the breadboard, inserting the header pins into the
    breadboard holes. Also place the potentiometer in the breadboard, and use the
    breadboard and jumper wires to connect your LCD screen, Arduino, and potentiometer
    as shown in the following table and in [Figure 12-2](ch12.xhtml#ch12fig2). There
    are three GND connections from the LCD module, so use the breadboard GND rail
    to make those connections.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 LCD 屏幕放入面包板中，将插头引脚插入面包板孔中。也将电位计放入面包板中，并使用面包板和跳线连接 LCD 屏幕、Arduino 和电位计，如下表所示以及[图12-2](ch12.xhtml#ch12fig2)中所示。LCD
    模块有三个 GND 引脚连接，因此可以使用面包板上的 GND 排来完成这些连接。
- en: '**FIGURE 12-2:**'
  id: totrans-26
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图12-2：**'
- en: Connections between the LCD screen and the Arduino. LCD screen pins 15 and 16
    are the power and ground for the backlight of the screen.
  id: totrans-27
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: LCD 屏幕与 Arduino 之间的连接。LCD 屏幕的引脚 15 和 16 是背光的电源和地线。
- en: '![image](../images/f12-02.jpg)'
  id: totrans-28
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f12-02.jpg)'
- en: '| **LCD SCREEN** | **ARDUINO** |'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **LCD 屏幕** | **Arduino** |'
- en: '| --- | --- |'
  id: totrans-30
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 VSS | GND |'
  id: totrans-31
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 VSS | GND |'
- en: '| 2 VDD | +5V |'
  id: totrans-32
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 VDD | +5V |'
- en: '| 3 VO contrast | Potentiometer center pin |'
  id: totrans-33
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 VO 对比度 | 电位计中心引脚 |'
- en: '| 4 RS | Pin 7 |'
  id: totrans-34
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 RS | 引脚 7 |'
- en: '| 5 R/W | GND |'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 R/W | GND |'
- en: '| 6 Enable | Pin 8 |'
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 使能 | 引脚 8 |'
- en: '| 7 D0 | Not used |'
  id: totrans-37
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 D0 | 未使用 |'
- en: '| 8 D1 | Not used |'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 D1 | 未使用 |'
- en: '| 9 D2 | Not used |'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 D2 | 未使用 |'
- en: '| 10 D3 | Not used |'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 D3 | 未使用 |'
- en: '| 11 D4 | Pin 9 |'
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 11 D4 | 引脚 9 |'
- en: '| 12 D5 | Pin 10 |'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 12 D5 | 引脚 10 |'
- en: '| 13 D6 | Pin 11 |'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 13 D6 | 引脚 11 |'
- en: '| 14 D7 | Pin 12 |'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 14 D7 | 引脚12 |'
- en: '| 15 A BcL+ | +5V |'
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 15 A BcL+ | +5V |'
- en: '| 16 K BcL– | GND |'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 16 K BcL– | GND |'
- en: The center pin of the 50k-ohm potentiometer is connected to LCD pin 3 (VO).
    The potentiometer controls the screen contrast. Turn it until you can clearly
    see the characters on the screen. Now connect one of the outer pins to GND and
    the other to +5V.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 50k欧姆电位器的中心引脚连接到LCD的引脚3（VO）。该电位器控制屏幕的对比度。旋转它直到你能清晰地看到屏幕上的字符。现在，将其中一个外侧引脚连接到GND，另一个连接到+5V。
- en: Backlit LCD screens (see [Figure 12-3](ch12.xhtml#ch12fig3)) will have resistors
    built in, but if you have a non-backlit LCD screen, you should insert a 220-ohm
    resistor between LCD 15 and +5V. (The screen’s packaging will say whether it is
    backlit or not.)
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 背光LCD屏幕（见[图12-3](ch12.xhtml#ch12fig3)）会内置电阻，但如果你使用的是非背光LCD屏幕，应该在LCD的引脚15和+5V之间插入一个220欧姆电阻。（屏幕包装上会注明是否有背光。）
- en: '**FIGURE 12-3:**'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图12-3：**'
- en: A backlit LCD screen
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 一个背光LCD屏幕
- en: '![image](../images/f12-03.jpg)'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f12-03.jpg)'
- en: Your setup should look like [Figure 12-4](ch12.xhtml#ch12fig4). Check your work
    against the circuit diagram in [Figure 12-5](ch12.xhtml#ch12fig5), and then upload
    the code in “[The Sketch](ch12.xhtml#ch12lev1sec04)” on [page 107](ch12.xhtml#page_107).
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你的设置应该像[图12-4](ch12.xhtml#ch12fig4)所示。对照[图12-5](ch12.xhtml#ch12fig5)中的电路图检查你的工作，然后上传代码，参见“[草图](ch12.xhtml#ch12lev1sec04)”在[第107页](ch12.xhtml#page_107)。
- en: '**FIGURE 12-4:**'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图12-4：**'
- en: The complete setup
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 完整的设置
- en: '![image](../images/f12-04.jpg)'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f12-04.jpg)'
- en: '**FIGURE 12-5:**'
  id: totrans-56
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图12-5：**'
- en: The circuit diagram for the LCD screen writer
  id: totrans-57
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: LCD屏幕编程的电路图
- en: '![image](../images/f12-05.jpg)'
  id: totrans-58
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f12-05.jpg)'
- en: '**THE SKETCH**'
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: This sketch is included in your IDE examples. Load it from the IDE by going
    to **File ![image](../images/arrow.jpg) Examples ![image](../images/arrow.jpg)
    LiquidCrystal** and then clicking **Scroll**. The sketch uses the LiquidCrystal
    library that’s built into the Arduino IDE to send messages from the Arduino to
    the LCD screen. You can change the message by replacing `"Arduino Sketch"` at
    ➋.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这个草图包含在你的IDE示例中。通过IDE加载它，方法是依次点击**文件 ![image](../images/arrow.jpg) 示例 ![image](../images/arrow.jpg)
    LiquidCrystal**，然后点击**滚动**。该草图使用内置在Arduino IDE中的LiquidCrystal库，将信息从Arduino发送到LCD屏幕。你可以通过将“`Arduino
    Sketch`”替换为其他文本来更改消息。
- en: To use this circuit setup with the example sketches in the Arduino IDE, we also
    change the LCD pins in the sketch (12, 11, 5, 4, 3, 2) at ➊ to 7, 8, 9, 10, 11,
    12, as these are the pins we’ve assigned. I’ve re-created the sketch here as you’ll
    see it in the IDE, but with those changes made.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用这个电路设置与Arduino IDE中的示例草图，我们还需要在草图中更改LCD引脚（12, 11, 5, 4, 3, 2）到7, 8, 9, 10,
    11, 12，因为这些是我们分配的引脚。我在这里重新创建了草图，正如你在IDE中看到的一样，但已经做了这些更改。
- en: '[PRE0]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'PROJECT 13: WEATHER STATION'
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目13：天气站
- en: '**IN THIS PROJECT YOU’LL SET UP A WEATHER STATION TO MEASURE TEMPERATURE AND
    HUMIDITY, AND DISPLAY THE VALUES ON AN LCD SCREEN.**'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '**在这个项目中，你将建立一个天气站来测量温度和湿度，并将数值显示在LCD屏幕上。**'
- en: '![image](../images/f0110-01.jpg)![image](../images/f0111-01.jpg)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0110-01.jpg)![image](../images/f0111-01.jpg)'
- en: '**PARTS REQUIRED**'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需部件**'
- en: • Arduino board
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: • Arduino开发板
- en: • Breadboard
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: • 面包板
- en: • Jumper wires
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: • 跳线
- en: • 50k-ohm potentiometer
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: • 50k欧姆电位器
- en: • 16x2 LCD screen (Hitachi HD44780 compatible)
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: • 16x2 LCD屏幕（兼容Hitachi HD44780）
- en: • DHT11 humidity sensor
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: • DHT11湿度传感器
- en: '**LIBRARIES REQUIRED**'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需库**'
- en: • LiquidCrystal
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: • LiquidCrystal
- en: • DHT
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: • DHT
- en: '**HOW IT WORKS**'
  id: totrans-76
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**工作原理**'
- en: The humidity sensor used in this project is the relatively cheap DHT11, shown
    in [Figure 13-1](ch13.xhtml#ch13fig1), which measures both humidity and temperature.
    It uses a capacitive humidity sensor and resistive-type temperature sensor to
    take a reading from its environment. It sends this reading to the Arduino as voltage,
    and the Arduino converts this to readable values displayed on the screen. For
    best results, you should mount your sensor on an outside wall with a decent amount
    of open space. You’ll want to mount your LCD screen indoors or seal it carefully
    in a clear, waterproof bag or casing to keep it protected from the elements.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目使用的湿度传感器是相对便宜的DHT11，如[图13-1](ch13.xhtml#ch13fig1)所示，它可以测量湿度和温度。它使用电容式湿度传感器和电阻式温度传感器来读取环境数据。它将这些数据作为电压发送给Arduino，Arduino将其转换为可读的数值并显示在屏幕上。为了获得最佳效果，建议将传感器安装在外墙上，并确保周围有足够的开放空间。你应将LCD屏幕安装在室内，或者将其小心密封在一个清晰的防水袋或外壳中，以保护它免受外部环境的影响。
- en: '**FIGURE 13-1:**'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**图13-1：**'
- en: The DHT11 measures both temperature and humidity.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: DHT11既测量温度也测量湿度。
- en: '![image](../images/f13-01.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f13-01.jpg)'
- en: The DHT11 comes with either four pins or three pins. The sensor shown in [Figure
    13-1](ch13.xhtml#ch13fig1) has four pins, but you can use either version for this
    project, because you won’t be using pin 3\. Check the retailers at the beginning
    of the book for ideas on where to buy a DHT11.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: DHT11传感器有四个脚或者三个脚。[图13-1](ch13.xhtml#ch13fig1)中显示的传感器有四个脚，但你可以使用任意版本的DHT11进行本项目，因为你不会使用第3脚。在书本开头查看零售商，了解在哪里购买DHT11。
- en: '**THE BUILD**'
  id: totrans-82
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**项目构建**'
- en: First, prepare the LCD screen as per the soldering instructions in “[Preparing
    the LCD Screen](ch12.xhtml#ch12lev1sec02)” on [page 104](ch12.xhtml#page_104).
    Insert the DHT11 sensor into your breadboard. The DHT11 pins are numbered 1 to
    4 (or 3) from the left, when the front is facing you. Connect pin 1 to the +5V
    rail, connect pin 2 directly to Arduino pin 8, and connect pin 4 (or 3) to GND.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，按照“[准备LCD屏幕](ch12.xhtml#ch12lev1sec02)”中的焊接说明准备LCD屏幕（见[第104页](ch12.xhtml#page_104)）。将DHT11传感器插入面包板。当传感器正面朝向你时，DHT11的引脚从左到右依次编号为1至4（或3）。将引脚1连接到+5V电源轨，将引脚2直接连接到Arduino的引脚8，将引脚4（或3）连接到GND。
- en: '| **DHT11** | **ARDUINO** |'
  id: totrans-84
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **DHT11** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Pin 1 | +5V |'
  id: totrans-86
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 1 | +5V |'
- en: '| Pin 2 | Pin 8 |'
  id: totrans-87
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 2 | 引脚 8 |'
- en: '| Pin 3 | Not used |'
  id: totrans-88
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 3 | 未使用 |'
- en: '| Pin 4 | GND |'
  id: totrans-89
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 4 | GND |'
- en: Insert the LCD screen into the breadboard and connect the pins to the Arduino
    as shown in the following table and in [Figure 13-2](ch13.xhtml#ch13fig2). The
    GND and +5V rails will have multiple connections.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将LCD屏幕插入面包板，并按照下表以及[图13-2](ch13.xhtml#ch13fig2)所示连接引脚到Arduino。GND和+5V电源轨将有多个连接。
- en: '| **LCD SCREEN** | **ARDUINO** |'
  id: totrans-91
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **LCD屏幕** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 VSS | GND |'
  id: totrans-93
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 VSS | GND |'
- en: '| 2 VDD | +5V |'
  id: totrans-94
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 VDD | +5V |'
- en: '| 3 VO contrast | Potentiometer center pin |'
  id: totrans-95
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 VO 对比度 | 电位器中心脚 |'
- en: '| 4 RS | Pin 12 |'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 RS | 引脚 12 |'
- en: '| 5 R/W | GND |'
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 R/W | GND |'
- en: '| 6 Enable | Pin 11 |'
  id: totrans-98
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 使能 | 引脚 11 |'
- en: '| 7 D0 | Not used |'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 D0 | 未使用 |'
- en: '| 8 D1 | Not used |'
  id: totrans-100
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 D1 | 未使用 |'
- en: '| 9 D2 | Not used |'
  id: totrans-101
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 D2 | 未使用 |'
- en: '| 10 D3 | Not used |'
  id: totrans-102
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 D3 | 未使用 |'
- en: '| 11 D4 | Pin 5 |'
  id: totrans-103
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 11 D4 | 引脚 5 |'
- en: '| 12 D5 | Pin 4 |'
  id: totrans-104
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 12 D5 | 引脚 4 |'
- en: '| 13 D6 | Pin 3 |'
  id: totrans-105
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 13 D6 | 引脚 3 |'
- en: '| 14 D7 | Pin 2 |'
  id: totrans-106
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 14 D7 | 引脚 2 |'
- en: '| 15 A BcL + | +5V |'
  id: totrans-107
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 15 A BcL + | +5V |'
- en: '| 16 K BcL – | GND |'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 16 K BcL – | GND |'
- en: '**FIGURE 13-2:**'
  id: totrans-109
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图13-2：**'
- en: Inserting the LCD screen into the breadboard
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将LCD屏幕插入面包板
- en: '![image](../images/f13-02.jpg)'
  id: totrans-111
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f13-02.jpg)'
- en: Insert a potentiometer into the breadboard as shown in [Figure 13-3](ch13.xhtml#ch13fig3)
    and connect the center pin to LCD pin 3\. Connect one outer pin to the +5V rail
    and the other to the GND rail.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如[图13-3](ch13.xhtml#ch13fig3)所示，将电位器插入面包板，并将中心脚连接到LCD的引脚3。将一个外脚连接到+5V电源轨，另一个外脚连接到GND电源轨。
- en: '**FIGURE 13-3:**'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图13-3：**'
- en: Inserting the potentiometer into the breadboard
  id: totrans-114
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将电位器插入面包板
- en: '![image](../images/f13-03.jpg)'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f13-03.jpg)'
- en: Remember to connect the power rails of the breadboard to Arduino GND and +5V.
    Confirm that your setup matches the circuit diagram in [Figure 13-4](ch13.xhtml#ch13fig4),
    and upload the code in “[The Sketch](ch13.xhtml#ch13lev1sec03)” on [page 116](ch13.xhtml#page_116).
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 记得将面包板的电源轨连接到Arduino的GND和+5V。确认你的布线与[图13-4](ch13.xhtml#ch13fig4)中的电路图相符，并上传[第116页](ch13.xhtml#page_116)中的“[草图](ch13.xhtml#ch13lev1sec03)”代码。
- en: '**FIGURE 13-4:**'
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图13-4：**'
- en: The circuit diagram for the weather station
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 天气站电路图
- en: '![image](../images/f13-04.jpg)'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f13-04.jpg)'
- en: '**THE SKETCH**'
  id: totrans-120
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: This sketch uses the LiquidCrystal library, which comes with the Arduino IDE,
    and the DHT library, which you will need to download and install from *[http://nostarch.com/arduinohandbook/](http://nostarch.com/arduinohandbook/)*
    (see “[Libraries](ch00.xhtml#ch00lev2sec07)” on [page 7](ch00.xhtml#page_7)).
    The DHT library controls the function of the sensor, and the LCD library displays
    the readings on the screen.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 此草图使用LiquidCrystal库，该库附带Arduino IDE，还使用DHT库，您需要从*[http://nostarch.com/arduinohandbook/](http://nostarch.com/arduinohandbook/)*下载并安装（见[第7页](ch00.xhtml#page_7)的“[库文件](ch00.xhtml#ch00lev2sec07)”）。DHT库控制传感器的功能，LCD库则将读数显示在屏幕上。
- en: '[PRE1]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'PROJECT 14: FORTUNE TELLER'
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目14：占卜师
- en: '**IN THIS PROJECT, WE’LL CREATE AN ELECTRONIC VERSION OF A CLASSIC FORTUNE-TELLING
    DEVICE: THE MAGIC 8 BALL.**'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '**在这个项目中，我们将制作一个经典的占卜装置的电子版：魔法8球。**'
- en: '![image](../images/f0117-01.jpg)![image](../images/f0118-01.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0117-01.jpg)![image](../images/f0118-01.jpg)'
- en: '**PARTS REQUIRED**'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需零件**'
- en: • Arduino board
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: • Arduino开发板
- en: • Breadboard
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: • 面包板
- en: • Jumper wires
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: • 跳线
- en: • 16x2 LCD screen (Hitachi HD44780 compatible)
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: • 16x2 LCD屏幕（适用于日立HD44780兼容型）
- en: • Tilt ball switch
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: • 倾斜球开关
- en: • 50k-ohm potentiometer
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: • 50k欧姆电位器
- en: • 1k-ohm resistor
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: • 1k欧姆电阻
- en: '**LIBRARIES REQUIRED**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需库文件**'
- en: • LiquidCrystal
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: • LiquidCrystal
- en: '**HOW IT WORKS**'
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**工作原理**'
- en: The Magic 8 Ball, a novelty toy created in the 1950s, is made of a hollow sphere
    in which a 20-sided die floated in alcohol. When you ask the ball a question and
    shake it, one side of the die floats up and displays your answer in the ball’s
    window.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 魔术 8 球是一种上世纪 50 年代创造的玩具，由一个空心球和浮动在酒精中的 20 面骰子组成。当你问球一个问题并摇动它时，骰子的一面会浮出并在球的窗口中显示你的答案。
- en: For this project, you’ll use a tilt ball switch, shown in [Figure 14-1](ch14.xhtml#ch14fig1).
    The tilt ball switch is composed of a metal ball inside a metal casing that makes
    a connection when the switch is in an upright position. If you tilt the switch,
    the ball shifts and the connection is broken. There are lots of tilt switches
    available, and all do the same job. In this project, you’ll ask a question and
    shake the switch. When the switch settles upright again, it connects to the Arduino,
    which then randomly selects a response from eight preset answers and displays
    it on the LCD screen.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个项目中，你将使用一个倾斜球开关，如 [图 14-1](ch14.xhtml#ch14fig1) 所示。倾斜球开关由一个金属球和金属外壳组成，当开关处于竖直位置时，金属球会接触并完成连接。如果你倾斜开关，金属球会移动，连接断开。有很多种倾斜开关可供选择，它们都能完成同样的工作。在这个项目中，你将提一个问题并摇动开关。当开关再次恢复竖直位置时，它会连接到
    Arduino，Arduino 随后会从八个预设答案中随机选择一个，并在 LCD 屏幕上显示出来。
- en: '**FIGURE 14-1:**'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 14-1：**'
- en: Tilt ball switch inserted in the breadboard
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 倾斜球开关插入面包板
- en: '![image](../images/f14-01.jpg)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f14-01.jpg)'
- en: The potentiometer controls the contrast of the LCD screen.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 可变电阻控制 LCD 屏幕的对比度。
- en: '**THE BUILD**'
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**构建**'
- en: Prepare the LCD screen as per the soldering instructions in “[Preparing the
    LCD Screen](ch12.xhtml#ch12lev1sec02)” on [page 104](ch12.xhtml#page_104).
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照 “[准备 LCD 屏幕](ch12.xhtml#ch12lev1sec02)” 中的焊接说明准备 LCD 屏幕，该说明在 [第 104 页](ch12.xhtml#page_104)。
- en: Place your LCD screen in the breadboard, inserting the header pins into the
    breadboard holes. Also place the potentiometer in the breadboard, and use the
    breadboard and jumper wires to connect your LCD screen, Arduino, and potentiometer.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 LCD 屏幕放置在面包板上，将引脚插入面包板的孔中。同时将可变电阻也放置在面包板上，并使用面包板和跳线连接你的 LCD 屏幕、Arduino 和可变电阻。
- en: '| **LCD SCREEN** | **ARDUINO** |'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **LCD 屏幕** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 VSS | GND |'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 VSS | GND |'
- en: '| 2 VDD | +5V |'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 VDD | +5V |'
- en: '| 3 VO contrast | Potentiometer center pin |'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 VO 对比度 | 可变电阻的中间引脚 |'
- en: '| 4 RS | Pin 12 |'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 RS | 引脚 12 |'
- en: '| 5 R/W | GND |'
  id: totrans-152
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 R/W | GND |'
- en: '| 6 Enable | Pin 11 |'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 Enable | 引脚 11 |'
- en: '| 7 D0 | Not used |'
  id: totrans-154
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 D0 | 未使用 |'
- en: '| 8 D1 | Not used |'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 D1 | 未使用 |'
- en: '| 9 D2 | Not used |'
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 D2 | 未使用 |'
- en: '| 10 D3 | Not used |'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 D3 | 未使用 |'
- en: '| 11 D4 | Pin 5 |'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 11 D4 | 引脚 5 |'
- en: '| 12 D5 | Pin 4 |'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 12 D5 | 引脚 4 |'
- en: '| 13 D6 | Pin 3 |'
  id: totrans-160
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 13 D6 | 引脚 3 |'
- en: '| 14 D7 | Pin 2 |'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 14 D7 | 引脚 2 |'
- en: '| 15 A BcL + | +5V |'
  id: totrans-162
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 15 A BcL + | +5V |'
- en: '| 16 K BcL – | GND |'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 16 K BcL – | GND |'
- en: Remember to use a breadboard rail to make the multiple connections to the Arduino
    GND pin, as shown in [Figure 14-2](ch14.xhtml#ch14fig2).
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 记得使用面包板导轨将多个连接连接到 Arduino 的 GND 引脚，如 [图 14-2](ch14.xhtml#ch14fig2) 所示。
- en: '**FIGURE 14-2:**'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图 14-2：**'
- en: The LCD screen is connected to the Arduino.
  id: totrans-166
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: LCD 屏幕已连接到 Arduino。
- en: '![image](../images/f14-02.jpg)'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f14-02.jpg)'
- en: You should have already connected the center pin of the 10k-ohm potentiometer
    to LCD pin 3 (VO). Now connect one of the outer pins to GND and the other to +5V.
    This controls the contrast of your LCD screen.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该已经将 10k 欧姆可变电阻的中间引脚连接到 LCD 的引脚 3 (VO)。现在，将其中一个外部引脚连接到 GND，另一个连接到 +5V。这将控制
    LCD 屏幕的对比度。
- en: Insert the tilt switch into your breadboard and attach one side to Arduino pin
    6 via a 1k-ohm resistor and the other side to GND.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将倾斜开关插入你的面包板，并通过一个 1k 欧姆电阻将一侧连接到 Arduino 的引脚 6，另一侧连接到 GND。
- en: '| **TILT BALL SWITCH** | **ARDUINO** |'
  id: totrans-170
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **倾斜球开关** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-171
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Leg 1 | Pin 6 via 1k-ohm resistor |'
  id: totrans-172
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 1 | 通过 1k 欧姆电阻连接到引脚 6 |'
- en: '| Leg 2 | GND |'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚 2 | GND |'
- en: Connect your breadboard rails to the Arduino +5V and GND for power.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将你的面包板导轨连接到 Arduino 的 +5V 和 GND 以供电。
- en: Confirm that your setup matches [Figure 14-3](ch14.xhtml#ch14fig3), and upload
    the code in “[The Sketch](ch14.xhtml#ch14lev1sec03)” on [page 122](ch14.xhtml#page_122).
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认你的设置与 [图 14-3](ch14.xhtml#ch14fig3) 相匹配，并上传 “[草图](ch14.xhtml#ch14lev1sec03)”
    中的代码，该代码在 [第 122 页](ch12.xhtml#page_122)。
- en: '**FIGURE 14-3:**'
  id: totrans-176
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图 14-3：**'
- en: The circuit diagram for the fortune teller
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 占卜器的电路图
- en: '![image](../images/f14-03.jpg)'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f14-03.jpg)'
- en: '**THE SKETCH**'
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: The code for this project is fairly simple. When you switch on the Arduino,
    the LCD screen displays the message `Ask a Question`. Shaking the tilt switch
    activates the sketch, and the Arduino chooses a random answer from the eight available
    answers (cases 0–7).
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目的代码相当简单。当你打开Arduino时，LCD屏幕显示消息`Ask a Question`。摇动倾斜开关激活草图，Arduino从八个可用的答案（案例0-7）中随机选择一个答案。
- en: 'Here’s the line in the code that does this:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 这是代码中实现此功能的那一行：
- en: reply = random(8);
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: reply = random(8);
- en: 'To add in your own responses, change the value `8` to the number of possible
    responses, and then add your responses (or cases) in the same style as the others:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 要加入你自己的响应，改变值`8`为可能的响应数量，然后以与其他响应相同的格式添加你的响应（或案例）：
- en: 'case 8:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 'case 8:'
- en: lcd.print("You betcha");
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: lcd.print("你敢打赌");
- en: break;
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: break;
- en: 'Here’s the full sketch:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 这是完整的代码：
- en: '[PRE2]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'PROJECT 15: REACTION TIMER GAME'
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 项目15：反应计时游戏
- en: '**IN THIS PROJECT, LET’S COMBINE OUR LCD SCREEN WITH AN RGB LED AND A PIEZO
    BUZZER TO MAKE A REACTION TIMER GAME.**'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '**在这个项目中，让我们将LCD屏幕与RGB LED和压电蜂鸣器结合起来，制作一个反应计时游戏。**'
- en: '![image](../images/f0124-01.jpg)![image](../images/f0125-01.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0124-01.jpg)![image](../images/f0125-01.jpg)'
- en: '**PARTS REQUIRED**'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需零件**'
- en: • Arduino board
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: • Arduino主板
- en: • Breadboard
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: • 面包板
- en: • Jumper wires
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: • 跳线
- en: • 16x2 LCD screen (Hitachi HD44780 compatible)
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: • 16x2 LCD屏幕（兼容Hitachi HD44780）
- en: • RGB LED module
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: • RGB LED模块
- en: • Piezo buzzer
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: • 压电蜂鸣器
- en: • Momentary tactile four-pin pushbutton
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: • 瞬时触觉四脚按钮
- en: • 50k-ohm potentiometer
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: • 50k欧姆电位器
- en: • 220-ohm resistor
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: • 220欧姆电阻
- en: '**LIBRARIES REQUIRED**'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '**所需库**'
- en: • LiquidCrystal
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: • LiquidCrystal
- en: '**HOW IT WORKS**'
  id: totrans-204
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**工作原理**'
- en: You start the game by holding down the pushbutton. The RGB LED lights up and
    fades through some random colors. Your aim is to react as quickly as possible
    when it turns red and release the pushbutton. The LCD screen shows your reaction
    time in milliseconds, from when the LED turned red to when you released the button
    (see [Figure 15-1](ch15.xhtml#ch15fig1)).
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 你通过按住按钮来开始游戏。RGB LED亮起并逐渐变换为一些随机颜色。你的目标是尽可能快地做出反应，当LED变红时松开按钮。LCD屏幕显示你的反应时间，单位是毫秒，从LED变红到松开按钮的时间（见[图15-1](ch15.xhtml#ch15fig1)）。
- en: '**FIGURE 15-1:**'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '**图15-1：**'
- en: After you release the pushbutton, your reaction time will be shown on the LED
    screen.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 当你松开按钮时，你的反应时间将显示在LED屏幕上。
- en: '![image](../images/f15-01.jpg)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f15-01.jpg)'
- en: The piezo buzzer tries to distract you by making random sounds. If you release
    the button too soon, the LCD screen displays a message saying so, and you’ll have
    to start over.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 压电蜂鸣器通过发出随机声音来分散你的注意力。如果你太快松开按钮，LCD屏幕会显示一个消息，告诉你重新开始。
- en: 'As its name implies, an RGB LED is actually three LEDs in one: red, green,
    and blue (see [Figure 15-2](ch15.xhtml#ch15fig2)).'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 正如其名称所示，RGB LED实际上是三个LED的组合：红色、绿色和蓝色（见[图15-2](ch15.xhtml#ch15fig2)）。
- en: '**FIGURE 15-2:**'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '**图15-2：**'
- en: An RGB LED can be red, green, or blue.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: RGB LED可以是红色、绿色或蓝色。
- en: '![image](../images/f15-02.jpg)'
  id: totrans-213
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f15-02.jpg)'
- en: RGB is an *additive* color model, which means that by combining the light of
    two or more colors we can create other colors. Red, green, and blue are the additive
    primary colors usually used as the base for other colors, as shown in [Figure
    15-3](ch15.xhtml#ch15fig3).
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: RGB是一种*加法*色彩模型，这意味着通过组合两种或更多颜色的光，我们可以创造出其他颜色。红色、绿色和蓝色是通常用作其他颜色基础的加法原色，如[图15-3](ch15.xhtml#ch15fig3)所示。
- en: '**FIGURE 15-3:**'
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: '**图15-3：**'
- en: The RGB color model is additive.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: RGB色彩模型是加法的。
- en: '![image](../images/f15-03.jpg)'
  id: totrans-217
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f15-03.jpg)'
- en: 'Let’s take a look at an RGB LED in a bit more detail. [Figure 15-4](ch15.xhtml#ch15fig4)
    shows a clear common-cathode LED. Note that the LED has four legs instead of the
    usual two: one each for red, green, and blue, and the final one is either the
    cathode or anode. In this case the longest pin is the cathode, and it connects
    to ground (GND).'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看RGB LED。[图15-4](ch15.xhtml#ch15fig4)展示了一个清晰的共阴极LED。注意，LED有四根脚，而不是通常的两根：一根分别用于红色、绿色和蓝色，最后一根是阴极或阳极。在这种情况下，最长的引脚是阴极，它连接到地（GND）。
- en: '**FIGURE 15-4:**'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '**图15-4：**'
- en: An RGB LED has four legs instead of the usual two.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 一个RGB LED有四根脚，而不是通常的两根。
- en: '![image](../images/f15-04.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f15-04.jpg)'
- en: The RGB LED used in this project is on a module with built-in resistors, which
    allows us to save space on our breadboard.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 本项目中使用的RGB LED是一个带内建电阻的模块，这样可以节省面包板上的空间。
- en: '**THE BUILD**'
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**搭建过程**'
- en: Prepare the LCD screen as per the soldering instructions in “[Preparing the
    LCD Screen](ch12.xhtml#ch12lev1sec02)” on [page 104](ch12.xhtml#page_104).
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照[《准备LCD屏幕》](ch12.xhtml#ch12lev1sec02)中的焊接说明，准备LCD屏幕，见[第104页](ch12.xhtml#page_104)。
- en: Place your LCD screen in the breadboard, inserting the header pins into the
    breadboard holes. Also place the potentiometer in the breadboard, and use the
    breadboard and jumper wires to connect your LCD screen, Arduino, and potentiometer.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将LCD屏幕放置在面包板上，将其头针插入面包板孔中。同时，将电位器放入面包板，并使用面包板和跳线将LCD屏幕、Arduino和电位器连接起来。
- en: '| **LCD SCREEN** | **ARDUINO** |'
  id: totrans-226
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **LCD屏幕** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-227
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 1 VSS | GND |'
  id: totrans-228
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 1 VSS | GND |'
- en: '| 2 VDD | +5V |'
  id: totrans-229
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 2 VDD | +5V |'
- en: '| 3 VO contrast | Potentiometer center pin |'
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 3 VO对比度 | 电位器中间引脚 |'
- en: '| 4 RS | Pin 11 |'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 4 RS | 引脚11 |'
- en: '| 5 R/W | GND |'
  id: totrans-232
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 5 R/W | GND |'
- en: '| 6 Enable | Pin 12 |'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 6 启用 | 引脚12 |'
- en: '| 7 D0 | Not used |'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 7 D0 | 未使用 |'
- en: '| 8 D1 | Not used |'
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 8 D1 | 未使用 |'
- en: '| 9 D2 | Not used |'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 9 D2 | 未使用 |'
- en: '| 10 D3 | Not used |'
  id: totrans-237
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 10 D3 | 未使用 |'
- en: '| 11 D4 | Pin 5 |'
  id: totrans-238
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 11 D4 | 引脚5 |'
- en: '| 12 D5 | Pin 4 |'
  id: totrans-239
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 12 D5 | 引脚4 |'
- en: '| 13 D6 | Pin 3 |'
  id: totrans-240
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 13 D6 | 引脚3 |'
- en: '| 14 D7 | Pin 2 |'
  id: totrans-241
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 14 D7 | 引脚2 |'
- en: '| 15 A BcL + | +5V |'
  id: totrans-242
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 15 A BcL + | +5V |'
- en: '| 16 K BcL – | GND |'
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 16 K BcL – | GND |'
- en: You should have already connected the center pin of the 50-kilohm potentiometer
    to LCD pin 3 (VO). Now connect one of the outer pins to GND and the other to +5V.
    This controls the contrast of your LCD screen.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该已经将50千欧电位器的中间引脚连接到LCD引脚3（VO）。现在将一个外侧引脚连接到GND，另一个连接到+5V。这个操作控制你的LCD屏幕的对比度。
- en: Insert the pushbutton into the breadboard so that it straddles the break in
    the center. We’ll label the pins as shown in [Figure 15-5](ch15.xhtml#ch15fig5).
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将按钮插入面包板，使其跨过中间的断开部分。我们将按图[15-5](ch15.xhtml#ch15fig5)标记引脚。
- en: '**FIGURE 15-5:**'
  id: totrans-246
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图15-5：**'
- en: The pushbutton straddles the center break.
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 按钮横跨中心断开。
- en: '![image](../images/f15-05.jpg)'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f15-05.jpg)'
- en: Connect pin A to ground via a 220-ohm resistor, pin C to Arduino pin 9, and
    pin D to +5V (see [Project 1](ch01.xhtml#ch01) for more on how the pushbutton
    works).
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将引脚A通过220欧姆电阻连接到地，C引脚连接到Arduino引脚9，D引脚连接到+5V（更多关于按钮如何工作的内容请参见[项目1](ch01.xhtml#ch01)）。
- en: '| **PUSHBUTTON** | **ARDUINO** |'
  id: totrans-250
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **按钮** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-251
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Pin A | GND via 220-ohm resistor |'
  id: totrans-252
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚A | 通过220欧姆电阻接地 |'
- en: '| Pin C | Pin 9 |'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚C | 引脚9 |'
- en: '| Pin D | +5V |'
  id: totrans-254
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 引脚D | +5V |'
- en: Insert the RGB module and connect the red pin to Arduino pin 8, green to pin
    6, blue to pin 7, and + to +5V.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 插入RGB模块，将红色引脚连接到Arduino引脚8，绿色连接到引脚6，蓝色连接到引脚7，+连接到+5V。
- en: '| **RGB LED** | **ARDUINO** |'
  id: totrans-256
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **RGB LED** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Red | Pin 8 |'
  id: totrans-258
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 红色 | 引脚8 |'
- en: '| Green | Pin 6 |'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 绿色 | 引脚6 |'
- en: '| Blue | Pin 7 |'
  id: totrans-260
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 蓝色 | 引脚7 |'
- en: '| + | +5V |'
  id: totrans-261
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| + | +5V |'
- en: Connect the piezo buzzer’s red wire directly to Arduino pin 13 and its black
    wire to GND.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将蜂鸣器的红线直接连接到Arduino引脚13，黑线连接到GND。
- en: '| **PIEZO** | **ARDUINO** |'
  id: totrans-263
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| **蜂鸣器** | **ARDUINO** |'
- en: '| --- | --- |'
  id: totrans-264
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Red wire | Pin 13 |'
  id: totrans-265
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 红线 | 引脚13 |'
- en: '| Black wire | GND |'
  id: totrans-266
  prefs:
  - PREF_IND
  type: TYPE_TB
  zh: '| 黑线 | GND |'
- en: Check your build against Figure 15-7, and then upload the code in “[The Sketch](ch15.xhtml#ch15lev1sec03)”
    on [page 130](ch15.xhtml#page_130) to start playing!
  id: totrans-267
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查你的构建是否符合图15-7，然后上传[《草图》](ch15.xhtml#ch15lev1sec03)中的代码到[第130页](ch15.xhtml#page_130)，开始游戏吧！
- en: '**FIGURE 15-6:**'
  id: totrans-268
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**图15-6：**'
- en: Circuit diagram for the reaction timer game. You’ll probably find that it’s
    easier to add all the GND and +5V wires before the data wires.
  id: totrans-269
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 反应计时器游戏的电路图。你可能会发现，先添加所有的GND和+5V线再接数据线会更容易。
- en: '![image](../images/f15-06.jpg)'
  id: totrans-270
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![image](../images/f15-06.jpg)'
- en: '**THE SKETCH**'
  id: totrans-271
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**草图**'
- en: When you press and hold the pushbutton, the LED flashes random colors and eventually
    turns red. The duration of time for which each color shows is set to random, as
    is the duration of the pauses between lights. This means you can’t learn the sequence
    of the colors and predict when the LED might turn red.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 当你按下并保持按钮时，LED会闪烁随机颜色，最终变为红色。每种颜色显示的持续时间是随机的，灯光间的暂停时间也是随机的。这意味着你无法学习颜色的顺序，也无法预测LED何时变为红色。
- en: 'You can make the game more difficult by increasing the duration of the intervals
    in the following line of the sketch:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过在草图中的以下代码行中增加间隔时间，使游戏变得更具挑战性：
- en: '[PRE3]'
  id: totrans-274
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The full sketch is as follows:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的草图如下：
- en: '[PRE4]'
  id: totrans-276
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
