- en: '![Image](../images/common1.jpg)'
  id: totrans-0
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/common1.jpg)'
- en: '**3**'
  id: totrans-1
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**3**'
- en: '**LUMINOUS LIGHT**'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**光照强度**'
- en: In this chapter, we’ll use the micro:bit to experiment with light. First, you’ll
    learn how to sense light levels, and we’ll build a light-controlled guitar that
    plays notes depending on how much light it senses. Then we’ll use light to create
    an optical illusion infinity mirror that appears to go on forever to help the
    Mad Scientist fathom their most profound thoughts. MicroPython doesn’t have a
    light-sensing feature yet, so you’ll use Blocks code in this chapter.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将使用micro:bit来进行光照实验。首先，你将学习如何感知光照强度，然后我们将制作一款光控吉他，根据感应到的光强度来演奏音符。接着，我们将使用光线创建一个光学幻觉的无限镜面，似乎可以一直延伸，帮助疯狂的科学家深入思考。由于MicroPython目前没有光感应功能，因此本章将使用Blocks代码进行编程。
- en: '**EXPERIMENT 3: SENSING LIGHT**'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**实验3：感知光线**'
- en: '![Image](../images/common2.jpg)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/common2.jpg)'
- en: Let’s look at how you can use a micro:bit to measure the light levels. Once
    you know how to do this, you’ll be able to make all sorts of light-dependent projects,
    including the automatic night-light and light-controlled guitar you’ll find later
    in this chapter.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何使用micro:bit来测量光照强度。一旦你掌握了这个方法，你就能制作各种光依赖的项目，包括本章后面提到的自动夜灯和光控吉他。
- en: The micro:bit’s developers very cleverly built a feature into the device’s software
    that allows it to measure the light level with its LEDs. I’ll explain how in “How
    It Works” on [page 63](ch03.xhtml#page_63).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: micro:bit的开发者非常巧妙地在设备的软件中构建了一项功能，允许它通过LED灯来测量光照强度。我将在[第63页](ch03.xhtml#page_63)的“原理”部分解释这一点。
- en: '**What You’ll Need**'
  id: totrans-8
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**所需材料**'
- en: You just need a micro:bit and a USB cable for this experiment.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你只需要一个micro:bit和一个USB线就可以进行这个实验。
- en: '**Construction**'
  id: totrans-10
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**构建**'
- en: 'Visit the book’s code repository at *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*
    and click the link for **Experiment 3: Sensing Light**. Click **Download** and
    then copy the hex file onto your micro:bit. If you get stuck, head back to “Programming
    the Micro:bit” on [page 11](ch01.xhtml#page_11) where we discuss the process of
    getting programs onto your micro:bit in full. Remember, this experiment only works
    on Blocks code, so there’s no MicroPython code available to download.'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问本书的代码库：*[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*，点击**实验3：感知光线**的链接。点击**下载**，然后将.hex文件复制到你的micro:bit上。如果遇到困难，可以回到[第11页](ch01.xhtml#page_11)的“编程micro:bit”部分，那里详细讲解了将程序下载到micro:bit上的过程。记住，这个实验只适用于Blocks代码，因此没有MicroPython代码可以下载。
- en: Once you’ve successfully programmed the micro:bit, a number between 0 and 9
    should appear on the display, indicating how much light the micro:bit is detecting.
    Try changing the light level by shading the micro:bit with your hand or holding
    it under a light and see how the number changes.
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你成功编程了micro:bit，屏幕上应该会显示一个0到9之间的数字，表示micro:bit正在检测的光强度。试着用手遮挡micro:bit，或者将其放在光源下，看看数字如何变化。
- en: '**Code**'
  id: totrans-13
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**代码**'
- en: Here is the Blocks code for this experiment.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这是本实验的Blocks代码。
- en: '![Image](../images/f0063-01.jpg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/f0063-01.jpg)'
- en: The `light level` block takes a reading from the micro:bit’s light sensor and
    assigns it a value between 0 and 255 that represents the brightness. But, if the
    number is more than one digit, the micro:bit’s LED display will need to scroll
    to display it, which is slow and inconvenient. By dividing that number by 26,
    the value will always be below 10.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '`光照强度`块从micro:bit的光传感器读取数据，并给出一个介于0和255之间的值，表示亮度。然而，如果数字超过一位数，micro:bit的LED显示屏将需要滚动显示，速度较慢且不方便。通过将数字除以26，结果总是小于10。'
- en: After displaying the light level, the micro:bit pauses for half a second to
    give you time to read the display. Otherwise, the numbers would flicker past too
    quickly when the light level changes.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在显示光照强度后，micro:bit会暂停半秒钟，以便你有时间阅读显示内容。否则，当光照强度变化时，数字会快速闪烁，难以看清。
- en: '**How It Works**'
  id: totrans-18
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**原理**'
- en: The micro:bit doesn’t have a dedicated light sensor. Instead, it uses an ingenious
    trick to calculate light levels with its display. You can read about this trick
    at *[https://lancaster-university.github.io/microbit-docs/extras/light-sensing/](https://lancaster-university.github.io/microbit-docs/extras/light-sensing/)*.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: micro:bit没有专门的光传感器。相反，它利用一种巧妙的技巧，通过显示屏来计算光照强度。你可以在*[https://lancaster-university.github.io/microbit-docs/extras/light-sensing/](https://lancaster-university.github.io/microbit-docs/extras/light-sensing/)*上了解这个技巧。
- en: '**PROJECT: AUTOMATIC NIGHT-LIGHT**'
  id: totrans-20
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**项目：自动夜灯**'
- en: '![Image](../images/common3.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/common3.jpg)'
- en: '*Difficulty: Easy*'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*难度：简单*'
- en: Although they’re reluctant to admit it, the Mad Scientist is a little bit afraid
    of the dark. That’s why they developed a project that uses a micro:bit’s display
    as a light that will automatically turn on when night falls.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管他们不太愿意承认，疯狂科学家有点害怕黑暗。这就是他们开发一个使用micro:bit显示屏作为夜间自动亮起的灯光的项目的原因。
- en: '![Image](../images/f0064-01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/f0064-01.jpg)'
- en: This simple project builds on Experiment 3 to monitor the light level and then
    turn on all the LEDs on the micro:bit’s display if the light gets too dim.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这个简单的项目是基于实验3的，能够监控光照水平，并在光线变得过暗时点亮micro:bit显示屏上的所有LED灯。
- en: '**What You’ll Need**'
  id: totrans-26
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**所需材料**'
- en: The only thing you need for this project is a micro:bit.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目唯一需要的就是micro:bit。
- en: Because the micro:bit will have to stay on for a long time, it’s best to use
    a USB power adapter or Monk Makes Power for micro:bit (see “Powering Your Micro:bit”
    on [page 248](app01.xhtml#page_248)) for this project. Batteries run out of power
    too soon.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 因为micro:bit需要长时间开启，最好使用USB电源适配器或Monk Makes Power for micro:bit（请参见“为micro:bit供电”在[第248页](app01.xhtml#page_248)）来完成这个项目。电池太快就会没电。
- en: '**Construction**'
  id: totrans-29
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**构建**'
- en: Visit the book’s code repository at *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*
    and click the link for **Automatic Night-Light**. Then click **Download** and
    copy the hex file onto your micro:bit. If you get stuck on this, head back to
    “Programming the micro:bit” on [page 11](ch01.xhtml#page_11), where we discuss
    the process of getting programs onto your micro:bit in full.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问本书的代码库，在*[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*点击**自动夜灯**的链接。然后点击**下载**并将hex文件复制到你的micro:bit中。如果你在这过程中卡住了，可以返回到“编程micro:bit”在[第11页](ch01.xhtml#page_11)，那里我们完整地讨论了如何将程序传输到micro:bit。
- en: Once you’ve programmed the micro:bit, the display should illuminate when you
    shade the micro:bit with your hand. When you take your hand away, the display
    should turn off.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你编程好了micro:bit，屏幕应该会在你用手遮住micro:bit时亮起。当你移开手时，屏幕应该会熄灭。
- en: '**Code**'
  id: totrans-32
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**代码**'
- en: The Blocks code for this project is shown here.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目的Blocks代码如下所示。
- en: '![Image](../images/f0065-01.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/f0065-01.jpg)'
- en: This code uses two `if` blocks. The first checks whether the light level is
    less than 10, which would indicate that the environment is very dark. If this
    condition is met, the code turns on all the LEDs using the `show leds` block with
    all the LEDs selected.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码使用了两个`if`块。第一个检查光照水平是否低于10，这意味着环境非常黑暗。如果满足这个条件，代码会使用`show leds`块打开所有LED灯。
- en: The second `if` block turns the LEDs off if the light level is greater than
    50\. We leave a gap between the two levels of 10 and 50 to make sure the LEDs
    don’t flash on and off when the light is close to either level. The technical
    name for the difference between on/off values is *hysterysis*.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个`if`块会在光照水平大于50时将LED灯关闭。我们在10和50这两个光照水平之间留出了间隔，以确保当光照接近这两个值时，LED不会闪烁。开关值之间的差异的技术名称是*滞后现象*。
- en: '**PROJECT: LIGHT GUITAR**'
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**项目：光吉他**'
- en: '![Image](../images/common3.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/common3.jpg)'
- en: '*Difficulty: Medium*'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '*难度：中等*'
- en: Now it’s time to make a light-controlled guitar! This guitar will play different
    tones when you wave your hand in front of the micro:bit. You can see a video of
    this project in action at *[https://www.youtube.com/watch?v=OFUYxIYCXQs](https://www.youtube.com/watch?v=OFUYxIYCXQs)*.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候制作一个光控吉他了！当你在micro:bit前挥手时，这把吉他将播放不同的音调。你可以在*[https://www.youtube.com/watch?v=OFUYxIYCXQs](https://www.youtube.com/watch?v=OFUYxIYCXQs)*观看这个项目的实际演示视频。
- en: I recommend attaching your micro:bit, a speaker, and a battery to a guitar-shaped
    cardboard cutout. (The Mad Scientist is not terribly good at art, so the resemblance
    in [Figure 3-1](ch03.xhtml#ch3fig1) is only passing.)
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我建议将micro:bit、扬声器和电池固定在一个吉他形状的纸板剪影上。（疯狂科学家在艺术方面不太擅长，所以[图3-1](ch03.xhtml#ch3fig1)中的相似度只是勉强能够体现。）
- en: '![Image](../images/03fig01.jpg)'
  id: totrans-42
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/03fig01.jpg)'
- en: '*Figure 3-1: The micro:bit becomes a musical instrument.*'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3-1：micro:bit变成了一个乐器。*'
- en: The cables that connect the micro:bit to the speaker are hidden behind the cardboard
    to keep things neat.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 连接micro:bit和扬声器的电缆隐藏在纸板后面，以保持整洁。
- en: '**What You’ll Need**'
  id: totrans-45
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**所需材料**'
- en: 'For this project, you’ll need the following items:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个项目，你需要以下物品：
- en: '**Micro:bit**'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '**Micro:bit**'
- en: '**3 × Alligator clip cables** To connect the micro:bit to the speaker'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**3 × 鳄鱼夹电缆** 用于连接micro:bit和扬声器'
- en: '**3V battery pack** To power the micro:bit and speaker (The kind with a switch
    works best.)'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**3V 电池包** 用于为 micro:bit 和扬声器供电（带开关的类型效果最佳）。'
- en: '**Speaker for micro:bit** To play the sound (Use a Monk Makes Speaker or see
    [Chapter 2](ch02.xhtml#ch02) for other speaker options.)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '**用于 micro:bit 的扬声器** 用来播放声音（可以使用 Monk Makes 扬声器，或者参见 [第 2 章](ch02.xhtml#ch02)
    获取其他扬声器选项）。'
- en: '**Blu-Tack or self-adhesive pads** To attach the micro:bit to the cardboard
    cutout'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**Blu-Tack 或自粘垫** 用于将 micro:bit 固定在纸板剪影上'
- en: '**Cardboard** To form the guitar body (You can use a cut-up cardboard box.)'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**纸板** 用于制作吉他主体（你可以使用一块拆开的纸箱）。'
- en: '**Paper glue (PVA or spray adhesive)** To stick the paper outline to the cardboard'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**纸胶（PVA 或喷胶）** 用于将纸质轮廓粘贴到纸板上'
- en: '**Paper with a guitar outline (optional)** You can either draw your own guitar
    on paper or cut out and decorate the cardboard directly.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**带吉他轮廓的纸（可选）** 你可以选择自己在纸上画吉他，或者直接剪裁和装饰纸板。'
- en: '**Scissors** To cut out the outline of the guitar'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**剪刀** 用于剪裁吉他的轮廓'
- en: '**Construction**'
  id: totrans-56
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**构建**'
- en: It’s a good idea to create and test the program before attaching your micro:bit
    to the cardboard, so we’ll do that first.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在将 micro:bit 固定到纸板之前，先创建并测试程序是个好主意，因此我们先进行这一步。
- en: Connect the speaker to the micro:bit using the three alligator cables, as shown
    in [Figure 3-2](ch03.xhtml#ch3fig2).
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用三条鳄鱼夹电缆将扬声器连接到 micro:bit，如 [图 3-2](ch03.xhtml#ch3fig2) 所示。
- en: It’s a good idea to color-code the cables so you remember which is which. Use
    black for GND, red for 3V, and any other color for the audio connection from pin
    0 of the micro:bit.
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 为了便于记忆不同的电缆，建议使用不同的颜色编码。黑色代表 GND，红色代表 3V，其他任何颜色都可用于连接 micro:bit 引脚 0 的音频连接。
- en: '![Image](../images/03fig02.jpg)'
  id: totrans-60
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Image](../images/03fig02.jpg)'
- en: '*Figure 3-2: Attaching the micro:bit to a speaker*'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-2：将 micro:bit 连接到扬声器*'
- en: Open *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*
    and click for the **Light Guitar** project. Once the experiment has opened, click
    **Download**, then copy the hex file onto your micro:bit.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*，点击
    **Light Guitar** 项目。实验打开后，点击 **下载**，然后将 hex 文件复制到你的 micro:bit 中。
- en: Once you’ve programmed the micro:bit, it should play a different note when your
    hand gets close to it and shades some of the light. If you don’t get a very large
    range of notes, you may need to adjust its sensitivity (see “Code” on [page 71](ch03.xhtml#page_71)
    for how to do this).
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你编程完成，micro:bit 应该会在你靠近它并遮挡部分光线时发出不同的音符。如果音符的范围不是很大，可能需要调整它的灵敏度（请参阅 [第 71
    页](ch03.xhtml#page_71) 了解如何调整）。
- en: Disconnect the micro:bit from the USB cable. At *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*,
    you’ll find a folder called **other downloads** that contains a drawing of a guitar
    shape in PDF, PNG, and SVG formats. You can draw your own guitar or print out
    this template.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 断开 micro:bit 与 USB 数据线的连接。在 *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*，你会找到一个名为
    **other downloads** 的文件夹，里面包含了吉他形状的 PDF、PNG 和 SVG 格式图纸。你可以自己画吉他，或打印出这个模板。
- en: Glue your guitar drawing to your piece of cardboard, as shown in [Figure 3-3](ch03.xhtml#ch3fig3).![Image](../images/03fig03.jpg)
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将吉他图纸粘贴到纸板上，如 [图 3-3](ch03.xhtml#ch3fig3) 所示。![Image](../images/03fig03.jpg)
- en: '*Figure 3-3: Gluing the paper template to the cardboard*'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-3：将纸模板粘贴到纸板上*'
- en: Using a pair of scissors, cut around the outline of the guitar. Also cut out
    the two rectangles in the body of the guitar, where you’ll put the wires connecting
    the micro:bit to the speaker. The result should look like [Figure 3-4](ch03.xhtml#ch3fig4).![Image](../images/03fig04.jpg)
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用剪刀围绕吉他轮廓剪裁。还要剪出吉他主体上两个矩形区域，用于放置连接 micro:bit 和扬声器的电线。最终效果应如 [图 3-4](ch03.xhtml#ch3fig4)
    所示。![Image](../images/03fig04.jpg)
- en: '*Figure 3-4: Cutting around the template*'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-4：围绕模板剪裁*'
- en: Using small balls of Blu-Tack, attach the speaker and the micro:bit to the guitar
    so that the edge connectors of both are accessible from the rectangular slots.
    Also attach the battery box, as shown in [Figure 3-5](ch03.xhtml#ch3fig5).![Image](../images/03fig05.jpg)
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用小球状的 Blu-Tack，将扬声器和 micro:bit 固定在吉他上，确保它们的边缘连接器能够通过矩形插槽访问。同时，也要将电池盒固定好，如 [图
    3-5](ch03.xhtml#ch3fig5) 所示。![Image](../images/03fig05.jpg)
- en: '*Figure 3-5: Attaching the micro:bit, the speaker, and the battery box*'
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-5：将 micro:bit、扬声器和电池盒连接起来*'
- en: When all three parts are attached to the guitar, the project should look like
    [Figure 3-6](ch03.xhtml#ch3fig6).
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当吉他上的三个部件都连接好后，项目应该像 [图 3-6](ch03.xhtml#ch3fig6) 中那样。
- en: '![Image](../images/03fig06.jpg)'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Image](../images/03fig06.jpg)'
- en: '*Figure 3-6: The micro:bit, speaker, and battery box have been attached to
    the guitar.*'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图3-6：micro:bit、扬声器和电池盒已经连接到吉他上。*'
- en: Flip the whole thing over and connect the micro:bit and speaker, as shown in
    [Figure 3-7](ch03.xhtml#ch3fig7). Reference [Figure 3-2](ch03.xhtml#ch3fig2) if
    you need help with the connections.![Image](../images/03fig07.jpg)
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 翻转整个设备，按照[图3-7](ch03.xhtml#ch3fig7)连接micro:bit和扬声器。如果你需要连接帮助，可以参考[图3-2](ch03.xhtml#ch3fig2)。![图片](../images/03fig07.jpg)
- en: '*Figure 3-7: Connecting the micro:bit to the speaker*'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图3-7：连接micro:bit到扬声器*'
- en: Connect the battery box to the battery connector on the micro:bit. You’re ready
    to rock out!
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将电池盒连接到micro:bit上的电池连接器。你准备好开始演奏了！
- en: '**Code**'
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**代码**'
- en: The Blocks code for this project uses arrays.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 这个项目的块状代码使用了数组。
- en: '![Image](../images/f0071-01.jpg)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/f0071-01.jpg)'
- en: We put the code that needs to be run only when the micro:bit starts up in the
    `on start` block. This creates an array of notes. An *array* is a list of values
    rather than a single value. We’re using an array to provide a list of eight possible
    notes for the micro:bit to play. Different light levels will trigger different
    notes. The first line inside the `on start` block defines a new array called `notes`,
    which initially just contains the note `Middle C`. The `add value` blocks that
    follow add another seven notes to the array so that the variable `notes` will
    eventually contain all eight of the notes we need.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将需要在micro:bit启动时才运行的代码放入`on start`块中。这会创建一个音符数组。*数组*是一个值的列表，而不是单个值。我们使用数组来提供micro:bit可播放的八个可能音符。不同的光线水平会触发不同的音符。`on
    start`块中的第一行定义了一个名为`notes`的新数组，最初只包含音符`中音C`。随后的`add value`块将数组中再添加七个音符，以便变量`notes`最终包含我们需要的所有八个音符。
- en: '![Image](../images/f0072-01.jpg)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/f0072-01.jpg)'
- en: The code inside the `forever` block will run continuously. This is the code
    that tells the micro:bit to read the light level and then uses that information
    to pick a note to play. To do this, the code first reads the light level using
    the `light level` block and divides the reading by 25\. If you don’t hear all
    eight notes, you may need to adjust the sensitivity by tweaking this value of
    25 down a bit.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '`forever`块中的代码将不断执行。这段代码告诉micro:bit读取光线水平，然后根据这个信息选择要播放的音符。为此，代码首先使用`light
    level`块读取光线水平，并将读取值除以25。如果你没有听到所有八个音符，可能需要通过稍微调低这个25的值来调整灵敏度。'
- en: The `set to` block names the resulting value `note number`. Since the `note
    number` is the light level divided by 25, it will be a value between 1 and 10.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '`set to`块将结果值命名为`note number`。由于`note number`是光线水平除以25，所以它的值将在1到10之间。'
- en: But setting the maximum light level to 10 would cause problems. When accessing
    items in an array, you specify the position of the item you want. The maximum
    position we can specify in this array is 7 (the eight notes are numbered 0 to
    7). We want the guitar to work indoors where the light is fairly low. However,
    if the light is really bright, then `note number` might turn out to be 10, which
    would be outside the array. To make sure that we don’t exceed this maximum permitted
    value for note number, we add the `if` command to check whether the note number
    is greater than 7\. If it is, the code sets it to 7—problem solved.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 但将最大光线水平设置为10会导致问题。在访问数组中的项时，你需要指定要访问项的位置。我们在这个数组中可以指定的最大位置是7（八个音符的编号是从0到7）。我们希望吉他在光线较暗的室内工作。但是，如果光线非常明亮，那么`note
    number`可能会变成10，这将超出数组的范围。为了确保我们不会超过`note number`的最大允许值，我们添加了`if`命令来检查`note number`是否大于7。如果大于7，代码将其设置为7——问题就解决了。
- en: The `play tone` block accesses the item in the `notes` array at the position
    of the value of `note number` and plays it for 1/8 of a beat.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '`play tone`块访问`notes`数组中对应`note number`值位置的项，并播放该音符，持续时间为1/8拍。'
- en: '**PROJECT: INFINITY MIRROR**'
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**项目：无限镜子**'
- en: '![Image](../images/common3.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/common3.jpg)'
- en: This seemingly magical mirror ([Figure 3-8](ch03.xhtml#ch3fig8)) is guaranteed
    to impress any visiting mad scientists. Built into a small picture frame, the
    mirror looks much deeper than it really is.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 这个看似神奇的镜子（[图3-8](ch03.xhtml#ch3fig8)）一定能给任何来访的疯狂科学家留下深刻印象。它内置在一个小相框中，镜子看起来比实际要深得多。
- en: '![Image](../images/03fig08.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/03fig08.jpg)'
- en: '*Figure 3-8: A micro:bit-controlled infinity mirror*'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3-8：micro:bit控制的无限镜子*'
- en: Your micro:bit will control a strip of 30 LEDs mounted inside a picture frame,
    and we’ll put some reflective film on either side of the LEDs, allowing you to
    create interesting light effects.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 您的Micro:bit将控制一个安装在相框内的30个LED灯带，我们会在LED灯带的两侧贴上反射膜，从而创造有趣的光效
- en: You can see a video of this project in operation at *[https://www.youtube.com/watch?v=-4Ud47OkIyY](https://www.youtube.com/watch?v=-4Ud47OkIyY)*.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在* [https://www.youtube.com/watch?v=-4Ud47OkIyY](https://www.youtube.com/watch?v=-4Ud47OkIyY)
    *查看此项目的演示视频。
- en: '**NOTE** *This project is a little tricky because the reflective film can be
    difficult to smooth out. If you stick with it, though, the effect is worth it!*'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意** *这个项目有点棘手，因为反射膜可能难以平滑处理。但如果坚持下去，效果是值得的！*'
- en: '**What You’ll Need**'
  id: totrans-94
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**所需物品**'
- en: 'For this project, you’ll need the following items:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个项目，您需要以下物品：
- en: '**Micro:bit**'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '**Micro:bit**'
- en: '**0.5 m Addressable LED Strip (NeoPixels)** One WS2812B RGB 5050 SMD Strip
    should have 60 LEDs per meter and be 0.5 meters long, with self-adhesive backing.'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: '**0.5米可寻址LED灯带（NeoPixels）** 一条WS2812B RGB 5050 SMD灯带应每米60个LED，总长度为0.5米，背面有自粘胶层'
- en: '**3 × Alligator clip to male jumper cables** To connect the micro:bit to the
    LED strip'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '**3个鳄鱼夹到公跳线** 用于将Micro:bit连接到LED灯带'
- en: '**Monk Makes Power for micro:bit** To power the micro:bit and LED strip. Note
    that USB power will not provide enough current for this project and a AAA battery
    pack will provide enough power only if the batteries are very fresh.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '**Monk Makes 电源适配器** 为Micro:bit和LED灯带供电。请注意，USB电源无法提供足够的电流来支持此项目，而AAA电池包仅在电池非常新鲜时才足够提供电力'
- en: '**6V DC wall wart power adapter** To provide enough power for the LEDs. The
    power adapter should have a DC barrel jack plug on the end. (See “Powering Your
    Micro:bit” on [page 248](app01.xhtml#page_248).)'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '**6V直流墙插电源适配器** 提供足够的电力给LED灯带。电源适配器的末端应有一个直流圆柱插头。（详见《为您的Micro:bit供电》[第248页](app01.xhtml#page_248)）'
- en: '**Deep 7 × 5-inch picture frame** See additional information about the picture
    frame below. You’ll need one with plastic spacers, which a deep frame should contain.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '**深型7×5英寸相框** 见下文有关相框的更多信息。您需要一个带有塑料间隔器的相框，深框通常会包含此类间隔器'
- en: '**Two 7 × 5-inch pieces of reflective window film** Samples of reflective window
    film'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '**两块7×5英寸的反射窗膜** 反射窗膜样品'
- en: '**Craft knife** To cut the reflective film and make a slot in the picture frame
    spacer for the LED strip’s wires'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '**工艺刀** 用于切割反射膜并在相框间隔器上为LED灯带的电线制作槽口'
- en: '**Soapy water** To clean the glass and attach the film'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**肥皂水** 用于清洁玻璃并贴上薄膜'
- en: '**Ruler or plastic card** To use as a squeegee'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**尺子或塑料卡** 用作刮板'
- en: '**Adhesive tape** To remove the backing film from the reflective window film'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**胶带** 用于从反射窗膜上移除背膜'
- en: Look for a 7 × 5-inch (17.5 × 12.5 cm) picture frame that has an insert designed
    for 6 × 4-inch photos. The important thing about the frame is that it has sufficient
    depth, so look for a frame like the one shown in [Figure 3-9a–b](ch03.xhtml#ch3fig9).
    The one I used was 1.25 inches deep. Also make sure that there’s glass at the
    front of the frame. Behind the glass, there should be a plastic spacer (on which
    we’re going to stick the LED strip) and then the backboard.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 寻找一个7×5英寸（17.5×12.5厘米）的相框，里面设计有适合6×4英寸照片的插槽。相框的重要特性是它有足够的深度，因此请寻找像[图3-9a–b](ch03.xhtml#ch3fig9)所示的相框。我使用的相框深度为1.25英寸。还要确保相框正面有玻璃。玻璃背后应有一个塑料间隔器（我们将在其上粘贴LED灯带），然后是背板
- en: '![Image](../images/03fig09.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/03fig09.jpg)'
- en: '*Figure 3-9: A deep photo frame for the infinity mirror: (a) front and (b)
    with the back removed*'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*图3-9：无限镜深框相框：（a）正面和（b）移除背面后*'
- en: The reflective film reflects light, so it acts like a mirror. It normally comes
    in large rolls for fitting to the windows of a building. Luckily for us, the people
    who sell this film also usually offer small samples of the material, which are
    plenty big enough for our needs. You’ll find it most easily online. Search on
    eBay or Amazon by entering the phrase *silver reflective mirror window film* and
    then look through the listings until you find someone who offers sample sizes.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 反射膜反射光线，因此它像镜子一样工作。通常，它是大卷的，用于贴在建筑物的窗户上。幸运的是，销售这种膜的人通常也会提供小样品，这些样品足够满足我们的需求。您可以通过在eBay或Amazon上搜索*银色反射镜窗膜*来轻松找到它，然后浏览列表，直到找到提供样品尺寸的人
- en: You’re going to need two pieces that are at least 7 × 5 inches, but I recommend
    getting extra; attaching the film to the glass of the photo frame and removing
    the bubbles is a little tricky, so it’s a good idea to have a few spare sheets
    in case your first attempts fail.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要两块至少为 7 × 5 英寸的材料，但我建议多准备一些；将膜贴在相框玻璃上并去除气泡有点棘手，因此最好有几张备用材料，以防第一次尝试失败。
- en: 'The easiest place to find the addressable LED strips is on eBay, but it’s also
    sold through hardware sites like Adafruit and SparkFun. Use the search term *WS2812B
    RGB 5050 LED Strip*. You’ll want to buy a strip with 60 LEDs per meter. You’ll
    need half a meter for this project, so 30 LEDs in total. These LED strips come
    in two varieties: waterproof (for outside use) or with a self-adhesive backing.
    You need the type with the adhesive backing.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 最容易找到可寻址 LED 灯带的地方是 eBay，但它也可以通过像 Adafruit 和 SparkFun 这样的硬件网站购买。使用搜索词 *WS2812B
    RGB 5050 LED Strip*。你需要购买每米 60 个 LED 的灯带。这个项目需要半米长，所以总共 30 个 LED。这些 LED 灯带有两种类型：防水型（用于户外）或自粘背胶型。你需要的是带有自粘背胶的类型。
- en: '**Construction**'
  id: totrans-113
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**构建**'
- en: Now that you have your materials, we’ll attach the LEDs and reflective film
    to the frame. After we program the LEDs, the light will appear to go back into
    the frame forever, creating the illusion that the frame is deeper than it is.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经准备好材料，我们将把 LED 灯带和反光膜固定到框架上。编程 LED 灯带后，光线将看似永远向框架内部延伸，制造出框架比实际更深的错觉。
- en: It’s worth making sure the LED strip works with your micro:bit before you go
    through the trouble of constructing the hardware for the project. To test it,
    connect the LED strip to the micro:bit using the three alligator to jumper cables.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你开始构建项目硬件之前，确保 LED 灯带与 micro:bit 兼容是值得的。为了测试它，使用三根鳄鱼夹跳线将 LED 灯带连接到 micro:bit。
- en: Note that it’s also possible to connect the strip using male-to-male jumper
    wires and normal alligator clips.
  id: totrans-116
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 请注意，也可以使用公对公跳线和普通鳄鱼夹连接灯带。
- en: Also attach the DC power adapter and Monk Makes Power for micro:bit board, as
    shown in [Figure 3-10](ch03.xhtml#ch3fig10).
  id: totrans-117
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 同时连接 DC 电源适配器和 Monk Makes Power for micro:bit 板，如[图 3-10](ch03.xhtml#ch3fig10)所示。
- en: '![Image](../images/03fig10.jpg)'
  id: totrans-118
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Image](../images/03fig10.jpg)'
- en: '*Figure 3-10: Testing the LED strip with a micro:bit*'
  id: totrans-119
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-10：使用 micro:bit 测试 LED 灯带*'
- en: The pins of the alligator to jumper pin cables will fit into the three-way connector
    attached to the LED strip. Your LED strip may have differently colored wires than
    the ones shown in [Figure 3-10](ch03.xhtml#ch3fig10), so it’s best to look at
    the strip itself to see where the wires are soldered to it. One wire will be marked
    GND; connect this to the GND connection of the micro:bit. A second wire will be
    marked 5V; connect this to 3V on the micro:bit. The final connection, in the middle,
    will either be marked DIN (Data In) or have an arrow pointing toward the LED.
    Connect this to pin 0 of the micro:bit.
  id: totrans-120
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 鳄鱼夹跳线的引脚将插入连接到 LED 灯带的三路连接器。你的 LED 灯带可能与[图 3-10](ch03.xhtml#ch3fig10)中显示的颜色线不同，因此最好查看灯带本身，看看线缆连接的位置。一根线会标记为
    GND；将其连接到 micro:bit 的 GND 接口。第二根线会标记为 5V；将其连接到 micro:bit 的 3V 接口。中间的最后一根线会标记为
    DIN（数据输入）或指向 LED 的箭头。将这根线连接到 micro:bit 的引脚 0。
- en: Got to *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*
    and click the link for **Magic Mirror**. Click **Download** to download the code
    and then copy the hex file onto your micro:bit. If you get stuck, head back to
    “Programming the Micro:bit” on [page 11](ch01.xhtml#page_11), where we discuss
    the process of getting programs onto your micro:bit in full.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问 *[https://github.com/simonmonk/mbms/](https://github.com/simonmonk/mbms/)*
    并点击 **Magic Mirror** 链接。点击 **下载** 下载代码，然后将 hex 文件复制到你的 micro:bit 上。如果遇到问题，请返回[第11页](ch01.xhtml#page_11)的“编程
    micro:bit”部分，在那里我们详细讨论了如何将程序上传到 micro:bit。
- en: If you prefer to use Python, then download the code from the same website. For
    instructions for downloading and using the book’s examples, see “Downloading the
    Code” on [page 34](ch01.xhtml#page_34). The Python file for this project is *ch_03_Magic_Mirror.py*.
  id: totrans-122
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你更喜欢使用 Python，那么可以从同一个网站下载代码。关于如何下载并使用本书中的示例，参见[第34页](ch01.xhtml#page_34)中的“下载代码”。这个项目的
    Python 文件是 *ch_03_Magic_Mirror.py*。
- en: Once you’ve loaded the program onto your micro:bit, you should see LEDs blink
    on and off at random.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦你将程序加载到 micro:bit 上，你应该能看到 LED 灯带随即随机闪烁。
- en: '[Figure 3-11](ch03.xhtml#ch3fig11) shows how the infinity mirror is constructed
    from the picture frame.'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[图 3-11](ch03.xhtml#ch3fig11) 展示了如何从相框构建无尽镜。'
- en: '![Image](../images/03fig11.jpg)'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图片](../images/03fig11.jpg)'
- en: '*Figure 3-11: How the infinity mirror is constructed*'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-11：无限镜的构造方式*'
- en: The following steps will lead you through this part of the project build.
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 以下步骤将指导你完成这个部分的项目构建。
- en: Take the photo frame apart and remove the plastic insert. Using a craft knife,
    carefully cut out a slot in one corner of the insert, as shown in [Figure 3-12](ch03.xhtml#ch3fig12),
    for the cables to the LED strip to go through.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 拆开相框并取出塑料插入件。使用工艺刀，小心地在插入件的一个角落切出一个槽，正如[图 3-12](ch03.xhtml#ch3fig12)所示，供 LED
    条带的电缆通过。
- en: '**WARNING** *Craft knives can be very sharp, so be careful and ask an adult
    for help.*'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '**警告** *工艺刀非常锋利，因此请小心使用，并请求成人帮助。*'
- en: '![Image](../images/03fig12.jpg)'
  id: totrans-130
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图片](../images/03fig12.jpg)'
- en: '*Figure 3-12: Cutting a groove for the wires in the plastic insert*'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-12：在塑料插入件上切割电线槽*'
- en: Without removing the backing tape, lay the LED strip around the edge of the
    plastic insert. If it’s not long enough, you can stretch it across the corners,
    as shown in [Figure 3-13](ch03.xhtml#ch3fig13). When you’ve made sure it fits,
    peel off the backing film and fix the LED strip to the inside of the insert.![Image](../images/03fig13.jpg)
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在不去掉背胶的情况下，将 LED 条带放置在塑料插入件的边缘。如果条带不够长，你可以将其拉伸过角落，正如[图 3-13](ch03.xhtml#ch3fig13)所示。确保它合适后，撕下背胶膜并将
    LED 条带固定在插入件的内侧。![图片](../images/03fig13.jpg)
- en: '*Figure 3-13: Attaching the LED strip to the plastic insert*'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-13：将 LED 条带固定到塑料插入件上*'
- en: Now set the insert aside. The next step is to attach the reflective film to
    the glass. Carefully remove the frame’s glass and wash it in soapy water. Dry
    one side and set it down with the wet side up.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在将插入件放到一旁。下一步是将反射膜附着到玻璃上。小心地取下框架的玻璃并用肥皂水清洗。擦干一面，并将其湿面朝上放下。
- en: Pick up the reflective film. There will be a backing sheet of transparent plastic
    on the adhesive side of the film. To separate this thin transparent layer, put
    adhesive tape on both sides of the film and pull apart ([Figure 3-14](ch03.xhtml#ch3fig14)).
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 拿起反射膜。膜的粘性面上会有一层透明塑料背纸。要分离这层薄透明层，可以在膜的两侧贴上胶带并将其拉开（[图 3-14](ch03.xhtml#ch3fig14)）。
- en: '![Image](../images/03fig14.jpg)'
  id: totrans-136
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图片](../images/03fig14.jpg)'
- en: '*Figure 3-14: Removing the plastic backing from the reflective window film*'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-14：去除反射窗膜的塑料背纸*'
- en: Place the reflective film adhesive side down onto the wet glass. Using a plastic
    card or ruler, push the bubbles between the film and glass to the edge of the
    glass to remove them ([Figure 3-15](ch03.xhtml#ch3fig15)).
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将反射膜的粘性面朝下放置在湿玻璃上。使用塑料卡片或尺子，将膜与玻璃之间的气泡推到玻璃边缘以去除它们（[图 3-15](ch03.xhtml#ch3fig15)）。
- en: '![Image](../images/03fig15.jpg)'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![图片](../images/03fig15.jpg)'
- en: '*Figure 3-15: Removing bubbles from the reflective window film*'
  id: totrans-140
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-15：去除反射窗膜上的气泡*'
- en: Let the film dry for about an hour. Then flip the glass over and use a craft
    knife to trim the film to the same size as the glass ([Figure 3-16](ch03.xhtml#ch3fig16)).![Image](../images/03fig16.jpg)
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让膜干燥大约一小时。然后将玻璃翻转过来，使用工艺刀将膜修剪成与玻璃相同的大小（[图 3-16](ch03.xhtml#ch3fig16)）。![图片](../images/03fig16.jpg)
- en: '*Figure 3-16: Trimming the reflective window film*'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-16：修剪反射窗膜*'
- en: Lay the backboard of the frame on your second piece of reflective film and cut
    the film to the same size as the backing frame ([Figure 3-17](ch03.xhtml#ch3fig17)).
    You don’t need to remove the protective film or stick the film to the board unless
    the film does not lie flat when you put the frame back together.![Image](../images/03fig17.jpg)
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将框架的背板放在第二块反射膜上，并将膜剪裁成与背板框架相同的大小（[图 3-17](ch03.xhtml#ch3fig17)）。除非膜在重新组装框架时无法平整地贴合，否则不需要去除保护膜或将膜粘贴到背板上。![图片](../images/03fig17.jpg)
- en: '*Figure 3-17: Trimming the reflective window film for the backboard*'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-17：为背板修剪反射窗膜*'
- en: Now it’s time to assemble the frame.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在是时候组装框架了。
- en: Put the glass back into the frame with the glass side facing out. This will
    protect the film and make the mirror look better ([Figure 3-18a](ch03.xhtml#ch3fig18)).
    If your picture frame included a thin piece of cardboard meant to be used with
    a smaller print, you can insert this after the glass.
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 将玻璃放回框架中，玻璃面朝外。这样可以保护膜并使镜面效果更佳（[图 3-18a](ch03.xhtml#ch3fig18)）。如果你的相框里有一张薄纸板是为了配合更小的照片使用的，你可以在玻璃后面放入这块纸板。
- en: Next, put the plastic insert back into the frame, allowing the cable to escape
    through one corner ([Figure 3-18b](ch03.xhtml#ch3fig18)). If the insert has a
    wider flat side designed to support the photo, this should face away from the
    glass.
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 接下来，将塑料插入物放回框架中，让电缆从一角穿出（见[图 3-18b](ch03.xhtml#ch3fig18)）。如果插入物有一个较宽的平面设计来支撑照片，应确保平面面朝外，远离玻璃。
- en: Finally, place the cardboard back onto the frame, allowing the cable to escape
    through one corner ([Figure 3-18c](ch03.xhtml#ch3fig18)). Fix the back in place
    and flip the finished frame over ([Figure 3-18d](ch03.xhtml#ch3fig18)).
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 最后，将纸板放回框架上，让电缆从一角穿出（见[图 3-18c](ch03.xhtml#ch3fig18)）。固定背板，并将完成的框架翻转过来（见[图 3-18d](ch03.xhtml#ch3fig18)）。
- en: '![Image](../images/03fig18.jpg)'
  id: totrans-149
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![Image](../images/03fig18.jpg)'
- en: '*Figure 3-18: Reassembling the frame*'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*图 3-18：重新组装框架*'
- en: Reattach your micro:bit, and your magic mirror should spring into life.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新连接你的 micro:bit，魔镜应该开始运行。
- en: '**Code**'
  id: totrans-152
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**代码**'
- en: We want to program the LEDs to blink on and off at random. To do this, the code
    picks one of the LEDs at random, then generates a random color and sets the LED
    to that color.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 我们希望编程使 LED 随机闪烁。为此，代码会随机选择一个 LED，然后生成一个随机颜色并将该颜色设置为该 LED 的颜色。
- en: '**Blocks Code**'
  id: totrans-154
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**Blocks 代码**'
- en: Here is the Blocks code for the project.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是该项目的 Blocks 代码。
- en: '![Image](../images/f0082-01.jpg)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/f0082-01.jpg)'
- en: When using addressable LEDs (called NeoPixels in the Blocks code), you need
    to assign the `NeoPixel at` block to a variable, which we have called `leds`,
    in your `on start` block. You must supply the `NeoPixel at` block with the pin
    used to control the LEDs. In this case, we’ll use pin P0\. Then specify the number
    of LEDs on the strip, which is 30 in our case. Finally, tell `NeoPixel at` how
    to define the colors. In this case, that’s the standard RGB format.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用可寻址的 LED（在 Blocks 代码中称为 NeoPixels）时，你需要将 `NeoPixel at` 块赋值给一个变量，在此我们称之为 `leds`，并将其放入
    `on start` 块中。你必须为 `NeoPixel at` 块提供控制 LED 的引脚。在此案例中，我们使用引脚 P0。然后指定 LED 条上的 LED
    数量，我们这里是 30 个。最后，告诉 `NeoPixel at` 如何定义颜色。在此案例中，颜色使用标准的 RGB 格式。
- en: We again use a `forever` block to keep this code running continuously. In the
    `forever` block, we start by generating a random number between 0 and 29 using
    the `pick random` block and assign this number to the variable `led`. This selects
    one of the LEDs. The `color` variable is then assigned random amounts (between
    0 and 255) of red, green, and blue.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 我们再次使用 `forever` 块来使代码不断运行。在 `forever` 块中，我们首先使用 `pick random` 块生成一个 0 到 29
    之间的随机数字，并将其分配给变量 `led`。这会随机选择一个 LED。然后，将 `color` 变量赋值为随机的红色、绿色和蓝色值（范围为 0 到 255）。
- en: The `show` block updates the LED strip with the change we’ve just made.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '`show` 块会更新 LED 条以反映我们刚刚做出的更改。'
- en: Try experimenting with the code to change the LED colors.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试修改代码来改变 LED 颜色。
- en: '**MicroPython Code**'
  id: totrans-161
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**MicroPython 代码**'
- en: Here’s the MicroPython version of the code.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 这是代码的 MicroPython 版本。
- en: from microbit import *
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: from microbit import *
- en: import neopixel, random
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: import neopixel, random
- en: leds = neopixel.NeoPixel(pin0, 30)
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: leds = neopixel.NeoPixel(pin0, 30)
- en: 'while True:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 'while True:'
- en: led = random.randint(0, 29)
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: led = random.randint(0, 29)
- en: color = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: color = (random.randint(0, 255), random.randint(0, 255), random.randint(0, 255))
- en: leds[led] = color
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: leds[led] = color
- en: leds.show()
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: leds.show()
- en: sleep(5)
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: sleep(5)
- en: This code works in much the same way as the Blocks version. Notice that you
    have to include the neopixel and random libraries at the top of the program so
    that you can access the LED strip and generate the random numbers.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码与 Blocks 版本的工作原理非常相似。请注意，程序顶部需要包含 neopixel 和 random 库，以便访问 LED 条并生成随机数字。
- en: The MicroPython neopixel library first defines the LED strip as using pin 0,
    which is the micro:bit pin we attached it to, and having a length of 30 LEDs.
    It does this using the command `leds = neopixel.NeoPixel(pin0, 30)`.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: MicroPython 的 neopixel 库首先将 LED 条定义为使用 pin 0，这就是我们将其连接到的 micro:bit 引脚，并且长度为
    30 个 LED。它通过命令 `leds = neopixel.NeoPixel(pin0, 30)` 来完成这个定义。
- en: The `while` loop then does the same job as the `forever` block in the Blocks
    version, picking an LED at random and setting it to a random color.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，`while` 循环执行与 Blocks 版本中的 `forever` 块相同的操作，随机选择一个 LED 并将其设置为随机颜色。
- en: '**How It Works**'
  id: totrans-175
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '**原理**'
- en: '[Figure 3-19](ch03.xhtml#ch3fig19) shows how the infinity mirror works.'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 3-19](ch03.xhtml#ch3fig19) 展示了无限镜像是如何工作的。'
- en: '![Image](../images/03fig19.jpg)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![Image](../images/03fig19.jpg)'
- en: '*Figure 3-19: Light bouncing around in the infinity mirror project*'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 3-19：光线在无限镜像项目中反弹*'
- en: Light from the LEDs heads off in all directions (A in [Figure 3-19](ch03.xhtml#ch3fig19)).
    Some of that light travels up, toward the front of the frame. The mirror film
    reflects some—but not all—of this light back down to the mirror at the back of
    the frame (B). The rest of the light escapes from the frame (C), and some of it
    finds its way to the back of your eye, where it forms an image.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 来自LED的光朝四面八方传播（见[图3-19](ch03.xhtml#ch3fig19)中的A）。其中一些光向上传播，朝画框的前方。镜面薄膜将其中一部分光反射回到画框后部的镜子（B）。剩余的光逃出画框（C），其中一些光会进入你的眼睛后部，在那里形成影像。
- en: Meanwhile, some of the light that found its way down to the mirror (B) will
    bounce back up toward the front glass again (D). Some of this light will escape
    the picture frame entirely and find its way to your eye, and the rest will perform
    yet another bounce. It’s this bouncing back and forth of the light that causes
    an endless succession of LEDs to seem to disappear into the mirror, getting dimmer
    each time a proportion of the light is lost.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 与此同时，一些射向镜子（B）的光会再次反射向前玻璃（D）。其中一部分光将完全从画框中逃逸，并进入你的眼睛，剩余的光将进行另一次反射。正是这种光的来回反射，导致LED灯看似不断消失在镜子中，每次都会因部分光线丧失而变得越来越暗。
- en: '**SUMMARY**'
  id: totrans-181
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**总结**'
- en: In this chapter, you have learned how to both measure and make light with your
    micro:bit. In [Chapter 4](ch04.xhtml#ch04), the Mad Scientist turns their attention
    to magnetism.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你已经学会了如何用你的micro:bit进行光的测量和产生。在[第4章](ch04.xhtml#ch04)中，疯狂科学家将注意力转向磁性。
