<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en">
<head>
<title>Chapter 15: System UI and Launcher</title>
<link href="NSTemplate_v1.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:c2f206e1-36e8-4f89-b533-508263d6ec16" name="Adept.expected.resource"/>
</head>
<body epub:type="bodymatter chapter">
<section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" id="Page_151" title="151"/>15</span><br/>
<span class="ChapterTitle">System UI and Launcher</span></h1>
</header>
<p class="ChapterIntro"><span class="dropCap">T</span>he system UI of Android is the set of all of the visual elements that the user interacts with on the screen outside of apps, including things like the navigation bar, the notification panel, the status bar, the lock screen, and the launcher.</p>
<p>In the early days on the team, all of this work happened in the overall framework team, which consisted of just a small handful of people. Functionality like the status bar, lock screen, and launcher were written by people who were also writing core framework and UI toolkit code.<sup class="FootnoteReference"><a href="#c15-footnote-1" id="c15-footnoteref-1">1</a></sup> This was an efficient way to handle the different pieces, because the same people who were writing these pieces were also writing the platform features that were needed, so they could implement everything they needed on both sides of the problem. On the other hand, it also meant that they were all incredibly busy.</p>
<h2 id="h1-502680c15-0001">Launcher</h2>
<p class="BodyFirst">In the run up to 1.0, in 2008, launcher (the home screen app responsible for viewing and launching applications) was just another implementation detail of the UI toolkit. Mike Cleron, the original developer on the UI toolkit team, worked on launcher before passing it on to Romain Guy. Romain <span epub:type="pagebreak" id="Page_152" title="152"/>continued to own and improve the app for several releases,<sup class="FootnoteReference"><a href="#c15-footnote-2" id="c15-footnoteref-2">2</a></sup> in addition to the rest of the UI toolkit work he was responsible for.</p>
<p>One of the ongoing projects that Romain worked on for launcher (and for the rest of the system) was performance. Romain remembered the constraint that Steve Horowitz gave him: “Launcher needed to cold-start<sup class="FootnoteReference"><a href="#c15-footnote-3" id="c15-footnoteref-3">3</a></sup> in half a second. Launcher has to go peek at every apk<sup class="FootnoteReference"><a href="#c15-footnote-4" id="c15-footnoteref-4">4</a></sup> and load the icons and strings, so there was a lot of multi-threaded code and batching and deferring updates on the UI thread.”</p>
<p>Romain was also constantly adding features to launcher, like folders for organizing application icons, and application widgets, and shortcuts (icons on the home screen), and a parallax effect between the wallpaper background and the pages of the home screen.</p>
<p>Later on, for the launch of the Nexus One, Andy Rubin wanted something visually exciting. Joe Onorato explained: “For Eclair, Rubin wanted something flashy.” Andy was light on specifics; Joe remembered him saying, “Just do something cool.” In the two months that they had, they wrote a new launcher using the 3D capabilities of the new device. “GL was just starting to work well enough, so we did that 3D launcher.”</p>
<p>The 3D launcher was a special effect in the all apps screen that lasted for several releases. The user saw a normal 2D grid of applications, but as they scrolled the list up and down, the top and bottom edges faded away into the distance like a <em>Star Wars</em> intro-text effect. It was subtle but powerful, hinting at the 3D power behind the system (and the potentially large number of apps on the system), but without being too ostentatious or difficult to navigate.</p>
<span epub:type="pagebreak" id="Page_153" title="153"/><figure>
<img alt="" class="" src="image_fi/502680c15/f15001.png"/>
<figcaption><p>The Nexus One all apps screen had a 3D effect that showed the top and bottom of the apps list scrolling away into the distance.</p></figcaption>
</figure>
<h2 id="h1-502680c15-0002">Notifications</h2>
<p class="BodyFirst">Years ago, before the age of smartphones, I frequently missed or was late for various meetings. I used a calendar app on my PC, but it was better at telling me when I had missed an appointment than when I was about to miss one. I remember wishing for a way to be notified about these events in real time, so that I could stop missing them.<sup class="FootnoteReference"><a href="#c15-footnote-5" id="c15-footnoteref-5">5</a></sup> </p>
<p>This connection between the digital data in our lives and timely updates for that data was finally made through notifications on our smartphones. Of course, these updates go way beyond calendar events to email messages, texts, and a plethora of other updates from the various applications and services on our phones.</p>
<p>One of Android’s unique and powerful features, since the very beginning, was its system of notifications, alerting the user to information from their installed applications, even if they weren’t using those applications at the time. </p>
<p><span epub:type="pagebreak" id="Page_154" title="154"/>Before smartphones, notifications were simpler (and less useful). Early data devices, like the Palm Pilot PDAs, had alert features in calendar and alarm apps. The user could configure these applications to play a noise, show a dialog, or illuminate an LED. Alerts of this sort were therefore limited to things the user thought to enter. All of the data on the device was created and synced by the user; there wasn’t information coming out of the ether onto the device.
But once devices started connecting to the internet, new information, including email, messages, and even new calendar appointments, could land on the device asynchronously, and the user had to be told. Thus the need, and solution, for notifications was born. Dan Sandler, who joined Android in 2009 and led the system UI team, said, “The Danger Hiptop/Sidekick device took a tentative step forward in the state of the art on user alerts, with its rainbow notification light under the scroll wheel that could be used for SMS and new emails. Android would pick that ball up and run very, very far with it.”</p>
<p>There has always been a tension between apps and the operating system. Every app assumes that it’s the most important thing in a user’s life, so obviously the user wants to know everything possible from that app at all times. The user, meanwhile, might be surprised and annoyed to receive a notification from a game they just installed informing them that there’s a new level available. Part of the job of the system UI team over the years has been to provide limits for the applications to obey, as well as tools for the users to be able to mute overly chatty applications. In fact, part of the job of the operating system itself is, as Dan explained, “to provide limits for applications. Usually this is about shared resources on the device, like files, CPU time, and networking. With notifications, Android added the user’s attention to the set of things that the operating system mediated.”</p>
<p>Dianne Hackborn implemented the first notification system; icons appeared in the status bar at the top of the screen to alert users that there was information available in these other applications. Then Dianne and Joe Onorato worked on the Notification Panel, which the user pulled down from the top of the screen to display more information for the notifications. Users could tap on an item in the panel, which launched that application so that the user could see that new email, read the new text message, and so on. <span epub:type="pagebreak" id="Page_155" title="155"/>Joe explained, “[Dianne] did the first pull-down. But I spent a bunch of time making its physics work.”<sup class="FootnoteReference"><a href="#c15-footnote-6" id="c15-footnoteref-6">6</a></sup></p>
<p>Ed Heyl said, “I remember Joe, over the weekend, worked and worked and worked, and he finally got it working. He’s walking around the office showing everybody, ‘Look, what do you think about this? Watch, you just go like this, and you pull down and it shows you stuff, and then just goes away.’”</p>
<figure>
<img alt="" class="" src="image_fi/502680c15/f15002.png"/>
<figcaption><p>This is what notifications looked like in early versions of Android. The notification shade pulls down from the top of the screen to show current alerts for the user from all of their applications.</p></figcaption>
</figure>
<p>Notifications were acknowledged to be something that distinguished Android from the other players in the smartphone market from day one. In the article “Android: A 10-Year Visual History”<sup class="FootnoteReference"><a href="#c15-footnote-7" id="c15-footnoteref-7">7</a></sup> <em>The Verge</em> had this to say: “It was almost universally acknowledged that Android nailed the notification system on day one. It would take iOS another three years before launching a design as effective at triaging messages and alerts coming from users’ <span epub:type="pagebreak" id="Page_156" title="156"/>ever-growing collection of mobile apps. The secret was in the G1’s unique status bar, which could be dragged downward to reveal every notification in a single list: text messages, voicemails, alarms, and so on. The fundamental concept lives on (in a refined form) to today’s latest version of Android.”</p>
<h2 id="h1-502680c15-0003">Live Wallpapers</h2>
<p class="BodyFirst">Android 1.0 shipped with a feature called <em>Wallpapers</em>, which allowed users to choose a picture to serve as the background of the home screen in the launcher. Wallpapers were a great way to show off, and personalize, a smartphone’s large display.</p>
<p>But Andy wanted something new and special for the Nexus One, which was launching with the Eclair 2.1 release in January of 2010. He asked for a feature called <em>Live Wallpapers</em>. Since smartphones offered not just a large screen, but also a powerful computer behind that screen, wouldn’t it be nice to use the computer to enable rich graphical experiences that moved and entertained?</p>
<p>So Andy asked the framework team to make it happen. Dianne Hackborn and Joe Onorato worked on the underlying system and Romain and others worked on the actual wallpapers, coming up with the designs, the overall look, and the actual functionality for the first set of them.</p>
<p>They had five weeks to make it happen.</p>
<p>Andy had originally asked that the wallpapers be implemented in Processing, a graphics rendering system. This was a great idea in terms of functionality, but when Romain got it working on Android, he saw that it wasn’t going to be fast enough for mobile phones. With an animation rate of only one frame per second, the wallpapers were more Dead than Live. So Romain found a different way to make them work.</p>
<p>Jason Sams (a graphics engineer on the team who had also worked at Be and PalmSource with Mathias, Dianne, Joe, and others) had been working on a low-level graphics system at the time called RenderScript, which allowed applications to take advantage of both the CPU and the GPU for drawing graphics quickly. Romain used RenderScript to achieve fluid animation for the wallpapers that needed it, and ended up writing these four wallpapers for the release:</p>
<ul>
<li><span epub:type="pagebreak" id="Page_157" title="157"/>Grass, which showed blades of grass gently swaying against a backdrop of sky, whose color changed according to the time of day where the phone was located.</li>
<li>Leaves, which showed leaves falling on water, creating ripples on the surface. This was a team effort, with Mike Cleron wrapping a ripple effect (originally written by Mathias Agopian . . . or it might have been Jason Sams) into a wallpaper, adding pictures he took<sup class="FootnoteReference"><a href="#c15-footnote-8" id="c15-footnoteref-8">8</a></sup> of leaves from a Japanese maple in his yard.</li>
<li>Galaxy, which showed a “3D”<sup class="FootnoteReference"><a href="#c15-footnote-9" id="c15-footnoteref-9">9</a></sup> view of the universe, with a massive star field rotating around the center.</li>
<li>Polar Clock, which showed the time in a more visually interesting way.</li>
</ul>
<figure>
<img alt="" class="" src="image_fi/502680c15/f15003.png"/>
<figcaption><p>Four of the Live Wallpapers that launched with the Nexus One: Particles, Galaxy, Grass, and Leaves (picture courtesy the Android Developers Blog, February 5, 2010)</p></figcaption>
</figure>
<p>In addition to these wallpapers, Mike Cleron wrote one called Particles, and Marco Nelissen (who worked on audio for the platform) wrote three wallpapers including two sound visualizers.</p>
<p><span epub:type="pagebreak" id="Page_158" title="158"/>At the end of the five week period, the team had a fully functional Live Wallpaper system, including an API that external developers could use to write their own. Sadly, Romain was only able to invent, design, prototype, and implement four wallpapers in that five-week period, and the team launched the device with fewer than the ten wallpapers that Andy had requested.</p>
<h2 id="h1-502680c15-0004">The Face of Android</h2>
<p class="BodyFirst">Android’s system UI provides the graphical functionality that allows a user to control their device. From logging in, to timely notifications, to navigating around the UI, to launching apps, the system UI is the first app-like thing that the user interacts with on their device. It allows users to get to the functionality and information they need, which is what their smartphone is all about.</p>
<figure>
<img alt="" class="" src="image_fi/502680c15/f15004.png"/>
<figcaption><p>Dan Sandler sent me this drawing, saying, “After I described System UI as ‘the face of Android’ one too many times, I created this unofficial logo . . . which most of the team is horrified by.”</p></figcaption>
</figure>
</section>
<section class="footnotes">
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-1" id="c15-footnote-1">1.</a></sup>  In fact, there wasn’t even a name for this collection of things. Dan Sandler said that when he arrived on the team in mid-2009 they were all just individual pieces. He and Joe Onorato gave this collection of pieces the name System UI, which seems to have stuck.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-2" id="c15-footnote-2">2.</a></sup>  Finally, in mid-2010, the launcher was given a dedicated team, after Google acquired the company BumpTop and assigned most of those engineers to work on the launcher.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-3" id="c15-footnote-3">3.</a></sup>  <em>Cold-start</em> means that it is the first time the application is being launched since reboot. It is the worst-case scenario for an application, where it has to load in everything to start up. A <em>warm start</em>, on the other hand, benefits from the application still running in the background, so much of it is still in memory and startup is therefore much faster.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-4" id="c15-footnote-4">4.</a></sup>  Apk, or Android Package, is the file format of an Android app. It contains all of the code, images, text, and anything else the app needs to launch and run. Developers build their source code into an apk file, which is uploaded to the Play Store and then downloaded by users onto their devices.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-5" id="c15-footnote-5">5.</a></sup>  Or so that I could at least choose the ones I wanted to miss.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-6" id="c15-footnote-6">6.</a></sup>  One of the things that Joe had to figure out was how to make the panel move smoothly in and out, which was difficult on such limited hardware. The trick was to pre-allocate three entire windows in the system to the different pieces that the panel needed: the background, the items, and the status bar. Even when the panel wasn’t showing, it was still taking up these precious resources just so that when it was needed, the user wasn’t disappointed by its appearance.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-7" id="c15-footnote-7">7.</a></sup>  <a class="LinkURL" href="https://www.theverge.com/2011/12/7/2585779/android-10th-anniversary-google-history-pie-oreo-nougat-cupcake">https://www.theverge.com/2011/12/7/2585779/android-10th-anniversary-google-history-pie-oreo-nougat-cupcake</a></p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-8" id="c15-footnote-8">8.</a></sup>  Mike, an accomplished photographer, said, “I needed some images quickly and did not want to go through a huge legal/copyright review.” I believe that many photography hobbies are started, or at least encouraged, because someone needs to use a simple picture for an application or a presentation, and the overhead of getting permission to use someone else’s work is too onerous or time-consuming for such a casual requirement.</p></aside>
<aside class="FootnoteEntry"><p><sup class="FootnoteReference"><a href="#c15-footnoteref-9" id="c15-footnote-9">9.</a></sup>  I put “3D” in quotes because the galaxy looked three-dimensional, but the graphics actually consisted of only 2D images. As Romain said, “That’s graphics for you: if it looks good, it is good.”</p></aside>
</section>
</body>
</html>