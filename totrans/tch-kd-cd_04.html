<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Loops Are Fun (You Can Say That Again)"><div class="titlepage"><div><div><h1 class="title"><a id="loops_are_fun_left_parenthesisyou_can_sa"/>Chapter 4. Loops Are Fun (You Can Say That Again)</h1></div></div></div><p><a id="iddle1526" class="indexterm"/>We’ve used loops since our very first program to draw repeating shapes. Now it’s time to learn how to build our own loops from scratch. Whenever we need to do something over and over again in a program, loops allow us to repeat those steps without having to type each one separately. <a class="xref" href="ch04.html#four-circle_rosette_pattern" title="Figure 4-1. A four-circle rosette pattern">Figure 4-1</a> shows a visual example—a rosette made up of four circles.</p><div class="figure"><a id="four-circle_rosette_pattern"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00042"/><img src="httpatomoreillycomsourcenostarchimages2188850.png.jpg" alt="A four-circle rosette pattern"/></div></div><p class="title">Figure 4-1. A four-circle rosette pattern</p></div><p><a id="iddle1142" class="indexterm"/><a id="iddle1825" class="indexterm"/><a id="iddle1826" class="indexterm"/>Let’s think about how we might write a program to draw four circles overlapping as shown. As you saw in <a class="xref" href="ch02.html" title="Chapter 2. Turtle Graphics: Drawing with Python">Chapter 2</a>, Turtle’s <code class="literal">circle()</code> command draws a circle with the radius we specify inside its parentheses. Those circles look like they’re at the north, south, east, and west of the screen, 90 degrees apart, and we know how to turn left or right 90 degrees. So we could write four pairs of statements to draw a circle, then turn 90 degrees, and then draw another circle, as in the following code. Type this into a new window and save it as <span class="emphasis"><em>Rosette.py</em></span>.</p><div class="sect1" title="Rosette.py"><div class="titlepage"><div><div><h1 class="title"><a id="rosettedotpy"/>Rosette.py</h1></div></div></div><a id="pro_id00026"/><pre class="programlisting"><span class="orange">import</span> turtle
t = turtle.Pen()
t.circle(100) <span class="red"># This makes our first circle (pointing north)</span>
t.left(90)    <span class="red"># Then the turtle turns left 90 degrees</span>
t.circle(100) <span class="red"># This makes our second circle (pointing west)</span>
t.left(90)    <span class="red"># Then the turtle turns left 90 degrees</span>
t.circle(100) <span class="red"># This makes our third circle (pointing south)</span>
t.left(90)    <span class="red"># Then the turtle turns left 90 degrees</span>
t.circle(100) <span class="red"># This makes our fourth circle (pointing east)</span></pre><p><a id="iddle1326" class="indexterm"/><a id="iddle1478" class="indexterm"/><a id="iddle1501" class="indexterm"/><a id="iddle1515" class="indexterm"/><a id="iddle1530" class="indexterm"/><a id="iddle1795" class="indexterm"/>This code works, but doesn’t it feel repetitive? We typed the code to draw a circle four times and the code to turn left three times. We know from our spiral examples that we should be able to write a chunk of code once and reuse that code in a <code class="literal">for</code> loop. In this chapter, we’re going to learn how to write those loops ourselves. Let’s try it now!</p></div><div class="sect1" title="Building Your Own for Loops"><div class="titlepage"><div><div><h1 class="title"><a id="building_your_own_for_loops"/>Building Your Own for Loops</h1></div></div></div><p>To build our own loop, we first need to identify the repeated steps. The instructions that we’re repeating in the preceding code are <code class="literal">t.circle(100)</code> to draw a turtle circle with a radius of 100 pixels and <code class="literal">t.left(90)</code> to turn the turtle left 90 degrees before drawing the next circle. Second, we need to figure out how many times to repeat those steps. We want four circles, so let’s start with four.</p><p>Now that we know the two repeated instructions and the number of times to draw the circle, it’s time to build our <code class="literal">for</code> loop.</p><p>A <code class="literal">for</code> loop in Python <span class="emphasis"><em>iterates over</em></span> a list of items, or repeats once for each item in a list—like the numbers 1 through 100, or 0 through 9. We want our loop to run four times—once for each circle—so we need to set up a list of four numbers.</p><div class="informalfigure"><a id="med_id00043a"/><div class="mediaobject"><a id="med_id00043"/><img src="httpatomoreillycomsourcenostarchimages2188854.png.jpg" alt="image with no caption"/></div></div><p>The built-in function <code class="literal">range()</code> allows us to easily create lists of numbers. The simplest command to construct a range of <span class="emphasis"><em>n</em></span> numbers is <code class="literal">range(n)</code>; this command will let us build a list of <span class="emphasis"><em>n</em></span> numbers from 0 to <span class="emphasis"><em>n</em></span> – 1 (from zero to one less than our number <span class="emphasis"><em>n</em></span>).</p><p>For example, <code class="literal">range(10)</code> allows us to create a list of the 10 numbers from 0 to 9. Let’s enter a few sample <code class="literal">range()</code> commands in the IDLE command prompt window to see how this works. To see our lists printed out, we’ll need to use the <code class="literal">list()</code> function around our range. At the <code class="literal">&gt;&gt;&gt;</code> prompt, enter this line of code:</p><a id="pro_id00027"/><pre class="programlisting"><span class="brown">&gt;&gt;&gt;</span> <span class="violet">list</span>(<span class="violet">range</span>(10))</pre><p>IDLE will give you the output <code class="literal">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code>: a list of 10 numbers, starting from 0. To get longer or shorter lists of <a id="iddle1433" class="indexterm"/><a id="iddle1446" class="indexterm"/><a id="iddle1818" class="indexterm"/>numbers, you can enter different numbers inside the parentheses of the <code class="literal">range()</code> function:</p><a id="pro_id00028"/><pre class="programlisting"><span class="brown">&gt;&gt;&gt;</span> <span class="violet">list</span>(<span class="violet">range</span>(3))
<span class="blue">[0, 1, 2]</span>
<span class="brown">&gt;&gt;&gt;</span> <span class="violet">list</span>(<span class="violet">range</span>(5))
<span class="blue">[0, 1, 2, 3, 4]</span></pre><p>As you can see, entering <code class="literal">list(range(3))</code> gives you a list of three numbers starting at 0, and entering <code class="literal">list(range(5))</code> gives you a list of five numbers starting at 0.</p><div class="sect2" title="Using a for Loop to Make a Rosette with Four Circles"><div class="titlepage"><div><div><h2 class="title"><a id="using_a_for_loop_to_make_a_rosette_with"/>Using a for Loop to Make a Rosette with Four Circles</h2></div></div></div><p>For our four-circle rosette shape, we need to repeat drawing a circle four times, and <code class="literal">range(4)</code> will help us do that. The syntax, or word order, of our <code class="literal">for</code> loop will look like this:</p><a id="pro_id00029"/><pre class="programlisting"><span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(4):</pre><p>We start with the keyword <code class="literal">for</code> and then we give a variable, <code class="literal">x</code>, that will be our counter or <span class="emphasis"><em>iterator</em></span> variable. The <code class="literal">in</code> keyword tells the <code class="literal">for</code> loop to step <code class="literal">x</code> through each of the values in the range list, and <code class="literal">range(4)</code> gives the loop a list of the numbers from 0 to 3, <code class="literal">[0,1,2,3]</code>, to step through. Remember that the computer usually starts counting from 0 instead of starting from 1 as we do.</p><p>To tell the computer which instructions are supposed to be repeated, we use <span class="emphasis"><em>indentation</em></span>; we indent each command that we want to repeat in the loop by pressing the TAB key in the new file window. Type this new version of our program and save it as <span class="emphasis"><em>Rosette4.py</em></span>.</p><div class="sect3" title="Rosette4.py"><div class="titlepage"><div><div><h3 class="title"><a id="rosette4dotpy"/>Rosette4.py</h3></div></div></div><a id="pro_id00030"/><pre class="programlisting"><span class="orange">import</span> turtle
t = turtle.Pen()
<span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(4):
    t.circle(100)
    t.left(90)</pre><p>This is a much shorter version of our <span class="emphasis"><em>Rosette.py</em></span> program, thanks to the <code class="literal">for</code> loop, yet it produces the same four circles as the version without the loop. This program loops through lines 3, <a id="iddle1143" class="indexterm"/><a id="iddle1502" class="indexterm"/>4, and 5 a total of four times, generating a rosette of four circles on the top, left, bottom, and right sides of our window. Let’s take a step-by-step look through the loop as it draws our rosette, one circle at a time.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The first time through the loop, our counter <code class="literal">x</code> has a starting value of <code class="literal">0</code>, the first value in the range list <code class="literal">[0, 1, 2, 3]</code>. We draw our first circle at the top of the window with <code class="literal">t.circle(100)</code> and then turn the turtle to the left by 90 degrees with <code class="literal">t.left(90)</code>.</p><div class="informalfigure"><a id="med_id00044a"/><div class="mediaobject"><a id="med_id00044"/><img src="httpatomoreillycomsourcenostarchimages2188857.png.jpg" alt="image with no caption"/></div></div></li><li class="listitem"><p>Python goes back to the beginning of the loop and sets <code class="literal">x</code> to <code class="literal">1</code>, the second value in <code class="literal">[0, 1, 2, 3]</code>. Then it draws the second circle on the left side of the window and turns the turtle left by 90 degrees.</p><div class="informalfigure"><a id="med_id00045a"/><div class="mediaobject"><a id="med_id00045"/><img src="httpatomoreillycomsourcenostarchimages2188859.png.jpg" alt="image with no caption"/></div></div></li><li class="listitem"><p>Python goes back through the loop again, increasing <code class="literal">x</code> to <code class="literal">2</code>. It draws the third circle at the bottom of the window and turns the turtle left.</p><div class="informalfigure"><a id="med_id00046a"/><div class="mediaobject"><a id="med_id00046"/><img src="httpatomoreillycomsourcenostarchimages2188861.png.jpg" alt="image with no caption"/></div></div></li><li class="listitem"><p>On the fourth and final time through the loop, Python increases <code class="literal">x</code> to <code class="literal">3</code>, then runs <code class="literal">t.circle(100)</code> and <code class="literal">t.left(90)</code> to draw our fourth circle on the right side of the window and turn the turtle. The rosette is now complete.</p><div class="informalfigure"><a id="med_id00047a"/><div class="mediaobject"><a id="med_id00047"/><img src="httpatomoreillycomsourcenostarchimages2188863.png.jpg" alt="image with no caption"/></div></div></li></ol></div></div></div><div class="sect2" title="Modifying Our for Loop to Make a Rosette with Six Circles"><div class="titlepage"><div><div><h2 class="title"><a id="modifying_our_for_loop_to_make_a_rosette"/>Modifying Our for Loop to Make a Rosette with Six Circles</h2></div></div></div><p><a id="iddle1796" class="indexterm"/><a id="iddle1819" class="indexterm"/>Now that we’ve built our own <code class="literal">for</code> loop together from scratch, could you modify the program on your own to draw something new? What if we wanted to draw a rosette with six circles instead of four? What might we need to change in our program? Take a moment to think about how you might solve this problem.</p><div class="informalfigure"><a id="med_id00048a"/><div class="mediaobject"><a id="med_id00048"/><img src="httpatomoreillycomsourcenostarchimages2188865.png.jpg" alt="image with no caption"/></div></div><p>* * *</p><p>Did you come up with some ideas? Let’s walk through the problem together. First, we know that we need six circles this time instead of four, so our range will need to change to <code class="literal">range(6)</code> in our <code class="literal">for</code> loop. But if we just change that, we’re not going to see any difference in our drawing, because we’ll continue to draw over the same four circles separated by 90 degrees. If we want six circles around the rosette, we’ll need to divide the rosette into six left turns instead of four. There are 360 degrees around the center of our drawing: four 90-degree turns took us 4 × 90 = 360 degrees all the way around. If we divide 360 by 6 instead of 4, we get 360 ÷ 6 = 60 degrees for each turn. So in our <code class="literal">t.left()</code> command, we need to turn left 60 degrees each time through the loop, or <code class="literal">t.left(60)</code>.</p><p>Modify your rosette program and save it as <span class="emphasis"><em>Rosette6.py</em></span>.</p><div class="sect3" title="Rosette6.py"><div class="titlepage"><div><div><h3 class="title"><a id="rosette6dotpy"/>Rosette6.py</h3></div></div></div><a id="pro_id00031"/><pre class="programlisting">   <span class="orange">import</span> turtle
   t = turtle.Pen()
➊ <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(<span class="strong"><strong>6</strong></span>):
➋     t.circle(100)
➌     t.left(<span class="strong"><strong>60</strong></span>)</pre><p>This time, the for loop statement in ➊ will step <code class="literal">x</code> through the list of six values from <code class="literal">0</code> to <code class="literal">5</code>, so we’ll repeat the indented steps ➋ <a id="iddle1543" class="indexterm"/><a id="iddle1609" class="indexterm"/><a id="iddle1797" class="indexterm"/><a id="iddle1820" class="indexterm"/><a id="iddle1992" class="indexterm"/>and ➌ six times each. At ➋, we’re still drawing a circle with a radius of <code class="literal">100</code>. At ➌, though, we’re turning only 60 degrees each turn, or one-sixth of 360 degrees, so we get six circles around the center of the screen this time, as shown in <a class="xref" href="ch04.html#rosette_of_six_circles" title="Figure 4-2. A rosette of six circles">Figure 4-2</a>.</p><div class="figure"><a id="rosette_of_six_circles"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00049"/><img src="httpatomoreillycomsourcenostarchimages2188867.png.jpg" alt="A rosette of six circles"/></div></div><p class="title">Figure 4-2. A rosette of six circles</p></div><p>The rosette with six circles is even prettier than the one with four circles, and thanks to our <code class="literal">for</code> loop, we didn’t have to write any more lines of code to get six circles than we did to get four—we just changed two numbers! Because we varied those two numbers, you may be tempted to replace them with a variable. Let’s give in to that temptation. Let’s give the user the power to draw a rosette with <span class="emphasis"><em>any</em></span> number of circles.</p></div></div></div><div class="sect1" title="Improving Our Rosette Program with User Input"><div class="titlepage"><div><div><h1 class="title"><a id="improving_our_rosette_program_with_user"/>Improving Our Rosette Program with User Input</h1></div></div></div><p>In this section, we’ll use the <code class="literal">turtle.numinput()</code> function that we saw in <a class="xref" href="ch03.html" title="Chapter 3. Numbers and Variables: Python Does the Math">Chapter 3</a> (see <a class="xref" href="ch03.html#colorspiralinputdotpy" title="ColorSpiralInput.py">ColorSpiralInput.py</a>) to write a program that asks the user to enter a number and then draws a rosette with that number of circles. We’ll set the user’s number as the size of our <code class="literal">range()</code> constructor. Then, all we have to do is divide <a id="iddle1474" class="indexterm"/><a id="iddle1597" class="indexterm"/><a id="iddle1822" class="indexterm"/>360 degrees by that number, and we’ll find the number of degrees to turn left each pass through the loop. Type and run the following code as <span class="emphasis"><em>RosetteGoneWild.py</em></span>:</p><div class="sect2" title="RosetteGoneWild.py"><div class="titlepage"><div><div><h2 class="title"><a id="rosettegonewilddotpy"/>RosetteGoneWild.py</h2></div></div></div><a id="pro_id00032"/><pre class="programlisting">   <span class="orange">import</span> turtle
   t = turtle.Pen()
   <span class="red"># Ask the user for the number of circles in their rosette, default to 6</span>
➊ number_of_circles = <span class="violet">int</span>(turtle.numinput(<span class="green">"Number of circles"</span>,
                                           <span class="green">"How many circles in your rosette?"</span>, 6))
➋ <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(number_of_circles):
➌     t.circle(100)
➍     t.left(360/number_of_circles)</pre><p>At ➊, we assign a variable called <code class="literal">number_of_circles</code> using a couple of functions together. We’re using Turtle’s <code class="literal">numinput()</code> function to ask the user how many circles to draw. The first value, <code class="literal">Number of circles</code>, is the pop-up window’s title; the second, <code class="literal">How many circles in your rosette?</code>, is the text that will appear in the box; and the last, <code class="literal">6</code>, is a default value in case the user doesn’t enter anything. The <code class="literal">int()</code> function outside <code class="literal">numinput()</code> turns the user’s number into an integer we can use in our <code class="literal">range()</code> function. We store the user’s number as <code class="literal">number_of_circles</code> to use as the size of the <code class="literal">range()</code> in our drawing loop.</p><p>The <code class="literal">for</code> statement at ➋ is our loop. It uses the <code class="literal">number_of_circles</code> variable to loop <code class="literal">x</code> through a list of that many numbers. The command to draw a circle is still the same at ➌ and will draw circles with a radius of 100 pixels. At ➍, we’re dividing a full turn of 360 degrees by the number of circles so we can draw the circles evenly spaced around the center of the screen. For example, if the user enters <code class="literal">30</code> as the number of circles, 360 ÷ 30 would give us a 12-degree turn between each of the 30 circles around our center point, as shown in <a class="xref" href="ch04.html#user-defined_rosette_of_30_circles" title="Figure 4-3. A user-defined rosette of 30 circles">Figure 4-3</a>.</p><div class="informalfigure"><a id="med_id00050a"/><div class="mediaobject"><a id="med_id00050"/><img src="httpatomoreillycomsourcenostarchimages2188869.png.jpg" alt="image with no caption"/></div></div><p><a id="iddle1355" class="indexterm"/><a id="iddle1539" class="indexterm"/><a id="iddle1823" class="indexterm"/>Run the program and try your own numbers. You can even make a rosette of 90 circles, or 200 (but you’ll be waiting a while as Python draws that many circles!). Customize the program to make it your own: change the background color or the rosette color, make the circles bigger or smaller, or make them bigger <span class="emphasis"><em>and</em></span> smaller! Play with your programs as you create them and as you think of fun things you’d like them to do. <a class="xref" href="ch04.html#little_imagination_and_a_touch_of_code_c" title="Figure 4-4. A little imagination and a touch of code can turn our rosette program into a lot of colorful fun!">Figure 4-4</a> shows what my five-year-old son, Alex, dreamed up by adding just three extra lines of code to <span class="emphasis"><em>RosetteGoneWild.py</em></span>. Go to <span class="emphasis"><em><a class="ulink" href="http://www.nostarch.com/teachkids/">http://www.nostarch.com/teachkids/</a></em></span> for the source code.</p><div class="figure"><a id="user-defined_rosette_of_30_circles"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00051"/><img src="httpatomoreillycomsourcenostarchimages2188871.png" alt="A user-defined rosette of 30 circles"/></div></div><p class="title">Figure 4-3. A user-defined rosette of 30 circles</p></div><div class="figure"><a id="little_imagination_and_a_touch_of_code_c"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00052"/><img src="httpatomoreillycomsourcenostarchimages2188873.png.jpg" alt="A little imagination and a touch of code can turn our rosette program into a lot of colorful fun!"/></div></div><p class="title">Figure 4-4. A little imagination and a touch of code can turn our rosette program into a lot of colorful fun!</p></div></div></div><div class="sect1" title="Game Loops and while Loops"><div class="titlepage"><div><div><h1 class="title"><a id="game_loops_and_while_loops"/>Game Loops and while Loops</h1></div></div></div><p>The <code class="literal">for</code> loop is powerful, but there are limits to its power. For instance, what if we wanted to stop our loop when some event occurred, instead of going all the way through a long list of numbers? Or what if we weren’t sure how many times to run our loop?</p><p>For example, consider a <span class="emphasis"><em>game loop</em></span>—when we write a program, especially a game, where the user gets to choose whether to keep playing or to quit. We, as programmers, can’t know in advance how many times users will choose to play our game or <a id="iddle1010" class="indexterm"/><a id="iddle1014" class="indexterm"/><a id="iddle1025" class="indexterm"/><a id="iddle1036" class="indexterm"/><a id="iddle1112" class="indexterm"/><a id="iddle1207" class="indexterm"/><a id="iddle1218" class="indexterm"/><a id="iddle1227" class="indexterm"/><a id="iddle1228" class="indexterm"/><a id="iddle1281" class="indexterm"/><a id="iddle1305" class="indexterm"/><a id="iddle1390" class="indexterm"/><a id="iddle1507" class="indexterm"/><a id="iddle1545" class="indexterm"/><a id="iddle1594" class="indexterm"/><a id="iddle1622" class="indexterm"/><a id="iddle2042" class="indexterm"/>run our program, but we need to give them the ability to play again without having to reload and run the program every time. Can you imagine if you had to restart an Xbox or PlayStation every time you wanted to play a game again, or if you always had to play a game exactly 10 times before moving on to a different one? That might make it less fun.</p><p>One way we solve the game loop problem is by using another type of loop, the <code class="literal">while</code> loop. Instead of iterating over a predefined list of values, as the <code class="literal">for</code> loop does, a <code class="literal">while</code> loop can check for a <span class="emphasis"><em>condition</em></span> or situation and decide whether to loop again or end the loop. The syntax of the <code class="literal">while</code> statement looks like this:</p><a id="pro_id00033"/><pre class="programlisting">while <span class="emphasis"><em>condition</em></span>:
   <span class="emphasis"><em>indented statement(s)</em></span></pre><p>The condition is usually a <a class="firstterm" href="apd.html#gloss01_009"><em class="firstterm">Boolean</em></a> expression, or true/false test. One everyday example of a <code class="literal">while</code> loop is eating and drinking. While you are hungry, you eat. When the answer to the question “Am I hungry?” is no longer yes, that means the condition “I am hungry” is no longer true, and you stop eating. While you are thirsty, you take another drink of water. When you stop feeling thirsty, you quit drinking. Hunger and thirst are conditions, and when those conditions become false, you exit the eating and drinking “loops.” A <code class="literal">while</code> loop continues repeating the statements in the loop (the indented statements) as long as the condition is true.</p><div class="informalfigure"><a id="med_id00053a"/><div class="mediaobject"><a id="med_id00053"/><img src="httpatomoreillycomsourcenostarchimages2188875.png.jpg" alt="image with no caption"/></div></div><p>The true/false conditions in <code class="literal">while</code> loops often involve comparing values. We might say, “Is the value of <code class="literal">x</code> bigger than 10? As long as it is, run this code. When <code class="literal">x</code> isn’t bigger than 10 anymore, stop running the code.” In other words, we run the code <a class="firstterm" href="apd.html#gloss01_050"><em class="firstterm">while</em></a> the condition <code class="literal">x &gt; 10</code> evaluates to <code class="literal">True</code>. The greater-than symbol (<code class="literal">&gt;</code>) is a <span class="emphasis"><em>comparison operator</em></span>, a different kind of operator from arithmetic operators like <code class="literal">+</code> (plus) and <code class="literal">–</code> (minus). Comparison operators—such as <code class="literal">&gt;</code> (greater than), <code class="literal">&lt;</code> (less than), <code class="literal">==</code> (equal to), or <code class="literal">!=</code> (not equal to)— let you compare two values to see <a id="iddle1676" class="indexterm"/><a id="iddle1839" class="indexterm"/>if one of them is greater or less than the other, or if they are equal or not equal. Is <code class="literal">x</code> less than 7? Yes or no? <code class="literal">True</code> or <code class="literal">False</code>? Based on the result, <code class="literal">True</code> or <code class="literal">False</code>, you can tell your program to run different pieces of code.</p><p>The <code class="literal">while</code> loop shares some features with the <code class="literal">for</code> loop. First, like the <code class="literal">for</code> loop, it repeats a set of statements over and over as needed. Second, with both <code class="literal">while</code> loops and <code class="literal">for</code> loops, we tell Python which statements to repeat by indenting them to the right with the TAB key.</p><p>Let’s try a program with a <code class="literal">while</code> loop to see it in action. Type the following code (or download it from <span class="emphasis"><em><a class="ulink" href="http://www.nostarch.com/teachkids/">http://www.nostarch.com/teachkids/</a></em></span>), and run it:</p><div class="sect2" title="SayOurNames.py"><div class="titlepage"><div><div><h2 class="title"><a id="sayournamesdotpy"/>SayOurNames.py</h2></div></div></div><a id="pro_id00034"/><pre class="programlisting">   <span class="red"># Ask the user for their name</span>
➊ name = <span class="violet">input</span>(<span class="green">"What is your name? "</span>)
   <span class="red"># Keep printing names until we want to quit</span>
➋ <span class="orange">while</span> name != <span class="green">""</span>:
       <span class="red"># Print their name 100 times</span>
➌     <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(100):
          <span class="red"># Print their name followed by a space, not a new line</span>
➍        <span class="violet">print</span>(name, end = <span class="green">" "</span>)
➎     <span class="violet">print</span>()  <span class="red"># After the for loop, skip down to the next line</span>
       <span class="red"># Ask for another name, or quit</span>
➏     name = <span class="violet">input</span>(<span class="green">"Type another name, or just hit [ENTER] to quit: "</span>)
➐ <span class="violet">print</span>(<span class="green">"Thanks for playing!"</span>)</pre><p>We begin the program by asking the user their name at ➊ and storing their answer in the variable <code class="literal">name</code>. We need a name to test as the condition of our <code class="literal">while</code> loop, so we have to ask once <span class="emphasis"><em>before</em></span> the loop starts. Then, at ➋, we start our <code class="literal">while</code> loop, which will run as long as the name the user enters is not an empty string (represented by two double quotes with nothing between them: <code class="literal">""</code>). The empty string is what Python sees as the input when the user presses ENTER to quit.</p><p>At ➌, we start our <code class="literal">for</code> loop, which will print the name 100 times, and at ➍, we tell the <code class="literal">print()</code> statement to print a space after the name each time. We’ll keep going back to ➌ and checking to see if <code class="literal">x</code> has reached 100, then printing at ➍ until the name fills a few lines of the screen. When our <code class="literal">for</code> loop has finished printing the name 100 times, we print a blank line without a space ➎, moving the printout down to the next clear line. Then, it’s time to ask for another name ➏.</p><p><a id="iddle1840" class="indexterm"/>Because ➏ is the last line indented under the <code class="literal">while</code> loop ➋, the new name that the user enters is passed back up to ➋ so the <code class="literal">while</code> loop can check whether it’s an empty string. If it’s not empty, our program will start the <code class="literal">for</code> loop to print the new name 100 times. If the name is an empty string, that means the user pressed ENTER to end the program, so the <code class="literal">while</code> loop at ➋ skips down to ➐, and we thank the user for playing. <a class="xref" href="ch04.html#my_sons_ran_sayournamesdotpy_and_put_in" title="Figure 4-5. My sons ran SayOurNames.py and put in the names of everyone in our family!">Figure 4-5</a> shows the output of the program when my sons ran it.</p><div class="figure"><a id="my_sons_ran_sayournamesdotpy_and_put_in"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00054"/><img src="httpatomoreillycomsourcenostarchimages2188877.png.jpg" alt="My sons ran SayOurNames.py and put in the names of everyone in our family!"/></div></div><p class="title">Figure 4-5. My sons ran <span class="emphasis"><em>SayOurNames.py</em></span> and put in the names of everyone in our family!</p></div></div></div><div class="sect1" title="The Family Spiral"><div class="titlepage"><div><div><h1 class="title"><a id="family_spiral"/>The Family Spiral</h1></div></div></div><p>Now that we can ask for a list of names and print them to the screen, let’s combine the name printer loop with one of our programs from <a class="xref" href="ch03.html" title="Chapter 3. Numbers and Variables: Python Does the Math">Chapter 3</a>, in <a class="xref" href="ch03.html#spiralmynamedotpy" title="SpiralMyName.py">SpiralMyName.py</a>, to create a colorful spiral of our family’s or friends’ names.</p><p>Our new, combined program will be different from the name repeater in <span class="emphasis"><em>SayOurNames.py</em></span> in a few ways, but the most important <a id="iddle1078" class="indexterm"/><a id="iddle1327" class="indexterm"/><a id="iddle1531" class="indexterm"/><a id="iddle1546" class="indexterm"/><a id="iddle1911" class="indexterm"/><a id="iddle2043" class="indexterm"/>difference is that we can’t just print each name one by one; to draw our spiral, we need to have all the names at once so that we can draw each name in sequence as we wind around our spiral.</p><p>In <span class="emphasis"><em>SayOurNames.py</em></span>, we were able to ask for one name at a time, but for our graphical spiral name program, we’ll need to keep all of the names in a list, just as we do with our colors. Then, as we go around the loop, we can change the names and colors together at each corner of the spiral. To do this, we’ll set up an empty list:</p><a id="pro_id00035"/><pre class="programlisting">family = [] <span class="red"># Set up an empty list for family names</span></pre><p>Whenever we’ve made a list of colors in our programs, we’ve known the color names that we wanted to use, like red, yellow, blue, and so on. In our family list, though, we have to wait until the user enters the names. We use an empty list—a pair of square brackets, <code class="literal">[]</code>—to let Python know that we’re going to use a list called <code class="literal">family</code> but that we don’t know what will be in the list until the program runs.</p><p>Once we have an empty list, we can ask for names in a <code class="literal">while</code> loop like we did in <span class="emphasis"><em>SayOurNames.py</em></span>, and we will append those names to the list. To <a class="firstterm" href="apd.html#gloss01_004"><em class="firstterm">append</em></a> means to add items to the end of the list. In this program, the first name the user enters will be added to the empty list, the second name will be appended after the first, and so on. When the user has entered all the names they want in their spiral, they will press ENTER to tell the program that they’ve finished entering names. Then we’ll use a <code class="literal">for</code> loop to draw the names on the screen in a colorful spiral shape.</p><div class="informalfigure"><a id="med_id00055a"/><div class="mediaobject"><a id="med_id00055"/><img src="httpatomoreillycomsourcenostarchimages2188879.png.jpg" alt="image with no caption"/></div></div><p>Type and run the following code to see a <code class="literal">while</code> loop and a <code class="literal">for</code> loop do some beautiful work together:</p><div class="sect2" title="SpiralFamily.py"><div class="titlepage"><div><div><h2 class="title"><a id="spiralfamilydotpy"/>SpiralFamily.py</h2></div></div></div><a id="pro_id00036"/><pre class="programlisting">   <span class="orange">import</span> turtle     <span class="red"># Set up turtle graphics</span>
   t = turtle.Pen()
   turtle.bgcolor(<span class="green">"black"</span>)
   colors = [<span class="green">"red"</span>, <span class="green">"yellow"</span>, <span class="green">"blue"</span>, <span class="green">"green"</span>, <span class="green">"orange"</span>,
          <span class="green">"purple"</span>, <span class="green">"white"</span>, <span class="green">"brown"</span>, <span class="green">"gray"</span>, <span class="green">"pink"</span> ]
➊ family = []      <span class="red"># Set up an empty list for family names</span>
   <span class="red"># Ask for the first name</span>
➋ name = turtle.textinput(<span class="green">"My family"</span>,
                          <span class="green">"Enter a name, or just hit [ENTER] to end:"</span>)
   <span class="red"># Keep asking for names</span>
➌ <span class="orange">while</span> name != <span class="green">""</span>:
      <span class="red"># Add their name to the family list</span>
➍    family.append(name)
      <span class="red"># Ask for another name, or end</span>
      name = turtle.textinput("M<span class="green">y family",</span>
                          <span class="green">"Enter a name, or just hit [ENTER] to end:"</span>)
  <span class="red"># Draw a spiral of the names on the screen</span>
  <span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(100):
➎    t.pencolor(colors[x%len<span class="violet">(fa</span>mily)]) <span class="red"># Rotate through the colors</span>
➏    t.penup()                         <span class="red"># Don't draw the regular spiral lines</span>
➐    t.forward(x*4)                    <span class="red"># Just move the turtle on the screen</span>
➑    t.pendown()                       <span class="red"># Draw the next family member's name</span>
➒    t.write(family[x%len<span class="violet">(fa</span>mily)], font = ("Ar<span class="green">ial",</span> <span class="violet">int</span>((x+4)/4), <span class="green">"bold"</span>) )
➓    t.left(360/len<span class="violet">(fa</span>mily) + 2)       <span class="red"># Turn left for our spiral</span></pre><p><a id="iddle1077" class="indexterm"/><a id="iddle1504" class="indexterm"/><a id="iddle1647" class="indexterm"/><a id="iddle2003" class="indexterm"/>At ➊, we set up an empty list <code class="literal">[]</code> called <code class="literal">family</code> that will hold the names the user enters. At ➋, we ask for the first name in a <code class="literal">turtle.textinput</code> window and start the <code class="literal">while</code> loop to gather all the names in the family at ➌. The command to add a value to the end of a list is <code class="literal">append()</code>, shown at ➍. This takes the <code class="literal">name</code> the user entered and appends it to the list called <code class="literal">family</code>. We then ask for another name and keep repeating the <code class="literal">while</code> loop ➌ until the user presses ENTER to let us know they’re finished.</p><p>Our <code class="literal">for</code> loop starts out like previous spirals, but we use a new command at ➎ to set our pen color. The <code class="literal">len()</code> command is short for <span class="emphasis"><em>length</em></span> and tells us the length of the list of names stored in <code class="literal">family</code>. For example, if you entered four names for your family, <code class="literal">len(family)</code> would return <code class="literal">4</code>. We use the modulo operator, <code class="literal">%</code>, with this value to rotate through four colors, one for each name in <code class="literal">family</code>. Larger families would rotate through more colors (up to the 10 colors in our list), while smaller families would need fewer colors.</p><p>At ➏, we use the <code class="literal">penup()</code> command to “lift” the turtle’s pen off the screen so that when we move forward at ➐, the turtle won’t draw anything; we’ll be drawing names at the corners of the spiral, with no lines in between. At ➑, we put the turtle’s pen down again so that our names will be drawn.</p><p>At ➒, we’re doing a lot. First, we tell the turtle which name to draw. Notice that <code class="literal">family[x%len(family)]</code> uses the modulo operator, <code class="literal">%</code>, <a id="iddle1912" class="indexterm"/>to rotate through the names the user entered in the <code class="literal">family</code> list. The program will start with the first name entered, <code class="literal">family[0]</code>, and continue with <code class="literal">family[1]</code>, <code class="literal">family[2]</code>, and so on until it reaches the final name in the list. The <code class="literal">font =</code> portion of this statement tells the computer we want to use the Arial font, in bold style, for our names. It also sets the font size to grow as <code class="literal">x</code> grows; our font size of <code class="literal">(x+4)/4</code> means that when the loop finishes with <code class="literal">x = 100</code>, the font size will be (100 + 4) / 4 = 26-point font—a nice size. You can make the fonts bigger or smaller by changing this equation.</p><p>Finally, at ➓, we turn the turtle left by <code class="literal">360/len(family)</code> degrees plus <code class="literal">2</code>. For a family with four members, we would turn 90 degrees plus 2 for a nice square spiral; a family of six would get 60-degree turns plus 2 for a six-sided spiral, and so on. The extra 2 degrees make the spiral spin to the left a bit for the swirl effect we’ve seen in our other spirals. In <a class="xref" href="ch04.html#payne_family_spiralcomma_including_our_t" title="Figure 4-6. The Payne family spiral, including our two cats, Leo and Rocky">Figure 4-6</a>, we ran this program and entered our family’s names, including our two cats, Leo and Rocky, to get a wonderful family spiral picture.</p><div class="figure"><a id="payne_family_spiralcomma_including_our_t"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00056"/><img src="httpatomoreillycomsourcenostarchimages2188881.png.jpg" alt="The Payne family spiral, including our two cats, Leo and Rocky"/></div></div><p class="title">Figure 4-6. The Payne family spiral, including our two cats, Leo and Rocky</p></div></div></div><div class="sect1" title="Putting It All Together: Spiral Goes Viral"><div class="titlepage"><div><div><h1 class="title"><a id="putting_it_all_together_spiral_goes_vira"/>Putting It All Together: Spiral Goes Viral</h1></div></div></div><p><a id="iddle1447" class="indexterm"/><a id="iddle1540" class="indexterm"/><a id="iddle1589" class="indexterm"/><a id="iddle2031" class="indexterm"/>We’ve seen the power of loops: they take pieces of code and repeat them over and over to do repetitive work that we wouldn’t want to do by hand, like typing a name 100 times. Let’s take loops one step further and build our own <a class="firstterm" href="apd.html#gloss01_034"><em class="firstterm">nested loop</em></a>, which is a loop inside another loop (like Russian nesting dolls—look inside one doll, and there’s another doll).</p><div class="informalfigure"><a id="med_id00057a"/><div class="mediaobject"><a id="med_id00057"/><img src="httpatomoreillycomsourcenostarchimages2188883.png.jpg" alt="image with no caption"/></div></div><p>To explore nested loops, let’s draw a spiral not of names or lines but <span class="emphasis"><em>of spirals</em></span>! Instead of drawing a name at every corner of our spiral like we did in <a class="xref" href="ch04.html#payne_family_spiralcomma_including_our_t" title="Figure 4-6. The Payne family spiral, including our two cats, Leo and Rocky">Figure 4-6</a>, we could draw a smaller spiral. To accomplish that, we need a big loop to draw a big spiral on the screen and a little loop inside to draw small spirals around the big spiral.</p><p>Before we write a program to do that, let’s learn how to nest a loop inside another loop. First, start a loop as usual. Then, inside that loop, press TAB once and start a second loop:</p><a id="pro_id00037"/><pre class="programlisting"><span class="red"># This is our first loop, called the outer loop</span>
<span class="orange">for</span> x <span class="orange">in</span> <span class="violet">range</span>(10):
    <span class="red"># Things indented once will be done 10 times</span>
    <span class="red"># Next is our inner loop, or the nested loop</span>
    <span class="orange">for</span> y <span class="orange">in</span> <span class="violet">range</span>(10):
        <span class="red"># Things indented twice will be done 100 (10*10) times!</span></pre><p>The first loop is called the <span class="emphasis"><em>outer</em></span> loop, because it surrounds our nested loop. The nested loop is called the <span class="emphasis"><em>inner</em></span> loop, because it sits inside the other loop. Notice that in our nested loop, any lines of code that are indented twice (so they’re inside the second loop) will be repeated 10 times for <code class="literal">y</code> and 10 times for <code class="literal">x</code>, or 100 times total.</p><p>Let’s start writing our program, <span class="emphasis"><em>ViralSpiral.py</em></span>. We’ll write it step by step—the finished program is shown in <a class="xref" href="ch04.html#viralspiraldotpy" title="ViralSpiral.py">ViralSpiral.py</a>.</p><a id="pro_id00038"/><pre class="programlisting">   <span class="orange">import</span>
   turtle t = turtle.Pen()
➊ t.penup()
   turtle.bgcolor(<span class="green">"black"</span>)</pre><p><a id="iddle1403" class="indexterm"/><a id="iddle1610" class="indexterm"/><a id="iddle1648" class="indexterm"/><a id="iddle1671" class="indexterm"/><a id="iddle1993" class="indexterm"/>The first few lines of our program look like the other spirals we’ve programmed, except that we won’t be drawing lines for the big spiral. We plan to replace those with smaller spirals, so we have a <code class="literal">t.penup()</code> at ➊ to lift the turtle’s pen off the screen right from the beginning. We then set the background color to black.</p><p>Keep typing: we’re not done! Next we’ll ask the user for the number of sides they want using <code class="literal">turtle.numinput()</code>, with a default of 4 if the user doesn’t choose something different, and we’ll restrict the range of allowable sides to between 2 and 6.</p><a id="pro_id00039"/><pre class="programlisting">sides = <span class="violet">int</span>(turtle.numinput(<span class="green">"Number of sides"</span>,
            <span class="green">"How many sides in your spiral of spirals (2-6)?"</span>, 4,2,6))
colors = [<span class="green">"red"</span>, <span class="green">"yellow"</span>, <span class="green">"blue"</span>, <span class="green">"green"</span>, <span class="green">"purple"</span>, <span class="green">"orange"</span>]</pre><p>The <code class="literal">turtle.numinput()</code> function allows us to specify a title for our input dialog; a prompt question; and default, minimum, and maximum values, in that order: <code class="literal">turtle.numinput(</code><span class="emphasis"><em><code class="literal">title</code></em></span><code class="literal">,</code> <span class="emphasis"><em><code class="literal">prompt</code></em></span><code class="literal">,</code> <span class="emphasis"><em><code class="literal">default</code></em></span><code class="literal">,</code> <span class="emphasis"><em><code class="literal">minimum</code></em></span><code class="literal">,</code> <span class="emphasis"><em><code class="literal">maximum</code></em></span><code class="literal">)</code>. Here, we specify a default value of <code class="literal">4</code>, a minimum of <code class="literal">2</code>, and a maximum of <code class="literal">6</code>. (If the user tries to enter <code class="literal">1</code> or <code class="literal">7</code>, for example, they’ll get a warning that the minimum allowed value is <code class="literal">2</code> and the maximum allowed value is <code class="literal">6</code>.) We also set up our <code class="literal">colors</code> list with six colors.</p><p>Next we’ll write our outer spiral loop. The outer loop will position the turtle at each corner of the big spiral.</p><a id="pro_id00040"/><pre class="programlisting">➋ <span class="orange">for</span> m <span class="orange">in</span> <span class="violet">range</span>(100):
      t.forward(m*4)
➌     position = t.position() <span class="red"># Remember this corner of the spiral</span>
➍     heading = t.heading()   <span class="red"># Remember the direction we were heading</span></pre><p>Our outer loop takes <code class="literal">m</code> from <code class="literal">0</code> to <code class="literal">99</code> for <code class="literal">100</code> total passes ➋. In our outer loop, we move forward just like in our other spiral programs, but when we reach each corner of our big spiral, we stop to remember our <code class="literal">position</code> ➌ and <code class="literal">heading</code> ➍. The <span class="emphasis"><em>position</em></span> is the turtle’s (<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>) coordinate location on the screen, and the <span class="emphasis"><em>heading</em></span> is the direction the turtle is moving in.</p><p>Our turtle is taking a bit of a detour at every spot along the large spiral in order to draw the smaller spirals, so it must return <a id="iddle1848" class="indexterm"/><a id="iddle1857" class="indexterm"/><a id="iddle1858" class="indexterm"/><a id="iddle2062" class="indexterm"/><a id="iddle2074" class="indexterm"/>to this position and heading after finishing each small spiral in order to maintain the shape of the big spiral. If we didn’t remember the location and direction of the turtle before starting to draw the small spirals, our turtle would wander all over the screen, starting each small spiral relative to where it left off with the last small spiral.</p><p>The two commands that will tell us the turtle’s location and direction are <code class="literal">t.position()</code> and <code class="literal">t.heading()</code>. The turtle’s position is accessed through <code class="literal">t.position()</code>, and it consists of both the <span class="emphasis"><em>x</em></span> (horizontal) and <span class="emphasis"><em>y</em></span> (vertical) coordinates of the turtle’s location on the screen, just like on a coordinate graph. The direction the turtle is heading is available through the command <code class="literal">t.heading()</code> and is measured from 0.0 degrees to 360.0 degrees, with 0.0 degrees pointing up toward the top of the screen. We will store these pieces of information in the variables <code class="literal">position</code> and <code class="literal">heading</code> before we start each small spiral so that we can pick up where we left off on the big spiral each time.</p><p>It’s time for the inner loop. We’re indented even farther here. This inner loop will draw a small spiral at each corner of the bigger spiral.</p><a id="pro_id00041"/><pre class="programlisting">➎     <span class="orange">for</span> n <span class="orange">in</span> <span class="violet">range</span>(<span class="violet">int</span>(m/2)):
           t.pendown()
           t.pencolor(colors[n%sides])
           t.forward(2*n)
           t.right(360/sides - 2)
           t.penup()
➏     t.setx(position[0])     <span class="red"># Go back to the big spiral's x location</span>
➐     t.sety(position[1])     <span class="red"># Go back to the big spiral's y location</span>
➑     t.setheading(heading)   <span class="red"># Point in the big spiral's heading</span>
➒     t.left(360/sides + 2)   <span class="red"># Aim at the next point on the big spiral</span></pre><p>Our inner loop ➎ begins with <code class="literal">n = 0</code> and stops when <code class="literal">n = m/2</code>, or one-half of <code class="literal">m</code>, to keep the inner spirals smaller than the outer spiral. The inner spirals look like our previous spirals, except that we put the pen down before drawing each line and lift it after each line is drawn so that our big spiral stays clean.</p><p>After we draw our inner spiral from ➎, we pick back up at ➏ by setting the horizontal position of the turtle to the one we stored at ➌. The horizontal axis is commonly called the <span class="emphasis"><em>x-axis</em></span>, so when we set the horizontal location, we use <code class="literal">t.setx()</code>, or set the x-axis position of our turtle’s location on the screen. At ➐, we set the y-axis location, or vertical position, that we stored at ➌. At ➑, we turn <a id="iddle2032" class="indexterm"/>the turtle to the heading we stored at ➍ before going on to the next part of the big spiral at ➒.</p><p>When our big loop ends after <code class="literal">m</code> has gone from <code class="literal">0</code> to <code class="literal">99</code>, we will have drawn 100 small spirals in a big spiral pattern for a nice kaleidoscope effect, as shown in <a class="xref" href="ch04.html#square_spiral_with_square_spirals_at_eve" title="Figure 4-7. A square spiral with square spirals at every corner (top) and a five-sided (pentagonal) spiral of spirals (bottom) from our ViralSpiral.py program">Figure 4-7</a>.</p><div class="figure"><a id="square_spiral_with_square_spirals_at_eve"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00058"/><img src="httpatomoreillycomsourcenostarchimages2188885.png.jpg" alt="A square spiral with square spirals at every corner (top) and a five-sided (pentagonal) spiral of spirals (bottom) from our ViralSpiral.py program"/></div></div><p class="title">Figure 4-7. A square spiral with square spirals at every corner (top) and a five-sided (pentagonal) spiral of spirals (bottom) from our <span class="emphasis"><em>ViralSpiral.py</em></span> program</p></div><p>You’ll notice the one drawback to nested loops while you’re waiting for this program to run: the shapes shown in <a class="xref" href="ch04.html#square_spiral_with_square_spirals_at_eve" title="Figure 4-7. A square spiral with square spirals at every corner (top) and a five-sided (pentagonal) spiral of spirals (bottom) from our ViralSpiral.py program">Figure 4-7</a> take longer to draw than our simple spirals did. That’s because we’re performing so many more steps than we did with our simple spirals. In fact, when we draw the six-sided version of our <span class="emphasis"><em>ViralSpiral.py</em></span>, the final drawing consists of 2,352 separate lines! All those drawing commands, plus the turning and setting the pen color, add up to a lot of work, even for a fast computer. Nested loops are useful, but remember that the extra steps can slow our programs down, so we use nested loops only when the effect is worth the wait.</p><p>Here’s the completed code for <span class="emphasis"><em>ViralSpiral.py</em></span>.</p><div class="informalfigure"><a id="med_id00059a"/><div class="mediaobject"><a id="med_id00059"/><img src="httpatomoreillycomsourcenostarchimages2188887.png.jpg" alt="image with no caption"/></div></div><div class="sect2" title="ViralSpiral.py"><div class="titlepage"><div><div><h2 class="title"><a id="viralspiraldotpy"/>ViralSpiral.py</h2></div></div></div><a id="pro_id00042"/><pre class="programlisting"><span class="orange">import</span> turtle
t = turtle.Pen()
t.penup()
turtle.bgcolor(<span class="green">"black"</span>)
<span class="red"># Ask the user for the number of sides, default to 4, min 2, max 6</span>
sides = <span class="violet">int</span>(turtle.numinput(<span class="green">"Number of sides"</span>,
            <span class="green">"How many sides in your spiral of spirals? (2-6)"</span>, 4,2,6))
colors = [<span class="green">"red"</span>, <span class="green">"yellow"</span>, <span class="green">"blue"</span>, <span class="green">"green"</span>, <span class="green">"purple"</span>, <span class="green">"orange"</span>]
<span class="red"># Our outer spiral loop</span>
<span class="orange">for</span> m <span class="orange">in</span> <span class="violet">range</span>(100):
    t.forward(m*4)
    position = t.position() <span class="red"># Remember this corner of the spiral</span>
    heading = t.heading()   <span class="red"># Remember the direction we were heading</span>
    <span class="violet">print</span>(position, heading)
    <span class="red"># Our "inner" spiral loop</span>
    <span class="red"># Draws a little spiral at each corner of the big spiral</span>
    <span class="orange">for</span> n <span class="orange">in</span> <span class="violet">range</span>(<span class="violet">int</span>(m/2)):
        t.pendown()
        t.pencolor(colors[n%sides])
        t.forward(2*n)
        t.right(360/sides - 2)
        t.penup()
    t.setx(position[0])     <span class="red"># Go back to the big spiral's x location</span>
    t.sety(position[1])     <span class="red"># Go back to the big spiral's y location</span>
    t.setheading(heading)   <span class="red"># Point in the big spiral's heading</span>
    t.left(360/sides + 2)   <span class="red"># Aim at the next point on the big spiral</span></pre></div></div><div class="sect1" title="What You Learned"><div class="titlepage"><div><div><h1 class="title"><a id="what_you_learned-id00005"/>What You Learned</h1></div></div></div><p>In this chapter, you learned to build your own loops by identifying repeated steps in a program and moving those repeated steps inside the right kind of loop. With a <code class="literal">for</code> loop, you can run your code a set number of times, like looping 10 times with <code class="literal">for x in range(10)</code>. With a <code class="literal">while</code> loop, you can run your code until a condition or event occurs, like the user entering nothing at an input prompt with <code class="literal">while name != ""</code>.</p><p>You learned that the flow of a program is changed by the loops that you create. We used the <code class="literal">range()</code> function to generate lists of values that allow us to control the number of times our <code class="literal">for</code> loops repeat, and we used the modulo operator, <code class="literal">%</code>, to loop through the values in a list to change colors in a list of colors, pick names out of a list of names, and more.</p><p>We used an empty list, <code class="literal">[]</code>, and the <code class="literal">append()</code> function to add information from the user into a list that we then used in a program. You learned that the <code class="literal">len()</code> function can tell you the length of a list—that is, how many values the list contains.</p><p>You learned how to remember the turtle’s current position and the direction it’s heading with the <code class="literal">t.position()</code> and <code class="literal">t.heading()</code> functions, and you learned how to get the turtle back to this location and heading with <code class="literal">t.setx()</code>, <code class="literal">t.sety()</code>, and <code class="literal">t.setheading()</code>.</p><p>Finally, you saw how you can use nested loops to repeat one set of instructions inside another set, first to print a list of names on a screen and then to create spirals of spirals in a kaleidoscope pattern. Along the way, we’ve drawn lines, circles, and strings of words or names on the screen.</p><p>At this point, you should be able to do the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Create your own <code class="literal">for</code> loops to repeat a set of instructions a certain number of times.</p></li><li class="listitem"><p>Use the <code class="literal">range()</code> function to generate lists of values to control your <code class="literal">for</code> loops.</p></li><li class="listitem"><p>Create empty lists and add to lists using the <code class="literal">append()</code> function.</p></li><li class="listitem"><p>Create your own <code class="literal">while</code> loops to repeat while a condition is <code class="literal">True</code> or until the condition is <code class="literal">False</code>.</p></li><li class="listitem"><p>Explain how each type of loop works and how you code it in Python.</p></li><li class="listitem"><p><a id="iddle1821" class="indexterm"/><a id="iddle1824" class="indexterm"/><a id="iddle1918" class="indexterm"/><a id="iddle1919" class="indexterm"/><a id="iddle2033" class="indexterm"/>Give examples of situations in which you would use each type of loop.</p></li><li class="listitem"><p>Design and modify programs that use nested loops.</p></li></ul></div><div class="sidebar"><a id="programming_challenges-id00006"/><p class="title">Programming Challenges</p><p>Try these challenges to practice what you’ve learned in this chapter. (If you get stuck, go to <span class="emphasis"><em><a class="ulink" href="http://www.nostarch.com/teachkids/">http://www.nostarch.com/teachkids/</a></em></span> for sample answers.)</p><p><span class="strong"><strong>#1: SPIRAL ROSETTES</strong></span></p><p>Think about how you might modify the <span class="emphasis"><em>ViralSpiral.py</em></span> program to replace the small spirals with rosettes like those in <span class="emphasis"><em>Rosette6.py</em></span> (<a class="xref" href="ch04.html#modifying_our_for_loop_to_make_a_rosette" title="Modifying Our for Loop to Make a Rosette with Six Circles">Modifying Our for Loop to Make a Rosette with Six Circles</a>) and <span class="emphasis"><em>RosetteGoneWild.py</em></span> (<a class="xref" href="ch04.html#rosettegonewilddotpy" title="RosetteGoneWild.py">RosetteGoneWild.py</a>). Hint: first replace the inner loop with an inner loop that will draw a rosette. Then, add the code to change the colors and sizes of the circles in each rosette. As an added touch, change the width of the pen slightly as your circles get bigger. When you finish, save the new program as <span class="emphasis"><em>SpiralRosettes.py</em></span>. <a class="xref" href="ch04.html#spiral_of_rosettes_from_one_solution_to" title="Figure 4-8. A spiral of rosettes from one solution to Programming Challenge #1">Figure 4-8</a> shows a drawing produced by one solution to this challenge.</p><div class="figure"><a id="spiral_of_rosettes_from_one_solution_to"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00060"/><img src="httpatomoreillycomsourcenostarchimages2188889.png.jpg" alt="A spiral of rosettes from one solution to Programming Challenge #1"/></div></div><p class="title">Figure 4-8. A spiral of rosettes from one solution to Programming Challenge #1</p></div><p><a id="iddle1913" class="indexterm"/><a id="iddle2030" class="indexterm"/><span class="strong"><strong>#2: A SPIRAL OF FAMILY SPIRALS</strong></span></p><p>Wouldn’t it be cool to draw a spiral of spirals of your family’s names? Take a look at <span class="emphasis"><em>SpiralFamily.py</em></span> (<a class="xref" href="ch04.html#spiralfamilydotpy" title="SpiralFamily.py">SpiralFamily.py</a>) and then refer back to the code for <span class="emphasis"><em>ViralSpiral.py</em></span>. Create an inner loop inside the <code class="literal">for</code> loop in <span class="emphasis"><em>SpiralFamily.py</em></span> that draws the smaller spiral. Then, modify your outer loop to remember the position and heading of the turtle before drawing each small spiral, and set it back before continuing to the next big spiral location. When you get it right, save the new program as <span class="emphasis"><em>ViralFamilySpiral.py</em></span>.</p></div></div></div></body></html>