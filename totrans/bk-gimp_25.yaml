- en: Chapter 18. Animation Tools
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Many powerful tools are designed specifically for digital animation. Blender,
    for example, is free software for creating professional 3D animation (see *[http://www.blender.org/](http://www.blender.org/)*).
    Compared to Blender, GIMP offers limited animation tools. But if you just want
    to make a simple animation, GIMP can get the job done. As you saw in [Chapter 6](ch06.html
    "Chapter 6. Animation"), you can use GIMP to make animated GIFs for a web page,
    and as you’ll see in this chapter, you can also use GIMP to edit a short digital
    video.
  prefs: []
  type: TYPE_NORMAL
- en: We begin this chapter with the principles of animation, and then we discuss
    the file formats specific to animations. We also cover GIMP’s various tools for
    building animations, including GAP (GIMP Animation Plug-in; installed separately
    from GIMP).
  prefs: []
  type: TYPE_NORMAL
- en: 18.1 Principles of Animation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: To use the animation building tools available in GIMP and the GAP plug-in effectively,
    you must first understand the underlying principles of animation. First, we present
    the physiology of viewing animations and their internal and external digital representations,
    and then we discuss how these principles work in GIMP.
  prefs: []
  type: TYPE_NORMAL
- en: Frame Frequency and Vision
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Animations are made with a sequence of images, called *frames*. Images persist
    on the eye’s retina, especially when there is a strong contrast between light
    and dark (as in a movie theater), so when images are displayed in quick succession,
    they appear to be a continuous animation.
  prefs: []
  type: TYPE_NORMAL
- en: Currently, the standard frame frequency is 24 frames per second. Hand-drawn
    cartoons were usually filmed at 12 frames per second, and each frame was photographed
    twice. But in the earliest movies, the frequency was only 20 frames per second,
    which is why actors appear to move too fast in very old films.
  prefs: []
  type: TYPE_NORMAL
- en: Television is different from movies projected in a theater. Because the contrast
    between the screen and the surroundings is generally less than in a movie theater,
    the image persistence is shorter, so frames must be shown at a higher frequency.
    Usually only every other line is drawn on each screen refresh, so at a rate of
    60 refreshes per second, the full image is redrawn only 30 times per second.
  prefs: []
  type: TYPE_NORMAL
- en: The refresh frequency may be even higher for digital animation viewed on a monitor,
    thanks to the capabilities of the screen and the computer itself. Because people
    use computers in bright offices and even outside, the contrast with the environment
    is often weak, so a (in animation) minimum of 60 frames per second is necessary.
  prefs: []
  type: TYPE_NORMAL
- en: If you were to view the frames independently, you would see motion blur on fast-moving
    objects, but when you watch the video, everything looks sharp because the visual
    centers in the brain process the blurry frames into a moving object. The ability
    to create a sharp image from blurred frames depends on the image’s persistence.
    If persistence is too short due to low contrast between the room and the screen,
    then the motion blur can become visible. Because of this, computer games with
    very quick movement often need a frame frequency greater than 60 frames per second.
  prefs: []
  type: TYPE_NORMAL
- en: Frames and Layers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Depending on the tool used, frames in GIMP can either be layers in one image
    or separate image files. When stored as layers, frames cannot include multiple
    layers, but when stored as multiple images, they can.
  prefs: []
  type: TYPE_NORMAL
- en: 'To use layers as frames, you have to give each layer a *duration* and *replacement
    mode*. You do this by editing the layer name itself, by double-clicking it in
    the Layers dialog, by selecting **Layers: right-click > Edit Layer Attributes**,
    or by pressing ![](httpatomoreillycomsourcenostarchimages1455250.png.jpg) when
    the mouse pointer is in the Layers dialog. The frame duration is specified in
    milliseconds and within parentheses, as in `(200ms)`, and the replacement mode
    is also designated in parentheses, as in `(replace)`. The order in which the layers
    appear on the screen is *from bottom to top*.'
  prefs: []
  type: TYPE_NORMAL
- en: When frames are independent images, they’re all stored in one folder and named
    in order. The names are something like *name*`_00001.xcf`, *name*`_00002.xcf`,
    and so on (where *name* is whatever you designate). The frames’ duration cannot
    be changed, so to slow down part of the animation, you must duplicate the frames,
    and to speed it up, you delete frames. Because frames are images and not layers,
    no replacement mode is available. Every new frame replaces the preceding one.
  prefs: []
  type: TYPE_NORMAL
- en: '![The GIF Export File dialog](httpatomoreillycomsourcenostarchimages1457074.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-1. The GIF Export File dialog
  prefs: []
  type: TYPE_NORMAL
- en: Output Formats
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Simple animations are represented in GIF encoding, and the GIF Export File dialog
    (shown in [Figure 18-1](ch18s01.html#gif_export_file_dialog "Figure 18-1. The
    GIF Export File dialog")) can be set to save the frames as an animation instead
    of being set to flatten the image. When you choose to export as an animated GIF,
    you can also choose
  prefs: []
  type: TYPE_NORMAL
- en: whether the animation runs only once or forever
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: the duration of frames
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: the replacement mode (called *frame disposal*)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: whether to use the specified duration for all frames
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: whether to use the specified replacement mode for all frames
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The default delay of 100 milliseconds per frame results in only 10 frames per
    second. This delay is fine for a slow animation, but the frame frequency should
    be much higher if the animation has fast movements or else it will look jerky.
    To increase the frame frequency, reduce the frame duration, for example, to 40
    milliseconds to obtain a frequency of 25 frames per second.
  prefs: []
  type: TYPE_NORMAL
- en: Using GIF for animation has all the drawbacks of this encoding, the biggest
    of which is the indexed representation, explained more thoroughly in [Chapter 20](ch20.html
    "Chapter 20. Image Formats"). Basically, GIF can represent at most only 256 different
    colors, which is fine for a cartoon or logo but not for a home movie.
  prefs: []
  type: TYPE_NORMAL
- en: GIF animations can be viewed on any graphical web browser, so they’re popular
    on web pages. You can use the `<img>` HTML tag to display an image inside a page.
    It has to be loaded in full before the animation begins, so keep animations to
    a few hundred KB maximum, and avoid using more than one animation on a page.
  prefs: []
  type: TYPE_NORMAL
- en: JPEG encoding can’t be used for animations, but the corresponding MPEG encoding
    can. According to the official MPEG website (*[http://mpeg.chiariglione.org/](http://mpeg.chiariglione.org/)*),
    MPEG-1 was established in 1988 and is the standard on which Video CD and MP3 are
    based. DVDs are based on MPEG-2, and MPEG-4 is the multimedia standard. Other
    versions, like MPEG-7 and MPEG-21, also have modern applications.
  prefs: []
  type: TYPE_NORMAL
- en: An MPEG is a video made of JPEG frames. When the difference between successive
    frames is small (as when only a person’s mouth is moving), you don’t need to represent
    the entire frame again, reducing the video file size and increasing the feasible
    frame frequency and definition.
  prefs: []
  type: TYPE_NORMAL
- en: 'So an MPEG video comprises several frame types: complete JPEG images, frames
    of the differences between the current and the previous frame, and frames of the
    differences between the current and the next frame. The video recorder must save
    three different frames at the same time, including full JPEG frames at regular
    intervals.'
  prefs: []
  type: TYPE_NORMAL
- en: The MPEG format also encodes the audio, as most video formats do. The GAP plug-in
    set generates MPEG-1 and MPEG-2 formats.
  prefs: []
  type: TYPE_NORMAL
- en: Similar to JPEG, PNG has a corresponding encoding for animations, called MNG.
    Unfortunately, this format is not supported by some web browsers, so it’s not
    a viable replacement for animated GIFs. For this reason, we won’t cover it, but
    GIMP can work with MNG animation.
  prefs: []
  type: TYPE_NORMAL
- en: Although they can use indexed representation, PNG and MNG generally use RGB,
    whereas GIF always uses indexed representation. Converting to indexed representation
    inevitably results in a loss in quality, and the loss is even worse when working
    with animation. If the MNG format were supported by more browsers, it would be
    much better than GIF for web animations.
  prefs: []
  type: TYPE_NORMAL
- en: Some proprietary formats are also supported by GIMP with GAP, but we won’t cover
    those either, except to say that GAP can generate the Apple QuickTime format and
    read other proprietary formats like Microsoft AVI.
  prefs: []
  type: TYPE_NORMAL
- en: Because animations can be represented as layers or images, using several different
    formats, you’ll find conversion tools handy. GAP provides tools to
  prefs: []
  type: TYPE_NORMAL
- en: convert a multilayer image to a multi-image animation, and vice versa
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: convert an MPEG or AVI animation to a multi-image animation, and vice versa
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Optimizing Animations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: An animation is generally a huge file. For example, if one JPEG is 33KB and
    you build an animation with a total of 21 frames (about 2 seconds!), the resulting
    animation will be 1.8MB. You can easily extrapolate that a one-minute animation
    using similar photos will be more than 54MB, which is far too large for a web
    page.
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately, animation size can be reduced via optimization. For example, GIMP
    has a tool for optimizing animated GIFs. If only a small area in the animation
    is changing (a hand moves, a person smiles), then the parts of the image that
    don’t change from frame to frame are represented only once in the background layer.
    Subsequent layers are transparent except when things change, leading to a much
    smaller file size.
  prefs: []
  type: TYPE_NORMAL
- en: When we applied this tool to the 1.8MB animation, we reduced its size to 337KB
    (one-fifth the original size). This reduction is significant, but the 54MB one-minute
    animation would still be too large for a web page because it would reduce only
    to about 10MB, and a nonstreaming video on a web page should probably be 2MB maximum.
    The MPEG format can reduce the size of a video more than GIF optimization can;
    therefore, it is the standard for video on the Web.
  prefs: []
  type: TYPE_NORMAL
- en: 18.2 Tools for Building Multilayer Animations
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we cover tools for building animations that will be stored
    as a single image, with each layer acting as a frame. Some of these tools were
    used in [Chapter 6](ch06.html "Chapter 6. Animation"), where we demonstrated simple
    animation techniques.
  prefs: []
  type: TYPE_NORMAL
- en: Animating by Hand
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Suppose you want to move an object on a fixed background, as cartoon animators
    did 50 years ago. For example, how might you animate an old biplane landing in
    a field? You might try the method shown in [6.1 Tutorial: Animated Text](ch06s01.html
    "6.1 Tutorial: Animated Text"), placing the plane in its successive positions
    in separate layers. But you have a problem: Each plane you position is added to
    the image instead of replacing the previous one, so the final animation is full
    of planes. And if you choose the replace mode in the layers, the background disappears
    as soon as the plane appears.'
  prefs: []
  type: TYPE_NORMAL
- en: 'To make this animation work, you can do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Duplicate the background for each plane layer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Place the background layers below each plane layer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Merge each plane layer with the underlying background layer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![The IWarp dialog, Animate tab](httpatomoreillycomsourcenostarchimages1457076.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-2. The IWarp dialog, Animate tab
  prefs: []
  type: TYPE_NORMAL
- en: Now the animation works, but making even a short animation by hand takes a long
    time. Wouldn’t it be great to have tools that automate parts of the animation-building
    process? With GIMP, we do.
  prefs: []
  type: TYPE_NORMAL
- en: The IWarp Tool
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The IWarp tool, accessed via **Image: Filters > Distorts > IWarp**, is demonstrated
    in [Interactive Deformation](ch06s03.html#interactive_deformation "Interactive
    Deformation"), and its dialog is shown in [Figure 6-32](ch06s03.html#iwarp_dialog-id00071
    "Figure 6-32. The IWarp dialog").'
  prefs: []
  type: TYPE_NORMAL
- en: To use IWarp for animation, warp the image as you would warp a still photo,
    and then click the ANIMATE tab and choose to generate an animation. In [Figure 18-2](ch18s02.html#iwarp_dialogcomma_animate_tab
    "Figure 18-2. The IWarp dialog, Animate tab"), we chose to create 20 frames between
    the first and last image, and we selected PING PONG, which repeats the animation
    in reverse. These settings result in 40 layers (20 forward and another 20 in reverse
    order), numbered from 0 to 39\. Because the number of frames determines the animation’s
    smoothness, don’t reduce the number of frames unless the final file size is critical.
    If you plan to export the animation as a GIF file, you can optimize it to reduce
    file size later.
  prefs: []
  type: TYPE_NORMAL
- en: The Morph Tool
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Morph tool is part of GAP. It generates multilayer animations by progressively
    transforming one image into another. Use it to morph between images of people,
    as demonstrated in [Chapter 6](ch06.html "Chapter 6. Animation"). You can also
    use it to morph one word into another, as we’ll demonstrate now.
  prefs: []
  type: TYPE_NORMAL
- en: '![Building one of the logos](httpatomoreillycomsourcenostarchimages1457078.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-3. Building one of the logos
  prefs: []
  type: TYPE_NORMAL
- en: Morphing Text
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: In this example, the word “Windows” will be progressively morphed to the word
    “Linux!!” with just a few clicks.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, build the logos using **Image: File > Create > Logos > Glossy**, with
    the default parameters, as shown in [Figure 18-3](ch18s02.html#building_one_of_the_logos
    "Figure 18-3. Building one of the logos"). Enter *Windows* in the text field to
    create the first logo ([Figure 18-4](ch18s02.html#initial_logo-id00184 "Figure 18-4. The
    initial logo")), and then enter *Linux!!* to create the second logo ([Figure 18-5](ch18s02.html#final_logo-id00185
    "Figure 18-5. The final logo")). Flatten both logos (**Layers: right-click > Flatten
    Image**) so they each contain only one layer. Copy the Linux layer to the Windows
    image as a new layer by dragging the layer thumbnail to the image.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Because the Linux layer is narrower than the Windows layer, you must increase
    its size to match via **Image: Layer > Layer to Image Size**. Also add an Alpha
    channel to both layers.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now apply the Morph tool by selecting **Image: Video > Morphing > Morph**,
    which opens the dialog in [Figure 18-6](ch18s02.html#morph_tool_dialog-id00186
    "Figure 18-6. The Morph tool dialog").'
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial logo](httpatomoreillycomsourcenostarchimages1457080.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-4. The initial logo
  prefs: []
  type: TYPE_NORMAL
- en: '![The final logo](httpatomoreillycomsourcenostarchimages1457082.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-5. The final logo
  prefs: []
  type: TYPE_NORMAL
- en: How you place the *shape points* determines how a point in the first image is
    morphed into a point in the second image. For a more complicated project, you
    should choose points carefully, but in this case, just click the SHAPE button,
    and the tool automatically creates and places points on the sides of both images.
  prefs: []
  type: TYPE_NORMAL
- en: The number of STEPS is the number of frames in the animation. Choose 20, click
    OK, and that’s it! The animation plays on a loop, but you can pause it between
    iterations by increasing the duration of the top layer. Optimize the animation
    and save it as a GIF.
  prefs: []
  type: TYPE_NORMAL
- en: The Morph Tool Dialog
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let’s explore this dialog section by section. In the top-left section, the SOURCE
    menu allows you to choose the source layer from the images open in GIMP. The X
    and Y boxes display the coordinates of the current shape point in the source layer.
    You can set these points by clicking the layer image, and you can adjust the coordinates
    using the vertical arrows at the right. Click FIT ZOOM to reset the zoom to show
    the entire source layer.
  prefs: []
  type: TYPE_NORMAL
- en: The top-right section is similar to the top-left section, except that it deals
    with the destination instead of the source layer. This section also includes POINT,
    which shows the current shape point. You can choose any shape point and then change
    or check its position with the X and Y boxes.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Morph tool dialog](httpatomoreillycomsourcenostarchimages1457084.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-6. The Morph tool dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'The bottom-left section of the dialog includes these options:'
  prefs: []
  type: TYPE_NORMAL
- en: 'SHAPEPOINTS and SHAPE are used to set the number of shapepoints that are automatically
    placed and to place them. The more shape points you use, the more precise the
    morphing. But when you use more shape points, you also use more computing power.
    As a rule, place shape points where things change: You don’t need two points close
    to each other if no important variation occurs in the image between them.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The automatic shape points are placed along the outline of the source layer.
    Transparent pixels are not included in the outline.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If you ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click the
    SHAPE button, the number of points specified is *added* to the existing number
    of points. Otherwise the specified points replace the existing ones.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: RADIUS sets the size of the area influenced by every shape point.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: STEPS sets the number of layers to be added or modified between the source layer
    (at the bottom) and the target layer (at the top). Any preexisting middle layers
    are modified.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The two color buttons to the right of the STEPS box set the colors of source
    and destination shape points.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LOCATE is useful for automatically locating features in the source and destination
    layers, but it can be time consuming because of the computations involved. It
    is triggered when you ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-click
    a shape point. The source shape point is automatically placed on the closest feature
    and the destination point on the feature that best matches the source. The first
    field in the dialog sets the radius in the source layer, the second field sets
    the radius of the area to be searched in the destination layer, and the last field
    is the edge-detection threshold for detecting a feature. You can play with these
    parameters, but their default values are already well chosen.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Finally, the bottom-right portion of the Morph tool dialog covers these settings:'
  prefs: []
  type: TYPE_NORMAL
- en: EDIT MODE has five options. SET is the most versatile. It lets you add a new
    shape point by clicking in the source layer. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    to create a new point that’s near an existing one. Right-click to delete an existing
    point. This mode also lets you drag existing points to a new position. MOVE mode
    is similar to SET, but clicking doesn’t create a new point.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DELETE mode is used only to delete a point. The ZOOM mode allows you to zoom
    in on a specific point. ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    zooms out. SHOW mode should simply show the coordinates of the point you clicked,
    but as this book goes to press, this mode is unusable.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: INTENSITY is active if you select USE INTENSITY. When this box is checked, the
    shape point’s influence decreases geometrically with increasing distance from
    the point to the deformation radius. When the USE INTENSITY box is unchecked,
    the influence decreases linearly.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: RENDER MODE can be set to Morph or Warp. MORPH is the normal mode. In this mode,
    the source layer transforms progressively into the destination layer by *forward
    warps* (warping the source layer into the destination layer), *backward warps*
    (warping the destination layer into the source layer), and *cross fades*. WARP
    makes the transition using only forward warps, but every time we’ve tried it,
    the results were strange and not very useful.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When checked (which it is by default), CREATE LAYERS creates the number of new
    layers indicated in the STEPS box. When unchecked, the existing layers are modified,
    but no new layers are created.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When checked, QUALITY uses a better transformation algorithm, but this algorithm
    is much more processor intensive and may crash the tool.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When checked, the LINES box displays small vectors that show how a specific
    shape point will be moved.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The RESET button removes all existing shape points.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The SWAP button exchanges the source and destination, but it does not move the
    layers in the image.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The SAVE and OPEN buttons do what you’d expect: SAVE saves all the shape point
    coordinates in a file, and OPEN loads previously saved coordinates. Open allows
    you to use the same shape points for different images or to save a partially completed
    project so you can return to it later, for example, to try different values for
    options.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Filtering All Layers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'This tool, accessed via **Image: Filters > Filter all Layers** is also part
    of GAP but operates on multilayer animations. The concept is simple:'
  prefs: []
  type: TYPE_NORMAL
- en: Build a bunch of layers, for example, by duplicating a layer over and over.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Apply a transformation to all the layers using one of the many GIMP filters.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You can apply this filter using the same parameters for all layers, or you can
    change the parameter values progressively from layer to layer.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 18-7](ch18s02.html#filter_all_layers_dialog "Figure 18-7. The Filter
    all Layers dialog") shows the Filter all Layers dialog. The menu on the left lists
    the many available filters, called `plug-in-`*filter-name*. The names are in alphabetical
    order. You can search for a specific filter using the buttons at the bottom right
    of the dialog:'
  prefs: []
  type: TYPE_NORMAL
- en: SEARCH BY NAME compares the characters typed in the SEARCH box to the names
    of the available filters.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SEARCH BY BLURB searches in the filter’s description, located just above PARAMETERS
    in the top-right area of the dialog.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SEARCH BY MENU PATH searches in the menu path, located above the description.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the first two cases, the string entered in the SEARCH box is treated as a
    *regular expression*. Searching using expressions is a complex concept, so we’ll
    provide just the basic explanation that you need to search efficiently. In short,
    a normal character, like a letter or a number, matches itself. A dot can stand
    in for any character, so `c.l.r` matches `color` and `celar`. An asterisk can
    match any number of occurrences of the preceding character, including none, so
    `sear*ching` matches `seaching`, `searching`, and `searrrching`. The dot and asterisk
    notations can also be combined, so `color.*hance` matches `color-enhance`, `colorhance`,
    and `colorabcdhance`.
  prefs: []
  type: TYPE_NORMAL
- en: When you select a filter in the left menu, its description appears on the right
    in the dialog. Most descriptions are written for GIMP developers rather than typical
    users, but you can still learn from them. The description gives you a general
    sense of what the filter does, and the parameter description gives you an idea
    of what you can change in the filter dialog.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Filter all Layers dialog](httpatomoreillycomsourcenostarchimages1457086.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-7. The Filter all Layers dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'Once you’ve chosen a plug-in, the first two options at the bottom of the dialog
    may be active. They are inactive if the chosen plug-in does not have any parameters,
    as is the case for `plug-in-blur`. If these options are active, they let you choose
    *acceleration characteristics*:'
  prefs: []
  type: TYPE_NORMAL
- en: 0 means that the filter will be applied with the same parameter values for all
    layers. In this case, the box on the left is empty.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 1 means that the parameters will vary, from the first value given to the last
    one, with constant speed. The box on the left displays an ascending diagonal line.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A negative value means the speed of variation will decrease (deceleration).
    The box on the left displays a convex curve.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A positive value (other than 1) means the speed of variation will increase (acceleration).
    The box on the left displays a concave curve.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can set the acceleration value numerically or by using the small arrows
    on the right or by dragging the curve.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: After making your selections, click APPLY. If the filter has parameters, its
    dialog opens, with a preview and the variable parameters displayed. If the acceleration
    is 0, this dialog appears only once because the parameters are the same for all
    the layers. If the acceleration is not 0, the filter dialog appears twice, first
    for the bottom layer and then for the top layer. Remember, animations are played
    from bottom to top. A tiny warning dialog precedes the second filter dialog. In
    this second filter dialog, you choose the final values of the filter parameters.
    A new dialog appears and asks for the name of a backup file to be used for building
    the intermediate layers. This file is about the same size as the final animation,
    but you don’t need to save it, so the name isn’t important and the file can be
    stored in a temporary folder.
  prefs: []
  type: TYPE_NORMAL
- en: Click CONTINUE, and the filter is applied to all the layers, with parameters
    interpolated between the first and last values according to the acceleration factor.
  prefs: []
  type: TYPE_NORMAL
- en: You’ll also see a button for skipping a frame. It displays the number of the
    frame to skip, and if you click it, the dialog appears again, asking for the filename.
    You can choose to continue or to skip the next frame also. You can’t skip the
    first frame, however. One way to use the skip feature is to set the initial parameters
    so the filter does nothing and then begin applying the filter after skipping several
    frames. Doing this is the same as setting the acceleration to a high positive
    number.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Animation menu](httpatomoreillycomsourcenostarchimages1457088.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-8. The Animation menu
  prefs: []
  type: TYPE_NORMAL
- en: '![The Blend dialog](httpatomoreillycomsourcenostarchimages1457090.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-9. The Blend dialog
  prefs: []
  type: TYPE_NORMAL
- en: Filter all Layers has no undo capability, but you can use the normal undo (![](httpatomoreillycomsourcenostarchimages1453862.png.jpg))
    over and over, or you can open the UNDO HISTORY dialog. Of course, if you have
    many layers, undoing one layer at a time will be tedious, so save the original
    image before filtering all the layers.
  prefs: []
  type: TYPE_NORMAL
- en: 18.3 The Animation Menu
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We’ve already covered most of the tools for creating multilayer animations,
    but we need to discuss a few minor tools in the **Image: Filters > Animation**
    menu, shown in [Figure 18-8](ch18s02.html#animation_menu "Figure 18-8. The Animation
    menu").'
  prefs: []
  type: TYPE_NORMAL
- en: Blend
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Blend tool requires at least two layers plus a background layer.
  prefs: []
  type: TYPE_NORMAL
- en: You choose the number *n* of intermediate frames in the tool dialog ([Figure 18-9](ch18s02.html#blend_dialog
    "Figure 18-9. The Blend dialog")). The intermediate frames are a composite of
    the previous frame and the next one. A new image is built, with the number of
    layers equal to (*n* + 1) × *f*, where *f* is the total number of layers in the
    original image (not including the background layer). If you only have two layers,
    the new image has 2(*n* + 1) layers. The first layer fades out, then the next
    layer appears, and then the first one fades in again. If you have more layers,
    the layers fade in and out from the bottom layer to the top layer and then again
    from the top to the bottom layer.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Burn-In dialog](httpatomoreillycomsourcenostarchimages1457092.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-10. The Burn-In dialog
  prefs: []
  type: TYPE_NORMAL
- en: The animation created by this tool is very specific, so the applications are
    pretty limited.
  prefs: []
  type: TYPE_NORMAL
- en: Burn-In
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Burn-In tool generates an animation in which one image fades into another.
    This tool requires a starting image with two layers. The top layer *must* have
    an Alpha channel, and this layer must be selected or the tool is grayed out in
    the menu. [Figure 18-10](ch18s03.html#burn-in_dialog "Figure 18-10. The Burn-In
    dialog") shows the tool dialog. The upper part of the dialog specifies how the
    transition between layers is done.
  prefs: []
  type: TYPE_NORMAL
- en: When FADEOUT is checked, the upper layer progressively fades out from left to
    right, revealing the layer beneath. [Figure 18-11](ch18s03.html#fading_outcomma_without_glowing
    "Figure 18-11. Fading out, without glowing") shows an intermediate layer of the
    animation, with the FADEOUT WIDTH set to 200 pixels.
  prefs: []
  type: TYPE_NORMAL
- en: If ADD GLOWING is checked, a “glow” effect is added to the transition in the
    color specified in the GLOW COLOR box. [Figure 18-12](ch18s03.html#fading_outcomma_with_glowing
    "Figure 18-12. Fading out, with glowing") shows an intermediate layer of the animation,
    with the width of the Fadeout set to 250 pixels to take into account the width
    of the glow (50 pixels).
  prefs: []
  type: TYPE_NORMAL
- en: When FADEOUT is unchecked, the upper layer completely disappears. [Figure 18-13](ch18s03.html#with_glowingcomma_but_without_fading_out
    "Figure 18-13. With glowing, but without fading out") shows an intermediate layer
    of the animation when the glow effect is used. The animation speed is specified
    as the number of pixels in the upper layer that becomes transparent in every frame.
    The number of frames is automatically computed from this number.
  prefs: []
  type: TYPE_NORMAL
- en: '![Fading out, without glowing](httpatomoreillycomsourcenostarchimages1457094.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-11. Fading out, without glowing
  prefs: []
  type: TYPE_NORMAL
- en: '![Fading out, with glowing](httpatomoreillycomsourcenostarchimages1457096.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-12. Fading out, with glowing
  prefs: []
  type: TYPE_NORMAL
- en: '![With glowing, but without fading out](httpatomoreillycomsourcenostarchimages1457098.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-13. With glowing, but without fading out
  prefs: []
  type: TYPE_NORMAL
- en: Rippling
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This tool takes an image with one layer and builds an animation that simulates
    the reflection of the image on water with ripples created as if by wind. [Figure 18-14](ch18s03.html#rippling_dialog
    "Figure 18-14. The Rippling dialog") shows the Rippling tool dialog, and [Figure 18-15](ch18s03.html#one_layer_of_the_rippled_animation
    "Figure 18-15. One layer of the rippled animation") shows one layer of a rippled
    animation. RIPPLING STRENGTH sets the force of the wind. NUMBER OF FRAMES is the
    number of layers that are created.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Rippling dialog](httpatomoreillycomsourcenostarchimages1457100.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-14. The Rippling dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![One layer of the rippled animation](httpatomoreillycomsourcenostarchimages1457102.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-15. One layer of the rippled animation
  prefs: []
  type: TYPE_NORMAL
- en: '![Effect of rippling strength](httpatomoreillycomsourcenostarchimages1457104.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-16. Effect of rippling strength
  prefs: []
  type: TYPE_NORMAL
- en: EDGE BEHAVIOR specifies how the layer edges are handled. BLACK keeps image borders
    straight, and the two other modes (WRAP and SMEAR) deform the border in different
    ways.
  prefs: []
  type: TYPE_NORMAL
- en: The edge behavior effect is only apparent when the rippling strength is greater
    than the default value of 3.0\. A high rippling strength leads to dramatic image
    distortion, as shown in [Figure 18-16](ch18s03.html#effect_of_rippling_strength
    "Figure 18-16. Effect of rippling strength"), where the strength is set to 80.
  prefs: []
  type: TYPE_NORMAL
- en: '![A portrait with the face selected](httpatomoreillycomsourcenostarchimages1457106.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-17. A portrait with the face selected
  prefs: []
  type: TYPE_NORMAL
- en: '![The Selection to Animimage dialog](httpatomoreillycomsourcenostarchimages1457108.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-18. The Selection to Animimage dialog
  prefs: []
  type: TYPE_NORMAL
- en: Selection to Animimage
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Selection to Animimage tool is very similar to the Filter all Layers tool,
    discussed in [Filtering All Layers](ch18s02.html#filtering_all_layers "Filtering
    All Layers"). In this section, we focus on the differences between them.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 18-17](ch18s03.html#portrait_with_the_face_selected "Figure 18-17. A
    portrait with the face selected") shows an image with a single layer and a selection
    that has been made using the Free Select tool and corrected with the Quick Mask.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The Selection to Animimage tool dialog, accessed via **Image: Filters > Animation
    > Selection to Animimage**, is shown in [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog"). You can choose the number
    of layers to be generated. This plug-in automatically creates the layers, unlike
    the Filter all Layers tool. You can also choose the color used to fill the new
    image outside of the selection and whether to apply the filter to all new layers.
    If the filter is not applied to all new layers, the tool generates the layers
    without applying a filter.. . . So it just duplicates the layer!'
  prefs: []
  type: TYPE_NORMAL
- en: 'When you apply the filter, two new windows replace the dialog:'
  prefs: []
  type: TYPE_NORMAL
- en: A new image containing a copy of the selection made in the initial image, with
    the number of copies of the background layer specified in the preceding dialog
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A dialog identical to [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog") that lets you select a filter
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can choose the Cartoon filter, for example, and select APPLY VARYING to
    open the Cartoon filter dialog (see [Figure 17-148](ch17s10.html#cartoon_dialog
    "Figure 17-148. The Cartoon dialog")) for the first layer. Set the PERCENT BLACK
    to 0, and click OK. In the next dialog, set PERCENT BLACK to 1.000 for the final
    layer.
  prefs: []
  type: TYPE_NORMAL
- en: The result is an animation that progressively transforms the portrait into a
    cartoon.
  prefs: []
  type: TYPE_NORMAL
- en: Spinning Globe
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Spinning Globe tool automatically maps an image to a globe and then makes
    it spin. Simply select an image, open the tool, set the two parameters, and decide
    whether the three checkboxes should be checked, and the computer does the work.
  prefs: []
  type: TYPE_NORMAL
- en: The image you use determines the shape of the globe. If the image is a true
    square, the globe is a sphere. Otherwise, it is an ellipsoid.
  prefs: []
  type: TYPE_NORMAL
- en: 'To demonstrate, we used the same portrait as before. When we select the Spinning
    Globe tool (**Image: Filters > Animation > Spinning Globe**), the dialog shown
    in [Figure 18-19](ch18s03.html#spinning_globe_dialog "Figure 18-19. The Spinning
    Globe dialog") appears. Here, we choose the number of frames. For a photograph,
    10 is too few and would make the animation jerky. For a simple graphic, however,
    10 frames might be enough. You can also choose the rotation direction, which is
    right to left by default, and whether the background of the animation is transparent
    (you can add a background later) or uses the background color. The animation can
    use indexing with a given number of colors, which is wise if you plan to export
    the animation to GIF. Finally, you can choose to work on a copy of the image.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Spinning Globe dialog](httpatomoreillycomsourcenostarchimages1457110.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-19. The Spinning Globe dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![Final animation](httpatomoreillycomsourcenostarchimages1457112.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-20. Final animation
  prefs: []
  type: TYPE_NORMAL
- en: Here, we change FRAMES to 30 and uncheck TRANSPARENT BACKGROUND. [Figure 18-20](ch18s03.html#final_animation-id00187
    "Figure 18-20. Final animation") shows the animation stopped on frame 2.
  prefs: []
  type: TYPE_NORMAL
- en: Waves
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Waves tool is even easier to use than Spinning Globe, and the result isn’t
    too bad either. The Waves tool generates an animation that looks like the waves
    created when a stone is thrown into a still lake.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Waves dialog](httpatomoreillycomsourcenostarchimages1457114.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-21. The Waves dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'When you select the Waves tool, the dialog shown in [Figure 18-21](ch18s03.html#waves_dialog-id00189
    "Figure 18-21. The Waves dialog") appears. The rock always falls in the center
    of the image, and the proportions of the concentric waves are determined by the
    image itself. But you can choose the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The number of frames. Six frames is normally enough.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The amplitude and wavelength of the waves. The default values are usually fine.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The direction of the movement. If you click INVERT DIRECTION, the waves move
    toward the center of the animation and disappear, which is a weird effect since
    it runs contrary to known physics.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Click OK to generate the frames. [Figure 18-22](ch18s03.html#waves_animationcomma_before_left_parenth
    "Figure 18-22. The Waves animation, before (left) and after (right)") shows the
    initial image and the animation’s effect.
  prefs: []
  type: TYPE_NORMAL
- en: Optimizing and Playing an Animation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The Animation menu has four additional entries, which let you optimize and
    play back your animations:'
  prefs: []
  type: TYPE_NORMAL
- en: OPTIMIZE (FOR GIF) is probably the option you’ll use most frequently. It saves
    a multilayer image as a GIF animation. This tool has no dialog and generates a
    new image with the same layers as the original image but at a (hopefully) reduced
    size.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PLAYBACK tests an animation generated as a multilayer image. In this tool’s
    dialog, the image appears in its original size without any zoom, which can be
    problematic if the image is larger than the screen because the toolbar may appear
    off-screen. If that happens, just use ![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)
    to close the dialog.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Waves animation, before (left) and after (right)](httpatomoreillycomsourcenostarchimages1457116.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-22. The Waves animation, before (left) and after (right)
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: The toolbar buttons should be self-explanatory with the exception of DETACH,
    which removes the image animation from its frame and allows you to move the frame.
    If you then want to use ![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)
    to close the frame, make sure the frame window (and not the full animation) is
    selected first.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: OPTIMIZE (DIFFERENCE) has almost the same effect as OPTIMIZE (FOR GIF). The
    main difference is that OPTIMIZE (DIFFERENCE) keeps all layers the same size as
    the image, whereas OPTIMIZE (FOR GIF) tries to make every layer as small as possible.
    The size of the generated file can vary slightly, but predicting which filter
    will produce the smallest file is difficult.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: UNOPTIMIZE is useful if you’re editing an animation that’s already optimized.
    If you want to add or remove frames, you need to undo the optimization first,
    then make the changes, and finally reoptimize the animation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 18.4 The Move Path Tool
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The rest of this chapter focuses on multi-image animations. As explained in
    [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), multi-image animations are usually stored
    in a specific folder with each frame as a separate file named systematically (*name*`-0001.xcf`,
    for example). The number of digits determines the maximum number of frames, which
    would be 9999 in this example. The number changes, but the *name* is the same
    for all frames. The file could be any type handled by GIMP, but XCF is the best
    choice because it is the only one that handles layers and selections.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In this section, we explore GAP’s primary tool, accessed via **Image: Video
    > Move Path**.'
  prefs: []
  type: TYPE_NORMAL
- en: This tool copies layers from a source image to a target animation. During the
    copy process, the layers can be transformed in various ways. The source image
    can be a single- or multilayer image or a multiframe animation. The target animation
    must be multiframe because the Move Path tool does not generate frames.
  prefs: []
  type: TYPE_NORMAL
- en: 'Before using the Move Path tool, open the first frame of the target animation
    and the source image or animation in GIMP. The source and target images must be
    of the same type: RGB, indexed, or grayscale, but they cannot be the same file.
    If you want to duplicate something in an animation using this tool, you must copy
    the animation first, so the source and target are different files.'
  prefs: []
  type: TYPE_NORMAL
- en: To demonstrate the Move Path tool, we chose a multilayer animation as the source
    and the multiframe animation in [Figure 6-43](ch06s04.html#frame_14_of_the_animation
    "Figure 6-43. Frame 14 of the animation") as the target. The tool’s large and
    complex dialog is shown in [Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog"). To make things clearer, we’ll highlight
    certain parts of the dialog in subsequent figures.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Move Path dialog](httpatomoreillycomsourcenostarchimages1457118.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-23. The Move Path dialog
  prefs: []
  type: TYPE_NORMAL
- en: Choosing the Source Layers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Because the tool’s purpose is to copy layers to frames, you need to decide which
    layers to copy to which frames. One copy of the selected layer from the source
    image is added to each frame of the target.
  prefs: []
  type: TYPE_NORMAL
- en: You choose the source layer in the top-left part of the dialog ([Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog")). The menu SOURCE IMAGE/LAYER shows all
    the layers of the source image or all the frames of the source animation. If the
    source is a multiframe animation and the individual frames have more than one
    layer, the layers are flattened before being copied. We chose 1 layer from a 41-layer
    image as the source.
  prefs: []
  type: TYPE_NORMAL
- en: 'The STEPMODE menu lets you choose how to select a layer when the source image
    is multilayer or a frame when it is multiframe. When the source image is a single
    layer, choose NONE. When the source is a multilayer image, as in our example,
    you can choose from five different step modes:'
  prefs: []
  type: TYPE_NORMAL
- en: LOOP selects the layers in sequence, one for each successive target frame (depending
    on SPEEDFACTOR, discussed in a bit). When the last layer is the source, the loop
    starts with this layer, followed by the first layer and then the rest of the layers
    in order.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LOOP REVERSE is the same as LOOP, except the source layers are selected in reverse
    order.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ONCE is the same as LOOP, except that copying stops after the last layer instead
    of looping back to the first layer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Choosing transformation parameters for the selected layer](httpatomoreillycomsourcenostarchimages1457120.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-24. Choosing transformation parameters for the selected layer
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: ONCE REVERSE is the same as ONCE, except that source layers are selected in
    reverse order.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PING PONG selects the layers in sequence first and, once the last layer has
    been selected, reverses the sequence.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When the source animation is multiframe, STEPMODE offers six equivalent modes
    whose names all begin with FRAME. When a frame has several layers, the layer selected
    in one frame is irrelevant because all visible layers in the frame are flattened
    and the step mode selects among the frames, not the layers.
  prefs: []
  type: TYPE_NORMAL
- en: The last parameter dealing with layer selection is SPEEDFACTOR, which changes
    how fast the source layers are stepped through. When its value is 1.0, the source
    and target step are synchronized. When its value is 0.5, the source steps to half
    speed, so each layer is copied into two successive frames before stepping to the
    next one. When its value is 2.0, the source steps to double speed, so every other
    layer is copied.
  prefs: []
  type: TYPE_NORMAL
- en: The speed factor is irrelevant if STEPMODE is NONE or FRAME NONE.
  prefs: []
  type: TYPE_NORMAL
- en: Choosing the Destination Frames
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You choose the target animation in the bottom-right part of the dialog ([Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog")). The FROM FRAME and TO FRAME cursors delimit
    the range of target frames. They are set to the full range of the target by default,
    so the changes are applied to the entire animation, but you can choose to target
    only a part of the animation.
  prefs: []
  type: TYPE_NORMAL
- en: FORCE VISIBILITY makes all source layers visible even if they are not visible
    in the source. CLIP TO FRAME clips the copied layers to the image boundaries of
    the target frames. LAYERSTACK specifies where the copied layers should be inserted
    in the layer stack of target frames. The default value, 0, is the top of the stack
    because existing layers are numbered from top to bottom, starting at 0.
  prefs: []
  type: TYPE_NORMAL
- en: Applying Transformations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[Figure 18-24](ch18s04.html#choosing_transformation_parameters_for_t "Figure 18-24. Choosing
    transformation parameters for the selected layer") shows the sections of the Move
    Path dialog where you can choose to apply transformations. You can decide where
    the transformation will be applied using the X and Y coordinates. The HANDLE menu
    specifies where in the selected layer the origin of these coordinates is located.
    The possibilities are LEFT TOP, LEFT BOTTOM, RIGHT TOP, RIGHT BOTTOM, and CENTER.
    CENTER is generally the best choice, especially if rotation or scaling is applied
    to the layer.'
  prefs: []
  type: TYPE_NORMAL
- en: A blending mode can be applied to the layer in the target frame using the MODE
    menu.
  prefs: []
  type: TYPE_NORMAL
- en: You can scale the source later by setting WIDTH and HEIGHT. These values are
    percentages. If the chain to the right of the counters is broken, the values can
    be changed independently.
  prefs: []
  type: TYPE_NORMAL
- en: OPACITY is specified as a percentage. ROTATE is specified in degrees, and a
    negative value results in a counterclockwise rotation. The rotation center is
    the image’s handle.
  prefs: []
  type: TYPE_NORMAL
- en: Two more tabs deal with layer transformation. [Figure 18-25](ch18s04.html#perspective_tab_for_transforming_the_per
    "Figure 18-25. The Perspective tab for transforming the perspective") shows the
    PERSPECTIVE tab for transforming perspective. The eight counters specify the factors
    for the *x*- and *y*-coordinates of the four corners of the layer. If the values
    for all factors are 1.0, no transformation occurs. Scaling with factor 0 moves
    the point toward the middle. Scaling with factor 2.0 moves the point outward by
    half the layer’s original dimension. [Figure 18-26](ch18s04.html#perspective_deformation
    "Figure 18-26. Perspective deformation") shows the layer’s four corners numbered
    in red. The black numbers show factors, and the dotted outlines show the resulting
    positions of pixels.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Perspective tab for transforming the perspective](httpatomoreillycomsourcenostarchimages1457122.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-25. The Perspective tab for transforming the perspective
  prefs: []
  type: TYPE_NORMAL
- en: '![Perspective deformation](httpatomoreillycomsourcenostarchimages1457124.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-26. Perspective deformation
  prefs: []
  type: TYPE_NORMAL
- en: '![The Selection Handling tab](httpatomoreillycomsourcenostarchimages1457126.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-27. The Selection Handling tab
  prefs: []
  type: TYPE_NORMAL
- en: 'If the source image has a selection, you can control how it’s handled on the
    SELECTION HANDLING tab shown in [Figure 18-27](ch18s04.html#selection_handling_tab
    "Figure 18-27. The Selection Handling tab"). The menu at the top of the tab has
    three options:'
  prefs: []
  type: TYPE_NORMAL
- en: IGNORE SELECTION (IN ALL SOURCE IMAGES) ignores the selection.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: USE SELECTION (FROM INITIAL SOURCE IMAGE) applies the selection found in the
    first frame to all copied layers. The unselected pixels are transparent.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Acceleration handling](httpatomoreillycomsourcenostarchimages1457128.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-28. Acceleration handling
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: USE SELECTIONS (FROM ALL SOURCE IMAGES) is the same as the previous choice if
    the source image is a multilayer animation. If the source is multiframe, then
    the selection within each frame is used, and if a frame has no selection, that
    frame is copied in its entirety.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When selection handling is used, you can adjust feathering with the SELECTION
    FEATHER RADIUS cursor, which changes the number of pixels that are applied in
    the feathering boundary.
  prefs: []
  type: TYPE_NORMAL
- en: All the preceding parameters (movement, scale, perspective, opacity, rotation,
    and feathering) are controlled on the ACCELERATION tab ([Figure 18-28](ch18s04.html#acceleration_handling
    "Figure 18-28. Acceleration handling")). Each of those six parameters is associated
    with a numeric field [–100 to 100] and a small square. If the field value is zero,
    the movement has a constant speed (i.e., there is no acceleration). If the field
    value is positive, the movement accelerates, and the small square displays a curve
    showing the steepness of the acceleration. If the field value is negative, the
    movement decelerates. You can change the field by typing a value, clicking the
    small up and down arrows, or dragging in the small square.
  prefs: []
  type: TYPE_NORMAL
- en: Control Points
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A *control point* is the set of transformation parameters that are applied to
    a layer. You can define a single control point for all frames being handled by
    the Move Path tool, or you can define a sequence of control points, which together
    constitute a *control path*.
  prefs: []
  type: TYPE_NORMAL
- en: When you have a single control point, the transformation parameters are applied
    with the same values to all layer copies to the target frames. If you have several
    control points, they are distributed among target frames. The first and last control
    points always correspond to the first and last frames. Other control points are
    usually distributed evenly among rest of the target frames.
  prefs: []
  type: TYPE_NORMAL
- en: '![Specifying the control points](httpatomoreillycomsourcenostarchimages1457130.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-29. Specifying the control points
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 18-29](ch18s04.html#specifying_the_control_points "Figure 18-29. Specifying
    the control points") shows the section of the dialog that is focused on control
    points. The number of the current control point is displayed at the top of the
    dialog, just above the X and Y cursors. Any changes to transformation parameters
    apply only to the current control point. Note that in the following discussion,
    when we refer to transformation parameters, we are not referring to the *x*- and
    *y*-coordinates. This dialog has 14 buttons associated with control points.'
  prefs: []
  type: TYPE_NORMAL
- en: ADD POINT adds a control point after the last one, with the same transformation
    parameters as that last point.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GRAB PATH deletes all control points and replaces them with the path’s anchor
    points (see [13.3 The Paths Tool](ch13s03.html "13.3 The Paths Tool")) in the
    image from which the Move Path tool was opened. All of these points are initialized
    with transformation values identical to the current settings.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) and
    click GRAB PATH, control points are created for all target frames, with intermediate
    points defined by the Bézier curve that follows the anchor points.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: INSERT POINT duplicates the current control point, and the new copy becomes
    the current point.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DELETE POINT removes the current control point. Note that undo is not available.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: PREV POINT makes the previous control point the current one. When you define
    key frames (discussed in [Key Frames](ch18s04.html#key_frames "Key Frames")) and
    press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg), the control
    point from the previous key frame becomes the current control point.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: NEXT POINT does the same for the next control point or key frame.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FIRST POINT does the same for the first control point (or key frame when pressing
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAST POINT does the same for the last control point or key frame.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: RESET POINT resets the transformation parameters of the current control point
    to the default values of 100.0 for width, height, and opacity; 0.0 for rotation;
    and 1.0 for all perspective coordinates.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: RESET ALL POINTS resets all control points to the default values. If you press
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg), this button resets
    all control points to the values of the first point. If you press ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg),
    it sets all control point parameters to values interpolated from the first and
    last control points.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ROTATE FOLLOW computes rotation values for all the control points based on the
    path defined by the *x*- and *y*-coordinates. If an object moves horizontally
    from left to right, its rotation is set to 0°. When moving from right to left,
    its rotation is set to 180°; and when moving vertically, from top to bottom, it’s
    set to 90°. When you press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg),
    a rotation offset is taken from the rotation of the first point and added to the
    rotation of all other points, which allows you to move an object from right to
    left without turning it upside down.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DELETE ALL POINTS removes all control points except the first one, which is
    reset to the default value.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: OPEN loads control point parameters from a file.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SAVE saves the control point parameters to a file.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Key Frames
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You will always have fewer control points than target frames, and, by default,
    the control points are distributed equally among the frames. You can use *key
    frames* to change this.
  prefs: []
  type: TYPE_NORMAL
- en: The KEYFRAME counter is at the top of the dialog, just below the X and Y coordinates.
    If its value is zero, the current control point is not attached to any key frame.
    Otherwise, the current control point is attached to the target frame specified
    by that number, which means the control points don’t have to be assigned to frames
    evenly. So you can apply transformations that accelerate or slow down as the animation
    plays.
  prefs: []
  type: TYPE_NORMAL
- en: The Preview Window
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The preview window in the center of the dialog initially shows only the first
    target frame. Several buttons and a cursor help you control this preview ([Figure 18-30](ch18s04.html#controlling_the_preview
    "Figure 18-30. Controlling the preview")).
  prefs: []
  type: TYPE_NORMAL
- en: The FRAME cursor determines which frame is displayed when you click REFRESH.
    When INSTANT APPLY is checked, changes are applied as soon as you change the counter
    value, which can be processor intensive if you’re working with large target animations.
  prefs: []
  type: TYPE_NORMAL
- en: When CURSOR is checked, crossed lines are displayed in the preview window, showing
    the position of the *x*- and *y*-coordinates. When PATH is checked, the path between
    the coordinates of the successive control points is also displayed in the preview
    window.
  prefs: []
  type: TYPE_NORMAL
- en: The small box to the left of the PATH button lets you change the path color
    via the Color chooser.
  prefs: []
  type: TYPE_NORMAL
- en: Testing the Move Path Tool
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you click OK at the bottom right of the Move Path dialog, the transformation
    specified by the control points is performed. Not every transformation can be
    undone, so always click ANIM PREVIEW first to make sure all the control points
    and parameters are set up properly.
  prefs: []
  type: TYPE_NORMAL
- en: '![Controlling the preview](httpatomoreillycomsourcenostarchimages1457132.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-30. Controlling the preview
  prefs: []
  type: TYPE_NORMAL
- en: '![The Anim Preview dialog](httpatomoreillycomsourcenostarchimages1457134.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-31. The Anim Preview dialog
  prefs: []
  type: TYPE_NORMAL
- en: When you click either OK or ANIM PREVIEW, the Move Path tool first checks whether
    the number of control points is greater than the number of target frames and whether
    the key frames are in ascending or descending order (if key frames are used).
  prefs: []
  type: TYPE_NORMAL
- en: If the tool finds more control points than target frames, or if the key frames
    are not all ordered in the same way, you’ll see an error message, and no transformation
    is performed.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you don’t get an error message, ANIM PREVIEW opens the dialog shown in [Figure 18-31](ch18s04.html#anim_preview_dialog-id00191
    "Figure 18-31. The Anim Preview dialog"). The animation preview is a scaled-down,
    multilayer file, and the Playback tool (usually selected via **Image: Filters
    > Animation > Playback**) opens automatically.'
  prefs: []
  type: TYPE_NORMAL
- en: 'ANIM PREVIEW MODE can have one of three values:'
  prefs: []
  type: TYPE_NORMAL
- en: OBJECT ON EMPTY FRAMES shows the copied layers on blank frames (rather than
    the target frames) filled with the background color.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: OBJECT ON ONE FRAME shows the copied layers on the frame displayed in the preview
    window of the tool dialog.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Advanced Settings tab](httpatomoreillycomsourcenostarchimages1457136.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-32. The Advanced Settings tab
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: EXACT OBJECT ON FRAMES shows a scaled-down version of the final animation.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The third option takes much longer to generate, but the preview more closely
    approximates the final result.
  prefs: []
  type: TYPE_NORMAL
- en: SCALE PREVIEW changes how much the preview is scaled down. If the setting is
    100.0, the preview isn’t scaled down and takes a long time to process. Usually
    a value between 20 to 40 is ideal. FRAMERATE sets the animation speed in frames
    per second. COPY TO VIDEO BUFFER, when checked, may produce a smoother animation.
  prefs: []
  type: TYPE_NORMAL
- en: The preview is generated as a new, multilayer animation, which you can delete
    once you’ve watched it.
  prefs: []
  type: TYPE_NORMAL
- en: Advanced Settings
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Move Path dialog has an Advanced Settings tab, shown in [Figure 18-32](ch18s04.html#advanced_settings_tab
    "Figure 18-32. The Advanced Settings tab").
  prefs: []
  type: TYPE_NORMAL
- en: When checked, BLUEBOX applies the Bluebox filter to the selected layer, as explained
    in [Bluebox](ch18s05.html#bluebox "Bluebox"). KEYCOLOR is used with the Bluebox
    filter and opens the Bluebox dialog.
  prefs: []
  type: TYPE_NORMAL
- en: The TRACELAYER box, when checked, creates an additional layer in all target
    frames. This layer shows all positions of the moving layer from the beginning
    of the animation to the previous frame. TRACEOPACITY1 specifies the opacity of
    this additional layer. TRACEOPACITY2 specifies how much this opacity fades out.
  prefs: []
  type: TYPE_NORMAL
- en: TWEENSTEPS specifies the number of virtual frames, called *tweens*, that are
    computed between two consecutive frames and included in a *tween layer* in the
    target frame below the stack position of the inserted layer. This tween layer
    shows the positions of the moving object in all virtual frames. The opacity of
    this layer is specified by the TWEENOPACITY1 counter and fades out at the older
    positions, depending on the value of the TWEENOPACITY2 counter.
  prefs: []
  type: TYPE_NORMAL
- en: When you have both a trace layer and a tween layer, the tween layer is invisible
    so the opacity of the moving object does not increase. These additional layers
    can be useful for simulating the motion blur of fast-moving objects.
  prefs: []
  type: TYPE_NORMAL
- en: 18.5 The Video Menu
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We’ve already covered two tools in the **Image: Video** menu—the Morph tool
    and the Move Path tool. In this section, we’ll discuss the remaining tools. This
    menu is organized alphabetically, but we’ll discuss the tools in a logical order
    instead.'
  prefs: []
  type: TYPE_NORMAL
- en: Manipulating Frames
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Many entries in the Video menu deal with frame manipulations, but quite a few
    also perform very simple actions.
  prefs: []
  type: TYPE_NORMAL
- en: 'The **Image: Video > Go To** menu contains five entries that change the current
    frame in a multiframe animation. The function of the FIRST FRAME, LAST FRAME,
    NEXT FRAME, and PREVIOUS FRAME entries are obvious. ANY FRAME opens a dialog where
    you can select a frame by number.'
  prefs: []
  type: TYPE_NORMAL
- en: DELETE FRAMES lets you delete a subrange of frames, beginning at the current
    frame and ending at the chosen number.
  prefs: []
  type: TYPE_NORMAL
- en: DUPLICATE FRAMES opens the dialog in [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog"). You can choose the starting and
    ending frame numbers and the number of times to duplicate that range.
  prefs: []
  type: TYPE_NORMAL
- en: EXCHANGE FRAME opens a dialog where you can select the number of the frame to
    be exchanged with the current one.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Duplicate Frames dialog](httpatomoreillycomsourcenostarchimages1457138.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-33. The Duplicate Frames dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frame Sequence Shift dialog](httpatomoreillycomsourcenostarchimages1457140.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-34. The Frame Sequence Shift dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames Density dialog](httpatomoreillycomsourcenostarchimages1457142.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-35. The Frames Density dialog
  prefs: []
  type: TYPE_NORMAL
- en: FRAME SEQUENCE REVERSE opens a dialog with two sliders, one for the numbers
    of the FROM FRAME and the other for the TO FRAME. This tool reverses the sequence,
    so 3–4–5–6–7 becomes 7–6–5–4–3.
  prefs: []
  type: TYPE_NORMAL
- en: FRAME SEQUENCE SHIFT opens the dialog shown in [Figure 18-34](ch18s05.html#frame_sequence_shift_dialog
    "Figure 18-34. The Frame Sequence Shift dialog"). The first two sliders define
    a frame subrange, and the last cursor, N-SHIFT, specifies the amount of circular
    shift that will be applied to the subrange. The first frame of the sequence is
    renumbered *N* places farther along in the range, and so on, until the last frame,
    which is *N* – 1 places farther than the first frame.
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES RENUMBER opens a dialog with two sliders. The first specifies the new
    number of the first frame, and the second specifies the number of digits of the
    frame numbers. All the frames are renumbered.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames Convert dialog](httpatomoreillycomsourcenostarchimages1457144.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-36. The Frames Convert dialog
  prefs: []
  type: TYPE_NORMAL
- en: Selecting FRAMES DENSITY opens the dialog shown in [Figure 18-35](ch18s05.html#frames_density_dialog
    "Figure 18-35. The Frames Density dialog"). This dialog allows you to duplicate
    frames if the density is increased and delete frames if the density is decreased.
  prefs: []
  type: TYPE_NORMAL
- en: The first two cursors are used to select a subrange of the animation. DENSITY
    can range from 1.0 to 100.0\. When INCREASE DENSITY is checked, the density is
    multiplied by this factor. Otherwise it’s divided by this factor.
  prefs: []
  type: TYPE_NORMAL
- en: Use the Frames Density tool to combine two animations with different frame rates
    without changing playback speed. For example, you could convert an animation with
    a frame rate of 8 frames per second to 24 frames per second by choosing a density
    of 3.0, which will add two copies of every frame to the original animation. If
    your animation is jerky after you increase the density, try creating *onionskin*
    layers (see [Onionskin](ch18s05.html#onionskin "Onionskin")).
  prefs: []
  type: TYPE_NORMAL
- en: Because the Frames Density tool has no undo, work with a copy of your animation
    so you can return to the original if you make a mistake.
  prefs: []
  type: TYPE_NORMAL
- en: Converting Between File Formats
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: FRAMES CONVERT converts a subrange of the multiframe animation to a different
    format. The Frames Convert dialog is shown in [Figure 18-36](ch18s05.html#frames_convert_dialog
    "Figure 18-36. The Frames Convert dialog"). FROM FRAME and TO FRAME set the subrange.
    The BASENAME specifies where the new frames are stored. The small box at the right
    opens the file manager dialog that you can use to select the location.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames Crop dialog](httpatomoreillycomsourcenostarchimages1457146.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-37. The Frames Crop dialog
  prefs: []
  type: TYPE_NORMAL
- en: Use the EXTENSION field to select the format that you want to convert the animation
    to. The IMAGETYPE menu allows you convert the animation to RGB, indexed, or grayscale.
    Be sure to convert to indexed if you choose GIF as the output format.
  prefs: []
  type: TYPE_NORMAL
- en: When checked, FLATTEN flattens the layers in the output files, which is necessary
    for most output formats. This tool can be used to convert numerous files at the
    same time, using many possible input and output formats, as long as the files
    share a systematic naming scheme.
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES CROP is used to crop *all* frames of a multiframe animation to a new
    width and height. Its dialog is shown in [Figure 18-37](ch18s05.html#frames_crop_dialog
    "Figure 18-37. The Frames Crop dialog"). This tool acts on the animation (not
    a copy), and the regions of the frames outside the cropped area are discarded.
  prefs: []
  type: TYPE_NORMAL
- en: You can change the width and height of the crop with the NEW WIDTH and NEW HEIGHT
    fields. The X RATIO and Y RATIO fields also modify the cropping. If the chain
    to the right of these fields is broken, the X and Y dimensions can be changed
    independently.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames Scale dialog](httpatomoreillycomsourcenostarchimages1457148.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-38. The Frames Scale dialog
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve changed the dimensions, you can define what part of the source image
    remains after cropping using the X and Y fields or using the CENTER HORIZONTAL
    and CENTER VERTICAL buttons. You can also click and drag in the small rectangular
    area at the bottom of the dialog.
  prefs: []
  type: TYPE_NORMAL
- en: Use FRAMES RESIZE to change the canvas size of all frames of a multiframe animation.
    It opens the same dialog as the Frames Crop tool. If the new canvas is smaller
    than the original, the result is the same as cropping.
  prefs: []
  type: TYPE_NORMAL
- en: 'FRAMES SCALE changes the scale of all frames in a multiframe animation. Its
    dialog, shown in [Figure 18-38](ch18s05.html#frames_scale_dialog "Figure 18-38. The
    Frames Scale dialog"), contains the same fields as the top half of the Frames
    Crop and Frames Resize dialogs. The algorithm used to scale the frames can be
    changed in the GIMP Preferences (**Image: Edit > Preferences**, TOOL OPTIONS entry,
    DEFAULT INTERPOLATION field).'
  prefs: []
  type: TYPE_NORMAL
- en: Modifying Frames
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: FRAMES MODIFY is a very powerful tool that you can use to modify selected layers
    in a subrange of the current multiframe animation. Its dialog is shown in [Figure 18-39](ch18s05.html#frames_modify_dialog
    "Figure 18-39. The Frames Modify dialog"). The layers are selected based on their
    name or their number in the layer stack (0 at the top). Under the heading LAYER
    SELECTION are seven radio buttons, the first six of which use the LAYER PATTERN
    field just below. Most of the radio buttons are self-explanatory.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames Modify dialog](httpatomoreillycomsourcenostarchimages1457150.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-39. The Frames Modify dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![Choosing a function](httpatomoreillycomsourcenostarchimages1457152.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-40. Choosing a function
  prefs: []
  type: TYPE_NORMAL
- en: The first four buttons match a string pattern to the exact name of the layer
    or to a part of its name. The next two choices use a list of layer stack numbers
    as the pattern. For example, the list “0, 4–6, 8” selects layers 0, 4, 5, 6, and
    8\. The last choice selects all visible layers.
  prefs: []
  type: TYPE_NORMAL
- en: When you use a string pattern, the CASE SENSITIVE box allows you to distinguish
    `Background` from `background`. In all cases, checking the INVERT LAYER SELECTION
    box selects all layers that don’t match your criteria.
  prefs: []
  type: TYPE_NORMAL
- en: As usual, select the frame subrange with the FROM FRAME and TO FRAME sliders.
  prefs: []
  type: TYPE_NORMAL
- en: The most complicated part of using the Frames Modify tool is choosing the function
    to apply to the selected layers and frames.
  prefs: []
  type: TYPE_NORMAL
- en: '[Figure 18-40](ch18s05.html#choosing_a_function "Figure 18-40. Choosing a function")
    shows the FUNCTION button menus, located at the top of the dialog.'
  prefs: []
  type: TYPE_NORMAL
- en: LAYER ATTRIBUTES lets you perform simple operations in the layers, which you
    can also do by right-clicking the layer name in the Layers dialog.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAYER MODES contains the 22 blending modes, also selected from the MODE menu
    in the Layers dialog.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: LAYER STACKPOSITION moves layers up and down in the stack.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MERGE LAYERS merges the selected layers into one. The resulting layer can be
    clipped to the canvas or to the background layer or expanded to the canvas.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'SELECTION has several functions. The first four functions (REPLACE, ADD, SUBTRACT,
    and INTERSECT) take the selection from the frame that was used to open the tool
    and combine it with existing selections in all frames of the subrange. The remaining
    functions alter selections in the same ways as the entries in the **Image: Select**
    menu.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'LAYER MASK includes several functions. The first seven functions are found
    by selecting the **Image: Layer > Mask > Add Layer Mask** dialog or by right-clicking
    the layer name in the Layers dialog. The next three functions are also found in
    the **Image: Layer > Mask** menu. The remaining two copy a layer mask from the
    layer above or below and then apply that mask to all selected layers. The meaning
    of the other entries in this menu should be clear from their names alone.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note that some functions require you to enter a name in the field just below
    the name of the function in the tool dialog.
  prefs: []
  type: TYPE_NORMAL
- en: The function APPLY FILTER ON LAYER(S) opens a dialog when you click OK. This
    dialog is the same as the one shown in [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog"), and it works the same way.
    But this tool operates on several layers at the same time, within a subrange of
    frames.
  prefs: []
  type: TYPE_NORMAL
- en: The function APPLY FILTER ON LAYER MASK (in the LAYER MASK submenu) applies
    the selected filter to the layer mask instead of the layer itself. If the first
    selected layer in the first frame in the subrange does not have a layer mask,
    you’ll get an error. If the selected filter is applied with varying values, the
    first selected layer in the last frame in the subrange must have a layer mask
    too. If intermediate layers in intermediate frames have no layer mask, they are
    skipped while GIMP processes the frame subrange.
  prefs: []
  type: TYPE_NORMAL
- en: To use this powerful tool properly, you should use the same layer stack structure
    in all frames. We also recommend using meaningful names for the layers—and to
    do so systematically for all frames.
  prefs: []
  type: TYPE_NORMAL
- en: Altering Layers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Several tools in the Video menu, such as FRAMES MODIFY (discussed in the previous
    section), deal with the layers of the animation frames. In this section, we discuss
    other tools in the Video menu that alter layers.
  prefs: []
  type: TYPE_NORMAL
- en: FILENAME TO LAYER creates a new layer in all frames of the subrange that contains
    the filename. Its dialog is shown in [Figure 18-41](ch18s05.html#filename_to_layer_dialog
    "Figure 18-41. The Filename to Layer dialog"). In the MODE menu, you can choose
    to use only the number from the filename, the full name, or a combination of the
    path and the name. Specify the font in the FONTNAME field with the FONT BROWSER
    button.
  prefs: []
  type: TYPE_NORMAL
- en: You can also choose the font size and the coordinates of the upper-left corner
    of the name. Leave the ANTIALIAS box checked. If the CREATE LAYER box is unchecked,
    the name is written on the active layer.
  prefs: []
  type: TYPE_NORMAL
- en: 'To use the tool to number all of the frames in a subrange of an animation,
    you must select the Filename to Layers tool from the **Image: Video > Frames Modify**
    menu, using the APPLY FILTER ON LAYER(S) function (called `plug_in_gap_renumber`).'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Filename to Layer dialog](httpatomoreillycomsourcenostarchimages1457154.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-41. The Filename to Layer dialog
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES FLATTEN flattens all frames (merges all layers) in the specified subrange.
    It has a dialog with two sliders, similar to the top part of [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog").
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES LAYER DELETE deletes one specific layer in all frames of the subrange.
    It opens a dialog with three sliders, similar to [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog").
  prefs: []
  type: TYPE_NORMAL
- en: 'The **Image: Video > Layer** menu has several entries that can be accessed
    directly but are much more useful when accessed from the **Image: Filters > Filter
    all Layers** tool or the **Image: Video > Frames Modify** tool.'
  prefs: []
  type: TYPE_NORMAL
- en: Converting Between Multilayer and Multiframe
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Two tools can be used to convert a multilayer animation to a multiframe one,
    and vice versa.
  prefs: []
  type: TYPE_NORMAL
- en: SPLIT IMAGE TO FRAMES must be opened from a multilayer image. Its dialog appears
    in [Figure 18-42](ch18s05.html#split_image_to_frames_dialog "Figure 18-42. The
    Split Image to Frames dialog"). You can’t choose names for the new frames or their
    position in the folder hierarchy. To save the new frames in a particular folder,
    place the source image in that folder before splitting it into frames.
  prefs: []
  type: TYPE_NORMAL
- en: 'The EXTENSION is XCF, by default, and it is the safest extension to use, but
    you can enter any format supported by GIMP. The dialog has four checkboxes that,
    when checked, do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: INVERSE ORDER starts with the first frame (the top layer) instead of the bottom
    frame.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Split Image to Frames dialog](httpatomoreillycomsourcenostarchimages1457156.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-42. The Split Image to Frames dialog
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: FLATTEN flattens the new frames, and any transparent areas are filled with the
    background color .
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ONLY VISIBLE ignores invisible layers. When unchecked, all layers generate a
    frame, regardless of their visibility.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: COPY PROPERTIES copies the channels, paths, and guides existing in the image
    to all the frames. When unchecked, these properties are ignored.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finally, the DIGITS counter specifies the number of digits contained in the
    numeric part of the frame names.
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES TO IMAGE creates a multilayer image from frames, so it must be opened
    from a multiframe animation. Its dialog is shown in [Figure 18-43](ch18s05.html#frames_to_image_dialog-id00192
    "Figure 18-43. The Frames to Image dialog").
  prefs: []
  type: TYPE_NORMAL
- en: The first two sliders specify the subrange of the frames that will be used to
    build the multilayer image. The LAYER BASENAME field lets you name the layers.
    By default, all layer names begin with `frame_`, but you can change that to any
    string. The number signs in the square brackets will be replaced by the frame
    number, but you can change the number of digits. The duration of each layer is
    24 images per second, by default, but you can change that as well.
  prefs: []
  type: TYPE_NORMAL
- en: The new layers are created by merging the layers in the source frames (unless
    FLATTENED IMAGE is selected). LAYER MERGEMODE lets you choose how the image size
    is determined.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames to Image dialog](httpatomoreillycomsourcenostarchimages1457158.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-43. The Frames to Image dialog
  prefs: []
  type: TYPE_NORMAL
- en: EXPAND AS NECESSARY expands the image size to fit around all layers.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CLIPPED TO IMAGE clips the layers to the image size.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CLIPPED TO BOTTOM LAYER clips the image to the size of the bottom layer of the
    source.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FLATTENED IMAGE creates the new layer by flattening rather than merging the
    source layers, so the resulting layer, which is the same size as the image, has
    no transparent part.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: When checked, EXCLUDE BG-LAYER excludes the background layer from all source
    frames. When unchecked, this layer is handled like any other.
  prefs: []
  type: TYPE_NORMAL
- en: LAYER SELECTION determines how the source layers are selected. For the first
    four options, the LAYER PATTERN field is a character string, which should match
    at least part of the name of the layers you want to select. The next two options
    require a list of layer numbers (“1, 3–5, 9” for example). Layers are numbered
    from zero, beginning at the top layer (or at the bottom layer if the third option
    is chosen). The final option selects all visible layers. If CASE SENSITIVE is
    checked, the case of the string must match for the layer to be selected. All of
    these options can be inverted by checking INVERT LAYER SELECTION.
  prefs: []
  type: TYPE_NORMAL
- en: '![The first tab of the Master Videoencoder dialog](httpatomoreillycomsourcenostarchimages1457160.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-44. The first tab of the Master Videoencoder dialog
  prefs: []
  type: TYPE_NORMAL
- en: PIXEL SELECTION specifies how an existing selection is handled. IGNORE ignores
    all selections in the source frames. INITIAL FRAME uses the selection from the
    first frame of the subrange and applies it to all frames. The unselected areas
    are transparent, and the layer shape is determined by the selection. FRAME SPECIFIC
    uses the selection in each selected frame.
  prefs: []
  type: TYPE_NORMAL
- en: Encoding
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: MASTER VIDEOENCODER converts multiframe or multilayer animations into a specific
    video file encoding. Its dialog is shown in [Figure 18-44](ch18s05.html#first_tab_of_the_master_videoencoder_dia
    "Figure 18-44. The first tab of the Master Videoencoder dialog"). You can also
    use a storyboard with this option, as explained in [Storyboard](ch18s05.html#storyboard
    "Storyboard").
  prefs: []
  type: TYPE_NORMAL
- en: OUTPUT allows you to name the output file. The extension is added by GIMP, depending
    on the chosen encoder. The button to the right opens the local file manager. The
    STATUS field shows the conversion progress.
  prefs: []
  type: TYPE_NORMAL
- en: The first tab in this dialog is VIDEO ENCODE OPTIONS. You can select the INPUT
    MODE; however, the tool automatically chooses one based on the source file. The
    next two fields define the subrange of frames or layers to be used as the source.
  prefs: []
  type: TYPE_NORMAL
- en: WIDTH and HEIGHT specify the size, in pixels, of the resulting video frames.
    The menu to the right lists a set of standard sizes.
  prefs: []
  type: TYPE_NORMAL
- en: FRAMERATE specifies the number of frames per second. The menu to the right has
    a set of standard rates.
  prefs: []
  type: TYPE_NORMAL
- en: The VIDEONORM menu contains the usual norms (NTSC, PAL, SECAM), which generally
    depend on the country in which the video will be broadcast.
  prefs: []
  type: TYPE_NORMAL
- en: '![The parameter dialog of the AVI1 encoder](httpatomoreillycomsourcenostarchimages1457162.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-45. The parameter dialog of the AVI1 encoder
  prefs: []
  type: TYPE_NORMAL
- en: ENCODER is operational only after you choose an encoder plug-in in the box to
    the right. For example, [Figure 18-45](ch18s05.html#parameter_dialog_of_the_avi1_encoder
    "Figure 18-45. The parameter dialog of the AVI1 encoder") shows the parameters
    of the AVI1 encoder.
  prefs: []
  type: TYPE_NORMAL
- en: The remaining tabs in the Master Videoencoder dialog deal with audio options
    and the audio tool configuration, which is beyond the scope of this book.
  prefs: []
  type: TYPE_NORMAL
- en: Playback and Navigator
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Use PLAYBACK to preview a multiframe animation (but not a multilayer one).
    It cannot play MPEG or AVI files. You can open Playback via **Image: Video > Playback**,
    but you may also open it from the VCR Navigator (discussed next) or from the Storyboard
    dialog (see [Storyboard](ch18s05.html#storyboard "Storyboard")).'
  prefs: []
  type: TYPE_NORMAL
- en: The lower part of the Playback dialog ([Figure 18-46](ch18s05.html#playback_dialog
    "Figure 18-46. The Playback dialog")) contains the standard play forward, pause,
    and play backward buttons. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    clicking one of the two play buttons creates a “snapshot” image, which is a small
    multilayer animation containing all the frames that have been played up to this
    point. When an animation is playing, you can jump to the first, middle, or last
    frame by clicking the pause button with the left, middle, or right mouse buttons,
    respectively.
  prefs: []
  type: TYPE_NORMAL
- en: The top of the Playback dialog contains a set of 50 rectangles, which are the
    *GO array*, an array of the 50 current frames. Move the pointer over the array
    to display the frames in real time. You can stop at a particular point in an animation
    or play the animation at a different speed. Clicking one of the rectangles displays
    that frame in the source animation window. If the animation is larger than 50
    frames, the GO array is a subrange of frames, and by moving the pointer to one
    side or the other, you can change the subrange contained in the array. The mouse
    scroll wheel can also move the animation frames.
  prefs: []
  type: TYPE_NORMAL
- en: The buttons and counters at the right side of the dialog let you display information
    on the current frame and set a subrange of the animation to play. Two counters
    below the current frame counter, or the two buttons at the right of the counter,
    are used to select a range. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    click one of these buttons to make the corresponding frame the current image.
  prefs: []
  type: TYPE_NORMAL
- en: You can also set the frame rate and the size (in pixels) of the preview window,
    which also changes when you resize the dialog.
  prefs: []
  type: TYPE_NORMAL
- en: The five boxes at the bottom right of the dialog control playback and are mostly
    self-explanatory. Check THUMBNAILS once you’ve seen the animation because that
    lets you reuse the small images generated. Use EXACT TIMING to skip frames and
    save time in an animation’s playback.
  prefs: []
  type: TYPE_NORMAL
- en: VCR NAVIGATOR lets you perform simple edits on an animation or play it back.
    The VCR Navigator dialog is shown in [Figure 18-47](ch18s05.html#vcr_navigator_dialog
    "Figure 18-47. The VCR Navigator dialog"). In the middle is a scrollable list
    of frame thumbnails. You can see the frame numbers, as well as the time elapsed
    from the beginning of the animation. FRAMERATE and TIMEZOOM let you control the
    frequency and timing of the frames, and the result is immediately visible in the
    thumbnail area.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Playback dialog](httpatomoreillycomsourcenostarchimages1457164.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-46. The Playback dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![The VCR Navigator dialog](httpatomoreillycomsourcenostarchimages1457166.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-47. The VCR Navigator dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'At the top of the VCR Navigator is the animation selector. Next is AL-TRACKING
    (Active Layer Tracking). Active Layer Tracking finds a layer in the newly loaded
    frame that matches the active layer of the previous frame and sets that layer
    as the active one. Three options are available:'
  prefs: []
  type: TYPE_NORMAL
- en: OFF disables Active Layer Tracking.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: NAME compares the layer names from left to right and chooses the layer that
    best matches.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: POS uses the layer’s stack position; onionskin layers are not counted.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In the thumbnail area, you can select frames: A single click selects one frame;
    ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-click adds (or removes)
    the frame to the selected frames; and ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    selects all layers between the previous and the current layer. Right-click to
    open a simple editing menu (copy, cut, paste, and so on).'
  prefs: []
  type: TYPE_NORMAL
- en: Below the thumbnails are two rows of buttons. The playback button opens the
    Playback tool. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    it to use the selected frames to build a temporary multilayer animation and then
    open the Playback tool.
  prefs: []
  type: TYPE_NORMAL
- en: The next button (a triangle in a circle) updates only those thumbnails that
    are out of date; press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to update all thumbnails. The next button duplicates the selected frames, and
    the last one deletes them. The lower row of buttons lets you navigate through
    the frames of an animation.
  prefs: []
  type: TYPE_NORMAL
- en: Split Video into Frames
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The menu **Image: Video > Split video into frames** contains two entries.'
  prefs: []
  type: TYPE_NORMAL
- en: MPLAYER-BASED EXTRACTION is the best tool for converting a video file to a multiframe
    animation, but it works only if you have MPlayer installed. MPlayer is free software,
    available for all platforms. See *[http://www.mplayerhq.hu/](http://www.mplayerhq.hu/)*
    for more information.
  prefs: []
  type: TYPE_NORMAL
- en: 'The MPlayer-based extraction tool, shown in [Figure 18-48](ch18s05.html#mplayer-based_extraction_dialog
    "Figure 18-48. The MPlayer-based extraction dialog"), supports many input formats.
    The most useful fields are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: INPUT VIDEO is where you can enter the name of the input video or click the
    button on the right to browse for the file.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: START TIME is the place in the video where you want to begin extracting, entered
    in *hours:minutes:seconds*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FRAMES sets the number of frames to extract.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VIDEOTRACK and AUDIOTRACK are useful if the input video file is multitrack,
    but that isn’t very common. Enter 0 to ignore the audio or video track.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FRAMENAMES sets the base name of the new frames. To use the file navigator,
    click the button on the right.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: FORMAT lets you choose JPEG, PNG, or XCF (generally the best choice). Below
    that you can adjust the compression or optimization, depending on the output format.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The MPlayer-based extraction dialog](httpatomoreillycomsourcenostarchimages1457168.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Figure 18-48. The MPlayer-based extraction dialog
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: SILENT, if checked, ignores any audio track.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: OPEN opens the first frame once the extraction is finished.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ASYNCHRONOUS, when checked, sets MPlayer to run asynchronously, so it doesn’t
    block other processes running on the computer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The frames of the input video are first converted to PNG and then to the chosen
    output format, which is normally XCF. Because the frames are processed twice,
    and a one-minute video sequence contains 1440 frames, these conversions can take
    half an hour or more.
  prefs: []
  type: TYPE_NORMAL
- en: 'The other entry in the **Image: Video > Split video into frames** menu is EXTRACT
    VIDEORANGE. When no additional video software is installed, this tool can only
    process an MPEG input file. Its dialog is shown in [Figure 18-49](ch18s05.html#extract_videorange_dialogcomma_extended
    "Figure 18-49. The Extract Videorange dialog, extended"). At the top of the dialog,
    choose the input file and then the range, either using the counters FROM FRAME
    and TO FRAME or the extended dialog that opens if you click VIDEO RANGE, as shown
    on the right of [Figure 18-49](ch18s05.html#extract_videorange_dialogcomma_extended
    "Figure 18-49. The Extract Videorange dialog, extended").'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Extract Videorange dialog, extended](httpatomoreillycomsourcenostarchimages1457170.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-49. The Extract Videorange dialog, extended
  prefs: []
  type: TYPE_NORMAL
- en: You can generally leave the remaining fields in the input portion of the Extract
    Videorange dialog set at the defaults. In the OUTPUT section, you can choose whether
    to generate a multilayer or multiframe animation. You can also choose the base
    name of the frames, the number of digits, the extension (and format), and the
    number of the first frame. The audio track is extracted into a WAV file.
  prefs: []
  type: TYPE_NORMAL
- en: Bluebox
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Bluebox** uses a technique often called *blue screen* in cinematography.
    It’s also called *chroma key*, *color keying*, or *color-separation overlay*.
    Basically, a scene is filmed with the actor(s) in front of a blue (or green) screen.
    The blue (or green) part of the video frame is then replaced with a different
    background. This technique can also be used to make an actor appear more than
    once in the same scene.'
  prefs: []
  type: TYPE_NORMAL
- en: The Bluebox dialog is shown in [Figure 18-50](ch18s05.html#bluebox_dialog "Figure 18-50. The
    Bluebox dialog"). Bluebox is actually a filter and works best when opened through
    the Move Path tool because it operates on a single layer. You can also open it
    through the Frames Modify tool from the Apply filter on layer(s) function.
  prefs: []
  type: TYPE_NORMAL
- en: KEYCOLOR chooses the color of the background to removed. You can choose any
    color via the Color chooser. Pixels similar to this chosen color are made transparent
    according to the threshold setting.
  prefs: []
  type: TYPE_NORMAL
- en: The THRESHOLD MODE can be RGB (three values), HSV (three values), VALUE (one
    value), or ALL (HSV and RGB combined, six values). These thresholds range from
    0.0 to 1.0, where 0.0 only targets the exact color and 1.0 makes the widest range
    of colors transparent. The ALPHA TOLERANCE also changes how much of the background
    becomes transparent.
  prefs: []
  type: TYPE_NORMAL
- en: SOURCE ALPHA sets a maximum Alpha value to prevent transparent pixels from becoming
    part of the selection. TARGET ALPHA specifies the transparency of the selected
    pixels after the transformation. You can feather (smooth) the edges of the selection
    and shrink or grow it.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Bluebox dialog](httpatomoreillycomsourcenostarchimages1457172.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-50. The Bluebox dialog
  prefs: []
  type: TYPE_NORMAL
- en: You can also adjust the size of the preview window, which is useful because
    this filter has no undo capability.
  prefs: []
  type: TYPE_NORMAL
- en: Onionskin
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: An onionskin layer is used to show the previous (or next) frame of an animation
    in the current frame. This is useful when painting moving characters, for example.
    The onionskin is automatically deleted when you move on to the next frame.
  prefs: []
  type: TYPE_NORMAL
- en: Onionskin layers can also be used for smoothing very fast movement to simulate
    motion blur, as we discussed in [Manipulating Frames](ch18s05.html#manipulating_frames
    "Manipulating Frames"). Onionskin layers behave like normal layers for the most
    part, but special tools are available for doing some things like toggling visibility.
  prefs: []
  type: TYPE_NORMAL
- en: By default, onionskin layers are built by merging the visible layers of the
    previous frame without the background or any other onionskin layers. They are
    usually placed above the background layer in the current frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'The **Image: Video** menu has a submenu called ONIONSKIN. CONFIGURATION, the
    main entry, opens the dialog shown in [Figure 18-51](ch18s05.html#onionskin_configuration_dialog
    "Figure 18-51. The Onionskin Configuration dialog").'
  prefs: []
  type: TYPE_NORMAL
- en: LAYER SELECTION lets you choose the layers to be selected and is similar to
    the Frames Modify tool (see [Modifying Frames](ch18s05.html#modifying_frames "Modifying
    Frames")). An additional field lets you ignore a number of background layers.
  prefs: []
  type: TYPE_NORMAL
- en: 'The large field displaying the name of the current multiframe animation is
    actually a button used to set the video’s parameters. The two boxes below it are
    used to create or delete onionskins automatically when you select the tool from
    the VCR Navigator tool or when you move to the next frame using **File: Video
    > Go To > Next Frame**. When both boxes are checked, onionskins are automatically
    added when you load a frame and deleted when you save the frame.'
  prefs: []
  type: TYPE_NORMAL
- en: The top of the dialog, ONIONSKIN SETTINGS, specifies how the layers from the
    previous frames are copied. FRAME REFERENCE refers to the source frame number
    from which the onionskin layer is copied. If the frame reference is –1, it means
    that the first onionskin layer will be copied from the previous frame, the second
    from the frame before that, and so on. A positive frame reference means that the
    onionskin is made up of frames that come after the current frame.
  prefs: []
  type: TYPE_NORMAL
- en: REFERENCE MODE specifies the way neighboring frames are used. In Normal mode,
    the delta provided by FRAME REFERENCE is used in one direction only. This delta
    value determines which onionskin layers are built and copied in the current frame.
    In Bidirectional (single) mode, this delta is used alternately in both directions,
    but a given offset is used only once, as in the sequence –1, +2, –3, +4*,...*.
    In Bidirectional (double) mode, each delta is used twice, as in the sequence –1,
    +1, –2, +2, –3, +3*,...*
  prefs: []
  type: TYPE_NORMAL
- en: '![The Onionskin Configuration dialog](httpatomoreillycomsourcenostarchimages1457174.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-51. The Onionskin Configuration dialog
  prefs: []
  type: TYPE_NORMAL
- en: You can also specify the number of onionskin layers to generate, their stack
    position, and their opacity.
  prefs: []
  type: TYPE_NORMAL
- en: Clicking OK adds the onionskin layers, whereas clicking DELETE removes them.
    CLOSE uses the parameters to define the settings throughout the current animation
    without generating an onionskin layer.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once the settings are defined, the remaining entries in the **Image: Video
    > Onionskin** menu let you make global changes to the selected frames. You can
    create the onionskin layers or replace layers that you created previously. You
    can also delete specified onionskin layers or toggle their visibility.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The Onionskin tools are designed to work with the VCR Navigator or the **Image:
    Video > Go To** operations. When you move between frames, the actions specified
    by the AUTO boxes (if checked) are performed automatically. When both AUTO boxes
    are checked, the frame is saved after deleting the onionskin, and a new onion-skin
    is created in the next frame according to the parameters saved in the **Image:
    Video > Onionskin > Configuration** dialog.'
  prefs: []
  type: TYPE_NORMAL
- en: Storyboard
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A *storyboard* is a text file that describes how to assemble video clips, images,
    and audio files to build a single output video file. Storyboards are useful for
    creating and cutting long video sequences. In fact, the Storyboard Editor, together
    with its accompanying tools, provides a means for editing a video sequence by
    assembling video clips, multiframe animations, and single images. It does not
    provide as many features and capabilities as more specialized video-editing tools
    (such as Kden-live at *[http://www.kdenlive.org/](http://www.kdenlive.org/)* or
    Cinelerra at *[http://cinelerra.org/](http://cinelerra.org/)*), but it does allow
    you to use GIMP’s image-editing capabilities to work on individual frames.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Storyboard Editor dialog](httpatomoreillycomsourcenostarchimages1457176.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-52. The Storyboard Editor dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'Selecting **Image: Video > Storyboard** opens the dialog in [Figure 18-52](ch18s05.html#storyboard_editor_dialog
    "Figure 18-52. The Storyboard Editor dialog"). The right side of this dialog is
    similar to the Playback dialog and is fairly intuitive. The left side is divided
    into the Cliplist and the Storyboard itself. The menu bar at the top of the window
    contains two identical menus (CLIPLIST and STORYBOARD) for the two sections. In
    the GLOBAL menu, check the VIDEOTHUMBNAILS button to view thumbnails of the Cliplist
    and Storyboard. The PROPERTIES entry opens a dialog where you can choose the layout
    of the Cliplist and Storyboard sections, including the size of the thumbnails.'
  prefs: []
  type: TYPE_NORMAL
- en: To use the Cliplist or Storyboard, you first must choose a video or animation
    file. To begin a new project, select **Storyboard > New**. In the dialog that
    appears, select the characteristics of the video animation you plan to build and
    enter the name of the storyboard file. Also select **Cliplist > New**. Its dialog
    is the same, but you must choose a different name for the file. Both menus contain
    additional entries that are fairly self-explanatory.
  prefs: []
  type: TYPE_NORMAL
- en: '![Clip properties](httpatomoreillycomsourcenostarchimages1457178.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-53. Clip properties
  prefs: []
  type: TYPE_NORMAL
- en: To add a clip, select **Cliplist > Create Clip**, which opens the dialog shown
    in [Figure 18-53](ch18s05.html#clip_properties "Figure 18-53. Clip properties").
    You can load frames or layers from another animation and set several parameters
    for this new clip. Note that if the new clip is significantly different from the
    video that it’s added to, the frames may be deformed.
  prefs: []
  type: TYPE_NORMAL
- en: A single image can also be used as a new clip. You can even drag and drop an
    image from a file manager.
  prefs: []
  type: TYPE_NORMAL
- en: After a clip is selected, it’s displayed as a thumbnail in the PLAYBACK section
    of the Storyboard Editor dialog. You then choose the frame range to be used as
    a clip and add it to the Clip-list by clicking the first button on the right.
    The second button adds the inverse range.
  prefs: []
  type: TYPE_NORMAL
- en: Once you have clips in the Cliplist, add them to the Storyboard by
  prefs: []
  type: TYPE_NORMAL
- en: '![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking and ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-clicking
    to select the clips'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: using the CUT, COPY, and PASTE buttons at the bottom of the Cliplist to arrange
    the clips in sequence
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: using the CUT, COPY, and PASTE buttons in the Storyboard to copy and arrange
    clips
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: clicking the play button at the bottom right of the Cliplist to play the sequence
    of clips or only the selected clips
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: double-clicking a clip thumbnail to play it
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: right-clicking a clip thumbnail to change its properties ([Figure 18-53](ch18s05.html#clip_properties
    "Figure 18-53. Clip properties"))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Playing a clip or clip sequence is useful when selecting a subrange of frames
    and defining a new clip. Pasted clips are added after the last selected clip or
    at the end of the sequence.
  prefs: []
  type: TYPE_NORMAL
- en: '![Transition attributes](httpatomoreillycomsourcenostarchimages1457180.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 18-54. Transition attributes
  prefs: []
  type: TYPE_NORMAL
- en: The **Cliplist** and **Storyboard** menus also allow you to create a transition.
    This menu entry opens the dialog shown in [Figure 18-54](ch18s05.html#transition_attributes
    "Figure 18-54. Transition attributes"). Create transitions by changing the opacity
    of frames, scrolling frames, or zooming. You can also combine these effects.
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve finished building a storyboard, you can save it as a text file.
    These files use a well-defined syntax, and you can modify them with a text editor
    if you know the syntax.
  prefs: []
  type: TYPE_NORMAL
