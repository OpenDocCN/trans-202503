- en: Chapter 18. Animation Tools
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第18章 动画工具
- en: Many powerful tools are designed specifically for digital animation. Blender,
    for example, is free software for creating professional 3D animation (see *[http://www.blender.org/](http://www.blender.org/)*).
    Compared to Blender, GIMP offers limited animation tools. But if you just want
    to make a simple animation, GIMP can get the job done. As you saw in [Chapter 6](ch06.html
    "Chapter 6. Animation"), you can use GIMP to make animated GIFs for a web page,
    and as you’ll see in this chapter, you can also use GIMP to edit a short digital
    video.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 许多强大的工具专为数字动画设计。例如，Blender是一款免费的专业3D动画制作软件（参见 *[http://www.blender.org/](http://www.blender.org/)*）。与Blender相比，GIMP提供的动画工具有限。但如果你只想制作一个简单的动画，GIMP可以完成这项工作。正如你在[第6章](ch06.html
    "第6章 动画")看到的那样，你可以使用GIMP为网页制作动画GIF，正如你在本章中看到的，你也可以使用GIMP编辑短小的数字视频。
- en: We begin this chapter with the principles of animation, and then we discuss
    the file formats specific to animations. We also cover GIMP’s various tools for
    building animations, including GAP (GIMP Animation Plug-in; installed separately
    from GIMP).
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章我们从动画的基本原理开始，然后讨论特定于动画的文件格式。我们还介绍了GIMP的各种动画构建工具，包括GAP（GIMP动画插件，需单独安装）。
- en: 18.1 Principles of Animation
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.1 动画原理
- en: To use the animation building tools available in GIMP and the GAP plug-in effectively,
    you must first understand the underlying principles of animation. First, we present
    the physiology of viewing animations and their internal and external digital representations,
    and then we discuss how these principles work in GIMP.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 为了有效使用GIMP和GAP插件中提供的动画构建工具，你首先需要理解动画的基本原理。首先，我们介绍观看动画的生理学以及其内部和外部的数字表示方式，然后讨论这些原理如何在GIMP中应用。
- en: Frame Frequency and Vision
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 帧频与视觉
- en: Animations are made with a sequence of images, called *frames*. Images persist
    on the eye’s retina, especially when there is a strong contrast between light
    and dark (as in a movie theater), so when images are displayed in quick succession,
    they appear to be a continuous animation.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 动画是由一系列图像组成的，称为*帧*。图像在眼睛的视网膜上会保持一定时间，尤其是在光与暗之间有强烈对比时（如电影院中），因此当图像快速连续展示时，它们看起来像是连续的动画。
- en: Currently, the standard frame frequency is 24 frames per second. Hand-drawn
    cartoons were usually filmed at 12 frames per second, and each frame was photographed
    twice. But in the earliest movies, the frequency was only 20 frames per second,
    which is why actors appear to move too fast in very old films.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，标准帧频为每秒24帧。手绘动画通常以每秒12帧拍摄，每一帧拍摄两次。但是在最早的电影中，帧频只有每秒20帧，这就是为什么在非常老的电影中，演员的动作看起来太快的原因。
- en: Television is different from movies projected in a theater. Because the contrast
    between the screen and the surroundings is generally less than in a movie theater,
    the image persistence is shorter, so frames must be shown at a higher frequency.
    Usually only every other line is drawn on each screen refresh, so at a rate of
    60 refreshes per second, the full image is redrawn only 30 times per second.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 电视与在影院投影的电影有所不同。由于屏幕与周围环境的对比度通常低于电影院，图像的持续时间较短，因此必须以更高的频率显示画面。通常，每次屏幕刷新时只绘制每隔一行的图像，因此在每秒60次刷新的情况下，完整的图像每秒仅重绘30次。
- en: The refresh frequency may be even higher for digital animation viewed on a monitor,
    thanks to the capabilities of the screen and the computer itself. Because people
    use computers in bright offices and even outside, the contrast with the environment
    is often weak, so a (in animation) minimum of 60 frames per second is necessary.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 对于在显示器上观看的数字动画，由于屏幕和计算机本身的能力，刷新频率可能更高。由于人们在明亮的办公室或户外使用计算机，环境与屏幕的对比度通常较弱，因此动画的最小帧数通常需要每秒60帧。
- en: If you were to view the frames independently, you would see motion blur on fast-moving
    objects, but when you watch the video, everything looks sharp because the visual
    centers in the brain process the blurry frames into a moving object. The ability
    to create a sharp image from blurred frames depends on the image’s persistence.
    If persistence is too short due to low contrast between the room and the screen,
    then the motion blur can become visible. Because of this, computer games with
    very quick movement often need a frame frequency greater than 60 frames per second.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 如果单独查看这些帧，你会看到快速移动物体上的运动模糊，但观看视频时，所有东西看起来都很清晰，因为大脑中的视觉中心会将模糊的帧处理为一个移动的物体。从模糊帧创建清晰图像的能力取决于图像的持续性。如果持续性过短（因为房间与屏幕之间的对比度过低），则运动模糊可能会变得可见。因此，快速移动的电脑游戏通常需要比每秒
    60 帧更高的帧频。
- en: Frames and Layers
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 帧和图层
- en: Depending on the tool used, frames in GIMP can either be layers in one image
    or separate image files. When stored as layers, frames cannot include multiple
    layers, but when stored as multiple images, they can.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 根据使用的工具，GIMP 中的帧可以是单一图像中的图层，也可以是单独的图像文件。当存储为图层时，帧不能包含多个图层，但当存储为多个图像时，则可以。
- en: 'To use layers as frames, you have to give each layer a *duration* and *replacement
    mode*. You do this by editing the layer name itself, by double-clicking it in
    the Layers dialog, by selecting **Layers: right-click > Edit Layer Attributes**,
    or by pressing ![](httpatomoreillycomsourcenostarchimages1455250.png.jpg) when
    the mouse pointer is in the Layers dialog. The frame duration is specified in
    milliseconds and within parentheses, as in `(200ms)`, and the replacement mode
    is also designated in parentheses, as in `(replace)`. The order in which the layers
    appear on the screen is *from bottom to top*.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 要将图层用作帧，你必须为每个图层指定*持续时间*和*替换模式*。你可以通过编辑图层名称来完成这一操作，方法是在图层对话框中双击图层，选择**图层：右键
    > 编辑图层属性**，或当鼠标指针在图层对话框中时按下 ![](httpatomoreillycomsourcenostarchimages1455250.png.jpg)。帧的持续时间以毫秒为单位，并在括号中指定，例如
    `(200ms)`，而替换模式也在括号中指定，例如 `(replace)`。图层在屏幕上的显示顺序是*从下到上*。
- en: When frames are independent images, they’re all stored in one folder and named
    in order. The names are something like *name*`_00001.xcf`, *name*`_00002.xcf`,
    and so on (where *name* is whatever you designate). The frames’ duration cannot
    be changed, so to slow down part of the animation, you must duplicate the frames,
    and to speed it up, you delete frames. Because frames are images and not layers,
    no replacement mode is available. Every new frame replaces the preceding one.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 当帧是独立图像时，它们都存储在一个文件夹中，并按顺序命名。名称类似于*name*`_00001.xcf`、*name*`_00002.xcf`，依此类推（其中
    *name* 是你指定的名称）。这些帧的持续时间无法更改，因此要放慢动画的部分速度，必须复制帧；要加快速度，则需要删除帧。由于帧是图像而不是图层，因此没有替换模式可用。每一帧都会替换前一帧。
- en: '![The GIF Export File dialog](httpatomoreillycomsourcenostarchimages1457074.png.jpg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![GIF 导出文件对话框](httpatomoreillycomsourcenostarchimages1457074.png.jpg)'
- en: Figure 18-1. The GIF Export File dialog
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-1. GIF 导出文件对话框
- en: Output Formats
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 输出格式
- en: Simple animations are represented in GIF encoding, and the GIF Export File dialog
    (shown in [Figure 18-1](ch18s01.html#gif_export_file_dialog "Figure 18-1. The
    GIF Export File dialog")) can be set to save the frames as an animation instead
    of being set to flatten the image. When you choose to export as an animated GIF,
    you can also choose
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 简单的动画通过 GIF 编码表示，GIF 导出文件对话框（如[图 18-1](ch18s01.html#gif_export_file_dialog "图
    18-1. GIF 导出文件对话框")所示）可以设置为将帧保存为动画，而不是设置为将图像合并。当选择导出为动画 GIF 时，还可以选择
- en: whether the animation runs only once or forever
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 动画是只运行一次还是永远循环
- en: the duration of frames
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帧的持续时间
- en: the replacement mode (called *frame disposal*)
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 替换模式（称为*帧处理*）
- en: whether to use the specified duration for all frames
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否对所有帧使用指定的持续时间
- en: whether to use the specified replacement mode for all frames
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是否对所有帧使用指定的替换模式
- en: The default delay of 100 milliseconds per frame results in only 10 frames per
    second. This delay is fine for a slow animation, but the frame frequency should
    be much higher if the animation has fast movements or else it will look jerky.
    To increase the frame frequency, reduce the frame duration, for example, to 40
    milliseconds to obtain a frequency of 25 frames per second.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 每帧默认的延迟时间是 100 毫秒，这意味着每秒只有 10 帧。这个延迟对于慢速动画是足够的，但如果动画有快速动作，帧频应该更高，否则动画会显得卡顿。要增加帧频，减少每帧的持续时间，例如，设为
    40 毫秒，就能获得每秒 25 帧的频率。
- en: Using GIF for animation has all the drawbacks of this encoding, the biggest
    of which is the indexed representation, explained more thoroughly in [Chapter 20](ch20.html
    "Chapter 20. Image Formats"). Basically, GIF can represent at most only 256 different
    colors, which is fine for a cartoon or logo but not for a home movie.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 GIF 进行动画制作有这种编码的所有缺点，其中最大的缺点是索引表示法，在[第20章](ch20.html "第20章。图像格式")中有更详细的解释。基本上，GIF
    最多只能表示 256 种不同的颜色，这对于卡通或标志来说足够，但不适合家庭录像。
- en: GIF animations can be viewed on any graphical web browser, so they’re popular
    on web pages. You can use the `<img>` HTML tag to display an image inside a page.
    It has to be loaded in full before the animation begins, so keep animations to
    a few hundred KB maximum, and avoid using more than one animation on a page.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: GIF 动画可以在任何图形化网页浏览器中查看，因此它们在网页上非常流行。你可以使用 `<img>` HTML 标签在页面中显示图像。它必须在动画开始之前完全加载，因此请将动画大小保持在几百
    KB 以内，并避免在页面上使用多个动画。
- en: JPEG encoding can’t be used for animations, but the corresponding MPEG encoding
    can. According to the official MPEG website (*[http://mpeg.chiariglione.org/](http://mpeg.chiariglione.org/)*),
    MPEG-1 was established in 1988 and is the standard on which Video CD and MP3 are
    based. DVDs are based on MPEG-2, and MPEG-4 is the multimedia standard. Other
    versions, like MPEG-7 and MPEG-21, also have modern applications.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: JPEG 编码不能用于动画，但相应的 MPEG 编码可以。根据官方 MPEG 网站 (*[http://mpeg.chiariglione.org/](http://mpeg.chiariglione.org/)*)，MPEG-1
    于 1988 年确立，是视频 CD 和 MP3 的标准。DVD 是基于 MPEG-2 的，而 MPEG-4 是多媒体标准。其他版本，如 MPEG-7 和 MPEG-21，也有现代应用。
- en: An MPEG is a video made of JPEG frames. When the difference between successive
    frames is small (as when only a person’s mouth is moving), you don’t need to represent
    the entire frame again, reducing the video file size and increasing the feasible
    frame frequency and definition.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: MPEG 是由 JPEG 帧组成的视频。当连续帧之间的差异较小时（例如只有一个人的嘴巴在动），你不需要再次表示整个帧，从而减小视频文件的大小并提高可行的帧频率和清晰度。
- en: 'So an MPEG video comprises several frame types: complete JPEG images, frames
    of the differences between the current and the previous frame, and frames of the
    differences between the current and the next frame. The video recorder must save
    three different frames at the same time, including full JPEG frames at regular
    intervals.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，MPEG 视频由几种帧类型组成：完整的 JPEG 图像，当前帧与前一帧之间的差异帧，以及当前帧与下一帧之间的差异帧。视频录制器必须同时保存三种不同的帧，包括定期间隔的完整
    JPEG 帧。
- en: The MPEG format also encodes the audio, as most video formats do. The GAP plug-in
    set generates MPEG-1 and MPEG-2 formats.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: MPEG 格式也会对音频进行编码，正如大多数视频格式所做的那样。GAP 插件集生成 MPEG-1 和 MPEG-2 格式。
- en: Similar to JPEG, PNG has a corresponding encoding for animations, called MNG.
    Unfortunately, this format is not supported by some web browsers, so it’s not
    a viable replacement for animated GIFs. For this reason, we won’t cover it, but
    GIMP can work with MNG animation.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 类似于 JPEG，PNG 也有一个对应的动画编码格式，叫做 MNG。不幸的是，某些网页浏览器不支持此格式，因此它不是一个可行的替代 GIF 动画的格式。由于这个原因，我们不会详细介绍它，但
    GIMP 可以处理 MNG 动画。
- en: Although they can use indexed representation, PNG and MNG generally use RGB,
    whereas GIF always uses indexed representation. Converting to indexed representation
    inevitably results in a loss in quality, and the loss is even worse when working
    with animation. If the MNG format were supported by more browsers, it would be
    much better than GIF for web animations.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然它们可以使用索引表示法，PNG 和 MNG 通常使用 RGB，而 GIF 始终使用索引表示法。转换为索引表示法不可避免地会导致质量损失，而在处理动画时，这种损失更为严重。如果
    MNG 格式能被更多浏览器支持，它将比 GIF 更适合用于网页动画。
- en: Some proprietary formats are also supported by GIMP with GAP, but we won’t cover
    those either, except to say that GAP can generate the Apple QuickTime format and
    read other proprietary formats like Microsoft AVI.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一些专有格式也可以通过 GIMP 与 GAP 插件支持，但我们不会涉及这些内容，除了说明 GAP 可以生成 Apple QuickTime 格式并读取其他专有格式，如
    Microsoft AVI。
- en: Because animations can be represented as layers or images, using several different
    formats, you’ll find conversion tools handy. GAP provides tools to
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 由于动画可以表示为图层或图像，使用几种不同的格式，你会发现转换工具非常有用。GAP 提供了相应的工具来进行转换。
- en: convert a multilayer image to a multi-image animation, and vice versa
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将多图层图像转换为多图像动画，反之亦然。
- en: convert an MPEG or AVI animation to a multi-image animation, and vice versa
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 MPEG 或 AVI 动画转换为多图像动画，反之亦然。
- en: Optimizing Animations
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 优化动画
- en: An animation is generally a huge file. For example, if one JPEG is 33KB and
    you build an animation with a total of 21 frames (about 2 seconds!), the resulting
    animation will be 1.8MB. You can easily extrapolate that a one-minute animation
    using similar photos will be more than 54MB, which is far too large for a web
    page.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 动画通常是一个非常大的文件。例如，如果一个JPEG文件是33KB，而你用21帧（大约2秒钟！）的图像制作动画，最终得到的动画文件会是1.8MB。你可以推算出，如果使用类似的照片制作一分钟的动画，文件大小会超过54MB，这对于网页来说太大了。
- en: Fortunately, animation size can be reduced via optimization. For example, GIMP
    has a tool for optimizing animated GIFs. If only a small area in the animation
    is changing (a hand moves, a person smiles), then the parts of the image that
    don’t change from frame to frame are represented only once in the background layer.
    Subsequent layers are transparent except when things change, leading to a much
    smaller file size.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，动画文件的大小可以通过优化来减少。例如，GIMP提供了一个优化动画GIF的工具。如果动画中只有一个小区域发生变化（比如手的移动、一个人的微笑），那么图像中不随帧变化的部分只会在背景图层中出现一次。后续图层保持透明，除非某些地方发生变化，这样可以大大减小文件的大小。
- en: When we applied this tool to the 1.8MB animation, we reduced its size to 337KB
    (one-fifth the original size). This reduction is significant, but the 54MB one-minute
    animation would still be too large for a web page because it would reduce only
    to about 10MB, and a nonstreaming video on a web page should probably be 2MB maximum.
    The MPEG format can reduce the size of a video more than GIF optimization can;
    therefore, it is the standard for video on the Web.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们将这个工具应用于1.8MB的动画时，我们将其大小减少到337KB（为原始大小的五分之一）。这个减小幅度很大，但54MB的一分钟动画仍然太大，不适合网页，因为它的大小仅能减少到大约10MB，而网页上的非流媒体视频的大小最好控制在2MB以内。MPEG格式能比GIF优化更有效地压缩视频大小，因此它成为了网页视频的标准。
- en: 18.2 Tools for Building Multilayer Animations
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.2 构建多层动画的工具
- en: In this section, we cover tools for building animations that will be stored
    as a single image, with each layer acting as a frame. Some of these tools were
    used in [Chapter 6](ch06.html "Chapter 6. Animation"), where we demonstrated simple
    animation techniques.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一节中，我们介绍了一些用于构建动画的工具，这些动画将作为单个图像存储，每个图层作为一帧。一些工具在[第六章](ch06.html "Chapter 6. Animation")中已经使用过，在那里我们演示了简单的动画技巧。
- en: Animating by Hand
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 手工制作动画
- en: 'Suppose you want to move an object on a fixed background, as cartoon animators
    did 50 years ago. For example, how might you animate an old biplane landing in
    a field? You might try the method shown in [6.1 Tutorial: Animated Text](ch06s01.html
    "6.1 Tutorial: Animated Text"), placing the plane in its successive positions
    in separate layers. But you have a problem: Each plane you position is added to
    the image instead of replacing the previous one, so the final animation is full
    of planes. And if you choose the replace mode in the layers, the background disappears
    as soon as the plane appears.'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '假设你想在固定背景上移动一个物体，就像50年前的卡通动画师一样。例如，你可能想让一架老式双翼飞机在一个田野上着陆。你可能会尝试[6.1教程：动画文本](ch06s01.html
    "6.1 Tutorial: Animated Text")中展示的方法，将飞机在不同位置的图像放置在不同的图层中。但是你会遇到一个问题：每个你定位的飞机都会添加到图像中，而不是替换之前的飞机，所以最终的动画会充满飞机。而如果你在图层中选择替换模式，背景会在飞机出现的瞬间消失。'
- en: 'To make this animation work, you can do the following:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 要让这个动画正常工作，你可以按以下方式操作：
- en: Duplicate the background for each plane layer.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为每个平面图层复制背景。
- en: Place the background layers below each plane layer.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将背景图层放在每个飞机图层下方。
- en: Merge each plane layer with the underlying background layer.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将每个飞机图层与下面的背景图层合并。
- en: '![The IWarp dialog, Animate tab](httpatomoreillycomsourcenostarchimages1457076.png.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![IWarp对话框，动画选项卡](httpatomoreillycomsourcenostarchimages1457076.png.jpg)'
- en: Figure 18-2. The IWarp dialog, Animate tab
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-2. IWarp对话框，动画选项卡
- en: Now the animation works, but making even a short animation by hand takes a long
    time. Wouldn’t it be great to have tools that automate parts of the animation-building
    process? With GIMP, we do.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 现在动画可以正常工作了，但即使是制作一个短动画，手动操作也需要很长时间。有没有可能拥有一些自动化工具来简化动画制作过程？使用GIMP，我们可以。
- en: The IWarp Tool
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: IWarp工具
- en: 'The IWarp tool, accessed via **Image: Filters > Distorts > IWarp**, is demonstrated
    in [Interactive Deformation](ch06s03.html#interactive_deformation "Interactive
    Deformation"), and its dialog is shown in [Figure 6-32](ch06s03.html#iwarp_dialog-id00071
    "Figure 6-32. The IWarp dialog").'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: IWarp工具，可以通过**图像：滤镜 > 扭曲 > IWarp**访问，在[交互式变形](ch06s03.html#interactive_deformation
    "Interactive Deformation")中进行了演示，其对话框如[图6-32](ch06s03.html#iwarp_dialog-id00071
    "Figure 6-32. The IWarp dialog")所示。
- en: To use IWarp for animation, warp the image as you would warp a still photo,
    and then click the ANIMATE tab and choose to generate an animation. In [Figure 18-2](ch18s02.html#iwarp_dialogcomma_animate_tab
    "Figure 18-2. The IWarp dialog, Animate tab"), we chose to create 20 frames between
    the first and last image, and we selected PING PONG, which repeats the animation
    in reverse. These settings result in 40 layers (20 forward and another 20 in reverse
    order), numbered from 0 to 39\. Because the number of frames determines the animation’s
    smoothness, don’t reduce the number of frames unless the final file size is critical.
    If you plan to export the animation as a GIF file, you can optimize it to reduce
    file size later.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用IWarp进行动画，将图像像处理静态照片一样进行变形，然后点击ANIMATE标签并选择生成动画。在[图18-2](ch18s02.html#iwarp_dialogcomma_animate_tab
    "图18-2。IWarp对话框，动画标签")中，我们选择了在第一张和最后一张图像之间创建20帧，并选择了PING PONG模式，该模式会反向重复动画。这些设置会生成40层（20层正向和20层反向），编号从0到39。由于帧数决定了动画的平滑度，除非最终文件大小至关重要，否则不要减少帧数。如果你打算将动画导出为GIF文件，你可以在稍后优化它以减小文件大小。
- en: The Morph Tool
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Morph工具
- en: The Morph tool is part of GAP. It generates multilayer animations by progressively
    transforming one image into another. Use it to morph between images of people,
    as demonstrated in [Chapter 6](ch06.html "Chapter 6. Animation"). You can also
    use it to morph one word into another, as we’ll demonstrate now.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: Morph工具是GAP的一部分。它通过逐步将一张图像转变为另一张图像，生成多层次动画。你可以用它在人物图像之间进行变形，如[第6章](ch06.html
    "第6章 动画")所示。你也可以用它将一个单词变形为另一个单词，接下来我们将演示这一过程。
- en: '![Building one of the logos](httpatomoreillycomsourcenostarchimages1457078.png.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![构建其中一个标志](httpatomoreillycomsourcenostarchimages1457078.png.jpg)'
- en: Figure 18-3. Building one of the logos
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-3。构建其中一个标志
- en: Morphing Text
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 变形文本
- en: In this example, the word “Windows” will be progressively morphed to the word
    “Linux!!” with just a few clicks.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，单词“Windows”将通过几次点击逐步变形为单词“Linux!!”。
- en: 'First, build the logos using **Image: File > Create > Logos > Glossy**, with
    the default parameters, as shown in [Figure 18-3](ch18s02.html#building_one_of_the_logos
    "Figure 18-3. Building one of the logos"). Enter *Windows* in the text field to
    create the first logo ([Figure 18-4](ch18s02.html#initial_logo-id00184 "Figure 18-4. The
    initial logo")), and then enter *Linux!!* to create the second logo ([Figure 18-5](ch18s02.html#final_logo-id00185
    "Figure 18-5. The final logo")). Flatten both logos (**Layers: right-click > Flatten
    Image**) so they each contain only one layer. Copy the Linux layer to the Windows
    image as a new layer by dragging the layer thumbnail to the image.'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，使用**图像：文件 > 创建 > 标志 > 光泽**来构建标志，采用默认参数，如[图18-3](ch18s02.html#building_one_of_the_logos
    "图18-3。构建其中一个标志")所示。在文本框中输入*Windows*来创建第一个标志（[图18-4](ch18s02.html#initial_logo-id00184
    "图18-4。初始标志")），然后输入*Linux!!*来创建第二个标志（[图18-5](ch18s02.html#final_logo-id00185 "图18-5。最终标志")）。将两个标志都压平（**图层：右键
    > 压平图像**），使它们各自只包含一个图层。通过将Linux图层缩略图拖到Windows图像上，作为新图层将其复制到Windows图像中。
- en: 'Because the Linux layer is narrower than the Windows layer, you must increase
    its size to match via **Image: Layer > Layer to Image Size**. Also add an Alpha
    channel to both layers.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 由于Linux图层比Windows图层窄，你必须通过**图像：图层 > 图层调整为图像大小**来增加其大小以匹配Windows图层。同时为两个图层添加Alpha通道。
- en: 'Now apply the Morph tool by selecting **Image: Video > Morphing > Morph**,
    which opens the dialog in [Figure 18-6](ch18s02.html#morph_tool_dialog-id00186
    "Figure 18-6. The Morph tool dialog").'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 现在通过选择**图像：视频 > 变形 > Morph**来应用Morph工具，这会打开[图18-6](ch18s02.html#morph_tool_dialog-id00186
    "图18-6。Morph工具对话框")中的对话框。
- en: '![The initial logo](httpatomoreillycomsourcenostarchimages1457080.png.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![初始标志](httpatomoreillycomsourcenostarchimages1457080.png.jpg)'
- en: Figure 18-4. The initial logo
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-4。初始标志
- en: '![The final logo](httpatomoreillycomsourcenostarchimages1457082.png.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![最终标志](httpatomoreillycomsourcenostarchimages1457082.png.jpg)'
- en: Figure 18-5. The final logo
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-5。最终标志
- en: How you place the *shape points* determines how a point in the first image is
    morphed into a point in the second image. For a more complicated project, you
    should choose points carefully, but in this case, just click the SHAPE button,
    and the tool automatically creates and places points on the sides of both images.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 如何放置*形状点*决定了第一张图像中的一个点是如何变形为第二张图像中的一个点的。对于更复杂的项目，应该谨慎选择点，但在这个例子中，只需点击SHAPE按钮，工具会自动在两张图像的边缘创建并放置点。
- en: The number of STEPS is the number of frames in the animation. Choose 20, click
    OK, and that’s it! The animation plays on a loop, but you can pause it between
    iterations by increasing the duration of the top layer. Optimize the animation
    and save it as a GIF.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: STEPS 的数量是动画中的帧数。选择 20，点击确定，就完成了！动画会循环播放，但你可以通过增加上层的持续时间来在每次迭代之间暂停它。优化动画并将其保存为
    GIF。
- en: The Morph Tool Dialog
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 变形工具对话框
- en: Let’s explore this dialog section by section. In the top-left section, the SOURCE
    menu allows you to choose the source layer from the images open in GIMP. The X
    and Y boxes display the coordinates of the current shape point in the source layer.
    You can set these points by clicking the layer image, and you can adjust the coordinates
    using the vertical arrows at the right. Click FIT ZOOM to reset the zoom to show
    the entire source layer.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们逐个部分探索这个对话框。在左上部分，SOURCE 菜单允许你选择在 GIMP 中打开的图像中的源图层。X 和 Y 框显示源图层中当前形状点的坐标。你可以通过点击图层图像来设置这些点，也可以使用右侧的垂直箭头调整坐标。点击
    FIT ZOOM 可以重置缩放，以显示整个源图层。
- en: The top-right section is similar to the top-left section, except that it deals
    with the destination instead of the source layer. This section also includes POINT,
    which shows the current shape point. You can choose any shape point and then change
    or check its position with the X and Y boxes.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 右上方部分类似于左上方部分，只不过它处理的是目标图层而非源图层。此部分还包括 POINT，显示当前的形状点。你可以选择任何形状点，然后通过 X 和 Y
    框来更改或查看其位置。
- en: '![The Morph tool dialog](httpatomoreillycomsourcenostarchimages1457084.png.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![变形工具对话框](httpatomoreillycomsourcenostarchimages1457084.png.jpg)'
- en: Figure 18-6. The Morph tool dialog
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-6. 变形工具对话框
- en: 'The bottom-left section of the dialog includes these options:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框的左下部分包括以下选项：
- en: 'SHAPEPOINTS and SHAPE are used to set the number of shapepoints that are automatically
    placed and to place them. The more shape points you use, the more precise the
    morphing. But when you use more shape points, you also use more computing power.
    As a rule, place shape points where things change: You don’t need two points close
    to each other if no important variation occurs in the image between them.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SHAPEPOINTS 和 SHAPE 用于设置自动放置的形状点的数量并进行放置。你使用的形状点越多，变形的精度就越高。但当你使用更多形状点时，也会消耗更多的计算能力。通常，应该在变化发生的地方放置形状点：如果图像中这两个点之间没有重要的变化，就不需要放置两个靠得很近的点。
- en: The automatic shape points are placed along the outline of the source layer.
    Transparent pixels are not included in the outline.
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 自动形状点沿源图层的轮廓放置。透明像素不包括在轮廓内。
- en: If you ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click the
    SHAPE button, the number of points specified is *added* to the existing number
    of points. Otherwise the specified points replace the existing ones.
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果你 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) - 单击 SHAPE 按钮，指定的点数会被*添加*到现有的点数中。否则，指定的点会替换现有的点。
- en: RADIUS sets the size of the area influenced by every shape point.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RADIUS 设置每个形状点所影响的区域大小。
- en: STEPS sets the number of layers to be added or modified between the source layer
    (at the bottom) and the target layer (at the top). Any preexisting middle layers
    are modified.
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: STEPS 设置要在源图层（底部）和目标图层（顶部）之间添加或修改的图层数量。任何现有的中间图层都会被修改。
- en: The two color buttons to the right of the STEPS box set the colors of source
    and destination shape points.
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 位于 STEPS 框右侧的两个颜色按钮设置源和目标形状点的颜色。
- en: LOCATE is useful for automatically locating features in the source and destination
    layers, but it can be time consuming because of the computations involved. It
    is triggered when you ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-click
    a shape point. The source shape point is automatically placed on the closest feature
    and the destination point on the feature that best matches the source. The first
    field in the dialog sets the radius in the source layer, the second field sets
    the radius of the area to be searched in the destination layer, and the last field
    is the edge-detection threshold for detecting a feature. You can play with these
    parameters, but their default values are already well chosen.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LOCATE对于自动定位源图层和目标图层中的特征非常有用，但由于涉及计算，可能会耗费较长时间。它通过![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)点击形状点触发。源形状点会自动放置到离特征最近的位置，目标点则放置到与源点最匹配的特征上。对话框中的第一个字段设置源图层的半径，第二个字段设置目标图层中要搜索区域的半径，最后一个字段是用于检测特征的边缘检测阈值。你可以调整这些参数，但它们的默认值已经非常合适。
- en: 'Finally, the bottom-right portion of the Morph tool dialog covers these settings:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，Morph工具对话框的右下部分包含以下设置：
- en: EDIT MODE has five options. SET is the most versatile. It lets you add a new
    shape point by clicking in the source layer. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    to create a new point that’s near an existing one. Right-click to delete an existing
    point. This mode also lets you drag existing points to a new position. MOVE mode
    is similar to SET, but clicking doesn’t create a new point.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EDIT MODE有五个选项。SET是最通用的。它允许你通过点击源图层添加一个新的形状点。![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)点击可以在现有点附近创建一个新点。右键点击可以删除现有的点。此模式还允许你将现有点拖动到新位置。MOVE模式类似于SET，但点击不会创建新点。
- en: DELETE mode is used only to delete a point. The ZOOM mode allows you to zoom
    in on a specific point. ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking
    zooms out. SHOW mode should simply show the coordinates of the point you clicked,
    but as this book goes to press, this mode is unusable.
  id: totrans-85
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: DELETE模式仅用于删除一个点。ZOOM模式允许你放大特定的点。![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)点击会缩小视图。SHOW模式应该只是显示你点击的点的坐标，但在本书印刷时，此模式无法使用。
- en: INTENSITY is active if you select USE INTENSITY. When this box is checked, the
    shape point’s influence decreases geometrically with increasing distance from
    the point to the deformation radius. When the USE INTENSITY box is unchecked,
    the influence decreases linearly.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果选择USE INTENSITY，INTENSITY会激活。选中此框时，形状点的影响随着距离变形半径的增加而几何级数下降。未选中USE INTENSITY框时，影响则线性下降。
- en: RENDER MODE can be set to Morph or Warp. MORPH is the normal mode. In this mode,
    the source layer transforms progressively into the destination layer by *forward
    warps* (warping the source layer into the destination layer), *backward warps*
    (warping the destination layer into the source layer), and *cross fades*. WARP
    makes the transition using only forward warps, but every time we’ve tried it,
    the results were strange and not very useful.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RENDER MODE可以设置为Morph或Warp。MORPH是正常模式。在此模式下，源图层通过*正向变形*（将源图层变形为目标图层）、*反向变形*（将目标图层变形为源图层）和*交叉渐变*逐步转变为目标图层。WARP模式仅使用正向变形进行过渡，但每次尝试时，结果都很奇怪且不太有用。
- en: When checked (which it is by default), CREATE LAYERS creates the number of new
    layers indicated in the STEPS box. When unchecked, the existing layers are modified,
    but no new layers are created.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选中时（默认选中），CREATE LAYERS会创建STEPS框中指示数量的新图层。未选中时，现有图层会被修改，但不会创建新图层。
- en: When checked, QUALITY uses a better transformation algorithm, but this algorithm
    is much more processor intensive and may crash the tool.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选中时，QUALITY使用更好的变换算法，但这个算法需要更多的处理器资源，并且可能会导致工具崩溃。
- en: When checked, the LINES box displays small vectors that show how a specific
    shape point will be moved.
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选中时，LINES框会显示小向量，展示特定形状点将如何被移动。
- en: The RESET button removes all existing shape points.
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RESET按钮会移除所有现有的形状点。
- en: The SWAP button exchanges the source and destination, but it does not move the
    layers in the image.
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SWAP按钮会交换源图层和目标图层，但不会移动图像中的图层。
- en: 'The SAVE and OPEN buttons do what you’d expect: SAVE saves all the shape point
    coordinates in a file, and OPEN loads previously saved coordinates. Open allows
    you to use the same shape points for different images or to save a partially completed
    project so you can return to it later, for example, to try different values for
    options.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SAVE和OPEN按钮的功能与预期一致：SAVE将所有形状点坐标保存在文件中，而OPEN加载先前保存的坐标。打开功能允许你将相同的形状点用于不同的图像，或者保存一个部分完成的项目，以便稍后返回继续，比如尝试不同的选项值。
- en: Filtering All Layers
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 过滤所有图层
- en: 'This tool, accessed via **Image: Filters > Filter all Layers** is also part
    of GAP but operates on multilayer animations. The concept is simple:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具可以通过**图像：过滤器 > 过滤所有图层**访问，它也是GAP的一部分，但用于多层动画。其概念很简单：
- en: Build a bunch of layers, for example, by duplicating a layer over and over.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建一堆图层，例如，通过重复复制一个图层。
- en: Apply a transformation to all the layers using one of the many GIMP filters.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用GIMP的众多过滤器之一，对所有图层应用转换。
- en: You can apply this filter using the same parameters for all layers, or you can
    change the parameter values progressively from layer to layer.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用相同的参数应用此过滤器到所有图层，或者你可以逐层更改参数值。
- en: '[Figure 18-7](ch18s02.html#filter_all_layers_dialog "Figure 18-7. The Filter
    all Layers dialog") shows the Filter all Layers dialog. The menu on the left lists
    the many available filters, called `plug-in-`*filter-name*. The names are in alphabetical
    order. You can search for a specific filter using the buttons at the bottom right
    of the dialog:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '[图18-7](ch18s02.html#filter_all_layers_dialog "图18-7。所有图层过滤器对话框")展示了所有图层过滤器对话框。左侧菜单列出了众多可用的过滤器，命名为`plug-in-`*filter-name*。这些名称按字母顺序排列。你可以使用对话框右下角的按钮来搜索特定的过滤器：'
- en: SEARCH BY NAME compares the characters typed in the SEARCH box to the names
    of the available filters.
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按名称搜索（SEARCH BY NAME）将搜索框中输入的字符与可用过滤器的名称进行比较。
- en: SEARCH BY BLURB searches in the filter’s description, located just above PARAMETERS
    in the top-right area of the dialog.
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 搜索描述（SEARCH BY BLURB）会在过滤器描述中进行搜索，描述位于对话框右上方的参数（PARAMETERS）上方。
- en: SEARCH BY MENU PATH searches in the menu path, located above the description.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按菜单路径搜索（SEARCH BY MENU PATH）会在菜单路径中进行搜索，该路径位于描述上方。
- en: In the first two cases, the string entered in the SEARCH box is treated as a
    *regular expression*. Searching using expressions is a complex concept, so we’ll
    provide just the basic explanation that you need to search efficiently. In short,
    a normal character, like a letter or a number, matches itself. A dot can stand
    in for any character, so `c.l.r` matches `color` and `celar`. An asterisk can
    match any number of occurrences of the preceding character, including none, so
    `sear*ching` matches `seaching`, `searching`, and `searrrching`. The dot and asterisk
    notations can also be combined, so `color.*hance` matches `color-enhance`, `colorhance`,
    and `colorabcdhance`.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在前两种情况下，输入在搜索框中的字符串会被当作*正则表达式*处理。使用表达式进行搜索是一个复杂的概念，因此我们只提供你进行高效搜索所需的基本解释。简而言之，普通字符（如字母或数字）与其本身匹配。点（`.`）可以代表任何字符，因此`c.l.r`可以匹配`color`和`celar`。星号（`*`）可以匹配前一个字符的任何出现次数，包括零次，因此`sear*ching`可以匹配`seaching`、`searching`和`searrrching`。点和星号符号也可以组合使用，因此`color.*hance`可以匹配`color-enhance`、`colorhance`和`colorabcdhance`。
- en: When you select a filter in the left menu, its description appears on the right
    in the dialog. Most descriptions are written for GIMP developers rather than typical
    users, but you can still learn from them. The description gives you a general
    sense of what the filter does, and the parameter description gives you an idea
    of what you can change in the filter dialog.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在左侧菜单中选择一个过滤器时，它的描述会出现在右侧的对话框中。大多数描述是为GIMP开发者编写的，而不是普通用户，但你仍然可以从中学习。这些描述让你大致了解过滤器的作用，参数描述则帮助你了解可以在过滤器对话框中修改的内容。
- en: '![The Filter all Layers dialog](httpatomoreillycomsourcenostarchimages1457086.png.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![所有图层过滤器对话框](httpatomoreillycomsourcenostarchimages1457086.png.jpg)'
- en: Figure 18-7. The Filter all Layers dialog
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-7。所有图层过滤器对话框
- en: 'Once you’ve chosen a plug-in, the first two options at the bottom of the dialog
    may be active. They are inactive if the chosen plug-in does not have any parameters,
    as is the case for `plug-in-blur`. If these options are active, they let you choose
    *acceleration characteristics*:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择了插件，对话框底部的前两个选项可能会激活。如果选择的插件没有任何参数（如`plug-in-blur`），这些选项则会被禁用。如果这些选项被激活，它们允许你选择*加速特性*：
- en: 0 means that the filter will be applied with the same parameter values for all
    layers. In this case, the box on the left is empty.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 0意味着滤镜将以相同的参数值应用于所有层级。在这种情况下，左侧的框是空的。
- en: 1 means that the parameters will vary, from the first value given to the last
    one, with constant speed. The box on the left displays an ascending diagonal line.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1意味着参数会从第一个值变化到最后一个值，并且速度保持恒定。左侧的框显示一个上升的对角线。
- en: A negative value means the speed of variation will decrease (deceleration).
    The box on the left displays a convex curve.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 负值意味着变化速度将减慢（减速）。左侧的框显示一个凸形曲线。
- en: A positive value (other than 1) means the speed of variation will increase (acceleration).
    The box on the left displays a concave curve.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正数值（除1外）意味着变化速度将加快（加速）。左侧的框显示一个凹形曲线。
- en: You can set the acceleration value numerically or by using the small arrows
    on the right or by dragging the curve.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你可以通过数值输入、右侧的小箭头或拖动曲线来设置加速值。
- en: After making your selections, click APPLY. If the filter has parameters, its
    dialog opens, with a preview and the variable parameters displayed. If the acceleration
    is 0, this dialog appears only once because the parameters are the same for all
    the layers. If the acceleration is not 0, the filter dialog appears twice, first
    for the bottom layer and then for the top layer. Remember, animations are played
    from bottom to top. A tiny warning dialog precedes the second filter dialog. In
    this second filter dialog, you choose the final values of the filter parameters.
    A new dialog appears and asks for the name of a backup file to be used for building
    the intermediate layers. This file is about the same size as the final animation,
    but you don’t need to save it, so the name isn’t important and the file can be
    stored in a temporary folder.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 做出选择后，点击“应用”。如果滤镜有参数，其对话框将打开，显示预览和变量参数。如果加速为0，则此对话框只出现一次，因为所有层级的参数相同。如果加速不为0，滤镜对话框将出现两次，第一次是针对底部层，第二次是针对顶部层。记住，动画是从底部到顶部播放的。在第二个滤镜对话框之前，会出现一个小的警告对话框。在这个第二个滤镜对话框中，你可以选择滤镜参数的最终值。接着会弹出一个新对话框，要求输入一个备份文件的名称，用于构建中间层。这个文件的大小和最终动画差不多，但你不需要保存它，因此文件名不重要，可以将其存储在临时文件夹中。
- en: Click CONTINUE, and the filter is applied to all the layers, with parameters
    interpolated between the first and last values according to the acceleration factor.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“继续”，滤镜会应用到所有层级，并根据加速因子在第一个和最后一个值之间插值。
- en: You’ll also see a button for skipping a frame. It displays the number of the
    frame to skip, and if you click it, the dialog appears again, asking for the filename.
    You can choose to continue or to skip the next frame also. You can’t skip the
    first frame, however. One way to use the skip feature is to set the initial parameters
    so the filter does nothing and then begin applying the filter after skipping several
    frames. Doing this is the same as setting the acceleration to a high positive
    number.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 你还会看到一个跳过帧的按钮。它显示要跳过的帧的编号，点击后会再次弹出对话框，询问文件名。你可以选择继续或者跳过下一个帧。不过，第一帧是不能跳过的。使用跳过功能的一种方法是将初始参数设置为滤镜无效，然后跳过几帧再开始应用滤镜。这样做相当于将加速设置为一个较大的正数。
- en: '![The Animation menu](httpatomoreillycomsourcenostarchimages1457088.png.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![动画菜单](httpatomoreillycomsourcenostarchimages1457088.png.jpg)'
- en: Figure 18-8. The Animation menu
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-8. 动画菜单
- en: '![The Blend dialog](httpatomoreillycomsourcenostarchimages1457090.png.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![混合对话框](httpatomoreillycomsourcenostarchimages1457090.png.jpg)'
- en: Figure 18-9. The Blend dialog
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-9. 混合对话框
- en: Filter all Layers has no undo capability, but you can use the normal undo (![](httpatomoreillycomsourcenostarchimages1453862.png.jpg))
    over and over, or you can open the UNDO HISTORY dialog. Of course, if you have
    many layers, undoing one layer at a time will be tedious, so save the original
    image before filtering all the layers.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 滤镜所有层级没有撤销功能，但你可以反复使用正常的撤销功能（![](httpatomoreillycomsourcenostarchimages1453862.png.jpg)），或者打开撤销历史对话框。当然，如果有很多层级，逐一撤销每一层会很麻烦，所以在对所有层级应用滤镜之前，最好先保存原始图像。
- en: 18.3 The Animation Menu
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.3 动画菜单
- en: 'We’ve already covered most of the tools for creating multilayer animations,
    but we need to discuss a few minor tools in the **Image: Filters > Animation**
    menu, shown in [Figure 18-8](ch18s02.html#animation_menu "Figure 18-8. The Animation
    menu").'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经涵盖了大部分用于创建多层动画的工具，但还需要讨论一些**图像：滤镜 > 动画**菜单中的小工具，如[图18-8](ch18s02.html#animation_menu
    "图18-8. 动画菜单")所示。
- en: Blend
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 混合
- en: The Blend tool requires at least two layers plus a background layer.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 混合工具至少需要两层加上一个背景层。
- en: You choose the number *n* of intermediate frames in the tool dialog ([Figure 18-9](ch18s02.html#blend_dialog
    "Figure 18-9. The Blend dialog")). The intermediate frames are a composite of
    the previous frame and the next one. A new image is built, with the number of
    layers equal to (*n* + 1) × *f*, where *f* is the total number of layers in the
    original image (not including the background layer). If you only have two layers,
    the new image has 2(*n* + 1) layers. The first layer fades out, then the next
    layer appears, and then the first one fades in again. If you have more layers,
    the layers fade in and out from the bottom layer to the top layer and then again
    from the top to the bottom layer.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在工具对话框中选择中间帧的数量 *n*（[图 18-9](ch18s02.html#blend_dialog "图 18-9. 混合对话框")）。中间帧是前一帧和后一帧的合成。新图像是由
    (*n* + 1) × *f* 层组成，其中 *f* 是原始图像中的总层数（不包括背景层）。如果只有两层，新图像将有 2(*n* + 1) 层。第一层逐渐消失，然后下一层出现，然后第一层再次渐显。如果有更多层，层会从底层到顶层逐渐消失和出现，然后再从顶层到底层。
- en: '![The Burn-In dialog](httpatomoreillycomsourcenostarchimages1457092.png.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![烧录对话框](httpatomoreillycomsourcenostarchimages1457092.png.jpg)'
- en: Figure 18-10. The Burn-In dialog
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-10. 烧录对话框
- en: The animation created by this tool is very specific, so the applications are
    pretty limited.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具生成的动画非常具体，因此应用场景有限。
- en: Burn-In
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 烧录
- en: The Burn-In tool generates an animation in which one image fades into another.
    This tool requires a starting image with two layers. The top layer *must* have
    an Alpha channel, and this layer must be selected or the tool is grayed out in
    the menu. [Figure 18-10](ch18s03.html#burn-in_dialog "Figure 18-10. The Burn-In
    dialog") shows the tool dialog. The upper part of the dialog specifies how the
    transition between layers is done.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 烧录工具生成一个动画，其中一张图片逐渐褪去并过渡到另一张图片。此工具需要一个具有两层的起始图像。上层*必须*具有Alpha通道，并且该层必须被选择，否则该工具在菜单中将变灰。[图
    18-10](ch18s03.html#burn-in_dialog "图 18-10. 烧录对话框")显示了工具对话框。对话框的上部指定了层之间过渡的方式。
- en: When FADEOUT is checked, the upper layer progressively fades out from left to
    right, revealing the layer beneath. [Figure 18-11](ch18s03.html#fading_outcomma_without_glowing
    "Figure 18-11. Fading out, without glowing") shows an intermediate layer of the
    animation, with the FADEOUT WIDTH set to 200 pixels.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 当勾选了FADEOUT时，上层会从左到右逐渐褪色，显示下面的层。[图 18-11](ch18s03.html#fading_outcomma_without_glowing
    "图 18-11. 褪色但不发光")显示了动画的中间层，FADEOUT宽度设置为200像素。
- en: If ADD GLOWING is checked, a “glow” effect is added to the transition in the
    color specified in the GLOW COLOR box. [Figure 18-12](ch18s03.html#fading_outcomma_with_glowing
    "Figure 18-12. Fading out, with glowing") shows an intermediate layer of the animation,
    with the width of the Fadeout set to 250 pixels to take into account the width
    of the glow (50 pixels).
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 如果勾选了ADD GLOWING，则在GLOW COLOR框中指定的颜色将为过渡添加“发光”效果。[图 18-12](ch18s03.html#fading_outcomma_with_glowing
    "图 18-12. 褪色并带有发光")显示了动画的中间层，淡出宽度设置为250像素，以考虑到发光的宽度（50像素）。
- en: When FADEOUT is unchecked, the upper layer completely disappears. [Figure 18-13](ch18s03.html#with_glowingcomma_but_without_fading_out
    "Figure 18-13. With glowing, but without fading out") shows an intermediate layer
    of the animation when the glow effect is used. The animation speed is specified
    as the number of pixels in the upper layer that becomes transparent in every frame.
    The number of frames is automatically computed from this number.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 当未勾选FADEOUT时，上层完全消失。[图 18-13](ch18s03.html#with_glowingcomma_but_without_fading_out
    "图 18-13. 发光但不褪色")显示了使用发光效果时的动画中间层。动画速度由上层每帧变透明的像素数来指定。帧数会自动根据这个数值计算。
- en: '![Fading out, without glowing](httpatomoreillycomsourcenostarchimages1457094.png.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![褪色但不发光](httpatomoreillycomsourcenostarchimages1457094.png.jpg)'
- en: Figure 18-11. Fading out, without glowing
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-11. 褪色但不发光
- en: '![Fading out, with glowing](httpatomoreillycomsourcenostarchimages1457096.png.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![褪色并带有发光](httpatomoreillycomsourcenostarchimages1457096.png.jpg)'
- en: Figure 18-12. Fading out, with glowing
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-12. 褪色并带有发光
- en: '![With glowing, but without fading out](httpatomoreillycomsourcenostarchimages1457098.png.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![发光但不褪色](httpatomoreillycomsourcenostarchimages1457098.png.jpg)'
- en: Figure 18-13. With glowing, but without fading out
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-13. 发光但不褪色
- en: Rippling
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 波纹效果
- en: This tool takes an image with one layer and builds an animation that simulates
    the reflection of the image on water with ripples created as if by wind. [Figure 18-14](ch18s03.html#rippling_dialog
    "Figure 18-14. The Rippling dialog") shows the Rippling tool dialog, and [Figure 18-15](ch18s03.html#one_layer_of_the_rippled_animation
    "Figure 18-15. One layer of the rippled animation") shows one layer of a rippled
    animation. RIPPLING STRENGTH sets the force of the wind. NUMBER OF FRAMES is the
    number of layers that are created.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 这个工具接收一个单层图像，并构建一个动画，模拟图像在水面上的反射，波纹看起来仿佛是风吹动造成的。[图 18-14](ch18s03.html#rippling_dialog
    "图 18-14. 波纹对话框")展示了波纹工具对话框，[图 18-15](ch18s03.html#one_layer_of_the_rippled_animation
    "图 18-15. 一个波纹动画的单层")展示了一个波纹动画的单层。RIPPLING STRENGTH 设置风的力度。NUMBER OF FRAMES 是创建的层数。
- en: '![The Rippling dialog](httpatomoreillycomsourcenostarchimages1457100.png.jpg)'
  id: totrans-142
  prefs: []
  type: TYPE_IMG
  zh: '![波纹对话框](httpatomoreillycomsourcenostarchimages1457100.png.jpg)'
- en: Figure 18-14. The Rippling dialog
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-14. 波纹对话框
- en: '![One layer of the rippled animation](httpatomoreillycomsourcenostarchimages1457102.png.jpg)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![一个波纹动画的单层](httpatomoreillycomsourcenostarchimages1457102.png.jpg)'
- en: Figure 18-15. One layer of the rippled animation
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-15. 一个波纹动画的单层
- en: '![Effect of rippling strength](httpatomoreillycomsourcenostarchimages1457104.png.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![波纹强度的效果](httpatomoreillycomsourcenostarchimages1457104.png.jpg)'
- en: Figure 18-16. Effect of rippling strength
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-16. 波纹强度的效果
- en: EDGE BEHAVIOR specifies how the layer edges are handled. BLACK keeps image borders
    straight, and the two other modes (WRAP and SMEAR) deform the border in different
    ways.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: EDGE BEHAVIOR 指定了图层边缘的处理方式。BLACK 保持图像边框直线，另外两种模式（WRAP 和 SMEAR）以不同方式扭曲边框。
- en: The edge behavior effect is only apparent when the rippling strength is greater
    than the default value of 3.0\. A high rippling strength leads to dramatic image
    distortion, as shown in [Figure 18-16](ch18s03.html#effect_of_rippling_strength
    "Figure 18-16. Effect of rippling strength"), where the strength is set to 80.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 只有当波纹强度大于默认值 3.0 时，边缘行为效果才会显现。较高的波纹强度会导致图像严重扭曲，如[图 18-16](ch18s03.html#effect_of_rippling_strength
    "图 18-16. 波纹强度的效果")所示，其中强度设置为 80。
- en: '![A portrait with the face selected](httpatomoreillycomsourcenostarchimages1457106.png.jpg)'
  id: totrans-150
  prefs: []
  type: TYPE_IMG
  zh: '![选中面部的肖像](httpatomoreillycomsourcenostarchimages1457106.png.jpg)'
- en: Figure 18-17. A portrait with the face selected
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-17. 选中面部的肖像
- en: '![The Selection to Animimage dialog](httpatomoreillycomsourcenostarchimages1457108.png.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![选择到动画图像对话框](httpatomoreillycomsourcenostarchimages1457108.png.jpg)'
- en: Figure 18-18. The Selection to Animimage dialog
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-18. 选择到动画图像对话框
- en: Selection to Animimage
  id: totrans-154
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选择到动画图像
- en: The Selection to Animimage tool is very similar to the Filter all Layers tool,
    discussed in [Filtering All Layers](ch18s02.html#filtering_all_layers "Filtering
    All Layers"). In this section, we focus on the differences between them.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 选择到动画图像工具与[过滤所有图层](ch18s02.html#filtering_all_layers "过滤所有图层")中讨论的过滤所有图层工具非常相似。在本节中，我们重点讨论它们之间的区别。
- en: '[Figure 18-17](ch18s03.html#portrait_with_the_face_selected "Figure 18-17. A
    portrait with the face selected") shows an image with a single layer and a selection
    that has been made using the Free Select tool and corrected with the Quick Mask.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 18-17](ch18s03.html#portrait_with_the_face_selected "图 18-17. 选中面部的肖像")显示了一个单层图像，并且使用自由选择工具进行了选择，并通过快速蒙版进行了修正。'
- en: 'The Selection to Animimage tool dialog, accessed via **Image: Filters > Animation
    > Selection to Animimage**, is shown in [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog"). You can choose the number
    of layers to be generated. This plug-in automatically creates the layers, unlike
    the Filter all Layers tool. You can also choose the color used to fill the new
    image outside of the selection and whether to apply the filter to all new layers.
    If the filter is not applied to all new layers, the tool generates the layers
    without applying a filter.. . . So it just duplicates the layer!'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 选择到动画图像工具对话框，通过**图像：滤镜 > 动画 > 选择到动画图像**访问，如[图 18-18](ch18s03.html#selection_to_animimage_dialog
    "图 18-18. 选择到动画图像对话框")所示。你可以选择生成的图层数量。这个插件会自动创建图层，不同于过滤所有图层工具。你还可以选择用于填充选择外部新图像的颜色，并选择是否将滤镜应用于所有新图层。如果滤镜没有应用于所有新图层，工具将生成图层但不应用滤镜……所以它只是复制了该图层！
- en: 'When you apply the filter, two new windows replace the dialog:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 当你应用滤镜时，两个新窗口会替换掉对话框：
- en: A new image containing a copy of the selection made in the initial image, with
    the number of copies of the background layer specified in the preceding dialog
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个新图像，包含初始图像中选定部分的副本，并且背景层的副本数量在前面的对话框中指定
- en: A dialog identical to [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog") that lets you select a filter
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个与 [图 18-18](ch18s03.html#selection_to_animimage_dialog "图 18-18. 选择到 Animimage
    对话框") 完全相同的对话框，允许你选择一个滤镜
- en: You can choose the Cartoon filter, for example, and select APPLY VARYING to
    open the Cartoon filter dialog (see [Figure 17-148](ch17s10.html#cartoon_dialog
    "Figure 17-148. The Cartoon dialog")) for the first layer. Set the PERCENT BLACK
    to 0, and click OK. In the next dialog, set PERCENT BLACK to 1.000 for the final
    layer.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以选择卡通滤镜，例如，选择 APPLY VARYING 打开卡通滤镜对话框（见 [图 17-148](ch17s10.html#cartoon_dialog
    "图 17-148. 卡通对话框")）作为第一层。将 PERCENT BLACK 设置为 0，然后点击 OK。在下一个对话框中，将 PERCENT BLACK
    设置为 1.000 作为最终层。
- en: The result is an animation that progressively transforms the portrait into a
    cartoon.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 结果是一个逐步将肖像转化为卡通的动画。
- en: Spinning Globe
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Spinning Globe
- en: The Spinning Globe tool automatically maps an image to a globe and then makes
    it spin. Simply select an image, open the tool, set the two parameters, and decide
    whether the three checkboxes should be checked, and the computer does the work.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Spinning Globe 工具会自动将图像映射到地球仪上，并使其旋转。只需选择一张图像，打开工具，设置两个参数，决定是否选中三个复选框，然后计算机就会完成剩下的工作。
- en: The image you use determines the shape of the globe. If the image is a true
    square, the globe is a sphere. Otherwise, it is an ellipsoid.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 你使用的图像决定了地球仪的形状。如果图像是正方形的，地球仪是一个球体。否则，它是一个椭球体。
- en: 'To demonstrate, we used the same portrait as before. When we select the Spinning
    Globe tool (**Image: Filters > Animation > Spinning Globe**), the dialog shown
    in [Figure 18-19](ch18s03.html#spinning_globe_dialog "Figure 18-19. The Spinning
    Globe dialog") appears. Here, we choose the number of frames. For a photograph,
    10 is too few and would make the animation jerky. For a simple graphic, however,
    10 frames might be enough. You can also choose the rotation direction, which is
    right to left by default, and whether the background of the animation is transparent
    (you can add a background later) or uses the background color. The animation can
    use indexing with a given number of colors, which is wise if you plan to export
    the animation to GIF. Finally, you can choose to work on a copy of the image.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示，我们使用了之前相同的肖像。当我们选择 Spinning Globe 工具（**图像：滤镜 > 动画 > Spinning Globe**）时，出现如
    [图 18-19](ch18s03.html#spinning_globe_dialog "图 18-19. Spinning Globe 对话框") 所示的对话框。在这里，我们选择帧数。对于照片，10
    帧太少，会导致动画卡顿。然而，对于简单的图形，10 帧可能足够。你还可以选择旋转方向，默认是从右到左，并选择动画的背景是否透明（你可以稍后添加背景）或使用背景色。动画还可以使用指定数量的颜色进行索引，如果你计划将动画导出为
    GIF，这种做法是明智的。最后，你可以选择在图像的副本上进行工作。
- en: '![The Spinning Globe dialog](httpatomoreillycomsourcenostarchimages1457110.png.jpg)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![The Spinning Globe 对话框](httpsatomoreillycomsourcenostarchimages1457110.png.jpg)'
- en: Figure 18-19. The Spinning Globe dialog
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-19. Spinning Globe 对话框
- en: '![Final animation](httpatomoreillycomsourcenostarchimages1457112.png.jpg)'
  id: totrans-169
  prefs: []
  type: TYPE_IMG
  zh: '![最终动画](httpsatomoreillycomsourcenostarchimages1457112.png.jpg)'
- en: Figure 18-20. Final animation
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-20. 最终动画
- en: Here, we change FRAMES to 30 and uncheck TRANSPARENT BACKGROUND. [Figure 18-20](ch18s03.html#final_animation-id00187
    "Figure 18-20. Final animation") shows the animation stopped on frame 2.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，我们将 FRAMES 设置为 30，并取消勾选 TRANSPARENT BACKGROUND。[图 18-20](ch18s03.html#final_animation-id00187
    "图 18-20. 最终动画") 显示了在帧 2 停止的动画。
- en: Waves
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Waves
- en: The Waves tool is even easier to use than Spinning Globe, and the result isn’t
    too bad either. The Waves tool generates an animation that looks like the waves
    created when a stone is thrown into a still lake.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: Waves 工具比 Spinning Globe 更加易于使用，结果也不差。Waves 工具生成的动画看起来像是投石入湖时产生的波纹。
- en: '![The Waves dialog](httpatomoreillycomsourcenostarchimages1457114.png.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![The Waves 对话框](httpsatomoreillycomsourcenostarchimages1457114.png.jpg)'
- en: Figure 18-21. The Waves dialog
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-21. Waves 对话框
- en: 'When you select the Waves tool, the dialog shown in [Figure 18-21](ch18s03.html#waves_dialog-id00189
    "Figure 18-21. The Waves dialog") appears. The rock always falls in the center
    of the image, and the proportions of the concentric waves are determined by the
    image itself. But you can choose the following:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 当你选择 Waves 工具时，出现如 [图 18-21](ch18s03.html#waves_dialog-id00189 "图 18-21. Waves
    对话框") 所示的对话框。石头总是落在图像的中央，波纹的比例由图像本身决定。但你可以选择以下选项：
- en: The number of frames. Six frames is normally enough.
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帧的数量。通常六帧就足够了。
- en: The amplitude and wavelength of the waves. The default values are usually fine.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 波浪的振幅和波长。默认值通常就可以了。
- en: The direction of the movement. If you click INVERT DIRECTION, the waves move
    toward the center of the animation and disappear, which is a weird effect since
    it runs contrary to known physics.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 移动的方向。如果你点击“反转方向”，波浪将朝向动画中心移动并消失，这种效果很奇怪，因为它违背了已知的物理规律。
- en: Click OK to generate the frames. [Figure 18-22](ch18s03.html#waves_animationcomma_before_left_parenth
    "Figure 18-22. The Waves animation, before (left) and after (right)") shows the
    initial image and the animation’s effect.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 单击“确定”以生成帧。[图18-22](ch18s03.html#waves_animationcomma_before_left_parenth "图18-22.
    波浪动画，前（左）和后（右）") 显示了初始图像和动画的效果。
- en: Optimizing and Playing an Animation
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 优化和播放动画
- en: 'The Animation menu has four additional entries, which let you optimize and
    play back your animations:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 动画菜单有四个附加选项，允许你优化和播放动画：
- en: OPTIMIZE (FOR GIF) is probably the option you’ll use most frequently. It saves
    a multilayer image as a GIF animation. This tool has no dialog and generates a
    new image with the same layers as the original image but at a (hopefully) reduced
    size.
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OPTIMIZE (FOR GIF) 可能是你最常使用的选项。它将多层图像保存为GIF动画。此工具没有对话框，会生成一个与原始图像具有相同层的新的图像，但（希望）大小有所减少。
- en: PLAYBACK tests an animation generated as a multilayer image. In this tool’s
    dialog, the image appears in its original size without any zoom, which can be
    problematic if the image is larger than the screen because the toolbar may appear
    off-screen. If that happens, just use ![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)
    to close the dialog.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PLAYBACK 测试作为多层图像生成的动画。在此工具的对话框中，图像显示为原始大小，没有任何缩放，这可能会带来问题，如果图像大于屏幕，因为工具栏可能会显示在屏幕外面。如果发生这种情况，只需使用![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)来关闭对话框。
- en: '![The Waves animation, before (left) and after (right)](httpatomoreillycomsourcenostarchimages1457116.png.jpg)'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![波浪动画，前（左）和后（右）](httpatomoreillycomsourcenostarchimages1457116.png.jpg)'
- en: Figure 18-22. The Waves animation, before (left) and after (right)
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图18-22. 波浪动画，前（左）和后（右）
- en: The toolbar buttons should be self-explanatory with the exception of DETACH,
    which removes the image animation from its frame and allows you to move the frame.
    If you then want to use ![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)
    to close the frame, make sure the frame window (and not the full animation) is
    selected first.
  id: totrans-187
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 工具栏按钮应该是自解释的，除了DETACH按钮，它会移除图像动画并允许你移动框架。如果你想使用![](httpatomoreillycomsourcenostarchimages1455186.png.jpg)来关闭框架，确保先选择的是框架窗口（而不是完整的动画）。
- en: OPTIMIZE (DIFFERENCE) has almost the same effect as OPTIMIZE (FOR GIF). The
    main difference is that OPTIMIZE (DIFFERENCE) keeps all layers the same size as
    the image, whereas OPTIMIZE (FOR GIF) tries to make every layer as small as possible.
    The size of the generated file can vary slightly, but predicting which filter
    will produce the smallest file is difficult.
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OPTIMIZE (DIFFERENCE) 与OPTIMIZE (FOR GIF)的效果几乎相同。主要区别在于，OPTIMIZE (DIFFERENCE)
    保持所有层与图像相同的大小，而OPTIMIZE (FOR GIF)则尽量将每一层做得尽可能小。生成的文件大小可能会略有不同，但很难预测哪个过滤器会生成最小的文件。
- en: UNOPTIMIZE is useful if you’re editing an animation that’s already optimized.
    If you want to add or remove frames, you need to undo the optimization first,
    then make the changes, and finally reoptimize the animation.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: UNOPTIMIZE 在你编辑一个已经优化的动画时非常有用。如果你想添加或删除帧，首先需要撤销优化，然后进行更改，最后重新优化动画。
- en: 18.4 The Move Path Tool
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.4 移动路径工具
- en: 'The rest of this chapter focuses on multi-image animations. As explained in
    [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), multi-image animations are usually stored
    in a specific folder with each frame as a separate file named systematically (*name*`-0001.xcf`,
    for example). The number of digits determines the maximum number of frames, which
    would be 9999 in this example. The number changes, but the *name* is the same
    for all frames. The file could be any type handled by GIMP, but XCF is the best
    choice because it is the only one that handles layers and selections.'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的其余部分将重点讨论多图像动画。如 [方法三：沿路径移动](ch06s01.html#method_three_moving_along_a_path
    "方法三：沿路径移动") 中所述，多图像动画通常存储在一个特定的文件夹中，每一帧都是一个单独的文件，命名有规律（例如 *name*`-0001.xcf`）。数字的位数决定了帧的最大数量，在这个示例中为9999。数字会变化，但
    *name* 对所有帧都是相同的。该文件可以是 GIMP 处理的任何类型，但 XCF 是最佳选择，因为它是唯一支持图层和选区的格式。
- en: 'In this section, we explore GAP’s primary tool, accessed via **Image: Video
    > Move Path**.'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探索 GAP 的主要工具，通过 **图像：视频 > 移动路径** 访问。
- en: This tool copies layers from a source image to a target animation. During the
    copy process, the layers can be transformed in various ways. The source image
    can be a single- or multilayer image or a multiframe animation. The target animation
    must be multiframe because the Move Path tool does not generate frames.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 此工具将图层从源图像复制到目标动画。在复制过程中，这些图层可以以各种方式进行变换。源图像可以是单层或多层图像，或者是多帧动画。目标动画必须是多帧的，因为移动路径工具不生成帧。
- en: 'Before using the Move Path tool, open the first frame of the target animation
    and the source image or animation in GIMP. The source and target images must be
    of the same type: RGB, indexed, or grayscale, but they cannot be the same file.
    If you want to duplicate something in an animation using this tool, you must copy
    the animation first, so the source and target are different files.'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用移动路径工具之前，请在 GIMP 中打开目标动画的第一帧以及源图像或动画。源图像和目标图像必须是相同类型：RGB、索引色或灰度图像，但它们不能是相同的文件。如果你想在动画中复制某个内容，必须先复制动画，因此源文件和目标文件必须是不同的。
- en: To demonstrate the Move Path tool, we chose a multilayer animation as the source
    and the multiframe animation in [Figure 6-43](ch06s04.html#frame_14_of_the_animation
    "Figure 6-43. Frame 14 of the animation") as the target. The tool’s large and
    complex dialog is shown in [Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog"). To make things clearer, we’ll highlight
    certain parts of the dialog in subsequent figures.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 为了演示移动路径工具，我们选择了一个多层动画作为源，并选择了 [图 6-43](ch06s04.html#frame_14_of_the_animation
    "图 6-43. 动画的第14帧") 中的多帧动画作为目标。工具的大型复杂对话框如 [图 18-23](ch18s04.html#move_path_dialog-id00190
    "图 18-23. 移动路径对话框") 所示。为了让事情更清晰，我们将在接下来的图示中突出显示对话框的某些部分。
- en: '![The Move Path dialog](httpatomoreillycomsourcenostarchimages1457118.png.jpg)'
  id: totrans-196
  prefs: []
  type: TYPE_IMG
  zh: '![移动路径对话框](httpatomoreillycomsourcenostarchimages1457118.png.jpg)'
- en: Figure 18-23. The Move Path dialog
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-23. 移动路径对话框
- en: Choosing the Source Layers
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选择源图层
- en: Because the tool’s purpose is to copy layers to frames, you need to decide which
    layers to copy to which frames. One copy of the selected layer from the source
    image is added to each frame of the target.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 由于该工具的目的是将图层复制到帧，因此你需要决定将哪些图层复制到哪些帧。每一帧目标图像中都会加入源图像中选定图层的一个副本。
- en: You choose the source layer in the top-left part of the dialog ([Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog")). The menu SOURCE IMAGE/LAYER shows all
    the layers of the source image or all the frames of the source animation. If the
    source is a multiframe animation and the individual frames have more than one
    layer, the layers are flattened before being copied. We chose 1 layer from a 41-layer
    image as the source.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在对话框的左上角选择源图层（[图 18-23](ch18s04.html#move_path_dialog-id00190 "图 18-23. 移动路径对话框")）。菜单
    SOURCE IMAGE/LAYER 显示源图像的所有图层或源动画的所有帧。如果源是一个多帧动画，并且每一帧有多个图层，这些图层会在复制之前被合并。我们从一个41层的图像中选择了1层作为源。
- en: 'The STEPMODE menu lets you choose how to select a layer when the source image
    is multilayer or a frame when it is multiframe. When the source image is a single
    layer, choose NONE. When the source is a multilayer image, as in our example,
    you can choose from five different step modes:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: STEPMODE 菜单让你选择在源图像是多层图像或多帧图像时如何选择图层或帧。当源图像是单层图像时，选择 NONE。当源图像是多层图像时，如我们的示例所示，你可以从五种不同的步进模式中进行选择：
- en: LOOP selects the layers in sequence, one for each successive target frame (depending
    on SPEEDFACTOR, discussed in a bit). When the last layer is the source, the loop
    starts with this layer, followed by the first layer and then the rest of the layers
    in order.
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LOOP 按顺序选择层，每个连续的目标帧选择一个（具体取决于稍后讨论的 SPEEDFACTOR）。当最后一层是源层时，循环从此层开始，接着是第一层，然后按顺序选择剩余的层。
- en: LOOP REVERSE is the same as LOOP, except the source layers are selected in reverse
    order.
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LOOP REVERSE 与 LOOP 相同，不同之处在于源层按逆序选择。
- en: ONCE is the same as LOOP, except that copying stops after the last layer instead
    of looping back to the first layer.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ONCE 与 LOOP 相同，不同之处在于复制在最后一层后停止，而不是循环回到第一层。
- en: '![Choosing transformation parameters for the selected layer](httpatomoreillycomsourcenostarchimages1457120.png.jpg)'
  id: totrans-205
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![选择选定层的变换参数](httpatomoreillycomsourcenostarchimages1457120.png.jpg)'
- en: Figure 18-24. Choosing transformation parameters for the selected layer
  id: totrans-206
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 18-24. 选择选定层的变换参数
- en: ONCE REVERSE is the same as ONCE, except that source layers are selected in
    reverse order.
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ONCE REVERSE 与 ONCE 相同，不同之处在于源层是按逆序选择的。
- en: PING PONG selects the layers in sequence first and, once the last layer has
    been selected, reverses the sequence.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PING PONG 按顺序首先选择层，一旦选择完最后一层，便反转顺序。
- en: When the source animation is multiframe, STEPMODE offers six equivalent modes
    whose names all begin with FRAME. When a frame has several layers, the layer selected
    in one frame is irrelevant because all visible layers in the frame are flattened
    and the step mode selects among the frames, not the layers.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 当源动画是多帧时，STEPMODE 提供六种等效模式，它们的名称都以 FRAME 开头。当一帧中有多个层时，选择的层在某一帧中并不重要，因为该帧中所有可见的层都会被压平，而步进模式是选择帧而不是层。
- en: The last parameter dealing with layer selection is SPEEDFACTOR, which changes
    how fast the source layers are stepped through. When its value is 1.0, the source
    and target step are synchronized. When its value is 0.5, the source steps to half
    speed, so each layer is copied into two successive frames before stepping to the
    next one. When its value is 2.0, the source steps to double speed, so every other
    layer is copied.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 处理层选择的最后一个参数是 SPEEDFACTOR，它改变源层的步进速度。当其值为 1.0 时，源步进和目标步进是同步的。当其值为 0.5 时，源步进速度减慢至一半，因此每个层会被复制到两个连续的帧中，然后才步进到下一个层。当其值为
    2.0 时，源步进速度加快至两倍，因此每隔一层才会复制一个。
- en: The speed factor is irrelevant if STEPMODE is NONE or FRAME NONE.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 STEPMODE 为 NONE 或 FRAME NONE，则速度因子无关紧要。
- en: Choosing the Destination Frames
  id: totrans-212
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选择目标帧
- en: You choose the target animation in the bottom-right part of the dialog ([Figure 18-23](ch18s04.html#move_path_dialog-id00190
    "Figure 18-23. The Move Path dialog")). The FROM FRAME and TO FRAME cursors delimit
    the range of target frames. They are set to the full range of the target by default,
    so the changes are applied to the entire animation, but you can choose to target
    only a part of the animation.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在对话框的右下角选择目标动画（[图 18-23](ch18s04.html#move_path_dialog-id00190 "图 18-23.
    移动路径对话框")）。FROM FRAME 和 TO FRAME 光标限定了目标帧的范围。默认情况下，它们设置为目标的完整范围，因此更改将应用于整个动画，但你也可以选择仅针对动画的某一部分进行操作。
- en: FORCE VISIBILITY makes all source layers visible even if they are not visible
    in the source. CLIP TO FRAME clips the copied layers to the image boundaries of
    the target frames. LAYERSTACK specifies where the copied layers should be inserted
    in the layer stack of target frames. The default value, 0, is the top of the stack
    because existing layers are numbered from top to bottom, starting at 0.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: FORCE VISIBILITY 会使所有源层都可见，即使它们在源中不可见。CLIP TO FRAME 会将复制的层裁剪到目标帧的图像边界。LAYERSTACK
    指定复制的层应该插入到目标帧的层堆栈中的位置。默认值为 0，表示堆栈的顶部，因为现有层是从顶部到底部编号的，起始编号为 0。
- en: Applying Transformations
  id: totrans-215
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用变换
- en: '[Figure 18-24](ch18s04.html#choosing_transformation_parameters_for_t "Figure 18-24. Choosing
    transformation parameters for the selected layer") shows the sections of the Move
    Path dialog where you can choose to apply transformations. You can decide where
    the transformation will be applied using the X and Y coordinates. The HANDLE menu
    specifies where in the selected layer the origin of these coordinates is located.
    The possibilities are LEFT TOP, LEFT BOTTOM, RIGHT TOP, RIGHT BOTTOM, and CENTER.
    CENTER is generally the best choice, especially if rotation or scaling is applied
    to the layer.'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 18-24](ch18s04.html#choosing_transformation_parameters_for_t "图 18-24. 为所选图层选择变换参数")
    显示了“移动路径”对话框中的部分内容，您可以选择在其中应用变换。您可以使用 X 和 Y 坐标来决定变换应用的位置。HANDLE 菜单指定了这些坐标原点在所选图层中的位置。可选项有
    LEFT TOP、LEFT BOTTOM、RIGHT TOP、RIGHT BOTTOM 和 CENTER。通常，CENTER 是最佳选择，特别是当图层应用旋转或缩放时。'
- en: A blending mode can be applied to the layer in the target frame using the MODE
    menu.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 可以通过模式菜单（MODE）将混合模式应用于目标帧中的图层。
- en: You can scale the source later by setting WIDTH and HEIGHT. These values are
    percentages. If the chain to the right of the counters is broken, the values can
    be changed independently.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过设置 WIDTH 和 HEIGHT 来缩放源图像。这些值是百分比。如果右侧的链条被断开，值可以独立更改。
- en: OPACITY is specified as a percentage. ROTATE is specified in degrees, and a
    negative value results in a counterclockwise rotation. The rotation center is
    the image’s handle.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: OPACITY 以百分比指定。ROTATE 以度数指定，负值会导致逆时针旋转。旋转中心是图像的句柄。
- en: Two more tabs deal with layer transformation. [Figure 18-25](ch18s04.html#perspective_tab_for_transforming_the_per
    "Figure 18-25. The Perspective tab for transforming the perspective") shows the
    PERSPECTIVE tab for transforming perspective. The eight counters specify the factors
    for the *x*- and *y*-coordinates of the four corners of the layer. If the values
    for all factors are 1.0, no transformation occurs. Scaling with factor 0 moves
    the point toward the middle. Scaling with factor 2.0 moves the point outward by
    half the layer’s original dimension. [Figure 18-26](ch18s04.html#perspective_deformation
    "Figure 18-26. Perspective deformation") shows the layer’s four corners numbered
    in red. The black numbers show factors, and the dotted outlines show the resulting
    positions of pixels.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 还有两个选项卡处理图层变换。[图 18-25](ch18s04.html#perspective_tab_for_transforming_the_per
    "图 18-25. 透视选项卡，用于转换透视") 显示了用于转换透视的 PERSPECTIVE 选项卡。八个计数器指定了图层四个角的 *x* 和 *y* 坐标的变换因子。如果所有因子的值为
    1.0，则不进行变换。使用因子 0 进行缩放会将点移向中间。使用因子 2.0 进行缩放会将点向外移动，距离图层原始尺寸的一半。[图 18-26](ch18s04.html#perspective_deformation
    "图 18-26. 透视变形") 显示了图层的四个角，用红色标出，黑色数字表示因子，虚线显示了像素的最终位置。
- en: '![The Perspective tab for transforming the perspective](httpatomoreillycomsourcenostarchimages1457122.png.jpg)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![透视选项卡，用于转换透视](httpatomoreillycomsourcenostarchimages1457122.png.jpg)'
- en: Figure 18-25. The Perspective tab for transforming the perspective
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-25. 透视选项卡，用于转换透视
- en: '![Perspective deformation](httpatomoreillycomsourcenostarchimages1457124.png.jpg)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![透视变形](httpatomoreillycomsourcenostarchimages1457124.png.jpg)'
- en: Figure 18-26. Perspective deformation
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-26. 透视变形
- en: '![The Selection Handling tab](httpatomoreillycomsourcenostarchimages1457126.png.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![选择处理选项卡](httpatomoreillycomsourcenostarchimages1457126.png.jpg)'
- en: Figure 18-27. The Selection Handling tab
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-27. 选择处理选项卡
- en: 'If the source image has a selection, you can control how it’s handled on the
    SELECTION HANDLING tab shown in [Figure 18-27](ch18s04.html#selection_handling_tab
    "Figure 18-27. The Selection Handling tab"). The menu at the top of the tab has
    three options:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 如果源图像有选择区域，您可以在[图 18-27](ch18s04.html#selection_handling_tab "图 18-27. 选择处理选项卡")所示的“选择处理”选项卡中控制如何处理它。选项卡顶部的菜单有三个选项：
- en: IGNORE SELECTION (IN ALL SOURCE IMAGES) ignores the selection.
  id: totrans-228
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IGNORE SELECTION (IN ALL SOURCE IMAGES) 忽略选择。
- en: USE SELECTION (FROM INITIAL SOURCE IMAGE) applies the selection found in the
    first frame to all copied layers. The unselected pixels are transparent.
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: USE SELECTION (FROM INITIAL SOURCE IMAGE) 将初始源图像中的选择应用到所有复制的图层。未选择的像素是透明的。
- en: '![Acceleration handling](httpatomoreillycomsourcenostarchimages1457128.png.jpg)'
  id: totrans-230
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![加速处理](httpatomoreillycomsourcenostarchimages1457128.png.jpg)'
- en: Figure 18-28. Acceleration handling
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 18-28. 加速处理
- en: USE SELECTIONS (FROM ALL SOURCE IMAGES) is the same as the previous choice if
    the source image is a multilayer animation. If the source is multiframe, then
    the selection within each frame is used, and if a frame has no selection, that
    frame is copied in its entirety.
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: USE SELECTIONS (FROM ALL SOURCE IMAGES) 如果源图像是多层动画，则与之前的选择相同。如果源图像是多帧的，则每个帧内的选择会被使用，如果某个帧没有选择，则该帧会被完整复制。
- en: When selection handling is used, you can adjust feathering with the SELECTION
    FEATHER RADIUS cursor, which changes the number of pixels that are applied in
    the feathering boundary.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用选择处理时，你可以通过选择羽化半径光标来调整羽化，该光标会改变羽化边界内应用的像素数。
- en: All the preceding parameters (movement, scale, perspective, opacity, rotation,
    and feathering) are controlled on the ACCELERATION tab ([Figure 18-28](ch18s04.html#acceleration_handling
    "Figure 18-28. Acceleration handling")). Each of those six parameters is associated
    with a numeric field [–100 to 100] and a small square. If the field value is zero,
    the movement has a constant speed (i.e., there is no acceleration). If the field
    value is positive, the movement accelerates, and the small square displays a curve
    showing the steepness of the acceleration. If the field value is negative, the
    movement decelerates. You can change the field by typing a value, clicking the
    small up and down arrows, or dragging in the small square.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 所有前述参数（移动、缩放、透视、透明度、旋转和羽化）在加速选项卡上进行控制（[图18-28](ch18s04.html#acceleration_handling
    "图18-28. 加速处理")）。每个参数都与一个数值字段[–100到100]以及一个小方框相关联。如果字段值为零，表示移动速度是恒定的（即没有加速）。如果字段值为正，表示移动加速，小方框显示一条曲线，表示加速的陡峭程度。如果字段值为负，表示移动减速。你可以通过键入值、点击小的上下箭头，或拖动小方框来更改字段值。
- en: Control Points
  id: totrans-235
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 控制点
- en: A *control point* is the set of transformation parameters that are applied to
    a layer. You can define a single control point for all frames being handled by
    the Move Path tool, or you can define a sequence of control points, which together
    constitute a *control path*.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: '*控制点* 是一组应用于图层的变换参数。你可以为所有通过移动路径工具处理的帧定义一个单一的控制点，或者你可以定义一系列控制点，这些控制点共同构成一个*控制路径*。'
- en: When you have a single control point, the transformation parameters are applied
    with the same values to all layer copies to the target frames. If you have several
    control points, they are distributed among target frames. The first and last control
    points always correspond to the first and last frames. Other control points are
    usually distributed evenly among rest of the target frames.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 当你只有一个控制点时，变换参数会以相同的值应用于所有图层副本，直到目标帧。如果你有多个控制点，这些控制点将分布在目标帧中。第一个和最后一个控制点始终对应第一个和最后一个帧。其他控制点通常均匀地分布在其余目标帧之间。
- en: '![Specifying the control points](httpatomoreillycomsourcenostarchimages1457130.png.jpg)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![指定控制点](httpatomoreillycomsourcenostarchimages1457130.png.jpg)'
- en: Figure 18-29. Specifying the control points
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-29. 指定控制点
- en: '[Figure 18-29](ch18s04.html#specifying_the_control_points "Figure 18-29. Specifying
    the control points") shows the section of the dialog that is focused on control
    points. The number of the current control point is displayed at the top of the
    dialog, just above the X and Y cursors. Any changes to transformation parameters
    apply only to the current control point. Note that in the following discussion,
    when we refer to transformation parameters, we are not referring to the *x*- and
    *y*-coordinates. This dialog has 14 buttons associated with control points.'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '[图18-29](ch18s04.html#specifying_the_control_points "图18-29. 指定控制点")显示了对话框中聚焦于控制点的部分。当前控制点的编号显示在对话框的顶部，位于X和Y光标上方。对变换参数的任何更改仅应用于当前控制点。请注意，在接下来的讨论中，当我们提到变换参数时，我们并不指*x*和*y*坐标。该对话框有14个按钮与控制点相关联。'
- en: ADD POINT adds a control point after the last one, with the same transformation
    parameters as that last point.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ADD POINT 在最后一个控制点之后添加一个控制点，且该控制点的变换参数与最后一个控制点相同。
- en: GRAB PATH deletes all control points and replaces them with the path’s anchor
    points (see [13.3 The Paths Tool](ch13s03.html "13.3 The Paths Tool")) in the
    image from which the Move Path tool was opened. All of these points are initialized
    with transformation values identical to the current settings.
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GRAB PATH 删除所有控制点，并用路径的锚点替换它们（参见[13.3 路径工具](ch13s03.html "13.3 路径工具")），这些锚点来自于打开移动路径工具的图像。这些点会被初始化为与当前设置相同的变换值。
- en: If you press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) and
    click GRAB PATH, control points are created for all target frames, with intermediate
    points defined by the Bézier curve that follows the anchor points.
  id: totrans-243
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果按下 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) 并点击 GRAB PATH，将为所有目标帧创建控制点，并通过贝塞尔曲线定义的中间点连接锚点。
- en: INSERT POINT duplicates the current control point, and the new copy becomes
    the current point.
  id: totrans-244
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: INSERT POINT 复制当前的控制点，新的副本成为当前控制点。
- en: DELETE POINT removes the current control point. Note that undo is not available.
  id: totrans-245
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DELETE POINT 删除当前的控制点。请注意，无法撤销此操作。
- en: PREV POINT makes the previous control point the current one. When you define
    key frames (discussed in [Key Frames](ch18s04.html#key_frames "Key Frames")) and
    press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg), the control
    point from the previous key frame becomes the current control point.
  id: totrans-246
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: PREV POINT 将前一个控制点设置为当前控制点。当你定义关键帧（详见[关键帧](ch18s04.html#key_frames "关键帧")）并按下
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) 时，前一个关键帧的控制点将变为当前控制点。
- en: NEXT POINT does the same for the next control point or key frame.
  id: totrans-247
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NEXT POINT 对下一个控制点或关键帧执行相同的操作。
- en: FIRST POINT does the same for the first control point (or key frame when pressing
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)).
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FIRST POINT 对第一个控制点执行相同的操作（当按下 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    时，对第一个关键帧执行相同的操作）。
- en: LAST POINT does the same for the last control point or key frame.
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAST POINT 对最后一个控制点或关键帧执行相同的操作。
- en: RESET POINT resets the transformation parameters of the current control point
    to the default values of 100.0 for width, height, and opacity; 0.0 for rotation;
    and 1.0 for all perspective coordinates.
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RESET POINT 将当前控制点的变换参数重置为默认值：宽度、高度和透明度为100.0；旋转为0.0；所有透视坐标为1.0。
- en: RESET ALL POINTS resets all control points to the default values. If you press
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg), this button resets
    all control points to the values of the first point. If you press ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg),
    it sets all control point parameters to values interpolated from the first and
    last control points.
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RESET ALL POINTS 将所有控制点重置为默认值。如果按下 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)，该按钮会将所有控制点重置为第一个点的值。如果按下
    ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)，则将所有控制点参数设置为从第一个和最后一个控制点插值计算出的值。
- en: ROTATE FOLLOW computes rotation values for all the control points based on the
    path defined by the *x*- and *y*-coordinates. If an object moves horizontally
    from left to right, its rotation is set to 0°. When moving from right to left,
    its rotation is set to 180°; and when moving vertically, from top to bottom, it’s
    set to 90°. When you press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg),
    a rotation offset is taken from the rotation of the first point and added to the
    rotation of all other points, which allows you to move an object from right to
    left without turning it upside down.
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ROTATE FOLLOW 根据定义的路径和 *x*、*y* 坐标计算所有控制点的旋转值。如果一个物体从左到右水平移动，其旋转设置为0°；如果从右到左移动，旋转设置为180°；如果从上到下垂直移动，旋转设置为90°。按下
    ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg) 时，将从第一个点的旋转角度中获取旋转偏移量，并将其加到所有其他点的旋转上，从而使物体可以从右到左移动而不被翻转。
- en: DELETE ALL POINTS removes all control points except the first one, which is
    reset to the default value.
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DELETE ALL POINTS 删除所有控制点，但保留第一个控制点，并将其重置为默认值。
- en: OPEN loads control point parameters from a file.
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OPEN 从文件中加载控制点参数。
- en: SAVE saves the control point parameters to a file.
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SAVE 将控制点参数保存到文件中。
- en: Key Frames
  id: totrans-256
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 关键帧
- en: You will always have fewer control points than target frames, and, by default,
    the control points are distributed equally among the frames. You can use *key
    frames* to change this.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 你将始终拥有比目标帧数少的控制点，并且默认情况下，控制点在各个帧之间均匀分布。你可以使用*关键帧*来改变这一点。
- en: The KEYFRAME counter is at the top of the dialog, just below the X and Y coordinates.
    If its value is zero, the current control point is not attached to any key frame.
    Otherwise, the current control point is attached to the target frame specified
    by that number, which means the control points don’t have to be assigned to frames
    evenly. So you can apply transformations that accelerate or slow down as the animation
    plays.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: KEYFRAME 计数器位于对话框的顶部，X 和 Y 坐标下方。如果其值为零，则当前控制点未附加到任何关键帧；否则，当前控制点附加到该数字指定的目标帧上，这意味着控制点不需要均匀地分配到各个帧上。因此，你可以应用变换，使动画播放时速度加快或减慢。
- en: The Preview Window
  id: totrans-259
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 预览窗口
- en: The preview window in the center of the dialog initially shows only the first
    target frame. Several buttons and a cursor help you control this preview ([Figure 18-30](ch18s04.html#controlling_the_preview
    "Figure 18-30. Controlling the preview")).
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框中央的预览窗口最初只显示第一个目标帧。几个按钮和一个光标帮助你控制此预览（[图18-30](ch18s04.html#controlling_the_preview
    "图18-30. 控制预览")）。
- en: The FRAME cursor determines which frame is displayed when you click REFRESH.
    When INSTANT APPLY is checked, changes are applied as soon as you change the counter
    value, which can be processor intensive if you’re working with large target animations.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: FRAME光标决定点击刷新时显示哪一帧。当选中即时应用（INSTANT APPLY）时，计数器值一旦更改，变更会立即应用。如果你正在处理大型目标动画，这可能会消耗较多的处理器资源。
- en: When CURSOR is checked, crossed lines are displayed in the preview window, showing
    the position of the *x*- and *y*-coordinates. When PATH is checked, the path between
    the coordinates of the successive control points is also displayed in the preview
    window.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 当选中CURSOR时，预览窗口中会显示交叉的线条，表示*x*和*y*坐标的位置。当选中PATH时，预览窗口中还会显示连续控制点之间的路径。
- en: The small box to the left of the PATH button lets you change the path color
    via the Color chooser.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: PATH按钮左侧的小框可以通过颜色选择器改变路径颜色。
- en: Testing the Move Path Tool
  id: totrans-264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试移动路径工具
- en: When you click OK at the bottom right of the Move Path dialog, the transformation
    specified by the control points is performed. Not every transformation can be
    undone, so always click ANIM PREVIEW first to make sure all the control points
    and parameters are set up properly.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击移动路径对话框右下角的OK时，会执行由控制点指定的转换。并非所有转换都可以撤销，因此在进行任何操作之前，务必先点击ANIM PREVIEW，确保所有控制点和参数设置正确。
- en: '![Controlling the preview](httpatomoreillycomsourcenostarchimages1457132.png.jpg)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![控制预览](httpatomoreillycomsourcenostarchimages1457132.png.jpg)'
- en: Figure 18-30. Controlling the preview
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-30. 控制预览
- en: '![The Anim Preview dialog](httpatomoreillycomsourcenostarchimages1457134.png.jpg)'
  id: totrans-268
  prefs: []
  type: TYPE_IMG
  zh: '![动画预览对话框](httpatomoreillycomsourcenostarchimages1457134.png.jpg)'
- en: Figure 18-31. The Anim Preview dialog
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-31. 动画预览对话框
- en: When you click either OK or ANIM PREVIEW, the Move Path tool first checks whether
    the number of control points is greater than the number of target frames and whether
    the key frames are in ascending or descending order (if key frames are used).
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击OK或ANIM PREVIEW时，移动路径工具会首先检查控制点的数量是否大于目标帧的数量，以及关键帧是否按升序或降序排列（如果使用了关键帧）。
- en: If the tool finds more control points than target frames, or if the key frames
    are not all ordered in the same way, you’ll see an error message, and no transformation
    is performed.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 如果工具发现控制点数量大于目标帧数量，或者关键帧没有按相同方式排序，你会看到错误信息，并且不会执行任何转换。
- en: 'If you don’t get an error message, ANIM PREVIEW opens the dialog shown in [Figure 18-31](ch18s04.html#anim_preview_dialog-id00191
    "Figure 18-31. The Anim Preview dialog"). The animation preview is a scaled-down,
    multilayer file, and the Playback tool (usually selected via **Image: Filters
    > Animation > Playback**) opens automatically.'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有出现错误信息，点击ANIM PREVIEW会打开[图18-31](ch18s04.html#anim_preview_dialog-id00191
    "图18-31. 动画预览对话框")中显示的对话框。动画预览是一个缩小版的多层文件，并且回放工具（通常通过**图像：滤镜 > 动画 > 回放**选择）会自动打开。
- en: 'ANIM PREVIEW MODE can have one of three values:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: ANIM PREVIEW MODE可以有三种值：
- en: OBJECT ON EMPTY FRAMES shows the copied layers on blank frames (rather than
    the target frames) filled with the background color.
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OBJECT ON EMPTY FRAMES在空白帧（而非目标帧）上显示复制的图层，并填充背景颜色。
- en: OBJECT ON ONE FRAME shows the copied layers on the frame displayed in the preview
    window of the tool dialog.
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OBJECT ON ONE FRAME在工具对话框的预览窗口中显示复制的图层在所显示的帧上的内容。
- en: '![The Advanced Settings tab](httpatomoreillycomsourcenostarchimages1457136.png.jpg)'
  id: totrans-276
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![高级设置选项卡](httpatomoreillycomsourcenostarchimages1457136.png.jpg)'
- en: Figure 18-32. The Advanced Settings tab
  id: totrans-277
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图18-32. 高级设置选项卡
- en: EXACT OBJECT ON FRAMES shows a scaled-down version of the final animation.
  id: totrans-278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EXACT OBJECT ON FRAMES显示最终动画的缩小版。
- en: The third option takes much longer to generate, but the preview more closely
    approximates the final result.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 第三个选项生成所需的时间较长，但预览更接近最终结果。
- en: SCALE PREVIEW changes how much the preview is scaled down. If the setting is
    100.0, the preview isn’t scaled down and takes a long time to process. Usually
    a value between 20 to 40 is ideal. FRAMERATE sets the animation speed in frames
    per second. COPY TO VIDEO BUFFER, when checked, may produce a smoother animation.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: SCALE PREVIEW改变预览的缩放比例。如果设置为100.0，预览将不缩放，处理时间较长。通常，20到40之间的值最为理想。FRAMERATE设置动画的帧速率（每秒帧数）。勾选COPY
    TO VIDEO BUFFER时，可能会生成更平滑的动画。
- en: The preview is generated as a new, multilayer animation, which you can delete
    once you’ve watched it.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 预览生成一个新的多层动画，观看后你可以删除它。
- en: Advanced Settings
  id: totrans-282
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 高级设置
- en: The Move Path dialog has an Advanced Settings tab, shown in [Figure 18-32](ch18s04.html#advanced_settings_tab
    "Figure 18-32. The Advanced Settings tab").
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: Move Path对话框有一个高级设置标签，如[图18-32](ch18s04.html#advanced_settings_tab "图18-32.
    高级设置标签")所示。
- en: When checked, BLUEBOX applies the Bluebox filter to the selected layer, as explained
    in [Bluebox](ch18s05.html#bluebox "Bluebox"). KEYCOLOR is used with the Bluebox
    filter and opens the Bluebox dialog.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 当勾选时，BLUEBOX会将蓝框滤镜应用到选定的图层，如[Bluebox](ch18s05.html#bluebox "Bluebox")中所解释的那样。KEYCOLOR与蓝框滤镜一起使用，并打开蓝框对话框。
- en: The TRACELAYER box, when checked, creates an additional layer in all target
    frames. This layer shows all positions of the moving layer from the beginning
    of the animation to the previous frame. TRACEOPACITY1 specifies the opacity of
    this additional layer. TRACEOPACITY2 specifies how much this opacity fades out.
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 勾选TRACELAYER框时，会在所有目标帧中创建一个附加图层。该图层显示从动画开始到上一个帧的所有移动图层位置。TRACEOPACITY1指定此附加图层的透明度。TRACEOPACITY2指定此透明度的渐变程度。
- en: TWEENSTEPS specifies the number of virtual frames, called *tweens*, that are
    computed between two consecutive frames and included in a *tween layer* in the
    target frame below the stack position of the inserted layer. This tween layer
    shows the positions of the moving object in all virtual frames. The opacity of
    this layer is specified by the TWEENOPACITY1 counter and fades out at the older
    positions, depending on the value of the TWEENOPACITY2 counter.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: TWEENSTEPS指定两个连续帧之间计算的虚拟帧数量，这些帧称为*tweens*，并包含在目标帧下方插入图层堆叠位置的*tween layer*中。这个过渡图层显示了移动物体在所有虚拟帧中的位置。该图层的透明度由TWEENOPACITY1计数器指定，并根据TWEENOPACITY2计数器的值在较旧的位置上逐渐消失。
- en: When you have both a trace layer and a tween layer, the tween layer is invisible
    so the opacity of the moving object does not increase. These additional layers
    can be useful for simulating the motion blur of fast-moving objects.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 当你同时有追踪层和过渡层时，过渡层是不可见的，因此运动对象的透明度不会增加。这些附加图层有助于模拟快速运动物体的运动模糊。
- en: 18.5 The Video Menu
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 18.5 视频菜单
- en: 'We’ve already covered two tools in the **Image: Video** menu—the Morph tool
    and the Move Path tool. In this section, we’ll discuss the remaining tools. This
    menu is organized alphabetically, but we’ll discuss the tools in a logical order
    instead.'
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在**图像：视频**菜单中介绍了两个工具——Morph工具和Move Path工具。在本节中，我们将讨论其余的工具。该菜单按字母顺序组织，但我们将按照逻辑顺序来讨论这些工具。
- en: Manipulating Frames
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 操作帧
- en: Many entries in the Video menu deal with frame manipulations, but quite a few
    also perform very simple actions.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 视频菜单中的许多条目涉及帧操作，但也有相当多的条目执行非常简单的操作。
- en: 'The **Image: Video > Go To** menu contains five entries that change the current
    frame in a multiframe animation. The function of the FIRST FRAME, LAST FRAME,
    NEXT FRAME, and PREVIOUS FRAME entries are obvious. ANY FRAME opens a dialog where
    you can select a frame by number.'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：视频 > 跳转到**菜单包含五个条目，这些条目改变多帧动画中的当前帧。FIRST FRAME、LAST FRAME、NEXT FRAME和PREVIOUS
    FRAME的功能显而易见。ANY FRAME打开一个对话框，你可以通过数字选择一个帧。'
- en: DELETE FRAMES lets you delete a subrange of frames, beginning at the current
    frame and ending at the chosen number.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: DELETE FRAMES允许你删除一段帧，从当前帧开始，到选定的帧为止。
- en: DUPLICATE FRAMES opens the dialog in [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog"). You can choose the starting and
    ending frame numbers and the number of times to duplicate that range.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: DUPLICATE FRAMES打开[图18-33](ch18s05.html#duplicate_frames_dialog "图18-33. 复制帧对话框")中的对话框。你可以选择开始帧和结束帧的编号，并设置复制该范围的次数。
- en: EXCHANGE FRAME opens a dialog where you can select the number of the frame to
    be exchanged with the current one.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: EXCHANGE FRAME打开一个对话框，你可以选择与当前帧交换的帧编号。
- en: '![The Duplicate Frames dialog](httpatomoreillycomsourcenostarchimages1457138.png.jpg)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
  zh: '![重复帧对话框](httpsatomoreillycomsourcenostarchimages1457138.png.jpg)'
- en: Figure 18-33. The Duplicate Frames dialog
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-33. 重复帧对话框
- en: '![The Frame Sequence Shift dialog](httpatomoreillycomsourcenostarchimages1457140.png.jpg)'
  id: totrans-298
  prefs: []
  type: TYPE_IMG
  zh: '![帧序列偏移对话框](httpsatomoreillycomsourcenostarchimages1457140.png.jpg)'
- en: Figure 18-34. The Frame Sequence Shift dialog
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-34. 帧序列偏移对话框
- en: '![The Frames Density dialog](httpatomoreillycomsourcenostarchimages1457142.png.jpg)'
  id: totrans-300
  prefs: []
  type: TYPE_IMG
  zh: '![帧密度对话框](httpsatomoreillycomsourcenostarchimages1457142.png.jpg)'
- en: Figure 18-35. The Frames Density dialog
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-35. 帧密度对话框
- en: FRAME SEQUENCE REVERSE opens a dialog with two sliders, one for the numbers
    of the FROM FRAME and the other for the TO FRAME. This tool reverses the sequence,
    so 3–4–5–6–7 becomes 7–6–5–4–3.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: FRAME SEQUENCE REVERSE打开一个对话框，其中有两个滑块，一个用于设置FROM FRAME的帧号，另一个用于设置TO FRAME的帧号。该工具会反转序列，使得3-4-5-6-7变为7-6-5-4-3。
- en: FRAME SEQUENCE SHIFT opens the dialog shown in [Figure 18-34](ch18s05.html#frame_sequence_shift_dialog
    "Figure 18-34. The Frame Sequence Shift dialog"). The first two sliders define
    a frame subrange, and the last cursor, N-SHIFT, specifies the amount of circular
    shift that will be applied to the subrange. The first frame of the sequence is
    renumbered *N* places farther along in the range, and so on, until the last frame,
    which is *N* – 1 places farther than the first frame.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: FRAME SEQUENCE SHIFT打开如[图18-34](ch18s05.html#frame_sequence_shift_dialog "图18-34.
    帧序列偏移对话框")所示的对话框。前两个滑块定义了帧的子范围，最后一个滑块N-SHIFT指定将应用于该子范围的循环偏移量。序列的第一帧将在范围内向后偏移*N*个位置，依此类推，直到最后一帧，它的位置比第一帧多*N*
    - 1个位置。
- en: FRAMES RENUMBER opens a dialog with two sliders. The first specifies the new
    number of the first frame, and the second specifies the number of digits of the
    frame numbers. All the frames are renumbered.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES RENUMBER打开一个对话框，其中有两个滑块。第一个滑块指定第一个帧的新编号，第二个滑块指定帧编号的位数。所有帧都会重新编号。
- en: '![The Frames Convert dialog](httpatomoreillycomsourcenostarchimages1457144.png.jpg)'
  id: totrans-305
  prefs: []
  type: TYPE_IMG
  zh: '![帧转换对话框](httpsatomoreillycomsourcenostarchimages1457144.png.jpg)'
- en: Figure 18-36. The Frames Convert dialog
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-36. 帧转换对话框
- en: Selecting FRAMES DENSITY opens the dialog shown in [Figure 18-35](ch18s05.html#frames_density_dialog
    "Figure 18-35. The Frames Density dialog"). This dialog allows you to duplicate
    frames if the density is increased and delete frames if the density is decreased.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 选择FRAMES DENSITY将打开如[图18-35](ch18s05.html#frames_density_dialog "图18-35. 帧密度对话框")所示的对话框。此对话框允许您在密度增加时复制帧，或在密度减少时删除帧。
- en: The first two cursors are used to select a subrange of the animation. DENSITY
    can range from 1.0 to 100.0\. When INCREASE DENSITY is checked, the density is
    multiplied by this factor. Otherwise it’s divided by this factor.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个滑块用于选择动画的子范围。DENSITY的值可以从1.0到100.0。选中INCREASE DENSITY时，密度会乘以该因子。否则，密度将被该因子除以。
- en: Use the Frames Density tool to combine two animations with different frame rates
    without changing playback speed. For example, you could convert an animation with
    a frame rate of 8 frames per second to 24 frames per second by choosing a density
    of 3.0, which will add two copies of every frame to the original animation. If
    your animation is jerky after you increase the density, try creating *onionskin*
    layers (see [Onionskin](ch18s05.html#onionskin "Onionskin")).
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 使用帧密度工具将两种帧率不同的动画合并而不改变播放速度。例如，您可以将每秒8帧的动画转换为每秒24帧，方法是选择密度为3.0，这将为每一帧添加两份副本。如果在增加密度后动画出现卡顿，请尝试创建*洋葱皮*层（请参见[洋葱皮](ch18s05.html#onionskin
    "洋葱皮")）。
- en: Because the Frames Density tool has no undo, work with a copy of your animation
    so you can return to the original if you make a mistake.
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 由于帧密度工具没有撤销功能，因此在使用时请确保在动画副本上操作，这样如果出现错误，您可以返回到原始文件。
- en: Converting Between File Formats
  id: totrans-311
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文件格式转换
- en: FRAMES CONVERT converts a subrange of the multiframe animation to a different
    format. The Frames Convert dialog is shown in [Figure 18-36](ch18s05.html#frames_convert_dialog
    "Figure 18-36. The Frames Convert dialog"). FROM FRAME and TO FRAME set the subrange.
    The BASENAME specifies where the new frames are stored. The small box at the right
    opens the file manager dialog that you can use to select the location.
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES CONVERT将多帧动画的子范围转换为不同的格式。帧转换对话框如[图18-36](ch18s05.html#frames_convert_dialog
    "图18-36. 帧转换对话框")所示。FROM FRAME和TO FRAME设置子范围。BASENAME指定新帧的存储位置。右侧的小框打开文件管理器对话框，您可以用它选择存储位置。
- en: '![The Frames Crop dialog](httpatomoreillycomsourcenostarchimages1457146.png.jpg)'
  id: totrans-313
  prefs: []
  type: TYPE_IMG
  zh: '![帧裁剪对话框](httpsatomoreillycomsourcenostarchimages1457146.png.jpg)'
- en: Figure 18-37. The Frames Crop dialog
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-37. Frames Crop 对话框
- en: Use the EXTENSION field to select the format that you want to convert the animation
    to. The IMAGETYPE menu allows you convert the animation to RGB, indexed, or grayscale.
    Be sure to convert to indexed if you choose GIF as the output format.
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 EXTENSION 字段选择你希望将动画转换成的格式。IMAGETYPE 菜单允许你将动画转换为 RGB、索引色或灰度。若选择 GIF 作为输出格式，务必转换为索引色。
- en: When checked, FLATTEN flattens the layers in the output files, which is necessary
    for most output formats. This tool can be used to convert numerous files at the
    same time, using many possible input and output formats, as long as the files
    share a systematic naming scheme.
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 勾选时，FLATTEN 会将输出文件中的图层合并，这对于大多数输出格式是必要的。此工具可以用来同时转换多个文件，只要这些文件具有统一的命名规则，并且支持多种可能的输入和输出格式。
- en: FRAMES CROP is used to crop *all* frames of a multiframe animation to a new
    width and height. Its dialog is shown in [Figure 18-37](ch18s05.html#frames_crop_dialog
    "Figure 18-37. The Frames Crop dialog"). This tool acts on the animation (not
    a copy), and the regions of the frames outside the cropped area are discarded.
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES CROP 用于将多帧动画的*所有*帧裁剪到新的宽度和高度。其对话框如 [图 18-37](ch18s05.html#frames_crop_dialog
    "图 18-37. Frames Crop 对话框") 所示。此工具作用于动画（而非其副本），裁剪区域外的帧区域将被丢弃。
- en: You can change the width and height of the crop with the NEW WIDTH and NEW HEIGHT
    fields. The X RATIO and Y RATIO fields also modify the cropping. If the chain
    to the right of these fields is broken, the X and Y dimensions can be changed
    independently.
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过 NEW WIDTH 和 NEW HEIGHT 字段来改变裁剪的宽度和高度。X RATIO 和 Y RATIO 字段也会修改裁剪。如果这些字段右侧的链条断开，X
    和 Y 尺寸可以独立修改。
- en: '![The Frames Scale dialog](httpatomoreillycomsourcenostarchimages1457148.png.jpg)'
  id: totrans-319
  prefs: []
  type: TYPE_IMG
  zh: '![Frames Scale 对话框](httpatomoreillycomsourcenostarchimages1457148.png.jpg)'
- en: Figure 18-38. The Frames Scale dialog
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-38. Frames Scale 对话框
- en: Once you’ve changed the dimensions, you can define what part of the source image
    remains after cropping using the X and Y fields or using the CENTER HORIZONTAL
    and CENTER VERTICAL buttons. You can also click and drag in the small rectangular
    area at the bottom of the dialog.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你改变了尺寸，你可以使用 X 和 Y 字段，或使用 CENTER HORIZONTAL 和 CENTER VERTICAL 按钮来定义裁剪后源图像中保留的部分。你也可以点击并拖动对话框底部的小矩形区域。
- en: Use FRAMES RESIZE to change the canvas size of all frames of a multiframe animation.
    It opens the same dialog as the Frames Crop tool. If the new canvas is smaller
    than the original, the result is the same as cropping.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 FRAMES RESIZE 来改变多帧动画所有帧的画布大小。它会打开与 Frames Crop 工具相同的对话框。如果新的画布小于原始画布，结果与裁剪相同。
- en: 'FRAMES SCALE changes the scale of all frames in a multiframe animation. Its
    dialog, shown in [Figure 18-38](ch18s05.html#frames_scale_dialog "Figure 18-38. The
    Frames Scale dialog"), contains the same fields as the top half of the Frames
    Crop and Frames Resize dialogs. The algorithm used to scale the frames can be
    changed in the GIMP Preferences (**Image: Edit > Preferences**, TOOL OPTIONS entry,
    DEFAULT INTERPOLATION field).'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES SCALE 改变多帧动画中所有帧的缩放。其对话框，如 [图 18-38](ch18s05.html#frames_scale_dialog
    "图 18-38. Frames Scale 对话框") 所示，包含与 Frames Crop 和 Frames Resize 对话框上半部分相同的字段。用于缩放帧的算法可以在
    GIMP 偏好设置中更改（**图像：编辑 > 偏好设置**，工具选项条目，DEFAULT INTERPOLATION 字段）。
- en: Modifying Frames
  id: totrans-324
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 修改帧
- en: FRAMES MODIFY is a very powerful tool that you can use to modify selected layers
    in a subrange of the current multiframe animation. Its dialog is shown in [Figure 18-39](ch18s05.html#frames_modify_dialog
    "Figure 18-39. The Frames Modify dialog"). The layers are selected based on their
    name or their number in the layer stack (0 at the top). Under the heading LAYER
    SELECTION are seven radio buttons, the first six of which use the LAYER PATTERN
    field just below. Most of the radio buttons are self-explanatory.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES MODIFY 是一个非常强大的工具，你可以用它在当前多帧动画的子范围内修改选定的图层。其对话框如 [图 18-39](ch18s05.html#frames_modify_dialog
    "图 18-39. Frames Modify 对话框") 所示。图层是根据它们的名称或在图层堆栈中的编号（最上层为 0）来选择的。在 LAYER SELECTION
    标题下，有七个单选按钮，前六个使用下面的 LAYER PATTERN 字段。大部分单选按钮不言自明。
- en: '![The Frames Modify dialog](httpatomoreillycomsourcenostarchimages1457150.png.jpg)'
  id: totrans-326
  prefs: []
  type: TYPE_IMG
  zh: '![Frames Modify 对话框](httpatomoreillycomsourcenostarchimages1457150.png.jpg)'
- en: Figure 18-39. The Frames Modify dialog
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-39. Frames Modify 对话框
- en: '![Choosing a function](httpatomoreillycomsourcenostarchimages1457152.png.jpg)'
  id: totrans-328
  prefs: []
  type: TYPE_IMG
  zh: '![选择功能](httpatomoreillycomsourcenostarchimages1457152.png.jpg)'
- en: Figure 18-40. Choosing a function
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-40. 选择功能
- en: The first four buttons match a string pattern to the exact name of the layer
    or to a part of its name. The next two choices use a list of layer stack numbers
    as the pattern. For example, the list “0, 4–6, 8” selects layers 0, 4, 5, 6, and
    8\. The last choice selects all visible layers.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 前四个按钮将字符串模式与图层的精确名称或其部分名称进行匹配。接下来的两个选项使用图层堆叠编号列表作为模式。例如，列表“0, 4–6, 8”会选择图层0、4、5、6和8。最后一个选项选择所有可见图层。
- en: When you use a string pattern, the CASE SENSITIVE box allows you to distinguish
    `Background` from `background`. In all cases, checking the INVERT LAYER SELECTION
    box selects all layers that don’t match your criteria.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用字符串模式时，CASE SENSITIVE 复选框允许你区分 `Background` 和 `background`。在所有情况下，勾选 INVERT
    LAYER SELECTION 复选框将选择所有不符合你标准的图层。
- en: As usual, select the frame subrange with the FROM FRAME and TO FRAME sliders.
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: 和往常一样，通过使用 FROM FRAME 和 TO FRAME 滑块选择帧子范围。
- en: The most complicated part of using the Frames Modify tool is choosing the function
    to apply to the selected layers and frames.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Frames Modify 工具时最复杂的部分是选择应用于选定图层和帧的功能。
- en: '[Figure 18-40](ch18s05.html#choosing_a_function "Figure 18-40. Choosing a function")
    shows the FUNCTION button menus, located at the top of the dialog.'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: '[图18-40](ch18s05.html#choosing_a_function "图18-40. 选择功能") 显示了功能按钮菜单，位于对话框顶部。'
- en: LAYER ATTRIBUTES lets you perform simple operations in the layers, which you
    can also do by right-clicking the layer name in the Layers dialog.
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER ATTRIBUTES 让你在图层中执行简单的操作，你也可以通过右键单击图层名称在图层对话框中执行这些操作。
- en: LAYER MODES contains the 22 blending modes, also selected from the MODE menu
    in the Layers dialog.
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER MODES 包含了22种混合模式，这些模式也可以通过在图层对话框中的 MODE 菜单进行选择。
- en: LAYER STACKPOSITION moves layers up and down in the stack.
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER STACKPOSITION 可以在图层堆叠中上下移动图层。
- en: MERGE LAYERS merges the selected layers into one. The resulting layer can be
    clipped to the canvas or to the background layer or expanded to the canvas.
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MERGE LAYERS 将选中的图层合并为一个。合并后的图层可以剪切到画布或背景图层，或扩展到画布。
- en: 'SELECTION has several functions. The first four functions (REPLACE, ADD, SUBTRACT,
    and INTERSECT) take the selection from the frame that was used to open the tool
    and combine it with existing selections in all frames of the subrange. The remaining
    functions alter selections in the same ways as the entries in the **Image: Select**
    menu.'
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SELECTION 有多个功能。前四个功能（REPLACE、ADD、SUBTRACT 和 INTERSECT）从用来打开工具的帧中获取选择，并将其与子范围内所有帧的现有选择合并。其余的功能以与
    **图像：选择** 菜单中的条目相同的方式更改选择。
- en: 'LAYER MASK includes several functions. The first seven functions are found
    by selecting the **Image: Layer > Mask > Add Layer Mask** dialog or by right-clicking
    the layer name in the Layers dialog. The next three functions are also found in
    the **Image: Layer > Mask** menu. The remaining two copy a layer mask from the
    layer above or below and then apply that mask to all selected layers. The meaning
    of the other entries in this menu should be clear from their names alone.'
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LAYER MASK 包含了多个功能。前七个功能可以通过选择 **图像：图层 > 蒙版 > 添加图层蒙版** 对话框或右键单击图层名称在图层对话框中找到。接下来的三个功能也可以在
    **图像：图层 > 蒙版** 菜单中找到。剩下的两个功能可以从上下图层复制图层蒙版，并将该蒙版应用于所有选中的图层。菜单中其他条目的含义应该从它们的名称中可以清楚地理解。
- en: Note that some functions require you to enter a name in the field just below
    the name of the function in the tool dialog.
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，某些功能要求你在工具对话框中功能名称下方的字段中输入一个名称。
- en: The function APPLY FILTER ON LAYER(S) opens a dialog when you click OK. This
    dialog is the same as the one shown in [Figure 18-18](ch18s03.html#selection_to_animimage_dialog
    "Figure 18-18. The Selection to Animimage dialog"), and it works the same way.
    But this tool operates on several layers at the same time, within a subrange of
    frames.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: APPLY FILTER ON LAYER(S) 功能会在你点击 OK 时打开一个对话框。这个对话框与 [图18-18](ch18s03.html#selection_to_animimage_dialog
    "图18-18. 选择到Animimage对话框") 中显示的对话框相同，并且作用方式也相同。但该工具可以在多个图层上同时操作，且操作范围限定于某些帧的子范围内。
- en: The function APPLY FILTER ON LAYER MASK (in the LAYER MASK submenu) applies
    the selected filter to the layer mask instead of the layer itself. If the first
    selected layer in the first frame in the subrange does not have a layer mask,
    you’ll get an error. If the selected filter is applied with varying values, the
    first selected layer in the last frame in the subrange must have a layer mask
    too. If intermediate layers in intermediate frames have no layer mask, they are
    skipped while GIMP processes the frame subrange.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
- en: To use this powerful tool properly, you should use the same layer stack structure
    in all frames. We also recommend using meaningful names for the layers—and to
    do so systematically for all frames.
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
- en: Altering Layers
  id: totrans-345
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Several tools in the Video menu, such as FRAMES MODIFY (discussed in the previous
    section), deal with the layers of the animation frames. In this section, we discuss
    other tools in the Video menu that alter layers.
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
- en: FILENAME TO LAYER creates a new layer in all frames of the subrange that contains
    the filename. Its dialog is shown in [Figure 18-41](ch18s05.html#filename_to_layer_dialog
    "Figure 18-41. The Filename to Layer dialog"). In the MODE menu, you can choose
    to use only the number from the filename, the full name, or a combination of the
    path and the name. Specify the font in the FONTNAME field with the FONT BROWSER
    button.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
- en: You can also choose the font size and the coordinates of the upper-left corner
    of the name. Leave the ANTIALIAS box checked. If the CREATE LAYER box is unchecked,
    the name is written on the active layer.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: 'To use the tool to number all of the frames in a subrange of an animation,
    you must select the Filename to Layers tool from the **Image: Video > Frames Modify**
    menu, using the APPLY FILTER ON LAYER(S) function (called `plug_in_gap_renumber`).'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: '![The Filename to Layer dialog](httpatomoreillycomsourcenostarchimages1457154.png.jpg)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
- en: Figure 18-41. The Filename to Layer dialog
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES FLATTEN flattens all frames (merges all layers) in the specified subrange.
    It has a dialog with two sliders, similar to the top part of [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog").
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
- en: FRAMES LAYER DELETE deletes one specific layer in all frames of the subrange.
    It opens a dialog with three sliders, similar to [Figure 18-33](ch18s05.html#duplicate_frames_dialog
    "Figure 18-33. The Duplicate Frames dialog").
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
- en: 'The **Image: Video > Layer** menu has several entries that can be accessed
    directly but are much more useful when accessed from the **Image: Filters > Filter
    all Layers** tool or the **Image: Video > Frames Modify** tool.'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
- en: Converting Between Multilayer and Multiframe
  id: totrans-355
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Two tools can be used to convert a multilayer animation to a multiframe one,
    and vice versa.
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: SPLIT IMAGE TO FRAMES must be opened from a multilayer image. Its dialog appears
    in [Figure 18-42](ch18s05.html#split_image_to_frames_dialog "Figure 18-42. The
    Split Image to Frames dialog"). You can’t choose names for the new frames or their
    position in the folder hierarchy. To save the new frames in a particular folder,
    place the source image in that folder before splitting it into frames.
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: SPLIT IMAGE TO FRAMES 必须从多层图像中打开。其对话框如[图18-42](ch18s05.html#split_image_to_frames_dialog
    "图18-42. 将图像拆分为框架对话框")所示。你不能选择新框架的名称或它们在文件夹层次中的位置。要将新框架保存到特定文件夹，请在将图像拆分为框架之前，将源图像放入该文件夹中。
- en: 'The EXTENSION is XCF, by default, and it is the safest extension to use, but
    you can enter any format supported by GIMP. The dialog has four checkboxes that,
    when checked, do the following:'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，扩展名是XCF，这是最安全的扩展名，但你也可以选择任何GIMP支持的格式。对话框中有四个复选框，选中时执行以下操作：
- en: INVERSE ORDER starts with the first frame (the top layer) instead of the bottom
    frame.
  id: totrans-359
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: INVERSE ORDER 从第一个框架（顶层图层）开始，而不是从底部框架开始。
- en: '![The Split Image to Frames dialog](httpatomoreillycomsourcenostarchimages1457156.png.jpg)'
  id: totrans-360
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![将图像拆分为框架对话框](httpatomoreillycomsourcenostarchimages1457156.png.jpg)'
- en: Figure 18-42. The Split Image to Frames dialog
  id: totrans-361
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图18-42. 将图像拆分为框架对话框
- en: FLATTEN flattens the new frames, and any transparent areas are filled with the
    background color .
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FLATTEN 将新框架合并为一个图层，任何透明区域将填充为背景色。
- en: ONLY VISIBLE ignores invisible layers. When unchecked, all layers generate a
    frame, regardless of their visibility.
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ONLY VISIBLE 忽略不可见的图层。当未选中时，所有图层都会生成一个框架，无论它们是否可见。
- en: COPY PROPERTIES copies the channels, paths, and guides existing in the image
    to all the frames. When unchecked, these properties are ignored.
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: COPY PROPERTIES 会将图像中现有的通道、路径和引导线复制到所有框架。当未选中时，这些属性会被忽略。
- en: Finally, the DIGITS counter specifies the number of digits contained in the
    numeric part of the frame names.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，DIGITS 计数器指定框架名称中数字部分的位数。
- en: FRAMES TO IMAGE creates a multilayer image from frames, so it must be opened
    from a multiframe animation. Its dialog is shown in [Figure 18-43](ch18s05.html#frames_to_image_dialog-id00192
    "Figure 18-43. The Frames to Image dialog").
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMES TO IMAGE 从框架创建多层图像，因此必须从多框架动画中打开。其对话框如[图18-43](ch18s05.html#frames_to_image_dialog-id00192
    "图18-43. 框架到图像对话框")所示。
- en: The first two sliders specify the subrange of the frames that will be used to
    build the multilayer image. The LAYER BASENAME field lets you name the layers.
    By default, all layer names begin with `frame_`, but you can change that to any
    string. The number signs in the square brackets will be replaced by the frame
    number, but you can change the number of digits. The duration of each layer is
    24 images per second, by default, but you can change that as well.
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: 前两个滑块指定用于构建多层图像的框架子范围。LAYER BASENAME 字段允许你为图层命名。默认情况下，所有图层名称以 `frame_` 开头，但你可以将其更改为任何字符串。方括号中的数字符号将被框架号替换，但你可以更改数字的位数。每个图层的默认持续时间是每秒24帧，但你也可以更改它。
- en: The new layers are created by merging the layers in the source frames (unless
    FLATTENED IMAGE is selected). LAYER MERGEMODE lets you choose how the image size
    is determined.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: 新图层是通过合并源框架中的图层来创建的（除非选择了FLATTENED IMAGE）。LAYER MERGEMODE 让你选择如何确定图像大小。
- en: '![The Frames to Image dialog](httpatomoreillycomsourcenostarchimages1457158.png.jpg)'
  id: totrans-369
  prefs: []
  type: TYPE_IMG
  zh: '![框架到图像对话框](httpatomoreillycomsourcenostarchimages1457158.png.jpg)'
- en: Figure 18-43. The Frames to Image dialog
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-43. 框架到图像对话框
- en: EXPAND AS NECESSARY expands the image size to fit around all layers.
  id: totrans-371
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: EXPAND AS NECESSARY 会扩展图像大小，以适应所有图层。
- en: CLIPPED TO IMAGE clips the layers to the image size.
  id: totrans-372
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CLIPPED TO IMAGE 将图层裁剪到图像大小。
- en: CLIPPED TO BOTTOM LAYER clips the image to the size of the bottom layer of the
    source.
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CLIPPED TO BOTTOM LAYER 将图像裁剪到源图层的底部图层大小。
- en: FLATTENED IMAGE creates the new layer by flattening rather than merging the
    source layers, so the resulting layer, which is the same size as the image, has
    no transparent part.
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FLATTENED IMAGE 通过将源图层压缩而不是合并来创建新图层，因此生成的图层与图像大小相同，没有透明部分。
- en: When checked, EXCLUDE BG-LAYER excludes the background layer from all source
    frames. When unchecked, this layer is handled like any other.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 选中时，EXCLUDE BG-LAYER 会从所有源框架中排除背景图层。当未选中时，这个图层与其他图层一样被处理。
- en: LAYER SELECTION determines how the source layers are selected. For the first
    four options, the LAYER PATTERN field is a character string, which should match
    at least part of the name of the layers you want to select. The next two options
    require a list of layer numbers (“1, 3–5, 9” for example). Layers are numbered
    from zero, beginning at the top layer (or at the bottom layer if the third option
    is chosen). The final option selects all visible layers. If CASE SENSITIVE is
    checked, the case of the string must match for the layer to be selected. All of
    these options can be inverted by checking INVERT LAYER SELECTION.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: LAYER SELECTION 决定如何选择源层。前四个选项中，LAYER PATTERN 字段是一个字符串，应该至少匹配你想选择的层名称的一部分。接下来的两个选项需要一个层号的列表（例如，“1,
    3–5, 9”）。层的编号从零开始，从顶部层（或如果选择第三个选项，则从底部层）开始。最后一个选项选择所有可见层。如果勾选了 CASE SENSITIVE，则字符串的大小写必须匹配才能选择该层。勾选
    INVERT LAYER SELECTION 可以反转所有这些选项。
- en: '![The first tab of the Master Videoencoder dialog](httpatomoreillycomsourcenostarchimages1457160.png.jpg)'
  id: totrans-377
  prefs: []
  type: TYPE_IMG
  zh: '![Master Videoencoder 对话框的第一个标签](httpatomoreillycomsourcenostarchimages1457160.png.jpg)'
- en: Figure 18-44. The first tab of the Master Videoencoder dialog
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-44. Master Videoencoder 对话框的第一个标签
- en: PIXEL SELECTION specifies how an existing selection is handled. IGNORE ignores
    all selections in the source frames. INITIAL FRAME uses the selection from the
    first frame of the subrange and applies it to all frames. The unselected areas
    are transparent, and the layer shape is determined by the selection. FRAME SPECIFIC
    uses the selection in each selected frame.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: PIXEL SELECTION 指定如何处理现有的选区。IGNORE 忽略源帧中的所有选区。INITIAL FRAME 使用子范围内第一帧的选区，并将其应用到所有帧。未选中的区域将变为透明，层的形状由选区决定。FRAME
    SPECIFIC 使用每个选定帧中的选区。
- en: Encoding
  id: totrans-380
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 编码
- en: MASTER VIDEOENCODER converts multiframe or multilayer animations into a specific
    video file encoding. Its dialog is shown in [Figure 18-44](ch18s05.html#first_tab_of_the_master_videoencoder_dia
    "Figure 18-44. The first tab of the Master Videoencoder dialog"). You can also
    use a storyboard with this option, as explained in [Storyboard](ch18s05.html#storyboard
    "Storyboard").
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: MASTER VIDEOENCODER 将多帧或多层动画转换为特定的视频文件编码。其对话框如[图 18-44](ch18s05.html#first_tab_of_the_master_videoencoder_dia
    "图 18-44. Master Videoencoder 对话框的第一个标签")所示。你还可以使用带有此选项的故事板，详细内容请见[Storyboard](ch18s05.html#storyboard
    "Storyboard")。
- en: OUTPUT allows you to name the output file. The extension is added by GIMP, depending
    on the chosen encoder. The button to the right opens the local file manager. The
    STATUS field shows the conversion progress.
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: OUTPUT 允许你命名输出文件。扩展名由 GIMP 根据所选编码器自动添加。右侧的按钮打开本地文件管理器。STATUS 字段显示转换进度。
- en: The first tab in this dialog is VIDEO ENCODE OPTIONS. You can select the INPUT
    MODE; however, the tool automatically chooses one based on the source file. The
    next two fields define the subrange of frames or layers to be used as the source.
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 此对话框中的第一个标签是 VIDEO ENCODE OPTIONS。你可以选择 INPUT MODE；不过，工具会根据源文件自动选择。接下来的两个字段定义了用作源的帧或层的子范围。
- en: WIDTH and HEIGHT specify the size, in pixels, of the resulting video frames.
    The menu to the right lists a set of standard sizes.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: WIDTH 和 HEIGHT 指定结果视频帧的大小，单位为像素。右侧菜单列出了常用的标准尺寸。
- en: FRAMERATE specifies the number of frames per second. The menu to the right has
    a set of standard rates.
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: FRAMERATE 指定每秒帧数。右侧菜单有一组标准帧率。
- en: The VIDEONORM menu contains the usual norms (NTSC, PAL, SECAM), which generally
    depend on the country in which the video will be broadcast.
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: VIDEONORM 菜单包含常见的视频标准（NTSC、PAL、SECAM），这些标准通常取决于视频播放的国家。
- en: '![The parameter dialog of the AVI1 encoder](httpatomoreillycomsourcenostarchimages1457162.png.jpg)'
  id: totrans-387
  prefs: []
  type: TYPE_IMG
  zh: '![AVI1 编码器的参数对话框](httpatomoreillycomsourcenostarchimages1457162.png.jpg)'
- en: Figure 18-45. The parameter dialog of the AVI1 encoder
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-45. AVI1 编码器的参数对话框
- en: ENCODER is operational only after you choose an encoder plug-in in the box to
    the right. For example, [Figure 18-45](ch18s05.html#parameter_dialog_of_the_avi1_encoder
    "Figure 18-45. The parameter dialog of the AVI1 encoder") shows the parameters
    of the AVI1 encoder.
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: ENCODER 仅在你选择一个编码器插件后才能使用，插件选择框位于右侧。例如，[图 18-45](ch18s05.html#parameter_dialog_of_the_avi1_encoder
    "图 18-45. AVI1 编码器的参数对话框")展示了 AVI1 编码器的参数。
- en: The remaining tabs in the Master Videoencoder dialog deal with audio options
    and the audio tool configuration, which is beyond the scope of this book.
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: Master Videoencoder 对话框中的其余标签处理的是音频选项和音频工具配置，这超出了本书的范围。
- en: Playback and Navigator
  id: totrans-391
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 播放和导航
- en: 'Use PLAYBACK to preview a multiframe animation (but not a multilayer one).
    It cannot play MPEG or AVI files. You can open Playback via **Image: Video > Playback**,
    but you may also open it from the VCR Navigator (discussed next) or from the Storyboard
    dialog (see [Storyboard](ch18s05.html#storyboard "Storyboard")).'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 使用PLAYBACK可以预览多帧动画（但不能预览多层动画）。它无法播放MPEG或AVI文件。你可以通过**图像：视频 > 播放**打开播放功能，但也可以从VCR导航器（下文将讨论）或从故事板对话框（见[故事板](ch18s05.html#storyboard
    "Storyboard")）打开。
- en: The lower part of the Playback dialog ([Figure 18-46](ch18s05.html#playback_dialog
    "Figure 18-46. The Playback dialog")) contains the standard play forward, pause,
    and play backward buttons. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    clicking one of the two play buttons creates a “snapshot” image, which is a small
    multilayer animation containing all the frames that have been played up to this
    point. When an animation is playing, you can jump to the first, middle, or last
    frame by clicking the pause button with the left, middle, or right mouse buttons,
    respectively.
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: 播放对话框的下部分([图18-46](ch18s05.html#playback_dialog "Figure 18-46. The Playback
    dialog"))包含标准的播放正向、暂停和播放反向按钮。 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    点击其中一个播放按钮会创建一个“快照”图像，这是一个小型多层动画，包含到目前为止播放过的所有帧。当动画正在播放时，你可以通过点击暂停按钮并使用左、中或右鼠标按钮，分别跳转到第一帧、中间帧或最后一帧。
- en: The top of the Playback dialog contains a set of 50 rectangles, which are the
    *GO array*, an array of the 50 current frames. Move the pointer over the array
    to display the frames in real time. You can stop at a particular point in an animation
    or play the animation at a different speed. Clicking one of the rectangles displays
    that frame in the source animation window. If the animation is larger than 50
    frames, the GO array is a subrange of frames, and by moving the pointer to one
    side or the other, you can change the subrange contained in the array. The mouse
    scroll wheel can also move the animation frames.
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: 播放对话框的顶部包含一组50个矩形，这些矩形是*GO数组*，即50个当前帧的数组。将指针移动到数组上可以实时显示这些帧。你可以在动画的某个特定点暂停，或以不同的速度播放动画。点击其中一个矩形会在源动画窗口中显示该帧。如果动画的帧数超过50帧，GO数组则是帧的子范围，通过将指针移到一侧，你可以更改数组中包含的子范围。鼠标滚轮也可以移动动画帧。
- en: The buttons and counters at the right side of the dialog let you display information
    on the current frame and set a subrange of the animation to play. Two counters
    below the current frame counter, or the two buttons at the right of the counter,
    are used to select a range. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    click one of these buttons to make the corresponding frame the current image.
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框右侧的按钮和计数器可以显示当前帧的信息，并设置要播放的动画子范围。当前帧计数器下方的两个计数器，或者计数器右侧的两个按钮用于选择范围。 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    点击这些按钮中的一个，将对应的帧设为当前图像。
- en: You can also set the frame rate and the size (in pixels) of the preview window,
    which also changes when you resize the dialog.
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以设置帧速率和预览窗口的大小（以像素为单位），当你调整对话框大小时，预览窗口也会发生变化。
- en: The five boxes at the bottom right of the dialog control playback and are mostly
    self-explanatory. Check THUMBNAILS once you’ve seen the animation because that
    lets you reuse the small images generated. Use EXACT TIMING to skip frames and
    save time in an animation’s playback.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框右下角的五个框控件用于控制播放，大部分功能不言自明。查看动画后勾选THUMBNAILS，因为它可以让你重复使用已生成的小图像。使用EXACT TIMING可以跳过帧并节省动画播放的时间。
- en: VCR NAVIGATOR lets you perform simple edits on an animation or play it back.
    The VCR Navigator dialog is shown in [Figure 18-47](ch18s05.html#vcr_navigator_dialog
    "Figure 18-47. The VCR Navigator dialog"). In the middle is a scrollable list
    of frame thumbnails. You can see the frame numbers, as well as the time elapsed
    from the beginning of the animation. FRAMERATE and TIMEZOOM let you control the
    frequency and timing of the frames, and the result is immediately visible in the
    thumbnail area.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: VCR导航器允许你对动画进行简单编辑或回放。VCR导航器对话框如[图18-47](ch18s05.html#vcr_navigator_dialog "Figure 18-47. The
    VCR Navigator dialog")所示。中间是一个可滚动的帧缩略图列表。你可以看到帧的编号，以及从动画开始到当前帧的时间。FRAMERATE和TIMEZOOM让你控制帧的频率和时间，结果会立即在缩略图区域显示出来。
- en: '![The Playback dialog](httpatomoreillycomsourcenostarchimages1457164.png.jpg)'
  id: totrans-399
  prefs: []
  type: TYPE_IMG
  zh: '![播放对话框](httpatomoreillycomsourcenostarchimages1457164.png.jpg)'
- en: Figure 18-46. The Playback dialog
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-46. 播放对话框
- en: '![The VCR Navigator dialog](httpatomoreillycomsourcenostarchimages1457166.png.jpg)'
  id: totrans-401
  prefs: []
  type: TYPE_IMG
  zh: '![VCR导航对话框](httpatomoreillycomsourcenostarchimages1457166.png.jpg)'
- en: Figure 18-47. The VCR Navigator dialog
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-47。VCR导航对话框
- en: 'At the top of the VCR Navigator is the animation selector. Next is AL-TRACKING
    (Active Layer Tracking). Active Layer Tracking finds a layer in the newly loaded
    frame that matches the active layer of the previous frame and sets that layer
    as the active one. Three options are available:'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: 在VCR导航器顶部是动画选择器。接下来是AL-TRACKING（活动图层跟踪）。活动图层跟踪会在新加载的帧中找到与前一帧的活动图层匹配的图层，并将该图层设置为活动图层。提供三种选项：
- en: OFF disables Active Layer Tracking.
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OFF禁用活动图层跟踪。
- en: NAME compares the layer names from left to right and chooses the layer that
    best matches.
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NAME比较从左到右的图层名称，并选择最匹配的图层。
- en: POS uses the layer’s stack position; onionskin layers are not counted.
  id: totrans-406
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: POS使用图层的堆叠位置；洋葱皮图层不计算在内。
- en: 'In the thumbnail area, you can select frames: A single click selects one frame;
    ![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-click adds (or removes)
    the frame to the selected frames; and ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    selects all layers between the previous and the current layer. Right-click to
    open a simple editing menu (copy, cut, paste, and so on).'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 在缩略图区域，你可以选择帧：单击选择一帧；![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)
    - 点击添加（或移除）该帧到选中的帧；![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    - 点击选择从前一图层到当前图层之间的所有图层。右键点击打开一个简单的编辑菜单（复制、剪切、粘贴等）。
- en: Below the thumbnails are two rows of buttons. The playback button opens the
    Playback tool. ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-click
    it to use the selected frames to build a temporary multilayer animation and then
    open the Playback tool.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 缩略图下方有两排按钮。播放按钮打开播放工具。![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    - 点击它以使用所选帧构建一个临时多层动画，然后打开播放工具。
- en: The next button (a triangle in a circle) updates only those thumbnails that
    are out of date; press ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)
    to update all thumbnails. The next button duplicates the selected frames, and
    the last one deletes them. The lower row of buttons lets you navigate through
    the frames of an animation.
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个按钮（三角形圈内）仅更新那些过时的缩略图；按下![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)可以更新所有缩略图。下一个按钮会复制所选帧，最后一个按钮则会删除它们。下排按钮让你在动画的帧之间导航。
- en: Split Video into Frames
  id: totrans-410
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将视频分割成帧
- en: 'The menu **Image: Video > Split video into frames** contains two entries.'
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 菜单**图像：视频 > 将视频分割成帧**包含两个选项。
- en: MPLAYER-BASED EXTRACTION is the best tool for converting a video file to a multiframe
    animation, but it works only if you have MPlayer installed. MPlayer is free software,
    available for all platforms. See *[http://www.mplayerhq.hu/](http://www.mplayerhq.hu/)*
    for more information.
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: 基于MPLAYER的提取工具是将视频文件转换为多帧动画的最佳工具，但仅在你安装了MPlayer的情况下才能使用。MPlayer是免费软件，适用于所有平台。有关更多信息，请参见
    *[http://www.mplayerhq.hu/](http://www.mplayerhq.hu/)*
- en: 'The MPlayer-based extraction tool, shown in [Figure 18-48](ch18s05.html#mplayer-based_extraction_dialog
    "Figure 18-48. The MPlayer-based extraction dialog"), supports many input formats.
    The most useful fields are as follows:'
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 基于MPlayer的提取工具，如[图18-48](ch18s05.html#mplayer-based_extraction_dialog "图18-48。基于MPlayer的提取对话框")所示，支持多种输入格式。最常用的字段如下：
- en: INPUT VIDEO is where you can enter the name of the input video or click the
    button on the right to browse for the file.
  id: totrans-414
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输入视频是你可以输入视频文件名的地方，或者点击右侧的按钮浏览文件。
- en: START TIME is the place in the video where you want to begin extracting, entered
    in *hours:minutes:seconds*.
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始时间是你希望开始提取的时间点，格式为*小时：分钟：秒*。
- en: FRAMES sets the number of frames to extract.
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 帧数设置要提取的帧数。
- en: VIDEOTRACK and AUDIOTRACK are useful if the input video file is multitrack,
    but that isn’t very common. Enter 0 to ignore the audio or video track.
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 视频轨道和音频轨道如果输入视频文件是多轨道的则很有用，但这种情况不常见。输入0则忽略音频或视频轨道。
- en: FRAMENAMES sets the base name of the new frames. To use the file navigator,
    click the button on the right.
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: FRAMENAMES设置新帧的基础名称。要使用文件浏览器，点击右侧的按钮。
- en: FORMAT lets you choose JPEG, PNG, or XCF (generally the best choice). Below
    that you can adjust the compression or optimization, depending on the output format.
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 格式让你选择JPEG、PNG或XCF（通常是最佳选择）。在此下方，你可以根据输出格式调整压缩或优化设置。
- en: '![The MPlayer-based extraction dialog](httpatomoreillycomsourcenostarchimages1457168.png.jpg)'
  id: totrans-420
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![基于MPlayer的提取对话框](httpatomoreillycomsourcenostarchimages1457168.png.jpg)'
- en: Figure 18-48. The MPlayer-based extraction dialog
  id: totrans-421
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 图 18-48. 基于 MPlayer 的提取对话框
- en: SILENT, if checked, ignores any audio track.
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SILENT 如果勾选，则忽略任何音频轨道。
- en: OPEN opens the first frame once the extraction is finished.
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OPEN 在提取完成后打开第一帧。
- en: ASYNCHRONOUS, when checked, sets MPlayer to run asynchronously, so it doesn’t
    block other processes running on the computer.
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ASYNCHRONOUS 如果勾选，设置 MPlayer 以异步方式运行，这样它不会阻塞计算机上其他正在运行的进程。
- en: The frames of the input video are first converted to PNG and then to the chosen
    output format, which is normally XCF. Because the frames are processed twice,
    and a one-minute video sequence contains 1440 frames, these conversions can take
    half an hour or more.
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 输入视频的帧首先被转换为 PNG 格式，然后转换为选择的输出格式，通常是 XCF。由于每一帧都被处理两次，而一分钟的视频序列包含 1440 帧，因此这些转换可能需要半小时或更长时间。
- en: 'The other entry in the **Image: Video > Split video into frames** menu is EXTRACT
    VIDEORANGE. When no additional video software is installed, this tool can only
    process an MPEG input file. Its dialog is shown in [Figure 18-49](ch18s05.html#extract_videorange_dialogcomma_extended
    "Figure 18-49. The Extract Videorange dialog, extended"). At the top of the dialog,
    choose the input file and then the range, either using the counters FROM FRAME
    and TO FRAME or the extended dialog that opens if you click VIDEO RANGE, as shown
    on the right of [Figure 18-49](ch18s05.html#extract_videorange_dialogcomma_extended
    "Figure 18-49. The Extract Videorange dialog, extended").'
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：视频 > 将视频拆分为帧**菜单中的另一个选项是 EXTRACT VIDEORANGE。当没有安装其他视频软件时，这个工具只能处理 MPEG
    输入文件。其对话框显示在[图 18-49](ch18s05.html#extract_videorange_dialogcomma_extended "图
    18-49. 扩展的提取视频范围对话框")中。在对话框的顶部，选择输入文件和范围，可以使用 FROM FRAME 和 TO FRAME 计数器，或者点击 VIDEO
    RANGE 打开扩展对话框，如[图 18-49](ch18s05.html#extract_videorange_dialogcomma_extended
    "图 18-49. 扩展的提取视频范围对话框")右侧所示。'
- en: '![The Extract Videorange dialog, extended](httpatomoreillycomsourcenostarchimages1457170.png.jpg)'
  id: totrans-427
  prefs: []
  type: TYPE_IMG
  zh: '![扩展的提取视频范围对话框](httpatomoreillycomsourcenostarchimages1457170.png.jpg)'
- en: Figure 18-49. The Extract Videorange dialog, extended
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-49. 扩展的提取视频范围对话框
- en: You can generally leave the remaining fields in the input portion of the Extract
    Videorange dialog set at the defaults. In the OUTPUT section, you can choose whether
    to generate a multilayer or multiframe animation. You can also choose the base
    name of the frames, the number of digits, the extension (and format), and the
    number of the first frame. The audio track is extracted into a WAV file.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 你通常可以将提取视频范围对话框中的输入部分的其余字段保持为默认值。在输出部分，你可以选择是否生成多层或多帧动画。你还可以选择帧的基本名称、数字位数、扩展名（和格式）以及第一帧的编号。音频轨道会被提取为
    WAV 文件。
- en: Bluebox
  id: totrans-430
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Bluebox
- en: '**Bluebox** uses a technique often called *blue screen* in cinematography.
    It’s also called *chroma key*, *color keying*, or *color-separation overlay*.
    Basically, a scene is filmed with the actor(s) in front of a blue (or green) screen.
    The blue (or green) part of the video frame is then replaced with a different
    background. This technique can also be used to make an actor appear more than
    once in the same scene.'
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bluebox** 使用一种在电影摄影中常称为*蓝幕*的技术。它也被称为*色键*、*颜色键控*或*颜色分离叠加*。基本上，一个场景是在演员们站在蓝色（或绿色）屏幕前拍摄的。视频画面中的蓝色（或绿色）部分然后被替换成不同的背景。这种技术也可以用来让演员在同一场景中出现多次。'
- en: The Bluebox dialog is shown in [Figure 18-50](ch18s05.html#bluebox_dialog "Figure 18-50. The
    Bluebox dialog"). Bluebox is actually a filter and works best when opened through
    the Move Path tool because it operates on a single layer. You can also open it
    through the Frames Modify tool from the Apply filter on layer(s) function.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: Bluebox 对话框显示在[图 18-50](ch18s05.html#bluebox_dialog "图 18-50. Bluebox 对话框")中。Bluebox
    实际上是一个滤镜，最佳的使用方式是通过移动路径工具打开它，因为它仅对单个图层操作。你也可以通过图层滤镜应用功能中的帧修改工具来打开它。
- en: KEYCOLOR chooses the color of the background to removed. You can choose any
    color via the Color chooser. Pixels similar to this chosen color are made transparent
    according to the threshold setting.
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: KEYCOLOR 选择要去除的背景颜色。你可以通过颜色选择器选择任何颜色。与该颜色相似的像素会根据阈值设置变为透明。
- en: The THRESHOLD MODE can be RGB (three values), HSV (three values), VALUE (one
    value), or ALL (HSV and RGB combined, six values). These thresholds range from
    0.0 to 1.0, where 0.0 only targets the exact color and 1.0 makes the widest range
    of colors transparent. The ALPHA TOLERANCE also changes how much of the background
    becomes transparent.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: THRESHOLD MODE 可以是 RGB（三个值）、HSV（三个值）、VALUE（一个值）或 ALL（结合 HSV 和 RGB，六个值）。这些阈值范围从
    0.0 到 1.0，其中 0.0 仅针对精确颜色，1.0 使最宽范围的颜色透明。ALPHA TOLERANCE 还会改变背景变得透明的程度。
- en: SOURCE ALPHA sets a maximum Alpha value to prevent transparent pixels from becoming
    part of the selection. TARGET ALPHA specifies the transparency of the selected
    pixels after the transformation. You can feather (smooth) the edges of the selection
    and shrink or grow it.
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: SOURCE ALPHA 设置最大 Alpha 值，以防止透明像素成为选区的一部分。TARGET ALPHA 指定变换后的选区透明度。你可以羽化（平滑）选区的边缘，或缩小或扩大选区。
- en: '![The Bluebox dialog](httpatomoreillycomsourcenostarchimages1457172.png.jpg)'
  id: totrans-436
  prefs: []
  type: TYPE_IMG
  zh: '![蓝框对话框](httpatomoreillycomsourcenostarchimages1457172.png.jpg)'
- en: Figure 18-50. The Bluebox dialog
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-50. 蓝框对话框
- en: You can also adjust the size of the preview window, which is useful because
    this filter has no undo capability.
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以调整预览窗口的大小，这非常有用，因为此滤镜没有撤销功能。
- en: Onionskin
  id: totrans-439
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 洋葱皮
- en: An onionskin layer is used to show the previous (or next) frame of an animation
    in the current frame. This is useful when painting moving characters, for example.
    The onionskin is automatically deleted when you move on to the next frame.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 洋葱皮层用于在当前帧中显示动画的上一帧（或下一帧）。例如，当绘制运动中的角色时，这非常有用。洋葱皮会在你转到下一帧时自动删除。
- en: Onionskin layers can also be used for smoothing very fast movement to simulate
    motion blur, as we discussed in [Manipulating Frames](ch18s05.html#manipulating_frames
    "Manipulating Frames"). Onionskin layers behave like normal layers for the most
    part, but special tools are available for doing some things like toggling visibility.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 洋葱皮层还可以用来平滑非常快速的运动，模拟运动模糊，正如我们在[操作帧](ch18s05.html#manipulating_frames "操作帧")中讨论的那样。洋葱皮层大部分时间像普通图层一样工作，但提供了一些特殊工具来执行例如切换可见性之类的操作。
- en: By default, onionskin layers are built by merging the visible layers of the
    previous frame without the background or any other onionskin layers. They are
    usually placed above the background layer in the current frame.
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，洋葱皮层是通过合并上一帧的可见图层（不包括背景或其他洋葱皮层）构建的。它们通常放置在当前帧的背景图层之上。
- en: 'The **Image: Video** menu has a submenu called ONIONSKIN. CONFIGURATION, the
    main entry, opens the dialog shown in [Figure 18-51](ch18s05.html#onionskin_configuration_dialog
    "Figure 18-51. The Onionskin Configuration dialog").'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: '**图像：视频**菜单下有一个名为 ONIONSKIN 的子菜单。主入口 CONFIGURATION 打开显示在[图 18-51](ch18s05.html#onionskin_configuration_dialog
    "图 18-51. 洋葱皮配置对话框")中的对话框。'
- en: LAYER SELECTION lets you choose the layers to be selected and is similar to
    the Frames Modify tool (see [Modifying Frames](ch18s05.html#modifying_frames "Modifying
    Frames")). An additional field lets you ignore a number of background layers.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: LAYER SELECTION 让你选择要选择的图层，类似于帧修改工具（参见[修改帧](ch18s05.html#modifying_frames "修改帧")）。一个额外的字段让你忽略一定数量的背景图层。
- en: 'The large field displaying the name of the current multiframe animation is
    actually a button used to set the video’s parameters. The two boxes below it are
    used to create or delete onionskins automatically when you select the tool from
    the VCR Navigator tool or when you move to the next frame using **File: Video
    > Go To > Next Frame**. When both boxes are checked, onionskins are automatically
    added when you load a frame and deleted when you save the frame.'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 显示当前多帧动画名称的大字段实际上是一个按钮，用于设置视频的参数。下面的两个框用于在你从 VCR 导航工具选择工具时，或使用**文件：视频 > 转到 >
    下一帧**时自动创建或删除洋葱皮。当两个框都被选中时，加载帧时会自动添加洋葱皮，保存帧时会自动删除洋葱皮。
- en: The top of the dialog, ONIONSKIN SETTINGS, specifies how the layers from the
    previous frames are copied. FRAME REFERENCE refers to the source frame number
    from which the onionskin layer is copied. If the frame reference is –1, it means
    that the first onionskin layer will be copied from the previous frame, the second
    from the frame before that, and so on. A positive frame reference means that the
    onionskin is made up of frames that come after the current frame.
  id: totrans-446
  prefs: []
  type: TYPE_NORMAL
  zh: 对话框顶部的“洋葱皮设置”指定如何复制前一帧的层。帧参考（FRAME REFERENCE）指的是从哪个源帧号复制洋葱皮层。如果帧参考是 -1，表示第一个洋葱皮层将从前一帧复制，第二个从前一帧的前一帧复制，依此类推。正数的帧参考表示洋葱皮由当前帧之后的帧组成。
- en: REFERENCE MODE specifies the way neighboring frames are used. In Normal mode,
    the delta provided by FRAME REFERENCE is used in one direction only. This delta
    value determines which onionskin layers are built and copied in the current frame.
    In Bidirectional (single) mode, this delta is used alternately in both directions,
    but a given offset is used only once, as in the sequence –1, +2, –3, +4*,...*.
    In Bidirectional (double) mode, each delta is used twice, as in the sequence –1,
    +1, –2, +2, –3, +3*,...*
  id: totrans-447
  prefs: []
  type: TYPE_NORMAL
  zh: 参考模式（REFERENCE MODE）指定如何使用相邻的帧。在普通模式下，帧参考提供的增量只在一个方向上使用。这个增量值决定了当前帧中构建和复制哪些洋葱皮层。在双向（单）模式下，增量交替用于两个方向，但给定的偏移量只使用一次，如序列
    -1，+2，-3，+4，…等。在双向（双）模式下，每个增量都使用两次，如序列 -1，+1，-2，+2，-3，+3，…等。
- en: '![The Onionskin Configuration dialog](httpatomoreillycomsourcenostarchimages1457174.png.jpg)'
  id: totrans-448
  prefs: []
  type: TYPE_IMG
  zh: '![洋葱皮配置对话框](httpatomoreillycomsourcenostarchimages1457174.png.jpg)'
- en: Figure 18-51. The Onionskin Configuration dialog
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: 图 18-51. 洋葱皮配置对话框
- en: You can also specify the number of onionskin layers to generate, their stack
    position, and their opacity.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以指定生成洋葱皮层的数量、它们的堆叠位置以及不透明度。
- en: Clicking OK adds the onionskin layers, whereas clicking DELETE removes them.
    CLOSE uses the parameters to define the settings throughout the current animation
    without generating an onionskin layer.
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 点击“确定”将添加洋葱皮层，而点击“删除”则移除它们。点击“关闭”则根据当前动画的设置定义参数，但不会生成洋葱皮层。
- en: 'Once the settings are defined, the remaining entries in the **Image: Video
    > Onionskin** menu let you make global changes to the selected frames. You can
    create the onionskin layers or replace layers that you created previously. You
    can also delete specified onionskin layers or toggle their visibility.'
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦设置完成，**图像：视频 > 洋葱皮**菜单中的其余条目允许你对所选帧进行全局更改。你可以创建洋葱皮层，或者替换之前创建的层。你还可以删除指定的洋葱皮层或切换它们的可见性。
- en: 'The Onionskin tools are designed to work with the VCR Navigator or the **Image:
    Video > Go To** operations. When you move between frames, the actions specified
    by the AUTO boxes (if checked) are performed automatically. When both AUTO boxes
    are checked, the frame is saved after deleting the onionskin, and a new onion-skin
    is created in the next frame according to the parameters saved in the **Image:
    Video > Onionskin > Configuration** dialog.'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 洋葱皮工具旨在与VCR导航器或**图像：视频 > 跳转到**操作配合使用。当你在帧之间移动时，若“自动”框被勾选，指定的操作将自动执行。当两个“自动”框都被勾选时，删除洋葱皮后会保存当前帧，并根据**图像：视频
    > 洋葱皮 > 配置**对话框中保存的参数，在下一个帧中创建新的洋葱皮。
- en: Storyboard
  id: totrans-454
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分镜头脚本
- en: A *storyboard* is a text file that describes how to assemble video clips, images,
    and audio files to build a single output video file. Storyboards are useful for
    creating and cutting long video sequences. In fact, the Storyboard Editor, together
    with its accompanying tools, provides a means for editing a video sequence by
    assembling video clips, multiframe animations, and single images. It does not
    provide as many features and capabilities as more specialized video-editing tools
    (such as Kden-live at *[http://www.kdenlive.org/](http://www.kdenlive.org/)* or
    Cinelerra at *[http://cinelerra.org/](http://cinelerra.org/)*), but it does allow
    you to use GIMP’s image-editing capabilities to work on individual frames.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: '*分镜头脚本*是一个文本文件，描述了如何将视频片段、图像和音频文件组合成一个输出视频文件。分镜头脚本对于创建和剪辑长视频序列非常有用。事实上，分镜头编辑器及其附带的工具提供了一种编辑视频序列的方式，可以通过组合视频片段、多帧动画和单个图像来编辑视频。它没有像更专业的视频编辑工具（例如
    Kden-live，* [http://www.kdenlive.org/](http://www.kdenlive.org/)* 或 Cinelerra，*
    [http://cinelerra.org/](http://cinelerra.org/)*）那样多的功能和能力，但它确实允许你使用 GIMP 的图像编辑功能来处理单个帧。'
- en: '![The Storyboard Editor dialog](httpatomoreillycomsourcenostarchimages1457176.png.jpg)'
  id: totrans-456
  prefs: []
  type: TYPE_IMG
  zh: '![分镜头编辑器对话框](httpatomoreillycomsourcenostarchimages1457176.png.jpg)'
- en: Figure 18-52. The Storyboard Editor dialog
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-52. 故事板编辑器对话框
- en: 'Selecting **Image: Video > Storyboard** opens the dialog in [Figure 18-52](ch18s05.html#storyboard_editor_dialog
    "Figure 18-52. The Storyboard Editor dialog"). The right side of this dialog is
    similar to the Playback dialog and is fairly intuitive. The left side is divided
    into the Cliplist and the Storyboard itself. The menu bar at the top of the window
    contains two identical menus (CLIPLIST and STORYBOARD) for the two sections. In
    the GLOBAL menu, check the VIDEOTHUMBNAILS button to view thumbnails of the Cliplist
    and Storyboard. The PROPERTIES entry opens a dialog where you can choose the layout
    of the Cliplist and Storyboard sections, including the size of the thumbnails.'
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**图像：视频 > 故事板**会打开[图18-52](ch18s05.html#storyboard_editor_dialog "图18-52.
    故事板编辑器对话框")中的对话框。该对话框的右侧类似于播放对话框，并且相当直观。左侧分为片段列表和故事板本身。窗口顶部的菜单栏包含两个相同的菜单（片段列表和故事板），分别对应两个部分。在全局菜单中，勾选视频缩略图按钮以查看片段列表和故事板的缩略图。属性条目会打开一个对话框，您可以在其中选择片段列表和故事板部分的布局，包括缩略图的大小。
- en: To use the Cliplist or Storyboard, you first must choose a video or animation
    file. To begin a new project, select **Storyboard > New**. In the dialog that
    appears, select the characteristics of the video animation you plan to build and
    enter the name of the storyboard file. Also select **Cliplist > New**. Its dialog
    is the same, but you must choose a different name for the file. Both menus contain
    additional entries that are fairly self-explanatory.
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用片段列表或故事板，您首先必须选择一个视频或动画文件。要开始一个新项目，选择**故事板 > 新建**。在出现的对话框中，选择您计划制作的视频动画的特征，并输入故事板文件的名称。还需要选择**片段列表
    > 新建**。其对话框相同，但您必须为文件选择不同的名称。两个菜单中都包含了其他自解释的条目。
- en: '![Clip properties](httpatomoreillycomsourcenostarchimages1457178.png.jpg)'
  id: totrans-460
  prefs: []
  type: TYPE_IMG
  zh: '![片段属性](httpatomoreillycomsourcenostarchimages1457178.png.jpg)'
- en: Figure 18-53. Clip properties
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-53. 片段属性
- en: To add a clip, select **Cliplist > Create Clip**, which opens the dialog shown
    in [Figure 18-53](ch18s05.html#clip_properties "Figure 18-53. Clip properties").
    You can load frames or layers from another animation and set several parameters
    for this new clip. Note that if the new clip is significantly different from the
    video that it’s added to, the frames may be deformed.
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: 要添加片段，选择**片段列表 > 创建片段**，这会打开[图18-53](ch18s05.html#clip_properties "图18-53. 片段属性")中显示的对话框。您可以加载来自其他动画的帧或图层，并为此新片段设置多个参数。请注意，如果新片段与其所添加的视频有显著差异，则帧可能会变形。
- en: A single image can also be used as a new clip. You can even drag and drop an
    image from a file manager.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 单个图像也可以作为新片段使用。您甚至可以从文件管理器中拖放图像。
- en: After a clip is selected, it’s displayed as a thumbnail in the PLAYBACK section
    of the Storyboard Editor dialog. You then choose the frame range to be used as
    a clip and add it to the Clip-list by clicking the first button on the right.
    The second button adds the inverse range.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 选择片段后，它会作为缩略图显示在故事板编辑器对话框的播放区域中。然后选择要用作片段的帧范围，并通过点击右侧的第一个按钮将其添加到片段列表中。第二个按钮则添加反向范围。
- en: Once you have clips in the Cliplist, add them to the Storyboard by
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦片段出现在片段列表中，通过以下方式将其添加到故事板中：
- en: '![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-clicking and ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-clicking
    to select the clips'
  id: totrans-466
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '![](httpatomoreillycomsourcenostarchimages1453844.png.jpg)-点击和 ![](httpatomoreillycomsourcenostarchimages1453922.png.jpg)-点击以选择片段'
- en: using the CUT, COPY, and PASTE buttons at the bottom of the Cliplist to arrange
    the clips in sequence
  id: totrans-467
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用片段列表底部的剪切、复制和粘贴按钮按顺序排列片段
- en: using the CUT, COPY, and PASTE buttons in the Storyboard to copy and arrange
    clips
  id: totrans-468
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用故事板中的剪切、复制和粘贴按钮来复制和排列片段
- en: clicking the play button at the bottom right of the Cliplist to play the sequence
    of clips or only the selected clips
  id: totrans-469
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 点击片段列表右下角的播放按钮以播放片段序列或仅播放选定的片段
- en: double-clicking a clip thumbnail to play it
  id: totrans-470
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 双击片段缩略图以播放它
- en: right-clicking a clip thumbnail to change its properties ([Figure 18-53](ch18s05.html#clip_properties
    "Figure 18-53. Clip properties"))
  id: totrans-471
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 右键单击片段缩略图以更改其属性（[图18-53](ch18s05.html#clip_properties "图18-53. 片段属性")）
- en: Playing a clip or clip sequence is useful when selecting a subrange of frames
    and defining a new clip. Pasted clips are added after the last selected clip or
    at the end of the sequence.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 播放片段或片段序列在选择帧的子范围并定义新片段时非常有用。粘贴的片段会添加到最后一个选定的片段之后或序列的末尾。
- en: '![Transition attributes](httpatomoreillycomsourcenostarchimages1457180.png.jpg)'
  id: totrans-473
  prefs: []
  type: TYPE_IMG
  zh: '![过渡属性](httpatomoreillycomsourcenostarchimages1457180.png.jpg)'
- en: Figure 18-54. Transition attributes
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 图18-54. 过渡属性
- en: The **Cliplist** and **Storyboard** menus also allow you to create a transition.
    This menu entry opens the dialog shown in [Figure 18-54](ch18s05.html#transition_attributes
    "Figure 18-54. Transition attributes"). Create transitions by changing the opacity
    of frames, scrolling frames, or zooming. You can also combine these effects.
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: '**剪辑列表**和**故事板**菜单也允许你创建过渡效果。这个菜单项会打开在[图18-54](ch18s05.html#transition_attributes
    "图18-54. 过渡属性")中显示的对话框。通过改变帧的不透明度、滚动帧或缩放，可以创建过渡效果。你还可以将这些效果结合起来使用。'
- en: Once you’ve finished building a storyboard, you can save it as a text file.
    These files use a well-defined syntax, and you can modify them with a text editor
    if you know the syntax.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 完成故事板的构建后，你可以将其保存为文本文件。这些文件使用了明确的语法，如果你了解语法，可以通过文本编辑器进行修改。
