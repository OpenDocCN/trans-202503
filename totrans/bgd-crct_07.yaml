- en: '6'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '6'
- en: THE RAILROAD CROSSING LIGHT
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 铁路道口灯
- en: THIS CIRCUIT FLASHES TWO LEDS IN AN ALTERNATING PATTERN.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 该电路以交替的模式闪烁两个LED。
- en: '![image](../images/f0042-01.jpg)'
  id: totrans-3
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0042-01.jpg)'
- en: '**THE CIRCUIT DIAGRAM**'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**电路图**'
- en: '![image](../images/f0043-01.jpg)'
  id: totrans-5
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0043-01.jpg)'
- en: '**THE PARTS LIST**'
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**元件清单**'
- en: '| **PART** | **VALUE** | **DESCRIPTION** |'
  id: totrans-7
  prefs: []
  type: TYPE_TB
  zh: '| **元件** | **值** | **描述** |'
- en: '| --- | --- | --- |'
  id: totrans-8
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| R1, R4 | 470 Ω | Standard resistor |'
  id: totrans-9
  prefs: []
  type: TYPE_TB
  zh: '| R1, R4 | 470 Ω | 标准电阻 |'
- en: '| R2, R3 | 47 kΩ | Standard resistor |'
  id: totrans-10
  prefs: []
  type: TYPE_TB
  zh: '| R2, R3 | 47 kΩ | 标准电阻 |'
- en: '| Q1, Q2 | BC547 | Any general-purpose NPN transistor |'
  id: totrans-11
  prefs: []
  type: TYPE_TB
  zh: '| Q1, Q2 | BC547 | 任何常用的NPN晶体管 |'
- en: '| C1, C2 | 10 μF | Polarized capacitor |'
  id: totrans-12
  prefs: []
  type: TYPE_TB
  zh: '| C1, C2 | 10 μF | 极性电容器 |'
- en: '| L1, L2 |  | Standard-output light-emitting diode |'
  id: totrans-13
  prefs: []
  type: TYPE_TB
  zh: '| L1, L2 |  | 标准输出发光二极管 |'
- en: '**ABOUT THE CIRCUIT**'
  id: totrans-14
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**关于电路**'
- en: This circuit makes two LEDs flash in an alternating pattern. You can use it
    for a model railroad crossing, for example, or for eyes on a toy robot.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 该电路使两个LED交替闪烁。你可以将其用作铁路道口灯，例如，或者作为玩具机器人眼睛的灯光。
- en: This is a classic circuit called an *astable multivibrator*. In [Project 5](ch05.xhtml#ch05),
    you made an LED blink using an inverter that turned itself on and off continuously.
    The astable multivibrator is a circuit that instead uses two transistors that
    turn each other on and off. To really grasp what’s going on in this circuit, you
    need to have a strong understanding of the basics of electronics, especially around
    how voltages behave in circuits with capacitors.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个经典的电路，称为 *自激多谐振荡器*。在 [项目5](ch05.xhtml#ch05) 中，你使用一个反相器使LED闪烁，反相器不断地开关自如。自激多谐振荡器则使用两个晶体管交替地相互控制开关。为了真正理解这个电路的工作原理，你需要对电子学的基础有坚实的理解，尤其是电压在电容器电路中的表现。
- en: '**COMMON MISTAKES**'
  id: totrans-17
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**常见错误**'
- en: 'This circuit has a lot of connections, so it’s very easy to overlook something.
    I often make mistakes when I build this one, even though I’ve done it plenty of
    times. If your circuit isn’t working correctly, check for the following:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 这个电路有很多连接点，所以很容易忽略某些部分。即使我已经做过很多次，搭建这个电路时我也常常出错。如果你的电路无法正常工作，请检查以下内容：
- en: Using 470 Ω resistors where you need 47 kΩ and vice versa
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在需要47 kΩ电阻的地方使用470 Ω电阻，反之亦然
- en: Connecting the LEDs the wrong way
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误连接LED
- en: Mixing up the transistor pins
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 混淆晶体管引脚
- en: Having pins accidentally touch, especially around the transistors
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 意外接触引脚，尤其是在晶体管周围
- en: Connecting the capacitors the wrong way around
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误连接电容器
- en: If you want to change the flashing speed, try replacing the two capacitors (C1
    and C2) and the resistors (R2 and R3) with other values.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想更改闪烁速度，试着更换两个电容器（C1 和 C2）以及电阻器（R2 和 R3）的值。
- en: If you’re still struggling with this circuit, you can find more resources through
    the book’s website at *[https://nostarch.com/circuits/](https://nostarch.com/circuits/)*.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你仍然在为这个电路而苦恼，你可以通过书籍网站获取更多资源，网址是 *[https://nostarch.com/circuits/](https://nostarch.com/circuits/)*。
- en: '**HOW THE CIRCUIT WORKS**'
  id: totrans-26
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**电路工作原理**'
- en: Having a good handle on the basics of electronics, especially on how voltages
    behave in circuits with capacitors, will help you understand what’s happening
    here. In this circuit, shown in [Figure 6-1](ch06.xhtml#ch06fig1), the LED on
    the left-hand side is lit when the transistor on the left-hand side (Q1) is on,
    and the LED on the right-hand side is lit when the transistor on the right-hand
    side (Q2) is on. Transistor Q1 is controlled by the voltage at the junction between
    R3 and C2, while transistor Q2 is controlled by the voltage at the junction between
    R2 and C1.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 对电子学基础的理解，特别是电压在电容器电路中的表现，将帮助你理解这个电路的工作原理。在这个电路中，如 [图6-1](ch06.xhtml#ch06fig1)
    所示，当左侧晶体管（Q1）导通时，左侧的LED亮起；当右侧晶体管（Q2）导通时，右侧的LED亮起。晶体管Q1由R3和C2之间的电压控制，而晶体管Q2由R2和C1之间的电压控制。
- en: '![image](../images/f0044-01.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0044-01.jpg)'
- en: '**FIGURE 6-1** The voltage on the left node controls the right transistor (Q2)
    and vice versa.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '**图6-1** 左侧节点的电压控制右侧晶体管（Q2），反之亦然。'
- en: 'Next, you have to look in detail at the voltages across the two capacitors.
    If you aren’t comfortable with how voltages and currents behave in a circuit,
    I recommend reading this article before you move on: *[https://www.build-electronic-circuits.com/kirchhoffs-law/](https://www.build-electronic-circuits.com/kirchhoffs-law/)*.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你需要详细检查两个电容器之间的电压。如果你不熟悉电路中的电压和电流行为，我建议你在继续之前阅读这篇文章： *[https://www.build-electronic-circuits.com/kirchhoffs-law/](https://www.build-electronic-circuits.com/kirchhoffs-law/)*。
- en: 'Here are two things to keep in mind before diving into the explanation:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 在深入解释之前，这里有两件事需要记住：
- en: Voltage is always measured between two points. When we talk about the voltage
    at a specific point, we mean the voltage measured from that point to the battery’s
    negative terminal—that’s why the negative terminal is 0 V.
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电压总是测量两个点之间的差值。当我们谈论某一点的电压时，我们指的是从该点到电池负极端子的电压——这就是为什么负极是0 V的原因。
- en: Throughout this book, we’re using the transistor as a switch. It needs 0.7 V
    on the middle pin (base) to turn on. When the transistor is on, its top pin (collector)
    is connected to its bottom pin (emitter) so that current can flow through it.
    This also means that the top pin has the same voltage as the bottom pin when the
    transistor is on. When the transistor is off, there’s no connection between the
    top pin and the bottom pin, so no current can flow.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本书中，我们将晶体管作为开关使用。它需要在中间引脚（基极）上有0.7 V才能开启。当晶体管开启时，它的顶部引脚（集电极）与底部引脚（发射极）连接，这样电流就可以流过它。这也意味着当晶体管开启时，顶部引脚和底部引脚的电压是相同的。当晶体管关闭时，顶部引脚和底部引脚之间没有连接，因此没有电流流动。
- en: Let’s start by looking at the circuit when LED L1 is lit and the other LED is
    off. L1 is lit only when transistor Q1 is turned on. Remember that Q1 is turned
    on only if it has 0.7 V on its base. Since the negative (–) side of capacitor
    C2 is connected to the base of Q1, this must also be 0.7 V.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从查看LED L1亮起而另一个LED熄灭的电路开始。L1只有在晶体管Q1打开时才会亮起。记住，Q1只有在基极电压达到0.7 V时才会打开。由于电容器C2的负极（–）连接到Q1的基极，因此这也必须是0.7
    V。
- en: The positive side of C2 is connected to the 9 V through R4 and L2, and it almost
    instantly charges to about 8 V (some voltage is used up across LED L2). You may
    be thinking, “Hey, if there is current flowing through R4 and L2, why isn’t L2
    lit?” The reason is that as soon as the voltage on the right side of the capacitor
    rises to 8 V, no more current flows through the LED, and thus it doesn’t light
    up.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: C2的正极通过R4和L2连接到9 V，它几乎瞬间充电到约8 V（一些电压被LED L2消耗）。你可能会想，“嘿，如果电流通过R4和L2，为什么L2不亮？”原因是，一旦电容器右侧的电压升高到8
    V，电流就不再通过LED，因此它不会亮起。
- en: '[Figure 6-2](ch06.xhtml#ch06fig2) shows the voltages we have found so far.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '[图6-2](ch06.xhtml#ch06fig2)显示了我们到目前为止找到的电压。'
- en: '![image](../images/f0046-01.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0046-01.jpg)'
- en: '**FIGURE 6-2** The voltage on the positive side of capacitor C2 quickly reaches
    about 8 V when the LED on the left is lit.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**图6-2** 当左侧的LED亮起时，C2的正极电压很快达到大约8 V。'
- en: Now let’s look at the voltages for the other transistor, Q2.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下另一个晶体管Q2的电压。
- en: Since the transistor is off, its base must be lower than 0.7 V. The negative
    side of C1 is connected to the base, so that means it is also lower than 0.7 V.
    But the negative side of C1 is also connected to 9 V through resistor R2, which
    means it is being charged and the voltage is slowly increasing from below 0.7
    V, as shown in [Figure 6-3](ch06.xhtml#ch06fig3).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 由于晶体管处于关闭状态，它的基极电压必须低于0.7 V。C1的负极连接到基极，这意味着它的电压也低于0.7 V。但C1的负极还通过电阻R2连接到9 V，这意味着它正在被充电，电压正从低于0.7
    V的状态慢慢增加，如[图6-3](ch06.xhtml#ch06fig3)所示。
- en: '![image](../images/f0046-02.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0046-02.jpg)'
- en: '**FIGURE 6-3** The voltage on the right of C1 is somewhere below 0.7 V, but
    increasing, when the left LED is lit.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**图6-3** C1右侧的电压低于0.7 V，但正在上升，当左侧的LED亮起时。'
- en: So the voltage on the negative side of C1 is rising, and when it reaches 0.7
    V, the action starts. When the negative side of C1 reaches 0.7 V, transistor Q2
    gets 0.7 V on its base and turns on; this means the LED on the right also turns
    on.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，C1的负极电压在上升，当它达到0.7 V时，动作开始。当C1的负极电压达到0.7 V时，晶体管Q2的基极电压也为0.7 V并开启，这意味着右侧的LED也会亮起。
- en: 'When Q2 turns on, something interesting happens with the voltages on capacitor
    C2: from [Figure 6-2](ch06.xhtml#ch06fig2), we know that C2 had 0.7 V on its negative
    side and 8 V on its positive side. Or, put another way, the negative side was
    7.3 V lower than the positive side. But now that Q2 turns on, the voltage on the
    positive side of C2 is suddenly pulled down to 0 V through the transistor. The
    internal charge of the capacitor doesn’t change instantly, though, so the voltage
    difference across C2 initially stays the same, with the negative side 7.3 V lower
    than the positive side. But now that the positive side is 0 V, the negative side
    becomes 7.3 V below 0, or –7.3 V! With –7.3 V on the negative side of C2, the
    base of transistor Q1 also gets –7.3 V, which turns it off (see [Figure 6-4](ch06.xhtml#ch06fig4)).'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 当 Q2 导通时，电容 C2 上的电压发生了一些有趣的变化：从[图 6-2](ch06.xhtml#ch06fig2)中我们知道，C2 的负极上有 0.7
    V，正极上有 8 V。换句话说，负极比正极低 7.3 V。但现在 Q2 导通，C2 的正极电压突然通过晶体管被拉到 0 V。尽管如此，电容器的内部电荷并不会立刻改变，所以
    C2 上的电压差最初保持不变，负极比正极低 7.3 V。但由于正极现在是 0 V，负极变成了比 0 V 低 7.3 V，也就是 –7.3 V！当 C2 的负极为
    –7.3 V 时，晶体管 Q1 的基极也会得到 –7.3 V，这使得 Q1 关闭（参见[图 6-4](ch06.xhtml#ch06fig4)）。
- en: '![image](../images/f0047-01.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0047-01.jpg)'
- en: '**FIGURE 6-4** When transistor Q2 turns on, the transistor and LED on the left
    turn off.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**图 6-4** 当晶体管 Q2 导通时，左侧的晶体管和 LED 关闭。'
- en: So now, the left LED and transistor have turned off. And the right LED and transistor
    have turned on, as shown in [Figure 6-4](ch06.xhtml#ch06fig4). The negative side
    of C2 starts at –7.3 V and is being charged through resistor R3—and is therefore
    rising. Since this is connected to the base of transistor Q1, when it reaches
    0.7 V, Q1 turns on again, and the cycle repeats. The two transistors keep alternating
    between on and off, which makes the two LEDs alternate between on and off as well.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 所以现在，左侧的 LED 和晶体管已经关闭，右侧的 LED 和晶体管已经导通，如[图 6-4](ch06.xhtml#ch06fig4)所示。C2 的负极起始电压为
    –7.3 V，并通过电阻 R3 正在充电，因此电压在上升。由于这个电压连接到晶体管 Q1 的基极，当电压达到 0.7 V 时，Q1 会再次导通，周期继续重复。两个晶体管不断交替导通与关闭，导致两个
    LED 也在交替亮灭。
