<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="51" id="Page_51"/><a class="XrefDestination" id="5"/><span class="XrefDestination" id="xref-503007c05-001"/>5</span><br/>
<span class="ChapterTitle"><a class="XrefDestination" id="JoiningDatabaseTables"/><span class="XrefDestination" id="xref-503007c05-002"/>Joining Database Tables</span></h1>
</header>
<blockquote class="Epigraph" epub:type="epigraph">
<p class="Epigraph">A SQL query walks into a bar, approaches two tables, and asks, “May I join you?”</p>
<p class="EpigraphSource">—The worst database joke in history</p>
</blockquote>
<figure class="opener">
<img src="image_fi/book_art/chapterart.png" alt="" width="200" height="200"/>
</figure>
<p class="ChapterIntro">Now that you’ve learned how to use SQL to select and filter data from a table, you’ll see how to join database tables. <em>Joining</em> tables means selecting data from more than one table and combining it in a single result set. MySQL provides syntax to do different types of joins, like inner joins and outer joins. In this chapter, you’ll look at how to use each type.</p>
<h2 id="h1-503007c05-0001"><a class="XrefDestination" id="SelectingDatafromMultipleTables"/><span class="XrefDestination" id="xref-503007c05-003"/>Selecting Data from Multiple Tables</h2>
<p class="BodyFirst">The data you want to retrieve from a database often will be stored in more than one table, and you need to return it as one dataset in order to view all of it at once.</p>
<p><span epub:type="pagebreak" title="52" id="Page_52"/>Let’s look at an example. This table, called <code>subway_system</code>, contains data for every subway in the world:</p>
<pre><code>subway_system              city              country_code
------------------------   ----------------  ------------
Buenos Aires Underground   Buenos Aires      AR
Sydney Metro               Sydney            AU
Vienna U-Bahn              Vienna            AT
Montreal Metro             Montreal          CA
Shanghai Metro             Shanghai          CN
London Underground         London            GB
MBTA                       Boston            US
Chicago L                  Chicago           US
BART                       San Francisco     US
Washington Metro           Washington, D.C.  US
Caracas Metro              Caracas           VE
<var>--snip--</var></code></pre>
<p>The first two columns, <code>subway_system</code> and <code>city</code>, contain the name of the subway and the city where it’s located. The third column, <code>country_code</code>, stores the two-character ISO country code. <code>AR</code> stands for Argentina, <code>CN</code> stands for China, and so on.</p>
<p>The second table, called <code>country</code>, has two columns, <code>country_code</code> and <code>country</code>:</p>
<pre><code>country_code   country
------------   -----------
AR             Argentina
AT             Austria
AU             Australia
BD             Bangladesh
BE             Belgium
<var>--snip--</var></code></pre>
<p>Say you want to get a list of subway systems and their full city and country names. That data is spread across the two tables, so you’ll need to join them to get the result set you want. Each table has the same <code>country_code</code> column, so you’ll use that as a link to write a SQL query that joins the tables (see <a href="#listing5-1" id="listinganchor5-1">Listing 5-1</a>).</p>
<pre><code>select subway_system.subway_system,
       subway_system.city,
       country.country
from   subway_system
inner join country
on     subway_system.country_code = country.country_code;</code></pre>
<p class="CodeListingCaption"><a id="listing5-1">Listing 5-1</a>: Joining the <code>subway_system</code> and <code>country</code> tables</p>
<p>In the <code>country</code> table, the <code>country_code</code> column is the primary key. In the <code>subway_system</code> table, the <code>country_code</code> column is a foreign key. Recall that a primary key uniquely identifies rows in a table, and a foreign key is used to join with the primary key of another table. You use the <code>=</code> (equal) symbol <span epub:type="pagebreak" title="53" id="Page_53"/>to specify that you want to join all equal values from the <code>subway_system</code> and <code>country</code> tables’ <code>country_code</code> columns.</p>
<p>Since you’re selecting from two tables in this query, it’s a good idea to specify which table the column is in every time you reference it, especially because the same column appears in both tables. There are two reasons for this. First, it will make the SQL easier to maintain because it will be immediately apparent in the SQL query which columns come from which tables. Second, because both tables have a column named <code>country_code</code>, if you don’t specify the table name, MySQL won’t know which column you want to use and will give an error message. To avoid this, in your <code>select</code> statement, type the table name, a period, and then the column name. For example, in <a href="#listing5-1">Listing 5-1</a>, <code>subway_system.city</code> refers to the <code>city</code> column in the <code>subway_system</code> table.</p>
<p>When you run this query, it returns all of the subway systems with the country names retrieved from the <code>country</code> table:</p>
<pre><code>subway_system               city                country
------------------------    ----------------    --------------
Buenos Aires Underground    Buenos Aires        Argentina
Sydney Metro                Sydney              Australia
Vienna U-Bahn               Vienna              Austria
Montreal Metro              Montreal            Canada
Shanghai Metro              Shanghai            China
London Underground          London              United Kingdom
MBTA                        Boston              United States
Chicago L                   Chicago             United States
BART                        San Francisco       United States
Washington Metro            Washington, D.C.    United States
Caracas Metro               Caracas             Venezuela
<var>--snip--</var></code></pre>
<p>Note that the <code>country_code</code> column does not appear in the resulting join. This is because you selected only the <code>subway_system</code>, <code>city</code>, and <code>country</code> columns in the query.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">NOTE</span></h2>
<p>	When joining two tables based on columns with the same name, you can use the <code>using</code> keyword instead of <code>on</code>. For example, replacing the last line in <a href="#listing5-1">Listing 5-1</a> with <code>using (country_code);</code> would return the same result with less typing required.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-503007c05-0002"><a class="XrefDestination" id="TableAliasing"/><span class="XrefDestination" id="xref-503007c05-004"/>Table Aliasing</h2>
<p class="BodyFirst">To save time when writing SQL, you can declare aliases for your table names. A <em>table alias</em> is a short, temporary name for a table. The following query returns the same result set as <a href="#listing5-1">Listing 5-1</a>:</p>
<pre><code>select  <b>s</b>.subway_system,
        <b>s</b>.city,
        <b>c</b>.country
from    subway_system <b>s</b>
inner join country <b>c</b>
on      <b>s</b>.country_code = <b>c</b>.country_code;</code></pre>
<p><span epub:type="pagebreak" title="54" id="Page_54"/>You declare <code>s</code> as the alias for the <code>subway_system</code> table and <code>c</code> for the <code>country</code> table. Then you can type <code>s</code> or <code>c</code> instead of the full table name when referencing the column names elsewhere in the query. Keep in mind that table aliases are only in effect for the current query.</p>
<p>You can also use the word <code>as</code> to define table aliases:</p>
<pre><code>select  s.subway_system,
        s.city,
        c.country
from    subway_system <b>as</b> s
inner join country <b>as</b> c
on      s.country_code = c.country_code;</code></pre>
<p>The query returns the same results with or without <code>as</code>, but you’ll cut down on typing by not using it.</p>
<h2 id="h1-503007c05-0003"><a class="XrefDestination" id="TypesofJoins"/><span class="XrefDestination" id="xref-503007c05-005"/>Types of Joins</h2>
<p class="BodyFirst">MySQL has several different types of joins, each of which has its own syntax, as summarized in <a href="#table5-1" id="tableanchor5-1">Table 5-1</a>.</p>
<figure>
<figcaption class="TableTitle"><p><b><a id="table5-1" href="#tableanchor5-1">Table 5-1</a>: </b>MySQL Join Types</p></figcaption>
<table id="table-503007c05-0001" border="1">
<thead>
<tr>
<td><b>Join type</b></td>
<td><b>Description</b></td>
<td><b>Syntax</b></td>
</tr>
</thead>
<tbody>
<tr>
<td>Inner join</td>
<td>Returns rows where both tables have a matching value.</td>
<td><code>inner join</code><br/>
<code>join</code></td>
</tr>
<tr>
<td>Outer join</td>
<td>Returns all rows from one table and the matching rows from a second table. Left joins return all rows from the table on the left. Right joins return all rows from the table on the right.</td>
<td><code>left outer join</code><br/>
<code>left join</code><br/>
<code>right outer join</code><br/>
<code>right join</code></td>
</tr>
<tr>
<td>Natural join</td>
<td>Returns rows based on column names that are the same in both tables.</td>
<td><code>natural join</code></td>
</tr>
<tr>
<td>Cross join</td>
<td>Matches all rows in one table to all rows in another table and returns a Cartesian product.</td>
<td><code>cross join</code></td>
</tr>
</tbody>
</table>
</figure>
<p>Let’s look at each type of join in more depth.</p>
<h3 id="h2-503007c05-0001"><a class="XrefDestination" id="InnerJoins"/><span class="XrefDestination" id="xref-503007c05-006"/>Inner Joins</h3>
<p class="BodyFirst">Inner joins are the most commonly used type of join. In an inner join, there must be a match in both tables for data to be retrieved.</p>
<p>You performed an inner join on the <code>subway_system</code> and <code>country</code> tables in <a href="#listing5-1">Listing 5-1</a>. The returned list had no rows for Bangladesh and Belgium. These countries are not in the <code>subway_system</code> table, as they don’t have subways; thus, there was not a match in both tables.</p>
<p>Note that when you specify <code>inner join</code> in a query, the word <code>inner</code> is optional because this is the default join type. The following query performs an inner join and produces the same results as <a href="#listing5-1">Listing 5-1</a>:</p>
<pre><code>select  s.subway_system,
        s.city,
<span epub:type="pagebreak" title="55" id="Page_55"/>        c.country
from    subway_system s
<b>join</b>    country c
on      s.country_code = c.country_code;</code></pre>
<p>You’ll come across MySQL queries that use <code>inner join</code> and others that use <code>join</code>. If you have an existing codebase or written standards, it’s best to follow the practices outlined there. If not, I recommend including the word <code>inner</code> for clarity.</p>
<h3 id="h2-503007c05-0002"><a class="XrefDestination" id="OuterJoins"/><span class="XrefDestination" id="xref-503007c05-007"/>Outer Joins</h3>
<p class="BodyFirst">An outer join displays all rows from one table and any matching rows in a second table. In <a href="#listing5-2" id="listinganchor5-2">Listing 5-2</a>, you select all countries and display subway systems for the countries if there are any.</p>
<pre><code>select  c.country,
        s.city,
        s.subway_system
from    subway_system s <b>right outer join</b> country c
on      s.country_code = c.country_code;</code></pre>
<p class="CodeListingCaption"><a id="listing5-2">Listing 5-2</a>: Performing a right outer join</p>
<p>In this query, the <code>subway_system</code> table is considered the left table because it is to the left of the <code>outer join </code>syntax, while the <code>country</code> table is the right table. Because this is a <em>right</em> outer join, this query returns all the rows from the <code>country</code> table even if there is no match in the <code>subway_system</code> table. Therefore, all the countries appear in the result set, whether or not they have subway systems:</p>
<pre><code>country                 city            subway_system
--------------------    ------------    ------------------------
United Arab Emirates    Dubai           Dubai Metro
Afghanistan             null            null
Albania                 null            null
Armenia                 Yerevan         Yerevan Metro
Angola                  null            null
Antarctica              null            null
Argentina               Buenos Aires    Buenos Aires Underground
<var>--snip--</var></code></pre>
<p>For countries without matching rows in the <code>subway_system</code> table, the <code>city</code> and <code>subway_system</code> columns display null values.</p>
<p>As with inner joins, the word <code>outer</code> is optional; using <code>left join</code> and <code>right join</code> will produce the same results as their longer equivalents.</p>
<p>The following outer join returns the same results as <a href="#listing5-2">Listing 5-2</a>, but uses the <code>left outer join</code> syntax instead:</p>
<pre><code>select  c.country,
        s.city,
        s.subway_system
<span epub:type="pagebreak" title="56" id="Page_56"/>from    country c<var class="bold"> </var><b>left outer join</b><var class="bold"> </var>subway_system s
on      s.country_code = c.country_code;</code></pre>
<p>In this query, the order of the tables is switched from <a href="#listing5-2">Listing 5-2</a>. The <code>subway_system</code> table is now listed last, making it the right table. The syntax <code>country c left outer join subway_system s</code> is equivalent to <code>subway_system s right outer join country c</code> in <a href="#listing5-2">Listing 5-2</a>. It doesn’t matter which join you use as long as you list the tables in the correct order.</p>
<h3 id="h2-503007c05-0003"><a class="XrefDestination" id="NaturalJoins"/><span class="XrefDestination" id="xref-503007c05-008"/>Natural Joins</h3>
<p class="BodyFirst">A natural join in MySQL automatically joins tables when they have a column with the same name. Here is the syntax to automatically join two tables based on a column that is found in both:</p>
<pre><code>select  *
from    subway_system s
<b>natural join</b> country c;</code></pre>
<p>With natural joins, you avoid a lot of the extra syntax required for an inner join. In <a href="#listing5-2">Listing 5-2</a>, you had to include <code>on s.country_code = c.country_code</code> to join the tables based on their common <code>country_code</code> column, but with a natural join, you get that for free. The results of this query are as follows:</p>
<pre><code>country_code    subway_system               city                country
------------    ------------------------    ------------        --------------
AR              Buenos Aires Underground    Buenos Aires        Argentina
AU              Sydney Metro                Sydney              Australia
AT              Vienna U-Bahn               Vienna              Austria
CA              Montreal Metro              Montreal            Canada
CN              Shanghai Metro              Shanghai            China
GB              London Underground          London              United Kingdom
US              MBTA                        Boston              United States
US              Chicago L                   Chicago             United States
US              BART                        San Francisco       United States
US              Washington Metro            Washington, D.C.    United States
VE              Caracas Metro               Caracas             Venezuela
<var>--snip--</var></code></pre>
<p>Notice that you selected all columns from the tables using the <code>select *</code> wildcard. Also, although both tables have a <code>country_code</code> column, MySQL’s natural join was smart enough to display that column just once in the result set.</p>
<h3 id="h2-503007c05-0004"><a class="XrefDestination" id="CrossJoins"/><span class="XrefDestination" id="xref-503007c05-009"/>Cross Joins</h3>
<p class="BodyFirst">MySQL’s cross join syntax can be used to get the Cartesian product of two tables. A <em>Cartesian product</em> is a listing of every row in one table matched with every row in a second table. For example, say a restaurant has two database tables called <code>main_dish</code> and <code>side_dish</code>. Each table has three rows and one column.</p>
<p><span epub:type="pagebreak" title="57" id="Page_57"/>The <code>main_dish</code> table is as follows:</p>
<pre><code>main_item
---------
steak
chicken
ham</code></pre>
<p class="BodyContinued">And the <code>side_dish</code> table looks like:</p>
<pre><code>side_item
----------
french fries
rice
potato chips</code></pre>
<p>A Cartesian product of these tables would be a list of all the possible combinations of main dishes and side dishes, and is retrieved using the <code>cross join</code> syntax:</p>
<pre><code>select     m.main_item,
           s.side_item
from       main_dish m
<b>cross join</b> side_dish s;</code></pre>
<p>This query, unlike the others you’ve seen, doesn’t join tables based on columns. There are no primary keys or foreign keys being used. Here are the results of this query:</p>
<pre><code>main_item   side_item
---------   ----------
ham         french fries
chicken     french fries
steak       french fries
ham         rice
chicken     rice
steak       rice
ham         potato chips
chicken     potato chips
steak       potato chips</code></pre>
<p>Since there are three rows in the <code>main_dish</code> table and three rows in the <code>side_dish</code> table, the total number of possible combinations is nine.</p>
<h3 id="h2-503007c05-0005"><a class="XrefDestination" id="SelfJoins"/><span class="XrefDestination" id="xref-503007c05-010"/>Self Joins</h3>
<p class="BodyFirst">Sometimes, it can be beneficial to join a table to itself, which is known as a self join. Rather than using special syntax as you did in the previous joins, you perform a self join by listing the same table name twice and using two different table aliases.</p>
<p><span epub:type="pagebreak" title="58" id="Page_58"/>For example, the following table, called <code>music_preference</code>, lists music fans and their favorite genre of music:</p>
<pre><code>music_fan   favorite_genre
---------   --------------
Bob         Reggae
Earl        Bluegrass
Ella        Jazz
Peter       Reggae
Benny       Jazz
Bunny       Reggae
Sierra      Bluegrass
Billie      Jazz</code></pre>
<p>To pair music fans who like the same genre, you join the <code>music_preference</code> table to itself, as shown in <a href="#listing5-3" id="listinganchor5-3">Listing 5-3</a>.</p>
<pre><code>select a.music_fan,
       b.music_fan
from   <b>music_preference</b> <b>a</b>
inner join <b>music_preference</b> <b>b</b>
on (a.favorite_genre = b.favorite_genre)
where  a.music_fan <b>!=</b> b.music_fan
order by a.music_fan;</code></pre>
<p class="CodeListingCaption"><a id="listing5-3">Listing 5-3</a>: Self join of the <code>music_preference</code> table</p>
<p>The <code>music_preference</code> table is listed twice in the query, aliased once as table <code>a</code> and once as table <code>b</code>. MySQL will then join tables <code>a</code> and <code>b</code> as if they are different tables.</p>
<p>In this query, you use the <code>!=</code> (not equal) syntax in the <code>where</code> clause to ensure that the value of the <code>music_fan</code> column from table <code>a</code> is not the same as the value of the <code>music_fan</code> column in table <code>b</code>. (Remember from <a class="xref" href="c03.xhtml">Chapter 3</a> that you can use a <code>where</code> clause in your <code>select</code> statements to filter your results by applying certain conditions.) This way, music fans won’t be paired up with themselves.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	The <code>!=</code> (not equal) syntax used here and the <code>=</code> (equal) syntax you’ve been using throughout this chapter are what’s known as <em>comparison operators</em>, as they let you compare values in your MySQL queries. <a class="xref" href="c07.xhtml">Chapter 7</a> will discuss comparison operators in more detail.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<p><a href="#listing5-3">Listing 5-3</a> produces the following result set:</p>
<pre><code>music_fan  music_fan
---------  ---------
Benny      Ella
Benny      Billie
Billie     Ella
<span epub:type="pagebreak" title="59" id="Page_59"/>Billie     Benny
Bob        Peter
Bob        Bunny
Bunny      Bob
Bunny      Peter
Earl       Sierra
Ella       Benny
Ella       Billie
Peter      Bob
Peter      Bunny
Sierra     Earl</code></pre>
<p>A music fan can now find other fans of their favorite genre in the right column next to their name.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="note">
<h2><span class="NoteHead">Note</span></h2>
<p>	In <a href="#listing5-3">Listing 5-3</a>, the table is joined to itself as an inner join, but you could have used another type of join, like an outer join or a cross join.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-503007c05-0004"><a class="XrefDestination" id="VariationsonJoinSyntax"/><span class="XrefDestination" id="xref-503007c05-011"/>Variations on Join Syntax</h2>
<p class="BodyFirst">MySQL allows you to write SQL queries that accomplish the same results in different ways. It’s a good idea to get comfortable with different syntaxes, as you may have to modify code created by someone who doesn’t write SQL queries in quite the same way that you do.</p>
<h3 id="h2-503007c05-0006"><a class="XrefDestination" id="Parentheses"/><span class="XrefDestination" id="xref-503007c05-012"/>Parentheses</h3>
<p class="BodyFirst">You can choose to use parentheses when joining on columns or leave them off. This query, which does not use parentheses</p>
<pre><code>select  s.subway_system,
        s.city,
        c.country
from    subway_system as s
inner join country as c
on      s.country_code = c.country_code;</code></pre>
<p class="BodyContinued">is the same as this query, which does:</p>
<pre><code>select  s.subway_system,
        s.city,
        c.country
from    subway_system as s
inner join country as c
on      <b>(</b>s.country_code = c.country_code<b>)</b>;</code></pre>
<p>Both queries return the same result.</p>
<h3 id="h2-503007c05-0007"><span epub:type="pagebreak" title="60" id="Page_60"/><a class="XrefDestination" id="Old-SchoolInnerJoins"/><span class="XrefDestination" id="xref-503007c05-013"/>Old-School Inner Joins</h3>
<p class="BodyFirst">This query, written in an older style of SQL, is equivalent to <a href="#listing5-1">Listing 5-1</a>:</p>
<pre><code>select  s.subway_system,
        s.city,
        c.country
from    subway_system as s,
        country as c
where   s.country_code = c.country_code;</code></pre>
<p>This code doesn’t include the word <code>join</code>; instead, it lists the table names separated by a comma in the <code>from</code> statement.</p>
<p>When writing queries, use the newer syntax shown in <a href="#listing5-1">Listing 5-1</a>, but keep in mind that this older style is still supported by MySQL and you might see it used in some legacy code today.</p>
<h2 id="h1-503007c05-0005"><a class="XrefDestination" id="ColumnAliasing"/><span class="XrefDestination" id="xref-503007c05-014"/>Column Aliasing</h2>
<p class="BodyFirst">You read earlier in the chapter about table aliasing; now you’ll create aliases for columns.</p>
<p>In some parts of the world, like France, subway systems are referred to as <em>metros</em>. Let’s select the subway systems for cities in France from the <code>subway_system</code> table and use column aliasing to display the heading <code>metro</code> instead:</p>
<pre><code>select  s.subway_system <b>as metro</b>,
        s.city,
        c.country
from    subway_system as s
inner join country as c
on      s.country_code = c.country_code
where   c.country_code = 'FR';</code></pre>
<p>As with table aliases, you can use the word <code>as</code> in your SQL query or you can leave it out. Either way, the results of the query are as follows, now with the <code>subway_system</code> column heading changed to <code>metro</code>:</p>
<pre><code>metro           city        country
-----           --------    -------
Lille Metro     Lille       France
Lyon Metro      Lyon        France
Marseille Metro Marseille   France
Paris Metro     Paris       France
Rennes Metro    Rennes      France
Toulouse Metro  Toulouse    France</code></pre>
<p>When creating tables, try to give your column headings descriptive names so that the results of your queries will be meaningful at a glance. In cases where the column names could be clearer, you can use a column alias.</p>
<h2 id="h1-503007c05-0006"><span epub:type="pagebreak" title="61" id="Page_61"/><a class="XrefDestination" id="JoiningTablesinDifferentDatabases"/><span class="XrefDestination" id="xref-503007c05-015"/>Joining Tables in Different Databases</h2>
<p class="BodyFirst">Sometimes there are tables with the same name in multiple databases, so you need to tell MySQL which database to use. There are a couple of different ways to do this.</p>
<p>In this query, the <code>use</code> command (introduced in <a class="xref" href="c02.xhtml">Chapter 2</a>) tells MySQL to use the specified database for the SQL statements that follow it:</p>
<pre><code><b>use subway;</b>

select * from subway_system;</code></pre>
<p>On the first line, the <code>use</code> command sets the current database to <code>subway</code>. Then, when you select all the rows from the <code>subway_system</code> table on the next line, MySQL knows to pull data from the <code>subway_system</code> table in the <code>subway</code> database.</p>
<p>Here’s a second way to specify the database name in your <code>select</code> statements:</p>
<pre><code>select * from <b>subway.subway_system</b>;</code></pre>
<p>In this syntax, the table name is preceded by the database name and a period. The <code>subway.subway_system</code> syntax tells MySQL that you want to select from the <code>subway_system</code> table in the <code>subway</code> database.</p>
<p>Both options produce the same result set:</p>
<pre><code>subway_system       city                        country_code
-----------------   -------------------------   ------------
Buenos Aires        Underground Buenos Aires    AR
Sydney Metro        Sydney                      AU
Vienna U-Bahn       Vienna                      AT
Montreal Metro      Montreal                    CA
Shanghai Metro      Shanghai                    CN
London Underground  London                      GB
<var>--snip--</var></code></pre>
<p>Specifying the database and table name allows you to join tables that are in different databases on the same MySQL server, like so:</p>
<pre><code>select  s.subway_system,
        s.city,
        c.country
from    subway.subway_system as s
inner join location.country as c
on      s.country_code = c.country_code;</code></pre>
<p>This query joins the <code>country</code> table in the <code>location</code> database with the <code>subway_system</code> table in the <code>subway</code> database.</p>
<aside epub:type="sidebar">
<div class="top hr"><hr/></div>
<section class="boxcustom1">
<h2><span epub:type="pagebreak" title="62" id="Page_62"/>Try It Yourself</h2>
<p class="BoxBodyFirst">In the <code>solar_system</code> database, there are two tables: <code>planet</code> and <code>ring</code>. The <code>planet</code> table is as follows:</p>
<pre><code>planet_id  planet_name
---------  ---------
    1      Mercury
    2      Venus
    3      Earth
    4      Mars
    5      Jupiter
    6      Saturn
    7      Uranus
    8      Neptune</code></pre>
<p>The <code>ring</code> table stores only the planets with rings:</p>
<pre><code>planet_id   ring_tot
---------   --------
    5           3
    6           7
    7          13
    8           6</code></pre>
<p class="BoxListNumberCustom1"><b>5-1.</b>	Write a SQL query to perform an inner join between the <code>planet</code> and the <code>ring</code> tables, joining the tables based on their <code>planet_id</code> columns. How many rows do you expect the query to return?</p>
<p class="BoxListNumberCustom1"><b>5-2.</b>	Write a SQL query to do an outer join between the <code>planet</code> and the <code>ring</code> tables, with the <code>planet</code> table as the <em>left</em> table. </p>
<p class="BoxListNumberCustom1"><b>5-3.</b>	Modify your SQL query from Exercise 5-2 so that the <code>planet</code> table is the <em>right</em> table. The set returned by the query should be the same as the results of the previous exercise.</p>
<p class="BoxListNumberCustom1"><b>5-4.</b>	Modify your SQL query from Exercise 5-3 using a column alias. Make the <code>ring_tot</code> column display as <code>rings</code> in the heading of the result set.</p>
<div class="bottom hr"><hr/></div>
</section>
</aside>
<h2 id="h1-503007c05-0007"><a class="XrefDestination" id="Summary"/><span class="XrefDestination" id="xref-503007c05-017"/>Summary</h2>
<p class="BodyFirst">In this chapter, you learned how to select data from two tables and display that data in a single result set using various joins offered by MySQL. In <a class="xref" href="c06.xhtml">Chapter 6</a>, you’ll build on this knowledge by performing even more complex joins involving multiple tables.</p>
</section>
</div>
</div>
</body></html>