- en: <hgroup>
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: <hgroup>
- en: A INSTALLING PHP
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 PHP
- en: </hgroup>
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: </hgroup>
- en: '![](../images/opener.jpg)'
  id: totrans-3
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/opener.jpg)'
- en: While it’s possible to do PHP development in the cloud, many programmers and
    students prefer to have PHP installed on their local computer. This appendix goes
    through the steps to install PHP for macOS, Linux, and Windows computer systems.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然可以在云端进行 PHP 开发，但许多程序员和学生更喜欢在本地计算机上安装 PHP。本附录将介绍如何在 macOS、Linux 和 Windows 操作系统上安装
    PHP。
- en: macOS
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: macOS
- en: The easiest way to install PHP on macOS is to use Homebrew, a free package manager
    that greatly simplifies installing and setting up software packages. If you don’t
    already have it, first install Homebrew by visiting *[https://brew.sh](https://brew.sh)*
    and following the instructions there.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在 macOS 上安装 PHP 最简单的方法是使用 Homebrew，这是一款免费的包管理器，能够大大简化软件包的安装和设置。如果你还没有 Homebrew，首先访问
    *[https://brew.sh](https://brew.sh)* 按照页面上的说明安装。
- en: 'Once you have Homebrew installed, enter the following at the command line to
    install PHP:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Homebrew 后，在命令行中输入以下内容以安装 PHP：
- en: '[PRE0]'
  id: totrans-8
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To verify this has worked, enter the following:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 若要验证是否成功，请输入以下内容：
- en: '[PRE1]'
  id: totrans-10
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: If PHP has been successfully installed, you should see the latest PHP version
    number in the output.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 PHP 安装成功，你应该在输出中看到最新的 PHP 版本号。
- en: 'You can also use Homebrew to install the Composer dependency manager, which
    is discussed in [Chapter 20](chapter20.xhtml):'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用 Homebrew 安装 Composer 依赖管理器，相关内容请参见 [第 20 章](chapter20.xhtml)：
- en: '[PRE2]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'One last step is to check which, if any, INI configuration file your PHP installation
    is reading from. Use this command:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一步是检查 PHP 安装正在读取哪个（如果有的话）INI 配置文件。使用以下命令：
- en: '[PRE3]'
  id: totrans-15
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The output should be something like this:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 输出应类似于以下内容：
- en: '[PRE4]'
  id: totrans-17
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The first two lines displayed tell you the path and filename of the INI file
    from which the PHP engine is reading its settings. On my macOS computer, for example,
    the INI is located at */opt/homebrew/etc/php/8.<x>/php.ini*.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 显示的前两行会告诉你 PHP 引擎读取其设置的 INI 文件的路径和文件名。例如，在我的 macOS 计算机上，INI 文件位于 */opt/homebrew/etc/php/8.<x>/php.ini*。
- en: Linux
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Linux
- en: 'Many Linux distributions use the Advanced Packaging Tool (APT) package manager
    for software installation. When using APT at the command line, it’s a good idea
    to first update and upgrade any previously installed packages with the following
    commands:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 许多 Linux 发行版使用高级包装工具（APT）包管理器进行软件安装。在使用 APT 命令行时，建议首先通过以下命令更新和升级任何已安装的包：
- en: '[PRE5]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'You can then install PHP as follows:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你可以按照以下方式安装 PHP：
- en: '[PRE6]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This should work for most Linux distributions, such as Ubuntu, but you can find
    details about installing PHP on a wider range of distributions at *[https://www.zend.com/blog/installing-php-linux](https://www.zend.com/blog/installing-php-linux)*.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该适用于大多数 Linux 发行版，如 Ubuntu，但你可以在 *[https://www.zend.com/blog/installing-php-linux](https://www.zend.com/blog/installing-php-linux)*
    上找到有关在更多发行版上安装 PHP 的详细信息。
- en: 'To verify that the installation has worked, enter the following:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 若要验证安装是否成功，请输入以下内容：
- en: '[PRE7]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'If PHP has been successfully installed, you should see the latest PHP version
    number in the output. You should also check which, if any, INI configuration file
    the PHP installation is reading from with this command:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 PHP 安装成功，你应该在输出中看到最新的 PHP 版本号。你还应该使用此命令检查 PHP 安装正在读取哪个（如果有的话）INI 配置文件：
- en: '[PRE8]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The result should be something like this:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 结果应类似于以下内容：
- en: '[PRE9]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The first two lines displayed tell you the path and filename of the INI file
    from which the PHP engine is reading its settings. On my Ubuntu Linux computer,
    for example, the INI is located at */etc/php/8.<x>/cli/php.ini*.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 显示的前两行会告诉你 PHP 引擎读取其设置的 INI 文件的路径和文件名。例如，在我的 Ubuntu Linux 计算机上，INI 文件位于 */etc/php/8.<x>/cli/php.ini*。
- en: Windows
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Windows
- en: The cleanest way to install PHP on a Windows computer is to visit the Downloads
    page at *[https://www.php.net](https://www.php.net)*, click the **Windows Downloads**
    link for the latest version of PHP listed, and download the ZIP file. Then unzip
    the contents of that ZIP file to *c:\php*.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows 计算机上安装 PHP 最简洁的方法是访问 *[https://www.php.net](https://www.php.net)*
    的下载页面，点击 **Windows Downloads** 链接以获取最新版本的 PHP，下载 ZIP 文件。然后将该 ZIP 文件的内容解压到 *c:\php*。
- en: NOTE
  id: totrans-34
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 注意
- en: '*You don’t have to install PHP to* c:\php*, but I find this to be the easiest
    location. If you prefer to install PHP elsewhere, make a note of your preferred
    installation folder path so you can add it to the PATH environment variable, as
    discussed next.*'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '*你不必将 PHP 安装到* c:\php*，但我觉得这是最简单的位置。如果你更喜欢将 PHP 安装到其他位置，请记下你选择的安装文件夹路径，以便稍后将其添加到
    PATH 环境变量中，具体操作将在后面讨论。*'
- en: You now need to add the *c:\php* path to the PATH environment variable for your
    computer system. In the Quick Launch search box, enter **Environment** and then
    select **Edit the System Environment Variables** to open the Advanced tab of the
    System Properties dialog. Next, click the **Environment Variables** button to
    pull up the Environment Variables dialog. Locate the Path row in the list of system
    variables and click **Edit**, as shown in [Figure A-1](#figA-1).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你需要将 *c:\php* 路径添加到你电脑系统的 PATH 环境变量中。在快速启动搜索框中，输入 **环境**，然后选择 **编辑系统环境变量**
    打开系统属性对话框的高级选项卡。接着，点击 **环境变量** 按钮，调出环境变量对话框。在系统变量列表中找到 Path 行，点击 **编辑**，如[图 A-1](#figA-1)所示。
- en: '![](../images/figureA-1.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/figureA-1.jpg)'
- en: 'Figure A-1: Accessing the Path row in the Environment Variables dialog'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A-1：访问环境变量对话框中的路径行
- en: In the next dialog (see [Figure A-2](#figA-2)), click **New** and enter the
    PHP location of *c:\php*. Then keep clicking **OK** to save changes until all
    the dialogs have closed.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个对话框中（见[图 A-2](#figA-2)），点击**新建**并输入 PHP 的位置 *c:\php*。然后不断点击**确定**保存更改，直到所有对话框关闭。
- en: '![](../images/figureA-2.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![](../images/figureA-2.jpg)'
- en: 'Figure A-2: Adding the c:\php path to the PATH environment variable'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 A-2：将 c:\php 路径添加到 PATH 环境变量
- en: 'To make sure everything has worked, open up a command line terminal and enter
    the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保一切正常，打开命令行终端并输入以下内容：
- en: '[PRE10]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'If PHP has been successfully installed, you should see the latest PHP version
    number in the output. You should also make sure your installation has an INI configuration
    file by entering the following at the command line:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果 PHP 已成功安装，你应该在输出中看到最新的 PHP 版本号。你还应该确保你的安装中有一个 INI 配置文件，方法是通过命令行输入以下内容：
- en: '[PRE11]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'You should see something like this in response:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该看到类似以下内容的回应：
- en: '[PRE12]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: These lines tell you the path and filename of the INI file from which the PHP
    engine is reading its settings. On my Windows computer, for example, the INI file
    is located at *c:\php\php.ini*. If no INI file is listed, go to the *c:\php* folder
    and rename the *php.ini-development* file to *php.ini*. Then run the php --ini
    command again, and you should see this file listed as your loaded configuration
    file.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 这些行会告诉你 PHP 引擎正在读取其设置的 INI 文件的路径和文件名。例如，在我的 Windows 电脑上，INI 文件位于 *c:\php\php.ini*。如果没有列出
    INI 文件，请转到 *c:\php* 文件夹并将 *php.ini-development* 文件重命名为 *php.ini*。然后再次运行 `php --ini`
    命令，你应该能看到这个文件被列为加载的配置文件。
- en: 'For Windows, you should make sure that four commonly used extensions are enabled
    in the INI file. Once you know where it is, open the file with a text editor and
    search for extension=curl. Then remove any semicolon at the beginning of the lines
    for these four extensions:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 Windows，你需要确保在 INI 文件中启用了四个常用的扩展。一旦找到该文件，使用文本编辑器打开并搜索 `extension=curl`。然后去掉这四个扩展所在行的行首分号：
- en: '[PRE13]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: The first and last of these (curl and zip) will help the Composer tool manage
    third-party packages for your projects (see [Chapter 20](chapter20.xhtml)). The
    middle two (pdo_mysql and pdo_sqlite) enable the PDO database communication extensions
    for MySQL and SQLite (see [Chapter 28](chapter28.xhtml)). If you’ve made any changes,
    save the updated text file before closing it.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这些中的第一个和最后一个（curl 和 zip）将帮助 Composer 工具管理项目的第三方包（见[第 20 章](chapter20.xhtml)）。中间的两个（pdo_mysql
    和 pdo_sqlite）启用 MySQL 和 SQLite 的 PDO 数据库通信扩展（见[第 28 章](chapter28.xhtml)）。如果你做了任何更改，请在关闭文件前保存更新的文本文件。
- en: AMP Installations
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: AMP 安装
- en: 'While I recommend following the steps outlined in this appendix to install
    PHP, some developers instead prefer to install a complete AMP stack, which uses
    a single installer to bundle together the three common components for PHP web
    application development: a web server such as Apache HTTP Server, a database management
    system such as MySQL, and the PHP engine. Popular AMP systems include the following:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我建议按照本附录中列出的步骤安装 PHP，但一些开发者更喜欢安装一个完整的 AMP 堆栈，这个堆栈使用一个安装程序将 PHP Web 应用开发的三个常见组件捆绑在一起：一个
    Web 服务器（如 Apache HTTP Server）、一个数据库管理系统（如 MySQL）以及 PHP 引擎。常见的 AMP 系统包括以下几种：
- en: 'XAMPP (for Linux, macOS, and Windows): *[https://www.apachefriends.org](https://www.apachefriends.org)*'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: XAMPP（适用于 Linux、macOS 和 Windows）：*[https://www.apachefriends.org](https://www.apachefriends.org)*
- en: 'WampServer (for Windows): *[https://wampserver.aviatechno.net](https://wampserver.aviatechno.net)*'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WampServer（适用于 Windows）：*[https://wampserver.aviatechno.net](https://wampserver.aviatechno.net)*
- en: 'MAMP (for macOS and Windows): *[https://www.mamp.info](https://www.mamp.info)*'
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MAMP（适用于 macOS 和 Windows）：*[https://www.mamp.info](https://www.mamp.info)*
- en: Visit these websites to learn more about the necessary installation process.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 访问这些网站以了解更多关于必要安装过程的信息。
