["```\nR> demo.data <- data.frame(y=c(1.55,0.42,1.29,0.73,0.76,-1.09,1.41,-0.32),\n                           x1=c(1.13,-0.73,0.12,0.52,-0.54,-1.15,0.20,-1.09),\n                           x2=c(1,0,1,1,0,1,0,1))\nR> demo.data\n      y    x1 x2\n1  1.55  1.13  1\n2  0.42 -0.73  0\n3  1.29  0.12  1\n4  0.73  0.52  1\n5  0.76 -0.54  0\n6 -1.09 -1.15  1\n7  1.41  0.20  0\n8 -0.32 -1.09  1\n```", "```\nR> Y <- matrix(demo.data$y)\nR> Y\n      [,1]\n[1,]  1.55\n[2,]  0.42\n[3,]  1.29\n[4,]  0.73\n[5,]  0.76\n[6,] -1.09\n[7,]  1.41\n[8,] -0.32\nR> n <- nrow(demo.data)\nR> X <- matrix(c(rep(1,n),demo.data$x1,demo.data$x2),nrow=n,ncol=3)\nR> X\n     [,1]  [,2] [,3]\n[1,]    1  1.13    1\n[2,]    1 -0.73    0\n[3,]    1  0.12    1\n[4,]    1  0.52    1\n[5,]    1 -0.54    0\n[6,]    1 -1.15    1\n[7,]    1  0.20    0\n[8,]    1 -1.09    1\n```", "```\nR> BETA.HAT <- solve(t(X)\nR> BETA.HAT\n           [,1]\n[1,]  1.2254572\n[2,]  1.0153004\n[3,] -0.6980189\n```", "```\nR> demo.fit <- lm(y~x1+x2,data=demo.data)\nR> coef(demo.fit)\n(Intercept)          x1          x2\n  1.2254572   1.0153004  -0.6980189\n```", "```\nR> survmult <- lm(Height~Wr.Hnd+Sex,data=survey)\nR> summary(survmult)\nCall:\nlm(formula = Height ~ Wr.Hnd + Sex, data = survey)\n\nResiduals:\n     Min       1Q   Median       3Q      Max\n-17.7479  -4.1830   0.7749   4.6665  21.9253\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept) 137.6870     5.7131  24.100  < 2e-16 ***\nWr.Hnd        1.5944     0.3229   4.937 1.64e-06 ***\nSexMale       9.4898     1.2287   7.724 5.00e-13 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.987 on 204 degrees of freedom\n  (30 observations deleted due to missingness)\nMultiple R-squared:  0.5062, Adjusted R-squared:  0.5014\nF-statistic: 104.6 on 2 and 204 DF,  p-value: < 2.2e-16\n```", "```\nR> survmult2 <- lm(Height~Wr.Hnd+Sex+Smoke,data=survey)\nR> summary(survmult2)\n\nCall:\nlm(formula = Height ~ Wr.Hnd + Sex + Smoke, data = survey)\n\nResiduals:\n     Min       1Q   Median       3Q      Max\n-17.4869  -4.7617   0.7604   4.3691  22.1237\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept) 137.4056     6.5444  20.996  < 2e-16 ***\nWr.Hnd        1.6042     0.3301   4.860 2.36e-06 ***\nSexMale       9.3979     1.2452   7.547 1.51e-12 ***\nSmokeNever   -0.0442     2.3135  -0.019    0.985\nSmokeOccas    1.5267     2.8694   0.532    0.595\nSmokeRegul    0.9211     2.9290   0.314    0.753\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 7.023 on 201 degrees of freedom\n  (30 observations deleted due to missingness)\nMultiple R-squared:  0.5085, Adjusted R-squared:  0.4962\nF-statistic: 41.59 on 5 and 201 DF,  p-value: < 2.2e-16\n```", "```\nR> survcoefs <- coef(survmult)\nR> survcoefs\n(Intercept)      Wr.Hnd     SexMale\n 137.686951    1.594446    9.489814\nR> as.numeric(survcoefs[1]+survcoefs[3])\n[1] 147.1768\n```", "```\nR> plot(survey$Height~survey$Wr.Hnd,\n        col=c(\"gray\",\"black\")[as.numeric(survey$Sex)],\n        pch=16,xlab=\"Writing handspan\",ylab=\"Height\")\nR> abline(a=survcoefs[1],b=survcoefs[2],col=\"gray\",lwd=2)\nR> abline(a=survcoefs[1]+survcoefs[3],b=survcoefs[2],col=\"black\",lwd=2)\nR> legend(\"topleft\",legend=levels(survey$Sex),col=c(\"gray\",\"black\"),pch=16)\n```", "```\nR> confint(survmult2)\n                  2.5 %     97.5 %\n(Intercept) 124.5010442 150.310074\nWr.Hnd        0.9534078   2.255053\nSexMale       6.9426040  11.853129\nSmokeNever   -4.6061148   4.517705\nSmokeOccas   -4.1312384   7.184710\nSmokeRegul  -4.8543683    6.696525\n```", "```\nR> R2 <- summary(survmult2)$r.squared\nR> R2\n[1] 0.508469\n```", "```\nR> n <- nrow(survey)-30\nR> n\n[1] 207\n```", "```\nR> p <- length(coef(survmult2))-1\nR> p\n[1] 5\n```", "```\nR> n-p-1\n[1] 201\n```", "```\nR> Fstat <- (R2*(n-p-1))/((1-R2)*p)\nR> Fstat\n[1] 41.58529\nR> 1-pf(Fstat,df1=p,df2=n-p-1)\n[1] 0\n```", "```\nR> predict(survmult,newdata=data.frame(Wr.Hnd=16.5,Sex=\"Male\"),\n           interval=\"confidence\",level=0.95)\n       fit      lwr      upr\n1 173.4851 170.9419 176.0283\n```", "```\nR> predict(survmult,newdata=data.frame(Wr.Hnd=13,Sex=\"Female\"),\n           interval=\"prediction\",level=0.99)\n       fit      lwr      upr\n1 158.4147 139.7611 177.0684\n```", "```\nR> survey[survey$Sex==\"Female\" & survey$Wr.Hnd==13,c(\"Sex\",\"Wr.Hnd\",\"Height\")]\n       Sex Wr.Hnd Height\n45  Female     13 180.34\n152 Female     13 165.00\n```", "```\nR> x <- seq(-4,4,length=50)\nR> y <- x\nR> y2 <- x + x^2\nR> y3 <- x + x^2 + x^3\n```", "```\nR> plot(x,y,type=\"l\")\nR> plot(x,y2,type=\"l\")\nR> plot(x,y3,type=\"l\")\n```", "```\nR> plot(mtcars$disp,mtcars$mpg,xlab=\"Displacement (cu. in.)\",ylab=\"MPG\")\n```", "```\nR> car.order1 <- lm(mpg~disp,data=mtcars)\nR> summary(car.order1)\n\nCall:\nlm(formula = mpg ~ disp, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-4.8922 -2.2022 -0.9631  1.6272  7.2305\n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)\n(Intercept) 29.599855   1.229720  24.070  < 2e-16 ***\ndisp        -0.041215   0.004712  -8.747 9.38e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.251 on 30 degrees of freedom\nMultiple R-squared:  0.7183,        Adjusted R-squared:  0.709\nF-statistic: 76.51 on 1 and 30 DF,  p-value: 9.38e-10\n```", "```\nR> car.order2 <- lm(mpg~disp+I(disp^2),data=mtcars)\nR> summary(car.order2)\n\nCall:\nlm(formula = mpg ~ disp + I(disp^2), data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-3.9112 -1.5269 -0.3124  1.3489  5.3946\n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)\n(Intercept)  3.583e+01  2.209e+00  16.221 4.39e-16 ***\ndisp        -1.053e-01  2.028e-02  -5.192 1.49e-05 ***\nI(disp^2)    1.255e-04  3.891e-05   3.226   0.0031 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.837 on 29 degrees of freedom\nMultiple R-squared:  0.7927,        Adjusted R-squared:  0.7784\nF-statistic: 55.46 on 2 and 29 DF,  p-value: 1.229e-10\n```", "```\nR> car.order3 <- lm(mpg~disp+I(disp^2)+I(disp^3),data=mtcars)\nR> summary(car.order3)\n\nCall:\nlm(formula = mpg ~ disp + I(disp^2) + I(disp^3), data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-3.0896 -1.5653 -0.3619  1.4368  4.7617\n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)\n(Intercept)  5.070e+01  3.809e+00  13.310 1.25e-13 ***\ndisp        -3.372e-01  5.526e-02  -6.102 1.39e-06 ***\nI(disp^2)    1.109e-03  2.265e-04   4.897 3.68e-05 ***\nI(disp^3)   -1.217e-06  2.776e-07  -4.382  0.00015 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.224 on 28 degrees of freedom\nMultiple R-squared: 0.8771,         Adjusted R-squared: 0.8639\nF-statistic: 66.58 on 3 and 28 DF,  p-value: 7.347e-13\n```", "```\nR> plot(mtcars$disp,mtcars$mpg,xlab=\"Displacement (cu. in.)\",ylab=\"MPG\")\nR> abline(car.order1)\n```", "```\nR> disp.seq <- seq(min(mtcars$disp)-50,max(mtcars$disp)+50,length=30)\n```", "```\nR> car.order2.pred <- predict(car.order2,newdata=data.frame(disp=disp.seq))\nR> lines(disp.seq,car.order2.pred,lty=2)\n```", "```\nR> car.order3.pred <- predict(car.order3,newdata=data.frame(disp=disp.seq))\nR> lines(disp.seq,car.order3.pred,lty=3)\nR> legend(\"topright\",lty=1:3,\n          legend=c(\"order 1 (linear)\",\"order 2 (quadratic)\",\"order 3 (cubic)\"))\n```", "```\nR> plot(1:1000,log(1:1000),type=\"l\",xlab=\"x\",ylab=\"\",ylim=c(-8,8))\nR> lines(1:1000,-log(1:1000),lty=2)\nR> legend(\"topleft\",legend=c(\"log(x)\",\"-log(x)\"),lty=c(1,2))\n```", "```\nR> plot(mtcars$hp,mtcars$mpg,pch=19,col=c(\"black\",\"gray\")[factor(mtcars$am)],\n        xlab=\"Horsepower\",ylab=\"MPG\")\nR> legend(\"topright\",legend=c(\"auto\",\"man\"),col=c(\"black\",\"gray\"),pch=19)\n```", "```\nR> car.log <- lm(mpg~log(hp)+am,data=mtcars)\nR> summary(car.log)\n\nCall:\nlm(formula = mpg ~ log(hp) + am, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-3.9084 -1.7692 -0.1432  1.4032  6.3865\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept)  63.4842     5.2697  12.047 8.24e-13 ***\nlog(hp)      -9.2383     1.0439  -8.850 9.78e-10 ***\nam            4.2025     0.9942   4.227 0.000215 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.592 on 29 degrees of freedom\nMultiple R-squared:  0.827,        Adjusted R-squared:  0.8151\nF-statistic: 69.31 on 2 and 29 DF,  p-value: 8.949e-12\n```", "```\nR> hp.seq <- seq(min(mtcars$hp)-20,max(mtcars$hp)+20,length=30)\nR> n <- length(hp.seq)\nR> car.log.pred <- predict(car.log,newdata=data.frame(hp=rep(hp.seq,2),\n                                                      am=rep(c(0,1),each=n)))\n```", "```\nR> lines(hp.seq,car.log.pred[1:n])\nR> lines(hp.seq,car.log.pred[(n+1):(2*n)],col=\"gray\")\n```", "```\nR> dia.fit <- lm(chol~age+frame+age:frame,data=diabetes)\nR> summary(dia.fit)\n\nCall:\nlm(formula = chol ~ age + frame + age:frame, data = diabetes)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-131.90  -26.24   -5.33   22.17  226.11\n\nCoefficients:\n                Estimate Std. Error t value Pr(>|t|)\n(Intercept)     155.9636    12.0697  12.922  < 2e-16 ***\nage               0.9852     0.2687   3.667  0.00028 ***\nframemedium      28.6051    15.5503   1.840  0.06661 .\nframelarge       44.9474    18.9842   2.368  0.01840 *\nage:framemedium  -0.3514     0.3370  -1.043  0.29768\nage:framelarge   -0.8511     0.3779  -2.252  0.02490 *\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 42.34 on 384 degrees of freedom\n  (13 observations deleted due to missingness)\nMultiple R-squared:  0.07891,       Adjusted R-squared: 0.06692\nF-statistic:  6.58 on 5 and 384 DF, p-value: 6.849e-06\n```", "```\nR> dia.coef <- coef(dia.fit)\nR> dia.coef\n    (Intercept)             age     framemedium     framelarge\n    155.9635868       0.9852028      28.6051035     44.9474105\nage:framemedium  age:framelarge\n     -0.3513906      -0.8510549\n```", "```\nR> dia.small <- c(dia.coef[1],dia.coef[2])\nR> dia.small\n(Intercept)         age\n155.9635868   0.9852028\nR> dia.medium <- c(dia.coef[1]+dia.coef[3],dia.coef[2]+dia.coef[5])\nR> dia.medium\n(Intercept)         age\n184.5686904   0.6338122\nR> dia.large <- c(dia.coef[1]+dia.coef[4],dia.coef[2]+dia.coef[6])\nR> dia.large\n(Intercept)         age\n200.9109973   0.1341479\n```", "```\nR> cols <- c(\"black\",\"darkgray\",\"lightgray\")\nR> plot(diabetes$chol~diabetes$age,col=cols[diabetes$frame],\n        cex=0.5,xlab=\"age\",ylab=\"cholesterol\")\nR> abline(coef=dia.small,lwd=2)\nR> abline(coef=dia.medium,lwd=2,col=\"darkgray\")\nR> abline(coef=dia.large,lwd=2,col=\"lightgray\")\nR> legend(\"topright\",legend=c(\"small frame\",\"medium frame\",\"large frame\"),\n          lty=1,lwd=2,col=cols)\n```", "```\nR> warp.fit <- lm(breaks~wool*tension,data=warpbreaks)\nR> summary(warp.fit)\n\nCall:\nlm(formula = breaks ~ wool * tension, data = warpbreaks)\n\nResiduals:\n     Min       1Q   Median        3Q       Max\n-19.5556  -6.8889  -0.6667    7.1944   25.4444\n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)\n(Intercept)      44.556      3.647  12.218 2.43e-16 ***\nwoolB           -16.333      5.157  -3.167 0.002677 **\ntensionM        -20.556      5.157  -3.986 0.000228 ***\ntensionH        -20.000      5.157  -3.878 0.000320 ***\nwoolB:tensionM   21.111      7.294   2.895 0.005698 **\nwoolB:tensionH   10.556      7.294   1.447 0.154327\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 10.94 on 48 degrees of freedom\nMultiple R-squared:  0.3778,        Adjusted R-squared:  0.3129\nF-statistic: 5.828 on 5 and 48 DF,  p-value: 0.0002772\n```", "```\nR> nd <- data.frame(wool=c(\"A\",\"A\",\"B\",\"B\"),tension=c(\"L\",\"H\",\"L\",\"M\"))\nR> predict(warp.fit,newdata=nd,interval=\"confidence\",level=0.9)\n       fit      lwr      upr\n1 44.55556 38.43912 50.67199\n2 24.55556 18.43912 30.67199\n3 28.22222 22.10579 34.33866\n4 28.77778 22.66134 34.89421\n```", "```\nR> car.fit <- lm(mpg~hp*wt,data=mtcars)\nR> summary(car.fit)\n\nCall:\nlm(formula = mpg ~ hp * wt, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max\n-3.0632 -1.6491 -0.7362  1.4211  4.5513\n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)\n(Intercept) 49.80842    3.60516  13.816 5.01e-14 ***\nhp          -0.12010    0.02470  -4.863 4.04e-05 ***\nwt          -8.21662    1.26971  -6.471 5.20e-07 ***\nhp:wt        0.02785    0.00742   3.753 0.000811 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 2.153 on 28 degrees of freedom\nMultiple R-squared:  0.8848,        Adjusted R-squared:  0.8724\nF-statistic: 71.66 on 3 and 28 DF,  p-value: 2.981e-13\n```", "```\nR> nuc.fit <- lm(cost~cap+cum.n*ne*ct,data=nuclear)\nR> summary(nuc.fit)\n\nCall:\nlm(formula = cost ~ cap + cum.n * ne * ct, data = nuclear)\n\nResiduals:\n     Min       1Q   Median       3Q      Max\n-162.475  -50.368   -8.833   43.370  213.131\n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)\n(Intercept)  138.0336    99.9599   1.381 0.180585\ncap           0.5085      0.1127   4.513 0.000157 ***\ncum.n       -24.2433      6.7874  -3.572 0.001618 **\nne         -260.1036    164.7650  -1.579 0.128076\nct         -187.4904     76.6316  -2.447 0.022480 *\ncum.n:ne     44.0196     12.2880   3.582 0.001577 **\ncum.n:ct     35.1687      8.0660   4.360 0.000229 ***\nne:ct       524.1194    200.9567   2.608 0.015721 *\ncum.n:ne:ct -64.4444     18.0213  -3.576 0.001601 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 107.3 on 23 degrees of freedom\nMultiple R-squared:  0.705,        Adjusted R-squared:  0.6024\nF-statistic: 6.872 on 8 and 23 DF,  p-value: 0.0001264\n```"]