<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><section epub:type="chapter" role="doc-chapter" aria-labelledby="ch6">&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_75" aria-label="75"/>&#13;
<hgroup>&#13;
&#13;
<h2 class="CHAPTER" id="ch6">&#13;
<span class="CN"><samp class="SANS_Futura_Std_Bold_Condensed_B_11">6</samp></span>&#13;
<span class="CT"><samp class="SANS_Dogma_OT_Bold_B_11">SOLVING PUZZLES</samp></span>&#13;
</h2>&#13;
</hgroup>&#13;
<figure class="opener"><img class="opener" src="../images/opener.jpg" role="presentation" alt="" width="386" height="386"/>&#13;
</figure>&#13;
<p class="ChapterIntro">The uses of graph search algorithms extend beyond searching paths between physical places or virtual links between items. They also apply to a wide range of more abstract problems, such as solving puzzles or devising strategies in games.</p>&#13;
<p class="TX">Many puzzles can be represented by a set of discrete states that capture the different configurations of the puzzle. <i>Solving the puzzle</i> might then consist of using a sequence of steps to transition from the initial state to some predefined goal state. This could correspond to moving discs on a Tower of Hanoi puzzle, moving people in a river-crossing puzzle, or rearranging tiles in a slider puzzle. In this chapter, we transform each of these puzzles into graph search problems by modeling the states of the puzzle as nodes and the transitions between them as edges. We then solve them by searching for a path to the puzzle’s target state.</p>&#13;
<section epub:type="division" aria-labelledby="sec1">&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_76" aria-label="76"/>&#13;
<h3 class="H1" id="sec1"><span id="h-63"/><samp class="SANS_Futura_Std_Bold_B_11">State Spaces and Graphs</samp></h3>&#13;
<p class="TNI1">This section describes the state space representations and graph representations of our three classic puzzles.</p>&#13;
<section epub:type="division" aria-labelledby="sec2">&#13;
&#13;
<h4 class="H2" id="sec2"><span id="h-64"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">The Tower of Hanoi</samp></h4>&#13;
<p class="TNI1">The Tower of Hanoi puzzle consists of three pegs, along with discs of different diameters that can be stacked on the pegs. Initially, all the discs are on the leftmost peg and are stacked in order of decreasing diameter, as shown for a three-disc version in <a href="#fig6-1">Figure 6-1</a>, where the widest disc is on the bottom of the pile and the smallest is on top. The goal of the puzzle is to move the discs one at a time such that they all end up on the rightmost peg in the same order.</p>&#13;
<figure class="IMG"><img id="fig6-1" class="img100" src="../images/f06001.jpg" alt="A board with three pegs. The first peg has three discs, stacked in order of decreasing diameter. The other two pegs are empty." width="1277" height="400"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-1: The initial state of the Tower of Hanoi puzzle</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">Two constraints make this puzzle interesting. First, you can move only the topmost disc of each stack. Second, at every step, each stack must maintain the sorted ordering. You are never allowed to place a wider disc on top of a smaller one. For example, <a href="#fig6-2">Figure 6-2</a> shows a move from the initial state to the valid second state.</p>&#13;
<figure class="IMG"><img id="fig6-2" class="img100" src="../images/f06002.jpg" alt="A board with three pegs. The first peg has two discs, stacked in order of decreasing diameter. The second peg has the smallest disc." width="1277" height="400"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-2: The Tower of Hanoi puzzle after moving one disc</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">We can represent the different configurations of discs as <i>states</i> in a variety of ways. To illustrate this, let’s consider a set of three vectors that track the ordered set of discs on each peg, where the combined vector set represents the state of the puzzle. We denote states within angle brackets. <span role="doc-pagebreak" epub:type="pagebreak" id="pg_77" aria-label="77"/>The state of the puzzle in <a href="#fig6-1">Figure 6-1</a> is represented with the vectors <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2,1],[],[]&gt;</samp>, while the state of <a href="#fig6-2">Figure 6-2</a> is represented as <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2],[1],[]&gt;</samp>.</p>&#13;
<p class="TX">We might think of these states as enumerating the universe of possibilities for the puzzle. The current arrangement of discs might be <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3],[],[2,1]&gt;</samp>. However, if we had made different moves, we might have the arrangement <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3],[1],[2]&gt;</samp>. We can sit back and envision the wide range of possible options, how to move between them, and the impact of future moves.</p>&#13;
<p class="TX">With the ability to enumerate the puzzle’s states as vectors, we can transform the problem into an undirected graph by using a single node for each state and edges for valid actions. This is illustrated in <a href="#fig6-3">Figure 6-3</a> for the Tower of Hanoi with three discs, where the nodes are potential destinations along our problem-solving journey. One node represents our starting state of <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2,1],[],[]&gt;</samp>, and one represents our target state of <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[],[],[3,2,1]&gt;</samp>, with a range of other states in between.</p>&#13;
<figure class="IMG"><img id="fig6-3" class="img100" src="../images/f06003.jpg" alt="Each node is labeled with three arrays. The leftmost node has the array [3, 2, 1] and two empty arrays. This node has two neighbors to the right. The top node is labeled with the arrays [3, 2], [1], and an empty array. The bottom node is labeled with the array [3, 2], an empty array, and the array [1]." width="1202" height="711"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-3: Part of the graph representation of the Tower of Hanoi puzzle</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">Since we can move from state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2,1],[],[]&gt;</samp> to state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2],[1],[]&gt;</samp> by moving the smallest disc from the first to the second peg, the graph contains an undirected edge between those nodes. In contrast, we cannot move from state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[3,2,1],[],[]&gt;</samp> to state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;[2,1],[3],[]&gt;</samp> by moving a single disc, so there is no edge between those states.</p>&#13;
<p class="TX">Until now, example graph nodes in this book have mostly represented concrete items like physical locations, computer nodes, web pages, tasks, or people. Now, however, our nodes represent potential configurations of the world. One immediate consequence of this is an explosion in the number of nodes. There are many more potential configurations of discs in the Tower of Hanoi than there are physical discs or pegs in the puzzle. This means we may encounter much larger graphs than before and the performance of the algorithms becomes ever more important.</p>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec3">&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_78" aria-label="78"/>&#13;
<h4 class="H2" id="sec3"><span id="h-65"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">River-Crossing Puzzles</samp></h4>&#13;
<p class="TNI1">River-crossing puzzles are a class of brain teasers that ask about transporting a set of people or animals across a river in a boat with limited capacity. Challenges arise from constraints on which entities are allowed to be left alone together on either bank.</p>&#13;
<p class="TX">Let’s consider one classic river puzzle that we will describe as the prisoners-and-guards puzzle, in which three guards and three prisoners need to cross a river. At their disposal is a boat that can carry two people at most. The prisoners are handcuffed and cannot escape if left alone. However, if there are more prisoners than guards on a shore, the prisoners will gang up on the guards and steal their keys. Thus, on each shore, a guard must be accompanied by <i>at most</i> the same number of prisoners.</p>&#13;
<p class="TX">We can represent the puzzle as a <i>state space graph</i>, where each node represents a state of the puzzle. The puzzle’s state consists of three pieces of information: the number of guards on the left bank, the number of prisoners on the left bank, and whether the boat is on the left or right bank. The number of guards and prisoners on the right bank can be derived from the number on the left, so we do not need to explicitly store that information. The starting state for the problem is <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,3,L&gt;</samp>, with all six people and the boat on the left bank.</p>&#13;
<p class="TX">Each node in the graph represents a single valid state, while edges link states that are reachable via a single move. Valid moves include sending any combination of one or two people across in the boat: two guards, one guard, one guard and one prisoner, two prisoners, or one prisoner. The boat cannot travel across without anyone, as someone needs to steer it. Since we can always undo any move by sending the same configuration back across, the graph is undirected.</p>&#13;
<p class="TX"><a href="#fig6-4">Figure 6-4</a> shows the entire graph of 16 possible states. Each state is a single node with both a graphical and a textual representation of the state. The letters <samp class="SANS_TheSansMonoCd_W5Regular_11">G</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">P</samp> represent the locations of guards and prisoners, respectively. The position of the boat is shown and represented with an <samp class="SANS_TheSansMonoCd_W5Regular_11">R</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">L</samp> in the state at the bottom. For many states there are only two valid moves, but for others there are multiple options.</p>&#13;
<figure class="IMG"><img id="fig6-4" class="img100" src="../images/f06004.jpg" alt="Each of the 16 nodes contains a picture of the puzzle state as well as its label. The left-most node has the state 3, 3, L, and shows three Gs, three Ps, and the boat on the left side of the river. It has three neighbors with states (3, 1, R), (2, 2, R), and (3, 2, R)." width="1682" height="598"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-4: The graph representation of the prisoners-and-guards river-crossing puzzle</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_79" aria-label="79"/>This puzzle illustrates the use of state representations while using a relatively small graph and makes it easy to visualize and analyze the reachable set of states. In later sections we’ll use this puzzle to show how we can programmatically create graphs and search for solutions.</p>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec4">&#13;
&#13;
<h4 class="H2" id="sec4"><span id="h-66"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Slider Puzzles</samp></h4>&#13;
<p class="TNI1">A slider puzzle consists of a grid of square tiles on a board with one square missing to leave a gap. Tiles can be rearranged by sliding an adjacent tile into the gap, effectively allowing the tile and gap to switch places. The goal of the puzzle is to move each of the tiles into the correct position. Depending on the puzzle, we might be tasked with ordering a sequence of numbers or unscrambling a picture. A classic example of this game is the 15-square, shown in <a href="#fig6-5">Figure 6-5</a>, where each tile is labeled with an integer from 1 to 15 and the correct state has all the tiles arranged in ascending order from top left to bottom right.</p>&#13;
<figure class="IMG"><img id="fig6-5" class="img40" src="../images/f06005.jpg" alt="A 4 × 4 grid with cells numbered 1 through 15. One cell is grayed out." width="503" height="503"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-5: The 15-square puzzle</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">The slider puzzle lends itself well to graph representation. Each possible arrangement of tiles is a unique puzzle state and can be represented by a graph node. Edges indicate possible traversals between states. At most, each state has four undirected edges, representing the neighbors that can be reached by filling that state’s gap position with each of the four adjacent tiles. We can call these edges Up, Down, Left, and Right.</p>&#13;
<p class="TX"><a href="#fig6-6">Figure 6-6</a> shows an example state and its four neighbors. By searching through the graph for a path from the initial state’s node to the goal state’s node, we can find a sequence of moves that solves the puzzle.</p>&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_80" aria-label="80"/>&#13;
<figure class="IMG"><img id="fig6-6" class="img100" src="../images/f06006.jpg" alt="A graph composed of five nodes, each of which holds a 4 × 4 slider puzzle like the one in Figure 6-5 with the empty square in a different position." width="1710" height="1710"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-6: A single state of the 15-square puzzle (center) and its four neighbor states</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">The 15-square puzzle demonstrates how quickly the state space can explode. This apparently simple puzzle has over 20 trillion states, many of which will never need to be visited on our path to the solution.</p>&#13;
</section>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec5">&#13;
&#13;
<h3 class="H1" id="sec5"><span id="h-67"/><samp class="SANS_Futura_Std_Bold_B_11">Constructing a Graph with Search</samp></h3>&#13;
<p class="TNI1">The graph search algorithms from the previous chapters required us to provide a fully specified graph. For puzzle problems, this might not be feasible. We don’t want to laboriously enumerate their many, many states by <span role="doc-pagebreak" epub:type="pagebreak" id="pg_81" aria-label="81"/>hand before we can start the search. Not only would this be time-consuming, but it would also likely lead to errors and accidentally induce the puzzle equivalent of cheating—adding an edge that allows an illegal move. Even worse, we would waste a huge amount of effort generating states that either are not used in the solution or are not reachable at all.</p>&#13;
<p class="TX">Instead, we can dynamically create a graph using a search algorithm by extending the breadth-first and depth-first search algorithms to explore the state space, adding nodes and edges on the fly. Each time we discover a new state, we add the corresponding node. Each time we test a move between states, we add the corresponding edge. Unlike previous searches that iterated over each node or each edge out of a node, using a search to build the graph requires the algorithm to iterate over puzzle states and the valid moves out of each state.</p>&#13;
<p class="TX">Throughout the rest of this section, we examine how we can build out such graphs using the river-crossing puzzle. We start with an initial state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,3,L&gt;</samp> and explore outward from there. At each step, we ask, “What is the next state if we send some combination of people (two guards, one guard, one guard and one prisoner, two prisoners, or one prisoner) across the river?” We compute the next state with simple arithmetic and check its validity using the puzzle’s rules. If the new state is valid, we add it and the corresponding edge to our graph. Throughout the next few sections, we will build out the code to store the state space, define valid transitions, and construct the graph. While we focus on the river-crossing puzzle, the approaches apply to a range of puzzles.</p>&#13;
<section epub:type="division" aria-labelledby="sec6">&#13;
&#13;
<h4 class="H2" id="sec6"><span id="h-68"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Representing the Puzzle’s States</samp></h4>&#13;
<p class="TNI1">In order to define our search, we first need to represent the puzzle’s state. The following code shows how to define a simple class <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> (where <samp class="SANS_TheSansMonoCd_W5Regular_11">PG</samp> stands for “prisoners and guards”) to store the current state of the puzzle and provide some helper functions:</p>&#13;
<pre><code>class PGState:&#13;
    def __init__(self, guards_left: int = 3, prisoners_left: int = 3,&#13;
                 boat_side: str = "L"):&#13;
        self.guards_left = guards_left&#13;
        self.prisoners_left = prisoners_left&#13;
        self.boat_side = boat_side&#13;
&#13;
    def __str__(self) -&gt; str:&#13;
        return (f"{self.guards_left},{self.prisoners_left},{self.boat_side}")&#13;
</code></pre>&#13;
<p class="TX">The variables <samp class="SANS_TheSansMonoCd_W5Regular_11">guards_left</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">prisoners_left</samp> store the number of guards and prisoners on the left riverbank. The string <samp class="SANS_TheSansMonoCd_W5Regular_11">boat_side</samp> indicates whether the boat is currently on the left (<samp class="SANS_TheSansMonoCd_W5Regular_11">L</samp>) or the right (<samp class="SANS_TheSansMonoCd_W5Regular_11">R</samp>) bank. The <samp class="SANS_TheSansMonoCd_W5Regular_11">__str__()</samp> function allows us to easily convert the state into a string representation for storage and display.</p>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_82" aria-label="82"/>Given the <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> data structure, it is easy to programmatically compute the result of moving a given number of guards and prisoners as part of the next boat trip, as shown in the following code:</p>&#13;
<pre><code>def pg_result_of_move(state: PGState, num_guards: int,&#13;
                      num_prisoners: int) -&gt; Union[PGState, None]: &#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation1">❶</span> if num_guards &lt; 0 or num_prisoners &lt; 0:&#13;
        return None&#13;
    if num_guards + num_prisoners == 0:&#13;
        return None&#13;
    if num_guards + num_prisoners &gt; 2:&#13;
        return None&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation2">❷</span> G_L: int = state.guards_left&#13;
    G_R: int = (3 - state.guards_left)&#13;
    P_L: int = state.prisoners_left&#13;
    P_R: int = (3 - state.prisoners_left)&#13;
    if state.boat_side == "L":&#13;
        G_L -= num_guards&#13;
        G_R += num_guards&#13;
        P_L -= num_prisoners&#13;
        P_R += num_prisoners&#13;
        new_side: str = "R"&#13;
    else:&#13;
        G_L += num_guards&#13;
        G_R -= num_guards&#13;
        P_L += num_prisoners&#13;
        P_R -= num_prisoners&#13;
        new_side = "L"&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation3">❸</span> if G_L &lt; 0 or P_L &lt; 0 or G_R &lt; 0 or P_R &lt; 0:&#13;
        return None&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation4">❹</span> if G_L &gt; 0 and G_L &lt; P_L:&#13;
        return None&#13;
    if G_R &gt; 0 and G_R &lt; P_R:&#13;
        return None&#13;
    return PGState(G_L, P_L, new_side)&#13;
</code></pre>&#13;
<p class="TX">The majority of the <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_result_of_move()</samp> function checks whether the move is valid. If the move is invalid, the function returns <samp class="SANS_TheSansMonoCd_W5Regular_11">None</samp>. Otherwise, it will return the new <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> corresponding to the result of the move. Note that this requires us to import <samp class="SANS_TheSansMonoCd_W5Regular_11">Union</samp> from Python’s <samp class="SANS_TheSansMonoCd_W5Regular_11">typing</samp> library to support type hints for multiple return types. The code checks that the number of prisoners and number of guards are both nonnegative, that there is at least one person in the boat, and that there are at most two people in the boat <span class="CodeAnnotationCode" aria-label="annotation1">❶</span>. If any of the validity checks fail, the move is not valid, and the function returns <samp class="SANS_TheSansMonoCd_W5Regular_11">None</samp> to indicate there is no next valid state.</p>&#13;
<p class="TX">If the move passes these first validity checks, the code computes the resulting number of prisoners and guards on the left shore (<samp class="SANS_TheSansMonoCd_W5Regular_11">P_L</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">G_L</samp>, respectively) and the number of prisoners and guards on the right shore <span role="doc-pagebreak" epub:type="pagebreak" id="pg_83" aria-label="83"/>(<samp class="SANS_TheSansMonoCd_W5Regular_11">P_R</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">G_R</samp>) <span class="CodeAnnotationCode" aria-label="annotation2">❷</span>. These four counts are used to check whether the new state is valid. The code checks that the move is not relocating more people than are on the current shore by confirming that none of the counts become negative <span class="CodeAnnotationCode" aria-label="annotation3">❸</span>. It also checks that the new state has a valid balance of guards and prisoners <span class="CodeAnnotationCode" aria-label="annotation4">❹</span>. If there is at least one guard on a shore, then there cannot be more prisoners than guards on that shore. However, it is valid to have only prisoners on a shore. Once again, if any of the validity checks fail, the new state is not valid, and the function returns <samp class="SANS_TheSansMonoCd_W5Regular_11">None</samp>. If all checks pass, the code returns a <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> data structure representing the new state.</p>&#13;
<p class="TX">While <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_result_of_move()</samp> checks and computes the result of a single move, we need to construct edges for each valid move out of a state. We can define a helper function to generate and test all possible neighbors of the current state:</p>&#13;
<pre><code>def pg_neighbors(state: PGState) -&gt; list: &#13;
    neighbors: list = []&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation1">❶</span> for move in [(1, 0), (2, 0), (0, 1), (0, 2), (1, 1)]:&#13;
      <span class="CodeAnnotationCode-1" aria-label="annotation2">❷</span> n: Union[PGState, None] = pg_result_of_move(state, move[0], move[1])&#13;
        if n is not None:&#13;
            neighbors.append(n)&#13;
    return neighbors&#13;
</code></pre>&#13;
<p class="TX">This code creates an empty list of neighbors (<samp class="SANS_TheSansMonoCd_W5Regular_11">neighbors</samp>), then systematically tries all five possible moves: one guard, two guards, one prisoner, two prisoners, and one guard plus one prisoner <span class="CodeAnnotationCode" aria-label="annotation1">❶</span>. Each time, the code calls <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_result_of_move()</samp> and checks whether a valid neighboring state is returned <span class="CodeAnnotationCode" aria-label="annotation2">❷</span>. If so, it adds the new state to the list of neighbors.</p>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec7">&#13;
&#13;
<h4 class="H2" id="sec7"><span id="h-69"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Generating the Graph</samp></h4>&#13;
<p class="TNI1">Now that we have the components to algorithmically determine which states neighbor the current state, we can use a modified breadth-first search to generate the state space graph for the prisoners-and-guards puzzle. This algorithm will start from the initial state and explore outward along edges to adjacent states. We’ll use the <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_neighbors()</samp> helper function from the last section to determine the set of valid neighboring states from the current state. As new states are discovered by the neighbor generation function, we’ll add those states to the graph as new nodes.</p>&#13;
<p class="TX">We track the state information in the <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> data structure. For convenience, we will link to this state information as a <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> object assigned to the node’s label. This makes the current state data structure readily accessible during the search. We use the <samp class="SANS_TheSansMonoCd_W5Regular_11">__str__()</samp> method to produce a string representation of the data structure for use in helper data structures.</p>&#13;
<p class="TX">In addition to the data structures used in previous breadth-first searches, we need to track one additional piece of information: a mapping from the state to its node in the graph. It doesn’t help us to know that an edge exists between <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;2,2,R&gt;</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,3,L&gt;</samp> if we can’t then find the corresponding nodes and create the edge. We store this information in a dictionary (<samp class="SANS_TheSansMonoCd_W5Regular_11">indices</samp>) that <span role="doc-pagebreak" epub:type="pagebreak" id="pg_84" aria-label="84"/>maps a string representation of the state to the corresponding node’s index in the graph.</p>&#13;
<p class="TX">The code to create the state graph for prisoners and guards combines the pieces we’ve previously assembled:</p>&#13;
<pre><code>def create_prisoners_and_guards() -&gt; Graph: &#13;
    indices: dict = {}&#13;
    next_node: queue.Queue = queue.Queue()&#13;
    g: Graph = Graph(0, undirected=True)&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation1">❶</span> initial_state: PGState = PGState(3, 3, "L")&#13;
    initial: Node = g.insert_node(label=initial_state)&#13;
    next_node.put(initial.index)&#13;
    indices[str(initial_state)] = initial.index&#13;
&#13;
    while not next_node.empty():&#13;
      <span class="CodeAnnotationCode-1" aria-label="annotation2">❷</span> current_ind: int = next_node.get()&#13;
        current_node: Node = g.nodes[current_ind]&#13;
        current_state = current_node.label&#13;
&#13;
      <span class="CodeAnnotationCode-1" aria-label="annotation3">❸</span> neighbors: list = pg_neighbors(current_state)&#13;
        for state in neighbors:&#13;
            state_str: str = str(state)&#13;
          <span class="CodeAnnotationCode-1" aria-label="annotation4">❹</span> if not state_str in indices:&#13;
                new_node: Node = g.insert_node(label=state)&#13;
                indices[state_str] = new_node.index&#13;
                next_node.put(new_node.index)&#13;
          <span class="CodeAnnotationCode-1" aria-label="annotation5">❺</span> new_ind: int = indices[str(state)]&#13;
            g.insert_edge(current_ind, new_ind, 1.0)&#13;
&#13;
    return g&#13;
</code></pre>&#13;
<p class="TX">The code for generating the graph starts by setting up the necessary data structures: an empty dictionary (<samp class="SANS_TheSansMonoCd_W5Regular_11">indices</samp>), an empty queue (<samp class="SANS_TheSansMonoCd_W5Regular_11">next_node</samp>), and an empty graph (<samp class="SANS_TheSansMonoCd_W5Regular_11">g</samp>). It creates a new <samp class="SANS_TheSansMonoCd_W5Regular_11">PGState</samp> object for the initial state, inserts the corresponding node into the graph with the <samp class="SANS_TheSansMonoCd_W5Regular_11">Graph</samp> class’s <samp class="SANS_TheSansMonoCd_W5Regular_11">insert_node()</samp> function, adds the initial state’s node index to the queue, and adds the string to index mapping to the dictionary <span class="CodeAnnotationCode" aria-label="annotation1">❶</span>.</p>&#13;
<p class="TX">We are now ready to start the search itself. Like other breadth-first searches, our prisoners-and-guards graph generation uses a queue of node indices (<samp class="SANS_TheSansMonoCd_W5Regular_11">next_node</samp>) to control the search. The next node index is dequeued, and the corresponding node and state are retrieved <span class="CodeAnnotationCode" aria-label="annotation2">❷</span>. Unlike previous breadth-first search examples, the algorithm cannot rely on the node’s edge list to determine neighbors. Instead, the code uses the <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_neighbors()</samp> function to generate possible neighboring states <span class="CodeAnnotationCode" aria-label="annotation3">❸</span>.</p>&#13;
<p class="TX">The code checks whether each state has been seen before by searching for its string representation in the <samp class="SANS_TheSansMonoCd_W5Regular_11">indices</samp> dictionary <span class="CodeAnnotationCode" aria-label="annotation4">❹</span>. If the state does not have an entry in the table (and a valid node index), we have neither seen it nor added it to the graph yet. New nodes are created for any previously unseen states, and new edges are generated between the current node and its neighbor <span class="CodeAnnotationCode" aria-label="annotation5">❺</span>.</p>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_85" aria-label="85"/>The code concludes by returning the completed graph <samp class="SANS_TheSansMonoCd_W5Regular_11">g</samp>. Since the algorithm only searches outward from the initial state, the returned graph will include only states that are reachable from the initial state by valid moves. Nodes for invalid or unreachable states are not included.</p>&#13;
<p class="TX"><a href="#fig6-7">Figure 6-7</a> shows the first few steps of the algorithm’s progress. The single node corresponding to the graph’s initial <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,3,L&gt;</samp> state is shown in <a href="#fig6-7">Figure 6-7(a)</a>. <a href="#fig6-7">Figure 6-7(b)</a> shows the result after the first node is visited: the <samp class="SANS_TheSansMonoCd_W5Regular_11">pg_neighbors()</samp> function finds three valid neighbors for the current state, and the algorithm creates new nodes for each one. After exploring the <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,1,R&gt;</samp> state, the code creates a <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,2,L&gt;</samp> node and the corresponding edge, as shown in <a href="#fig6-7">Figure 6-7(c)</a>.</p>&#13;
<figure class="IMG"><img id="fig6-7" class="img100" src="../images/f06007.jpg" alt="In (A), the graph has a single node labeled (3, 3, L). In (B), three neighbors have been added with states (3, 1, R), (2, 2, R), and (3, 2, R). Each neighbor has an edge back to the first node. In (C), a fifth node has been created with state (3, 2, L) and an edge to node (3, 1, R)." width="1381" height="639"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-7: The first three steps of generating the graph for the prisoners-and-guards puzzle</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">The algorithm generates new nodes whenever it first sees them. However, it does not necessarily generate all the node’s edges until it visits that node, which is why there is no edge from state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,2,L&gt;</samp> to state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;2,2,R&gt;</samp> in <a href="#fig6-7">Figure 6-7(c)</a>. The code will generate the edge between those nodes only when it visits either <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;2,2,R&gt;</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,2,L&gt;</samp>.</p>&#13;
</section>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec8">&#13;
&#13;
<h3 class="H1" id="sec8"><span id="h-70"/><samp class="SANS_Futura_Std_Bold_B_11">Solving a Puzzle with Search</samp></h3>&#13;
<p class="TNI1">We can apply the searches from past chapters directly to the prisoners-and-guards puzzle graph. We add the search functions to the same prisoners-and-guards program, building off the previous section’s functions.</p>&#13;
<p class="TX">To simplify the logic, we start with a simple helper function that creates a dictionary mapping the state’s string to the corresponding node’s index:</p>&#13;
<pre><code>def pg_state_to_index_map(g: Graph) -&gt; dict: &#13;
    state_to_index: dict = {}&#13;
    for node in g.nodes:&#13;
        state: str = str(node.label)&#13;
        state_to_index[state] = node.index&#13;
    return state_to_index&#13;
</code></pre>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_86" aria-label="86"/>The resulting map of state string to node index allows us to look up the start and goal indices without tracing through the graph. We can look up the index of the starting node (0) from the string <samp class="SANS_TheSansMonoCd_W5Regular_11">"3,3,L"</samp>. Similarly, we can look up the goal node’s index (14) from its state string <samp class="SANS_TheSansMonoCd_W5Regular_11">"0,0,R"</samp>.</p>&#13;
<p class="TX">Here’s the code for searching the puzzle:</p>&#13;
<pre><code>def solve_pg_bfs(): &#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation1">❶</span> g: Graph = create_prisoners_and_guards()&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation2">❷</span> state_to_index: dict = pg_state_to_index_map(g)&#13;
    start_index: int = state_to_index["3,3,L"]&#13;
    end_index: int = state_to_index["0,0,R"]&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation3">❸</span> last: int = breadth_first_search(g, start_index)&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation4">❹</span> current: int = end_index&#13;
    path_reversed: list = []&#13;
    while current != -1:&#13;
        path_reversed.append(current)&#13;
        current = last[current]&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation5">❺</span> if path_reversed[-1] != start_index:&#13;
        print("No solution")&#13;
        return&#13;
&#13;
  <span class="CodeAnnotationCode-1" aria-label="annotation6">❻</span> for i, n in enumerate(reversed(path_reversed)):&#13;
        print(f"Step {i}: {g.nodes[n].label}")&#13;
</code></pre>&#13;
<p class="TX">The code starts by creating the puzzle’s graph representation <span class="CodeAnnotationCode" aria-label="annotation1">❶</span>. It then builds a dictionary <samp class="SANS_TheSansMonoCd_W5Regular_11">state_to_index</samp>, which maps the state string to the index, and uses that to look up the indices of the starting and goal nodes <span class="CodeAnnotationCode" aria-label="annotation2">❷</span>.</p>&#13;
<p class="TX">The code uses a standard breadth-first search to explore the graph, returning the <samp class="SANS_TheSansMonoCd_W5Regular_11">last</samp> list <span class="CodeAnnotationCode" aria-label="annotation3">❸</span>. Finally, it traverses the <samp class="SANS_TheSansMonoCd_W5Regular_11">last</samp> list backward from the goal node until it reaches the starting node or a dead end <span class="CodeAnnotationCode" aria-label="annotation4">❹</span>. If the path dead-ends before reaching the starting node, the function displays the message <samp class="SANS_TheSansMonoCd_W5Regular_11">No solution</samp> <span class="CodeAnnotationCode" aria-label="annotation5">❺</span>. Otherwise, the code walks the path forward and displays the list of states visited in the correct order <span class="CodeAnnotationCode" aria-label="annotation6">❻</span>.</p>&#13;
<p class="TX"><a href="#fig6-8">Figure 6-8</a> shows the generated graph with node indices. Each node is labeled with both its node index (top) and its state string (bottom).</p>&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_87" aria-label="87"/>&#13;
<figure class="IMG"><img id="fig6-8" class="img100" src="../images/f06008.jpg" alt="The graph from Figure 6-4 with a number and state string labeling each node. The leftmost node has the label 0. Its three neighbors are labeled 2, 3, and 1 from top to bottom." width="1681" height="591"/>&#13;
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 6-8: The graph for prisoners and guards with node indices shown</samp></p></figcaption>&#13;
</figure>&#13;
<p class="TX">Given the generated puzzle graph, we can directly run the breadth-first search from <span class="Xref"><a href="chapter5.xhtml">Chapter 5</a></span>. <a href="#tab6-1">Table 6-1</a> shows the state of the <samp class="SANS_TheSansMonoCd_W5Regular_11">last</samp> vector after each node is explored. The first row corresponds to iteration 0 and state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;3,3,L&gt;</samp>. The goal (state <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;0,0,R&gt;</samp>) is visited during iteration 14.</p>&#13;
<table class="Basic-Table">&#13;
<caption>&#13;
<p class="TT1" id="tab6-1"><samp class="SANS_Futura_Std_Heavy_B_11">Table 6-1:</samp> <samp class="SANS_Futura_Std_Book_11">The Progression of the</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">last</samp> <samp class="SANS_Futura_Std_Book_11">Vector</samp></p>&#13;
</caption>&#13;
<thead>&#13;
<tr class="Basic-Table">&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">Step (node)</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">3</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">2</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">R</samp></p>&#13;
</th>&#13;
<th class="Basic-Table TCH" scope="col">&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">0</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">1</samp></p>&#13;
<p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">L</samp></p>&#13;
</th>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0 (3,3,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBF">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">1 (3,2,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2 (3,1,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">3 (2,2,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4 (3,2,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5 (3,0,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6 (3,1,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7 (1,1,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8 (2,2,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9 (0,2,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table Body">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10 (0,3,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11 (0,1,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">12 (1,1,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">12</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">13 (0,2,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">12</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">14 (0,0,R)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">12</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TB">&#13;
<p class="TT"><samp class="SANS_Futura_Std_Book_11">14</samp></p>&#13;
</td>&#13;
</tr>&#13;
<tr class="Basic-Table">&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">15 (0,1,L)</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">–1</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">0</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">2</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">4</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">5</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">6</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">7</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">8</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">9</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">10</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">11</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">12</samp></p>&#13;
</td>&#13;
<td class="Basic-Table TBL">&#13;
<p class="TB"><samp class="SANS_Futura_Std_Book_11">14</samp></p>&#13;
</td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_88" aria-label="88"/>Based on the <samp class="SANS_TheSansMonoCd_W5Regular_11">last</samp> vector that breadth-first search produces, we can track the moves necessary to take us from the initial state to the goal. Remember that breadth-first search returns the shortest path on unweighted graphs, so it has found us the solution requiring the fewest moves.</p>&#13;
<p class="TX">We can use similar approaches for the Tower of Hanoi and the slider puzzle. Each time, we would start by defining the data structure for the state space and a function to algorithmically generate a state’s neighbors.</p>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec9">&#13;
&#13;
<h3 class="H1" id="sec9"><span id="h-71"/><samp class="SANS_Futura_Std_Bold_B_11">Why This Matters</samp></h3>&#13;
<p class="TNI1">This chapter introduced how to apply graph search to the abstract world of solving puzzles. Beyond the relatively simple puzzles covered here, we can model increasingly complex problems by incorporating the rich structure of the graph, including directed and weighted edges. While the puzzles in this chapter used undirected edges to represent reversible moves, for example, we can represent a move that cannot be taken back with a directed edge. If we’re trying to solve a puzzle that involves crossing a bridge that will collapse after one trip, we cannot directly return to the state where we are on the other side of the ravine with the bridge intact. Similarly, weighted edges allow us to account for the cost of moves.</p>&#13;
<p class="TX">The code in this chapter also demonstrated that we do not have to generate graphs before starting our searches, but instead we can use a search to create the graph data structure as we explore the various states. In many cases, we might not need to explicitly create the graph data structure at all. Once we have defined the states and transitions, we can apply graph algorithms like breadth-first search directly to them. For the remainder of this book, we will refer to modeling problems as graph problems even in cases where we do not explicitly build a graph.</p>&#13;
<p class="TX">In the next chapter, we will return to the question of computing paths through graphs, expanding beyond the search-based approaches we have seen so far to find the least-cost path through graphs with weighted edges.</p>&#13;
</section>&#13;
</section>&#13;
</div>
</div>
</body></html>