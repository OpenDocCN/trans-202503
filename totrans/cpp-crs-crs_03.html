<html><head></head><body>
<h2 class="h2" id="ch01"><span epub:type="pagebreak" id="page_3"/><strong><span class="big">1</span><br/>UP AND RUNNING</strong></h2>&#13;
<p class="quote"><em>. . . with such violence I fell to the ground that I found myself stunned, and in a hole nine fathoms under the grass. . . . Looking down, I observed that I had on a pair of boots with exceptionally sturdy straps. Grasping them firmly, I pulled (repeatedly) with all my might.<br/>—Rudolph Raspe</em>, The Singular Adventures of Baron Munchausen</p>&#13;
<div class="image1"><img src="../images/common.jpg" alt="Image"/></div>&#13;
<p class="noindent">In this chapter, you’ll begin by setting up a C++ <em>development environment</em>, which is the collection of tools that enables you to develop C++ software. You’ll use the development environment to compile your first C++ <em>console application</em>, a program that you can run from the command line. Then you’ll learn the main components of the development environment along with the role they play in generating the application you’ll write. The chapters that follow will cover enough C++ essentials to construct useful example programs.</p>&#13;
<p class="indent">C++ has a reputation for being hard to learn. It’s true that C++ is a big, complex, and ambitious language and that even veteran C++ programmers regularly learn new patterns, features, and usages.</p>&#13;
<p class="indent">A major source of nuance is that C++ features mesh together so tightly. Unfortunately, this often causes some distress to newcomers. Because C++ concepts are so tightly coupled, it’s just not clear where to jump in. <a href="part01.xhtml#part01">Part I</a> of <span epub:type="pagebreak" id="page_4"/>this book charts a deliberate, methodical course through the tumult, but it has to begin somewhere. This chapter covers just enough to get you started. Don’t sweat the details too much!</p>&#13;
<h3 class="h3" id="ch01lev1sec1"><strong>The Structure of a Basic C++ Program</strong></h3>&#13;
<p class="noindent">In this section, you’ll write a simple C++ program and then compile and run it. You write C++ source code into human-readable text files called <em>source files</em>. Then you use a compiler to convert your C++ into executable machine code, which is a program that computers can run.</p>&#13;
<p class="indent">Let’s dive in and create your first C++ source file.</p>&#13;
<h4 class="h4" id="ch01lev2sec1"><strong><em>Creating Your First C++ Source File</em></strong></h4>&#13;
<p class="noindent">Open your favorite text editor. If you don’t have a favorite just yet, try Vim, Emacs, or gedit on Linux; TextEdit on Mac; or Notepad on Windows. Enter the code in <a href="ch01.xhtml#ch01ex01">Listing 1-1</a> and save the resulting file to your desktop as <em>main.cpp</em>.</p>&#13;
<pre>#include &lt;cstdio&gt; <span class="ent">➊</span>&#13;
&#13;
int main<span class="ent">➋</span>(){&#13;
  printf("Hello, world!"); <span class="ent">➌</span>&#13;
  return 0; <span class="ent">➍</span>&#13;
}&#13;
--------------------------------------------------------------------------&#13;
<span class="color1">Hello, world! <span class="ent">➌</span></span></pre>&#13;
<p class="listing"><a id="ch01ex01"/><em>Listing 1-1: Your first C++ program prints <span class="literal">Hello, world!</span> to the screen.</em></p>&#13;
<p class="indent">The <a href="ch01.xhtml#ch01ex01">Listing 1-1</a> source file compiles to a program that prints the characters <span class="literal">Hello, world!</span> to the screen. By convention, C++ source files have a <em>.cpp</em> extension.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>In this book, listings will include any program output immediately after the program’s source; the output will appear in gray. Numerical annotations will correspond with the line that produced the output. The <span class="literal">printf</span> statement in <a href="ch01.xhtml#ch01ex01">Listing 1-1</a>, for example, is responsible for the output <span class="literal">Hello, world!</span>, so these share the same annotation</em> <span class="ent">➌</span>.</p>&#13;
</div>&#13;
<h4 class="h4" id="ch01lev2sec2"><strong><em>Main: A C++ Program’s Starting Point</em></strong></h4>&#13;
<p class="noindent">As shown in <a href="ch01.xhtml#ch01ex01">Listing 1-1</a>, C++ programs have a single entry point called the <span class="literal">main</span> function <span class="ent">➋</span>. An <em>entry point</em> is a function that executes when a user runs a program. <em>Functions</em> are blocks of code that can take inputs, execute some instructions, and return results.</p>&#13;
<p class="indent">Within <span class="literal">main</span>, you call the function <span class="literal">printf</span>, which prints the characters <span class="literal">Hello, world!</span> to the console <span class="ent">➌</span>. Then the program exits by returning the exit code <span class="literal">0</span> to the operating system <span class="ent">➍</span>. <em>Exit codes</em> are integer values that the operating system uses to determine how well a program ran. Generally, a <span epub:type="pagebreak" id="page_5"/>zero (<span class="literal">0</span>) exit code means the program ran successfully. Other exit codes might indicate a problem. Having a return statement in <span class="literal">main</span> is optional; the exit code defaults to <span class="literal">0</span>.</p>&#13;
<p class="indent">The <span class="literal">printf</span> function is not defined in the program; it’s in the <span class="literal">cstdio</span> library <span class="ent">➊</span>.</p>&#13;
<h4 class="h4" id="ch01lev2sec3"><strong><em>Libraries: Pulling in External Code</em></strong></h4>&#13;
<p class="noindent"><em>Libraries</em> are helpful code collections you can import into your programs to prevent having to reinvent the wheel. Virtually every programming language has some way of incorporating library functionality into a program:</p>&#13;
<ul>&#13;
<li class="noindent">Python, Go, and Java have <span class="literal">import</span>.</li>&#13;
<li class="noindent">Rust, PHP, and C# have <span class="literal">use</span>/<span class="literal">using</span>.</li>&#13;
<li class="noindent">JavaScript, Lua, R, and Perl have <span class="literal">require</span>/<span class="literal">requires</span>.</li>&#13;
<li class="noindent">C and C++ have <span class="literal">#include</span>.</li>&#13;
</ul>&#13;
<p class="indent"><a href="ch01.xhtml#ch01ex01">Listing 1-1</a> included <span class="literal">cstdio</span> <span class="ent">➊</span>, a library that performs input/output operations, such as printing<a id="_idTextAnchor002"/> to the console.</p>&#13;
<h3 class="h3" id="ch01lev1sec2"><strong>The Compiler Tool Chain</strong></h3>&#13;
<p class="noindent">After writing the source code for a C++ program, the next step is to turn your source code into an executable program. The <em>compiler tool chain</em> (or <em>tool chain</em>) is a collection of three elements that run one after the other to convert source code into a program:</p>&#13;
<ol>&#13;
<li class="noindent">The <strong>preprocessor</strong> performs basic source code manipulation. For example, <span class="literal">#include &lt;cstdio&gt;</span> <span class="ent">➊</span> is a directive that instructs the preprocessor to include information about the <span class="literal">cstdio</span> library directly into your program’s source code. When the preprocessor finishes processing a source file, it produces a single translation unit. Each translation unit is then passed to the compiler for further processing.</li>&#13;
<li class="noindent">The <strong>compiler</strong> reads a translation unit and generates an <em>object file</em>. Object files contain an intermediate format called object code. These files contain data and instructions in an intermediate format that most humans wouldn’t understand. Compilers work on one translation unit at a time, so each translation unit corresponds to a single object file.</li>&#13;
<li class="noindent">The <strong>linker</strong> generates programs from object files. Linkers are also responsible for finding the libraries you’ve included within your source code. When you compile <a href="ch01.xhtml#ch01ex01">Listing 1-1</a>, for example, the linker will find the <span class="literal">cstdio</span> library and include everything your program needs to use the <span class="literal">printf</span> function. Note that the <span class="literal">cstdio</span> header is distinct from the <span class="literal">cstdio</span> library. The header contains information about how to use the library. You’ll learn more about libraries and source code organization in <a href="ch21.xhtml#ch21">Chapter 21</a>.</li>&#13;
</ol>&#13;
<h4 class="h4" id="ch01lev2sec4"><strong><em><span epub:type="pagebreak" id="page_6"/>Setting Up Your Development Environment</em></strong></h4>&#13;
<p class="noindent">All C++ development environments contain a way to edit source code and a compiler tool chain to turn that source code into a program. Often, development environments also contain a <em>debugger</em>—an invaluable program that lets you step through a program line by line to find errors.</p>&#13;
<p class="indent">When all of these tools—the text editor, the compiler tool chain, and the debugger—are bundled into a single program, that program is called an <em>interactive development environment (IDE)</em>. For beginners and veterans alike, IDEs can be a huge productivity booster.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Unfortunately, C++ doesn’t have an interpreter with which to interactively execute C++ code snippets. This is different from other languages like Python, Ruby, and JavaScript, which do have interpreters. Some web applications exist that allow you to test and share small C++ code snippets. See Wandbox (</em><a href="https://wandbox.org/">https://wandbox.org/</a><em>), which allows you to compile and run code, and Matt Godbolt’s Compiler Explorer (</em><a href="https://www.godbolt.org/">https://www.godbolt.org/</a><em>), which allows you to inspect the assembly code that your code generates. Both work on a variety of compilers and systems.</em></p>&#13;
</div>&#13;
<p class="indent">Each operating system has its own source code editors and compiler tool chain, so this section is broken out by operating system. Skip to the one that is relevant to you.</p>&#13;
<h4 class="h4" id="ch01lev2sec5"><strong><em>Windows 10 and Later: Visual Studio</em></strong></h4>&#13;
<p class="noindent">At press time, the most popular C++ compiler for Microsoft Windows is the Microsoft Visual C++ Compiler (MSVC). The easiest way to obtain MSVC is to install the Visual Studio 2017 IDE as follows:</p>&#13;
<ol>&#13;
<li class="noindent">Download the Community version of Visual Studio 2017. A link is available at <a href="https://ccc.codes/"><em>https://ccc.codes/</em></a>.</li>&#13;
<li class="noindent">Run the installer, allowing it to update if required.</li>&#13;
<li class="noindent">At the Installing Visual Studio screen, ensure that <strong>Desktop Development with C++ Workload</strong> is selected.</li>&#13;
<li class="noindent">Click <strong>Install</strong> to install Visual Studio 2017 along with MSVC.</li>&#13;
<li class="noindent">Click <strong>Launch</strong> to launch Visual Studio 2017. The entire process might take several hours depending on the speed of your machine and your selections. Typical installations require 20GB to 50GB.</li>&#13;
</ol>&#13;
<p class="indent">Set up a new project:</p>&#13;
<ol>&#13;
<li class="noindent">Select <strong>File ▸ New ▸ Project</strong>.</li>&#13;
<li class="noindent">In <strong>Installed</strong>, click <strong>Visual C++</strong> and select <strong>General</strong>. Select <strong>Empty Project</strong> in the center panel.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_7"/>Enter <span class="codestrong">hello</span> as the name of your project. Your window should look like <a href="ch01.xhtml#ch01fig01">Figure 1-1</a>, but the Location will vary depending on your username. Click <strong>OK</strong>.&#13;
<div class="image"><img src="../images/fig1_1.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig01"><em>Figure 1-1: The Visual Studio 2017 New Project wizard</em></p></li>&#13;
<li class="noindent">In the <strong>Solution Explorer</strong> pane on the left side of the workspace, right-click the <strong>Source Files</strong> folder and select <strong>Add ▸ Existing Item</strong>. See <a href="ch01.xhtml#ch01fig02">Figure 1-2</a>.&#13;
<div class="image"><img src="../images/fig1_2.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig02"><em>Figure 1-2: Adding an existing source file to a Visual Studio 2017 project</em></p></li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_8"/>Select the <em>main.cpp</em> file that you created earlier in <a href="ch01.xhtml#ch01ex01">Listing 1-1</a>. (Alternatively, if you haven’t yet created this file, select <strong>New Item</strong> instead of <strong>Existing Item</strong>. Name the file <em>main.cpp</em> and type the contents of <a href="ch01.xhtml#ch01ex01">Listing 1-1</a> into the resulting editor window.)</li>&#13;
<li class="noindent">Select <strong>Build ▸ Build Solution</strong>. If any error messages appear in the output box, make sure you’ve typed <a href="ch01.xhtml#ch01ex01">Listing 1-1</a> correctly. If you still get error messages, read them carefully for hints.</li>&#13;
<li class="noindent">Select <strong>Debug ▸ Start Without Debugging</strong> or press <small>CTRL</small>-F5 to run your program. The letters <span class="literal">Hello, world!</span> should print to the console (followed by <span class="literal">Press Any Key to Continue</span>).</li>&#13;
</ol>&#13;
<h4 class="h4" id="ch01lev2sec6"><strong><em>macOS: Xcode</em></strong></h4>&#13;
<p class="noindent">If you’re running macOS, you should install the Xcode development environment.</p>&#13;
<ol>&#13;
<li class="noindent">Open the <strong>App Store</strong>.</li>&#13;
<li class="noindent">Search for and install the <strong>Xcode</strong> IDE. Installation might take more than an hour depending on the speed of your machine and internet connection. When installation is complete, open <strong>Terminal</strong> and navigate to the directory where you’ve saved <em>main.cpp</em>.</li>&#13;
<li class="noindent">Enter <span class="codestrong">clang++ main.cpp -o hello</span> in the Terminal to compile your program. The <span class="literal">-o</span> option tells the tool chain where to write the output. (If any compiler errors appear, check that you’ve entered the program correctly.)</li>&#13;
<li class="noindent">Enter <span class="codestrong">./hello</span> in the Terminal to run your program. The text <span class="literal">Hello, world!</span> should appear onscreen.</li>&#13;
</ol>&#13;
<p class="indent">To compile and run your program, open the Xcode IDE and follow these steps:</p>&#13;
<ol>&#13;
<li class="noindent">Select <strong>File ▸ New ▸ Project</strong>.</li>&#13;
<li class="noindent">Select <strong>macOS ▸ Command Line Tool</strong> and click <strong>Next</strong>. In the next dialog, you can modify where to create the project’s file directory. For now, accept the defaults and click <strong>Create</strong>.</li>&#13;
<li class="noindent">Name your project <span class="codestrong">hello</span> and set its <strong>Type</strong> to <strong>C++</strong>. See <a href="ch01.xhtml#ch01fig03">Figure 1-3</a>.</li>&#13;
<li class="noindent">You now need to import your code from <a href="ch01.xhtml#ch01ex01">Listing 1-1</a> into your project. An easy way to do this is to copy and paste the contents of <em>main.cpp</em> into your project’s <em>main.cpp</em>. Another way is to use Finder to replace your <em>main.cpp</em> into your project’s <em>main.cpp</em>. (Normally you won’t have to handle this when creating new projects. It’s just an artifact of this tutorial having to handle multiple operating environments.)</li>&#13;
<li class="noindent">Click <strong>Run</strong>.</li>&#13;
</ol>&#13;
<div class="image"><img src="../images/fig1_3.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig03"><em>Figure 1-3: The New Project dialog in Xcode</em></p>&#13;
<h4 class="h4" id="ch01lev2sec7"><strong><em>Linux and GCC</em></strong></h4>&#13;
<p class="noindent"><span epub:type="pagebreak" id="page_9"/>On Linux, you can choose between two main C++ compilers: GCC and Clang. At press time, the latest stable release is 9.1 and the latest major Clang release is 8.0.0. In this section, you’ll install both. Some users find the error messages from one to be more helpful than the other.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep">GCC <em>is an initialism for</em> GNU Compiler Collection. <em>GNU, pronounced “guh-NEW,” is a recursive acronym for “GNU’s Not Unix!” GNU is a Unix-like operating system and a collection of computer software.</em></p>&#13;
</div>&#13;
<p class="indent">Try to install GCC and Clang from your operating system’s package manager, but beware. Your default repositories might have old versions that may or may not have C++ 17 support. If your version doesn’t have C++ 17 support, you won’t be able to compile some examples in the book, so you’ll need to install updated versions of GCC or Clang. For brevity, this chapter covers how to do this on Debian and from source. You can either investigate how to perform corollary actions on your chosen Linux flavor or set up a development environment with one of the operating systems listed in this chapter.</p>&#13;
<h5 class="h5" id="ch01lev3sec1"><strong>Installing GCC and Clang on Debian</strong></h5>&#13;
<p class="noindent">Depending on what software the Personal Package Archives contain when you’re reading this chapter, you might be able to install GCC 8.1 <span epub:type="pagebreak" id="page_10"/>and Clang 6.0.0 directly using Advanced Package Tool (APT), which is Debian’s package manager. This section shows how to install GCC and Clang on Ubuntu 18.04, the latest LTS Ubuntu version at press time.</p>&#13;
<ol>&#13;
<li class="noindent">Open a terminal.</li>&#13;
<li class="noindent">Update and upgrade your currently installed packages:&#13;
<pre>$ <span class="codestrong1">sudo apt update &amp;&amp; sudo apt upgrade</span></pre>&#13;
</li>&#13;
<li class="noindent">Install GCC 8 and Clang 6.0:&#13;
<pre>$ <span class="codestrong1">sudo apt install g++-8 clang-6.0</span></pre>&#13;
</li>&#13;
<li class="noindent">Test GCC and Clang:&#13;
<pre>$ <span class="codestrong1">g++-8 --version</span>&#13;
g++-8 (Ubuntu 8-20180414-1ubuntu2) 8.0.1 20180414 (experimental) [trunk revision 259383]&#13;
Copyright (C) 2018 Free Software Foundation, Inc.&#13;
This is free software; see the source for copying conditions.There is NO&#13;
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR&#13;
PURPOSE.&#13;
$ <span class="codestrong1">clang++-6.0 --version</span>&#13;
clang version 6.0.0-1ubuntu2 (tags/RELEASE_600/final)&#13;
Target: x86_64-pc-linux-gnu&#13;
Thread model: posix&#13;
InstalledDir: /usr/bin</pre>&#13;
</li></ol>&#13;
<p class="indent">If either command returns an error stating that the command wasn’t found, the corresponding compiler did not install correctly. Try searching for information on the error you receive, especially in the documentation and forums for your respective package manager.</p>&#13;
<h5 class="h5" id="ch01lev3sec2"><strong>Installing GCC from Source</strong></h5>&#13;
<p class="noindent">If you can’t find the latest GCC or Clang versions with your package manager (or your Unix variant doesn’t have one), you can always install GCC from source. Note that this takes a lot of time (as much as several hours), and you might need to get your hands dirty: installation often runs into errors that you’ll need to research to resolve. To install GCC, follow the instructions available at <a href="https://gcc.gnu.org/"><em>https://gcc.gnu.org/</em></a>. This section summarizes the far more extensive documentation available on that site.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>For brevity, this tutorial doesn’t detail Clang installation. Refer to</em> <a href="https://clang.llvm.org/">https://clang.llvm.org/</a> <em>for more information.</em></p>&#13;
</div>&#13;
<p class="indent">To install GCC 8.1 from source, do the following:</p>&#13;
<ol>&#13;
<li class="noindent">Open a terminal.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_11"/>Update and upgrade your currently installed packages. For example, with APT you would issue the following command:&#13;
<pre>$ <span class="codestrong1">sudo apt update &amp;&amp; sudo apt upgrade</span></pre>&#13;
</li>&#13;
<li class="noindent">From one of the available mirrors at <a href="https://gcc.gnu.org/mirrors.html"><em>https://gcc.gnu.org/mirrors.html</em></a>, download the files <em>gcc-8.1.0.tar.gz</em> and <em>gcc-8.1.0.tar.gz.sig</em>. These files can be found in <em>releases/gcc-8.1.0</em>.</li>&#13;
<li class="noindent">(Optional) Verify the integrity of the package. First, import the relevant GnuPG keys. You can find these listed on the mirrors site. For example:&#13;
<pre>$ <span class="codestrong1">gpg --keyserver keyserver.ubuntu.com --recv C3C45C06</span>&#13;
gpg: requesting key C3C45C06 from hkp server keyserver.ubuntu.com&#13;
gpg: key C3C45C06: public key "Jakub Jelinek &lt;jakub@redhat.com&gt;" imported&#13;
gpg: key C3C45C06: public key "Jakub Jelinek &lt;jakub@redhat.com&gt;" imported&#13;
gpg: no ultimately trusted keys found&#13;
gpg: Total number processed: 2&#13;
gpg:               imported: 2  (RSA: 1)</pre>&#13;
<p class="indent">Verify what you downloaded:</p>&#13;
<pre>$ <span class="codestrong1">gpg --verify gcc-8.1.0.tar.gz.sig gcc-8.1.0.tar.gz</span>&#13;
gpg: Signature made Wed 02 May 2018 06:41:51 AM DST using DSA key ID C3C45C06&#13;
gpg: Good signature from "Jakub Jelinek &lt;jakub@redhat.com&gt;"&#13;
gpg: WARNING: This key is not certified with a trusted signature!&#13;
gpg:          There is no indication that the signature belongs to the&#13;
owner.&#13;
Primary key fingerprint: 33C2 35A3 4C46 AA3F FB29  3709 A328 C3A2 C3C4&#13;
5C06</pre>&#13;
<p class="indent">The warnings you see mean that I haven’t marked the signer’s certificate as trusted on my machine. To verify that the signature belongs to the owner, you’ll need to verify the signing key using some other means (for example, by meeting the owner in person or by verifying the primary key fingerprint out of band). For more information about GNU Privacy Guard (GPG), refer to <em>PGP &amp; GPG: Email for the Practical Paranoid</em> by Michael W. Lucas or browse to <a href="https://gnupg.org/download/integrity_check.html"><em>https://gnupg.org/download/integrity_check.html</em></a> for specific information about GPG’s integrity-checking facilities.</p></li>&#13;
<li class="noindent">Decompress the package (this command might take a few minutes):&#13;
<pre>$ <span class="codestrong1">tar xzf gcc-8.1.0.tar.gz</span></pre>&#13;
</li>&#13;
<li class="noindent">Navigate to the newly created <em>gcc-8.1.0</em> directory:&#13;
<pre>$ <span class="codestrong1">cd gcc-8.1.0</span></pre>&#13;
</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_12"/>Download GCC’s prerequisites:&#13;
<pre>$ <span class="codestrong1">./contrib/download_prerequisites</span>&#13;
--<span class="codeitalic1">snip</span>--&#13;
gmp-6.1.0.tar.bz2: OK&#13;
mpfr-3.1.4.tar.bz2: OK&#13;
mpc-1.0.3.tar.gz: OK&#13;
isl-0.18.tar.bz2: OK&#13;
All prerequisites downloaded successfully.</pre>&#13;
</li>&#13;
<li class="noindent">Configure GCC using the following commands:&#13;
<pre>$ <span class="codestrong1">mkdir objdir</span>&#13;
$ <span class="codestrong1">cd objdir</span>&#13;
$ <span class="codestrong1">../configure --disable-multilib</span>&#13;
checking build system type... x86_64-pc-linux-gnu&#13;
checking host system type... x86_64-pc-linux-gnu&#13;
--<span class="codeitalic1">snip</span>--&#13;
configure: creating ./config.status&#13;
config.status: creating Makefile</pre>&#13;
<p class="indent">Instructions are available at <em><a href="https://gcc.gnu.org/install/configure.html">https://gcc.gnu.org/install/configure.html</a></em>.</p></li>&#13;
<li class="noindent">Build the GCC binaries (perhaps do this overnight, because it can take hours):&#13;
<pre>$ <span class="codestrong1">make</span></pre>&#13;
<p class="indent">Full instructions are available at <em><a href="https://gcc.gnu.org/install/build.html">https://gcc.gnu.org/install/build.html</a></em>.</p></li>&#13;
<li class="noindent">Test whether your GCC binaries built correctly:&#13;
<pre>$ <span class="codestrong1">make -k check</span></pre>&#13;
<p class="indent">Full instructions are available at <em><a href="https://gcc.gnu.org/install/test.html">https://gcc.gnu.org/install/test.html</a></em>.</p></li>&#13;
<li class="noindent">Install GCC:&#13;
<pre>$ <span class="codestrong1">make install</span></pre>&#13;
<p class="indent">This command places a handful of binaries into your operating system’s default executable directory, which is usually <em>/usr/local/bin</em>. Full instructions are available at <em><a href="https://gcc.gnu.org/install/">https://gcc.gnu.org/install/</a></em>.</p></li>&#13;
<li class="noindent">Verify that GCC installed correctly by issuing the following command:&#13;
<pre>$ <span class="codestrong1">x86_64-pc-linux-gnu-gcc-8.1.0 --version</span></pre>&#13;
<p class="indent">If you get an error indicating that the command was not found, your installation did not succeed. Refer to the gcc-help mailing list at <em><a href="https://gcc.gnu.org/ml/gcc-help/">https://gcc.gnu.org/ml/gcc-help/</a></em>.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><span epub:type="pagebreak" id="page_13"/><em>You might want to alias the cumbersome <span class="literal">x86_64-pc-linux-gnu-gcc-8.1.0</span> to something like <span class="literal">g++8</span>, for example, using a command like this:</em></p>&#13;
</div>&#13;
<pre>$ <span class="codestrong1">sudo ln -s /usr/local/bin/x86_64-pc-linux-gnu-gcc-8.1.0 /usr/local/bin/g++8</span></pre>&#13;
</li>&#13;
<li class="noindent">Navigate to the directory where you’ve saved <em>main.cpp</em> and compile your program with GCC:&#13;
<pre>$ <span class="codestrong1">x86_64-pc-linux-gnu-gcc-8.1.0 main.cpp -o hello</span></pre>&#13;
</li>&#13;
<li class="noindent">The <span class="literal">-o</span> flag is optional; it tells the compiler what to name the resulting program. Because you specified the program name as <span class="literal">hello</span>, you should be able to run your program by entering <span class="codestrong">./hello</span>. If any compiler errors appear, ensure that you input the program’s text correctly. (The compiler errors should help you determine what went wrong.)</li>&#13;
</ol>&#13;
<h4 class="h4" id="ch01lev2sec8"><strong><em>Text Editors</em></strong></h4>&#13;
<p class="noindent">If you’d rather not work with one of the aforementioned IDEs, you can write C++ code using a simple text editor like Notepad (Windows), TextEdit (Mac), or Vim (Linux); however, a number of excellent editors are designed specifically for C++ development. Choose the environment that makes you most productive.</p>&#13;
<p class="indent">If you’re running Windows or macOS, you already have a high-quality, fully featured IDE at your disposal, namely Visual Studio or Xcode. Linux options include Qt Creator (<em><a href="https://www.qt.io/ide/">https://www.qt.io/ide/</a></em>), Eclipse CDT (<em><a href="https://eclipse.org/cdt/">https://eclipse.org/cdt/</a></em>), and JetBrains’s CLion (<em><a href="https://www.jetbrains.com/clion/">https://www.jetbrains.com/clion/</a></em>). If you’re a Vim or Emacs user, you’ll find plenty of C++ plug-ins.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>If cross-platform C++ is important to you, I highly recommend taking a look at Jetbrains’s CLion. Although CLion is a paid product, unlike many of its competitors, at press time Jetbrains does offer reduced-price and free licenses for students and open source project maintainers.</em></p>&#13;
</div>&#13;
<h3 class="h3" id="ch01lev1sec3"><strong>Bootstrapping C++</strong></h3>&#13;
<p class="noindent">This section gives you just enough context to support the example code in the chapters to come. You’ll have questions about the details, and the coming chapters will answer them. Until then, don’t panic!</p>&#13;
<h4 class="h4" id="ch01lev2sec9"><strong><em>The C++ Type System</em></strong></h4>&#13;
<p class="noindent">C++ is an object-oriented language. Objects are abstractions with state and behavior. Think of a real-world object, such as a light switch. You can describe its <em>state</em> as the condition that the switch is in. Is it on or off? What is the maximum voltage it can handle? What room in the house is it in? You could also <span epub:type="pagebreak" id="page_14"/>describe the switch’s <em>behavior</em>. Does it toggle from one state (on) to another state (off)? Or is it a dimmer switch, which can be set to many different states between on and off?</p>&#13;
<p class="indent">The collection of behaviors and states describing an object is called its <em>type</em>. C++ is a <em>strongly typed language</em>, meaning each object has a predefined data type.</p>&#13;
<p class="indent">C++ has a built-in integer type called <span class="literal">int</span>. An <span class="literal">int</span> object can store whole numbers (its state), and it supports many math operations (its behavior).</p>&#13;
<p class="indent">To perform any meaningful tasks with <span class="literal">int</span> types, you’ll create some <span class="literal">int</span> objects and name them. Named objects are called <em>variables</em>.</p>&#13;
<h4 class="h4" id="ch01lev2sec10"><strong><em>Declaring Variables</em></strong></h4>&#13;
<p class="noindent">You declare variables by providing their type, followed by their name, followed by a semicolon. The following example declares a variable called <span class="literal">the_answer</span> with type <span class="literal">int</span>:</p>&#13;
<pre>int<span class="ent">➊</span> the_answer<span class="ent">➋</span>;</pre>&#13;
<p class="indent">The type, <span class="literal">int</span> <span class="ent">➊</span>, is followed by the variable name, <span class="literal">the_answer</span> <span class="ent">➋</span>.</p>&#13;
<h4 class="h4" id="ch01lev2sec11"><strong><em>Initializing a Variable’s State</em></strong></h4>&#13;
<p class="noindent">When you declare variables, you initialize them. <em>Object initialization</em> establishes an object’s initial state, such as setting its value. We’ll delve into the details of initialization in <a href="ch02.xhtml#ch02">Chapter 2</a>. For now, you can use the equal sign (<span class="literal">=</span>) following a variable declaration to set the variable’s initial value. For example, you could declare and assign <span class="literal">the_answer</span> in one line:</p>&#13;
<pre>int the_answer = 42;</pre>&#13;
<p class="indent">After running this line of code, you have a variable called <span class="literal">the_answer</span> with type <span class="literal">int</span> and value 42. You can assign variables equal to the result of math expressions, such as:</p>&#13;
<pre>int lucky_number = the_answer / 6;</pre>&#13;
<p class="indent">This line evaluates the expression <span class="literal">the_answer / 6</span> and assigns the result to <span class="literal">lucky_number</span>. The <span class="literal">int</span> type supports many other operations, such as addition <span class="literal">+</span>, subtraction <span class="literal">-</span>, multiplication <span class="literal">*</span>, and modulo division <span class="literal">%</span>.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>If you aren’t familiar with modulo division or are wondering what happens when you divide two integers and there’s a remainder, you’re asking great questions. And those great questions will be answered in detail in <a href="ch07.xhtml#ch07">Chapter 7</a>.</em></p>&#13;
</div>&#13;
<h4 class="h4" id="ch01lev2sec12"><span epub:type="pagebreak" id="page_15"/><strong><em>Conditional Statements</em></strong></h4>&#13;
<p class="noindent"><em>Conditional statements</em> allow you to make decisions in your programs. These decisions rest on Boolean expressions, which evaluate to true or false. For example, you can use <em>comparison operators</em>, such as “greater than” or “not equal to,” to build Boolean expressions.</p>&#13;
<p class="indent">Some basic comparison operators that work with <span class="literal">int</span> types appear in the program in <a href="ch01.xhtml#ch01ex02">Listing 1-2</a>.</p>&#13;
<pre>int main() {&#13;
  int x = 0;&#13;
  42  == x;  // Equality&#13;
  42  != x;  // Inequality&#13;
  100 &gt;  x;  // Greater than&#13;
  123 &gt;= x;  // Greater than or equal to&#13;
  -10 &lt;  x;  // Less than&#13;
  -99 &lt;= x;  // Less than or equal to&#13;
}</pre>&#13;
<p class="listing"><a id="ch01ex02"/><em>Listing 1-2: A program using comparison operators</em></p>&#13;
<p class="indent">This program produces no output (compile and run <a href="ch01.xhtml#ch01ex02">Listing 1-2</a> to verify this). While the program doesn’t produce any output, compiling it helps to verify that you’ve written valid C++. To generate more interesting programs, you’d use a conditional statement like <span class="literal">if</span>.</p>&#13;
<p class="indent">An <span class="literal">if</span> statement contains a Boolean expression and one or more nested statements. Depending on whether the Boolean evaluates to true or false, the program decides which nested statement to execute. There are several forms of <span class="literal">if</span> statements, but the basic usage follows:</p>&#13;
<pre><span class="codestrong1">if</span> (<span class="ent">➊</span><span class="codeitalic1">boolean-expression</span>) <span class="ent">➋</span><span class="codeitalic1">statement</span></pre>&#13;
<p class="indent">If the Boolean expression <span class="ent">➊</span> is true, the nested statement <span class="ent">➋</span> executes; otherwise, it doesn’t.</p>&#13;
<p class="indent">Sometimes, you’ll want a group of statements to run rather than a single statement. Such a group is called a <em>compound statement</em>. To declare a compound statement, simply wrap the group of statements in braces <span class="literal">{ }</span>. You can use compound statements within <span class="literal">if</span> statements as follows:</p>&#13;
<pre>if (<span class="ent">➊</span><span class="codeitalic1">boolean-expression</span>) { <span class="ent">➋</span>&#13;
  <span class="codeitalic1">statement1</span>;&#13;
  <span class="codeitalic1">statement2</span>;&#13;
  --<span class="codeitalic1">snip</span>--&#13;
}</pre>&#13;
<p class="indent">If the Boolean expression <span class="ent">➊</span> is true, all the statements in the compound statement <span class="ent">➋</span> execute; otherwise, none of them do.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_16"/>You can elaborate the <span class="literal">if</span> statement using <span class="literal">else if</span> and <span class="literal">else</span> statements. These optional additions allow you to describe more complicated branching behavior, as shown in <a href="ch01.xhtml#ch01ex03">Listing 1-3</a>.</p>&#13;
<pre><span class="ent">➊</span> if (<span class="codeitalic1">boolean-expression-1</span>) <span class="codeitalic1">statement-1</span>&#13;
<span class="ent">➋</span> else if (<span class="codeitalic1">boolean-expression-2</span>) <span class="codeitalic1">statement-2</span>&#13;
<span class="ent">➌</span> else <span class="codeitalic1">statement-3</span></pre>&#13;
<p class="listing"><a id="ch01ex03"/><em>Listing 1-3: An <span class="literal">if</span> statement with <span class="literal">else if</span> and <span class="literal">else</span> branches</em></p>&#13;
<p class="indent">First, <span class="codeitalic">boolean-expression-1</span> <span class="ent">➊</span> is evaluated. If <span class="codeitalic">boolean-expression-1</span> is true, <span class="codeitalic">statement-1</span> is evaluated, and the <span class="literal">if</span> statement stops executing. If <span class="codeitalic">boolean-expression-1</span> is false, <span class="codeitalic">boolean-expression-2</span> <span class="ent">➋</span> is evaluated. If true, <span class="codeitalic">statement-2</span> is evaluated. Otherwise, <span class="codeitalic">statement-3</span> <span class="ent">➌</span> is evaluated. Note that <span class="codeitalic">statement-1</span>, <span class="codeitalic">statement-2</span>, and <span class="codeitalic">statement-3</span> are mutually exclusive and together they cover all possible outcomes of the <span class="literal">if</span> statement. Only one of the three will be evaluated.</p>&#13;
<p class="indent">You can include any number of <span class="literal">else if</span> clauses or omit them entirely. As with the initial <span class="literal">if</span> statement, the Boolean expression for each <span class="literal">else if</span> clause is evaluated in order. When one of these Boolean expressions evaluates to <span class="literal">true</span>, evaluation stops and the corresponding statement executes. If no <span class="literal">else if</span> evaluates to <span class="literal">true</span>, the <span class="literal">else</span> clause’s <span class="codeitalic">statement-3</span> <em>always</em> executes. (As with the <span class="literal">else if</span> clauses, the <span class="literal">else</span> is optional.)</p>&#13;
<p class="indent">Consider <a href="ch01.xhtml#ch01ex04">Listing 1-4</a>, which uses an <span class="literal">if</span> statement to determine which statement to print.</p>&#13;
<pre>#include &lt;cstdio&gt;&#13;
&#13;
int main() {&#13;
  int x = 0; <span class="ent">➊</span>&#13;
  if (x &gt; 0) printf("Positive.");&#13;
  else if (x &lt; 0) printf("Negative.");&#13;
  else printf("Zero.");&#13;
}&#13;
-----------------------------------------------------------------------&#13;
<span class="color1">Zero.</span></pre>&#13;
<p class="listing"><a id="ch01ex04"/><em>Listing 1-4: A program with conditional behavior</em></p>&#13;
<p class="indent">Compile the program and run it. Your result should also be <span class="literal">Zero</span>. Now change the <span class="literal">x</span> value <span class="ent">➊</span>. What does the program print now?</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Notice that <span class="literal">main</span> in <a href="ch01.xhtml#ch01ex04">Listing 1-4</a> omits a return statement. Because <span class="literal">main</span> is a special function, return statements are optional.</em></p>&#13;
</div>&#13;
<h4 class="h4" id="ch01lev2sec13"><strong><em>Functions</em></strong></h4>&#13;
<p class="noindent">Functions are blocks of code that accept any number of input objects called <em>parameters</em> or <em>arguments</em> and can return output objects to their callers.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_17"/>You declare functions according to the general syntax shown in <a href="ch01.xhtml#ch01ex05">Listing 1-5</a>.</p>&#13;
<pre><span class="codeitalic1">return-type</span><span class="ent">➊</span> <span class="codeitalic1">function_name</span><span class="ent">➋</span>(<span class="codeitalic1">par-type1 par_name1</span><span class="ent">➌</span>, <span class="codeitalic1">par-type2</span> <span class="codeitalic1">par_name2</span><span class="ent">➍</span>) {&#13;
  --<span class="codeitalic1">snip</span>--&#13;
  return<span class="ent">➎</span> <span class="codeitalic1">return-value</span>;&#13;
}</pre>&#13;
<p class="listing"><a id="ch01ex05"/><em>Listing 1-5: The general syntax for a C++ function</em></p>&#13;
<p class="indent">The first part of this function declaration is the type of the return variable <span class="ent">➊</span>, such as <span class="literal">int</span>. When the function returns a value <span class="ent">➎</span>, the type of <span class="literal">return-value</span> must match <span class="literal">return-type</span>.</p>&#13;
<p class="indent">Then you declare the function’s name <span class="ent">➋</span> after declaring the return type. A set of parentheses following the function name contains any number of comma-separated input parameters that the function requires. Each parameter also has a type and a name.</p>&#13;
<p class="indent"><a href="ch01.xhtml#ch01ex05">Listing 1-5</a> has two parameters. The first parameter <span class="ent">➌</span> has type <span class="literal">par-type1</span> and is named <span class="literal">par_name1</span>, and the second parameter <span class="ent">➍</span> has type <span class="literal">par-type2</span> and is named <span class="literal">par_name2</span>. Parameters represent the objects passed into a function.</p>&#13;
<p class="indent">A set of braces following that list contains the function’s body. This is a compound statement that contains the function’s logic. Within this logic, the function might decide to return a value to the function’s caller. Functions that return values will have one or more <span class="literal">return</span> statements. Once a function returns, it stops executing, and the flow of the program returns to whatever called the function. Let’s look at an example.</p>&#13;
<h5 class="h5" id="ch01lev3sec3"><strong>Example: A Step Function</strong></h5>&#13;
<p class="noindent">For demonstration purposes, this section shows how to build a mathematical function called <span class="literal">step_function</span> that returns <span class="literal">-1</span> for all negative arguments, <span class="literal">0</span> for a zero-valued argument, and <span class="literal">1</span> for all positive arguments. <a href="ch01.xhtml#ch01ex06">Listing 1-6</a> shows how you might write the <span class="literal">step_function</span>.</p>&#13;
<pre>int step_function(int <span class="ent">➊</span>x) {&#13;
  int result <a id="_idTextAnchor025"/><a id="_idTextAnchor026"/>= 0; <span class="ent">➋</span>&#13;
  if (x &lt; 0) {&#13;
    result = -1; <span class="ent">➌</span>&#13;
  } else if (x &gt; 0) {&#13;
    result = 1; <span class="ent">➍</span>&#13;
  }&#13;
  return result; <span class="ent">➎</span>&#13;
}</pre>&#13;
<p class="listing"><a id="ch01ex06"/><em>Listing 1-6: A step function that returns <span class="literal">-1</span> for negative values, <span class="literal">0</span> for zero, and <span class="literal">1</span> for positive values</em></p>&#13;
<p class="indent">The <span class="literal">step_function</span> takes a single argument <span class="literal">x</span> <span class="ent">➊</span>. The <span class="literal">result</span> variable is declared and initialized to <span class="literal">0</span> <span class="ent">➋</span>. Next, the <span class="literal">if</span> statement sets <span class="literal">result</span> to <span class="literal">-1</span> <span class="ent">➌</span> if <span class="literal">x</span> is less than <span class="literal">0</span>. If <span class="literal">x</span> is greater than <span class="literal">0</span>, the <span class="literal">if</span> statement sets <span class="literal">result</span> to <span class="literal">1</span> <span class="ent">➍</span>. Finally, <span class="literal">result</span> is returned to the caller <span class="ent">➎</span>.</p>&#13;
<h5 class="h5" id="ch01lev3sec4"><span epub:type="pagebreak" id="page_18"/><strong>Calling Functions</strong></h5>&#13;
<p class="noindent">To call (or <em>invoke</em>) a function, you use the name of the desired function, parentheses, and a comma-separated list of the required parameters. The compiler reads files from top to bottom, so the function’s declaration must appear before its point of first use.</p>&#13;
<p class="indent">Consider the program in <a href="ch01.xhtml#ch01ex07">Listing 1-7</a>, which uses the <span class="literal">step_function</span>.</p>&#13;
<pre>int step_function(int x) {&#13;
  --<span class="codeitalic1">snip</span>--&#13;
}&#13;
&#13;
int main() {&#13;
  int value1 = step_function(100); // value1 is  1&#13;
  int value2 = step_function(0);   // value2 is  0&#13;
  int value3 = step_function(-10); // value3 is -1&#13;
}</pre>&#13;
<p class="listing"><a id="ch01ex07"/><em>Listing 1-7: A program using the <span class="literal">step_function</span>. (This program produces no output.)</em></p>&#13;
<p class="indent"><a href="ch01.xhtml#ch01ex07">Listing 1-7</a> calls <span class="literal">step_function</span> three times with different arguments and assigns the results to the variables <span class="literal">value1</span>, <span class="literal">value2</span>, and <span class="literal">value3</span>.</p>&#13;
<p class="indent">Wouldn’t it be nice if you could print these values? Fortunately, you can use the <span class="literal">printf</span> function to build output from different variables. The trick is to use <span class="literal">printf</span> format specifiers.</p>&#13;
<h4 class="h4" id="ch01lev2sec14"><strong><em>printf Format Specifiers</em></strong></h4>&#13;
<p class="noindent">In addition to printing constant strings (like <span class="literal">Hello, world!</span> in <a href="ch01.xhtml#ch01ex01">Listing 1-1</a>), <span class="literal">printf</span> can combine multiple values into a nicely formatted string; it is a special kind of function that can take one or more arguments.</p>&#13;
<p class="indent">The first argument to <span class="literal">printf</span> is always a <em>format string</em>. The format string provides a template for the string to be printed, and it contains any number of special <em>format specifiers</em>. Format specifiers tell <span class="literal">printf</span> how to interpret and format the arguments following the format string. All format specifiers begin with <span class="literal">%</span>.</p>&#13;
<p class="indent">For example, the format specifier for an <span class="literal">int</span> is <span class="literal">%d</span>. Whenever <span class="literal">printf</span> sees a <span class="literal">%d</span> in the format string, it knows to expect an <span class="literal">int</span> argument following the format specifier. Then <span class="literal">printf</span> replaces the format specifier with the argument’s actual value.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>The <span class="literal">printf</span> function is a derivative of the <span class="literal">writef</span> function offered in BCPL, a defunct programming language designed by Martin Richards in 1967. Providing the specifiers <span class="literal">%H</span>, <span class="literal">%I</span>, and <span class="literal">%O</span> to <span class="literal">writef</span> resulted in hexadecimal, decimal, and octal output via the functions <span class="literal">WRITEHEX</span>, <span class="literal">WRITED</span>, and <span class="literal">WRITEOCT</span>. It’s unclear where the <span class="literal">%d</span> specifier comes from (perhaps the D in <span class="literal">WRITED</span>?), but we’re stuck with it.</em></p>&#13;
</div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_19"/>Consider the following <span class="literal">printf</span> call, which prints the string <span class="literal">Ten 10, Twenty 20, Thirty 30</span>:</p>&#13;
<pre>printf("Ten %d<span class="ent">➊</span>, Twenty %d<span class="ent">➋</span>, Thirty %d<span class="ent">➌</span>", 10<span class="ent">➍</span>, 20<span class="ent">➎</span>, 30<span class="ent">➏</span>);</pre>&#13;
<p class="indent">The first argument, <span class="literal">"Ten %d, Twenty %d, Thirty %d"</span>, is the format string. Notice that there are three format specifiers <span class="literal">%d</span> <span class="ent">➊</span> <span class="ent">➋</span> <span class="ent">➌</span>. There are also three arguments after the format string <span class="ent">➍</span> <span class="ent">➎</span> <span class="ent">➏</span>. When <span class="literal">printf</span> builds the output, it replaces the argument at <span class="ent">➊</span> with the one at <span class="ent">➍</span>, the argument at <span class="ent">➋</span> with the one at <span class="ent">➎</span>, and the argument at <span class="ent">➌</span> with the one at <span class="ent">➏</span>.</p>&#13;
<div class="box4" id="bm01">&#13;
<p class="boxtitle-d"><strong>IOSTREAMS, PRINTF, AND INPUT OUTPUT PEDAGOGY</strong></p>&#13;
<p class="noindent">People have really strong opinions about which standard output method to teach C++ newcomers. One option is <span class="literal">printf</span>, which has a lineage that traces back to C. Another option is <span class="literal">cout</span>, which is part of the C++ standard library’s <span class="literal">iostream</span> library. This book teaches both: <span class="literal">printf</span> in <a href="part01.xhtml#part01">Part I</a> and <span class="literal">cout</span> in <a href="part02.xhtml#part02">Part II</a>. Here’s why.</p>&#13;
<p class="indent">This book builds your C++ knowledge brick by brick. Each chapter is designed sequentially so you don’t need a leap of faith to understand code examples. More or less, you’ll know exactly what every line does. Because <span class="literal">printf</span> is fairly primitive, you’ll have enough knowledge by <a href="ch03.xhtml#ch03">Chapter 3</a> to know exactly how it works.</p>&#13;
<p class="indent">In contrast, <span class="literal">cout</span> involves a whole lot of C++ concepts, and you won’t have sufficient background to understand how it works until the end of <a href="part01.xhtml#part01">Part I</a>. (What’s a stream buffer? What’s <span class="literal">operator&lt;&lt;</span>? What’s a method? How does <span class="literal">flush()</span> work? Wait, <span class="literal">cout</span> flushes automatically in the destructor? What’s a destructor? What’s <span class="literal">setf</span>? Actually, what’s a format flag? A <span class="literal">BitmaskType</span>? Oh my, what’s a manipulator? And so on.)</p>&#13;
<p class="indent">Of course, <span class="literal">printf</span> has issues, and once you’ve learned <span class="literal">cout</span>, you should prefer it. With <span class="literal">printf</span> you can easily introduce mismatches between format specifiers and arguments, and this can cause strange behavior, program crashes, and even security vulnerabilities. Using <span class="literal">cout</span> means you don’t need format strings, so you don’t need to remember format specifiers. You’ll never get mismatches between format strings and arguments. Iostreams are also <em>extensible</em>, meaning you can integrate input and output functionality into your own types.</p>&#13;
<p class="indent">This book teaches modern C++ directly, but on this particular topic it compromises a bit of modernist dogma in exchange for a deliberate, linear approach. As an ancillary benefit, you’ll be prepared to encounter <span class="literal">printf</span> specifiers, which is likely to happen at some point in your programming career. Most languages, such as C, Python, Java, and Ruby, have facilities for <span class="literal">printf</span> specifiers, and there are analogs in C#, JavaScript, and other languages.</p>&#13;
</div>&#13;
<h4 class="h4" id="ch01lev2sec15"><strong><em><span epub:type="pagebreak" id="page_20"/>Revisiting step_function</em></strong></h4>&#13;
<p class="noindent">Let’s look at another example that uses <span class="literal">step_function</span>. <a href="ch01.xhtml#ch01ex08">Listing 1-8</a> incorporates variable declarations, function calls, and <span class="literal">printf</span> format specifiers.</p>&#13;
<pre>#include &lt;cstdio&gt; <span class="ent">➊</span>&#13;
&#13;
int step_function(int x) { <span class="ent">➋</span>&#13;
  --<span class="codeitalic1">snip</span>--&#13;
}&#13;
&#13;
int main() { <span class="ent">➌</span>&#13;
    int num1 = 42; <span class="ent">➍</span>&#13;
    int result1 = step_function(num1); <span class="ent">➎</span>&#13;
&#13;
    int num2 = 0;&#13;
    int result2 = step_function(num2);&#13;
&#13;
    int num3 = -32767;&#13;
    int result3 = step_function(num3);&#13;
&#13;
    printf("Num1: %d, Step: %d\n", num1, result1); <span class="ent">➏</span>&#13;
    printf("Num2: %d, Step: %d\n", num2, result2);&#13;
    printf("Num3: %d, Step: %d\n", num3, result3);&#13;
&#13;
    return 0;&#13;
}&#13;
--------------------------------------------------------------------------&#13;
<span class="color1">Num1: 42, Step: 1 <span class="ent">➏</span></span>&#13;
<span class="color1">Num2: 0, Step: 0</span>&#13;
<span class="color1">Num3: -32767, Step: -1</span></pre>&#13;
<p class="listing"><a id="ch01ex08"/><em>Listing 1-8: A program that prints the results of applying <span class="literal">step_function</span> to several integers</em></p>&#13;
<p class="indent">Because the program uses <span class="literal">printf</span>, <span class="literal">cstdio</span> <span class="ent">➊</span> is included. The <span class="literal">step_function</span> <span class="ent">➋</span> is defined so you can use it later in the program, and <span class="literal">main</span> <span class="ent">➌</span> establishes the defined entry point.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Some listings in this book will build on one another. To save trees, you’ll see the use of the <span class="literal">--snip--</span> notation to denote no changes to the reused portion.</em></p>&#13;
</div>&#13;
<p class="indent">Inside <span class="literal">main</span>, you initialize a few <span class="literal">int</span> types, like <span class="literal">num1</span> <span class="ent">➍</span>. Next, you pass these variables to <span class="literal">step_function</span> and initialize result variables to store the returned values, like <span class="literal">result1</span> <span class="ent">➎</span>.</p>&#13;
<p class="indent">Finally, you print the returned values by invoking <span class="literal">printf</span>. Each invocation starts with a format string, like <span class="literal">"Num1: %d, Step: %d\n"</span> <span class="ent">➏</span>. There are two <span class="literal">%d</span> format specifiers embedded in each format string. Per the requirements of <span class="literal">printf</span>, there are two parameters following the format string, <span class="literal">num1</span> and <span class="literal">result1</span>, that correspond to these two format specifiers.</p>&#13;
<h4 class="h4" id="ch01lev2sec16"><span epub:type="pagebreak" id="page_21"/><strong><em>Comments</em></strong></h4>&#13;
<p class="noindent"><em>Comments</em> are human-readable annotations that you can place into your source code. You can add comments to your code using the notation <span class="literal">//</span> or <span class="literal">/**/</span>. The <span class="literal">//</span> symbol tells the compiler to ignore everything from the first forward slash to the next newline, which means you can put comments in-line with your code as well as on their own lines:</p>&#13;
<pre>// This comment is on its own line&#13;
int the_answer = 42; // This is an in-line comment</pre>&#13;
<p class="indent">You can use the <span class="literal">/**/</span> notation to include multiline comments in your code:</p>&#13;
<pre>/*&#13;
 *  This is a comment&#13;
 *  That lives on multiple lines&#13;
 *  Don’t forget to close&#13;
 */</pre>&#13;
<p class="indent">The comment starts with <span class="literal">/*</span> and ends with <span class="literal">*/</span>. (The asterisks on the lines between the starting and ending forward slash are optional but are commonly used.)</p>&#13;
<p class="indent">When to use comments is a matter of eternal debate. Some programming luminaries suggest that code should be so expressive and self-explanatory as to render comments largely unnecessary. They might say that descriptive variable names, short functions, and good tests are usually all the documentation you need. Other programmers like to place comments all over the place.</p>&#13;
<p class="indent">You can cultivate your own philosophy. The compiler will totally ignore whatever you do because it never interprets comments.</p>&#13;
<h3 class="h3" id="ch01lev1sec4"><strong>Debugging</strong></h3>&#13;
<p class="noindent">One of the most important skills for a software engineer is efficient, effective debugging. Most development environments have debugging tools. On Windows, macOS, and Linux, the debugging tools are excellent. Learning to use them well is an investment that pays off very quickly. This section provides a quick tour of how to use a debugger to step through the program in <a href="ch01.xhtml#ch01ex08">Listing 1-8</a>. You can skip to whichever environment is most relevant to you.</p>&#13;
<h4 class="h4" id="ch01lev2sec17"><strong><em>Visual Studio</em></strong></h4>&#13;
<p class="noindent">Visual Studio has an excellent, built-in debugger. I suggest that you debug programs in its <em>Debug</em> configuration. This causes the tool chain to build a target that enhances the debugging experience. The only reason to debug in <em>Release</em> mode is to diagnose some rare conditions that occur in Release mode but not in Debug mode.</p>&#13;
<ol>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_22"/>Open <em>main.cpp</em> and locate the first line of <span class="literal">main</span>.</li>&#13;
<li class="noindent">Click the margin just to the left of the line number corresponding to the first line of <span class="literal">main</span> to insert a breakpoint. A red circle appears where you clicked, as shown in <a href="ch01.xhtml#ch01fig04">Figure 1-4</a>.&#13;
<div class="image"><img src="../images/fig1_4.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig04"><em>Figure 1-4: Inserting a breakpoint</em></p></li>&#13;
<li class="noindent">Select <strong>Debug ▸ Start Debugging</strong>. The program will run up to the line where you’ve inserted a breakpoint. The debugger will halt program execution, and a yellow arrow will appear to indicate the next instruction to be run, as shown in <a href="ch01.xhtml#ch01fig05">Figure 1-5</a>.&#13;
<div class="image"><img src="../images/fig1_5.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig05"><em>Figure 1-5: The debugger halts execution at the breakpoint.</em></p></li>&#13;
<li class="noindent">Select <strong>Debug ▸ Step Over</strong>. The step over operation executes the instruction without “stepping into” any function calls. By default, the keyboard shortcut for step over is F10.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_23"/>Because the next line calls <span class="literal">step_function</span>, select <strong>Debug ▸ Step Into</strong> to call <span class="literal">step_function</span> and break on the first line. You can continue debugging this function by stepping into/over its instructions. By default, the keyboard shortcut for step into is F11.</li>&#13;
<li class="noindent">To allow execution to return to <span class="literal">main</span>, select <strong>Debug ▸ Step Out</strong>. By default, the keyboard shortcut for this operation is <small>SHIFT</small>-F11.</li>&#13;
<li class="noindent">Inspect the Autos window by selecting <strong>Debug ▸ Windows ▸ Auto</strong>. You can see the current value of some of the important variables, as shown in <a href="ch01.xhtml#ch01fig06">Figure 1-6</a>.&#13;
<div class="image"><img src="../images/fig1_6.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig06"><em>Figure 1-6: The Autos window shows the values of variables at the current breakpoint.</em></p>&#13;
<p class="indent">You can see <span class="literal">num1</span> is set to 42 and <span class="literal">result1</span> is set to 1. Why does <span class="literal">num2</span> have a gibberish value? Because the initialization to 0 hasn’t happened yet: it’s the next instruction to execute.</p></li>&#13;
</ol>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>The debugger has just emphasized a very important low-level detail: allocating an object’s storage and initializing an object’s value are two distinct steps. You’ll learn more about storage allocation and object initialization in <a href="ch04.xhtml#ch04">Chapter 4</a>.</em></p>&#13;
</div>&#13;
<p class="indent">The Visual Studio debugger supports many more features. For more information, check out the Visual Studio documentation link available at <em><a href="https://ccc.codes/">https://ccc.codes/</a></em>.</p>&#13;
<h4 class="h4" id="ch01lev2sec18"><strong><em>Xcode</em></strong></h4>&#13;
<p class="noindent">Xcode also has an excellent, built-in debugger that’s completely integrated into the IDE.</p>&#13;
<ol>&#13;
<li class="noindent">Open <em>main.cpp</em> and locate the first line of <span class="literal">main</span>.</li>&#13;
<li class="noindent">Click the first line and then select <strong>Debug ▸ Breakpoints ▸ Add Breakpoint at Current Line</strong>. A breakpoint appears, as shown in <a href="ch01.xhtml#ch01fig07">Figure 1-7</a>.&#13;
<div class="image"><img src="../images/fig1_7.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig07"><em>Figure 1-7: Inserting a breakpoint</em></p></li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_24"/>Select <strong>Run</strong>. The program will run up to the line with the inserted breakpoint. The debugger will halt program execution, and a green arrow will appear to indicate the next instruction to be run, as shown in <a href="ch01.xhtml#ch01fig08">Figure 1-8</a>.&#13;
<div class="image"><img src="../images/fig1_8.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig08"><em>Figure 1-8: The debugger halts execution at the breakpoint.</em></p></li>&#13;
<li class="noindent">Select <strong>Debug ▸ Step Over</strong> to execute the instruction without “stepping into” any function calls. By default, the keyboard shortcut for step over is F6.</li>&#13;
<li class="noindent">Because the next line calls <span class="literal">step_function</span>, select <strong>Debug ▸ Step Into</strong> to call <span class="literal">step_function</span> and break on the first line. You can continue debugging this function by stepping into/over its instructions. By default, the keyboard shortcut for step into is F7.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_25"/>To allow execution to return to <span class="literal">main</span>, select <strong>Debug ▸ Step Out</strong>. By default, the keyboard shortcut for step out is F8.</li>&#13;
<li class="noindent">Inspect the Autos window at the bottom of the <em>main.cpp</em> screen. You can see the current value of some of the important variables, as shown in <a href="ch01.xhtml#ch01fig09">Figure 1-9</a>.&#13;
<div class="image"><img src="../images/fig1_9.jpg" alt="image"/></div>&#13;
<p class="figcap" id="ch01fig09"><em>Figure 1-9: The Autos window shows the values of variables at the current breakpoint.</em></p>&#13;
<p class="indent">You can see <span class="literal">num1</span> is set to 42 and <span class="literal">result1</span> is set to 1. Why does <span class="literal">num2</span> have a gibberish value? Because the initialization to 0 hasn’t happened yet: it’s the next instruction to execute.</p></li>&#13;
</ol>&#13;
<p class="indent">The Xcode debugger supports many more features. For more information, check out the Xcode documentation link at <em><a href="https://ccc.codes/">https://ccc.codes/</a></em>.</p>&#13;
<h4 class="h4" id="ch01lev2sec19"><strong><em>GCC and Clang Debugging with GDB and LLDB</em></strong></h4>&#13;
<p class="noindent">The GNU Project Debugger (GDB) is a powerful debugger (<em><a href="https://www.gnu.org/software/gdb/">https://www.gnu.org/software/gdb/</a></em>). You can interact with GDB using the command line. To enable debugging support during compilation with <span class="literal">g++</span> or <span class="literal">clang++</span>, you must add the <span class="literal">-g</span> flag.</p>&#13;
<p class="indent">Your package manager will most likely have GDB. For example, to install GDB with Advanced Package Tool (APT), enter the following command:</p>&#13;
<pre>$ <span class="codestrong1">sudo apt install gdb</span></pre>&#13;
<p class="indent">Clang also has an excellent debugger called the Low Level Debugger (LLDB), which you can download at <em><a href="https://lldb.llvm.org/">https://lldb.llvm.org/</a></em>. It was designed to work with the GDB commands in this section, so for brevity I won’t cover LLDB explicitly. You can debug programs compiled with GCC debug support using LLDB, and you can debug programs compiled with Clang debug support using GDB.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Xcode uses LLDB in the background.</em></p>&#13;
</div>&#13;
<p class="indent">To debug the program in <a href="ch01.xhtml#ch01ex08">Listing 1-8</a> (on <a href="ch01.xhtml#page_20">page 20</a>) using GDB, follow these steps:</p>&#13;
<ol>&#13;
<li class="noindent">In a command line, navigate to the folder where you’ve stored your header and source files.</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_26"/>Compile your program with debug support:&#13;
<pre>$ <span class="codestrong1">g++-8 main.cpp -o stepfun -g</span></pre>&#13;
</li>&#13;
<li class="noindent">Debug your program using <span class="literal">gdb</span>; you should see the following interactive console session:&#13;
<pre>$ <span class="codestrong1">gdb stepfun</span>&#13;
GNU gdb (Ubuntu 7.7.1-0ubuntu5~14.04.2) 7.7.1&#13;
Copyright (C) 2014 Free Software Foundation, Inc.&#13;
License GPLv3+: GNU GPL version 3 or later &lt;<a href="http://gnu.org/licenses/gpl">http://gnu.org/licenses/gpl</a>.&#13;
html&gt;&#13;
This is free software: you are free to change and redistribute it.&#13;
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"&#13;
and "show warranty" for details.&#13;
This GDB was configured as "x86_64-linux-gnu".&#13;
Type "show configuration" for configuration details.&#13;
For bug reporting instructions, please see:&#13;
&lt;<a href="http://www.gnu.org/software/gdb/bugs/">http://www.gnu.org/software/gdb/bugs/</a>&gt;.&#13;
Find the GDB manual and other documentation resources online at:&#13;
&lt;<a href="http://www.gnu.org/software/gdb/documentation/">http://www.gnu.org/software/gdb/documentation/</a>&gt;.&#13;
For help, type "help".&#13;
Type "apropos word" to search for commands related to "word"...&#13;
Reading symbols from stepfun...done.&#13;
(gdb)</pre>&#13;
</li>&#13;
<li class="noindent">To insert a breakpoint, use the command <span class="literal">break</span>, which takes a single argument corresponding to the name of the source file and the line where you want to break, separated by a colon (<span class="literal">:</span>). For example, suppose you want to break on the first line of <em>main.cpp</em>. In <a href="ch01.xhtml#ch01ex08">Listing 1-8</a>, that is on line 5 (although you might need to adjust placement depending on how you’ve written the source). You can create a breakpoint using the following command at the (<span class="literal">gdb</span>) prompt:&#13;
<pre>(gdb) <span class="codestrong1">break main.cpp:5</span></pre>&#13;
</li>&#13;
<li class="noindent">You can also tell <span class="literal">gdb</span> to break at a particular function by name:&#13;
<pre>(gdb) <span class="codestrong1">break main</span></pre>&#13;
</li>&#13;
<li class="noindent">Either way, you can now execute your program:&#13;
<pre>(gdb) <span class="codestrong1">run</span>&#13;
Starting program: /home/josh/stepfun&#13;
Breakpoint 1, main () at main.cpp:5&#13;
5         int num1 = 42;&#13;
(gdb)</pre>&#13;
</li>&#13;
<li class="noindent"><span epub:type="pagebreak" id="page_27"/>To single step into an instruction, you use the <span class="literal">step</span> command to follow each line of the program, including steps into functions:&#13;
<pre>(gdb) <span class="codestrong1">step</span>&#13;
6         int result1 = step_function(num1);</pre>&#13;
</li>&#13;
<li class="noindent">To continue stepping, press <small>ENTER</small> to repeat the last command:&#13;
<pre>(gdb)&#13;
step_function (x=42) at step_function.cpp:4</pre>&#13;
</li>&#13;
<li class="noindent">To step back out of a function invocation, you use the <span class="literal">finish</span> command:&#13;
<pre>(gdb) <span class="codestrong1">finish</span>&#13;
Run till exit from #0  step_function (x=42) at step_function.cpp:7&#13;
0x0000000000400546 in main () at main.cpp:6&#13;
6         int result1 = step_function(num1);&#13;
Value returned is $1 = 1</pre>&#13;
</li>&#13;
<li class="noindent">To execute an instruction without stepping into a function call, you use the <span class="literal">next</span> command:&#13;
<pre>(gdb) <span class="codestrong1">next</span>&#13;
8         int num2 = 0;</pre></li>&#13;
<li class="noindent">To inspect the current value of variables, you use the <span class="literal">info locals</span> command:&#13;
<pre>(gdb) <span class="codestrong1">info locals</span>&#13;
num2 = -648029488&#13;
result2 = 32767&#13;
num1 = 42&#13;
result1 = 1&#13;
num3 = 0&#13;
result3 = 0</pre>&#13;
<p class="indent">Notice that any variables that have not yet been initialized will not have sensible values.</p></li>&#13;
<li class="noindent">To continue execution until the next breakpoint (or until the program completes), use the <span class="literal">continue</span> command:&#13;
<pre>(gdb) continue&#13;
Continuing.&#13;
Num1: 42, Step: 1&#13;
Num2: 0, Step: 0&#13;
Num3: -32768, Step: -1&#13;
[Inferior 1 (process 1322) exited normally]</pre>&#13;
</li>&#13;
<li class="noindent">Use the <span class="literal">quit</span> command to exit <span class="literal">gdb</span> at any time.</li>&#13;
</ol>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_28"/>GDB supports many more features. For more information, check out the documentation at <a href="https://sourceware.org/gdb/current/onlinedocs/gdb/"><em>https://sourceware.org/gdb/current/onlinedocs/gdb/</em></a>.</p>&#13;
<h3 class="h3" id="ch01lev1sec5"><strong>Summary</strong></h3>&#13;
<p class="noindent">This chapter got you up and running with a working C++ development environment, and you compiled your first C++ program. You learned about the components of a build tool chain and the roles they play in the compilation process. Then you explored a few essential C++ topics, such as types, declaring variables, statements, conditionals, functions, and <span class="literal">printf</span>. The chapter wrapped up with a tutorial on setting up a debugger and stepping through your project.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>If you have problems setting up your environment, search on your error messages online. If that fails, post your question to Stack Overflow at</em> <a href="https://stackoverflow.com/">https://stackoverflow.com/</a>, <em>the C++ subreddit at</em> <a href="https://www.reddit.com/r/cpp_questions/">https://www.reddit.com/r/cpp_questions/</a>, <em>or the C++ Slack channel at</em> <a href="https://cpplang.now.sh/">https://cpplang.now.sh/</a>.</p>&#13;
</div>&#13;
<div class="box4" id="bm02">&#13;
<p class="boxtitle-d"><strong>EXERCISES</strong></p>&#13;
<p class="noindent">Try these exercises to practice what you’ve learned in this chapter. (The book's companion code is available at <a href="https://ccc.codes">https://ccc.codes</a>.)</p>&#13;
<p class="noindent"><strong>1-1.</strong> Create a function called <span class="literal">absolute_value</span> that returns the absolute value of its single argument. The absolute value of an integer <span class="literal">x</span> is the following: <span class="literal">x</span> (itself) if <span class="literal">x</span> is greater than or equal to 0; otherwise, it is <span class="literal">x</span> times −1. You can use the program in <a href="ch01.xhtml#ch01ex09">Listing 1-9</a> as a template:</p>&#13;
<pre>#include &lt;cstdio&gt;&#13;
&#13;
int absolute_value(int x) {&#13;
  // Your code here&#13;
}&#13;
&#13;
int main() {&#13;
  int my_num = -10;&#13;
  printf("The absolute value of %d is %d.\n", my_num,&#13;
         absolute_value(my_num));&#13;
}</pre>&#13;
<p class="listing"><a id="ch01ex09"/><em>Listing 1-9: A template for a program that uses an <span class="literal">absolute_value</span> function</em></p>&#13;
<p class="noindent"><strong>1-2.</strong> Try running your program with different values. Did you see the values you expect?</p>&#13;
<p class="noindent"><strong>1-3.</strong> Run your program with a debugger, stepping through each instruction.</p>&#13;
<p class="noindent"><span epub:type="pagebreak" id="page_29"/><strong>1-4.</strong> Write another function called <span class="literal">sum</span> that takes two <span class="literal">int</span> arguments and returns their sum. How can you modify the template in <a href="ch01.xhtml#ch01ex09">Listing 1-9</a> to test your new function?</p>&#13;
<p class="noindent"><strong>1-5.</strong> C++ has a vibrant online community, and the internet is awash with excellent C++ related material. Investigate the CppCast podcast at <a href="http://cppcast.com/"><em>http://cppcast.com/</em></a>. Search for CppCon and C++Now videos available on YouTube. Add <a href="https://cppreference.com/"><em>https://cppreference.com/</em></a> and <a href="http://www.cplusplus.com/"><em>http://www.cplusplus.com/</em></a> to your browser’s bookmarks.</p>&#13;
<p class="noindent"><strong>1-6.</strong> Finally, download a copy of the International Organization for Standardization (ISO) C++ 17 Standard from <a href="https://isocpp.org/std/the-standard/"><em>https://isocpp.org/std/the-standard/</em></a>. Unfortunately, the official ISO standard is copyrighted and must be purchased. Fortunately, you can download a “draft,” free of charge, that differs only cosmetically from the official version.</p>&#13;
<p class="hanga"><strong>Note</strong> <em>Because the ISO standard’s page numbers differ from version to version, this book will refer to specific sections using the same naming schema as the standard itself. This schema cites sections by enclosing the section name with square brackets. Subsections are appended with period separation. For example, to cite the section on the C++ Object Model, which is contained in the Introduction section, you would write [intro.object].</em></p>&#13;
</div>&#13;
<div class="box6" id="bm03">&#13;
<p class="boxtitle-d"><strong>FURTHER READING</strong></p>&#13;
<ul>&#13;
<li class="noindent"><em>The Pragmatic Programmer: From Journeyman to Master</em> by Andrew Hunt and David Thomas (Addison-Wesley Professional, 2000)</li>&#13;
<li class="noindent"><em>The Art of Debugging with GDB, DDD, and Eclipse</em> by Norman Matloff and Peter Jay Salzman (No Starch Press, 2008)</li>&#13;
<li class="noindent"><em>PGP &amp; GPG: Email for the Practical Paranoid</em> by Michael W. Lucas (No Starch Press, 2006)</li>&#13;
<li class="noindent"><em>The GNU Make Book</em> by John Graham-Cumming (No Starch Press, 2015)</li>&#13;
</ul>&#13;
</div>&#13;
</body></html>