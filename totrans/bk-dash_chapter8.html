<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<title>8. Tips and Tricks</title>
<link href="../styles/stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="sbo-rt-content"><section aria-labelledby="ch8" epub:type="chapter" role="doc-chapter">
<header>
<h2 class="CHAPTER" id="ch8">
<span class="CN"><span aria-label=" Page 153. " epub:type="pagebreak" id="pg_153" role="doc-pagebreak"></span><samp class="SANS_Futura_Std_Bold_Condensed_B_11">8</samp></span>
<span class="CT"><samp class="SANS_Dogma_OT_Bold_B_11">TIPS AND TRICKS</samp></span>
</h2>
</header>
<figure class="opener"><img alt="" class="opener" height="203" src="../images/opener-img.png" width="203"/></figure>
<p class="ChapterIntro">There is still so much more to discover within the rich Dash library. In this chapter, we’ve put together a few pointers to help you take the next step in your Dash journey. These are tips that we have found helpful as we learned Dash and started building more advanced applications.</p>
<p class="TX">We’ll take a deeper look at the Dash Enterprise App Gallery, where you can discover open source code used to build more advanced apps within specific industries. You’ll also learn to leverage the Plotly community to help you overcome coding bumps along the road. We’ll share some Bootstrap themes and debugging tools that will help you embellish your apps and solve bugs. We’ll talk you through navigating the dash-labs repository, where cutting-edge Dash features are constantly developed. Lastly, this chapter will offer you a set of Dash learning resources to enhance your knowledge and make programming with Dash even more fun and exciting.</p>
<section aria-labelledby="sec1" epub:type="division">
<h3 class="H1" id="sec1"><a id="h1-53"></a><span aria-label=" Page 154. " epub:type="pagebreak" id="pg_154" role="doc-pagebreak"></span><samp class="SANS_Futura_Std_Bold_B_11">Dash Enterprise App Gallery</samp></h3>
<p class="TNI">As we’ve mentioned throughout the book, one helpful way to learn about more advanced and complex Dash apps is by exploring the Dash Enterprise App Gallery (<a href="https://dash.gallery/Portal"><i>https://<wbr/>dash<wbr/>.gallery<wbr/>/Portal</i></a>). Many of these apps are open source, meaning the code is fully available to you on GitHub. To find out whether a particular app is open source, click the information icon located in the lower-right corner of the app card (pointed to in <a href="chapter8.xhtml#fig8-1">Figure 8-1</a>); a modal should open, and if it says something along the lines of “Unauthenticated: Anyone can access this app,” it will be open source. This information card should also tell you which programming language the app uses; a great majority of them are written in Python, as you might expect.</p>
<a id="fig8-1"></a>
<figure class="IMG"><img alt="" class="img90" height="339" src="../images/Figure8-1.png" width="695"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-1: The information icon on an app card in the Dash Gallery</samp></p></figcaption>
</figure>
<p class="TX">The gallery is being added to all the time. To find the apps that are most relevant to your needs, filter the page by clicking a specific industry at the very top of the page. One tip: as you scroll through the apps, think of the layout you want for your own current app project. If you find a particular layout interesting, access the open source code to see if you can replicate that layout in your app.</p>
</section>
<section aria-labelledby="sec2" epub:type="division">
<h3 class="H1" id="sec2"><a id="h1-54"></a><samp class="SANS_Futura_Std_Bold_B_11">Enhancing Your Learning with the Plotly Forum</samp></h3>
<p class="TNI">The Plotly forum (<a href="https://community.plotly.com"><i>https://<wbr/>community<wbr/>.plotly<wbr/>.com</i></a>) is a community forum for both Plotly and Dash. If you don’t already have an account on the Plotly forum, you should open one now. Countless times through your Dash development journey, the members of the forum community will help you learn more about Dash and the Plotly graphing library, overcome hurdles, and resolve specific bugs. Even if you don’t currently have a problem with your code, we recommend that you take the time to go onto the forum and read <span aria-label=" Page 155. " epub:type="pagebreak" id="pg_155" role="doc-pagebreak"></span>a few threads on a topic you’d like to explore. There is so much to learn just by reading about the experiences of other users; most importantly, browsing the forum will help you understand how to create a topic, provide useful answers, and ask questions in a way that will give you actionable answers. You’ll soon see how the forum contributes to the growth of the community. <a href="chapter8.xhtml#fig8-2">Figure 8-2</a> shows the landing page of the forum; of course, it will look different every time you visit, so it won’t look exactly like this.</p>
<a id="fig8-2"></a>
<figure class="IMG"><img alt="" class="img90" height="339" src="../images/Figure8-2.png" width="696"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-2: The Plotly forum landing page</samp></p></figcaption>
</figure>
<p class="TX">On the left of the page you will find the main categories, <i>Dash</i> and <i>Plotly</i>. On the right you’ll find the most recent posts for both categories, regardless of the topic.</p>
<p class="TX">The community on the forum tends to be very active and helpful. To ensure that your own questions are likely to be seen and answered, always use a post title appropriate for your question and clearly state the problem you’re facing; also, make sure you add the code related to your question. This code is often referred to as a <i>minimal working example</i>, and it allows potential responders to copy your code and test it on their system to see if they can produce the same problem or error. Make certain that the code is formatted correctly, using the preformatted text symbol <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;/&gt;</samp> inside the editing toolbox.</p>
<p class="TX">As you gain more experience in Dash, take the time to give back to the community and help others by answering their questions as well. Finally, we encourage you to share apps you create with the community by using <i>show-and-tell</i> to tag your posts.</p>
</section>
<section aria-labelledby="sec3" epub:type="division">
<h3 class="H1" id="sec3"><a id="h1-55"></a><samp class="SANS_Futura_Std_Bold_B_11">App Theme Explorer</samp></h3>
<p class="TNI">In <span class="Xref"><a href="chapter5.xhtml">Chapter 5</a></span>, you learned how to add Bootstrap themes to your app, like so:</p>
<p class="CodeCustom1"><samp class="SANS_TheSansMonoCd_W5Regular_11">app = Dash(__name__, external_stylesheets=[dbc.themes.BOOTSTRAP])</samp></p>
<p class="TX"><span aria-label=" Page 156. " epub:type="pagebreak" id="pg_156" role="doc-pagebreak"></span>These themes will apply only to Bootstrap components in your app. To fully implement a theme into your app, you will need to apply the theme to the Dash <samp class="SANS_TheSansMonoCd_W5Regular_11">DataTable</samp>, Dash Core Components, and Plotly figures as well. The <i>Dash Bootstrap Theme Explorer</i> at <a href="https://hellodash.pythonanywhere.com"><i>https://<wbr/>hellodash<wbr/>.pythonanywhere<wbr/>.com</i></a>, shown in <a href="chapter8.xhtml#fig8-3">Figure 8-3</a>, allows you to choose a theme and see how it looks on all the components, text, and figures on the page. To view the available themes, click <b>Change Theme</b> on the left side of the page. A panel should slide out with a list of themes. Click one, and take a look at how the dropdown and checklist components, title, text, graph, and <samp class="SANS_TheSansMonoCd_W5Regular_11">DataTable</samp> all change in style and color.</p>
<a id="fig8-3"></a>
<figure class="IMG"><img alt="" class="img90" height="342" src="../images/Figure8-3.png" width="691"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-3: The Dash Bootstrap Theme Explorer landing page</samp></p></figcaption>
</figure>
<p class="TX">Choose a theme that suits your app and follow these four steps to add it to all the elements of the app. We’ll implement the <samp class="SANS_TheSansMonoCd_W5Regular_11">VAPOR</samp> theme within a sample app as our example; find the full <i>app.py</i> file in the <i><a href="chapter8.xhtml">Chapter-8</a></i> folder of the book’s resources at <a href="https://github.com/DashBookProject/Plotly-Dash"><i>https://<wbr/>github<wbr/>.com<wbr/>/DashBookProject<wbr/>/Plotly<wbr/>-Dash</i></a>.</p>
<div class="spc">
<p class="NL">1.  Install the <i>dash_bootstrap_templates</i> library and then import both <i>load_figure_template</i> and <i>dash_bootstrap_components</i>. To do this, open your PyCharm terminal and enter:</p>
<div class="list-code">
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">$</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">pip install dash-bootstrap-templates</samp></p>
</div>
<p class="ListBody">To import the necessary libraries, type the following in your main app file:</p>
<div class="list-code">
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">import dash_bootstrap_components as dbc</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">from dash_bootstrap_templates import load_figure_template</samp></p>
</div>
</div>
<div class="spc">
<p class="NL">2.  Add the prebuilt Dash Bootstrap stylesheet to your app and select a theme. Here we chose <samp class="SANS_TheSansMonoCd_W5Regular_11">VAPOR</samp>. Make sure you maintain the uppercase style when replacing the theme where Dash is instantiated:</p>
<div class="list-code">
<p class="ListCode"><span aria-label=" Page 157. " epub:type="pagebreak" id="pg_157" role="doc-pagebreak"></span><samp class="SANS_TheSansMonoCd_W5Regular_11">dbc_css = "</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">https://cdn.jsdelivr.net/gh/AnnMarieW/dash-bootstrap-templates<br/>@V1.0.4/dbc.min.css"</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">app = Dash(__name__, external_stylesheets=</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">[dbc.themes.VAPOR, dbc_css])</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">load_figure_template(["vapor"])</samp></p>
</div>
</div>
<div class="spc">
<p class="NL">3.  Incorporate the selected theme into the <samp class="SANS_TheSansMonoCd_W5Regular_11">template</samp> prop of the bar graph:</p>
<div class="list-code">
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">fig = px.bar(df, x="Fruit", y="Amount", color="City", barmode="group",<br/>template="vapor")</samp></p>
</div>
</div>
<div class="spc">
<p class="NL">4.  Lastly, add <samp class="SANS_TheSansMonoCd_W5Regular_11">className="dbc"</samp> to the outer container of the app, as shown in the following code:</p>
<div class="list-code">
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">app.layout = dbc.Container([</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    html.H1("Hello Dash", style={'textAlign': 'center'}),</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    html.P("Type anything here:"),</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    dcc.Input(className="mb-2"),</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    dcc.Graph(</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">       id='example-graph',</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">       figure=fig</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    )</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">],</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    fluid=True,</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">    </samp><samp class="SANS_TheSansMonoCd_W7Bold_B_11">className="dbc"</samp></p>
<p class="ListCode"><samp class="SANS_TheSansMonoCd_W5Regular_11">)</samp></p>
</div>
</div>
<p class="TX">The <i>app.py</i> file used in this example should generate the app shown in <a href="chapter8.xhtml#fig8-4">Figure 8-4</a> when you execute it.</p>
<a id="fig8-4"></a>
<figure class="IMG"><img alt="" class="img90" height="389" src="../images/Figure8-4.png" width="681"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-4: Complete sample app</samp></p></figcaption>
</figure>
</section>
<section aria-labelledby="sec4" epub:type="division">
<h3 class="H1" id="sec4"><a id="h1-56"></a><span aria-label=" Page 158. " epub:type="pagebreak" id="pg_158" role="doc-pagebreak"></span><samp class="SANS_Futura_Std_Bold_B_11">Debugging a Dash App</samp></h3>
<p class="TNI">Knowing how to effectively debug your app will save you many hours of trial and error when bugs occur. Teaching you the full skill set of debugging is beyond the scope of this chapter; however, here we’ve put some material together to help you get started.</p>
<p class="TX">Python has a few options for free debugger packages. For Dash, we recommend the <samp class="SANS_TheSansMonoCd_W5Regular_11">ipdb</samp> package. To install it, go to your terminal and enter:</p>
<p class="CodeCustom1"><samp class="SANS_TheSansMonoCd_W5Regular_11">$</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">pip install ipdb</samp></p>
<p class="TX">Let’s look at an example where debugging might be helpful. Find the <i>debug-demo.py</i> file in the book’s code at <a href="https://github.com/DashBookProject/Plotly-Dash"><i>https://<wbr/>github<wbr/>.com<wbr/>/DashBookProject<wbr/>/Plotly<wbr/>-Dash</i></a>. When you run it on your computer, you should see something like <a href="chapter8.xhtml#fig8-5">Figure 8-5</a>. This is supposed to be an app that graphs bill totals over time.</p>
<a id="fig8-5"></a>
<figure class="IMG"><img alt="" class="img90" height="251" src="../images/Figure8-5.png" width="696"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-5: The</samp> <samp class="SANS_Futura_Std_Book_11">debug-demo.py</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">app once executed</samp></p></figcaption>
</figure>
<p class="TX">This is pretty frustrating: our app doesn’t throw any errors, but clearly something is wrong since the graph is not displaying any data. Let’s debug our app to find out where the problem lies.</p>
<p class="TX">First, uncomment the first line of code in <i>debug-demo.py</i> to <samp class="SANS_TheSansMonoCd_W5Regular_11">import ipdb</samp>. Then activate the debugging feature in the first line of code inside the callback function by uncommenting this line:</p>
<p class="CodeCustom1"><samp class="SANS_TheSansMonoCd_W5Regular_11">ipdb.set_trace()</samp></p>
<p class="TX">You can of course debug any section of the app you’d like; in our case, we’ll start at the callback function that builds the graph, since the problem is with the graph. Lastly, turn off the native Dash debugging mechanism and turn off the app’s multithreading so that you don’t break your session with overlapping <samp class="SANS_TheSansMonoCd_W5Regular_11">ipdb</samp> instances, as is done in <i>debug-demo.py</i>:</p>
<p class="_CodeSpaceAbove"><span aria-label=" Page 159. " epub:type="pagebreak" id="pg_159" role="doc-pagebreak"></span><samp class="SANS_TheSansMonoCd_W5Regular_11">if __name__ == '__main__':</samp></p>
<p class="_CodeSpaceBelow"><samp class="SANS_TheSansMonoCd_W5Regular_11">   app.run_server(</samp><samp class="SANS_TheSansMonoCd_W7Bold_B_11">debug=False</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">,</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">threaded=False</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">, port=8004)</samp></p>
<p class="TX">Save and run the altered <i>debug-demo.py</i> file and click the HTTP link to open your app in the browser. Going back to the run tool window, you should see something like <a href="chapter8.xhtml#fig8-6">Figure 8-6</a>.</p>
<a id="fig8-6"></a>
<figure class="IMG"><img alt="" class="img90" height="198" src="../images/Figure8-6.png" width="695"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-6: Debugging activated in the PyCharm run window</samp></p></figcaption>
</figure>
<p class="TX">If you try to execute <samp class="SANS_TheSansMonoCd_W5Regular_11">print(dff.head())</samp> in the run window, you’ll get an error saying that <samp class="SANS_TheSansMonoCd_W5Regular_11">dff</samp> is not defined. That’s because the line of code that creates and defines <samp class="SANS_TheSansMonoCd_W5Regular_11">dff</samp> is on line 23, which has not been executed yet. To tell the debugger to execute that next line of code, enter a lowercase <b>n</b> in the run window. Now, if you execute <samp class="SANS_TheSansMonoCd_W5Regular_11">print(dff.head())</samp> again, you should see the first five rows of your DataFrame, as shown in <a href="chapter8.xhtml#fig8-7">Figure 8-7</a>.</p>
<a id="fig8-7"></a>
<figure class="IMG"><img alt="" class="img90" height="198" src="../images/Figure8-7.png" width="694"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-7: The DataFrame printed in the run window</samp></p></figcaption>
</figure>
<p class="TX">However, when you next press <b>n</b> to execute code line 24 and enter <samp class="SANS_TheSansMonoCd_W5Regular_11">print(dff.head())</samp> again, you’ll see a notification in the run window telling you the DataFrame is empty:</p>
<p class="_CodeSpaceAbove"><samp class="SANS_TheSansMonoCd_W5Regular_11">Empty DataFrame</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">Columns: [total_bill, tip, sex, smoker, day, time, size]</samp></p>
<p class="_CodeSpaceBelow"><samp class="SANS_TheSansMonoCd_W5Regular_11">Index: []</samp></p>
<p class="TX">This is because line 24 filters the <samp class="SANS_TheSansMonoCd_W5Regular_11">day</samp> column to only have rows with <samp class="SANS_TheSansMonoCd_W5Regular_11">'Mon'</samp>. It appears that zero rows have <samp class="SANS_TheSansMonoCd_W5Regular_11">'Mon'</samp> as a value, which is why the DataFrame is empty. To check what unique values are present in the <samp class="SANS_TheSansMonoCd_W5Regular_11">day</samp> <span aria-label=" Page 160. " epub:type="pagebreak" id="pg_160" role="doc-pagebreak"></span>column, enter <samp class="SANS_TheSansMonoCd_W7Bold_B_11">print(df.day.unique())</samp> in the run window. You’ll find only the <samp class="SANS_TheSansMonoCd_W5Regular_11">['Sun' 'Sat' 'Thur' 'Fri']</samp> values within the <samp class="SANS_TheSansMonoCd_W5Regular_11">day</samp> column. That is why the graph did not plot anything when the app was executed: there was no data to plot.</p>
<p class="TX">To fix your app, change <samp class="SANS_TheSansMonoCd_W5Regular_11">'Mon'</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">'Fri'</samp> on line 24 and restart the <i>debug-demo.py</i> file. (If your app will not restart, change the port number at the very end from 8004 to anything else.) Back in the terminal, instead of entering <b>n</b> for each line of code, you can just enter <b>c</b> to continue program execution until completion. Because there is no other bug (breakpoint) in the app, it successfully executes and should look like <a href="chapter8.xhtml#fig8-8">Figure 8-8</a>.</p>
<a id="fig8-8"></a>
<figure class="IMG"><img alt="" class="img90" height="258" src="../images/Figure8-8.png" width="696"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-8: The</samp> <samp class="SANS_Futura_Std_Book_11">debug-demo.py</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">app executed successfully after debugging</samp></p></figcaption>
</figure>
<p class="TX">For an <samp class="SANS_TheSansMonoCd_W5Regular_11">ipdb</samp> cheat sheet, go to <a href="https://wangchuan.github.io/coding/2017/07/12/ipdb-cheat-sheet.xhtml"><i>https://<wbr/>wangchuan<wbr/>.github<wbr/>.io<wbr/>/coding<wbr/>/2017<wbr/>/07<wbr/>/12<wbr/>/ipdb<wbr/>-cheat<wbr/>-sheet<wbr/>.xhtml<wbr/></i></a>.</p>
<p class="TX">Happy debugging!</p>
</section>
<section aria-labelledby="sec5" epub:type="division">
<h3 class="H1" id="sec5"><a id="h1-57"></a><samp class="SANS_Futura_Std_Bold_B_11">dash-labs</samp></h3>
<p class="TNI"><i>dash-labs</i> is a GitHub repository started by Plotly as a work-in-progress technical preview of potential future Dash features, found at <a href="https://github.com/plotly/dash-labs"><i>https://<wbr/>github<wbr/>.com<wbr/>/plotly<wbr/>/dash<wbr/>-labs</i></a>. Community feedback and active participation are essential to the success of this repository because features are built for and with the help of the community. Some features from the past couple of years that were developed in dash-labs include flexible callback signatures (<a href="https://dash.plotly.com/flexible-callback-signatures"><i>https://<wbr/>dash<wbr/>.plotly<wbr/>.com<wbr/>/flexible<wbr/>-callback<wbr/>-signatures</i></a>) and long callbacks (<a href="https://dash.plotly.com/long-callbacks"><i>https://<wbr/>dash<wbr/>.plotly<wbr/>.com<wbr/>/long<wbr/>-callbacks</i></a>).</p>
<p class="TX">At the time of this writing, two active projects in dash-labs include the Multipage Apps feature for a quick and seamless way to write multipage apps and the Dashdown feature to allow execution of Markdown documents with Dash. To start exploring dash-labs, click the <b><i>docs</i></b> folder in the dash-labs repository (<a href="chapter8.xhtml#fig8-9">Figure 8-9</a>) and read more about the features that have been developed so far.</p>
<span aria-label=" Page 161. " epub:type="pagebreak" id="pg_161" role="doc-pagebreak"></span><a id="fig8-9"></a>
<figure class="IMG"><img alt="" class="img90" height="372" src="../images/Figure8-9.png" width="696"/>
<figcaption><p class="CAP"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Figure 8-9: The</samp> <samp class="SANS_Futura_Std_Book_11">docs</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">folder pertaining to the dash-labs repository</samp></p></figcaption>
</figure>
<p class="TX">To try out some of the features yourself, you can <samp class="SANS_TheSansMonoCd_W5Regular_11">git clone dash-labs</samp> and run any of the <i>app.py</i> or <i>app_dbc.py</i> files located in the <i>demos</i> folder.</p>
</section>
<section aria-labelledby="sec6" epub:type="division">
<h3 class="H1" id="sec6"><a id="h1-58"></a><samp class="SANS_Futura_Std_Bold_B_11">Formatting Your Code with Black</samp></h3>
<p class="TNI">Writing code in a well-formatted manner is not only visually pleasing but also crucial for readability. As you develop your skills, the programs you create will become bigger and more complex. If those programs are not well formatted, you can easily get lost within your own code. Manually formatting your code according to the PEP8 format, which is the official Python style guide, is very time-consuming. Luckily, we have the Python tool <i>Black</i>: a code formatter.</p>
<p class="TX">Let’s see Black in action. Start by installing Black:</p>
<p class="CodeCustom1"><samp class="SANS_TheSansMonoCd_W5Regular_11">$</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">pip install black</samp></p>
<p class="TX">Then download the <i>pre-black-formatting.py</i> file from <a href="https://github.com/DashBookProject/Plotly-Dash"><i>https://<wbr/>github<wbr/>.com<wbr/>/DashBookProject<wbr/>/Plotly<wbr/>-Dash</i></a> and open it (<a href="chapter8.xhtml#List8-1">Listing 8-1</a>).</p>
<a id="List8-1"></a>
<p class="_CodeSpaceAbove"><samp class="SANS_TheSansMonoCd_W5Regular_11">from dash import Dash, dcc, html</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">import plotly.express as px</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">import pandas as pd</samp></p>
<p class="_CodeSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">app = Dash(__name__)</samp></p>
<p class="_CodeSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">df = pd.DataFrame({</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">   </samp><span aria-label="annotation1" class="SANS_NSAnnotations_Monospace_11">❶</span><samp class="SANS_TheSansMonoCd_W5Regular_11"> 'Fruit': ["Apples", "Oranges", "Bananas", "Apples", "Oranges",</samp></p>
<p class="Code"><span class="mobi">                 </span><samp class="SANS_TheSansMonoCd_W5Regular_11">              "Bananas"],</samp></p>
<p class="Code"><span class="mobi">   </span><samp class="SANS_TheSansMonoCd_W5Regular_11">      "Amount": [4, 1, 2, 2, 4, 5],</samp></p>
<p class="Code"><span class="mobi">   </span><samp class="SANS_TheSansMonoCd_W5Regular_11">      "City": ["SF", "SF", "SF", "Montreal", "Montreal", "Montreal"]</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">})</samp></p>
<p class="Code-HANG"><span aria-label=" Page 162. " epub:type="pagebreak" id="pg_162" role="doc-pagebreak"></span><span aria-label="annotation2" class="SANS_NSAnnotations500_Monospace500_11">❷</span> <samp class="SANS_TheSansMonoCd_W5Regular_11">fig=px.bar(df, x=</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">"Fruit", y="Amount", color="City")</samp></p>
<p class="_CodeSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">app.layout = html.Div([</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">   html.H1("Fruit Analysis App", style={'textAlign':'center'}),</samp></p>
<p class="Code-lp"><samp class="SANS_TheSansMonoCd_W5Regular_11">   </samp><span aria-label="annotation3" class="SANS_NSAnnotations_Monospace_11">❸</span>  <samp class="SANS_TheSansMonoCd_W5Regular_11">dcc.Graph(</samp></p>
<p class="Code-fl"><span class="mobi">   </span><samp class="SANS_TheSansMonoCd_W5Regular_11">      id='example-graph',</samp></p>
<p class="Code-fl"><span class="mobi">   </span><samp class="SANS_TheSansMonoCd_W5Regular_11">      figure=fig</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">   )</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">],</samp></p>
<p class="Code"><samp class="SANS_TheSansMonoCd_W5Regular_11">)</samp></p>
<p class="_CodeSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">if __name__ == '__main__':</samp></p>
<p class="_CodeSpaceBelow"><samp class="SANS_TheSansMonoCd_W5Regular_11">   app.run_server(debug=True)</samp></p>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 8-1: The</samp> <samp class="SANS_Futura_Std_Book_11">pre-black-formatting.py</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">file</samp></p>
<p class="TX">There are a few formatting inconsistencies in the code. For example, the <samp class="SANS_TheSansMonoCd_W5Regular_11">Fruit</samp> key <span aria-label="annotation1" class="SANS_NSAnnotations_Monospace_11">❶</span> is surrounded by single quotation marks while the <samp class="SANS_TheSansMonoCd_W5Regular_11">Amount</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">City</samp> keys are surrounded by double quotation marks. Likewise, the <samp class="SANS_TheSansMonoCd_W5Regular_11">Fruit</samp> key values span across two lines of code while the other key values are written out on one line of code. Also, in the line that builds the Plotly Express bar chart <span aria-label="annotation2" class="SANS_NSAnnotations_Monospace_11">❷</span>, we can see that there is no space before or after the equal sign (<samp class="SANS_TheSansMonoCd_W5Regular_11">fig=px.bar</samp>). Lastly, we see that the Dash <samp class="SANS_TheSansMonoCd_W5Regular_11">Graph</samp> component is written out across four lines of code <span aria-label="annotation3" class="SANS_NSAnnotations_Monospace_11">❸</span>, while the <samp class="SANS_TheSansMonoCd_W5Regular_11">html.H1</samp> component, right above it, is written out on one line of code. There are a few more inconsistencies in the code; see if you can spot them before using Black.</p>
<p class="TX">To use Black, open the terminal and move into the directory that holds <i>pre-black-formatting.py</i>. Once there, enter the command followed by the filename, as shown here:</p>
<p class="CodeCustom1"><samp class="SANS_TheSansMonoCd_W5Regular_11">$</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">black pre-black-formatting.py</samp></p>
<p class="TX">Black will automatically format the file without renaming it. For the purpose of this demo, we renamed the file to <i>post-black-formatting.py</i>, also located in the book’s GitHub repository (<a href="chapter8.xhtml#List8-2">Listing 8-2</a>).</p>
<a id="List8-2"></a>
<p class="_CodeWideSpaceAbove"><samp class="SANS_TheSansMonoCd_W5Regular_11">from dash import Dash, dcc, html</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">import plotly.express as px</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">import pandas as pd</samp></p>
<p class="_CodeWideSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">app = Dash(__name__)</samp></p>
<p class="_CodeWideSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">df = pd.DataFrame(</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">   {</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">        "Fruit": ["Apples", "Oranges", "Bananas", "Apples", "Oranges", "Bananas"],</samp> <span aria-label="annotation1" class="SANS_NSAnnotations_Monospace_11">❶</span></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">        "Amount": [4, 1, 2, 2, 4, 5],</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">        "City": ["SF", "SF", "SF", "Montreal", "Montreal", "Montreal"],</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">   }</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">)</samp></p>
<p class="_CodeWideSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">     fig = px.bar(df, x=</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">"Fruit", y="Amount", color="City")</samp> <span aria-label="annotation2" class="SANS_NSAnnotations500_Monospace500_11">❷</span></p>
<p class="_CodeWideSpace"><span aria-label=" Page 163. " epub:type="pagebreak" id="pg_163" role="doc-pagebreak"></span><samp class="SANS_TheSansMonoCd_W5Regular_11">app.layout = html.Div(</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">   [</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">      html.H1("Fruit Analysis App", style={"textAlign": "center"}),</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">      dcc.Graph(id="example-graph", figure=fig),</samp> <span aria-label="annotation3" class="SANS_NSAnnotations_Monospace_11">❸</span></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">   ],</samp></p>
<p class="CodeWide"><samp class="SANS_TheSansMonoCd_W5Regular_11">)</samp></p>
<p class="_CodeWideSpace"><samp class="SANS_TheSansMonoCd_W5Regular_11">if __name__ == "__main__":</samp></p>
<p class="_CodeWideSpacebelow"><samp class="SANS_TheSansMonoCd_W5Regular_11">   app.run_server(debug=True)</samp></p>
<p class="CodeListingCaptionWide"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 8-2: The</samp> <samp class="SANS_Futura_Std_Book_11">post-black-formatting.py</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">file formatted with Black</samp></p>
<p class="TX">We see that all single quotation marks have been replaced with double quotation marks and the <samp class="SANS_TheSansMonoCd_W5Regular_11">Fruit</samp> key values are written out on one line of code instead of two <span aria-label="annotation1" class="SANS_NSAnnotations_Monospace_11">❶</span>, there’s an equal amount of spacing before and after the equal sign <span aria-label="annotation2" class="SANS_NSAnnotations_Monospace_11">❷</span>, and the <samp class="SANS_TheSansMonoCd_W5Regular_11">Graph</samp> component is also on one line instead of four <span aria-label="annotation3" class="SANS_NSAnnotations_Monospace_11">❸</span>. As you can see, the code formatted by Black is consistent and a lot easier to read.</p>
</section>
<section aria-labelledby="sec7" epub:type="division">
<h3 class="H1" id="sec7"><a id="h1-59"></a><samp class="SANS_Futura_Std_Bold_B_11">Follow-up Resources</samp></h3>
<p class="Epigraph"><i>The important thing is not to stop questioning; curiosity has its own reason for existing.</i></p>
<p class="EpigraphSource">—Albert Einstein</p>
<p class="TX">Understanding that learning never stops, we’ve put together a few resources to help you become an expert in Dash:</p>
<ul class="List-1">
<li class="BL">Our very own website dedicated to teaching Dash and sharing updates related to this book also offers a suggested list of videos to watch to deepen your knowledge of Dash: <a href="https://learnplotlydash.com"><i>https://<wbr/>learnplotlydash<wbr/>.com</i></a>.</li>
<li class="BL">The Dash Bootstrap Cheat Sheet site, built by our coauthor Ann Marie Ward, offers summaries of the main Bootstrap styling syntax, shortcuts to the documentation on all the Dash Bootstrap Components, and links to different sections of the Dash docs: <a href="https://dashcheatsheet.pythonanywhere.com"><i>https://<wbr/>dashcheatsheet<wbr/>.pythonanywhere<wbr/>.com</i></a>.</li>
<li class="BL">Finxter, a Python educational website with over half a million students monthly founded by our coauthor Chris Mayer, is a great place to learn Python and sharpen your pandas skillset. Go to <a href="https://app.finxter.com"><i>https://<wbr/>app<wbr/>.finxter<wbr/>.com</i></a>. For free access to Chris’s book <i>Coffee Break Pandas</i>, see <a href="https://blog.finxter.com/coffee-break-pandas-book-page"><i>https://<wbr/>blog<wbr/>.finxter<wbr/>.com<wbr/>/coffee<wbr/>-break<wbr/>-pandas<wbr/>-book<wbr/>-page</i></a>.</li>
<li class="BL">Charming Data’s YouTube channel and its respective GitHub repository, created and maintained by our coauthor Adam Schroeder, are excellent resources for learning Dash and staying up-to-date with the most recent Dash developments: <a href="https://www.youtube.com/c/CharmingData"><i>https://<wbr/>www<wbr/>.youtube<wbr/>.com<wbr/>/c<wbr/>/CharmingData</i></a> and <a href="https://github.com/Coding-with-Adam/Dash-by-Plotly"><i>https://<wbr/>github<wbr/>.com<wbr/>/Coding<wbr/>-with<wbr/>-Adam<wbr/>/Dash<wbr/>-by<wbr/>-Plotly<wbr/></i></a>.</li>
<li class="BL">The comprehensive list of Dash components created and maintained by the community will allow you to enrich your app with capabilities and features that will make it look more professional: <a href="https://community.plotly.com/t/community-components-index/60098"><i>https://<wbr/>community<wbr/>.plotly<wbr/>.com<wbr/>/t<wbr/>/community<wbr/>-components<wbr/>-index<wbr/>/60098<wbr/></i></a>.</li>
<li class="BL"><span aria-label=" Page 164. " epub:type="pagebreak" id="pg_164" role="doc-pagebreak"></span>The following are a few online courses dedicated to teaching Dash and Plotly. Please make sure you read the reviews before deciding which course would work for you:</li>
</ul>
<ul class="List-1">
<li class="ListBulletSub"><i>https://www.datacamp.com/courses/building-dashboards-with-dash-and-plotly</i></li>
<li class="ListBulletSub"><i>https://www.coursera.org/projects/interactive-dashboards-plotly-dash</i></li>
<li class="ListBulletSub"><i>https://www.pluralsight.com/courses/plotly-building-data-visualizations</i></li>
<li class="ListBulletSub"><i>https://www.udemy.com/course/interactive-python-dashboards-with-plotly-and-dash</i></li></ul>
</section>
</section>
</div></body>
</html>