- en: '**1'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: SETTING UP**
  prefs: []
  type: TYPE_NORMAL
- en: '*A journey of a thousand miles begins with a single step.*'
  prefs: []
  type: TYPE_NORMAL
- en: –Lao Tzu
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/common.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Welcome to the first step in your hacking journey. In this chapter, we’ll set
    up your lab environment, which will consist of five virtual machines:'
  prefs: []
  type: TYPE_NORMAL
- en: '**A pfSense Virtual Machine** An open source router/firewall to protect the
    vulnerable virtual machines from outside hackers.'
  prefs: []
  type: TYPE_NORMAL
- en: '**A Kali Linux Virtual Machine** The machine that contains the hacking tools
    discussed in this book.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Two Ubuntu Linux Desktop Virtual Machines** Machines that we’ll use to demonstrate
    attacks on desktop/laptop environments.'
  prefs: []
  type: TYPE_NORMAL
- en: '**A Metasploitable Virtual Machine** The machine that we’ll use to demonstrate
    attacks on a Linux server.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Virtual Lab**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Because it’s both unethical and illegal to hack into machines that you don’t
    own, the virtual lab we’ll set up in this chapter will provide an environment
    in which you can perform ethical hacks. [Figure 1-1](ch01.xhtml#ch1fig1) shows
    an overview of the lab environment.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-1: Virtual machine connections*'
  prefs: []
  type: TYPE_NORMAL
- en: 'We’ll also set up two networks: a main internal network that is isolated from
    the internet by the pfSense firewall and a private network that is isolated from
    the main network behind a Metasploitable server. We’ll use that second setup to
    explore attacks in which hackers must first get past one machine to attack another,
    as is the case with firewalls. We’ll focus on setting up the main network in this
    chapter and save configuring the private network for [Chapter 14](ch14.xhtml#ch14).'
  prefs: []
  type: TYPE_NORMAL
- en: Don’t worry about understanding the technical details of these configurations
    for now; I’ll describe the infrastructure as we progress through the book. I recommend
    that you begin the setup process using a Windows, Linux, or macOS machine with
    at least 30GB of free hard drive space and 4GB of RAM. You will be running multiple
    virtual machines simultaneously, so you’ll need a relatively powerful machine.
  prefs: []
  type: TYPE_NORMAL
- en: '**Setting Up VirtualBox**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To set up our networking environment, we’ll need to install *VirtualBox*. Think
    of VirtualBox as a program that lets you build virtual computers. You’ll choose
    your virtual machine’s specifications (for instance, hard drive, amount of RAM,
    and number of processors), and VirtualBox will assemble a virtual computer that
    can run programs just as you would on your laptop or desktop. VirtualBox is free
    to use on Linux, Mac, and Windows machines.
  prefs: []
  type: TYPE_NORMAL
- en: Download VirtualBox from *[https://www.virtualbox.org/wiki/Downloads/](https://www.virtualbox.org/wiki/Downloads/)*,
    taking care that you download the correct installation files for your computer’s
    operating system and architecture. Next, walk through the installation process,
    which will vary depending on the type of computer you’re using; however, you can
    agree to the default options as a general rule. Once the installation is complete,
    launch VirtualBox, and you should be greeted with a screen similar to [Figure
    1-2](ch01.xhtml#ch1fig2).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-2: The VirtualBox home screen*'
  prefs: []
  type: TYPE_NORMAL
- en: '**Setting Up pfSense**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now we’ll set up *pfSense*, an open source router/firewall that will protect
    our virtual machines from outside attacks. The following steps will guide you
    through setting up this machine. It’s important that you follow them carefully.
    First, download the pfSense source files from *[https://www.pfsense.org/download/](https://www.pfsense.org/download/)*.
    Choose the AMD64 (64-bit) architecture, the DVD image (ISO) installer, and the
    server location closest to you before clicking the download button. [Figure 1-3](ch01.xhtml#ch1fig3)
    shows these parameters.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig03.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-3: Choose these settings to download pfSense.*'
  prefs: []
  type: TYPE_NORMAL
- en: Unzip the downloaded pfSense *iso.gz* file. If you’re on a Unix-based machine,
    you can do this by running the gunzip command by typing `**gunzip**` followed
    by the name of the downloaded file (for example, `gunzip pfSense iso.gz` `*filename*`)
    in your terminal. Launch VirtualBox and click the **New** button located in the
    top options bar, as shown in [Figure 1-4](ch01.xhtml#ch1fig4).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig04.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-4: The New button is designated by the starburst symbol.*'
  prefs: []
  type: TYPE_NORMAL
- en: You should be prompted to enter some information about your new machine. The
    examples that follow are for VirtualBox for macOS, but the Linux and Windows versions
    are similar. Enter **pfSense** as the name, **BSD** as the type, and **FreeBSD
    (64-bit)** as the version. Once you’ve changed these three options, as shown in
    [Figure 1-5](ch01.xhtml#ch1fig5), click **Continue**.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig05.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-5: Enter these settings when creating the pfSense virtual machine.*'
  prefs: []
  type: TYPE_NORMAL
- en: The pfSense virtual machine doesn’t require much RAM, so set the memory size
    to **1024MB**. When prompted for virtual hard drive options, select **Create a
    virtual hard disk now**. Select **VDI (VirtualBox Disk Image)** for the hard disk
    file type. Make your new virtual hard disk dynamically allocated and set its size
    to 5GB, which should be more than enough space for the pfSense installation.
  prefs: []
  type: TYPE_NORMAL
- en: '**NOTE**'
  prefs: []
  type: TYPE_NORMAL
- en: '*When installing the new version of pfSense, users will need to select the
    Auto (UFS) BIOS option.*'
  prefs: []
  type: TYPE_NORMAL
- en: '***Setting Up the Internal Network***'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: You can think of the pfSense firewall as a gatekeeper that stands between the
    internet and your internal network. It will inspect traffic entering and leaving
    your network to ensure that your internal network is secure from outside attackers.
    This creates a safe place for you to add vulnerable machines that only you can
    attack.
  prefs: []
  type: TYPE_NORMAL
- en: Right-click **pfSense** in your list of virtual machines and then click **Settings**
    ([Figure 1-6](ch01.xhtml#ch1fig6)).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig06.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-6: Setting up Network Adapters*'
  prefs: []
  type: TYPE_NORMAL
- en: Click the **Network** tab and make sure that the network adapter in the **Adapter
    1** tab is enabled and attached to a **Bridged Adapter** with the same name as
    your wireless/Ethernet card. Enabling a Bridged Adapter creates a direct connection
    between the pfSense virtual machine and the internet. Next, click the **Adapter
    2** tab and make sure **Enable Network Adapter** is enabled and that it is attached
    to an **Internal Network** that we will name **Internal LAN**. This internal network
    will connect pfSense to our other virtual machines. Once you click **OK**, the
    internal network should be available to other virtual machines.
  prefs: []
  type: TYPE_NORMAL
- en: '***Configuring pfSense***'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Now we’re ready to launch pfSense and configure our virtual router settings.
    Incorrectly configuring these settings could cause your virtual machines to have
    no internet access.
  prefs: []
  type: TYPE_NORMAL
- en: Double-click **pfSense** in your list of virtual machines. You should see a
    screen similar to [Figure 1-7](ch01.xhtml#ch1fig7). Click the folder icon and
    then click the **Add** icon in the upper-left corner. Navigate to and select your
    pfSense ISO image and then click **Start**.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig07.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-7: Selecting the pfSense ISO image*'
  prefs: []
  type: TYPE_NORMAL
- en: The pfSense virtual machine should take some time to boot. Once it has booted,
    you should be greeted with a copyright and distribution notice screen. Press ENTER
    to accept and press ENTER again to install pfSense. As a rule of thumb, stick
    with the default options.
  prefs: []
  type: TYPE_NORMAL
- en: After the install has completed, you should see another prompt asking if you
    want to reboot. Select **Reboot** and press ENTER. When pfSense reboots, you’ll
    be directed to the copyright and distribution notice once again. This occurs because
    the pfSense virtual machine is again booting from the ISO image we used earlier.
    To fix this, first click the **File** tab in the upper left of the pfSense machine,
    and then click **Close**. You’ll see a dialog asking how you want to close the
    virtual machine. Select **Power off the machine** and click **OK**, as shown in
    [Figure 1-8](ch01.xhtml#ch1fig8).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig08.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-8: Powering off pfSense to remove the ISO image*'
  prefs: []
  type: TYPE_NORMAL
- en: Once the pfSense virtual machine is powered off, right-click it in your list
    of virtual machines and select **Settings**. Navigate to the **Storage** tab and
    right-click the ISO image you previously chose. Then select **Remove Attachment**
    as shown in [Figure 1-9](ch01.xhtml#ch1fig9). You’ll be asked to confirm that
    you want to delete the optical drive. Select **Remove** and then click **OK**
    in the lower right of the Settings screen.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig09.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-9: Removing the pfSense ISO image*'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that you’ve removed the ISO image, double-click **pfSense** in your list
    of virtual machines. It should take some time to boot. Once pfSense has booted,
    you should see a screen that looks like this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**Setting Up Metasploitable**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The Metasploitable virtual machine is a Linux server that has been intentionally
    designed to be vulnerable. It’s the machine that we’ll hack throughout this book.
    But before we do so, we need to prevent other people from accessing this machine.
    To do that, we’ll connect it to our internal network, which is protected by the
    pfSense firewall. The following steps outline how to obtain the virtual machine.
  prefs: []
  type: TYPE_NORMAL
- en: Download the Metasploitable virtual machine from Sourceforge at *[https://sourceforge.net/projects/metasploitable/](https://sourceforge.net/projects/metasploitable/)*.
    Although newer versions of Metasploitable are available, we’ll use version 2 because
    it’s easier to set up.
  prefs: []
  type: TYPE_NORMAL
- en: Unzip the downloaded Metasploitable ZIP file, launch VirtualBox, and click the
    **New** button. Set your machine’s name to **Metasploitable**, its type to **Linux**,
    and its version to **Ubuntu (64-bit)**, and then click **Continue**. On the Memory
    Size page, use the suggested amount of memory. When prompted to choose a hard
    disk, select **Use an existing virtual hard disk file**, click the folder icon,
    and browse to your unzipped Metasploitable download. Select the file with the
    extension *.vmdk* and click **Create**. To configure the Metasploitable machine
    network settings, right-click the Metasploitable machine from your list of machines
    on the left and select **Settings**. Navigate to the **Network** tab. Under **Adapter
    1**, select the **Enable Network Adapter** checkbox and select the internal network
    we created earlier (**Internal LAN**) in the **Attached to** drop-down menu, as
    shown in [Figure 1-10](ch01.xhtml#ch1fig10).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig10.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-10: Configuring the Metasploitable internal network*'
  prefs: []
  type: TYPE_NORMAL
- en: Open the Metasploitable virtual machine in VirtualBox and wait for the terminal
    to finish loading. It should display the Metasploitable logo shown in [Figure
    1-11](ch01.xhtml#ch1fig11).
  prefs: []
  type: TYPE_NORMAL
- en: '**NOTE**'
  prefs: []
  type: TYPE_NORMAL
- en: '*Your mouse pointer may disappear. This is because the virtual machine has
    captured it. Press the Host Key Combination (Right CTRL in Windows and Linux and
    CTRL-ALT in macOS) to get your mouse pointer back.*'
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig11.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-11: The Metasploitable virtual machine after it has been started*'
  prefs: []
  type: TYPE_NORMAL
- en: Log in using the username **msfadmin** and password **msfadmin**.
  prefs: []
  type: TYPE_NORMAL
- en: '**Setting Up Kali Linux**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Kali Linux* is a Linux distribution that contains a collection of penetration
    testing tools. We’ll use the Kali virtual machine to hack into the other machines
    on our virtual network. Download the Kali Linux VirtualBox image from *[https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/](https://www.offensive-security.com/kali-linux-vm-vmware-virtualbox-image-download/)*.
    Ensure that the files listed are Kali Linux VirtualBox images and not VMWare images,
    and select the VirtualBox image version that is suitable for your system (64-bit
    or 32-bit). Add the Kali machine to VirtualBox by right-clicking the downloaded
    **OVA** file and opening it using VirtualBox. You should be prompted with a screen
    containing the preconfigured settings for the machine. On the left side of the
    page, you should see a folder icon. Click it and select your downloaded OVA file.'
  prefs: []
  type: TYPE_NORMAL
- en: '**NOTE**'
  prefs: []
  type: TYPE_NORMAL
- en: '*Ensure that your virtual machine is turned off before adjusting the network
    settings.*'
  prefs: []
  type: TYPE_NORMAL
- en: To configure network settings, right-click the Kali virtual machine from the
    list of machines on the left and then select **Settings**. Click the **Network**
    tab and then click **Adapter 1**. Select the **Enable Network Adapter** checkbox
    and set **Attached to** from the drop-down menu to **Internal Network**. Leave
    the name as “Internal LAN” and click **OK**.
  prefs: []
  type: TYPE_NORMAL
- en: Open the Kali Linux virtual machine in VirtualBox. If your Kali Linux displays
    nothing but a black screen, make sure the **PAE/NX** checkbox is selected in **Settings**
    ▶**General** ▶**Processors**.
  prefs: []
  type: TYPE_NORMAL
- en: Once your machine starts, you should see the Kali Linux login screen shown in
    [Figure 1-12](ch01.xhtml#ch1fig12).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig12.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-12: The Kali Linux login screen*'
  prefs: []
  type: TYPE_NORMAL
- en: Log in with the username **kali** and password **kali**.
  prefs: []
  type: TYPE_NORMAL
- en: '**NOTE**'
  prefs: []
  type: TYPE_NORMAL
- en: '*When installing VirtualBox on Windows, users will need to install the VirtualBox
    Extensions.*'
  prefs: []
  type: TYPE_NORMAL
- en: '**Setting Up the Ubuntu Linux Desktop**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now we’ll set up the Ubuntu Linux Desktop virtual machine. We’ll use this machine
    to demonstrate how a hacker can attack a victim’s desktop or laptop. The following
    steps outline how to download and configure Ubuntu. Here, we’ll configure only
    the Ubuntu machine that is attached to our internal LAN. We’ll configure a second
    Ubuntu machine that is associated with the private network in [Chapter 14](ch14.xhtml#ch14).
  prefs: []
  type: TYPE_NORMAL
- en: Download the latest Ubuntu ISO image from *[https://ubuntu.com/download/desktop/](https://ubuntu.com/download/desktop/)*.
    Launch VirtualBox and click the **New** button in the top options bar, as depicted
    in [Figure 1-4](ch01.xhtml#ch1fig4). You should be prompted to enter some information
    about your new machine. Enter **Ubuntu** as the name, **Linux** for the type,
    and **Ubuntu (64-bit)** for the version and click **Continue**. Next, allocate
    **2048MB** of RAM and a **10GB** hard disk. (Remember to attach the ISO image.)
    Ubuntu requires slightly more disk space and RAM than pfSense to run efficiently.
    Lastly, attach the Ubuntu Linux machine to the internal network as you did with
    the Metasploitable virtual machine.
  prefs: []
  type: TYPE_NORMAL
- en: Start the Ubuntu machine, select your desired language, and click **Install
    Ubuntu**. [Figure 1-13](ch01.xhtml#ch1fig13) shows an example of the first page
    of the setup screen.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig13.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-13: The installation screen for Ubuntu Linux*'
  prefs: []
  type: TYPE_NORMAL
- en: Shut down the Ubuntu virtual machine. We won’t need it again until [Chapter
    10](ch10.xhtml#ch10).
  prefs: []
  type: TYPE_NORMAL
- en: '**Your First Hack: Exploiting a Backdoor in Metasploitable**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now that you’ve set up everything, let’s test the virtual lab infrastructure
    by executing an attack. Our goal is to gain access to the Metasploitable machine
    by exploiting a vulnerability called a *backdoor*. A backdoor is an intentional
    flaw that allows an attacker to gain unauthorized access.
  prefs: []
  type: TYPE_NORMAL
- en: 'In July 2011, the security community discovered that an attacker had inserted
    a backdoor into the code of version 2.3.4 of vsftpd, an open source UNIX FTP server.
    This is one disadvantage of open source software: it’s possible for malicious
    developers to compromise the open source project.'
  prefs: []
  type: TYPE_NORMAL
- en: This particular backdoor allows the attacker to gain access to the terminal
    on the vulnerable machine. All the attacker needs to do is log into the FTP server
    using a username ending in `:)` and an invalid password. Once the attack is activated,
    it opens a *shell* on port 6200\. A shell is a program that connects to an attacker’s
    machine, allowing the attacker to execute terminal commands on the compromised
    machine.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s exploit the Metasploitable server, which contains this vulnerability.
    We’ll begin by obtaining the Metasploitable machine’s IP address.
  prefs: []
  type: TYPE_NORMAL
- en: Before you continue, ensure that your pfSense virtual machine is running. You’ll
    need it to access the internet.
  prefs: []
  type: TYPE_NORMAL
- en: '***Getting the IP Address of the Metasploitable Server***'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: The first step in most hacks is identifying the machine that we want to connect
    to. As we’ll discuss in more detail in [Chapter 2](ch02.xhtml#ch2), each machine
    has a unique IP address. In this section, we’ll show how to use the `netdiscover`
    tool to obtain the IP address of the Metasploitable server.
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the terminal on your Kali Linux machine by clicking the icon in the upper-left
    section of the menu. Enter the command `**netdiscover**`. If your terminal says
    the command cannot be found or that you must be root to run it, run it as `sudo`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'The `netdiscover` tool searches multiple IP addresses on your network to discover
    those that are currently being used, letting you see all of the machines currently
    connected to the same LAN. After a couple of minutes, `netdiscover` should have
    discovered the Metasploitable server and its IP address, displaying it in a screen
    similar to this one:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: For simplicity, ensure that you’re running only the pfSense, Metasploitable,
    and Kali virtual machines. This will reduce the number of virtual machines on
    the network and make it easier to read the `netdiscover` tool’s output.
  prefs: []
  type: TYPE_NORMAL
- en: The first IP address belongs to the pfSense router, and the second belongs to
    the Metasploitable machine. (Your addresses may differ.) The machine with the
    lowest address is normally the router, or in this case, the firewall through which
    all traffic entering and exiting the network travels. Your Metasploitable server
    is most likely the second IP address.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you have the server’s IP address, you should be able to visit the web
    pages that the server is hosting. Click the blue Kali logo in the upper-left corner
    of the Kali machine. Then, open the Kali Linux web browser, and enter the IP address
    you discovered, as shown in [Figure 1-14](ch01.xhtml#ch1fig14).
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/ch01fig14.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '*Figure 1-14: The Metasploitable machine in the Kali Linux browser*'
  prefs: []
  type: TYPE_NORMAL
- en: If you can see the web page, it means that both your Metasploitable machine
    and the Kali Linux machine are correctly connected to the internal network.
  prefs: []
  type: TYPE_NORMAL
- en: '***Using the Backdoor to Gain Access***'
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: Now, we’ll exploit the backdoor to gain access to the Metasploitable machine.
    Connect to the FTP server using Netcat (`nc`), a command line tool that supports
    several networking functions. Here, we’ll use it to open a TCP socket to server.
    (We will discuss TCP sockets in [Chapter 3](ch03.xhtml#ch3).)
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the terminal on your Kali machine and enter the following commands:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The value at the end of the first command is the port number. FTP servers normally
    run on port 21\. We’ll discuss the concept of a port number in [Chapter 3](ch03.xhtml#ch3),
    but for now you can think of it as a communication channel that the operating
    system assigns to a program. Program A may be communicating on channel 21, whereas
    program B may be communicating on channel 6200.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now that you’ve activated the shell associated with the backdoor, open a new
    terminal window, and enter the following command to connect to the shell that
    should be running on port 6200 on the Metasploitable machine:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: After you’re connected, it will appear as though the terminal is unresponsive.
    But this is not the case, it’s just waiting for you to type something in. Type
    the `**ls**` command to list all the files in the current directory.
  prefs: []
  type: TYPE_NORMAL
- en: 'You should now be able to enter commands in your Kali Linux terminal and have
    them run as though they were entered on the terminal in the Metasploitable machine.
    For instance, use the shell to reboot the machine by entering the following commands
    in the terminal on your Kali machine and then observe what happens to your Metasploitable
    machine:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: If the attack is executed correctly, the Metasploitable machine will reboot.
    Though restarting the machine might not seem that dangerous, an attacker with
    root privileges could do many more things; for example, delete all the data on
    a server by running the command `**rm -rf/**`. Don’t run this command on Metasploitable!
    It will delete all the data on the machine, and you’ll have to repeat the setup
    process.
  prefs: []
  type: TYPE_NORMAL
- en: How could we fix this vulnerability? Newer versions of vsftpd have identified
    and removed this issue, so the best way to secure this server is to update vsftpd.
    However, the Metasploitable machine is designed to be vulnerable; therefore, it
    is not configured to support updates.
  prefs: []
  type: TYPE_NORMAL
