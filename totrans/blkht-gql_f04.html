<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en">
<head>
<title>Foreword</title>
<link href="NSTemplate_v1.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:c77cce49-9403-4fd1-99ba-33d115574b0c" name="Adept.expected.resource"/>
</head>
<body epub:type="frontmatter">
<section>
<header><h1 class="FrontmatterTitle" id="fm-502840f04-0001"><span epub:type="pagebreak" id="Page_xv" title="xv"/><a class="XrefDestination" id="Foreword"/><span class="XrefDestination" id="xref-502840f04-001"/>Foreword</h1></header>
<p class="BodyFirst">Today, building software and systems is a lot like assembling an IKEA kitchen—on your front lawn. People are taking parsers, utilities, and other components originally intended for use with trusted data by a person on their own command line, and exposing them to the internet. With each new query language and interpreter/parser combination (GraphQL being one of the more recent), the old becomes new again.</p>
<p>Vulnerability classes like denial of service (DoS), injection, information disclosure, and authentication/authorization bypasses have persisted in pretty much every data format and language parsed with regular expressions over the course of my career. Some of this is because inherent weaknesses exist in the underlying technology that aren’t well understood by developers of new languages. But it’s more than a technology problem that makes these classes of vulnerabilities hard to solve. It’s an ecosystem problem.</p>
<p>In most cases, because of the inherent design of the components being exposed to the internet, layering security controls on top of them is challenging to do without losing functionality or efficiency. Take regular expressions themselves: the ability to self-reference and back-reference is what makes them so powerful, but that same ability also creates an inherent DoS risk. To parse a statement, a regular expression can back-reference or self-reference as many times as necessary. Yet for an attacker, <em>necessary</em> might mean <em>until you pay me to stop</em>.</p>
<p>Developers can reasonably assume that command line users working on their own systems will submit well-formulated requests, designed to end <span epub:type="pagebreak" id="Page_xvi" title="xvi"/>in computationally reasonable times. After all, who would DoS themselves, except by accident? But that foundational assumption doesn’t hold true on the internet. Even for those incredibly rare people who consider and understand how online threats invalidate the fundamental design assumptions of the component they’re reusing, compensating for a design decision is tricky. More commonly, people don’t even know there’s a problem to consider.</p>
<p>Then you have the fact that usability is a thing. Most of our internet-facing technology is supposed to be forgiving in the case of errors so that our lowest-common-denominator internet users can handle it. It should be autocorrecting so that errors are handled gracefully. And, at the same time, that technology needs to be secure against the most technically savvy, bored, or determined attackers. No effective self-correcting and communicative system can also keep a person from inferring that data is correct or has been corrected. A shrewd user with no prior knowledge of the system can often infer the data it contains by making a short series of educated guesses and abusing the communicative aspects of the technology. This ability to infer and then confirm is the source of many subtle information disclosure risks.</p>
<p>In a broader sense, many of the specifications for these data formats and languages are insecure as a consequence of the design process. Standards for things like PDFs and images often include a mishmash of requirements dictated by the biggest vendors at the time that the standard was made. The core specification contains what the vendors could agree on, while optional items accommodate each vendor’s peculiar features and design decisions. The patchwork created by committees with vested interests doesn’t exactly inspire the group to think about security. And as data becomes the new currency, committees are almost deliberately adding privacy and security risks to standards so that companies can continue to perform data collection (and profit accordingly).</p>
<p>Lastly, education about these issues is sorely lacking, which brings us back to this book. If you’re learning how to attack interpreted query languages and data formats for the first time, this book should give you the foundational approaches to do more than just hack GraphQL. The same techniques, thought processes, and issue classes described in the book will likely serve your career for the next decade and beyond.</p>
<p>If you’re reading this book to better understand GraphQL (or skimming it in the mad rush to prepare for your next assignment), you’ll find it to be a great briefing created by two people who have had to do their own fair share of hacking and who know the information you’ll need. This includes a useful checklist of issues to look out for, insight into a bunch of little gotchas, and GraphQL-specific quirks and subtleties that would otherwise take you a lot of time and research to uncover.</p>
<p>Nick Aleks and Dolev Farhi have both used this information to break and build complex systems, so they can describe the builder’s perspective as well as the breaker’s, an angle often missing in hacking books. Their insights into the GraphQL ecosystem should help quickly elevate your work beyond <em>finding the vulnerability</em> and allow you to move to an adversarial simulation or threat-hunting approach.</p>
<p><span epub:type="pagebreak" id="Page_xvii" title="xvii"/>And if you’re ever working on a new framework, this book will be a great resource for helping you change your little part of the ecosystem. By studying common technical problems and understanding GraphQL’s ecosystem challenges, hopefully you’ll pick up tips on what to avoid and concepts that will translate into more secure design decisions.</p>
<p class="source right">Opheliar Chan</p>
<p class="source right">OWASP Toronto chapter lead</p>
</section>
</body>
</html>