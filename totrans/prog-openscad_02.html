<html><head></head><body>
<section>
<header>
<h1 class="chapter">
<span class="ChapterNumber"><span epub:type="pagebreak" title="25" id="Page_25"/>2</span><br/>
<span class="ChapterTitle">More Ways to Transform Shapes</span></h1>
</header>
<figure class="opener">
<img src="image_fi/book_art/chapterart.png" alt=""/>
</figure>
<p class="ChapterIntro">This chapter introduces a collection of transformation operations that allow you to have more control when creating complex shapes. You’ll learn how to rotate, reflect, and scale shapes; combine them with a shared hull; and round out their edges. These transformation operations will expand your modeling toolbox and allow you to create even more complex designs. </p>
<h2 id="h1-279547c02-0001">OpenSCAD Shape Transformations</h2>
<p class="BodyFirst">First, you’ll learn how to use three transformation operations: <code>rotate</code>, <code>mirror</code>, and <code>resize</code>. A <em>transformation operation</em> is a bit of code that comes immediately before a shape to alter the shape’s position, size, or <span epub:type="pagebreak" title="26" id="Page_26"/>orientation. For illustrative purposes, we include a transparent gray outline in this chapter’s examples to indicate where the original, untransformed shape would have appeared.</p>
<h3 id="h2-279547c02-0001">Rotating Shapes with rotate</h3>
<p class="BodyFirst">By default, OpenSCAD draws shapes so they’re oriented in a certain way. It draws sphere shapes centered at (0, 0, 0), for example, and cube shapes with a single corner at (0, 0, 0). Sometimes, though, you’ll want your shape to have a different orientation. </p>
<p>One way to alter a shape’s default position is to <em>rotate</em> it. To rotate a shape, specify the angle of rotation around each of the three axes, and express the angles of rotation in degrees, which can be positive or negative.</p>
<p>The following code snippet rotates a cuboid 90 degrees around the x-axis (<a href="#figure2-1" id="figureanchor2-1">Figure 2-1</a>):</p>
<pre><code>rotate([90, 0, 0]) cube([30, 20, 10]);</code></pre>
<figure>
<img src="image_fi/279547c02/f02001.png" alt="f02001"/>
<figcaption><p><a id="figure2-1">Figure 2-1</a>: A cuboid rotated 90 degrees around the x-axis</p></figcaption>
</figure>
<p>First, write the name of the transformation, and then inside the parentheses, provide <code>rotate</code> with a vector in square brackets (<code>[ ]</code>) to group together the three axes of rotation. The first element in the vector is the degree of rotation around the x-axis, the second is the degree of rotation around the y-axis, and the third is the degree of rotation around the z-axis. Next, write the code for the shape you want to rotate. As always, use a semicolon (<code>;</code>) to end the entire statement.</p>
<p>Because you’re rotating the shape 90 degrees around the x-axis, its position the x-axis stays fixed, and it gets a new position on the yz-plane.</p>
<p><span epub:type="pagebreak" title="27" id="Page_27"/>The following code snippet rotates the same cuboid around the y-axis (<a href="#figure2-2" id="figureanchor2-2">Figure 2-2</a>):</p>
<pre><code>rotate([0, 180, 0]) cube([30, 20, 10]);</code></pre>
<figure>
<img src="image_fi/279547c02/f02002.png" alt="f02002"/>
<figcaption><p><a id="figure2-2">Figure 2-2</a>: A cuboid rotated 180 degrees around the y-axis</p></figcaption>
</figure>
<p>In this case, the shape’s position relative to the y-axis stays fixed, and its position on the xz-plane moves by 180 degrees. </p>
<p>You can also rotate a shape around two axes with a single operation, as in the following snippet (<a href="#figure2-3" id="figureanchor2-3">Figure 2-3</a>):</p>
<pre><code>rotate([-90, 0, -90]) cube([30, 20, 10]);</code></pre>
<figure>
<img src="image_fi/279547c02/f02003.png" alt="f02003"/>
<figcaption><p><a id="figure2-3">Figure 2-3</a>: A cuboid rotated 90 degrees around the x-axis and 90 degrees around the z-axis</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="28" id="Page_28"/>This cuboid is rotated around both the x- and z-axes. You might find it easier to imagine this operation as two separate transformations: one that rotates the shape around the x-axis and one that rotates it around the z-axis. To rotate the shape counterclockwise by 90 degrees in both directions, set the angle of rotation for those axes to –90. </p>
<p>Even though rotation around multiple axes is possible with the application of only one rotation operation, it’s best to separate the various rotations into individual, repeated transformations. This is because it is sometimes hard to predict which rotation will be applied first. Consider the difference in the location of the cuboid when the rotation around the z-axis is applied before the rotation around the x-axis (<a href="#figure2-4" id="figureanchor2-4">Figure 2-4</a>):</p>
<pre><code>rotate([-90, 0, 0]) rotate([0, 0, -90]) cube([30, 20, 10]);</code></pre>
<figure>
<img src="image_fi/279547c02/f02004.png" alt="f02004"/>
<figcaption><p><a id="figure2-4">Figure 2-4</a>: A cuboid rotated –90 degrees around the z-axis, then rotated –90 degrees around the x-axis</p></figcaption>
</figure>
<p>Explicitly applying multiple rotations in their intended order will result in shapes ending up exactly where you’d like them to be after the rotations are applied.</p>
<h3 id="h2-279547c02-0002">Reflecting Shapes with mirror</h3>
<p class="BodyFirst">Another way to change a shape’s default position is to <em>reflect</em> it across an imaginary 2D plane with the <code>mirror</code> transformation. As you might expect from the name of the operation, <code>mirror</code> creates a mirror-like reflection of your shape. The following statement reflects a truncated cone across the yz-plane (<a href="#figure2-5" id="figureanchor2-5">Figure 2-5</a>):</p>
<pre><code>mirror([10, 0, 0])
  translate([0, 10, 0]) rotate([0, 90, 0]) cylinder(h=10, r1=5, r2=2); </code></pre>
<span epub:type="pagebreak" title="29" id="Page_29"/><figure>
<img src="image_fi/279547c02/f02005.png" alt="f02005"/>
<figcaption><p><a id="figure2-5">Figure 2-5</a>: A truncated cone reflected across the yz-plane via the vector [10, 0, 0]</p></figcaption>
</figure>
<p>The vector you pass to <code>mirror</code> contains the x, y, and z coordinates that define an imaginary point. OpenSCAD then draws an imaginary line from the origin to that point and uses the 2D plane that is perpendicular to that line at the origin as the <em>mirror</em>, or plane of reflection. </p>
<p>To clarify this, <a href="#figure2-6" id="figureanchor2-6">Figure 2-6</a> shows the “mirror” as a semitransparent plane.</p>
<figure>
<img src="image_fi/279547c02/f02006.png" alt="f02006"/>
<figcaption><p><a id="figure2-6">Figure 2-6</a>: A truncated cone reflected across the yz-plane via the vector [10, 0, 0] </p></figcaption>
</figure>
<p>The “mirror” is perpendicular to the vector, shown in green, drawn from (0, 0, 0) to (10, 0, 0). Notice that you don’t have to use 10 as the x-axis value to create this mirror; any nonzero x-axis value would cause the mirror <span epub:type="pagebreak" title="30" id="Page_30"/>operation to behave the same way, as your goal is only to specify a vector that is perpendicular to the mirror. The <em>mirror plane</em> always contains the origin (0, 0, 0). In effect, the vector parameter of the <code>mirror</code> operation describes how the mirror is rotated.</p>
<p>The next statement reflects a cylinder across the xy-plane (<a href="#figure2-7" id="figureanchor2-7">Figure 2-7</a>):</p>
<pre><code>mirror([0, 0, 10]) cylinder(h=10, r1=2, r2=5);</code></pre>
<figure>
<img src="image_fi/279547c02/f02007.png" alt="f02007"/>
<figcaption><p><a id="figure2-7">Figure 2-7</a>: A cone reflected across the xy-plane via the vector [0, 0, 10]</p></figcaption>
</figure>
<p>This example defines a point at (0, 0, 10), and the line from the defined point to the origin is perpendicular to the xy-plane. The <code>mirror</code> operation is particularly useful for quickly creating complex shapes that involve symmetry. Using the <code>mirror</code> operation in such cases may save you time, as you can focus on designing only one half of the object, and then use <code>mirror</code> to create the second half. </p>
<p>Note that the <code>mirror</code> operation does not copy the shape; it moves the shape into the mirrored position. If you want a fully symmetrical shape, first create the shape, and then repeat it with the <code>mirror</code> operation in front of it.</p>
<h3 id="h2-279547c02-0003">Scaling Shapes with resize </h3>
<p class="BodyFirst">The <code>resize</code> operation allows you to stretch or shrink specific dimensions of individual shapes. When you resize a shape, you can specify its exact dimension along each axis. By stretching a sphere across a single axis, for example, you can turn it into an ellipsoid (an elongated sphere). </p>
<p>The following code snippet uses <code>resize</code> to scale a sphere with a radius of 1 into an ellipsoid (<a href="#figure2-8" id="figureanchor2-8">Figure 2-8</a>):</p>
<pre><code>resize([10, 10, 20]) sphere(1, $fn=100);</code></pre>
<span epub:type="pagebreak" title="31" id="Page_31"/><figure>
<img src="image_fi/279547c02/f02008.png" alt="f02008"/>
<figcaption><p><a id="figure2-8">Figure 2-8</a>: A sphere resized into an ellipsoid</p></figcaption>
</figure>
<p>Before writing the shape command, pass a vector to the <code>resize</code> operation to group together the new dimensions of the sphere along the x-, y-, and z-axes. As with all transformations, use a semicolon to end the entire statement.</p>
<p>The new ellipsoid stretches 5 units on either side of the origin along the x-axis, 5 units on either side of the origin along the y-axis, and 10 units on either side of the origin along the z-axis. </p>
<p>You could also use <code>resize</code> to transform a basic cylinder (<a href="#figure2-9" id="figureanchor2-9">Figure 2-9</a>):</p>
<pre><code>resize([10, 5, 20]) cylinder(h=5, r1=5, r2=5);</code></pre>
<figure>
<img src="image_fi/279547c02/f02009.png" alt="f02009"/>
<figcaption><p><a id="figure2-9">Figure 2-9</a>: A resized cylinder</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="32" id="Page_32"/>This statement resizes a basic cylinder with a height and two radii of 5 units so that the transformed cylinder stretches 10 units along the x-axis (through the origin), 5 units along the y-axis (also through the origin), and 20 units along the z-axis (from the origin).</p>
<h2 id="h1-279547c02-0002">More Ways to Combine 3D Shapes</h2>
<p class="BodyFirst">In <span class="xref" itemid="xref_target_Chapter 1">Chapter 1</span>, you learned about three Boolean operations that allow you to combine multiple 3D shapes: <code>union</code>, <code>difference</code>, and <code>intersection</code>. You can also combine two shapes into one with the <code>hull</code> and <code>minkowski</code> operations.</p>
<h3 id="h2-279547c02-0004">Combining Shapes with hull</h3>
<p class="BodyFirst">The <code>hull</code> operation creates a convex <em>hull</em> (or skin) around two shapes. To understand this, imagine stretching a balloon tightly around two or more shapes in order to create a single shape. For example, the following code creates a balloon surrounding both a sphere and a cube (<a href="#figure2-10" id="figureanchor2-10">Figure 2-10</a>): </p>
<pre><code>hull() {
    translate([10, 0, 0]) sphere(8);
    translate([-10, 0, 0]) cube([4, 4, 4], center=true);
}</code></pre>
<figure>
<img src="image_fi/279547c02/f02010.png" alt="f02010"/>
<figcaption><p><a id="figure2-10">Figure 2-10</a>: A hull stretched around a small cube and a big sphere</p></figcaption>
</figure>
<p>The <code>hull</code> operation has the same syntax as the Boolean operations described in <span class="xref" itemid="xref_target_Chapter 1">Chapter 1</span>. It can combine two or more shapes, and as with the <code>union</code> operation, the order of shapes does not matter. </p>
<h3 id="h2-279547c02-0005"><span epub:type="pagebreak" title="33" id="Page_33"/>Combining Shapes with minkowski</h3>
<p class="BodyFirst">The <code>minkowski</code> operation creates a <em>Minkowski sum</em> of a collection of shapes. This means it wraps the edges of one shape with the characteristic of a second shape. The following example wraps a sphere around the edges of a cylinder to create rounded edges (<a href="#figure2-11" id="figureanchor2-11">Figure 2-11</a>):</p>
<pre><code>$fn=50;
minkowski() {
    cylinder(h=15, r1=5, r2=5);
    sphere(4);
}</code></pre>
<figure>
<img src="image_fi/279547c02/f02011.png" alt="f02011"/>
<figcaption><p><a id="figure2-11">Figure 2-11</a>: A sphere used to smooth the corners of a cylinder</p></figcaption>
</figure>
<p>The <code>minkowski</code> operation also has the same syntax as the Boolean operations described in Chapter 1. In this example, the edges of the cylinder become rounded edges because the smaller sphere has been embossed along the edges of the cylinder. It’s important to note that the <code>minkowski</code> operation produces a larger shape than the original cylinder, because wrapping the sphere around the original cylinder adds volume. </p>
<h2 id="h1-279547c02-0003">Combining Transformations</h2>
<p class="BodyFirst">You can combine transformation operations by writing one operation in front of another. For example, the following code snippet applies the <code>rotate</code> operation before <code>translate</code> on each of three cylinders (<a href="#figure2-12" id="figureanchor2-12">Figure 2-12</a>):</p>
<pre><code>translate([5, 0, 0]) rotate([90, 0, 0]) cylinder(h=10, r1=4, r2=4);
translate([5, 0, 0]) rotate([0, 90, 0]) cylinder(h=10, r1=4, r2=4);
translate([5, 0, 0]) rotate([0, 0, 90]) cylinder(h=10, r1=4, r2=4);</code></pre>
<span epub:type="pagebreak" title="34" id="Page_34"/><figure>
<img src="image_fi/279547c02/f02012.png" alt="f02012"/>
<figcaption><p><a id="figure2-12">Figure 2-12</a>: Three cylinders, rotated and then translated</p></figcaption>
</figure>
<p>OpenSCAD first executes the innermost transformation (the operation directly to the left of a shape), then applies the outermost transformation. If you applied the transformations in the reverse order, you’d get a different result. The next snippet applies the <code>translate</code> operation before the <code>rotate</code> operation (<a href="#figure2-13" id="figureanchor2-13">Figure 2-13</a>):</p>
<pre><code>rotate([90, 0, 0]) translate([5, 0, 0]) cylinder(h=10, r1=4, r2=4);
rotate([0, 90, 0]) translate([5, 0, 0]) cylinder(h=10, r1=4, r2=4);
rotate([0, 0, 90]) translate([5, 0, 0]) cylinder(h=10, r1=4, r2=4);</code></pre>
<figure>
<img src="image_fi/279547c02/f02013.png" alt="f02013"/>
<figcaption><p><a id="figure2-13">Figure 2-13</a>: Three cylinders, translated and then rotated</p></figcaption>
</figure>
<p><span epub:type="pagebreak" title="35" id="Page_35"/>You get different results because OpenSCAD applies operations in order, starting with the transformation operation closest to the shape.</p>
<h2 id="h1-279547c02-0004">Summary</h2>
<p class="BodyFirst">This chapter introduced several important operations for transforming shapes. You can now move, rotate, reflect, and resize shapes. You can also combine two shapes by forming a hull around them or by smoothing the corners of one shape with another. </p>
<p>Here are some important points to remember:</p>
<ul>
<li>You can apply transformation operations to single shapes and combined shapes.</li>
<li>Combining shapes with the <code>union</code> operation can reduce the number of transformation operations that you need to apply to a complex design.</li>
<li>Applying a series of <code>rotate</code> operations is often easier to manage than combining rotations into one <code>rotate</code> operation. </li>
<li>Reflecting combined shapes with <code>mirror</code> can save you time when you’re building symmetrical designs.</li>
<li>When you’re applying multiple transformation operations, order matters.</li>
<li>The transformation operation closest to the shape is applied first.</li>
</ul>
<p>In the next chapter, you’ll learn how to convert 2D shapes into 3D shapes, apply transformation operations to 2D shapes, and create surprisingly complex 3D shapes by combining and operating on basic 2D shapes.</p>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c02-0005"><span epub:type="pagebreak" title="36" id="Page_36"/>Design Time: Transforming Shapes</h2>
<p class="BoxBodyFirst">Before moving on to Chapter 3, practice the skills you learned in this chapter by building each of these complex shapes (<a href="#figure2-14" id="figureanchor2-14">Figure 2-14</a>).</p>
<figure>
<img src="image_fi/279547c02/f02014.png" alt="f02014"/>
<figcaption><p><a id="figure2-14">Figure 2-14</a>: Practice building each of these shapes.</p></figcaption></figure><div class="dottedBottom hr"><hr/></div>
</section>
</aside>
<aside epub:type="sidebar">
<div class="dottedTop hr"><hr/></div>
<section class="boxcustom2">
<h2 id="h1-279547c02-0006"><span epub:type="pagebreak" title="37" id="Page_37"/>Big Projects: Transforming Shapes</h2>
<p class="BoxBodyFirst">Hone your transformation skills with these bigger, more difficult projects.</p>
<h3>Game Die</h3>
<p class="BoxBodyFirst">This project will help you when you’re missing a die in the <em>Monopoly</em> box. Build your own die (<a href="#figure2-15" id="figureanchor2-15">Figure 2-15</a>) to practice the operations you learned in this chapter. </p>
<figure>
<img src="image_fi/279547c02/f02015.png" alt="f02015"/>
<figcaption><p><a id="figure2-15">Figure 2-15</a>: Game die</p></figcaption></figure>
<p class="BoxListHead"><b>3D-Printing Tip for the Game Die</b></p>
<ol class="none">
<li>The interior of a 3D-printed object consists of two parts: the infill and the shell. The <em>infill</em> is the interior volume of the object. The <em>shell</em> is the thick wall that forms the exterior shape of the design.</li>
<li>The <em>fill</em> <em>density</em> of a 3D-printed object describes how much volume of the object’s interior will be filled with plastic. It’s usually laid out in a crosshatched pattern to save time and plastic (although it’s certainly possible to change this pattern). Try varying the fill density of your die to see how lower fill densities decrease printing times, while higher fill densities increase them.</li>
<li>Since your die won’t be undergoing much structural stress, a 5 to 10 percent fill density should optimize both time and materials.</li>
</ol>
<h3><span epub:type="pagebreak" title="38" id="Page_38"/>Desktop Organizer</h3>
<p class="BoxBodyFirst">When you’re done playing with your die, put your design skills to a more practical use by building this desktop organizer (<a href="#figure2-16" id="figureanchor2-16">Figure 2-16</a>) to hold your pencils and paper clips. </p>
<figure>
<img src="image_fi/279547c02/f02016.png" alt="f02016"/>
<figcaption><p><a id="figure2-16">Figure 2-16</a>: Desktop organizer</p></figcaption></figure>
<p class="BoxListHead"><b>3D-Printing Tip for the Desktop Organizer</b></p>
<ol class="none">
<li><em>Shell thickness</em><em> </em>is the thickness of the outer wall of the 3D-printed design. It describes the number of layers on the outside of the print. A thicker outer wall makes your object much stronger, which is important if your object is going to undergo repeated use and stress. Increasing the shell thickness of your print can be a good way to increase the durability of your 3D-printed object without having to dedicate more resources to increasing the fill density.</li>
<li>Shell thickness is often described in terms of <em>nozzle diameters</em> (as in, the size of the hole that the melted plastic squeezes though in your 3D printer). The default shell thickness is often two nozzle diameters, which is about 0.8 mm. Try varying the shell thickness of this design to see the effect it has on print time and material usage.</li>
</ol><div class="dottedBottom hr"><hr/></div>
</section>
</aside>
</section>
</body></html>