- en: —18—
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: —18—
- en: Building Binary Search Ladders
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 构建二分查找梯子
- en: You didn’t think we would change the password, Mr. Runtime?” asked a voice behind
    Frank.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: “你难道不认为我们会更改密码吗，运行时先生？”一个声音从弗兰克身后传来。
- en: Frank whipped his head around. The spy was strolling toward him, calm and unhurried.
    Frank tried to stand, but his left foot protested with a burst of pain. He settled
    for scooting around on his butt until he faced her.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克猛地转过头。间谍正悠闲地朝他走来，冷静而不慌不忙。弗兰克试图站起来，但他的左脚突然传来一阵剧痛，他只好屁股着地，绕着爬动，直到面对她。
- en: “I didn’t think the Vinettees would have the ability to change it,” Frank admitted.
    “It’s hard to find an evil wizard these days. I hear their last wizard is selling
    coconuts now.”
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: “我没想到维内特家族居然有能力改变它，”弗兰克承认道，“如今很难找到邪恶的巫师了。我听说他们的上一个巫师现在在卖椰子。”
- en: “Difficult, yes. So many of the best evil wizards fled or took positions of
    commercially viable neutrality. However, it is not impossible to find help. Let’s
    just say the Vinettees were able to make a suitable arrangement. They have found
    a wizard who is willing to provide certain magical assistance in exchange for
    their services in other areas.”
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: “确实困难，很多最优秀的邪恶巫师都逃走了，或者选择了中立的商业化位置。然而，找到帮助并非不可能。可以这么说，维内特家族已经达成了一个合适的安排。他们找到了一个愿意提供某些魔法帮助的巫师，以换取他们在其他领域的服务。”
- en: She waved toward the ladders. “Admittedly, he isn’t as talented as Katia when
    it comes to binary search tree traps. She was a true artist. But his work is sufficient.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 她朝梯子挥了挥手。“坦白说，他在二分查找树陷阱上的才能不如卡蒂娅。她才是真正的艺术家。但他的作品也足够了。”
- en: “Believe it or not, you almost made it down. You were one ladder off. The password
    is 26\. We obviously didn’t want him changing too many ladders—just enough to
    trap anyone who tried to reuse an old password. So close.”
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: “信不信由你，你差点就下去了。你差了一个梯子。密码是26\。显然我们不希望他更改太多梯子——只需要足够多来困住任何试图重用旧密码的人。真是差一点。”
- en: '![image](../images/f0146-01.jpg)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0146-01.jpg)'
- en: Frank remained silent, but when she didn’t continue, he asked, “Who are you?”
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克保持沉默，但当她没有继续下去时，他问道：“你是谁？”
- en: “My name is not important. I work for the Vinettees.”
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: “我的名字不重要。我为维内特家族工作。”
- en: “A spy?”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: “间谍？”
- en: She shrugged. “I collect information. Call it what you want.”
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 她耸了耸肩。“我收集情报。随你怎么称呼。”
- en: “What do you want with me?”
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: “你想对我做什么？”
- en: “We want you out of the way, obviously.”
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: “我们显然是想让你离开这里。”
- en: Frank considered the implications. It would take more than a bitten foot to
    sideline him, and the spy had to know this. Which meant that she planned to either
    kill him or keep him captive. While neither option appealed to Frank, he always
    preferred the one that didn’t involved getting killed.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克考虑着这件事的含义。要让他停下来，光靠咬伤的脚是不够的，而间谍肯定知道这一点。这意味着她计划要么杀了他，要么将他囚禁。尽管这两种选择都不让弗兰克感兴趣，但他总是更倾向于选择不涉及死亡的那一个。
- en: '![image](../images/f0146-02.jpg)'
  id: totrans-16
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0146-02.jpg)'
- en: As though reading his thoughts, the spy responded, “I had hoped the binary search
    ladder trap would do the job, but no. Not yet, at least.” She walked over to another
    ladder just past 26 and struck a rung with the palm of her hand. A dull gonging
    sound filled the room. Then she struck again twice more. *Gong*. *Gong*.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 仿佛能读懂他的想法，间谍回应道：“我原本希望二分查找梯子陷阱能完成任务，但没有。至少现在还没有。”她走到26号梯子旁边，抬手用掌心击打了一根梯级。一声沉闷的钟声充满了房间。接着，她又击打了两下。*钟*。*钟*。
- en: “Goodbye, Mr. Runtime,” she said. And, without so much as a backward glance,
    she strode from the room.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: “再见了，运行时先生，”她说道。说完，毫不回头地大步走出房间。
- en: Confused, Frank watched her go. Then movement out of the corner of his eye caught
    his attention. As he watched, three rungs detached themselves and dropped to the
    floor. After a moment, they started wriggling toward him, hissing quietly. Snake
    rungs.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克困惑地看着她离去。突然，他眼角的余光吸引了他的注意。当他仔细观察时，三根梯级松动并掉落到地上。片刻之后，它们开始向他蠕动，轻轻发出嘶嘶声。蛇形梯级。
- en: Frank moved quickly. The snake rungs were dangerous but slow. If he could make
    it to ladder 26, he still had a chance. He crawled on his hands and knees, not
    trusting his foot yet. He used the ladder to pull himself to his feet and leaned
    heavily against the metal. There was no doubt about it, this climb was going to
    hurt.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克迅速行动起来。蛇形梯级危险但很慢。如果他能到达26号梯子，他还有机会。他趴在地上爬行，依然不敢依赖那只脚。他用梯子拉自己站起来，身体沉重地靠在金属上。毫无疑问，这次爬升会非常疼痛。
- en: The snake rungs were just a few feet away now.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 蛇形梯级现在离他只有几步之遥了。
- en: With a groan of annoyance, Frank reached up and started to climb the ladder.
    It was more of a hop than a climb; he had to jump off his good foot and pull himself
    to the next rung. His left foot throbbed with each movement.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克烦躁地呻吟了一声，伸手开始爬梯子。与其说是爬，更像是跳跃；他必须用健康的脚跳起，拉自己上到下一个梯级。每次移动，他的左脚都剧烈地疼痛。
- en: Frank hauled himself up to the top and collapsed onto platform 25, lying back
    to catch his breath and curse binary search ladders. To think that he had once
    thought these structures beautiful, elegant even. He had been to several of Alena’s
    exhibits during his police academy days and had even attended the world’s one
    and only instance of binary search tree performance art.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克爬上顶端，倒在25号平台上，仰躺着喘气，诅咒着二分搜索梯子。曾经他还觉得这些结构很美，甚至很优雅。他在警校时曾去过阿莱娜的几次展览，甚至参加过世界上唯一一次的二分搜索树行为艺术表演。
- en: The exhibit had been called *Raise the Pears*. Alena had contracted three wizards
    to magically raise a binary search ladder in real time, organizing a collection
    of paintings by the number of pears they depicted. Pear-centric still life had
    been a craze that year, a phenomenon later blamed on the poor quality of the apple
    crop. While not as embarrassing as the following year’s obsession with toast sculptures,
    the pear craze is still only ever discussed in art history classes, and even there
    only in hushed tones, with the appropriate expression of disgust.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 展览被命名为*抬起梨子*。阿莱娜雇佣了三位巫师，利用魔法实时抬起二分搜索梯子，将一系列画作按其中的梨子数量进行排列。那一年，梨子主题的静物画风靡一时，这一现象后来被归因于苹果作物的质量差。虽然不如次年对吐司雕塑的痴迷那般尴尬，但梨子热潮至今仍只在艺术史课程中提及，且常常是低声讨论，带着相应的厌恶表情。
- en: Seven assistants, each carrying a crude painting containing pears, had paraded
    into the gallery. They stood in sorted order from 1 to 23 pears, the paintings
    held in front of their faces to hide their shame at the absurd spectacle.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 七位助手，每人拿着一幅描绘梨子的粗糙画作，走进了画廊。他们按照从1到23个梨的顺序排列，画作挡在脸前，遮掩着他们因这荒谬景象而感到的羞耻。
- en: '![image](../images/f0148-01.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0148-01.jpg)'
- en: The first wizard stepped forward. He counted out the pictures, finding the middle
    element. The painting depicted eight pears and a cup of milk on a wooden table.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 第一位巫师走了出来。他数了数画作，找到了中间的元素。这幅画描绘了八个梨和一杯牛奶，摆在一张木桌上。
- en: “Tree root ascend,” the wizard shouted. Immediately the line of paintings split
    into three groups. On the left were the paintings with fewer than eight pears.
    On the right were the paintings with more than eight pears. And floating above
    them was the new root of the binary search tree. He had made the first branch.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: “树根上升，”巫师大喊道。画作的排列立即分成了三组。左侧是少于八个梨的画作；右侧是多于八个梨的画作。而在它们上方，是二分搜索树的新根节点。他已经做出了第一分支。
- en: '![image](../images/f0148-02.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0148-02.jpg)'
- en: After that, the other two wizards recursively divided the paintings on each
    side, first left and then right. The process was always the same. The wizard selected
    the middle element and partitioned the paintings based on that element. As they
    worked, the tree rose into the air and branched out below the root node.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 随后，另外两位巫师递归地将画作分成左右两部分。这个过程总是一样的。巫师选择中间的元素，并根据这个元素将画作分开。在他们工作时，树形结构从根节点向上升起，下面则是分支。
- en: '![image](../images/f0148-03.jpg)![image](../images/f0149-01.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0148-03.jpg)![image](../images/f0149-01.jpg)'
- en: At the time, the demonstration had seemed amazing. Now, sitting on the weaponized
    form of the data structure, Frank found the whole concept rather idiotic. He wondered
    how he could have ever thought the recursive division of paintings was beautiful.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 当时，这个展示看起来令人惊叹。现在，坐在这个武器化的数据结构上，弗兰克觉得整个概念相当愚蠢。他不禁想，自己当时是怎么觉得递归分割画作很美的。
- en: The sound of hissing brought Frank back to the moment. The end of a snake rung
    poked up onto the platform and swiveled around, searching for Frank. Given that
    it was little more than an animated piece of metal, Frank wasn’t exactly sure
    how the snake rung searched. It didn’t have any eyes, nose, or mouth. Maybe it
    sensed vibrations.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 嘶嘶的声音把弗兰克拉回了现实。蛇形铃铛的末端探出平台，四处旋转，寻找弗兰克。鉴于它只是一个活动的金属物件，弗兰克不太确定这蛇形铃铛是如何搜索的。它没有眼睛、鼻子或嘴巴，也许是通过震动来感应的。
- en: He considered kicking the snake rung down, but decided against it. Snake rungs
    were inexplicably poisonous, considering their lack of a mouth.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 他考虑踢掉那根蛇形梯子，但最终决定不这么做。蛇形梯子不知为何有毒，尽管它们没有嘴巴。
- en: Instead, Frank decided to continue his retreat. He scooted over to the upward
    ladder and hoisted himself into a standing position. The pain in his ankle had
    subsided enough to make the next climb more of a traditional ladder experience
    and less a frantic hopping motion.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，弗兰克决定继续撤退。他挪动到向上的梯子旁，将自己拉到站立的位置。他脚踝的疼痛已经减轻，下一次的攀爬更像是一个传统的梯子体验，而不是疯狂的跳跃动作。
- en: Frank continued directly up the next level, returning to the top root-node platform
    with the little brass tag reading 50.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克直接向上爬上了下一层，回到了那个刻有50的小铜牌的根节点平台。
- en: He paused to mutter yet another curse against binary search ladders. They were,
    as he saw it now, quite stupid contraptions. Despite not having any actual reasoning
    behind it, Frank felt confident in his assessment. With a satisfied nod, he pulled
    himself back onto the street and away from the snake rungs.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 他停下来低声咒骂了一下二分查找梯子。他现在看来，这些梯子简直是愚蠢的装置。尽管没有任何实际的理由，弗兰克仍然对自己的评估充满信心。满意地点了点头，他把自己拉回到街道上，远离了那条蛇形的梯子。
- en: '**POLICE ALGORITHMS 101: BINARY SEARCH TREES**'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**警察算法 101：二分查找树**'
- en: '***Excerpt from Professor Drecker’s Lecture***'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '***德雷克教授讲座摘录***'
- en: You can create binary search trees from a sorted array by recursively dividing
    the elements into smaller subsets. At each level, the middle value is chosen as
    the node at that level. If there is an even number of elements, you can use either
    of the two middle elements.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过递归地将已排序的数组元素分割成更小的子集来创建二分查找树。在每一层，选择中间值作为该层的节点。如果元素数量为偶数，你可以选择中间的两个元素中的任意一个。
- en: '![image](../images/f0150-01.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0150-01.jpg)'
- en: Once the root node has been created, both the left and right subsets will then
    independently split in the same way. Conceptually, we split the sorted array into
    left and right arrays and apply the same algorithm on each of those arrays.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦根节点被创建，左子集和右子集将独立地以相同的方式进行拆分。从概念上讲，我们将已排序的数组拆分为左右数组，并在每个数组上应用相同的算法。
- en: '![image](../images/f0150-02.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0150-02.jpg)'
- en: Note that during construction, it is not actually necessary to split or copy
    the array. The algorithm can use a single array by simply tracking the indexes
    of the lowest and highest value in the current branch.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，在构建过程中，实际上并不需要拆分或复制数组。算法可以通过简单地跟踪当前分支中最低和最高值的索引，使用一个单一的数组。
- en: '![image](../images/f0150-03.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0150-03.jpg)'
