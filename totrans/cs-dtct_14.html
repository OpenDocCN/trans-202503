<html><head></head><body>
<h2 class="h2" id="ch15"><span epub:type="pagebreak" id="page_117"/>—15—<br/>Iterative Deepening Can Save Your Life</h2>&#13;
<p class="noindent">I know that look,” said Mavis. Frank looked up at the <em>TCP Flyer</em>’s captain in annoyance. He preferred to brood quietly, and this was the second interruption in 10 minutes.</p>&#13;
<p class="indent">“What look?” he growled.</p>&#13;
<p class="indent">“That look,” she said, waving in Frank’s general direction. “You’re questioning your search and wondering if you spent too much time on dead ends.”</p>&#13;
<p class="indent">“Why would I be doing that?” Frank asked.</p>&#13;
<p class="indent">“I heard what the kid said,” Mavis explained. “You’re suddenly on a tight timeline, and we have at least another hour before we get back to Usb.”</p>&#13;
<p class="indent">Frank nodded. “If this piece of junk—”</p>&#13;
<p class="indent">“Hey, now. Just because you’re questioning your search doesn’t give you a reason to insult my ship.”</p>&#13;
<p class="indent">“Yeah. I suppose,” Frank mumbled by way of apology.</p>&#13;
<p class="indent">He had been running through the leads in his mind, wondering if one of them would have provided quicker answers. He knew the log entries were good leads—as good as he could hope to find in a case like this. But they’d been time-consuming. He’d spent almost a full day traveling between ports on the <em>TCP Flyer</em>.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_118"/>With a grunt, Mavis lowered herself and sat next to Frank. “Iterative deepening?”</p>&#13;
<p class="indent">Frank shrugged. The thought had occurred to him. Iterative deepening was a cross between a pure depth-first search and a breadth-first search. The algorithm searched in rounds, each round being a depth-first search that was limited to a given path length.</p>&#13;
<p class="indent">“Never was a fan,” Frank admitted. He’d never been able to stomach repeating parts of the search over and over each iteration. So much of the work seemed to be wasted.</p>&#13;
<p class="indent">Mavis laughed. “You haven’t faced enough dead ends then.”</p>&#13;
<p class="indent">Frank raised an eyebrow. “You’re talking to a private investigator. I run into more dead ends than correct paths.”</p>&#13;
<p class="indent">“Ever lose a criminal because of one?” asked Mavis.</p>&#13;
<p class="indent">“A few times,” Frank admitted.</p>&#13;
<p class="indent">“Then you should appreciate iterative deepening,” said Mavis. “When I first saw it in action, I was annoyed by the restarts too. But it’s saved my life more than once.”</p>&#13;
<p class="indent">“Restarting a search over and over saved your life?” asked Frank.</p>&#13;
<p class="indent">“Limiting how far I could explore along the wrong path saved my life,” corrected Mavis.</p>&#13;
<p class="indent">“When did iterative deepening save your life?” asked Frank, unable to keep the skepticism from his voice.</p>&#13;
<p class="indent">Mavis stared out over the ocean. “Well . . . the first time was when I was just a kid. I was an apprentice on a cargo vessel called the <em>Void Star</em>. It was an amazing ship; it could carry anything. Anyway, we were lost in the middle of the Razor Ridges—a dense series of volcanic peaks that effectively form a giant maze—and we were running out of important provisions.”</p>&#13;
<p class="indent">“Water?” asked Frank.</p>&#13;
<p class="indent">“No,” answered Mavis. “We had at least two weeks’ worth of food and water. We were low on coffee, and that was bad news for the ship’s officers. After a single day without coffee, the first mate would get twitchy and sing depressing sea shanties.”</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_119"/><img src="../images/f0119-01.jpg" alt="image"/></div>&#13;
<p class="indent">“That doesn’t sound too bad.”</p>&#13;
<p class="indent">“Without coffee, the man’s singing attracted every vicious bird in an eight-mile radius.”</p>&#13;
<p class="indent">Frank winced at the thought.</p>&#13;
<p class="indent">“Anyway,” continued Mavis, “coffee was vital for the ship. The captain estimated we had less than two days to find an island with a supply station. She knew there had to be one close by, but didn’t know exactly where. You see, we’d lost the map during an impromptu paper airplane contest. And with the dense fog throughout the ridges, we wouldn’t see the station until we were right on top of it.”</p>&#13;
<div class="image"><img src="../images/f0119-02.jpg" alt="image"/></div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_120"/>“We started off searching for an island with coffee. I was still green in those days and hadn’t heard of iterative deepening, so I boldly suggested a depth-first search. The captain just laughed and told me she’d never trust a depth-first search in the Razor Ridges—too many long dead ends.</p>&#13;
<p class="indent">“Well. She gridded off the sea into one-mile-square chunks. One mile was about as far as you could see through the fog, so we would need to be in the same grid square as the supply station to see it. Then we set about exploring with iterative deepening. We used a depth-first search, but limited it to a single one-cell step. We used a classic north, east, south, west ordering, backtracking to the starting location each time. We didn’t find anything in this first step, but at least we were efficient about it. Within a few hours, we had eliminated all neighboring grid squares.</p>&#13;
<div class="image"><img src="../images/f0120-01.jpg" alt="image"/></div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_121"/>Mavis shook her head. “No sign of the supply station at all. So we started over, doing another depth-first search from the original starting point. This time we explored two steps out and covered a lot more area. We ended up reexploring the neighboring squares in the process. Still no sign of a supply station, but we were able to eliminate all squares within two steps pretty quickly.”</p>&#13;
<div class="image"><img src="../images/f0121-01.jpg" alt="image"/></div>&#13;
<p class="indent">“Why not just use breadth-first search?” asked Frank. “That’s what you were effectively doing anyway. Your search explored outward, farther and farther from the starting point.”</p>&#13;
<p class="indent">Mavis nodded. “Breadth-first search and iterative deepening have a lot in common. But you’re forgetting one key point. <em>We had lost our map</em>. It’s really difficult to track your unexplored states in breadth-first search when you don’t have a map. How do you remember your <span epub:type="pagebreak" id="page_122"/>frontier? Iterative deepening allowed us to explore outward without having to explicitly remember all the unexplored states. We just followed a depth-limited path.”</p>&#13;
<div class="image"><img src="../images/f0122-01.jpg" alt="image"/></div>&#13;
<p class="indent">“I guess so,” Frank agreed.</p>&#13;
<p class="indent">“Anyway, we were starting to run low on coffee at that point,” Mavis continued. “A group of volunteers, including the captain herself, switched to decaf. But we all knew that would only buy us a little time. We pushed on. We restarted the depth-first search again, this time allowing ourselves to venture out farther.”</p>&#13;
<p class="indent">“Did you find it with a search of length three?” asked Frank.</p>&#13;
<p class="indent">“Luckily, we did,” replied Mavis. “On that iteration we checked everything one, two, and three steps away. By that time, the quartermaster, who had absolutely no use for decaf, had resorted to reusing the same grounds for a 10th time, but the first mate was already singing ‘Sea Slugs on Deck.’ Fortunately, that was one of his more upbeat tunes.”</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_123"/><img src="../images/f0123-01.jpg" alt="image"/></div>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_124"/>Frank thought about it for a moment. “What if you had skipped the repeated work? What if you had just used depth-first search?”</p>&#13;
<p class="indent">“We would have gone down a long dead end and run out of coffee,” she replied. “Didn’t I start by telling you it saved my life?”</p>&#13;
<p class="indent">“Fair enough. But that’s a matter of luck. The nearest supply station could have been down a depth-first search of length five.”</p>&#13;
<p class="indent">“Ha! You know better than that, Frank. You can always find lucky or unlucky problems. Iterative deepening can help you hedge against really unlucky cases. It bounds how far you away you can go on any iteration.”</p>&#13;
<p class="indent">“Other algorithms do that too,” he countered.</p>&#13;
<p class="indent">Mavis scowled. “I didn’t say iterative deepening was the <em>only</em> algorithm that could have saved us. I said it was the one we used. And I have used it ever since.</p>&#13;
<p class="indent">“Once I even used it to track down an angry shoal of squid before they inked the capital’s harbor. Oh, it would have been a grand mess. Some days I wonder if I should have just let them do it. The king’s reaction would have been priceless.”</p>&#13;
<p class="indent">Frank thought for a long while, wondering if iterative deepening could have saved him time here. By cutting off the search sooner, he could have backtracked and followed up on the threads or the mysterious league. But then he wouldn’t have been following the highest-priority lead.</p>&#13;
<p class="indent">He shook his head. “I’ll stick with my usual searches,” he said finally.</p>&#13;
<p class="indent">Mavis nodded solemnly and looked out over the ocean. “Fair enough. But be careful, Frank. You don’t have much time and long dead ends can be costly. With any algorithm, you should at least think about how to protect yourself from running into the worst-case problems.”</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><span epub:type="pagebreak" id="page_125"/><strong>POLICE ALGORITHMS 101: ITERATIVE DEEPENING</strong></p>&#13;
<p class="sbsub"><em><strong>Excerpt from Professor Drecker’s Lecture</strong></em></p>&#13;
<p class="noindent">Iterative deepening is a modification of depth-first search that repeatedly performs limited depth-first searches. During iteration (or round) <em>k</em> of iterative deepening, the algorithm performs a depth-limited search with <em>max-depth = k</em>.</p>&#13;
<p class="indent">Consider again the example of searching for a suspect starting from city A.</p>&#13;
<div class="image"><img src="../images/f0125-01.jpg" alt="image"/></div>&#13;
<p class="indent">We start with a depth-first search but cut it off after the first node, A. This corresponds to limiting ourselves to searching just the scene of the crime.</p>&#13;
<div class="image"><img src="../images/f0125-02.jpg" alt="image"/></div>&#13;
<p class="indent">The next iteration restarts the depth-first search but allows it to explore one city away. We cover the close cities, visiting A, B, and D.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_126"/><img src="../images/f0126-01.jpg" alt="image"/></div>&#13;
<p class="indent">As the search progresses, we have to go farther and farther from the scene of the crime. We end up searching the nearby cities multiple times on different iterations of our search. In fact, we search A four times and B three times.</p>&#13;
<div class="image"><img src="../images/f0126-02.jpg" alt="image"/></div>&#13;
<p class="indent">While the repeated work increases computational cost, iterative deepening has advantages. It combines the lower memory requirements of depth-first search with the abilities of breadth-first search to find short paths and avoid getting stuck on some worst-case problems.</p>&#13;
</div>&#13;
</body></html>