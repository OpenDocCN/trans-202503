<html><head></head><body>
<section><header>
<h1 class="Appendix"><span class="AppendixNumber"><span epub:type="pagebreak" title="155" id="Page_155"/>A</span><br/>
<span class="AppendixTitle">OpenSCAD Language Reference</span></h1>
</header>
<figure class="opener">
<img src="image_fi/book_art/chapterart.png" alt=""/>
</figure>
<p class="ChapterIntro">This language reference provides short descriptions of most OpenSCAD features, serving as a quick reminder of how to use functionality described in this book or a way of discovering new OpenSCAD features. Consult the official OpenSCAD reference at <a href="https://openscad.org/documentation" class="LinkURL">https://openscad.org/documentation</a> for the full manual.</p>
<h2 id="h1-279547_b02-0001"><span epub:type="pagebreak" title="156" id="Page_156"/>Syntax</h2>
<ol class="none">
<li>Create a 2D or 3D shape with a collection of parameters. Terminate the command with a semicolon (<code>;</code>):
<pre><code>shape(...);</code></pre>
</li>
<li>Create a shape that has been transformed by a series of operations. Terminate the statement with a semicolon (<code>;</code>):
<pre><code>transformation2(...) transformation1(...) shape(...);</code></pre>
</li>
<li>Create a variable to name and refer to an important value; values are assigned once and cannot change:
<pre><code>var_name = value;</code></pre>
</li>
<li>Create a user-defined shape called <code>name</code> with zero or more parameters. User-defined shapes work the same way as built-in shapes:
<pre><code>module name(...) { ... } 
name(...); </code></pre>
</li>
<li>Create a user-defined mathematical operation called <code>name</code> with zero or more parameters: 
<pre><code>function name(...) = ...;
name(...);
or
name = function(...) ...;
name(...);</code></pre>
</li>
<li>Import and immediately execute the OpenSCAD code in <em>filename.scad</em>:
<pre><code>include <var>&lt;filename.scad&gt;</var></code></pre>
</li>
<li>Import and make usable (but don’t immediately execute) the OpenSCAD functions and modules in <em>filename.scad</em>:
<pre><code>use <var>&lt;filename.scad&gt;</var></code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0002"><span epub:type="pagebreak" title="157" id="Page_157"/>Operators</h2>
<p class="BodyFirst">Operators are listed in decreasing order of precedence. When multiple operators from the same level of precedence occur in an expression, the operators are evaluated in order of occurrence (from left to right):</p>
<ol class="none">
<li><code>^</code></li>
<li><code>*</code>, <code>/</code>, <code>%</code></li>
<li><code>+</code>, <code>-</code></li>
<li><code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li>
<li><code>==</code>, <code>!=</code></li>
<li><code>&amp;&amp;</code></li>
<li><code>||</code></li>
</ol>
<h2 id="h1-279547_b02-0003">2D Shapes</h2>
<ol class="none">
<li>Draw a circle of the defined radius or diameter:
<pre><code>circle(<var>radius</var> | d=<var>diameter</var>)</code></pre>
</li>
<li>Draw a square with length = <em>size</em> and width = <em>size</em> (equal sides); optionally center the square at (0,0):
<pre><code>square(<var>size</var>, <code>center</code>)</code></pre>
</li>
<li>Draw a rectangle with width along the x-axis and length/depth along the y-axis defined by a vector; optionally center the square at (0,0):
<pre><code>square([<var>width</var>, <var>height</var>], <em>center</em>)</code></pre>
</li>
<li>Draw a polygon that connects all of the points defined by the vector of [x, y] points:
<pre><code>polygon([<em>[</em><var>x1</var>, <var>y2</var><em>]</em><em>, </em><em>[</em><var>x2, y2</var><em>]</em><em>, ..., </em><em>[</em><var>xn, yn</var><em>]</em>])</code></pre>
</li>
<li>Draw a polygon that connects all of the points defined by the vector of [x, y] points; optionally define a collection of paths for polygons with holes:
<pre><code>polygon(<em>[</em><var>points</var><em>]</em>, <em>[</em><var>paths</var><em>]</em>)</code></pre>
</li>
<li><span epub:type="pagebreak" title="158" id="Page_158"/>Draw words defined by the <em>text</em> string; optionally specify the size, font, horizontal alignment, vertical alignment, letter spacing, direction, language, and script of the text:
<pre><code>text(<var>text</var>, <em>size</em>, <em>font</em>, <em>halign</em>, <em>valign</em>, 
<em>spacing</em>, <em>direction</em>, <em>language</em>, <em>script</em>)</code></pre>
</li>
<li>Import a 2D SVG or DXF file:
<pre><code>import("<var>filename.svg</var>")</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0004">3D Shapes</h2>
<ol class="none">
<li>Draw a sphere centered at (0, 0, 0) with the specified radius or diameter:
<pre><code>sphere(<var>radius</var> | d=<var>diameter</var>)</code></pre>
</li>
<li>Draw a cube with length = <em>size</em>, width = <em>size</em>, and height = <em>size</em> (equal sides); optionally center the cube at (0,0,0):
<pre><code>cube(<var>size</var>, <em>center</em>)</code></pre>
</li>
<li>Draw a cuboid with width along the x-axis, length/depth along the y-axis, and height along the z-axis defined by a vector; optionally center the cube at (0,0,0):
<pre><code>cube([<var>width</var>, <var>depth</var>, <var>height</var>], center)</code></pre>
</li>
<li>Draw a cylinder with the specified height and radius or diameter; optionally center the cylinder at (0,0,0):
<pre><code>cylinder(<em>h</em>, <em>r</em>|<em>d</em>, center)</code></pre>
</li>
<li>Draw a cone with the specified height and radii or diameters; optionally center the cone at (0,0,0):
<pre><code>cylinder(<em>h</em>, <em>r1</em>|<em>d1</em>, <em>r2</em>|<em>d2</em>, center)</code></pre>
</li>
<li><span epub:type="pagebreak" title="159" id="Page_159"/>Draw a 3D solid defined by vectors of points and faces; optionally use convexity to improve the preview of complex concave shapes:
<pre><code>polyhedron(<em>[</em><var>points</var><em>]</em>, <em>[</em><var>faces</var><em>]</em>, convexity)</code></pre>
</li>
<li>Import an STL, OFF, 3MF, or AMF file:
<pre><code>import("<var>filename.stl</var>")</code></pre>
</li>
<li>Draw a 3D height map of the data file; optionally center the shape at (0,0) and use convexity to improve the preview of complex concave shapes:
<pre><code>surface(file = "<var>filename.dat</var>", center, convexity)</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0005">Boolean Operations</h2>
<ol class="none">
<li>Group multiple shapes together into one shape:
<pre><code>union() { ... }</code></pre>
</li>
<li>Subtract one or more shapes from an initial shape:
<pre><code>difference() { ... }</code></pre>
</li>
<li>Draw the overlapping region of multiple shapes:
<pre><code>intersection() { ... }</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0006">Shape Transformations</h2>
<ol class="none">
<li>Translate a shape according to a 2D or 3D vector:
<pre><code>translate([<var>x</var>, <var>y</var>, <var>z</var>])</code></pre>
</li>
<li>Rotate a shape around each axis according to the angles defined by a vector:
<pre><code>rotate([<var>x</var>, <var>y</var>, <var>z</var>])</code></pre>
</li>
<li><span epub:type="pagebreak" title="160" id="Page_160"/>Rotate a shape a specific angle around the z-axis:
<pre><code>rotate(<var>angle</var>)</code></pre>
</li>
<li>Scale a shape according to the scale factors defined by a 2D or 3D vector:
<pre><code>scale([<var>x</var>, <var>y</var>, <var>z</var>])</code></pre>
</li>
<li>Resize a shape according to the dimensions defined by a 2D or 3D vector; optionally use <code>auto</code> to preserve the object aspect ratio in the unspecified dimensions:
<pre><code>resize([<var>x</var>, <var>y</var>, <var>z</var>], auto, convexity)</code></pre>
</li>
<li>Reflect a shape according to the perpendicular vector of a symmetry plane passing through the origin:
<pre><code>mirror([<var>x</var>, <var>y</var>, <var>z</var>])</code></pre>
</li>
<li>Multiply the geometry of all child elements with the given 4 <span class="NSSymbol">×</span> 4 affine transformation matrix:
<pre><code>multmatrix(<var>matrix</var>)</code></pre>
</li>
<li>Change a shape’s color according to a predefined color name or hexadecimal color value; optionally make the color (semi) transparent:
<pre><code>color("<var>colorname</var> | <var>#hex</var>", alpha)</code></pre>
</li>
<li>Change a shape’s color according to an RGB or RGBA vector. Each value in the vector ranges from 0 to 1 and represents the proportion of red, green, blue, and alpha present in the color.
<pre><code>color([<var>r</var>, <var>g</var>, <var>b</var>, <var>a</var>])</code></pre>
</li>
<li>Move 2D outlines outward or inward by a given radius (for rounded corners) or delta + chamfer (for sharp or cut-off corners):
<pre><code>offset(<var>r</var>|delta, chamfer)</code></pre>
</li>
<li><span epub:type="pagebreak" title="161" id="Page_161"/>Create a 2D shape by projecting a 3D shape onto the xy-plane; when <code>cut = true</code>, create a 2D slice of the intersection of a 3D object and the xy-plane; optionally, when <code>cut = true</code>:
<pre><code>projection(cut)</code></pre>
</li>
<li>Create a convex hull around one or more shapes:
<pre><code>hull() { ... }</code></pre>
</li>
<li>Draw the Minkowski sum of multiple shapes:
<pre><code>minkowski() { ... }</code></pre>
</li>
<li>Extrude a 2D shape into 3D with the given height along the z-axis; optionally center the shape at (0,0) or specify the convexity, twist, slices, and scale of the extrusion:
<pre><code>linear_extrude(<em>height</em>, <em>center</em>, <em>convexity</em>, <em>twist</em>, <em>slices</em>, <em>scale</em>)</code></pre>
</li>
<li>Extrude a 2D shape around the z-axis to form a solid that has rotational symmetry:
<pre><code>rotate_extrude(angle, convexity)</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0007">Loops, Decisions, and List Comprehensions</h2>
<ol class="none">
<li>Repeat a collection of shapes according to the start, step, and end (inclusive) values of a control variable:
<pre><code>for (<var>var_name</var> = [<var>start</var>:<var>step</var>:<var>end</var>]) { ... }</code></pre>
</li>
<li>Draw the intersection of all the shapes generated by the <code>for</code> loop:
<pre><code>intersection_for(<var>var_name</var> = [<var>start</var>:<var>step</var>:<var>end</var>]) { ... }</code></pre>
</li>
<li>Execute commands only if the Boolean test is true:
<pre><code>if (<var>boolean_test</var>) { ... }</code></pre>
</li>
<li><span epub:type="pagebreak" title="162" id="Page_162"/>Execute a collection of commands if the Boolean test is true; otherwise, execute alternate commands:
<pre><code>if (<var>boolean_test</var>) { ... } else { ... }</code></pre>
</li>
<li>Generate a list of values according to a <code>for</code> loop:
<pre><code><var>list_var</var> = [ for (i = <var>range</var>|<var>list</var>) <var>func</var>(<var>i</var>) ]</code></pre>
</li>
<li>Generate a list of values according to a <code>for</code> loop, but only if the value causes a certain condition to be true:
<pre><code><var>list_var</var> = [ for (<var>i </var>= ...) if (<var>condition</var>(<var>i</var>)) <var>func</var>(<var>i</var>) else ... ]</code></pre>
</li>
<li>Generate a list of lists according to a <code>for</code> loop:
<pre><code><var>list_var</var> = [ for (<var>i</var> = ...) let (<var>assignments</var>) <var>func</var>(...) ]</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0008">Other Shape Operations</h2>
<ol class="none">
<li>Force the generation of a mesh even in preview mode:
<pre><code>render(convexity) { ... }</code></pre>
</li>
<li>Inside a user-defined module, select the children specified by an index, vector, or range:
<pre><code>children(<var>index</var> | <var>vector</var> | <var>range</var>)</code></pre>
</li>
</ol>
<h2 id="h1-279547_b02-0009">Modifier Characters</h2>
<ol class="none">
<li><span class="RunInHead"><code class="bold">*</code></span>  Disables the drawing of a shape.</li>
<li><span class="RunInHead"><code class="bold">!</code></span>  Shows only a particular shape.</li>
<li><span class="RunInHead"><code class="bold">#</code></span>  Highlights a shape in red for debugging purposes; highlighted shape will be rendered.</li>
<li><span class="RunInHead"><code class="bold">%</code></span>  Highlights a shape in gray; highlighted shape will not be rendered.</li>
</ol>
<h2 id="h1-279547_b02-0010"><span epub:type="pagebreak" title="163" id="Page_163"/>Special Variables</h2>
<p class="ListHead"><b>Writable:</b></p>
<ol class="none">
<li><span class="RunInHead"><code class="bold">$fa</code></span>  Minimum angle for a fragment of an arc.</li>
<li><span class="RunInHead"><code class="bold">$fs</code></span>  Minimum size of a fragment of an arc.</li>
<li><span class="RunInHead"><code class="bold">$fn</code></span>  Number of fragments used to define an arc; ignores <code>$fa</code> and <code>$fs</code>.</li>
<li><span class="RunInHead"><code class="bold">$vpr</code></span>  Viewport rotation angles in degrees.</li>
<li><span class="RunInHead"><code class="bold">$vpt</code></span>  Viewport translation.</li>
<li><span class="RunInHead"><code class="bold">$vpd</code></span>  Viewport camera distance.</li>
<li><span class="RunInHead"><code class="bold">$vpf</code></span>  Viewport field of view.</li>
</ol>
<p class="ListHead"><b>Read-only:</b></p>
<ol class="none">
<li><span class="RunInHead"><code class="bold">$t</code></span>  Current animation step, normalized to a value between 0 and 1.</li>
<li><span class="RunInHead"><code class="bold">$children</code></span>  Number of module children.</li>
<li><span class="RunInHead"><code class="bold">$preview </code></span>  True if Preview mode is used.</li>
</ol>
<h2 id="h1-279547_b02-0011">Mathematical Functions</h2>
<ol class="none">
<li><span class="RunInHead"><code class="bold">sin(</code><var class="bold">ANGLE</var><code class="bold">)</code></span>  Calculates the sine of an angle in degrees.</li>
<li><span class="RunInHead"><code class="bold">cos(</code><var class="bold">ANGLE</var><code class="bold">)</code></span>  Calculates the cosine of an angle in degrees.</li>
<li><span class="RunInHead"><code class="bold">tan(</code><var class="bold">ANGLE</var><code class="bold">)</code></span>  Calculates the tangent of an angle in degrees.</li>
<li><span class="RunInHead"><code class="bold">acos(</code><var class="bold">NUMBER</var><code class="bold">)</code></span>  Calculates the arc (inverse) cosine, in degrees, of a number.</li>
<li><span class="RunInHead"><code class="bold">asin(</code><var class="bold">NUMBER</var><code class="bold">)</code></span>  Calculates the arc (inverse) sine, in degrees, of a number.</li>
<li><span class="RunInHead"><code class="bold">atan(</code><var class="bold">NUMBER</var><code class="bold">)</code></span>  Calculates the arc (inverse) tangent, in degrees, of a number.</li>
<li><span class="RunInHead"><code class="bold">atan2(</code><var class="bold">y</var><code class="bold">, </code><var class="bold">x</var><code class="bold">)</code></span>  Two-value arc (inverse) tangent; returns the full angle (0–360) made between the x-axis and the vector [<em>x, y</em>].</li>
<li><span class="RunInHead"><code class="bold">abs(</code><var class="bold">NUMBER</var><code class="bold">)</code></span>  Calculates the absolute value of a number.</li>
<li><span class="RunInHead"><code class="bold">sign(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Returns a unit value that extracts the sign of a value.</li>
<li><span class="RunInHead"><code class="bold">floor(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the largest integer not greater than the number.</li>
<li><span class="RunInHead"><code class="bold">ceil(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the next highest integer value.</li>
<li><span class="RunInHead"><code class="bold">round(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the rounded version of the number.</li>
<li><span class="RunInHead"><code class="bold">ln(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the natural logarithm of a number.</li>
<li><span class="RunInHead"><code class="bold">exp(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the mathematical constant <em>e</em> (2.718 . . .) raised to the power of the parameter.</li>
<li><span class="RunInHead"><code class="bold">log(</code><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the base 10 logarithm of a number.</li>
<li><span class="RunInHead"><code class="bold">pow(</code><var>NUMBER</var><span class="LiteralBold"><code>, </code></span><var class="bold">NUMBER</var><code class="bold">)</code>  </span>Calculates the result of a base raised to an exponent.</li>
<li><span epub:type="pagebreak" title="164" id="Page_164"/><span class="RunInHead"><code class="bold">sqrt(</code><var class="bold">NUMBER</var><code class="bold">)</code><code class="bold"/></span>  Calculates the square root of a number.</li>
<li><span class="RunInHead"><code class="bold">rands(</code><var class="bold">min</var><code class="bold">, </code><var class="bold">max</var><code class="bold">, </code><var class="bold">count</var><code class="bold">, </code><var class="bold">seed</var><code class="bold">)</code></span>  Generates a vector of random numbers; optionally includes the seed for generating repeatable values.</li>
<li><span class="RunInHead"><code class="bold">min(</code><var class="bold">VECTOR </var><code class="bold">|</code><var class="bold"> a</var><code class="bold">, </code><var class="bold">b</var><code class="bold">,</code> <var class="bold">c</var><code class="bold">)</code></span>  Calculates the minimum value in a vector or list of parameters.</li>
<li><span class="RunInHead"><code class="bold">max(</code><var class="bold">VECTOR </var><code class="bold">|</code><var class="bold"> a, b, c</var><code class="bold">)</code></span>  Calculates the maximum value in a vector or list of parameters.</li>
<li><span class="RunInHead"><code class="bold">norm(</code><var class="bold">VECTOR</var><code class="bold">)</code></span>  Returns the Euclidean norm of a vector.</li>
<li><span class="RunInHead"><code class="bold">cross(</code><var class="bold">VECTOR, VECTOR</var><code class="bold">)</code><code class="bold"/></span>  Calculates the cross-product of two vectors in 3D space.</li>
</ol>
<h2 id="h1-279547_b02-0012">Other Functions</h2>
<ol class="none">
<li><span class="RunInHead"><code class="bold">len(</code><var class="bold">VECTOR</var><code class="bold">|</code><var class="bold">STRING</var><code class="bold">)</code></span>  Calculates the length of a vector or string parameter.</li>
<li><span class="RunInHead"><code class="bold">echo(</code><var class="bold">STRING</var><code class="bold">)</code></span>  Prints a value to the console window for debugging purposes.</li>
<li><span class="RunInHead"><code class="bold">concat(</code><var class="bold">VECTOR,VECTOR,</var><code class="bold"> ...)</code></span>  Returns a new vector that’s the result of appending the elements of the supplied vectors.</li>
<li><span class="RunInHead"><code class="bold">lookup(...)</code></span>  Looks up a value in a table and linearly interpolates whether there’s no exact match.</li>
<li><span class="RunInHead"><code class="bold">str(...)</code></span>  Converts all parameters to strings and concatenates.</li>
<li><span class="RunInHead"><code class="bold">chr(</code><var class="bold">NUMBER</var><code class="bold"> | </code><var class="bold">VECTOR</var><code class="bold"> | </code><var class="bold">STRING</var><code class="bold">)</code></span>  Converts ASCII or Unicode values to a string.</li>
<li><span class="RunInHead"><code class="bold">ord(</code><var class="bold">CHARACTER</var><code class="bold">)</code>  </span>Converts a character into an ASCII or Unicode value.</li>
<li><span class="RunInHead"><code class="bold">search(...)</code></span>  Finds all occurrences of a value or list of values in a vector, string, or more complex list-of-list construct.</li>
<li><span class="RunInHead"><code class="bold">version()</code></span>  Returns the OpenSCAD version as a vector.</li>
<li><span class="RunInHead"><code class="bold">version_num()</code></span>  Returns the OpenSCAD version as a number.</li>
<li><span class="RunInHead"><code class="bold">parent_module(</code><var class="bold">INDEX</var><code class="bold">)</code><code class="bold"/></span>  Returns the name of the module <code>idx</code> levels above the current module in the instantiation stack.</li>
<li><span class="RunInHead"><code class="bold">is_undef(</code><var class="bold">VARIABLE</var><code class="bold">)</code>, <code class="bold">is_list(</code><var class="bold">VARIABLE</var><code class="bold">)</code>, <code class="bold">is_num(</code><var class="bold">VARIABLE</var><code class="bold">)</code>, <code class="bold">is_bool(</code><var class="bold">VARIABLE</var><code class="bold">)</code>,<code class="bold"> is_string(</code><var class="bold">VARIABLE</var><code class="bold">), is_function(</code><var class="bold">VARIABLE</var><code class="bold">)</code></span>  Returns <code>true</code> if the argument is of the specified type.</li>
<li><span class="RunInHead"><code class="bold">assert(</code><var class="bold">expression</var><code class="bold">)</code></span>  Will cause a compilation error if the expression is not true.</li>
<li><span class="RunInHead"><code class="bold">let (</code><var class="bold">variable</var><code class="bold"> = </code><var class="bold">value</var><code class="bold">) ...</code> </span>  Assigns a value to a variable only in the following expression.</li>
</ol>
</section>
</body></html>