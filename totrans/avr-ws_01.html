<html><head></head><body>
<div id="sbo-rt-content" class="calibre1">
 <div class="chapter" id="ch01">
  <div id="header0101" class="chapter">
   <h1 class="cn">
    <span class="page" id="p1">
    </span>
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rch01">
     1
    </a>
   </h1>
   <h1 class="ctfm">
    Getting Started
   </h1>
  </div>
  <div class="figure" id="ct01">
   <p class="fig">
    <img alt="" src="images/nsp-boxall502581-ct.jpg" class="calibre9"/>
   </p>
  </div>
  <p class="pf">
   <span>
   </span>
   Welcome to the beginning of your AVR microcontroller journey! In this chapter I’ll introduce you to the microcontrollers used in this book, as well as a few exciting examples of real-world AVR-based projects, then teach you some fundamentals about electronics.
  </p>
  <p class="calibre8">
   You will learn:
  </p>
  <ul class="calibre10">
   <li class="blf">
    • Where to get the required parts for the projects in this book
   </li>
   <li class="bl">
    • How to install the required software for Windows, macOS, and Linux
   </li>
   <li class="bl">
    • The basic properties of electricity and electronic components
   </li>
   <li class="bl">
    • About electronic components, including resistors, light-emitting diodes (LEDs), power diodes, capacitors, and more
   </li>
   <li class="bl">
    • How to use a solderless breadboard to construct circuits
   </li>
   <li class="bll">
    • Ways to safely power your experiments
   </li>
  </ul>
  <p class="calibre8">
   <span id="p2">
   </span>
   By the end of the chapter, you’ll be ready to use your AVR workstation to build your
   <a class="url" href="nsp-boxall502581-0012.xhtml#pro0">
    first project
   </a>
   .
  </p>
  <div class="chapter">
   <h2 class="ah" id="ah0301">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0301">
     The Possibilities Are Endless
    </a>
   </h2>
   <p class="paft">
    A quick scan through this book will show you that you can use AVR microcontrollers as the heart of an incredibly wide range of devices. You’ll go from blinking LEDs to creating a thermostat, a GPS logger, and more—but don’t limit yourself to the range of projects covered here! After working through this book, you’ll be well prepared to explore more advanced projects like those I’ll describe in this section.
   </p>
   <p class="calibre8">
    For example, computer scientist Vassilis Serasidis built a piece of electronics test equipment called a
    <i class="calibre5">
     logic analyzer
    </i>
    , which can measure the values of four electrical currents at the same time and display the results. His design uses an inexpensive LCD typically found in cheap cellular phones to show the signals in a graphical form, as shown in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01001">
     Figure 1-1
    </a>
    .
   </p>
   <div class="figure" id="f01001">
    <p class="fig">
     <img alt="Demonstration of the AVR-powered logic analyzer, showing four signals being analyzed at once" height="1200" src="images/nsp-boxall502581-f01001.jpg" width="1014" class="calibre11"/>
    </p>
    <div class="chapter">
     <p class="figh">
      <span>
      </span>
      <span class="calibre4">
       Figure 1-1:
      </span>
      An inexpensive logic analyzer
     </p>
    </div>
   </div>
   <p class="calibre8">
    You can use logic analyzers to run a huge variety of displays with an AVR microcontroller, from inexpensive black and white versions like the one in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01001">
     Figure 1-1
    </a>
    to realistic color displays. For more information on the project, visit
    <a class="url-i" href="https://www.serasidis.gr/circuits/mini_logic_analyzer/miniLogicAnalyzer.htm">
     https://www.serasidis.gr/circuits/mini_logic_analyzer/miniLogicAnalyzer.htm
    </a>
    .
   </p>
   <p class="calibre8">
    You can also use AVRs to build tiny projects like wearable electronics, but you need an incredibly small development board to do so. Electronics enthusiast Erik Kettenburg dreamed of such a board based on the smallest
    <span id="p3">
    </span>
    AVR in existence. He translated this idea into the Digispark board, shown in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01002">
     Figure 1-2
    </a>
    , which measures only 17.5 × 19 mm, and built a thriving business via a successful Kickstarter promotion in 2017.
   </p>
   <div class="figure" id="f01002">
    <p class="fig">
     <img alt="Photo of the very compact Digispark AVR-based development board" height="1093" src="images/nsp-boxall502581-f01002.jpg" width="1200" class="calibre11"/>
    </p>
    <div class="chapter">
     <p class="figh">
      <span>
      </span>
      <span class="calibre4">
       Figure 1-2:
      </span>
      An example of the Digispark board
     </p>
    </div>
   </div>
   <p class="calibre8">
    The size of the Digispark board means the AVR microcontroller it uses doesn’t have quite as many features as some larger chips—for example, it has less program memory space. However, the Digispark allows you to program the microcontroller directly via USB, whereas you’d normally have to purchase a separate programming device. For more information on the Digispark board, visit
    <a class="url-i" href="http://digistump.com/">
     http://digistump.com/
    </a>
    .
   </p>
   <p class="calibre8">
    In addition to using AVRs professionally, plenty of people build AVR-based projects purely for fun! One example is the AVR TV Game software engineer Ben Ryves built in 2009, shown in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01003">
     Figure 1-3
    </a>
    . Ben used very basic electronics and an AVR to make a device that plugs into a television and lets you play the classic games
    <i class="calibre5">
     Snake
    </i>
    and
    <i class="calibre5">
     Tetris
    </i>
    .
   </p>
   <div class="figure" id="f01003">
    <p class="fig">
     <img alt="Image of Tetris being played on an AVR-based TV game system" height="1104" src="images/nsp-boxall502581-f01003.jpg" width="1200" class="calibre11"/>
    </p>
    <div class="chapter">
     <p class="figh">
      <span>
      </span>
      <span class="calibre4">
       Figure 1-3:
      </span>
      Playing
      <i class="calibre12">
       Tetris
      </i>
      on the AVR TV Game
     </p>
    </div>
   </div>
   <p class="calibre8">
    <span id="p4">
    </span>
    The AVR can generate the video signals to communicate with a television without any extra hardware, and with some imagination, you can program your own games into the microcontroller. For more information, visit
    <a class="url-i" href="http://benryves.com/products/avrtvgame/">
     http://benryves.com/products/avrtvgame/
    </a>
    .
   </p>
   <p class="calibre8">
    Engineer Adam Heinrich even built his own cellular telephone in 2017 based on an AVR, complete with a color touchscreen interface. Adam’s “AvrPhone,” which is portable for mobile use, is shown in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01004">
     Figure 1-4
    </a>
    . For more information, visit
    <a class="url-i" href="http://projects.adamh.cz/avrphone/">
     http://projects.adamh.cz/avrphone/
    </a>
    .
   </p>
   <div class="figure" id="f01004">
    <p class="fig">
     <img alt="Photo of the AVR-powered cellular phone in use" height="760" src="images/nsp-boxall502581-f01004.jpg" width="1004" class="calibre11"/>
    </p>
    <div class="chapter">
     <p class="figh">
      <span>
      </span>
      <span class="calibre4">
       Figure 1-4:
      </span>
      The AvrPhone
     </p>
    </div>
   </div>
   <p class="calibre8">
    Just like these makers, with some effort, you can bridge the gap between hobbyist tinkering and full product development! But for now, let’s start with a more detailed discussion of the parts you’ll use in this book.
   </p>
  </div>
  <div class="chapter">
   <h2 class="ah" id="ah0302">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0302">
     The Microchip AVR Microcontrollers
    </a>
   </h2>
   <p class="paft">
    Throughout this book, you’ll use the two microcontrollers shown in
    <a class="url" href="nsp-boxall502581-0011.xhtml#f01005">
     Figure 1-5
    </a>
    , which Microchip Technology produces as part of its AVR product line. The smaller one, called an ATtiny85, has 8
    <i class="calibre5">
     pins
    </i>
    , which are the pieces of metal sticking out on the sides of the black chips that allow you to send and receive data and power from and to the microcontroller. The larger AVR is an ATmega328P-PU, which has 28 pins.
   </p>
   <div class="figure" id="f01005">
    <p class="fig">
     <img alt="Photo of the ATtiny85 and ATmega328P-PU microcontrollers" height="667" src="images/nsp-boxall502581-f01005.jpg" width="1028" class="calibre11"/>
    </p>
    <div class="chapter">
     <p class="figh">
      <span>
      </span>
      <span class="calibre4">
       Figure 1-5:
      </span>
      Our AVR microcontrollers, the ATtiny85 and ATmega328P-PU
     </p>
    </div>
   </div>
   <p class="pcust">
    <span id="p5">
    </span>
    <span class="ccust">
     Note
    </span>
    In this book and when purchasing your own parts, you may see microcontrollers labeled “Atmel.” Microchip acquired Atmel in 2016, but at the time of writing some suppliers still have Atmel-branded units; either label is fine.
   </p>
   <p class="calibre8">
    Apart from size, there are several important differences between the ATtiny85 and ATmega328P-PU microcontrollers, as listed in
    <a class="url" href="nsp-boxall502581-0011.xhtml#tab0101">
     Table 1-1
    </a>
    .
   </p>
   <div class="figure" id="tab0101">
    <div class="chapter">
     <p class="th">
      <span class="calibre4">
       Table 1-1
      </span>
      : Specifications for the ATtiny85 and ATmega328P-PU Microcontrollers
     </p>
    </div>
    <p class="fig">
     <img alt="Table of specifications for the ATtiny85 and ATmega328P-PU microcontrollers" height="1197" src="images/nsp-boxall502581-tab0101.jpg" width="1200" class="calibre11"/>
    </p>
   </div>
   <!--<table id="tab0101">
          <thead>
            <tr>
              <th colspan="3">            
                <p class="th"><span class="thn">Table 1-1</span>: Specifications for the ATtiny85 and ATmega328P-PU Microcontrollers</p>
                        </th>
            </tr>
            <tr>
              <td>
              </td>
              <th scope="col">            
                <p class="tch">ATtiny85</p>
                        </th>
              <th scope="col">            
                <p class="tch">ATmega328P-PU</p>
                        </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <p class="td">Schematic</p>
              </td>
              <td>
                <figure id="g01001" class="figure">
                  <p class="fig"><img src="images/nsp-boxall502581-g01001.jpg" alt="" width="450"/></p>
                </figure>
              </td>
              <td>
                <figure id="g01002" class="figure">
                  <p class="fig"><img src="images/nsp-boxall502581-g01002.jpg" alt="" width="450"/></p>
                </figure>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">Maximum processing speed</p>
              </td>
              <td>
                <p class="td">20 MHz</p>
              </td>
              <td>
                <p class="td">20 MHz</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">Operating voltage (volts)</p>
              </td>
              <td>
                <p class="td">1.8–5.5 V</p>
              </td>
              <td>
                <p class="td">1.8–5.5 V</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">Number of digital pins</p>
              </td>
              <td>
                <p class="td">Up to 6</p>
              </td>
              <td>
                <p class="td">14</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">Number of analog input pins</p>
              </td>
              <td>
                <p class="td">Up to 4</p>
              </td>
              <td>
                <p class="td">6</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">Flash memory</p>
              </td>
              <td>
                <p class="td">8KB</p>
              </td>
              <td>
                <p class="td">32KB</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">EEPROM</p>
              </td>
              <td>
                <p class="td">512 bytes</p>
              </td>
              <td>
                <p class="td">1KB</p>
              </td>
            </tr>
            <tr>
              <td>
                <p class="td">SRAM</p>
              </td>
              <td>
                <p class="td">512 bytes</p>
              </td>
              <td>
                <p class="td">2KB</p>
              </td>
            </tr>
          </tbody>
        </table>-->
   <p class="calibre8">
    The specifications in
    <a class="url" href="nsp-boxall502581-0011.xhtml#tab0101">
     Table 1-1
    </a>
    describe each chip’s physical limitations, and they will help you determine which other electronic components you can realistically use with your microcontroller. Anytime you start a new project, you need to consider this information carefully, so here’s an overview of what each specification means:
   </p>
   <p class="pcust1">
    <span class="hemb">
     Schematic
    </span>
    This is a drawing that represents the connections to an electronic component, such as the microcontrollers in this table. You’ll learn more about schematic symbols in
    <a class="url" href="nsp-boxall502581-0012.xhtml#ch02">
     Chapter 2
    </a>
    .
   </p>
   <p class="pcust1">
    <span id="p6">
    </span>
    <span class="hemb">
     Maximum processing speed
    </span>
    This row tells you how fast the microcontroller can process data, measured in cycles per second. Note that the clock speed isn’t always equal to processing speed, as some instructions can take multiple cycles to complete.
   </p>
   <p class="pcust1">
    <span class="hemb">
     Operating voltage
    </span>
    This row shows the range of voltages that you can safely use to power the microcontroller. If you don’t supply at least 1.8 V, the chip won’t turn on, but if you try to supply more than 5.5 V, it may melt!
   </p>
   <p class="pcust1">
    <span class="hemb">
     Digital pins
    </span>
    This row shows the number of pins that can send or receive digital data. Digital data is represented by voltage signals; the numbers one and zero, respectively, represent an “on” or “off” voltage. These voltage signals are then combined to represent various forms of data. All microcontrollers have pins that you can set up as digital inputs or outputs and use to control external devices.
   </p>
   <p class="pcust1">
    <span class="hemb">
     Analog input pins
    </span>
    This row shows the number of physical inputs that are available to measure voltage levels. Analog input pins let you read information from devices like
    <i class="calibre5">
     sensors
    </i>
    , which output different voltages based on what’s happening in their surroundings.
   </p>
   <p class="pcust1">
    <span class="hemb">
     Flash memory
    </span>
    This row shows how much flash memory is available on the chip. To tell your microcontroller what to do, you’ll have to write programs, which are stored in flash memory and retained even after you turn off power. If your program’s file size exceeds your AVR’s memory capacity, it won’t fit on the microcontroller!
   </p>
   <p class="pcust1">
    <span class="hemb">
     EEPROM
    </span>
    This row tells you how much
    <i class="calibre5">
     electrically erasable programmable read-only memory (EEPROM
    </i>
    ) is available on the chip. EEPROM can hold data your program creates even when the microcontroller is turned off. For example, if you want to display a certain image on an LCD whenever you power on your project, you can store that image in EEPROM for future use.
   </p>
   <p class="pcust1">
    <span class="hemb">
     SRAM
    </span>
    This row tells you how much
    <i class="calibre5">
     Static Random Access Memory (SRAM)
    </i>
    is available on the chip. This is the amount of memory available to store temporary data created by your programs. Just like the RAM in your desktop computer, SRAM is where all the information your program generates as it runs is stored until it gets deleted when the power is turned off. This could include sensor data, the results of calculations, and so on.
   </p>
   <p class="calibre8">
    I’ll cover these and other important features in detail in later chapters. For now, let’s start setting up your AVR microcontroller lab.
   </p>
  </div>
  <div class="chapter">
   <h2 class="ah" id="ah0303">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0303">
     Required Parts and Accessories
    </a>
   </h2>
   <p class="paft">
    You won’t need to buy a ton of expensive parts to get started with the projects in this book; assuming you already have a modern personal computer, you can have a lot of fun with microcontrollers for around $50. Each project I’ll walk you through includes a list of the parts you need to complete it,
    <span id="p7">
    </span>
    and you can download a list of all the parts used in this book from
    <a class="url-i" href="https://nostarch.com/avr-workshop/">
     https://nostarch.com/avr-workshop/
    </a>
    . I’d recommend you order the parts you’ll need for the projects in the first few chapters now so you don’t have to wait too long for delivery.
   </p>
   <div class="chapter">
    <h3 class="bh" id="bh0301">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0301">
      Electronic Components
     </a>
    </h3>
    <p class="paft">
     AVR microcontrollers and electronic components are available from many retailers that offer a range of products and accessories. When you’re shopping, be sure to purchase the original parts I’ve listed and not knock-offs, or you run the risk of receiving faulty or poorly performing goods. Don’t take chances buying an inferior product, as it could end up costing you more in the long run!
    </p>
    <p class="calibre8">
     Always read the hardware list at the beginning of every project and be sure to buy the correct components before you start. Here are some recommended suppliers for AVR-related parts and accessories. The first five supply worldwide, while the last four are country-specific, as noted:
    </p>
    <ul class="calibre10">
     <li class="blf">
      • DigiKey:
      <a class="url-i" href="https://www.digikey.com/">
       https://www.digikey.com/
      </a>
     </li>
     <li class="bl">
      • element14/Farnell:
      <a class="url-i" href="http://farnell.com/">
       http://farnell.com/
      </a>
     </li>
     <li class="bl">
      • PMD Way:
      <a class="url-i" href="http://pmdway.com/">
       http://pmdway.com/
      </a>
     </li>
     <li class="bl">
      • SparkFun Electronics:
      <a class="url-i" href="https://www.sparkfun.com/">
       https://www.sparkfun.com/
      </a>
     </li>
     <li class="bl">
      • Mouser:
      <a class="url-i" href="https://www.mouser.com/">
       https://www.mouser.com/
      </a>
     </li>
     <li class="bl">
      • Freetronics Australia:
      <a class="url-i" href="https://www.freetronics.com/">
       https://www.freetronics.com/
      </a>
      (for Australia)
     </li>
     <li class="bl">
      • Altronics:
      <a class="url-i" href="https://www.altronics.com.au/">
       https://www.altronics.com.au/
      </a>
      (for Australia)
     </li>
     <li class="bl">
      • Newark:
      <a class="url-i" href="https://www.newark.com/">
       https://www.newark.com/
      </a>
      (for the United States)
     </li>
     <li class="bll">
      • MindKits:
      <a class="url-i" href="https://www.mindkits.co.nz/">
       https://www.mindkits.co.nz/
      </a>
      (for New Zealand)
     </li>
    </ul>
    <p class="calibre8">
     I can vouch for these suppliers from personal experience, but there are many more across the globe. As a general rule, try to deal with organizations that offer technical and sales support and are more than just simple sales agents or listings on mega retail sites.
    </p>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0302">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0302">
      Choosing an AVR Programmer
     </a>
    </h3>
    <p class="paft">
     You need to connect a
     <i class="calibre5">
      programmer
     </i>
     like the ones shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01006">
      Figure 1-6
     </a>
     from your computer to your microcontroller circuit so that you can load programs and data onto the chip. Finding a good programmer is crucial for success in the AVR world, and a quick web search for “AVR programmer” will present you with many options. The projects in this book use a
     <i class="calibre5">
      USBasp programmer
     </i>
     , a device that interfaces between your PC and your AVR project to send your code to your project’s microcontroller. You can buy one from any of the stores listed in the previous section for (at the time of printing) less than $20.
    </p>
    <div class="figure" id="f01006">
     <p class="fig">
      <span id="p8">
      </span>
      <img alt="Photo of two different USBasp-style AVR programmers" height="724" src="images/nsp-boxall502581-f01006.jpg" width="732" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-6:
       </span>
       Examples of USBasp AVR programmers
      </p>
     </div>
    </div>
    <p class="calibre8">
     The USBasp should work with the open source software required for AVR programming. It’s an open source device created by Thomas Fischl, and only requires USB drivers when used with a Windows-based PC. When shopping for your USBasp programmer, be sure it comes with a 6-pin (not 10-pin) ribbon cable so you can use it for the projects in this book.
    </p>
   </div>
  </div>
  <div class="chapter">
   <h2 class="ah" id="ah0304">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0304">
     Required Software
    </a>
   </h2>
   <p class="paft">
    In this section, you’ll set up a
    <i class="calibre5">
     toolchain
    </i>
    that will let you program your AVR microcontroller. This toolchain consists of a series of software that takes your typed program of instructions, translates it into a form the AVR can understand, and places it in flash memory. There are three stages to the programming process, each using a different piece of software (a different “tool” in the “chain”):
   </p>
   <ol class="calibre10">
    <li class="blf">
     1. Using text editor software, you enter, edit, and save the code containing your instructions for the AVR.
    </li>
    <li class="bl">
     2. Compiler software then converts the code you created into machine code that the microcontroller can understand.
    </li>
    <li class="bll">
     3. Next, programming software takes the machine code file and uploads it to the microcontroller. At this point, the AVR should start doing what you told it to do.
    </li>
   </ol>
   <p class="calibre8">
    You can write your programs in any basic text editor, such as Notepad on Windows or TextEdit on macOS. You’ll also need a package containing the compiler and programming software. In the following three sections, I explain how to acquire and install that software for computers running MacOS, Ubuntu Linux, and Windows 7 or later.
   </p>
   <div class="chapter">
    <h3 class="bh" id="bh0303">
     <span class="page" id="p9">
     </span>
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0303">
      macOS 10.6 or Later
     </a>
    </h3>
    <p class="paft">
     To install the required software on your Mac, open the macOS Terminal app and enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
      </code>
     </p>
    </div>
    <p class="calibre8">
     This will install software that allows you to run 32-bit programs on macOS. You may be prompted to enter your password, and then the software will start, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01007">
      Figure 1-7
     </a>
     .
    </p>
    <div class="figure" id="f01007">
     <p class="fig">
      <img alt="A screenshot of the AVR toolchain being installed on a Mac via Terminal" height="381" src="images/nsp-boxall502581-f01007.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-7:
       </span>
       The toolchain installation begins in macOS.
      </p>
     </div>
    </div>
    <p class="calibre8">
     Once that has completed, enter the following into the command line:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       brew tap osx-cross/avr
      </code>
     </p>
    </div>
    <p class="calibre8">
     And once that has completed, enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       brew install avr-gcc avrdude
      </code>
     </p>
    </div>
    <p class="calibre8">
     This is the final step, which installs the required AVR software. It will return you to the command prompt when finished, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01008">
      Figure 1-8
     </a>
     ; you can then close the Terminal app.
    </p>
    <div class="figure" id="f01008">
     <p class="fig">
      <img alt="A screenshot of the completed AVR toolchain installation process on a Mac via Terminal" height="384" src="images/nsp-boxall502581-f01008.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-8:
       </span>
       Installation is complete.
      </p>
     </div>
    </div>
    <p class="calibre8">
     Now that you’ve installed your toolchain software, skip ahead to the section “Current, Voltage, and Power.”
    </p>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0304">
     <span class="page" id="p10">
     </span>
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0304">
      Ubuntu Linux 20.04 LTS or Later
     </a>
    </h3>
    <p class="paft">
     To download and install the AVR toolchain in Ubuntu Linux 20.04 LTS, first ensure your system has completed all the latest updates. Next, open a terminal window and enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       sudo apt-get install gcc build-essential
      </code>
     </p>
    </div>
    <p class="calibre8">
     Enter your password if requested. You may then be asked if you want to continue: enter
     <code class="b">
      Y
     </code>
     and press
     <span class="ac">
      enter
     </span>
     . A lot of text describing various packages should scroll by, and then the command prompt should once again appear. Enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       sudo apt-get install gcc-avr binutils-avr avr-libc gdb-avr
      </code>
     </p>
    </div>
    <p class="calibre8">
     Again, enter your password and give permission to continue if required by the installation process. Then enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       sudo apt-get install avrdude
      </code>
     </p>
    </div>
    <p class="calibre8">
     After a short period (depending on the speed of your computer and internet connection), all the required software should finish installing. Now you need to install the USB driver for the USBasp programmer. To do so, enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       sudo apt-get install libusb-dev
      </code>
     </p>
    </div>
    <p class="calibre8">
     If prompted, provide your password and enter
     <code class="b">
      Y
     </code>
     to continue. Finally, it’s time to check the driver is working. Plug your USBasp into a USB port on the computer, then enter the following command:
    </p>
    <div class="codeline">
     <p class="cls">
      <code class="b">
       lsusb
      </code>
     </p>
    </div>
    <p class="calibre8">
     After a moment a list of devices connected to the machine via USB should appear, looking something like this:
    </p>
    <div class="codeline">
     <p class="clf">
      Bus 002 Device 003: ID 045e:00cb Microsoft Corp. Basic Optical Mouse v2.0
     </p>
     <p class="cl">
      Bus 002 Device 004:
      <code class="b">
       ID 16c0:05dc Van Ooijen Technische Informatica
      </code>
     </p>
     <p class="cl">
      Bus 002 Device 002: ID 8087:0020 Intel Corp. Integrated Rate Matching Hub
     </p>
     <p class="cl">
      Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
     </p>
     <p class="cl">
      Bus 001 Device 004: ID 04f2:b1d6 Chicony Electronics Co., Ltd CNF9055
     </p>
     <p class="cl">
      Toshiba Webcam
     </p>
     <p class="cl">
      Bus 001 Device 003: ID 0bda:0138 Realtek Semiconductor Corp. RTS5138
     </p>
     <p class="cl">
      Card Reader Controller
     </p>
     <p class="cl">
      Bus 001 Device 002: ID 8087:0020 Intel Corp. Integrated Rate Matching Hub
     </p>
     <p class="cll">
      Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
     </p>
    </div>
    <p class="calibre8">
     In this example, the USBasp is the second item in the list. If your device doesn’t appear, check the connection to the PC, restart the machine, and try the
     <code class="b">
      lsusb
     </code>
     command one more time.
    </p>
    <p class="pcust">
     <span id="p11">
     </span>
     <span class="ccust">
      Note
     </span>
     Due to the open source nature of Linux, there are many variations of the OS that cannot be accounted for or documented in this book. If you’re still having problems, or would like details on installing the toolchain on other flavors of Linux, please visit
     <a class="url-i1" href="http://www.nongnu.org/avr-libc/user-manual/install_tools.html">
      http://www.nongnu.org/avr-libc/user-manual/install_tools.html
     </a>
     .
    </p>
    <p class="calibre8">
     Once installation is complete, move forward to the section titled “Current, Voltage, and Power.”
    </p>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0305">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0305">
      Windows 7 Through 11
     </a>
    </h3>
    <p class="paft">
     Setting up your toolchain in Microsoft Windows requires an extra step: you’ll first download and install the software, then install the appropriate drivers for your programmer.
    </p>
    <div class="chapter">
     <h4 class="ch" id="ch0301">
      Installing the Toolchain
     </h4>
     <p class="paft">
      To install the required software for Windows, follow these instructions:
     </p>
     <ol class="calibre10">
      <li class="blf">
       1. Open your web browser and visit the software download page located at
       <a class="url-i" href="https://sourceforge.net/projects/winavr/files/WinAVR/">
        https://sourceforge.net/projects/winavr/files/WinAVR/
       </a>
       , as shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01009">
        Figure 1-9
       </a>
       .
       <div class="figure" id="f01009">
        <p class="fig">
         <img alt="A screenshot of the WinAVR download web page with buttons labeled “Download Latest Version” and “Get Updates”" height="764" src="images/nsp-boxall502581-f01009.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span class="calibre4">
           Figure 1-9:
          </span>
          The WinAVR download page for Windows
         </p>
        </div>
       </div>
      </li>
      <li class="bl">
       2. Click the
       <b class="calibre4">
        Download Latest Version
       </b>
       button to start the software download. After a short period of time, the toolchain installer should finish downloading. Open the
       <i class="calibre5">
        Downloads
       </i>
       folder in Explorer, as shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01010">
        Figure 1-10
       </a>
       , and you should see the WinAVR install file.
       <div class="figure" id="f01010">
        <p class="fig">
         <span id="p12">
         </span>
         <img alt="A screenshot showing the downloaded WinAVR installation software" height="940" src="images/nsp-boxall502581-f01010.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span class="calibre4">
           Figure 1-10:
          </span>
          The WinAVR package
         </p>
        </div>
       </div>
      </li>
      <li class="bl">
       3. Double-click the install package, and after selecting your language, you should be presented with the WinAVR Setup Wizard, as shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01011">
        Figure 1-11
       </a>
       .
       <div class="figure" id="f01011">
        <p class="fig">
         <img alt="A screenshot of the WinAVR Setup Wizard welcome screen in Windows 11" height="931" src="images/nsp-boxall502581-f01011.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span class="calibre4">
           Figure 1-11:
          </span>
          The WinAVR Setup Wizard
         </p>
        </div>
       </div>
      </li>
      <li class="bl">
       4. Click
       <b class="calibre4">
        Next
       </b>
       in the Setup Wizard, and click
       <b class="calibre4">
        I Agree
       </b>
       when the License Agreement is displayed.
      </li>
      <li class="bl">
       <span id="p13">
       </span>
       5. The next window should prompt for the folder in which to install the toolchain. You can choose the default by clicking
       <b class="calibre4">
        Next
       </b>
       , as shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01012">
        Figure 1-12
       </a>
       .
       <div class="figure" id="f01012">
        <p class="fig">
         <img alt="A screenshot showing how to choose the installation location for the WinAVR software in Windows 11" height="927" src="images/nsp-boxall502581-f01012.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span class="calibre4">
           Figure 1-12:
          </span>
          Choosing the file location
         </p>
        </div>
       </div>
      </li>
      <li class="bl">
       6. The next window that appears, shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01013">
        Figure 1-13
       </a>
       , should ask you which components to install. Check all three boxes and click
       <b class="calibre4">
        Install
       </b>
       .
       <div class="figure" id="f01013">
        <p class="fig">
         <img alt="A screenshot showing all the available components (Install Files, Add Directories to Path, And Install Programmers Notepad) selected" height="931" src="images/nsp-boxall502581-f01013.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span class="calibre4">
           Figure 1-13:
          </span>
          Selecting the components to install
         </p>
        </div>
       </div>
      </li>
      <li class="bl">
       7. The wizard should then display a progress bar while it installs the files. Once installation has finished, close the wizard by clicking the
       <b class="calibre4">
        Finish
       </b>
       button.
      </li>
      <li class="bl">
       <span id="p14">
       </span>
       8. You should now be presented with the WinAVR user manual page, as shown in
       <a class="url" href="nsp-boxall502581-0011.xhtml#f01014">
        Figure 1-14
       </a>
       .
       <div class="figure" id="f01014">
        <p class="fig">
         <img alt="A screenshot of the WinAVR user manual displayed in a browser" height="389" src="images/nsp-boxall502581-f01014.jpg" width="1200" class="calibre11"/>
        </p>
        <div class="chapter">
         <p class="figh">
          <span>
          </span>
          <span class="calibre4">
           Figure 1-14:
          </span>
          The WinAVR user manual page
         </p>
        </div>
       </div>
       <p class="calibre8">
        Bookmark this page in your web browser, as it will be useful later on.
       </p>
      </li>
     </ol>
    </div>
    <div class="chapter">
     <h4 class="ch" id="ch0302">
      Installing the USBasp Driver
     </h4>
     <p class="paft">
      Unlike other operating systems, Windows requires you to install a driver to enable the USBasp programmer. There are different drivers for different USBasp programmers; the driver you need will depend on the brand you buy. You can find the Windows driver and installation instructions for generic USBasps on Thomas Fischl’s website:
      <a class="url-i" href="https://www.fischl.de/usbasp/">
       https://www.fischl.de/usbasp/
      </a>
      . If you have a “branded” programmer from a company like Freetronics, however, please consult the product page for the correct driver and installation instructions.
     </p>
     <p class="calibre8">
      Once you’ve installed the driver for your USBasp programmer, you can quickly confirm the success of the installation by plugging it in and then visiting the Windows Device Manager, as in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01015">
       Figure 1-15
      </a>
      .
     </p>
     <div class="figure" id="f01015">
      <p class="fig">
       <img alt="A screenshot of the Windows 11 Device Manager showing the USBasp programmer installed" height="1133" src="images/nsp-boxall502581-f01015.jpg" width="1027" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span>
        </span>
        <span class="calibre4">
         Figure 1-15:
        </span>
        USBasp in Device Manager
       </p>
      </div>
     </div>
     <p class="calibre8">
      <span id="p15">
      </span>
      You should see USBasp listed in the
      <i class="calibre5">
       libusb-win32 devices
      </i>
      category. Now that you have the software required for this book installed on your computer, it’s time for you to learn about the basics of electricity!
     </p>
    </div>
   </div>
  </div>
  <div class="chapter">
   <h2 class="ah" id="ah0305">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0305">
     Current, Voltage, and Power
    </a>
   </h2>
   <p class="paft">
    In order to build electronic circuits with your AVR-based projects, you’ll need a basic grasp of how electricity works. In simple terms,
    <i class="calibre5">
     electricity
    </i>
    is a form of energy that you can harness and convert into heat, light, movement, and power. Electricity has three main properties important for our purposes: current, voltage, and power.
   </p>
   <p class="calibre8">
    <i class="calibre5">
     Current
    </i>
    is the flow of electrical energy through a circuit from the positive side of a power source, such as a battery, to the negative side of the power source. In circuits that are not powered by a battery, the negative side is instead called
    <i class="calibre5">
     ground (GND)
    </i>
    . This kind of current is known as
    <i class="calibre5">
     direct current (DC)
    </i>
    . (For the purposes of this book, you won’t deal with the
    <i class="calibre5">
     alternating current [AC]
    </i>
    that is supplied by 110 V or 230 V mains power outlets.) Current is measured in amperes (or amps), abbreviated as A. Small amounts of current are measured in milliamps (mA), where 1,000 mA equals 1 A.
   </p>
   <p class="calibre8">
    <i class="calibre5">
     Voltage
    </i>
    is an indication of the difference in potential energy between a circuit’s positive and negative ends, measured in
    <i class="calibre5">
     volts (V)
    </i>
    . The greater the voltage, the faster the current moves through a circuit.
   </p>
   <p class="calibre8">
    <i class="calibre5">
     Power
    </i>
    is a measurement of the rate at which an electrical device converts energy from one form to another. Power is measured in
    <i class="calibre5">
     watts (W)
    </i>
    . For example, a 100 W light bulb is much brighter than a 60 W bulb because the higher-wattage bulb converts more electrical energy into light.
   </p>
   <p class="calibre8">
    A simple mathematical relationship exists among voltage, current, and power:
   </p>
   <div class="equation">
    <p class="eq">
     Power (
     <i class="calibre5">
      W
     </i>
     ) = Voltage (
     <i class="calibre5">
      V
     </i>
     ) × Current (
     <i class="calibre5">
      A
     </i>
     )
    </p>
   </div>
   <p class="pcon">
    Later chapters of this book will explain the uses of this formula in detail.
   </p>
  </div>
  <div class="chapter">
   <h2 class="ah" id="ah0306">
    <a class="xref" href="nsp-boxall502581-0008.xhtml#rah0306">
     Electronic Components
    </a>
   </h2>
   <p class="paft">
    Now that you know a little bit about the basics of electricity, let’s look at how electricity interacts with electronic components and devices. Electronic
    <i class="calibre5">
     components
    </i>
    are the parts in a circuit that control electric current and make your designs a reality. Just as the many parts of a car work together to let us drive, electronic components work together to help us harness and control electricity to create useful devices.
   </p>
   <p class="calibre8">
    Throughout this book, I’ll explain specialized components as they come up. The following sections describe some of the fundamental components you’ll need in any project.
   </p>
   <div class="chapter">
    <h3 class="bh" id="bh0306">
     <span class="page" id="p16">
     </span>
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0306">
      Resistors
     </a>
    </h3>
    <p class="paft">
     Some components, such as LEDs, which we’ll look at shortly, require only a small amount of current to function—usually around 10 mA. When a component receives excess current, it converts the excess to heat, which can damage or destroy the component. To reduce the flow of current, you can add a
     <i class="calibre5">
      resistor
     </i>
     between the voltage source and the component. Current flows freely along electrical wire, but when it encounters a resistor, the current flow is limited. The resistor converts some of that current into a small amount of heat energy, proportional to its value.
    </p>
    <p class="calibre8">
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01016">
      Figure 1-16
     </a>
     shows two examples of commonly used resistors.
    </p>
    <div class="figure" id="f01016">
     <p class="fig">
      <img alt="Photo of two example 0.25 W resistors set above a ruler" height="427" src="images/nsp-boxall502581-f01016.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-16:
       </span>
       Typical resistors
      </p>
     </div>
    </div>
    <p class="calibre8">
     The amount of current flow limitation is determined by the level of resistance, which can be either fixed or variable. Resistance is measured in ohms (
     <span lang="el" xml:lang="el">
      Ω
     </span>
     ) and can range from zero to thousands of ohms (kilohms, or
     <span lang="en" xml:lang="en">
      kΩ
     </span>
     ) or millions of ohms (megohms, or
     <span lang="en" xml:lang="en">
      MΩ
     </span>
     ).
    </p>
    <div class="chapter">
     <h4 class="ch" id="ch0303">
      Reading Resistance Values
     </h4>
     <p class="paft">
      Resistors are very small, so their resistance values usually cannot be printed on the components themselves. One common way to show a component’s resistance is with a series of color-coded bands, as shown (in grayscale) in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01016">
       Figure 1-16
      </a>
      , where each color represents a numerical value. The
      <i class="calibre5">
       multiplier band
      </i>
      dictates the number of zeros to add to the end of the previous digits to complete the value. Resistors with five bands have a higher accuracy than four-band resistors.
     </p>
     <p class="calibre8">
      Here’s how to read these bands, from left to right:
     </p>
     <p class="pcust1">
      <span class="hemb">
       First band
      </span>
      The first digit of the resistance
     </p>
     <p class="pcust1">
      <span class="hemb">
       Second band
      </span>
      The second digit of the resistance
     </p>
     <p class="pcust1">
      <span class="hemb">
       Third band
      </span>
      The multiplier (for four-band resistors) or the third digit of the resistance (for five-band resistors)
     </p>
     <p class="pcust1">
      <span class="hemb">
       Fourth band
      </span>
      The multiplier (for five-band resistors) or the resistor’s
      <i class="calibre5">
       tolerance
      </i>
      , a measure of its accuracy in terms of percentage (for four-band resistors)
     </p>
     <p class="pcust1">
      <span class="hemb">
       Fifth band
      </span>
      The resistor’s tolerance, for five-band resistors
     </p>
     <p class="pcon">
      <span id="p17">
      </span>
      To determine which band is the first and leftmost, check which band is closest to the edge of the resistor. The first band is usually closer to the left-hand edge than the last band is to the right-hand edge.
     </p>
     <p class="calibre8">
      <a class="url" href="nsp-boxall502581-0011.xhtml#tab0102">
       Table 1-2
      </a>
      lists the colors of the different bands that can appear on resistors and their corresponding values.
     </p>
     <table id="tab0102" class="calibre13">
      <thead class="calibre14">
       <tr class="calibre15">
        <th colspan="2" class="calibre16">
         <p class="th1">
          <span class="calibre4">
           Table 1-2
          </span>
          : Values of Bands Printed on a Resistor, in Ohms
         </p>
        </th>
       </tr>
       <tr class="calibre15">
        <th scope="col" class="calibre16">
         <p class="tch">
          Color
         </p>
        </th>
        <th scope="col" class="calibre16">
         <p class="tch">
          Ohms
         </p>
        </th>
       </tr>
      </thead>
      <tbody class="calibre17">
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Black
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          0
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Brown
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          1
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Red
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          2
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Orange
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          3
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Yellow
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          4
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Green
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          5
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Blue
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          6
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Violet
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          7
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          Gray
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          8
         </p>
        </td>
       </tr>
       <tr class="calibre15">
        <td class="calibre18">
         <p class="td">
          White
         </p>
        </td>
        <td class="calibre18">
         <p class="td">
          9
         </p>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="calibre8">
      Because it is difficult to manufacture resistors with exact values, each has a margin of error, represented by the rightmost band. A brown band indicates 1 percent tolerance, gold indicates 5 percent tolerance, and silver indicates 10 percent tolerance. The smaller the tolerance, the greater the accuracy of the resistor. That is, the value of a 1 percent resistor can only vary +/−1 percent from the stated value, whereas the value of a 5 percent resistor can vary +/–5 percent from the stated value.
     </p>
     <p class="calibre8">
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01017">
       Figure 1-17
      </a>
      shows a resistor diagram.
     </p>
     <div class="figure" id="f01017">
      <p class="fig">
       <img alt="Diagram of a 47 kilohm resistor with yellow, violet, orange, and brown color bands that represent the resistor’s values" height="379" src="images/nsp-boxall502581-f01017.jpg" width="1156" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span class="calibre4">
         Figure 1-17:
        </span>
        An example resistor diagram
       </p>
      </div>
     </div>
     <p class="calibre8">
      The yellow, violet, and orange bands read as 4, 7, and 3, as listed in
      <a class="url" href="nsp-boxall502581-0011.xhtml#tab0102">
       Table 1-2
      </a>
      , with the brown band noting the tolerance (1 percent). These values translate to 47,000
      <span lang="el" xml:lang="el">
       Ω
      </span>
      , more commonly written as 47
      <span lang="en" xml:lang="en">
       kΩ
      </span>
      . Often, you’ll see ohms written as R; for example, a 220
      <span lang="el" xml:lang="el">
       Ω
      </span>
      resistor might be represented as 220 R.
     </p>
     <p class="calibre8">
      <span id="p18">
      </span>
      Another way to read resistance values is using a
      <i class="calibre5">
       multimeter
      </i>
      , an incredibly useful and relatively inexpensive piece of test equipment that can measure voltage, resistance, current, and more.
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01018">
       Figure 1-18
      </a>
      shows a multimeter measuring a resistor.
     </p>
     <div class="figure" id="f01018">
      <p class="fig">
       <img alt="Photo of measuring the resistance of a 560-ohm resistor using a digital multimeter. the resistance shown is 556.0." height="612" src="images/nsp-boxall502581-f01018.jpg" width="1200" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span class="calibre4">
         Figure 1-18:
        </span>
        A multimeter measuring a 560
        <span lang="el" xml:lang="el">
         Ω
        </span>
        1 percent tolerance resistor
       </p>
      </div>
     </div>
     <p class="calibre8">
      If you are colorblind, a multimeter is essential. Even if you are not, I highly recommend purchasing one: it will save you much time and reduce possible mistakes caused by misreading resistor color bands. As with other good tools, purchase your multimeter from a reputable retailer instead of fishing about on the internet for the cheapest one you can find.
     </p>
    </div>
    <div class="chapter">
     <h4 class="ch" id="ch0304">
      Power Rating
     </h4>
     <p class="paft">
      A resistor’s
      <i class="calibre5">
       power rating
      </i>
      is a measurement of the power, in watts, that it will tolerate before overheating or failing. When selecting a resistor, you need to consider the relationship between power, current, and voltage. The greater the current or voltage, the greater the resistor’s power rating. For example, using the formula Power (
      <i class="calibre5">
       W
      </i>
      ) = Voltage (
      <i class="calibre5">
       V
      </i>
      ) × Current (
      <i class="calibre5">
       A
      </i>
      ), with a voltage of 5 V and a low current of 20 mA, the power-handling value required would be 5 × 0.02 = 0.1 W. This would work fine with the 0.25 W resistors that are most commonly used in the projects in this book (the resistors shown in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01016">
       Figure 1-16
      </a>
      are 0.25 W resistors).
     </p>
     <p class="calibre8">
      If projects in this book require different power handling, we’ll run through it when required and go over the best resistor to use instead. Usually, the greater a resistor’s power rating, the greater its physical size. For example, the resistor shown in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01019">
       Figure 1-19
      </a>
      is a 5 W resistor, which measures 26 mm long by 7.5 mm wide.
     </p>
     <div class="figure" id="f01019">
      <p class="fig">
       <img alt="Photo of a 5 W ceramic resistor" height="507" src="images/nsp-boxall502581-f01019.jpg" width="739" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span>
        </span>
        <span class="calibre4">
         Figure 1-19:
        </span>
        A 5 W resistor
       </p>
      </div>
     </div>
    </div>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0307">
     <span class="page" id="p19">
     </span>
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0307">
      Light-Emitting Diodes
     </a>
    </h3>
    <p class="paft">
     The LED is a very common yet infinitely useful component that converts electrical current into light. LEDs come in various shapes, sizes, and colors.
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01020">
      Figure 1-20
     </a>
     shows a common LED.
    </p>
    <div class="figure" id="f01020">
     <p class="fig">
      <img alt="Photo of a 5 mm red LED alongside a ruler" height="476" src="images/nsp-boxall502581-f01020.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-20:
       </span>
       Red LED, 5 mm diameter
      </p>
     </div>
    </div>
    <p class="calibre8">
     Connecting LEDs in a circuit takes some care because they are
     <i class="calibre5">
      polarized
     </i>
     , meaning that current can enter and leave the LED in one direction only. The current enters via the
     <i class="calibre5">
      anode
     </i>
     (positive) side and leaves via the
     <i class="calibre5">
      cathode
     </i>
     (negative) side, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01021">
      Figure 1-21
     </a>
     . Any attempt to make current flow in the opposite direction will break the LED.
    </p>
    <p class="calibre8">
     Thankfully, LEDs are designed so that you can tell which end is which. The leg on the anode side is longer, and on the cathode side, the rim at the base of the LED is flat, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01022">
      Figure 1-22
     </a>
     .
    </p>
    <div class="figure" id="f01021">
     <p class="fig">
      <img alt="Schematic symbol for an LED that also shows direction of current flow from anode to cathode" src="images/nsp-boxall502581-f01021.jpg" class="calibre19"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-21:
       </span>
       Current flow through an LED
      </p>
     </div>
    </div>
    <div class="figure" id="f01022">
     <p class="fig">
      <img alt="Diagram of an LED showing that the longer leg is the anode and the shorter leg is the cathode" src="images/nsp-boxall502581-f01022.jpg" class="calibre20"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-22:
       </span>
       LED design indicates the anode (longer leg) and cathode (flat rim) sides.
      </p>
     </div>
    </div>
    <p class="calibre8">
     When adding LEDs to a project, you must consider the operating voltage and current. For example, common red LEDs require around 1.7 V and 5 to 20 mA of current. This presents a slight problem, because the power supply used in the projects in this book will output 5 V and a much higher current. Luckily, you can use a
     <i class="calibre5">
      current-limiting resistor
     </i>
     to reduce the current flow into an LED. But which value resistor do you use? That’s where Ohm’s law comes in.
    </p>
    <p class="calibre8">
     <i class="calibre5">
      Ohm’s law
     </i>
     states that voltage is equal to current times resistance, or
     <i class="calibre5">
      V
     </i>
     =
     <i class="calibre5">
      I
     </i>
     ×
     <i class="calibre5">
      R
     </i>
     . It follows that to calculate the required current-limiting resistor for an LED, you can use this formula:
    </p>
    <div class="equation">
     <p class="eq">
      <i class="calibre5">
       R
      </i>
      = (
      <i class="calibre5">
       V
      </i>
      <sub class="i">
       s
      </sub>
      −
      <i class="calibre5">
       V
      </i>
      <sub class="i">
       f
      </sub>
      ) /
      <i class="calibre5">
       I
      </i>
     </p>
    </div>
    <p class="pcon">
     <span id="p20">
     </span>
     where
     <i class="calibre5">
      V
     </i>
     <sub class="i">
      s
     </sub>
     is the supply voltage (which will be 5 V when powering the circuit from our USBasp programmer),
     <i class="calibre5">
      V
     </i>
     <sub class="i">
      f
     </sub>
     is the LED forward voltage drop (say, 1.7 V), and
     <i class="calibre5">
      I
     </i>
     is the current required for the LED (10 mA). The value of
     <i class="calibre5">
      I
     </i>
     must be in amps, so 10 mA converts to 0.01 A. You can use these values for your LEDs: substituting them into the formula gives a value for
     <i class="calibre5">
      R
     </i>
     of 330
     <span lang="el" xml:lang="el">
      Ω
     </span>
     . However, the LEDs will happily light when fed current less than 10 mA. It’s good practice to use lower currents when possible to protect sensitive electronics, so I recommend using 560
     <span lang="el" xml:lang="el">
      Ω
     </span>
     , 0.25 W resistors with your LEDs, which provide about 6 mA.
    </p>
    <p class="calibre8">
     When in doubt, always choose a slightly higher value resistor, because it’s better to have a dim LED than a dead one!
    </p>
    <div class="box">
     <div class="chapter" id="bxheader0101">
      <p class="bxh">
       The Ohm’s Law Triangle
      </p>
     </div>
     <p class="bxaft">
      Ohm’s law states that the relationship between current, resistance, and voltage is as follows:
      <i class="calibre5">
       V
      </i>
      =
      <i class="calibre5">
       I
      </i>
      ×
      <i class="calibre5">
       R
      </i>
      . A popular way to remember Ohm’s law is with a triangle, as shown in the figure below.
     </p>
     <div class="figure" id="g01003">
      <p class="fig">
       <img alt="Image of the Ohm’s law triangle, used to determine formulas for calculating power, current, or resistance values. The top third is labeled V, the bottom-left third is labeled I, and the bottom-right third is labeled R." src="images/nsp-boxall502581-g01003.jpg" class="calibre21"/>
      </p>
      <div class="chapter">
       <p class="figcap">
        The Ohm’s law triangle
       </p>
      </div>
     </div>
     <p class="calibre8">
      This diagram is a convenient tool for calculating voltage, current, or resistance when two of the three values are known. For example, if you need to calculate resistance, put your finger over R, leaving voltage divided by current. To calculate voltage, cover V, leaving current times resistance.
     </p>
    </div>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0308">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0308">
      Power Diodes
     </a>
    </h3>
    <p class="paft">
     A
     <i class="calibre5">
      power diode
     </i>
     is ideal for blocking current flow in one direction in a circuit. Power diodes are used in the same way as LEDs, but instead of illuminating when current flows, they protect the circuitry from current flowing in the opposite direction. There are many different types; we will use the common 1N4004 version shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01023">
      Figure 1-23
     </a>
     .
    </p>
    <p class="calibre8">
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01024">
      Figure 1-24
     </a>
     shows the schematic symbol of the 1N4004 diode in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01023">
      Figure 1-23
     </a>
     .
    </p>
    <div class="figure" id="f01023">
     <p class="fig">
      <span id="p21">
      </span>
      <img alt="Photo of a common 1N4004 power diode" height="535" src="images/nsp-boxall502581-f01023.jpg" width="952" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-23:
       </span>
       1N4004 power diode
      </p>
     </div>
    </div>
    <div class="figure" id="f01024">
     <p class="fig">
      <img alt="Schematic symbol for a 1N4004 power diode, also showing the direction of current flow from the anode to the cathode" src="images/nsp-boxall502581-f01024.jpg" class="calibre22"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-24:
       </span>
       1N4004 schematic symbol
      </p>
     </div>
    </div>
    <p class="calibre8">
     Up to 1 A of current can flow through the 1N4004 from the anode pin to the cathode pin. The 1N4004 also causes a voltage drop of 0.7 V DC and is a convenient way to drop voltage when required.
    </p>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0309">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0309">
      Capacitors
     </a>
    </h3>
    <p class="paft">
     A
     <i class="calibre5">
      capacitor
     </i>
     is a device that can hold an electric charge. It consists of two metal plates with an insulating layer that allows an electric charge to build up between them. The electric charge builds to a maximum value as current flows to the capacitor. Once the charge hits the maximum, current stops flowing through the capacitor. However, the charge remains and flows out of the capacitor, which is called
     <i class="calibre5">
      discharging
     </i>
     , as soon as it is presented with a new path.
    </p>
    <p class="calibre8">
     The amount of charge that a capacitor can store is measured in farads. One farad is actually a very large amount, so you’ll generally find capacitors with values in picofarads or microfarads. One picofarad (pF) is 0.000000000001 of a farad, and one microfarad (
     <span lang="el" xml:lang="el">
      μF
     </span>
     ) is 0.000001 of a farad. Capacitors are also manufactured to accept voltage maximums. For the projects in this book you’ll only work with low voltages, so you’ll use capacitors rated at greater than 10 or so volts. It’s generally fine, however, to use capacitors with larger voltage specifications in lower-voltage circuits. Common voltage ratings for capacitors are 10, 16, 25, and 50 V.
    </p>
    <p class="calibre8">
     The projects covered in this book will use two types of capacitors, ceramic and electrolytic.
    </p>
    <div class="chapter">
     <h4 class="ch" id="ch0305">
      Ceramic Capacitors
     </h4>
     <p class="paft">
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01025">
       Figure 1-25
      </a>
      shows a
      <i class="calibre5">
       ceramic capacitor
      </i>
      . These capacitors are very small and therefore hold a small amount of charge. They are not polarized and can be used for current flowing in either direction. Ceramic capacitors work beautifully in high-frequency circuits because they can charge and discharge very quickly due to their small capacitance.
     </p>
     <div class="figure" id="f01025">
      <p class="fig">
       <span id="p22">
       </span>
       <img alt="Photo of a small ceramic capacitor alongside a ruler" height="782" src="images/nsp-boxall502581-f01025.jpg" width="1200" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span class="calibre4">
         Figure 1-25:
        </span>
        A 0.1
        <span lang="el" xml:lang="el">
         μF
        </span>
        ceramic capacitor
       </p>
      </div>
     </div>
     <p class="calibre8">
      Reading the value of a ceramic capacitor takes some practice, because the value is printed in a sort of code. The first two digits represent the value in picofarads, and the third digit is the multiplier in tens. For example, the capacitor shown in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01025">
       Figure 1-25
      </a>
      is labeled “104.” This equates to 10, followed by four zeros, which equals 100,000 pF (equivalent to 100 nF, or 0.1
      <span lang="el" xml:lang="el">
       μF
      </span>
      ).
     </p>
     <p class="calibre8">
      Retailers or other projects may specify capacitor values that require you to do some mental arithmetic on the fly. To simplify conversions between these units of measurement, you can print the excellent conversion chart available at
      <a class="url-i" href="https://www.justradios.com/uFnFpF.html">
       https://www.justradios.com/uFnFpF.html
      </a>
      .
     </p>
    </div>
    <div class="chapter">
     <h4 class="ch" id="ch0306">
      Electrolytic Capacitors
     </h4>
     <p class="paft">
      <i class="calibre5">
       Electrolytic capacitors
      </i>
      are physically larger than ceramic types, offer increased capacitance, and are polarized. A marking on the cover indicates the positive (+) and negative (–) sides; for example,
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01026">
       Figure 1-26
      </a>
      shows the stripe and small symbol (–) marking a capacitor’s negative side.
     </p>
     <div class="figure" id="f01026">
      <p class="fig">
       <img alt="Photo of a small electrolytic capacitor" height="429" src="images/nsp-boxall502581-f01026.jpg" width="1200" class="calibre11"/>
      </p>
      <div class="chapter">
       <p class="figh">
        <span class="calibre4">
         Figure 1-26:
        </span>
        An electrolytic capacitor
       </p>
      </div>
     </div>
     <p class="calibre8">
      Like resistor values, marked capacitor values are also accurate within a certain tolerance. Unlike with resistors and ceramic capacitors, the values of the electrolytic capacitor are printed on them and don’t require
      <span id="p23">
      </span>
      decoding or interpretation. The capacitor in
      <a class="url" href="nsp-boxall502581-0011.xhtml#f01026">
       Figure 1-26
      </a>
      has a tolerance of 20 percent, as indicated on the stripe with the negative symbol, and a capacitance of 100
      <span lang="el" xml:lang="el">
       μF
      </span>
      , shown on the darker part of the label.
     </p>
     <p class="calibre8">
      Electrolytic capacitors provide power supply smoothing and stability near circuits or parts that draw high currents quickly from the supply. This prevents unwanted dropouts and noise in your circuits.
     </p>
    </div>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0310">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0310">
      Integrated Circuits
     </a>
    </h3>
    <p class="paft">
     More commonly known by the acronym
     <i class="calibre5">
      IC
     </i>
     , an
     <i class="calibre5">
      integrated circuit
     </i>
     is a set of electronic circuits built into a piece of silicon and fitted inside a strong, usually rectangular, plastic housing. The current flows in or out of the metal legs, or pins.
    </p>
    <p class="calibre8">
     IC pins are identified by numbers, and the first step in working with ICs is figuring out which pin is which. First, locate the pinout for the IC; it should be available on the supplier’s website. (Check
     <a class="url" href="nsp-boxall502581-0011.xhtml#tab0101">
      Table 1-1
     </a>
     to see the pinouts for the microcontrollers used in this book.) Then, look at the side of the IC that has writing on it to determine which pin is number one. This is usually the pin with a small circle closest to it. If you don’t see a small circle, hold the IC in a vertical position with the notched end pointed up. Pin one is at the bottom left of the IC when it is placed horizontally in front of you, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01027">
      Figure 1-27
     </a>
     .
    </p>
    <div class="figure" id="f01027">
     <p class="fig">
      <img alt="Photo of an ATmega328P-PU microcontroller, highlighting the location of pin number 1" height="323" src="images/nsp-boxall502581-f01027.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-27:
       </span>
       Highlighting pin 1 of an IC
      </p>
     </div>
    </div>
    <p class="calibre8">
     When inserting or removing ICs from a solderless breadboard or other location, be careful not to bend the pins, as they’re quite fragile and suffer from metal fatigue easily. It’s a good idea to use an
     <i class="calibre5">
      IC extractor
     </i>
     , a simple but useful clawlike toolthat can pull both ends of an IC at the same time, as demonstrated in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01028">
      Figure 1-28
     </a>
     .
    </p>
    <div class="figure" id="f01028">
     <p class="fig">
      <img alt="Photo of using an IC extractor to remove a microcontroller from an IC socket" height="812" src="images/nsp-boxall502581-f01028.jpg" width="957" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-28:
       </span>
       An IC extractor in use
      </p>
     </div>
    </div>
    <p class="calibre8">
     <span id="p24">
     </span>
     With this device you can slowly apply upward pressure on each end in turn, until the IC is loose enough to slowly draw up and out of the IC socket.
    </p>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0311">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0311">
      Solderless Breadboards
     </a>
    </h3>
    <p class="paft">
     You’ll need a base to build your ever-changing circuits on, and a solderless breadboard is a great tool for this purpose. The breadboard is a plastic base with rows of electrically connected sockets. Breadboards come in many sizes, shapes, and colors, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01029">
      Figure 1-29
     </a>
     . Just don’t cut bread on them. The colors aren’t important from an electrical perspective, they just help the end user differentiate between boards.
    </p>
    <div class="figure" id="f01029">
     <p class="fig">
      <img alt="Photo of various solderless breadboards" height="299" src="images/nsp-boxall502581-f01029.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-29:
       </span>
       Breadboards in various shapes and sizes
      </p>
     </div>
    </div>
    <p class="calibre8">
     The key to using a breadboard is understanding how the sockets are connected, whether in short columns or in long rows along the edge or in the center. The connections vary by board. For example, in the breadboard in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01030">
      Figure 1-30
     </a>
     , columns of five holes are connected vertically but isolated horizontally. If you place two wires in one vertical row, they will be electrically connected. By the same token, the long rows in the center between the horizontal lines are electrically connected horizontally. You’ll often need to connect a circuit to the supply voltage and ground, and these long horizontal lines of holes are ideal for those connections.
    </p>
    <div class="figure" id="f01030">
     <p class="fig">
      <img alt="Photo showing rows and columns of pins on a solderless breadboard that are electrically connected" height="893" src="images/nsp-boxall502581-f01030.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-30:
       </span>
       Breadboard internal connections
      </p>
     </div>
    </div>
    <p class="calibre8">
     <span id="p25">
     </span>
     When you’re building more complex circuits, a breadboard will get crowded and you won’t always be able to place components exactly where you want. You can solve this problem by using short connecting wires. Retailers that sell breadboards usually also sell small boxes of wires of various lengths, such as the assortment shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01031">
      Figure 1-31
     </a>
     .
    </p>
    <div class="figure" id="f01031">
     <p class="fig">
      <img alt="Example of a breadboard hookup wire kit" height="593" src="images/nsp-boxall502581-f01031.jpg" width="1016" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-31:
       </span>
       Assorted breadboard wires
      </p>
     </div>
    </div>
   </div>
   <div class="chapter">
    <h3 class="bh" id="bh0312">
     <a class="xref" href="nsp-boxall502581-0008.xhtml#rbh0312">
      Powering Your Projects
     </a>
    </h3>
    <p class="paft">
     You can use a multitude of methods to power your projects. In the spirit of keeping things simple and safe, I’ll just show you a few easy and inexpensive options.
    </p>
    <p class="calibre8">
     First, the USBasp itself can provide you with the right voltage for your AVR circuit. It provides only a limited amount of current, around 450 mA, but that’s more than sufficient for small projects with a limited number of components. However, this method is convenient only when your project is close to a USB socket.
    </p>
    <p class="calibre8">
     Another option is to use a
     <i class="calibre5">
      mains plugpack
     </i>
     with a regulated 5 V output and a
     <i class="calibre5">
      DC jack adaptor
     </i>
     . The adaptor, shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01032">
      Figure 1-32
     </a>
     , allows you to connect wires to a jack that the plugpack can connect to. This lets you avoid modifying or damaging the end of the plugpack lead.
    </p>
    <div class="figure" id="f01032">
     <p class="fig">
      <img alt="Photo of a DC socket to screw terminal adaptor" height="727" src="images/nsp-boxall502581-f01032.jpg" width="736" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span>
       </span>
       <span class="calibre4">
        Figure 1-32:
       </span>
       A DC jack adaptor
      </p>
     </div>
    </div>
    <p class="calibre8">
     Alternatively, a
     <i class="calibre5">
      breadboard power supply
     </i>
     is a fantastic option, as it’s both cheap and extremely easy to use. This is a small circuit board that plugs
     <span id="p26">
     </span>
     into one end of your solderless breadboard, as shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01033">
      Figure 1-33
     </a>
     . The supply then converts current from a mains plugpack adaptor to a safe 5 V or 3.3 V.
    </p>
    <div class="figure" id="f01033">
     <p class="fig">
      <img alt="Photo of a solderless breadboard power supply inserted in the end of a solderless breadboard" height="1005" src="images/nsp-boxall502581-f01033.jpg" width="1200" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-33:
       </span>
       A solderless breadboard power supply
      </p>
     </div>
    </div>
    <p class="calibre8">
     Your final option is to use four rechargeable AA cells in a battery holder. When charged, these cells each have a voltage of 1.2 V. Four of them gives you 4.8 V, which is close enough to 5 V for almost any project. Don’t use disposable AA cells, as the initial voltage from new will be over 6 V, which will damage your project. You can hold rechargeable AA cells together easily in a neat enclosure, such as the one shown in
     <a class="url" href="nsp-boxall502581-0011.xhtml#f01034">
      Figure 1-34
     </a>
     .
    </p>
    <div class="figure" id="f01034">
     <p class="fig">
      <img alt="Four rechargeable AA batteries in a switched holder" height="1200" src="images/nsp-boxall502581-f01034.jpg" width="1194" class="calibre11"/>
     </p>
     <div class="chapter">
      <p class="figh">
       <span class="calibre4">
        Figure 1-34:
       </span>
       A four AA cell battery holder
      </p>
     </div>
    </div>
    <p class="calibre8">
     <span id="p27">
     </span>
     The projects in this book use all four power methods discussed in this section, so you’ll need to obtain parts for each. For more detail on this, check the parts list at
     <a class="url-i" href="https://nostarch.com/avr-workshop/">
      https://nostarch.com/avr-workshop/
     </a>
     .
    </p>
    <p class="calibre8">
     In this first chapter, you’ve built the foundations for your AVR learning by seeing some examples of what’s possible, installed the required software, and learned about the basics of electricity and some of the parts you’ll be using. Now you’re ready for the
     <a class="url" href="nsp-boxall502581-0012.xhtml#ch02">
      next chapter
     </a>
     , where you’ll build your first electronic circuit based around an AVR microcontroller, upload your first code, and start to dig into the microcontroller’s different operations.
    </p>
   </div>
  </div>
 </div>
</div></body></html>