["```\n- name: Install python3-flask, gunicorn3, and nginx\n  apt:\n    name:\n      - python3-flask\n      - gunicorn3\n      - nginx\n    update_cache: yes\n```", "```\n- name: Copy Flask Sample Application\n  copy:\n    src: \"../ansible/chapter4/{{ item }}\"\n    dest: \"/opt/engineering/{{ item }}\"\n  group: developers\n  mode: '0750'\n  loop:\n    - greeting.py\n    - wsgi.py\n```", "```\n- name: Copy Systemd Unit file for Greeting\n  copy:\n    src: \"../ansible/chapter4/greeting.service\"\n    dest: \"/etc/systemd/system/greeting.service\"\n```", "```\n[Unit]\nDescription=The Highly Complicated Greeting Application\nAfter=network.target\n\n[Service]\nGroup=developers\n**WorkingDirectory=/opt/engineering** \n**ExecStart=/usr/bin/gunicorn3 --bind 0.0.0.0:5000 --access-logfile - --error-logfile - wsgi:app** \nExecReload=/bin/kill -s HUP $MAINPID\nKillMode=mixed\n\n[Install]\nWantedBy=multi-user.target\n```", "```\n- name: Start and enable Greeting Application\n  systemd:\n    name: greeting.service\n    daemon_reload: yes\n    state: started\n    enabled: yes\n```", "```\n- set_fact:\n    greeting_application_file: \"/opt/engineering/greeting.py\"\n```", "```\n- name: Create sudoers file for the developers group\n  template:\n    src: \"../ansible/templates/developers.j2\"\n    dest: \"/etc/sudoers.d/developers\"\n    validate: 'visudo -cf %s'\n    owner: root\n    group: root\n    mode: 0440\n```", "```\n# Command alias\nCmnd_Alias\tSTART_GREETING    = /bin/systemctl start greeting , \\\n\t\t\t\t    /bin/systemctl start greeting.service\nCmnd_Alias\tSTOP_GREETING     = /bin/systemctl stop greeting , \\\n\t\t\t\t    /bin/systemctl stop greeting.service\nCmnd_Alias\tRESTART_GREETING  = /bin/systemctl restart greeting , \\\n\t\t\t\t    /bin/systemctl restart greeting.service\n\n# Host Alias\nHost_Alias  LOCAL_VM = {{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}\n# User specification\n%developers LOCAL_VM = (root) NOPASSWD: START_GREETING, STOP_GREETING, \\\n\t    \t       RESTART_GREETING, \\\n\t\t       sudoedit {{ greeting_application_file }} \n```", "```\n**#-** **import_tasks****: chapter4/****web_application.yml**\n```", "```\n**#- import_tasks: chapter4/sudoers.yml**\n```", "```\n---\n- name: Provision VM\n  hosts: all\n  become: yes\n  become_method: sudo\n  remote_user: ubuntu\n  tasks:\n    - import_tasks: chapter2/pam_pwquality.yml\n    - import_tasks: chapter2/user_and_group.yml\n    - import_tasks: chapter3/authorized_keys.yml\n    - import_tasks: chapter3/two_factor.yml\n **-** **import_tasks****: chapter4/****web_application.yml**\n **-** **import_tasks****: chapter4/****sudoers.yml**\n  `--snip--`\n  handlers:\n    - import_tasks: handlers/restart_ssh.yml\n```", "```\n$ **vagrant** **provision**\n`--snip--`\nPLAY RECAP *********************************************************************\ndefault       : ok=21  changed=6   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n```", "```\n$ **ssh** **-i ~/.ssh/dftd** **-p 2222 bender@localhost**\nEnter passphrase for key '/Users/bradleyd/.ssh/dftd: `<passphrase>`\nVerification code: `<68385555>`\n`--snip--`\nbender@dftd:~$\n```", "```\nbender@dftd:~$ **curl http://localhost:5000**\n<h1 style='color:green'>Greetings!</h1>\n```", "```\nbender@dftd:~$ **sudoedit /opt/engineering/greeting.py**\n```", "```\nreturn \"<h1 style='color:green'>Greetings!</h1>\"\n```", "```\nreturn \"<h1 style='color:green'>**Greetings and Salutations!**</h1>\"\n```", "```\nbender@dftd:-$ **sudo systemctl stop greeting**\n```", "```\nbender@dftd:~$ **curl http://localhost:5000**\ncurl: (7) Failed to connect to localhost port 5000: Connection refused\n```", "```\nbender@dftd:-$ **sudo systemctl start greeting**\n```", "```\nbender@dftd:~$ **curl http://localhost:5000**\n<h1 style='color:green'>Greetings and Salutations!</h1>\n```", "```\nJul 23 23:17:43 ubuntu-focal sudo:   bender : TTY=pts/0 ; PWD=/home/bender ; USER=root ; COMMAND=sudoedit /opt/engineering/greeting.py\n```", "```\nJul 23 23:18:19 ubuntu-focal sudo:   bender : TTY=pts/0 ; PWD=/home/bender ; USER=root ; COMMAND=/usr/bin/systemctl stop greeting\n```", "```\nJul 23 23:18:39 ubuntu-focal sudo:   bender : TTY=pts/0 ; PWD=/home/bender ; USER=root ; COMMAND=/usr/bin/systemctl start greeting\n```", "```\nJul 23 23:25:14 ubuntu-focal sudo:   bender : command not allowed ; TTY=pts/0 ; PWD=/home/bender ; USER=root ; COMMAND=/usr/bin/tail /var/log/auth.log\n```"]