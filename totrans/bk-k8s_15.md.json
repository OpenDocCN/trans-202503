["```\n------\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: nginx\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        livenessProbe:\n          exec:\n            command: [\"/usr/bin/curl\", \"-fq\", \"http://localhost\"]\n          initialDelaySeconds: 10\n          periodSeconds: 5\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-exec.yaml \ndeployment.apps/nginx created\n```", "```\nroot@host01:~# kubectl get pods\nNAME                     READY   STATUS    RESTARTS   AGE\nnginx-68dc5f984f-jq5xl   1/1     Running   0          25s\n```", "```\nroot@host01:~# kubectl describe deployment nginx\nName:                   nginx\nNamespace:              default\n...\nPod Template:\n  Labels:  app=nginx\n  Containers:\n   nginx:\n...\n Liveness:     exec [/usr/bin/curl -q http://localhost] delay=10s \n    timeout=1s period=5s #success=1 #failure=3\n...\n```", "```\n---\nspec:\n  template:\n    spec:\n      containers:\n     âžŠ - name: nginx\n          livenessProbe:\n            exec:\n              command: [\"/usr/bin/curl\", \"-fq\", \"http://localhost/missing\"]\n```", "```\nroot@host01:~# kubectl patch deploy nginx --patch-file /opt/nginx-404.yaml \ndeployment.apps/nginx patched\n```", "```\nroot@host01:~# kubectl get pods\nNAME                     READY   STATUS        RESTARTS   AGE\nnginx-679f866f5b-7lzsb   1/1     Terminating   0          2m28s\nnginx-6cb4b995cd-6jpd7   1/1     Running       0          3s\n```", "```\nroot@host01:~# kubectl get pods\nNAME                     READY   STATUS    RESTARTS   AGE\nnginx-6cb4b995cd-6jpd7   1/1     Running   1          28s\n```", "```\nroot@host01:~# kubectl describe pod\nName:         nginx-6cb4b995cd-6jpd7\n...\nContainers:\n  nginx:\n...\n    Last State:     Terminated\n...\nEvents:\n  Type     Reason     Age                From     Message\n  ----     ------     ----               ----     -------\n...\n  Warning  Unhealthy  20s (x9 over 80s)  kubelet  Liveness probe failed: ...\ncurl: (22) The requested URL returned error: 404 Not Found\n...\n```", "```\n---\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: nginx\nspec:\n  replicas: 1\n selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        livenessProbe:\n          httpGet:\n            path: /\n            port: 80\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-http.yaml \ndeployment.apps/nginx configured\n```", "```\nroot@host01:~# kubectl get pods\nNAME                    READY   STATUS    RESTARTS   AGE\nnginx-d75d4d675-wvhxl   1/1     Running   0          2m38s\n```", "```\nroot@host01:~# kubectl logs nginx-d75d4d675-wvhxl\n...\n... 22:23:31 ... \"GET / HTTP/1.1\" 200 615 \"-\" \"kube-probe/1.21\" \"-\"\n... 22:23:41 ... \"GET / HTTP/1.1\" 200 615 \"-\" \"kube-probe/1.21\" \"-\"\n... 22:23:51 ... \"GET / HTTP/1.1\" 200 615 \"-\" \"kube-probe/1.21\" \"-\"\n```", "```\nroot@host01:~# kubectl delete deployment nginx\ndeployment.apps \"nginx\" deleted\n```", "```\n---\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: postgres\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: postgres\n  template:\n    metadata:\n      labels:\n        app: postgres\n    spec:\n      containers:\n      - name: postgres\n        image: postgres\n        env:\n        - name: POSTGRES_PASSWORD\n          value: \"supersecret\"\n        livenessProbe:\n tcpSocket:\n            port: 5432\n```", "```\nroot@host01:~# kubectl apply -f /opt/postgres-tcp.yaml \ndeployment.apps/postgres created\n...\nroot@host01:~# kubectl get pods\nNAME                       READY   STATUS    RESTARTS   AGE\npostgres-5566ff748-jqp5d   1/1     Running   0          29s\n```", "```\nroot@host01:~# kubectl get pods\nNAME                       READY   STATUS    RESTARTS   AGE\npostgres-5566ff748-jqp5d   1/1     Running   0          2m7s\n```", "```\nroot@host01:~# kubectl delete deploy postgres\ndeployment.apps \"postgres\" deleted\n```", "```\n...\nspec:\n...\n  template:\n...\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        livenessProbe:\n          httpGet:\n            path: /\n            port: 80\n        startupProbe:\n          httpGet:\n            path: /\n            port: 80\n          periodSeconds: \n          initialDelaySeconds: 30\n          periodSeconds: 10\n          failureThreshold: 60\n```", "```\n---\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        livenessProbe:\n          httpGet:\n            path: /\n            port: 80\n        readinessProbe:\n          httpGet:\n            path: /ready\n            port: 80\n---\nkind: Service\napiVersion: v1\nmetadata:\n  name: nginx\nspec:\n  selector:\n    app: nginx\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 80\n```", "```\nroot@host01:~# kubectl apply -f /opt/nginx-ready.yaml \ndeployment.apps/nginx created\nservice/nginx created\n```", "```\nroot@host01:~# kubectl get pods\nNAME                     READY   STATUS    RESTARTS   AGE\nnginx-67fb6485f5-2k2nz   0/1     Running   0          38s\nnginx-67fb6485f5-vph44   0/1     Running   0          38s\nnginx-67fb6485f5-xzmj5   0/1     Running   0          38s\n```", "```\nroot@host01:~# kubectl get services\nNAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE\n...\nnginx        ClusterIP   10.101.98.80   <none>        80/TCP    3m1s\n```", "```\nroot@host01:~# curl http://10.101.98.80\ncurl: (7) Failed to connect to 10.101.98.80 port 80: Connection refused\n```", "```\nroot@host01:~# kubectl describe pod\nName:         nginx-67fb6485f5-2k2nz\n...\nContainers:\n  nginx:\n...\n    Ready:          False\n...\n```", "```\nroot@host01:~# kubectl describe service nginx\nName:              nginx\n...\nEndpoints:         \n...\n```", "```\nroot@host01:~# iptables-save | grep default/nginx\n-A KUBE-SERVICES -d 10.101.98.80/32 -p tcp -m comment --comment \"default/nginx has no endpoints\"  \n  -m tcp --dport 80 -j REJECT --reject-with icmp-port-unreachable\n```", "```\nroot@host01:~# kubectl get pods\nNAME                     READY   STATUS    RESTARTS   AGE\nnginx-67fb6485f5-2k2nz   0/1     Running   0          10m\nnginx-67fb6485f5-vph44   0/1     Running   0          10m\nnginx-67fb6485f5-xzmj5   0/1     Running   0          10m\n```", "```\nroot@host01:~# kubectl exec -ti nginx-67fb6485f5-2k2nz -- \\\n  cp -v /etc/hostname /usr/share/nginx/html/ready\n'/etc/hostname' -> '/usr/share/nginx/html/ready'\n```", "```\nroot@host01:~# kubectl describe svc nginx\nName:              nginx\n...\nEndpoints:         172.31.239.199:80\n...\n```", "```\nroot@host01:~# curl http://10.101.98.80/ready\nnginx-67fb6485f5-2k2nz\n```", "```\nroot@host01:~# kubectl exec -ti nginx-67fb6485f5-vph44 -- \\\n  cp -v /etc/hostname /usr/share/nginx/html/ready\n'/etc/hostname' -> '/usr/share/nginx/html/ready'\nroot@host01:~# kubectl exec -ti nginx-67fb6485f5-xzmj5 -- \\\n  cp -v /etc/hostname /usr/share/nginx/html/ready\n'/etc/hostname' -> '/usr/share/nginx/html/ready'\n```", "```\nroot@host01:~# kubectl describe service nginx\nName:              nginx\n...\nEndpoints:         172.31.239.199:80,172.31.239.200:80,172.31.89.210:80\n...\n```", "```\nroot@host01:~# for i in $(seq 1 5); do curl http://10.101.98.80/ready; done\nnginx-67fb6485f5-xzmj5\nnginx-67fb6485f5-2k2nz\nnginx-67fb6485f5-xzmj5\nnginx-67fb6485f5-vph44\nnginx-67fb6485f5-vph44\n```"]