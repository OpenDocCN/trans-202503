- en: '5'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Social Engineering and Phishing Attacks
  prefs: []
  type: TYPE_NORMAL
- en: '![](image_fi/book_art/chapterart.png)'
  prefs: []
  type: TYPE_IMG
- en: 'In this chapter, you’ll use your virtual hacking lab to learn one of the most
    common and successful ways that attackers access victims’ computers and accounts:
    social engineering.'
  prefs: []
  type: TYPE_NORMAL
- en: '*Social engineering* means tricking people into giving out sensitive or valuable
    information like passwords, credit card numbers, or medical data. Researchers
    estimate that 94 to 98 percent of all computer attacks start with some form of
    social engineering. In movies, hackers often do something really advanced to break
    into a network, but in the real world, they usually just send an email tricking
    someone into giving up their username and password. This social engineering technique
    is known as *phishing*.'
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you’ll learn about the dangers of social engineering by creating
    a phishing website and sending a phishing email. You’ll see how easy it is for
    attackers to fool people into giving up their usernames and passwords and how
    to protect yourself against phishing attacks.
  prefs: []
  type: TYPE_NORMAL
- en: How Social Engineering Works
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Social engineering takes advantage of our human desire to be social, help others,
    and be part of a group, or it manipulates our basic human emotions like fear,
    curiosity, or greed to trick us into making a security mistake or giving away
    sensitive information. Peer pressure is a form of social engineering: it persuades
    someone to do something they wouldn’t normally do because “everyone else” is doing
    it or for fear of missing out. Similarly, online scammers use social engineering
    to manipulate us into making bad decisions without thinking about the consequences.'
  prefs: []
  type: TYPE_NORMAL
- en: In the physical world, con artists and criminals socially engineer their way
    into secure buildings by dressing like a delivery person or a utility worker,
    or they “tailgate” behind someone by carrying a large box and asking someone to
    hold the door open for them. Once inside, they “shoulder surf” by watching over
    someone’s shoulder while they enter a password.
  prefs: []
  type: TYPE_NORMAL
- en: In the digital world, social engineers use email, social media, ads, websites,
    text messages, automated phone calls, and other technologies. Online criminals
    can fool unsuspecting users into clicking a bad link, logging in to a fake website,
    accepting a fake friend request, entering their credit card information, downloading
    and running malware, or giving out their personal details.
  prefs: []
  type: TYPE_NORMAL
- en: The most common type of social engineering attack is phishing. In a phishing
    attack, an attacker uses email to trick you into downloading files infected with
    malware or visiting a malicious website disguised as the login page for an online
    service. If you log in to the fake service, the attacker gets your username and
    password.
  prefs: []
  type: TYPE_NORMAL
- en: To understand how easy it is for an attacker to set up a phishing attack, we’ll
    set one up ourselves using your Kali Linux VM. Seeing how it’s done will help
    you spot even the best phishing emails *before* you click one.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a Phishing Website
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We’ll start by creating a phishing website that looks just like the Twitter
    login page. The site will capture and store usernames and passwords.
  prefs: []
  type: TYPE_NORMAL
- en: Launch your Kali Linux VM and click the Kali icon on the menu panel at the top
    left of the screen. Open the *13 - Social Engineering Tools* folder and find the
    *Social Engineering Toolkit (SET)* application, as shown in [Figure 5-1](#figure5-1).
    This program, also called the Social-Engineer Toolkit, enables security professionals
    to develop advanced social engineering attacks to test a company’s security. This
    type of ethical hacking is called *penetration testing* (*pentesting* for short)
    because you’re testing whether you can penetrate a company’s defenses.![f05001](image_fi/502000c05/f05001.png)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 5-1: Find the *13 - Social Engineering Tools* folder and the SET application.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Click the SET icon to open the Social Engineering Toolkit. If prompted for your
    password, enter `kali`. (Note that you may not see your password as you type.)
    As the application loads, SET will ask you to accept the terms of use, as shown
    in [Figure 5-2](#figure5-2). Enter `Y` to agree to use SET for lawful purposes
    only.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You should now see something like the main SET menu shown in [Listing 5-1](#listing5-1).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Listing 5-1: The main SET menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![f05002](image_fi/502000c05/f05002.png)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 5-2: To use SET, you must agree to the terms of service.'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter `1` to select Social-Engineering Attacks. This should bring you to the
    Attacks menu, as shown in [Listing 5-2](#listing5-2).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Listing 5-2: The SET Attacks menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Under the Attacks menu, enter `2` to select Website Attack Vectors. This should
    take you to the Website Attack Vectors menu, shown in [Listing 5-3](#listing5-3).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Listing 5-3: The SET Website Attack Vectors menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Enter `3` to select Credential Harvester Attack Method. This should open the
    Credential Harvester Attack menu, which gives us a few options, as shown in [Listing
    5-4](#listing5-4).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Listing 5-4: The SET Credential Harvester Attack menu'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: We’ll use the second option, Site Cloner, to make a *clone*, or exact copy,
    of a real website for our phishing attack. This kind of phishing is called *credential
    harvesting* because its goal is to collect people’s *credentials*, or usernames
    and passwords. Press `2` to select Site Cloner and then press **ENTER**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Cloning a Login Page
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: SET’s Site Cloner will help you set up a clone of almost any login page. It
    downloads all the code needed to display an existing login page, such as for a
    social media platform, a bank, or an email service. As we saw when we used your
    browser’s Inspect tool in Chapter 1, this code is publicly available. Site Cloner
    then creates an exact copy of the page using the downloaded code. All that remains
    is to find a way to trick a user into entering their username and password into
    the cloned page.
  prefs: []
  type: TYPE_NORMAL
- en: Follow these steps to clone the Twitter login page.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, the Site Cloner asks for the IP address of the machine that will store
    victims’ usernames and passwords. By default, the prompt shows the IP address
    of your Kali VM. In my case, that’s 10.0.9.4, as shown in the SET prompt:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: If the IP address for your Kali VM is different, write it down, as you’ll need
    it later. Press **ENTER** to continue.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'SET should next ask for the URL of the site you want to clone:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: For a successful credential-harvesting attack, you need to clone a login page
    that asks for a username and password on the same screen. Most online services,
    including many social media sites, fit this description, but some bank sites and
    email sites, including Gmail and Outlook, ask for the username on one screen and
    the password on another screen to prevent attacks like this one.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'We’ll clone the Twitter login page. Enter `https://twitter.com/login` into
    the SET window:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: SET should now say it’s cloning the website. It may ask you to press ENTER again
    to continue. If SET asks you to confirm anything else, press `Y` or ENTER as requested.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After a moment, you’ll see a message confirming that the SET Credential Harvester
    Attack is running:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: SET was able to start a temporary web server on your Kali VM that victims can
    surf to. Now it’s waiting for victims to type their information into the site.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s Harvest Some Credentials!
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let’s test our phishing website to see if it works. While leaving the terminal
    window open, click the Kali icon on the menu panel and go to **Favorites**▶**Web
    Browser**. Once the browser opens, enter `localhost` into the address bar. You
    should see an almost perfect replica of the Twitter home page, as shown in [Figure
    5-3](#figure5-3). (Web pages change from time to time, as do browsers, so what
    you see may look slightly different.) The only way to tell that the page isn’t
    real is to look in the address bar.
  prefs: []
  type: TYPE_NORMAL
- en: '![f05003](image_fi/502000c05/f05003.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5-3: The cloned Twitter home page looks identical to the real one.'
  prefs: []
  type: TYPE_NORMAL
- en: First, you should see the address you entered (*localhost*) instead of the real
    address ([https://twitter.com](https://twitter.com)). Second, there’s no secure
    site lock icon next to the address bar, so the browser is telling you that the
    page isn’t secure.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we know our cloned site looks like the real thing, let’s see if it
    can capture login details. Click **Log in** to go to the login page. Enter a made-up
    username and password and click **Log in** again.
  prefs: []
  type: TYPE_NORMAL
- en: I’ve entered a username of GeorgeJetson with the password Jane!!!, as shown
    in [Figure 5-4](#figure5-4).
  prefs: []
  type: TYPE_NORMAL
- en: '![f05004](image_fi/502000c05/f05004.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5-4: Enter fake information into your SET cloned site; never enter your
    real username and password on a phishing site.'
  prefs: []
  type: TYPE_NORMAL
- en: Once you submit your fake login credentials, SET will redirect your browser
    to the real Twitter website, [https://twitter.com/](https://twitter.com/). You
    can tell it’s the real site from the address bar, where you’ll see the lock icon.
    SET takes the victim to the real login page to make them think that they mistyped
    their login information. This time, they log in to the real site without ever
    realizing that an attacker stole their credentials.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now open the terminal window running SET. If your phishing website worked correctly,
    you’ll see a screen full of web form data that was submitted. Scroll up if needed,
    and you’ll see the username and password you entered:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: If SET didn’t retrieve the login information, fill out the cloned form again.
    If you still can’t find the username and password you entered, close SET and try
    cloning a different site.
  prefs: []
  type: TYPE_NORMAL
- en: As long as SET is running, you can submit usernames and passwords to your form
    by going to your Kali IP address in any browser that has access to your Kali VM’s
    network. That means you can start up your Windows VM, pretend you’re a phishing
    victim surfing to your Kali VM’s IP address (10.0.9.4 or similar), and enter a
    username and password into the fake page.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a Phishing Email
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The final step in a phishing attack is to create and send a phishing email
    with a link to your phishing site’s IP address. Remember, SET’s Site Cloner is
    running a fake version of the Twitter login page on your Kali VM, so it uses your
    Kali VM’s IP address. In your Kali or Windows VM, log in to your email account
    and compose a new email. Your phishing email can be as simple as this:'
  prefs: []
  type: TYPE_NORMAL
- en: '`Subject: Unusual account activity`'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: ''
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '`Message: Someone attempted to log in to your Twitter account from Budapest,
    Hungary. If this wasn''t you, please log in to your account and check your Security
    settings: http://10.0.9.4.`'
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Email the message to yourself and open it on either your Kali or Windows 10
    VM while SET is running. Clicking the link should take you to your cloned phishing
    site!
  prefs: []
  type: TYPE_NORMAL
- en: Most people, however, probably wouldn’t click the link in the email. The email
    doesn’t look like a regular message from Twitter, and the link shows an IP address
    rather than the Twitter URL. To create a more convincing phishing scam, an attacker
    might instead copy a real email from Twitter, one that uses the Twitter logo and
    style, and paste it into a new message. Then they would change the text and links
    to try to convince people to click through to the cloned site. [Figure 5-5](#figure5-5)
    shows an example I cooked up.
  prefs: []
  type: TYPE_NORMAL
- en: '![f05005](image_fi/502000c05/f05005.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 5-5: I converted a real email from Twitter into a phishing email by
    changing the text and hyperlinks.'
  prefs: []
  type: TYPE_NORMAL
- en: I made it look like someone tried to hack the user’s account from North Korea
    to motivate them to click the link to check their “Security settings.” Next, I
    added a hyperlink for the text “Security settings” that takes the user to my cloned
    login page. In most email programs, you can insert a hyperlink by highlighting
    the text you want to turn into a link, clicking the chain-link icon (boxed in
    [Figure 5-5](#figure5-5)), and entering the link address. With the suspicious
    IP address hidden behind the text “Security settings,” people are more likely
    to click through to the phishing site.
  prefs: []
  type: TYPE_NORMAL
- en: Now that you understand phishing attacks, let’s look at how you can defend yourself
    against them.
  prefs: []
  type: TYPE_NORMAL
- en: Protecting Yourself Against Phishing Attacks
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'You can protect yourself from email scams with just a few simple tips:'
  prefs: []
  type: TYPE_NORMAL
- en: Mouse over links in your email (don’t click them!) to see if the link address
    is suspicious, either because it’s misspelled or unusually long/numeric. The address
    usually appears at or near the bottom of the screen in your browser or email program
    when you do this. (You can also use VirusTotal to check a link address for malware,
    as we did back in Chapter 4.)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Check the From: and To: fields of the email to make sure both are authentic.
    Look for misspellings or different domain names, like *gmail.com* instead of *yourbank.com*,
    in the sender’s address.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you’re asked for personal information, think carefully about who’s asking
    for it, what’s being asked for, and why the information is needed.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you’re ever unsure about the source of an email, don’t click or open anything.
    Call the person or company (using a real phone number, not one found in the email)
    to verify any important transactions or urgent problems.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you suspect that an email is fake, open a separate web browser window and
    visit the real website by entering the real URL or searching online for the business
    name. Double-check the address bar to make sure the URL is what you expect. Even
    then, only enter your username and password into a login page if the site is secure.
    You can tell if a website is secure if the URL begins with *https://* and the
    secure website lock symbol appears in your browser’s address bar.
  prefs: []
  type: TYPE_NORMAL
- en: The Takeaway
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this chapter, you learned that social engineers use human emotions against
    their victims to lure them into making the wrong choice, both in person and online.
    You learned about the most common online social engineering attack—phishing.
  prefs: []
  type: TYPE_NORMAL
- en: To understand how easy and effective phishing is, you cloned a login page with
    the Social Engineering Toolkit (SET) in Kali Linux that allowed you to harvest
    the credentials of unsuspecting users. You created a phishing email linking to
    the cloned page, and you saw how attackers can create more convincing emails by
    starting with a real email, then changing the text and links.
  prefs: []
  type: TYPE_NORMAL
- en: 'You learned to protect yourself from phishing attacks by looking carefully
    at the From: and To: fields in any email asking you to click a link, open a document,
    or take any action out of the ordinary. You also learned to check links by mousing
    over each one and examining the URL. Strange or misspelled web addresses, as well
    as unusually long or numeric IP addresses in a URL, can be clues that the address
    might be from a phishing attack. When in doubt, don’t click any links in an email.
    Instead, open a separate browser window, type the domain name of the real website
    where you have an account, and log in directly.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In the next chapter, you’ll add another important tool to your hacking repertoire:
    malware. Malware will allow you to remotely take over another computer so you
    can steal files, log keystrokes, and even access the user’s webcam.'
  prefs: []
  type: TYPE_NORMAL
