<html><head></head><body>
<h2 class="h2" id="ch05"><span id="page_59"></span>
 <strong>
<span class="big">5</span>
</strong>
</h2>
<h2 class="h2a">KEEPING YOUR PROGRAMS SAFE WITH OPTIONALS</h2>
<div class="image1"><img src="Image00001.jpg" />
</div>
<p class="noindent">In this chapter, we’ll cover a very cool feature in Swift: optionals. <em>Optionals</em>
 are variables that can either have a value or no value at all. Swift is different from many programming languages because normal constants and variables <em>must</em>
 have a value. This makes Swift a <em>safe</em>
 language because it prevents your code from failing when a variable is expected to have a value but one hasn’t yet been set.</p>
<p class="indent">However, there will be times when you need to create a variable but don’t have a value for it yet. In these cases, you can use an optional.</p>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h2 class="h2a">KEEPING YOUR PROGRAMS SAFE WITH OPTIONALS</h2>
<div class="image1"><img src="Image00001.jpg" />
</div>
<p class="noindent">In this chapter, we’ll cover a very cool feature in Swift: optionals. <em>Optionals</em>
 are variables that can either have a value or no value at all. Swift is different from many programming languages because normal constants and variables <em>must</em>
 have a value. This makes Swift a <em>safe</em>
 language because it prevents your code from failing when a variable is expected to have a value but one hasn’t yet been set.</p>
<p class="indent">However, there will be times when you need to create a variable but don’t have a value for it yet. In these cases, you can use an optional.</p>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image1"><img src="Image00001.jpg" />
</div>
<p class="noindent">In this chapter, we’ll cover a very cool feature in Swift: optionals. <em>Optionals</em>
 are variables that can either have a value or no value at all. Swift is different from many programming languages because normal constants and variables <em>must</em>
 have a value. This makes Swift a <em>safe</em>
 language because it prevents your code from failing when a variable is expected to have a value but one hasn’t yet been set.</p>
<p class="indent">However, there will be times when you need to create a variable but don’t have a value for it yet. In these cases, you can use an optional.</p>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">In this chapter, we’ll cover a very cool feature in Swift: optionals. <em>Optionals</em>
 are variables that can either have a value or no value at all. Swift is different from many programming languages because normal constants and variables <em>must</em>
 have a value. This makes Swift a <em>safe</em>
 language because it prevents your code from failing when a variable is expected to have a value but one hasn’t yet been set.</p>
<p class="indent">However, there will be times when you need to create a variable but don’t have a value for it yet. In these cases, you can use an optional.</p>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">However, there will be times when you need to create a variable but don’t have a value for it yet. In these cases, you can use an optional.</p>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h3 class="h3" id="ch05lev1sec1"><span id="page_60"></span>
 <strong>WHAT IS AN OPTIONAL?</strong>
</h3>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">You can think of an optional as a box that either contains something or is empty. For example, an optional <span class="code">String</span>
 is just a box that either contains a <span class="code">String</span>
 or is empty. When an optional is empty, it has the special value <span class="code">nil</span>
 . In Swift, <span class="code">nil</span>
 just means that there’s no value.</p>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">When you declare a variable or constant, Swift expects it to hold a value. If you’re not sure what value you want that variable or constant to hold, you can use an optional to avoid problems in your programs. Let’s see how!</p>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h3 class="h3" id="ch05lev1sec2">
<strong>CREATING OPTIONALS</strong>
</h3>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">To create an optional, you declare a variable or a constant and add a <span class="code">?</span>
 after the data type. The <span class="code">?</span>
 lets Swift know that you want to make the variable or constant an optional. Like a variable or a constant, an optional can contain any data type.</p>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Let’s create an optional called <span class="code">futureTeacher</span>
 as an example. Imagine that not all of the teachers at your school have been assigned to the next year’s classes yet, so you don’t know who your new teacher will be.</p>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00103.jpg" />
</div>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">In this example, we create an optional variable, <span class="code">futureTeacher</span>
 , that will store a <span class="code">String</span>
 , by adding a <span class="code">?</span>
 after the data type. Unlike non-optional variables that we’ve used up until this point, an optional doesn’t require an initial value. That part is—you guessed it—<em>optional</em>
 ! At <span class="ent">➊</span>
 , we didn’t assign an initial value to <span class="code">futureTeacher</span>
 , so its default value is the special value <span class="code">nil</span>
 , which means it doesn’t yet have a value.</p>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Now that we’ve declared <span class="code">futureTeacher</span>
 as an optional <span class="code">String</span>
 , it can hold either nothing (<span class="code">nil</span>
 ) or a <span class="code">String</span>
 . You change the value of an optional in the same way that you set the value for a regular variable, as shown at <span class="ent">➋</span>
 . If you change your mind and want to set the optional to <span class="code">nil</span>
 again, you can do so <span class="ent">➌</span>
 . Note that you can’t set a regular variable to <span class="code">nil</span>
 ! This is a special characteristic of optionals. In <a href="text00015.html#ch05fig1">Figure 5-1</a>
 , you can see that setting <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 is allowed, but setting <span class="code">grade</span>
 to <span class="code">nil</span>
 is not.</p>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00104.jpg" />
</div>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">The reason you can’t change <span class="code">grade</span>
 to <span class="code">nil</span>
 is because <span class="code">grade</span>
 was not declared as an optional and is just a regular <span class="code">Int</span>
 data type. Only optionals can hold either a value of the declared type or <span class="code">nil</span>
 . Optionals are special like that.</p>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><span id="page_61"></span>
 <img src="Image00105.jpg" />
</div>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="figcap"><a id="ch05fig1"></a>
 <em>Figure 5-1: You can’t set a non-optional to <span class="code">nil</span>
 .</em>
</p>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h4 class="h4" id="ch05lev2sec1">
<strong>UNWRAPPING OPTIONALS</strong>
</h4>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">Optionals make your code safer because they force you to plan for a situation in which they have no value. But this also means they require a little more work to use.</p>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">For example, you can’t use an optional <span class="code">String</span>
 the same way you would use a regular <span class="code">String</span>
 . First, you need to check if there really is a <span class="code">String</span>
 stored in your optional. If there is, then you can use it like any other <span class="code">String</span>
 .</p>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">To check if your optional has a value that you can use, you need to <em>unwrap</em>
 it. Unwrapping an optional is like taking it out of a box. You wouldn’t play with a birthday present without taking it out of the box, right? Well, you can’t use an optional in your code without unwrapping it first, either. There are a few different ways to unwrap optionals. Let’s see how they work!</p>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00106.jpg" />
</div>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h5 class="h5" id="ch05lev2sec2">
<strong>Forced Unwrapping</strong>
</h5>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">One way to unwrap an optional is through <em>forced unwrapping</em>
 . Use forced unwrapping when you know that an optional has a value and you want the computer to access that value directly. You do this by entering an <span class="code">!</span>
 after the optional name. Enter this code into your playground:</p>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00107.jpg" />
</div>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">In this example, we set <span class="code">futureTeacher</span>
 to <span class="code">"Mr.Gale"</span>
 . If we try sticking the optional <span class="code">String</span>
 variable <span class="code">futureTeacher</span>
 into a <span class="code">print</span>
 statement <span class="ent">➊</span>
 , the value <span id="page_62"></span>
 is printed as <span class="code">Optional("Mr.Gale")</span>
 . That’s not ideal! We just want the string <span class="code">"Mr.Gale"</span>
 . To get that, you need to unwrap the optional. At <span class="ent">➋</span>
 , we force-unwrap <span class="code">futureTeacher</span>
 using <span class="code">futureTeacher!</span>
 . Now the printed line <span class="code">"Next year I know my teacher will be Mr.Gale.\n"</span>
 looks as expected.</p>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">When you use forced unwrapping, you must be sure that the optional has a value. If it’s <span class="code">nil</span>
 , you’ll get an error. To see this for yourself, set <span class="code">futureTeacher</span>
 to <span class="code">nil</span>
 instead of <span class="code">"Mr.Gale"</span>
 , as shown in <a href="text00015.html#ch05fig2">Figure 5-2</a>
 . If you force-unwrap an optional and it has a <span class="code">nil</span>
 value, your program will crash.</p>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00108.jpg" />
</div>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="figcap"><a id="ch05fig2"></a>
 <em>Figure 5-2: Force-unwrapping an optional with no value will cause an error.</em>
</p>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Forced unwrapping should be used with caution and only when you can answer yes to the question, “Do I know this optional will always have a value at this point in the code?” You can make sure that an optional has a value by first checking whether it’s equal to <span class="code">nil</span>
 before trying to unwrap it. This is a safe way to force-unwrap an optional:</p>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00109.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">At <span class="ent">➊</span>
 , we check to make sure that <span class="code">futureTeacher</span>
 has a value before we force-unwrap it. If <span class="code">futureTeacher</span>
 is not equal to <span class="code">nil</span>
 , we force-unwrap it and store its value in the constant <span class="code">knownTeacher</span>
 <span class="ent">➋</span>
 . If <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 , we print <span class="code">"I do not know who will be my teacher next year."</span>
 using an <span class="code">else</span>
 statement at <span class="ent">➌</span>
 .</p>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h5 class="h5" id="ch05lev3sec1">
<strong>Optional Binding</strong>
</h5>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">Another way to unwrap an optional is to use <em>optional binding</em>
 . Optional binding works by temporarily binding the optional to a constant or variable and then providing a block of code that will run only when the optional does have a value. We do this using an <span class="code">if-let</span>
 statement.</p>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent"><span id="page_63"></span>
 Add this code into your playground to see an <span class="code">if-let</span>
 statement in action:</p>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00110.jpg" />
</div>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">The <span class="code">if-let</span>
 statement checks whether the optional <span class="code">futureTeacher</span>
 contains a value. If it does, the value will be assigned to the constant <span class="code">knownTeacher</span>
 <span class="ent">➊</span>
 , and the block of code in the braces that follows will be executed. In this case, the optional <span class="code">futureTeacher</span>
 doesn’t contain a value, so the block of code following the <span class="code">if-let</span>
 statement isn’t executed.</p>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">If you want something to happen when your optional has a <span class="code">nil</span>
 value, then you can write an <span class="code">else</span>
 block, like we did at <span class="ent">➋</span>
 . In this example, we’re telling the computer to look at <span class="code">futureTeacher</span>
 and if it contains a value, the computer should call that value <span class="code">knownTeacher</span>
 . If there’s no value in <span class="code">futureTeacher</span>
 , our program will output <span class="code">"I do not know who will be my teacher next year."</span>
</p>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Did you notice the similarity between the block of code in the <span class="code">if-let</span>
 statement and the block of code that you wrote checking whether <span class="code">futureTeacher</span>
 is <span class="code">nil</span>
 before force-unwrapping it and setting its value to <span class="code">knownTeacher</span>
 ? So, for example, this:</p>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="box">
<p class="programs">
<span class="pink">if let</span>
 knownTeacher = <span class="green1">futureTeacher</span>
 {<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">is a better and more concise way of writing this:</p>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="box">
<p class="programs">
<span class="pink">if</span>
 <span class="green1">futureTeacher</span>
 != <span class="pink">nil</span>
 {<br />
    let knownTeacher = <span class="green1">futureTeacher</span>
 !<br />
    <span class="blue">print</span>
 (<span class="red">"Next year</span>
 \<span class="red">(</span>
 knownTeacher<span class="red">) will be my teacher."</span>
 )<br />
}</p>
</div>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Try changing <span class="code">futureTeacher</span>
 to a teacher’s name and run this <span class="code">if-let</span>
 statement again. You should see the sentence <span class="code">"Next year</span>
 <em>teacher</em>
 <span class="code">will be my teacher."</span>
 filled with the name you typed.</p>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="note">
<p class="notet">
<strong>
<span class="bgblue">NOTE</span>
</strong>
</p>
<p class="notep">
<em>Although this type of statement is called an <span class="code">if-let</span>
 statement, you can also use <span class="code">if-var</span>
 and temporarily assign the optional value to a variable instead of a constant.</em>
</p>
</div>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">It’s important to note that we’re just temporarily assigning the value in <span class="code">futureTeacher</span>
 to the constant <span class="code">knownTeacher</span>
 . The constant <span class="code">knownTeacher</span>
 only exists inside of the <span class="code">if-let</span>
 statement’s braces. If you want to access the value of <span class="code">futureTeacher</span>
 later in the program, you’ll have to make another <span class="code">if-let</span>
 <span id="page_64"></span>
 statement. That’s what we mean when we say that using optionals requires a little more work on your part, because you’ll have to unwrap the optional each time you want to use it.</p>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Optional binding is a safe way to unwrap optionals when you’re not sure if they contain a value. If the optional is <span class="code">nil</span>
 , you won’t get an error, and instead you can control what happens using an <span class="code">else</span>
 statement.</p>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">You may be asking yourself, “How could you not know whether something has a value?” In our example, it’s quite obvious that <span class="code">futureTeacher</span>
 doesn’t have a value because we set it to <span class="code">nil</span>
 . But there are many times when you won’t know whether an optional has a value. For example, suppose we asked the user to input a name for <span class="code">futureTeacher</span>
 . The user may have typed a name or not. Users can be unpredictable. Maybe they were distracted and forgot to enter a name. There’s no way to see what the user is doing until <em>runtime</em>
 —that is, when the program is actually running. If our program needs the user to set the value for <span class="code">futureTeacher</span>
 , then it has to be ready to handle both possibilities (if the user typed a name or forgot) because at runtime either could be true.</p>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h5 class="h5" id="ch05lev3sec2">
<strong>Implicitly Unwrapped Optionals</strong>
</h5>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">As you have seen so far, optionals need to be unwrapped before your program can access the data they hold. Usually you will unwrap an optional every time you need to use it. But there are some rare cases where you will have a variable that has to be an optional and will always have a value. In these cases, rather than unwrap the optional every time you use it, you can declare it as an <em>implicitly unwrapped optional</em>
 . This tells the computer that the variable is an optional but will always have a value. An implicitly unwrapped optional, therefore, does <em>not</em>
 need to be unwrapped every time you use it; it’s automatically unwrapped for you. Instead of creating the optional with a <span class="code">?</span>
 after the data type like a regular optional, you create an implicitly unwrapped optional by typing an <span class="code">!</span>
 after the data type.</p>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00111.jpg" />
</div>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">You might be wondering when you would ever use these implicitly unwrapped optionals. A common use is when you write an app with a storyboard. When you want to connect variables in your code to objects in the storyboard, you make them implicitly unwrapped optionals. You’ll see these come up in <a href="text00021.html#ch10">Chapter 10</a>
 while you’re creating the Birthday Tracker app. These variables need to be optional (because the storyboard requires it), but they will always have a value (since they are connected to the storyboard, the storyboard will always give them a value before you use them).</p>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Other than in this special case, you shouldn’t be using implicitly unwrapped optionals very often. They aren’t as safe as regular optionals and can cause your program to crash if used incorrectly. It’s best to stick with regular optionals as much as possible.</p>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h4 class="h4" id="ch05lev2sec3"><span id="page_65"></span>
 <strong>A SPECIAL KIND OF OPERATOR: ??</strong>
</h4>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">There’s a special kind of operator that’s very useful when you’re unwrapping optionals: the <em>nil coalescing operator</em>
 . It’s impressive sounding, isn’t it? It’s actually quite easy to use, though, and can be a timesaver.</p>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">The nil coalescing operator is written as a pair of question marks between an optional and a default value, like <span class="code">
<span class="italic">optionalThing</span>
 ?? <span class="italic">defaultThing</span>
</span>
 . When the optional has a value, the value will be used as usual, but when the optional is nil, the nil coalescing operator will use the default value instead.</p>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">Let’s try an example with this operator:</p>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00112.jpg" />
</div>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">At <span class="ent">➊</span>
 , we create an optional <span class="code">String</span>
 variable called <span class="code">specialLunch</span>
 . Next, we set a variable called <span class="code">myLunch</span>
 to either be the value of <span class="code">specialLunch</span>
 if it contains a <span class="code">String</span>
 or <span class="code">defaultLunch</span>
 if it doesn’t <span class="ent">➋</span>
 . At <span class="ent">➌</span>
 , when we print the value of <span class="code">myLunch</span>
 , we can see that it’s the default value of <span class="code">"pizza"</span>
 because <span class="code">specialLunch</span>
 is <span class="code">nil</span>
 . When we set <span class="code">specialLunch</span>
 to <span class="code">"shepherd's pie"</span>
 <span class="ent">➍</span>
 and then use the nil coalescing operator again, the <span class="code">specialLunch</span>
 value is unwrapped and put into <span class="code">myLunch</span>
 <span class="ent">➎</span>
 . As you can see, the nil coalescing operator is a quick way to either get an optional’s value if it has one, or use some other value if the it is <span class="code">nil</span>
 .</p>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<div class="image"><img src="Image00113.jpg" />
</div>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<h3 class="h3" id="ch05lev1sec3">
<strong>WHAT YOU LEARNED</strong>
</h3>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="noindent">In this chapter, you learned about optionals, a great feature that makes Swift a safe language. Optionals force us to know which variables might not have a value so we can prevent any potential problems in our programs.</p>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
<p class="indent">In <a href="text00016.html#ch06">Chapter 6</a>
 , you’ll learn about two collection data types: the array and the dictionary. Both are extremely useful for storing and managing collections of items. Items in an array are stored in an ordered list and can be accessed by an index number. Items in a dictionary are stored in unordered key/value pairs and can be accessed by the keys.<span id="page_66"></span>
</p>
</body>
</html>
</body></html>