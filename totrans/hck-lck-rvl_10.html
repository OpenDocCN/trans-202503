<html><head></head><body>
<div id="sbo-rt-content">
<section epub:type="chapter" role="doc-chapter" aria-labelledby="ch7">

<hgroup>
<h2 class="CHAPTER" id="ch7">

<span class="CN"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_169" aria-label=" Page 169. "/><samp class="SANS_Futura_Std_Bold_Condensed_B_11">7</samp></span>

<span class="CT"><samp class="SANS_Dogma_OT_Bold_B_11">AN INTRODUCTION TO PYTHON</samp></span>

</h2>
</hgroup>

<p class="COS">The skills you’ve learned in the last few chapters are instrumental for investigating leaked datasets, but having basic programming knowledge is even more powerful. Using Python or other programming languages, you can give your computer precise instructions for performing tasks that existing tools or shell scripts don’t allow. For example, you could write a Python script that scours a million pieces of video metadata to determine where the videos were filmed. In my experience, Python is also simpler, easier to understand, and less error-prone than shell scripts.</p>

<p class="TX">This chapter provides a crash course on the fundamentals of Python programming. You’ll learn to write and execute Python scripts and use the interactive Python interpreter. You’ll also use Python to do math, define variables, work with strings and Boolean logic, loop through lists of items, <span role="doc-pagebreak" epub:type="pagebreak" id="pg_170" aria-label=" Page 170. "/>and use functions. Future chapters rely on your understanding of these basic skills.</p>

<section epub:type="division" aria-labelledby="sec1">

<h3 class="H1F" id="sec1"><span id="h-157"/><samp class="SANS_Futura_Std_Heavy_B_21">Exercise 7-1: Install Python</samp></h3>

<p class="TNI">Some operating systems, including most versions of Linux and macOS, come with Python preinstalled, and it’s common to have multiple versions of Python installed at once. This book uses Python 3. After you follow the Python installation instructions for your operating system in this exercise, you should be able to run Python scripts with the <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp> (for Linux and Mac) or <samp class="SANS_TheSansMonoCd_W5Regular_11">python</samp> (for Windows) command.</p>

<section epub:type="division" aria-labelledby="sec2">

<h4 class="H2" id="sec2"><span id="h-158"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Windows</samp></h4>

<p class="TNI">Download and install the latest version of Python 3 for Windows from <a href="https://www.python.org"><i>https://<wbr/>www<wbr/>.python<wbr/>.org</i></a>. During installation, check the box <b>Add Python 3.</b><b><i>x</i></b> <b>to PATH</b> (where <b>3.</b><b><i>x</i></b> is the latest Python 3 version), which allows you to run the <samp class="SANS_TheSansMonoCd_W5Regular_11">python</samp> command in PowerShell without using the Python program’s absolute path.</p>

<p class="TX"><span class="Index-Link">Wherever this chapter instructs you to open a terminal,</span> use PowerShell instead of an Ubuntu terminal. You can also learn to use Python in Ubuntu with WSL by following this chapter’s Linux instructions, but running Python directly in Windows makes reading and writing data on your Windows-formatted USB disk much faster.</p>

<p class="TX">Windows users should replace all instances of <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp> with <samp class="SANS_TheSansMonoCd_W5Regular_11">python</samp> when running the example code in this chapter.</p>

</section>

<section epub:type="division" aria-labelledby="sec3">

<h4 class="H2" id="sec3"><span id="h-159"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Linux</samp></h4>

<p class="TNI">Open a terminal and make sure the <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">python3-pip</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">python3-venv</samp> packages are installed, using this <samp class="SANS_TheSansMonoCd_W5Regular_11">apt</samp> command:</p>

<pre id="pre-213"><code><b>sudo apt install python3 python3-pip python3-venv</b></code></pre>

<p class="BodyContinued">This command either installs the latest version of Python 3 available in the Ubuntu repositories (as well as a few related packages you’ll need for this chapter) or does nothing if the packages are already installed.</p>

</section>

<section epub:type="division" aria-labelledby="sec4">

<h4 class="H2" id="sec4"><span id="h-160"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">macOS</samp></h4>

<p class="TNI">Open a terminal and run the following Homebrew command to make sure <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp> is installed:</p>

<pre id="pre-214"><code><b>brew install python3</b></code></pre>

<p class="BodyContinued">This command either installs the latest version of Python 3 available in Homebrew or does nothing if it’s already installed.</p>

</section>
</section>

<section epub:type="division" aria-labelledby="sec5">

<h3 class="H1F" id="sec5"><span id="h-161"/><span role="doc-pagebreak" epub:type="pagebreak" id="pg_171" aria-label=" Page 171. "/><samp class="SANS_Futura_Std_Heavy_B_21">Exercise 7-2: Write Your First Python Script</samp></h3>

<p class="TNI">Now that you’ve downloaded Python, you’ll write and run a simple Python script that displays some text in your terminal.</p>

<p class="TX">In your text editor, create a new file called <i>exercise-7-2.py</i> (all Python scripts end in <i>.py</i>). The first time you open a Python script in VS Code, it asks if you want to install the Python extension. I recommend doing so in order to enable VS Code to make suggestions as you’re typing. The extension also has various features for highlighting syntax errors and helping you format your code nicely.</p>

<p class="TX">Enter the following code (or copy and paste it from <a href="https://github.com/micahflee/hacks-leaks-and-revelations/blob/main/chapter-7/exercise-7-2.py"><i>https://<wbr/>github<wbr/>.com<wbr/>/micahflee<wbr/>/hacks<wbr/>-leaks<wbr/>-and<wbr/>-revelations<wbr/>/blob<wbr/>/main<wbr/>/chapter<wbr/>-7<wbr/>/exercise<wbr/>-7<wbr/>-2<wbr/>.py</i></a>), then save the file:</p>

<pre id="pre-215"><code>print("hacks")

print("leaks")

revelations = "revelations".upper()

print(revelations)</code></pre>

<p class="TX">As with shell scripts, Python scripts run instructions one line at a time, starting at the top. When you run this code, <samp class="SANS_TheSansMonoCd_W5Regular_11">print("hacks")</samp> calls a function called <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> and passes the string <samp class="SANS_TheSansMonoCd_W5Regular_11">hacks</samp> into it, displaying <samp class="SANS_TheSansMonoCd_W5Regular_11">hacks</samp> in your terminal window. The second line similarly displays <samp class="SANS_TheSansMonoCd_W5Regular_11">leaks</samp>. (I’ll explain strings in greater detail in the <span class="Xref">“Python Basics”</span> section on <span class="Xref">page 172</span>, and functions in the <span class="Xref">“Functions”</span> section on <span class="Xref">page 192</span>.)</p>

<p class="TX">Next, the script defines a variable called <samp class="SANS_TheSansMonoCd_W5Regular_11">revelations</samp> and sets its value to the uppercase version of the string <samp class="SANS_TheSansMonoCd_W5Regular_11">revelations</samp>. To find the uppercase version of that string, the program calls the <samp class="SANS_TheSansMonoCd_W5Regular_11">upper()</samp> method, which is a type of function. The final line then displays what’s stored in the <samp class="SANS_TheSansMonoCd_W5Regular_11">revelations</samp> variable: <samp class="SANS_TheSansMonoCd_W5Regular_11">REVELATIONS</samp>.</p>
<blockquote>

<p class="NOTE"><span class="NoteHead"><samp class="SANS_Dogma_OT_Bold_B_21">NOTE</samp></span></p>
</blockquote>

<p class="NOTE-TXT"><i>I have fond memories of retyping snippets of code from books. When I was a teenager, I taught myself web and video game development by reading programming books and typing the code samples I found into my own editor. I always found that actually retyping the code, rather than copying and pasting it, helped make the concepts stick, so I recommend doing that for the exercises in this book.</i></p>

<p class="TX">In a terminal, change to your <i>exercises</i> folder and run the script you just created with the following command (Windows users, remember to replace <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp> with <samp class="SANS_TheSansMonoCd_W5Regular_11">python</samp>):</p>

<pre id="pre-216"><code>micah@trapdoor chapter-7 % <b>python3 exercise-7-2.py</b></code></pre>

<p class="TX">The argument in this command is the path to the script that you want to run, <i>exercise-7-2.py</i>. You should get the following output:</p>

<pre id="pre-217"><code>hacks

leaks

REVELATIONS</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_172" aria-label=" Page 172. "/>Try making the following changes to your script, running it after each change to see the results:</p>
<ul class="BL">

<li class="BL">Change the text in the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> functions.</li>
<li class="BL">Add new <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> functions to display more text.</li>
<li class="BL">Use the string methods <samp class="SANS_TheSansMonoCd_W5Regular_11">lower()</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">capitalize()</samp> instead of <samp class="SANS_TheSansMonoCd_W5Regular_11">upper()</samp>.</li>
</ul>
</section>

<section epub:type="division" aria-labelledby="sec6">

<h3 class="H1" id="sec6"><span id="h-162"/><samp class="SANS_Futura_Std_Bold_B_11">Python Basics</samp></h3>

<p class="TNI">In this section, you’ll learn to write code in the interactive Python interpreter, comment your code, start doing simple math in Python, and use strings and lists. This gentle introduction to Python syntax will let you quickly try out some code on your own, before you dive into more advanced topics.</p>

<p class="TX">As you read, don’t be shy about searching online for answers to any Python questions you might have beyond what this book covers. I frequently find solutions to Python problems on websites like Stack Overflow, a forum where people can ask technical questions and others can answer them.</p>

<section epub:type="division" aria-labelledby="sec7">

<h4 class="H2" id="sec7"><span id="h-163"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">The Interactive Python Interpreter</samp></h4>

<p class="TNI">The <i>Python interpreter</i> is a command line program that lets you run Python code in real time, without writing scripts first, allowing you to quickly test commands. To open the Python interpreter, you run the <samp class="SANS_TheSansMonoCd_W5Regular_11">python3</samp> command without any arguments, like so:</p>

<pre id="pre-218"><code>micah@trapdoor ~ % <b>python3</b>

<var>--snip--</var>

Type "help", "copyright", "credits" or "license" for more information.

&gt;&gt;&gt;</code></pre>

<p class="TX">The interpreter starts by telling you exactly which version of Python you’re using. Similar to a command line interface, it gives you the prompt <samp class="SANS_TheSansMonoCd_W5Regular_11">&gt;&gt;&gt;</samp> and waits for you to enter a Python command.</p>

<p class="TX">Run the following command:</p>

<pre id="pre-219"><code>&gt;&gt;&gt; <b>print("Hello World!")</b>

Hello World!

&gt;&gt;&gt;</code></pre>

<p class="TX">Entering <samp class="SANS_TheSansMonoCd_W5Regular_11">print("Hello World!")</samp> and pressing <small>ENTER</small> should immediately run your code, displaying <samp class="SANS_TheSansMonoCd_W5Regular_11">Hello World!</samp> on the next line. Exit the interpreter and return to the shell by running <samp class="SANS_TheSansMonoCd_W7Bold_B_11">exit()</samp> or pressing <small>CTRL</small><span class="Character_20_style">-D</span>.</p>

<p class="TX">In the remainder of this book, if my examples include the <samp class="SANS_TheSansMonoCd_W5Regular_11">&gt;&gt;&gt;</samp> prompt, that means they’re running in the Python interpreter. Run the same code in your own interpreter as you follow along.</p>

</section>

<section epub:type="division" aria-labelledby="sec8">

<h4 class="H2" id="sec8"><span id="h-164"/><span role="doc-pagebreak" epub:type="pagebreak" id="pg_173" aria-label=" Page 173. "/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Comments</samp></h4>

<p class="TNI">Writing code can be confusing even to experienced programmers, so it’s always a good idea to <i>comment</i> your code: add inline notes to yourself or to others who might read your program. If you describe the purpose of a specific portion of code in plain English (or whatever language you speak), whoever looks at this code in the future can understand the gist of what it’s doing at a glance.</p>

<p class="TX">If a line of code starts with a hash mark (<samp class="SANS_TheSansMonoCd_W5Regular_11">#</samp>), the whole line is a comment. You can also add a hash mark after some code, followed by your comment. For example, run the following lines of code:</p>

<pre id="pre-220"><code>&gt;&gt;&gt; <b># This is a comment</b>

&gt;&gt;&gt; <b>x = 10 # This sets the variable x to the value 10</b>

&gt;&gt;&gt; <b>print(x)</b>

10</code></pre>

<p class="TX">This is exactly the same as comments in shell scripting, which you learned about in <span class="Xref"><a href="chapter3.xhtml">Chapter 3</a></span>. Python ignores comments, since they’re intended for humans.</p>

</section>

<section epub:type="division" aria-labelledby="sec9">

<h4 class="H2" id="sec9"><span id="h-165"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Math with Python</samp></h4>

<p class="TNI">Computers, which are technically complicated calculators, are great at doing math. It might not be immediately apparent, but investigating datasets means constantly dealing with basic math: calculating disk space, counting files, searching for keywords, and sorting lists. Here’s how a few basic mathematical operations work in Python:</p>

<p class="ListHead"><b>Operators</b></p>

<p class="ListPlain">The arithmetic operators for addition (+), subtraction (<span class="listplain_symbol">−</span>), multiplication (<span class="listplain_symbol">×</span>), and division (/) are mostly the same in Python: <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">-</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">/</samp>, with an asterisk <samp class="SANS_TheSansMonoCd_W5Regular_11">*</samp> for multiplication.</p>

<p class="ListHead"><b>Variables</b></p>

<p class="ListPlain">In math, a variable is a placeholder, normally a letter like <i>x</i>. Variables in math often represent something unknown and it’s your job to solve for it, but Python variables are never unknown—they always have a value. Name your Python variables something descriptive like <samp class="SANS_TheSansMonoCd_W5Regular_11">price</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">number_of_retweets</samp> rather than single letters without clear meanings. Variables in Python can represent much more than just numbers, as you’ll see later in this chapter.</p>

<p class="ListHead"><b>Expressions</b></p>

<p class="ListPlain">An expression is a bit like a sentence made up of numbers, variables, and operators. For example, here are a few expressions:</p>

<pre id="pre-221"><code>1 + 1

100 / 5

x * 3 + 5</code></pre>

<p class="ListBody"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_174" aria-label=" Page 174. "/>Like sentences, expressions need to have the correct syntax. Just like “potato the inside” isn’t a valid sentence, 1 1 + isn’t a valid expression. Enter the following expressions in the Python interpreter to see how it evaluates them:</p>

<pre id="pre-222"><code>&gt;&gt;&gt; <b>1</b> <b>+</b> <b>1</b>

2

&gt;&gt;&gt; <b>100 / 5</b>

20.0

&gt;&gt;&gt; <b>3.14 * 2</b>

6.28</code></pre>

<p class="ListBody">Just like a calculator, Python respects the order of operations. It also supports using parentheses:</p>

<pre id="pre-223"><code>&gt;&gt;&gt; <b>100 - 12 * 2</b>

76

&gt;&gt;&gt; <b>(100 - 12) * 2</b>

176</code></pre>

<p class="ListBody">As in the rest of math, Python won’t allow you to divide by zero:</p>

<pre id="pre-224"><code>&gt;&gt;&gt; <b>15 / 0</b>

Traceback (most recent call last):

  File "&lt;stdin&gt;", line 1, in &lt;module&gt;

ZeroDivisionError: division by zero</code></pre>

<p class="TX">You define a variable in Python by saving a value inside that variable with the equal sign (<samp class="SANS_TheSansMonoCd_W5Regular_11">=</samp>). Try defining <samp class="SANS_TheSansMonoCd_W5Regular_11">price</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">sales_tax</samp> variables and then using them in an expression:</p>

<pre id="pre-225"><code>&gt;&gt;&gt; <b>price = 100</b>

&gt;&gt;&gt; <b>sales_tax </b><b>= .05</b>

&gt;&gt;&gt; <b>total = price + (price * sales_tax)</b>

&gt;&gt;&gt; <b>print(total)</b>

105.0</code></pre>

<p class="TX">You can’t use variables that you haven’t yet defined. For example, if you use an undefined variable <samp class="SANS_TheSansMonoCd_W5Regular_11">x</samp> in an expression, you’ll get an error:</p>

<pre id="pre-226"><code>&gt;&gt;&gt; <b>x * 10</b>

Traceback (most recent call last):

  File "&lt;stdin&gt;", line 1, in &lt;module&gt;

NameError: name 'x' is not defined</code></pre>

<p class="TX">Instead of just setting a variable equal to some value, you’ll often want to modify its existing value by a certain amount. For example, if you’re keeping track of the total price of items in a shopping cart in the <samp class="SANS_TheSansMonoCd_W5Regular_11">total</samp> <span role="doc-pagebreak" epub:type="pagebreak" id="pg_175" aria-label=" Page 175. "/>variable and want to add 10 dollars to that total, you would define the variable like so:</p>

<pre id="pre-227"><code>total = total + 10</code></pre>

<p class="TX">Python’s <samp class="SANS_TheSansMonoCd_W5Regular_11">+=</samp> operator performs the same operation:</p>

<pre id="pre-228"><code>total += 10</code></pre>

<p class="BodyContinued">The <samp class="SANS_TheSansMonoCd_W5Regular_11">+=</samp> operator adds the number on the right to the variable on the left. The Python operators <samp class="SANS_TheSansMonoCd_W5Regular_11">-=</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">*=</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">/=</samp> work the same way. In your Python interpreter, define a variable, then try changing its value using these operators.</p>

</section>

<section epub:type="division" aria-labelledby="sec10">

<h4 class="H2" id="sec10"><span id="h-166"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Strings</samp></h4>

<p class="TNI">A <i>string</i> is a sequence of characters. Any time you need to load, modify, or display text, you store it in a string. If you load the contents of a text file into a variable in Python (for example, a 5MB EML file that includes attachments), that’s a string. But strings are also often very short: in Exercise 7-2, you used the strings <samp class="SANS_TheSansMonoCd_W5Regular_11">"hacks"</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">"leaks"</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">"revelations"</samp>.</p>

<p class="TX">In Python, strings must be enclosed in either single quotes (<samp class="SANS_TheSansMonoCd_W5Regular_11">'</samp>) or double quotes (<samp class="SANS_TheSansMonoCd_W5Regular_11">"</samp>). Run the following examples, which demonstrate how to use each type of quote. Here is a string with double quotes:</p>

<pre id="pre-229"><code>&gt;&gt;&gt; <b>"apple"</b> 

'apple'</code></pre>

<p class="TX">Here is the same string with single quotes:</p>

<pre id="pre-230"><code>&gt;&gt;&gt; <b>'apple'</b> # The same string with single quotes

'apple'</code></pre>

<p class="TX">Use double quotes if you have single quotes within the string:</p>

<pre id="pre-231"><code>&gt;&gt;&gt; <b>"She's finished!"</b>

"She's finished!"</code></pre>

<p class="TX">Use single quotes if you have double quotes within the string:</p>

<pre id="pre-232"><code>&gt;&gt;&gt; <b>'She said, "Hello" '</b>

'She said, "Hello" '</code></pre>

<p class="TX">Some of the same techniques you learned in <span class="Xref"><a href="chapter3.xhtml">Chapter 3</a></span> to work with strings in your shell also apply to strings in Python. If your string uses double quotes, you can escape them like so:</p>

<pre id="pre-233"><code>&gt;&gt;&gt; <b>"She said, \"Hello\" "</b></code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_176" aria-label=" Page 176. "/>You can similarly escape single quotes in a single-quote string:</p>

<pre id="pre-234"><code>&gt;&gt;&gt; <b>'She\'s finished!'</b></code></pre>

<p class="TX">Like numbers, strings can be stored in variables. Run the following code to define <samp class="SANS_TheSansMonoCd_W5Regular_11">first_name</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">last_name</samp> variables, replacing my name with yours:</p>

<pre id="pre-235"><code>&gt;&gt;&gt; <b>first_name = "</b><b><var>Micah</var></b><b>"</b>

&gt;&gt;&gt; <b>last_name = "</b><b><var>Lee</var></b><b>"</b></code></pre>

<p class="TX">In Python, <i>f-strings</i> are strings that can contain variables. To use an f-string, put the letter <samp class="SANS_TheSansMonoCd_W5Regular_11">f</samp> before the quotes, then put variable names in braces (<samp class="SANS_TheSansMonoCd_W5Regular_11">{</samp>and}). For example, run the following commands to display the values of the variables you just defined:</p>

<pre id="pre-236"><code>&gt;&gt;&gt; <b>print(f"{first_name} {last_name}")</b>

Micah Lee

&gt;&gt;&gt; <b>full_name = f"{first_name} {last_name}"</b>

&gt;&gt;&gt; <b>print(f"{first_name}'s full name is {full_name}, but he goes by {first_name}")</b>

Micah's full name is Micah Lee, but he goes by Micah</code></pre>

<p class="TX">Place expressions inside f-strings in order to evaluate them:</p>

<pre id="pre-237"><code>&gt;&gt;&gt; <b>print(f"1 + 2 + 3 + 4 + 5 = {1 + 2 </b><b>+ 3 + 4 + 5}")</b>

1 + 2 + 3 + 4 + 5 = 15</code></pre>

<p class="TX">Python will evaluate the expression for you, in this case <samp class="SANS_TheSansMonoCd_W5Regular_11">1</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">2</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">3</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">4</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">5</samp>, and just print the result, which is <samp class="SANS_TheSansMonoCd_W5Regular_11">15</samp>.</p>

</section>
</section>

<section epub:type="division" aria-labelledby="sec11">

<h3 class="H1F" id="sec11"><span id="h-167"/><samp class="SANS_Futura_Std_Heavy_B_21">Exercise 7-3: Write a Python Script with Variables, Math, and Strings</samp></h3>

<p class="TNI">In this exercise, you’ll practice the concepts you’ve learned so far by writing a simple Python script that uses variables and a few basic math expressions and prints some strings. The script calculates how old a person is in months, days, hours, minutes, and seconds, given their name and an age (in years), and then displays this information. In your text editor, create a new file called <i>exercise-7-3.py</i> and define these two variables:</p>

<pre id="pre-238"><code><b>name </b><b>= "</b><b><var>Micah</var></b><b>"</b>

<b>age_years =</b> <b><var>38</var></b></code></pre>

<p class="TX">Replace the values of <samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">age_years</samp> with your own name and age.</p>

<p class="TX">Next, define some more variables that represent age in different units: months, days, hours, minutes, and seconds. Start with months:</p>

<pre id="pre-239"><code><b>age_months = age_years * 12</b></code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_177" aria-label=" Page 177. "/>Add a days variable:</p>

<pre id="pre-240"><code><b>age_days =</b><b> age_years * 365</b></code></pre>

<p class="TX">Finally, define variables for hour, minutes, and seconds:</p>

<pre id="pre-241"><code><b>age_hours = age_days * 24</b>

<b>age_minutes = age_hours * 60</b>

<b>age_seconds = age_minutes * 60</b></code></pre>

<p class="TX">Now that you’ve defined the variables, you can display them to the user. Since the numbers in this exercise are going to get big, you’ll include commas to make them easier to read. For example, run this code in the interpreter to display the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">number</samp> with commas using an f-string, adding <samp class="SANS_TheSansMonoCd_W5Regular_11">:,</samp> after the variable name within the braces:</p>

<pre id="pre-242"><code>&gt;&gt;&gt; <b>number = 1000000</b>

&gt;&gt;&gt; <b>print(f"the number is: {number}")</b>

the number is: 1000000

&gt;&gt;&gt; <b>print(f"the number is: {number:,}")</b>

the number is: 1,000,000</code></pre>

<p class="TX">Back in the Python script, add code to display all of the values, like this:</p>

<pre id="pre-243"><code>print(f"{name} is {age_years:,} years old")

print(f"That would be {age_months:,} months old")

print(f"Which is {age_days:,} days old")

print(f"Which is {age_hours:,} hours old")

print(f"Which is {age_minutes:,} minutes old")

print(f"Which is {age_seconds:,} seconds old")</code></pre>

<p class="TX">This code uses <samp class="SANS_TheSansMonoCd_W5Regular_11">{name}</samp> to display the value of the name variable. That variable is a string, so it doesn’t make sense to try to separate it with commas. The rest of the variables are numbers, though, so the code includes <samp class="SANS_TheSansMonoCd_W5Regular_11">:,</samp> inside the braces for all of them to include commas in the output. (The <samp class="SANS_TheSansMonoCd_W5Regular_11">age_years</samp> values don’t need commas, unless you happen to be older than 1,000, but it doesn’t hurt to use the <samp class="SANS_TheSansMonoCd_W5Regular_11">:,</samp> syntax—it adds a comma only if one is needed.)</p>

<p class="TX">Save the file in your text editor. (A complete copy of the script is available at <a href="https://github.com/micahflee/hacks-leaks-and-revelations/blob/main/chapter-7/exercise-7-3.py"><i>https://<wbr/>github<wbr/>.com<wbr/>/micahflee<wbr/>/hacks<wbr/>-leaks<wbr/>-and<wbr/>-revelations<wbr/>/blob<wbr/>/main<wbr/>/chapter<wbr/>-7<wbr/>/exercise<wbr/>-7<wbr/>-3<wbr/>.py</i></a>.) In a terminal, change to your <i>exercises</i> folder for this exercise and run the script. Here’s what happens when I do so:</p>

<pre id="pre-244"><code>micah@trapdoor chapter-7 % <b>python3 exercise-7-3.py</b>

Micah is 38 years old

That would be 456 months old

Which is 13,870 days old

Which is 332,880 hours old

Which is 19,972,800 minutes old

Which is 1,198,368,000 seconds old</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_178" aria-label=" Page 178. "/>When you run the script with your name and age, try changing the age and running it again to see how the numbers change.</p>

</section>

<section epub:type="division" aria-labelledby="sec12">

<h3 class="H1" id="sec12"><span id="h-168"/><samp class="SANS_Futura_Std_Bold_B_11">Lists and Loops</samp></h3>

<p class="TNI">You’ll often need to manage lists when investigating datasets. For example, you might work with lists of filenames or rows in a spreadsheet. In this section, you’ll learn how to store lists as variables and loop through those lists in order to run the same code for each list item. You did something similar in <span class="Xref"><a href="chapter4.xhtml">Chapter 4</a></span> with <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops in the shell, but this time you’ll be working in Python.</p>

<section epub:type="division" aria-labelledby="sec13">

<h4 class="H2" id="sec13"><span id="h-169"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Defining and Printing Lists</samp></h4>

<p class="TNI">In Python, lists are defined with brackets (<samp class="SANS_TheSansMonoCd_W5Regular_11">[</samp>and]), with each item in the list separated by commas (<samp class="SANS_TheSansMonoCd_W5Regular_11">,</samp>). You might have a list of numbers:</p>

<pre id="pre-245"><code>[1, 2, 3]</code></pre>

<p class="BodyContinued">Or of strings:</p>

<pre id="pre-246"><code>["one", "two", "three"]</code></pre>

<p class="BodyContinued">Or an empty list:</p>

<pre id="pre-247"><code>[]</code></pre>

<p class="TX">Just as variables can contain numbers or strings, they can also contain lists. Use this line of code to store a list of letters in the Hebrew alphabet, spelled out using Latin characters, in the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> variable:</p>

<pre id="pre-248"><code>&gt;&gt;&gt; <b>hebrew_letters = ["aleph", "bet", "gimel", "dalet", "he", "vav", "zayin",</b>

<b>"chet", "tet", "yod", "kaf", "lamed", "mem", "nun", "samech", "ayin", "pe",</b>

<b>"tsadi", "qof", "resh", "shin", "tav"]</b></code></pre>

<p class="TX">Now use the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function to display the items in the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> variable:</p>

<pre id="pre-249"><code>&gt;&gt;&gt; <b>print(hebrew_letters)</b>

['aleph', 'bet', 'gimel', 'dalet', 'he', 'vav', 'zayin', 'chet', 'tet', 'yod',

'kaf', 'lamed', 'mem', 'nun', 'samech', 'ayin', 'pe', 'tsadi', 'qof', 'resh',

'shin', 'tav']</code></pre>

<p class="TX">You can make long lists easier to read by entering each item in the list on its own line, indented, like this:</p>

<pre id="pre-250"><code>hebrew_letters = [

    "aleph",

<var>--snip--</var>

    "tav"

]</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_179" aria-label=" Page 179. "/>Each item in a list has an <i>index</i>, a number that represents where in the list that item is located. The index of the first item is 0, the second is 1, the third is 2, and so on. To select a list item, you append brackets with the item’s index to the end of the list. For example, to select the first letter in the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> list, use <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters[0]</samp>:</p>

<pre id="pre-251"><code>&gt;&gt;&gt; <b>print(hebrew_letters[0])</b>

aleph

&gt;&gt;&gt; <b>print(hebrew_letters[1])</b>

bet</code></pre>

<p class="TX">The first line of code uses the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function to display the item from the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> list at index 0 (<samp class="SANS_TheSansMonoCd_W5Regular_11">aleph</samp>), and the second line displays the item at index 1 (<samp class="SANS_TheSansMonoCd_W5Regular_11">bet</samp>).</p>

<p class="TX">Now use negative numbers to select items starting from the end of the list, like so:</p>

<pre id="pre-252"><code>&gt;&gt;&gt; <b>print(hebrew_letters[-1])</b>

tav

&gt;&gt;&gt; <b>print(hebrew_letters[-2])</b>

shin</code></pre>

<p class="TX">You can use the <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> function to count the number of items in a list. For example, run the following code to get the number of items in the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> list:</p>

<pre id="pre-253"><code>&gt;&gt;&gt; <b>print(len(hebrew_letters))</b>

22</code></pre>

<p class="TX">This code uses the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function to display the output of the <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> function. You could get the same result by storing the output of the <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> function in a variable:</p>

<pre id="pre-254"><code>&gt;&gt;&gt; <b>length_of_hebrew_alphabet = len(hebrew_letters)</b>

&gt;&gt;&gt; <b>print(length_of_hebrew_alphabet)</b>

22</code></pre>

<p class="TX">The first line of code runs <samp class="SANS_TheSansMonoCd_W5Regular_11">len(hebrew_letters)</samp> and stores the result in the <samp class="SANS_TheSansMonoCd_W5Regular_11">length_of_hebrew_alphabet</samp> variable. The second line uses the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function to display that result.</p>

<p class="TX">You don’t have to store a list in a variable to select items from it. For example, run this code to display the second item (at index 1) in the list <samp class="SANS_TheSansMonoCd_W5Regular_11">[1,2,3]</samp>:</p>

<pre id="pre-255"><code>&gt;&gt;&gt; <b>print([1,2,3][1])</b>

2</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_180" aria-label=" Page 180. "/>The <samp class="SANS_TheSansMonoCd_W5Regular_11">append()</samp> method lets you add items to lists. For example, run the following code to add a new color to a list of favorites:</p>

<pre id="pre-256"><code>&gt;&gt;&gt; <b>favorite_colors = ["red", "green", "blue"]</b>

&gt;&gt;&gt; <b>favorite_colors.append("black")</b>

&gt;&gt;&gt; <b>print(favorite_colors)</b>

['red', 'green', 'blue', 'black']</code></pre>

<p class="TX">This code defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">favorite_colors</samp> as a list of strings containing <samp class="SANS_TheSansMonoCd_W5Regular_11">red</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">green</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">blue</samp>. It then adds another string, <samp class="SANS_TheSansMonoCd_W5Regular_11">black</samp>, to the list by using the <samp class="SANS_TheSansMonoCd_W5Regular_11">append()</samp> method, before finally displaying the value of the <samp class="SANS_TheSansMonoCd_W5Regular_11">favorite_colors</samp> variable, using the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function.</p>

<p class="TX">When writing code that analyzes datasets, you’ll often create an empty list and then append items to that list to make the data easier to work with. For example, you’ll learn in <span class="Xref"><a href="chapter13.xhtml">Chapter 13</a></span> about the code I wrote while investigating America’s Frontline Doctors, an anti-vaccine group. To properly analyze a dataset of hundreds of thousands of files containing patient information, I wrote code that created an empty list, opened each file, and appended the pertinent patient data to that list.</p>

</section>

<section epub:type="division" aria-labelledby="sec14">

<h4 class="H2" id="sec14"><span id="h-170"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Running for Loops</samp></h4>

<p class="TNI">In <span class="Xref"><a href="chapter4.xhtml">Chapter 4</a></span>, you used a <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop to unzip each BlueLeaks ZIP file. Python also has <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops, and they work the same way they do in shell scripting: by running a snippet of code, called a <i>block</i>, on each item in a list. A <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop has the following syntax:</p>

<pre id="pre-257"><code>for <var>variable_name</var> in <var>list_name</var>:</code></pre>

<p class="BodyContinued">This syntax is followed by a block of indented code. Once you choose a new variable to define in <samp class="SANS_TheSansMonoCd_W5Regular_Italic_I_11">variable_name</samp>, you can use it in your code block.</p>

<p class="TX">For example, run the following code to loop through the <samp class="SANS_TheSansMonoCd_W5Regular_11">hebrew_letters</samp> list, store each item in the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">letter</samp>, and then display that item:</p>

<pre id="pre-258"><code>&gt;&gt;&gt; <b>for letter in hebrew_letters:</b>

...     <b>print(letter)</b>

...</code></pre>

<p class="TX">After you enter the <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop, which ends in a colon (<samp class="SANS_TheSansMonoCd_W5Regular_11">:</samp>), the Python interpreter changes the prompt from <samp class="SANS_TheSansMonoCd_W5Regular_11">&gt;&gt;&gt;</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">…</samp> and waits for you to enter the code block that will run for each item. Indent every line in your block with the same number of spaces, then end your block with a blank line. In this example, the code block that runs is just one line: <samp class="SANS_TheSansMonoCd_W5Regular_11">print(letter)</samp>.</p>

<p class="TX">The code should return the following output:</p>

<pre id="pre-259"><code>aleph

bet

<var>--snip--</var>

shin

tav</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_181" aria-label=" Page 181. "/>In this example, the <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop runs 22 times, once for each item in the list, and stores the item in the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">letter</samp>. The first time it loops, the value of <samp class="SANS_TheSansMonoCd_W5Regular_11">letter</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">aleph</samp>. The second time, the value is <samp class="SANS_TheSansMonoCd_W5Regular_11">bet</samp>, and so on.</p>
<blockquote>

<p class="NOTE"><span class="NoteHead"><samp class="SANS_Dogma_OT_Bold_B_21">NOTE</samp></span></p>
</blockquote>

<p class="NOTE-TXT"><i>Indentation tells Python which lines of code are part of your code blocks. If some lines are indented with four spaces, but others with two or three spaces, your Python code won’t work. To keep things simple, I recommend always indenting with four spaces. When writing scripts in VS Code, you can indent multiple lines of code by selecting them with your mouse and then pressing</i> <i><small>TAB</small></i> <i>(which indents four spaces for you) or unindent by selecting a line and pressing</i> <i><small>SHIFT-TAB</small></i><i>.</i></p>

<p class="TX">The following, slightly more complicated, example uses the <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> function to count not the number of items in a list but characters in a string:</p>

<pre id="pre-260"><code>&gt;&gt;&gt; <b>for letter in hebrew_letters:</b>

...     <b>count = len(letter)</b>

...     <b>print(f"The letter {letter} has {count} characters")</b>

...

The letter aleph has 4 characters

The letter bet has 3 characters

The letter gimel has 5 characters

<var>--snip--</var>

The letter resh has 4 characters

The letter shin has 4 characters

The letter tav has 3 characters</code></pre>

<p class="TX">This code tells you how many characters are used to spell the word for each Hebrew letter in the Latin alphabet.</p>

<p class="TX">You can use <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops to loop through strings as well, since a string is essentially a list of characters:</p>

<pre id="pre-261"><code>&gt;&gt;&gt; <b>word = "hola"</b>

&gt;&gt;&gt; <b>for character in word:</b>

...     <b>print(character)</b>

...

h

o

l

a</code></pre>

<p class="TX">You can run a single <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop as many times as you need for the dataset you’re working on. For example, in <span class="Xref"><a href="chapter9.xhtml">Chapter 9</a></span>, you’ll write code that can open each of the hundreds of spreadsheets in the BlueLeaks dataset and uses a <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop to run your block of code on each row.</p>

<p class="TX">In the next section, you’ll learn to make your programs more dynamic and useful by determining which blocks of code should run under which circumstances.</p>

</section>
</section>

<section epub:type="division" aria-labelledby="sec15">

<h3 class="H1" id="sec15"><span id="h-171"/><span role="doc-pagebreak" epub:type="pagebreak" id="pg_182" aria-label=" Page 182. "/><samp class="SANS_Futura_Std_Bold_B_11">Control Flow</samp></h3>

<p class="TNI">Python scripts start at the top and run one line of code at a time, but they don’t always run these lines consecutively. In <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops, for example, the same block of code might run over and over again before the loop completes and the program continues to the next line. The order in which your lines of code run is your program’s <i>control flow</i>.</p>

<p class="TX">As you start writing code, you’ll often alter the control flow by telling your computer to do different things in different situations. If you write a program that loops through a list of files in a dataset, for instance, you may want to run different code when the program reaches a PDF document than when it encounters an MP4 video.</p>

<p class="TX">This section teaches you how to run certain blocks of code under certain conditions. To do this, you’ll learn how to compare values, use <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements based on these comparisons, and express arbitrarily complicated conditions using Boolean logic, all of which allow you to control the flow of your program. You’ll need this sort of logic whenever you write code that searches a dataset for something specific and then responds according to what it finds.</p>

<section epub:type="division" aria-labelledby="sec16">

<h4 class="H2" id="sec16"><span id="h-172"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Comparison Operators</samp></h4>

<p class="TNI">As mentioned earlier in this chapter, expressions that use the arithmetic operators <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">-</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">/</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">*</samp> generally evaluate to numbers: <samp class="SANS_TheSansMonoCd_W5Regular_11">1</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">1</samp> evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">2</samp>, for example. Expressions in Python also use the following <i>comparison operators</i> to compare terms:</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">&lt;</samp> Less than</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">&lt;=</samp> Less than or equal to</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">&gt;</samp> Greater than</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">&gt;=</samp> Greater than or equal to</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">==</samp> Equal to (not to be confused with a single equal sign (<samp class="SANS_TheSansMonoCd_W5Regular_11">=</samp>), which defines a variable)</p>

<p class="RunInPara"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">!=</samp> Not equal to</p>

<p class="TX">A <i>Boolean</i> is a type of variable that is either <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>. Expressions that use comparison operators evaluate to Booleans instead of numbers, as in the following examples:</p>

<pre id="pre-262"><code>&gt;&gt;&gt; <b>100 &gt; 5</b>

True

&gt;&gt;&gt; <b>100 &lt; 5</b>

False

&gt;&gt;&gt; <b>100 &gt; 100</b>

False

&gt;&gt;&gt; <b>100 &gt;= 100</b>

True

&gt;&gt;&gt; <b>0.5 &lt;</b><b> 1</b>

True

&gt;&gt;&gt; <b>0.999999 == 1</b>

False</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_183" aria-label=" Page 183. "/>You can use these same operators to compare strings, too. In Python, saying that one string is less than another means that the former comes before the latter in alphabetical order, as in the following examples:</p>

<pre id="pre-263"><code>&gt;&gt;&gt; <b>"Alice" == "Bob"</b>

False

&gt;&gt;&gt; <b>"Alice" != "Bob"</b>

True

&gt;&gt;&gt; <b>"Alice" &lt; "Bob"</b>

True

&gt;&gt;&gt; <b>"Alice" &gt; "Bob"</b>

False</code></pre>

<p class="TX">Strings are case sensitive. If you don’t care about capitalization and want to just see whether the strings are made up of the same words, make them both lowercase before you compare them:</p>

<pre id="pre-264"><code>&gt;&gt;&gt; <b>name1 = "Vladimir Putin"</b>

&gt;&gt;&gt; <b>name2 = "vladimir putin"</b>

&gt;&gt;&gt; <b>name1 == name2</b>

False

&gt;&gt;&gt; <b>name1.lower() == name2.lower()</b>

True</code></pre>

<p class="TX">This technique allows you to determine whether the data you’re evaluating fulfills a given condition. For example, in <span class="Xref"><a href="chapter11.xhtml">Chapter 11</a></span>, you’ll write code to analyze the metadata of over a million videos uploaded to the far-right social network Parler. Using comparison operators, you’ll determine which videos were filmed on January 6, 2021, in Washington, DC, during the insurrection after Trump lost the 2020 election.</p>

</section>

<section epub:type="division" aria-labelledby="sec17">

<h4 class="H2" id="sec17"><span id="h-173"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">if Statements</samp></h4>

<p class="TNI">You use <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements to tell your code to do something under certain conditions but not others. The syntax for an <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement is <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> <samp class="SANS_TheSansMonoCd_W5Regular_Italic_I_11">expression</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">:</samp> followed by an indented block of code. If the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, then the code block runs. If the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, the code doesn’t run, and the flow moves on to the next line.</p>

<p class="TX">For example, run the following code:</p>

<pre id="pre-265"><code>&gt;&gt;&gt; <b>password = "letmein"</b>

&gt;&gt;&gt; <b>if password == "letmein":</b>

...     <b>print("ACCESS GRANTED")</b>

...     <b>print("Welcome")</b>

...

ACCESS GRANTED

Welcome

&gt;&gt;&gt;</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_184" aria-label=" Page 184. "/>This code sets the value of the <samp class="SANS_TheSansMonoCd_W5Regular_11">password</samp> variable to <samp class="SANS_TheSansMonoCd_W5Regular_11">letmein</samp>. That means the expression in the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement (<samp class="SANS_TheSansMonoCd_W5Regular_11">password</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">"letmein"</samp>) evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> and the code block runs, so it displays <samp class="SANS_TheSansMonoCd_W5Regular_11">ACCESS GRANTED</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">Welcome</samp>.</p>

<p class="TX">Now try including the wrong password in your <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement:</p>

<pre id="pre-266"><code>&gt;&gt;&gt; <b>password = "yourefired"</b>

&gt;&gt;&gt; <b>if password == "letmein":</b>

...     <b>print("ACCESS GRANTED")</b>

...     <b>print("Welcome")</b>

...

&gt;&gt;&gt;</code></pre>

<p class="TX">This time, because you set the password to <samp class="SANS_TheSansMonoCd_W5Regular_11">"yourefired"</samp>, the expression <samp class="SANS_TheSansMonoCd_W5Regular_11">password</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">"letmein"</samp> evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, and Python doesn’t run the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement’s code block.</p>

<p class="TX">An <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement can optionally incorporate an <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> block so that if the condition is true, one code block runs, and if it’s false, another block runs:</p>

<pre id="pre-267"><code>if password == "letmein":

    print("ACCESS GRANTED")

    print("Welcome")

else:

    print("ACCESS DENIED")</code></pre>

<p class="TX">You can also incorporate <samp class="SANS_TheSansMonoCd_W5Regular_11">elif</samp> blocks, short for “else if.” These let you make another comparison if the first comparison is false, as shown in <a href="#list7-1">Listing 7-1</a>.</p>

<pre id="pre-268"><code>if password == "letmein":

    print("ACCESS GRANTED")

    print("Welcome")

elif password == "open sesame":

    print("SECRET AREA ACCESS GRANTED")

else:

    print("ACCESS DENIED")</code></pre>

<p class="CodeListingCaption" id="list7-1"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 7-1: Comparing</samp> <samp class="SANS_TheSansMonoCd_W5Regular_Italic_I_11">if, elif, and else</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">statements</samp></p>

<p class="TX">In this code, the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement evaluates the <samp class="SANS_TheSansMonoCd_W5Regular_11">password</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">"letmein"</samp> expression. If it evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, the code block runs and displays the <samp class="SANS_TheSansMonoCd_W5Regular_11">ACCESS GRANTED</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">Welcome</samp> messages. If the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, the program moves on to the <samp class="SANS_TheSansMonoCd_W5Regular_11">elif</samp> block, which evaluates the <samp class="SANS_TheSansMonoCd_W5Regular_11">password</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">"open sesame"</samp> expression. If that evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, it runs the block of code that displays <samp class="SANS_TheSansMonoCd_W5Regular_11">SECRET AREA ACCESS GRANTED</samp>. If it evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, the program moves on to the <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> code block, which displays <samp class="SANS_TheSansMonoCd_W5Regular_11">ACCESS DENIED</samp>.</p>

</section>

<section epub:type="division" aria-labelledby="sec18">

<h4 class="H2" id="sec18"><span id="h-174"/><span role="doc-pagebreak" epub:type="pagebreak" id="pg_185" aria-label=" Page 185. "/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Nested Code Blocks</samp></h4>

<p class="TNI">You can also accomplish the results of <a href="#list7-1">Listing 7-1</a> with multiple <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements and no <samp class="SANS_TheSansMonoCd_W5Regular_11">elif</samp>, using <i>nested</i> code blocks, or indented blocks of code inside other indented blocks of code:</p>

<pre id="pre-269"><code>if password == "letmein":

    print("ACCESS GRANTED")

    print("Welcome.")

else:

    if password == "open sesame":

        print("SECRET AREA ACCESS GRANTED")

    else:

        print("ACCESS DENIED")</code></pre>

<p class="BodyContinued">This code is functionally the same as <a href="#list7-1">Listing 7-1</a>.</p>

<p class="TX">The more complicated your code, the more nested code blocks may come in handy. You might include <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops inside your <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement code blocks, or <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements inside <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops, or even <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops inside <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops.</p>

<p class="TX">You might prefer <samp class="SANS_TheSansMonoCd_W5Regular_11">elif</samp> statements to nested <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements purely for readability purposes: it’s easier to read and write code with 100 <samp class="SANS_TheSansMonoCd_W5Regular_11">elif</samp> statements than code that’s indented 100 times because it has 100 nested <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements.</p>

</section>

<section epub:type="division" aria-labelledby="sec19">

<h4 class="H2" id="sec19"><span id="h-175"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Searching Lists</samp></h4>

<p class="TNI">The Python <samp class="SANS_TheSansMonoCd_W5Regular_11">in</samp> operator, which tells you whether an item appears in a list, is useful for working with lists. For example, to check whether the number 42 appears in a list of numbers, you can use <samp class="SANS_TheSansMonoCd_W5Regular_11">in</samp> as follows:</p>

<pre id="pre-270"><code>favorite_numbers = [7, 13, 42, 101]

if 42 in favorite_numbers:

    print("life, the universe, and everything")</code></pre>

<p class="TX">To the left of the <samp class="SANS_TheSansMonoCd_W5Regular_11">in</samp> operator is a potential item inside a list, and to the right is the list. If the item is in the list, then the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>. If not, it evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>.</p>

<p class="TX">You can also use <samp class="SANS_TheSansMonoCd_W5Regular_11">not in</samp> to check if an item <i>isn’t</i> in a list:</p>

<pre id="pre-271"><code>if 1337 not in favorite_numbers:

    print("mess with the best, die like the rest")</code></pre>

<p class="TX">Additionally, you can use <samp class="SANS_TheSansMonoCd_W5Regular_11">in</samp> to search for smaller strings inside of larger strings:</p>

<pre id="pre-272"><code>sentence = "What happens in the coming hours will decide how bad the Ukraine

crisis gets for the vulnerable democracy in Russian President Vladimir Putin's

sights but also its potentially huge impact on Americans and an already deeply

unstable world."

if "putin" in sentence.lower():

    print("Putin is mentioned")</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_186" aria-label=" Page 186. "/>This code defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">sentence</samp>, then checks to see if the string <samp class="SANS_TheSansMonoCd_W5Regular_11">putin</samp> is inside the lowercase version of that sentence.</p>

</section>

<section epub:type="division" aria-labelledby="sec20">

<h4 class="H2" id="sec20"><span id="h-176"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Logical Operators</samp></h4>

<p class="TNI">It’s possible to describe any scenario, no matter how complicated, using the <i>logical operators</i> <samp class="SANS_TheSansMonoCd_W5Regular_11">and</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp>, and <samp class="SANS_TheSansMonoCd_W5Regular_11">not</samp>. Like comparison operators, logical operators also evaluate to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, and they let you combine comparisons.</p>

<p class="TX">For example, say you like astronomy and want to know if it’s a good time for stargazing. Let’s set this up as a logical expression: if ((it’s dark out) <b>and</b> (it’s <b>not</b> raining) <b>and</b> (it’s <b>not</b> cloudy)) <b>or</b> (you have access to the James Webb Space Telescope), then yes. Otherwise, no. Logical operators let you define this sort of logic in your Python code.</p>

<p class="TX">Like other operators, the <samp class="SANS_TheSansMonoCd_W5Regular_11">and</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp> operators compare an expression on the left with an expression on the right. With <samp class="SANS_TheSansMonoCd_W5Regular_11">and</samp>, if both sides are true, the whole expression is true. If either is false, the whole expression is false. For example:</p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">and</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">and</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">and</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">and</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp></p>

<p class="TX">With <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp>, if either expression is true, the whole expression is true. The whole expression is false only when both expressions are false. For example:</p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">or</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">or</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">or</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W7Bold_B_11">or</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp></p>

<p class="TX">The <samp class="SANS_TheSansMonoCd_W5Regular_11">not</samp> expression differs from the others in that it doesn’t use an expression to the left, just to the right. It flips true to false, and false to true. For example:</p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">not</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp></p>

<p class="ListPlain"><samp class="SANS_TheSansMonoCd_W7Bold_B_11">not</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp></p>

<p class="TX">In sum, use <samp class="SANS_TheSansMonoCd_W5Regular_11">and</samp> to determine whether two things are both true, use <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp> to determine whether at least one of two things is true, and use <samp class="SANS_TheSansMonoCd_W5Regular_11">not</samp> to change a true to a false or vice versa. For example, consider this code:</p>

<pre id="pre-273"><code>if country == "US" <b>and</b> age &gt;= 21:

    print("You can legally drink alcohol")

else:

    if country != "US":

        print("I don't know about your country")

    else:

        print("You're too young to legally drink alcohol")</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_187" aria-label=" Page 187. "/>The first <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement has an expression that compares two other expressions, <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">==</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">"US"</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">age</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">&gt;=</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">21</samp>. If <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">US</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">age</samp> is greater than or equal to <samp class="SANS_TheSansMonoCd_W5Regular_11">21</samp>, the expression simplifies to <samp class="SANS_TheSansMonoCd_W5Regular_11">True and True</samp>. Since both Booleans are true, this evaluates to simply <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, and the code block after the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement runs, printing <samp class="SANS_TheSansMonoCd_W5Regular_11">You can legally drink alcohol</samp> to the screen.</p>

<p class="TX">The first <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> block determines what happens if that expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>. For example, if <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">Italy</samp>, but <samp class="SANS_TheSansMonoCd_W5Regular_11">age</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">30</samp>, the expression simplifies to <samp class="SANS_TheSansMonoCd_W5Regular_11">False and True</samp>. Since at least one of the Booleans is false, this evaluates to simply <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, so the code block after <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> runs. Likewise, if <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">US</samp> but <samp class="SANS_TheSansMonoCd_W5Regular_11">age</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">18</samp>, then the expression simplifies to <samp class="SANS_TheSansMonoCd_W5Regular_11">True and False</samp>. This, too, evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, so the code block after <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> runs.</p>

<p class="TX">Inside the second <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> block is a simple <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement without Boolean logic: if <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> isn’t <samp class="SANS_TheSansMonoCd_W5Regular_11">US</samp>, the screen displays <samp class="SANS_TheSansMonoCd_W5Regular_11">I don't know about your country</samp>. Otherwise (meaning <samp class="SANS_TheSansMonoCd_W5Regular_11">country</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">US</samp>), it displays <samp class="SANS_TheSansMonoCd_W5Regular_11">You're too young to legally drink alcohol</samp>.</p>

<p class="TX">Just like with math, you can use parentheses in <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements to compare multiple expressions. For example, the drinking age in the US is 21 and the drinking age in Italy is 18. Let’s add Italy to this program, this time incorporating an <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp> operator:</p>

<pre id="pre-274"><code>if (country == "US" and age &gt;= 21) <b>or</b> (country == "Italy" and age &gt;= 18):

    print("You can legally drink alcohol")

else:

    if country not in ["US", "Italy"]:

        print("I don't know about your country")

    else:

        print("You're too young to legally drink alcohol")</code></pre>

<p class="TX">In plain English, the first <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement tells the program that if your country is the US and you’re at least 21 <i>or</i> if your country is Italy and you’re at least 18, then you can legally drink. In either case, the whole expression in the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement is true, and the program prints <samp class="SANS_TheSansMonoCd_W5Regular_11">You can legally drink alcohol</samp>. If just one of those is true and not the other (for instance, if you’re a 19-year-old Italian), the whole statement is still true. That’s what <samp class="SANS_TheSansMonoCd_W5Regular_11">or</samp> means: if either of the things you’re comparing is true, then the whole expression is true.</p>

<p class="TX">Use the operator <samp class="SANS_TheSansMonoCd_W5Regular_11">not</samp> to turn <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> values into <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> or <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> values into <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>. For example:</p>

<pre id="pre-275"><code>if country == "US" and <b>not</b> age &gt;= 21:

    print("Sorry, the drinking age in the US is 21")</code></pre>

<p class="TNI">You could replace <samp class="SANS_TheSansMonoCd_W5Regular_11">not age</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">&gt;=</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">21</samp> with <samp class="SANS_TheSansMonoCd_W5Regular_11">age</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">&lt;</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">21</samp> for the same result.</p>

</section>

<section epub:type="division" aria-labelledby="sec21">

<h4 class="H2" id="sec21"><span id="h-177"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Exception Handling</samp></h4>

<p class="TNI">Python programs may abruptly quit with an error called an <i>exception</i>. This is typically known as “throwing an exception.” <i>Exception handling</i> ensures that <span role="doc-pagebreak" epub:type="pagebreak" id="pg_188" aria-label=" Page 188. "/>your Python code will run another code block when your code catches an exception, instead of quitting with an error.</p>

<p class="TX">You’ve seen a few examples of exceptions already in this chapter, like when you tried dividing by zero (something you can’t do in math) or using a variable that hasn’t been defined:</p>

<pre id="pre-276"><code>&gt;&gt;&gt; <b>15 / 0</b>

Traceback (most recent call last):

  File "&lt;stdin&gt;", line 1, in &lt;module&gt;

ZeroDivisionError: division by zero

&gt;&gt;&gt; <b>x * 10</b>

Traceback (most recent call last):

  File "&lt;stdin&gt;", line 1, in &lt;module&gt;

NameError: name 'x' is not defined</code></pre>

<p class="BodyContinued">In these cases, Python threw a <samp class="SANS_TheSansMonoCd_W5Regular_11">ZeroDivisionError</samp> exception and a <samp class="SANS_TheSansMonoCd_W5Regular_11">NameError</samp> exception, respectively.</p>

<p class="TX">You can write code that catches exceptions when they’re thrown, allowing you to handle them gracefully. For example, let’s say you have a list of names called <samp class="SANS_TheSansMonoCd_W5Regular_11">names</samp>, and you want display the first name in the list:</p>

<pre id="pre-277"><code>&gt;&gt;&gt; <b>names = ["Alice", "Bob", "Charlie"]</b>

&gt;&gt;&gt; <b>print(f"The first name is {names[0]}")</b>

The first name is Alice</code></pre>

<p class="TX">This code displays the value at <samp class="SANS_TheSansMonoCd_W5Regular_11">names[0]</samp>, or the first item in the <samp class="SANS_TheSansMonoCd_W5Regular_11">names</samp> list. This works as expected if there are a few names in the list. But what if <samp class="SANS_TheSansMonoCd_W5Regular_11">names</samp> is empty?</p>

<pre id="pre-278"><code>&gt;&gt;&gt; <b>names = []</b>

&gt;&gt;&gt; <b>print(f"The first name is {names[0]}")</b>

Traceback (most recent call last):

  File "&lt;stdin&gt;", line 1, in &lt;module&gt;

IndexError: list index out of range</code></pre>

<p class="TX">In this case, since the index 0 doesn’t exist because the list is empty, Python throws an <samp class="SANS_TheSansMonoCd_W5Regular_11">IndexError</samp> exception.</p>

<p class="TX">You can catch this exception using <samp class="SANS_TheSansMonoCd_W5Regular_11">try</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> statements, like this:</p>

<pre id="pre-279"><code>try:

    print(f"The first name is {names[0]}")

except:

    print("The list of names is empty")</code></pre>

<p class="TX">This code first runs a <samp class="SANS_TheSansMonoCd_W5Regular_11">try</samp> statement, followed by a code block. It attempts to run the code in that block, and if it succeeds without hitting an exception, it moves on to the next line of code after the <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> block. However, if it hits an exception, then it runs the code in the <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> block before moving on.</p>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_189" aria-label=" Page 189. "/>Here’s what it looks like when there’s no exception:</p>

<pre id="pre-280"><code>&gt;&gt;&gt; <b>names = ["Alice", "Bob", "Charlie"]</b>

&gt;&gt;&gt; <b>try:</b>

...     <b>print(f"The first name is {names[0]}")</b>

... <b>except:</b>

...     <b>print("The list of names is empty")</b>

...

The first name is Alice</code></pre>

<p class="BodyContinued">In this case, the code block after the <samp class="SANS_TheSansMonoCd_W5Regular_11">try</samp> statement ran successfully, so the control flow moved on past the <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> block.</p>

<p class="TX">Here’s what it looks like when the exception is thrown, but the code catches it and handles it gracefully:</p>

<pre id="pre-281"><code>&gt;&gt;&gt; <b>names = []</b>

&gt;&gt;&gt; <b>try:</b>

...     <b>print(f"The first name is {names[0]}")</b>

... <b>except:</b>

...     <b>print("The list of names is empty")</b>

...

The list of names is empty</code></pre>

<p class="TX">The code block after the <samp class="SANS_TheSansMonoCd_W5Regular_11">try</samp> statement ran, but Python threw an <samp class="SANS_TheSansMonoCd_W5Regular_11">IndexError</samp> exception when it evaluated <samp class="SANS_TheSansMonoCd_W5Regular_11">names[0]</samp>. Instead of crashing and displaying an error, this code caught the exception and the <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> block ran. In this case, the <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> statement runs if any exception is thrown in the <samp class="SANS_TheSansMonoCd_W5Regular_11">try</samp> block, but you can get more granular than that by using different <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> statements for different types of exceptions. Consider the following example:</p>

<pre id="pre-282"><code>try:

    <var>--snip--</var>

except ZeroDivisionError:

    # This catches ZeroDivisionError exception

    <var>--snip--</var>

except NameError:

    # This catches NameError exceptions

    <var>--snip--</var>

except IndexError:

    # This catches IndexError exceptions

    <var>--snip--</var>

except:

    # This catches any other exceptions that haven't been caught yet

    <var>--snip--</var></code></pre>

<p class="TX">By using <samp class="SANS_TheSansMonoCd_W5Regular_11">except</samp> <samp class="SANS_TheSansMonoCd_W5Regular_Italic_I_11">Exception</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">:</samp>, where you replace <samp class="SANS_TheSansMonoCd_W5Regular_Italic_I_11">Exception</samp> with a specific exception you’re interested in catching, you can write different code to handle different types of exceptions. You’ll revisit exception handling in <span class="Xref"><a href="chapter10.xhtml">Chapter 10</a></span>, when you learn how to work with JSON data, and in the <span class="Xref"><a href="chapter14.xhtml">Chapter 14</a></span> case study on neo-Nazi chat logs.</p>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_190" aria-label=" Page 190. "/>Now that you know how control flow works in Python, you’ll practice some basic Python syntax and make comparisons using <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements and Boolean logic in the next exercise.</p>

</section>
</section>

<section epub:type="division" aria-labelledby="sec22">

<h3 class="H1F" id="sec22"><span id="h-178"/><samp class="SANS_Futura_Std_Heavy_B_21">Exercise 7-4: Practice Loops and Control Flow</samp></h3>

<p class="TNI">In social media slang, a common form of mockery is to employ <i>alternating caps</i>, or switching from uppercase to lowercase and back to uppercase, when quoting people. For example, here’s the text of a viral tweet from the now-suspended Twitter account @BigWangTheoryy:</p>
<blockquote>

<p class="EX">*failing classes*<span class="block"/>Me: “Can I get some extra credit?”<span class="block"/>Professor: “cAn i GEt SomE eXtRa creDiT?”</p>
</blockquote>

<p class="BodyContinued">In this exercise, you’ll write a Python script that starts with some text and converts it into alternating caps style, using the control flow concepts you learned in the previous section.</p>

<p class="TX">In your text editor, create a new file called <i>exercise-7-4.py</i>, and start by defining the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, like this:</p>

<pre id="pre-283"><code>text = "One does not simply walk into Mordor"</code></pre>

<p class="TX">The simplest way to write this script is to start with an empty string, called <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp>, and then loop through the characters in <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, adding characters to <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp> one at a time and alternating their capitalization as you do so. Add a second line to your script defining that variable, like this:</p>

<pre id="pre-284"><code>alternating_caps_text = " "</code></pre>

<p class="TX">Next, you’ll define a Boolean variable called <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp>. Each time you loop through a character in <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, you’ll use this Boolean to keep track of whether the current character should be capital or lowercase. For this example, start with a capital letter:</p>

<pre id="pre-285"><code>should_be_capital = True</code></pre>

<p class="TX">Beneath that line, add the main part of the script:</p>

<pre id="pre-286"><code>for character in text:

    if should_be_capital:

        alternating_caps_text += character.upper()

         should_be_capital = False

    else:

         alternating_caps_text += character.lower()

         should_be_capital = True</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_191" aria-label=" Page 191. "/>Using a <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop, this code loops through the characters in <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, storing each character in the <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp> variable. It then adds these characters to <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp>, switching between upper- and lowercase.</p>

<p class="TX">During each iteration of the <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop, <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp> is another character in <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, the variable containing the <samp class="SANS_TheSansMonoCd_W5Regular_11">"One does not simply walk into Mordor"</samp> string. The first time the code loops, <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">O</samp>. When the code reaches the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement, <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp> evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> for this character, so the code block runs. The <samp class="SANS_TheSansMonoCd_W5Regular_11">+=</samp> operator adds <samp class="SANS_TheSansMonoCd_W5Regular_11">character.upper()</samp> (or the uppercase version of <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp>) to <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp>. Since the code began by adding a capital letter, you want it to add a lowercase letter next, so you set <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be _capital</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>. The code block ends, and the code starts its second loop.</p>

<p class="TX">During the second iteration, <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">n</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp> evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>. When the code reaches the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement, the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>, so the <samp class="SANS_TheSansMonoCd_W5Regular_11">else</samp> block runs. This is similar to the other block, except that it appends the lowercase version of character, <samp class="SANS_TheSansMonoCd_W5Regular_11">character.lower()</samp>, to <samp class="SANS_TheSansMonoCd_W5Regular_11">alternative_caps_text</samp> and sets <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp> back to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>. So far, <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">On</samp>.</p>

<p class="TX">During the third iteration, <samp class="SANS_TheSansMonoCd_W5Regular_11">character</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">e</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp> evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>. When the code reaches the <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement, the expression evaluates to <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, so that code block runs again, adding a capital <samp class="SANS_TheSansMonoCd_W5Regular_11">E</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating _caps_text</samp> and setting <samp class="SANS_TheSansMonoCd_W5Regular_11">should_be_capital</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp> again. The code continues in this way for the rest of the characters in <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>. Note that the uppercase and lowercase versions of the space character, <samp class="SANS_TheSansMonoCd_W5Regular_11">" ".upper()</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">" ".lower()</samp>, are identical. The <samp class="SANS_TheSansMonoCd_W5Regular_11">upper()</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">lower()</samp> methods also don’t change punctuation characters like <samp class="SANS_TheSansMonoCd_W5Regular_11">,</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">.</samp>, <samp class="SANS_TheSansMonoCd_W5Regular_11">!</samp>, and so on.</p>

<p class="TX">When this <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop is finished, all you have left to do is display the value of <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps_text</samp> by adding this line to your script:</p>

<pre id="pre-287"><code>print(alternating_caps_text)</code></pre>

<p class="TX">Your Python script is complete (you can also find a complete copy at <a href="https://github.com/micahflee/hacks-leaks-and-revelations/blob/main/chapter-7/exercise-7-4.py"><i>https://<wbr/>github<wbr/>.com<wbr/>/micahflee<wbr/>/hacks<wbr/>-leaks<wbr/>-and<wbr/>-revelations<wbr/>/blob<wbr/>/main<wbr/>/chapter<wbr/>-7<wbr/>/exercise<wbr/>-7<wbr/>-4<wbr/>.py</i></a>). Run your script. Here’s the output I get:</p>

<pre id="pre-288"><code>micah@trapdoor chapter-7 % <b>python3 exercise-7-4.py</b>

OnE DoEs nOt sImPlY WaLk iNtO MoRdOr</code></pre>

<p class="TX">Now change the value of <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp> and run the script again. For example, I changed the value to <samp class="SANS_TheSansMonoCd_W5Regular_11">"There are very fine people on both sides"</samp>:</p>

<pre id="pre-289"><code>micah@trapdoor chapter-7 % <b>python3 exercise-7-4.py</b>

ThErE ArE VeRy fInE PeOpLe oN BoTh sIdEs</code></pre>

<p class="TX">You’ve gained a beginner’s understanding of using lists and loops and controlling the flow of execution. I’ll conclude the chapter with one more fundamental programming skill: breaking your code down into simpler chunks using functions.</p>

</section>

<section epub:type="division" aria-labelledby="sec23">

<h3 class="H1" id="sec23"><span id="h-179"/><span role="doc-pagebreak" epub:type="pagebreak" id="pg_192" aria-label=" Page 192. "/><samp class="SANS_Futura_Std_Bold_B_11">Functions</samp></h3>

<p class="TNI">The more complicated your programs get, the more important it is to break the problems you’re trying to solve down into smaller chunks and work on them individually. This allows you to focus on the bigger picture, using those smaller chunks of code as building blocks. In this section, you’ll learn how to do this using functions.</p>

<p class="TX"><i>Functions</i>, fundamental building blocks of programming, are reusable chunks of code. They take <i>arguments</i>—the variables that you pass into a function—as input and can <i>return</i> a value after they finish running. You’ve already used a few functions that come with Python, like <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp>, but you can also define your own function and use it as many times as you want without having to rewrite that code. You’ll learn how to do that in this section.</p>

<section epub:type="division" aria-labelledby="sec24">

<h4 class="H2" id="sec24"><span id="h-180"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">The def Keyword</samp></h4>

<p class="TNI">You can define a new function using the <samp class="SANS_TheSansMonoCd_W5Regular_11">def</samp> keyword. For example, this code defines a function called <samp class="SANS_TheSansMonoCd_W5Regular_11">test()</samp>, which prints a string to your terminal:</p>

<pre id="pre-290"><code>&gt;&gt;&gt; <b>def test():</b>

...     <b>print("this is a test function")</b>

...

&gt;&gt;&gt; <b>test()</b>

this is a test function</code></pre>

<p class="TX">Function definition lines end with a colon and are followed by an indented code block that defines exactly what the function does: in this case, it displays the string <samp class="SANS_TheSansMonoCd_W5Regular_11">this is a test function</samp>. This <samp class="SANS_TheSansMonoCd_W5Regular_11">test()</samp> function doesn’t include any arguments, which means every time you run it, it will do the exact same thing.</p>

<p class="TX"><a href="#list7-2">Listing 7-2</a> defines a slightly more complicated function, <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp>, that adds two numbers together.</p>

<pre id="pre-291"><code>def sum(a, b):

    return a + b</code></pre>

<p class="CodeListingCaption" id="list7-2"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 7-2: Defining an example function</samp></p>

<p class="TX">This new function takes <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp> as arguments and returns the sum of those two variables. For any function that takes more than one argument, like this one, you separate the arguments with commas (<samp class="SANS_TheSansMonoCd_W5Regular_11">,</samp>).</p>

<p class="TX">Each variable has a <i>scope</i>, which describes which parts of your code can use that variable. The arguments of a function (in this case, <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp>), as well as any variables defined inside the function, have a scope that can be accessed only by code in that function’s code block. In other words, you can use these <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp> variables only inside the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function, and they won’t be defined outside of that code block.</p>

<p class="TX">You can think of defining a function as telling Python, “I’m making a new function with this name, and here’s what it does.” However, the function itself won’t run until you <i>call</i> it. Consider the following Python script:</p>
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_193" aria-label=" Page 193. "/>

<pre id="pre-292"><code>def sum(a, b):

    return a + b



red_apples = 10

green_apples = 6

total_apples = sum(red_apples, green_apples)



print(f"There are {total_apples} apples")</code></pre>

<p class="TX">First, the code defines a function called <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> to be a code block with just a <samp class="SANS_TheSansMonoCd_W5Regular_11">return</samp> statement. This function doesn’t run yet. The code then defines the <samp class="SANS_TheSansMonoCd_W5Regular_11">red_apples</samp> variable, setting its value to <samp class="SANS_TheSansMonoCd_W5Regular_11">10</samp>, and the <samp class="SANS_TheSansMonoCd_W5Regular_11">green_apples</samp> variable, setting its value to <samp class="SANS_TheSansMonoCd_W5Regular_11">6</samp>.</p>

<p class="TX">The next line starts with <samp class="SANS_TheSansMonoCd_W5Regular_11">total_apples</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">=</samp>, but before Python can set the value of that variable, it needs to learn what that value should be. To do that, the code first calls the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function, passing in the arguments <samp class="SANS_TheSansMonoCd_W5Regular_11">red_apples</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">green_apples</samp> as <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp>. Now that the code is finally calling this function, <samp class="SANS_TheSansMonoCd_W5Regular_11">return a</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp> runs. In this function call, <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">red_apples</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp> is <samp class="SANS_TheSansMonoCd_W5Regular_11">green_apples</samp>. The function returns <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">+</samp> <samp class="SANS_TheSansMonoCd_W5Regular_11">b</samp>, which is <samp class="SANS_TheSansMonoCd_W5Regular_11">16</samp>. Now that the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function has returned, the code defines a variable called <samp class="SANS_TheSansMonoCd_W5Regular_11">total_apples</samp>, setting its value to the return value of the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function, <samp class="SANS_TheSansMonoCd_W5Regular_11">16</samp>.</p>

<p class="TX">Finally, the code calls the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function, passing in an f-string as an argument, which displays the <samp class="SANS_TheSansMonoCd_W5Regular_11">total_apples</samp> variable. It will display the message <samp class="SANS_TheSansMonoCd_W5Regular_11">There are 16 apples</samp>.</p>

</section>

<section epub:type="division" aria-labelledby="sec25">

<h4 class="H2" id="sec25"><span id="h-181"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Default Arguments</samp></h4>

<p class="TNI">Function definitions can also have <i>default arguments</i>, which means defining their value is optional. If you haven’t passed in any values for them when the function is called, the default value is used instead.</p>

<p class="TX">For example, consider this function, which, given a number and optionally a number of exclamation marks and question marks, prints a greeting using its arguments:</p>

<pre id="pre-293"><code>def greet(name, num_exclamations=3, num_questions=2):

    exclamations = "!" * num_exclamations

    questions = "?" * num_questions

    print(f"Hello {name}{exclamations}{questions}")</code></pre>

<p class="TX">The argument <samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp> is a <i>positional argument</i>, which means when you call this function, the first argument you pass in always has to be <samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp>. However, <samp class="SANS_TheSansMonoCd_W5Regular_11">num_exclamations</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">num_questions</samp> are default arguments, so passing values in for those is optional. The <samp class="SANS_TheSansMonoCd_W5Regular_11">greet()</samp> function defines the strings <samp class="SANS_TheSansMonoCd_W5Regular_11">exclamations</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">questions</samp> and sets them to a series of exclamation points and question marks. (In Python, when you multiply a string by a number, you get the original string repeated multiple times; for example, <samp class="SANS_TheSansMonoCd_W5Regular_11">"A" * 3</samp> evaluates to the string <samp class="SANS_TheSansMonoCd_W5Regular_11">AAA</samp>.) The code then displays <samp class="SANS_TheSansMonoCd_W5Regular_11">Hello</samp>, followed by the value of <samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp>, followed by the number of exclamation points and question marks passed into the function.</p>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_194" aria-label=" Page 194. "/>This function has one positional argument (<samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp>) and two default arguments (<samp class="SANS_TheSansMonoCd_W5Regular_11">num_exclamations</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">num_questions</samp>). You can call it just passing in <samp class="SANS_TheSansMonoCd_W5Regular_11">name</samp>, without passing values in for the default arguments, and they will automatically be set to 3 and 2, respectively:</p>

<pre id="pre-294"><code>&gt;&gt;&gt; <b>greet("Alice")</b>

Hello Alice!!!??</code></pre>

<p class="TX">You can also keep the default value for one of the default arguments, but choose a value for another. When you manually choose a value for a default argument, you’re using a <i>keyword argument</i>. For example:</p>

<pre id="pre-295"><code>&gt;&gt;&gt; <b>greet("Bob", num_exclamations</b><b>=5, num_questions=5)</b>

Hello Bob!!!!!?????

&gt;&gt;&gt; <b>greet("Charlie", num_questions=0)</b>

Hello Charlie!!!

&gt;&gt;&gt; <b>greet("Eve", num_exclamations=0)</b>

Hello Eve??</code></pre>

<p class="TX">The first function call uses keyword arguments for both <samp class="SANS_TheSansMonoCd_W5Regular_11">num_exclamation</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">num_questions</samp>; the second function call uses a keyword argument only for <samp class="SANS_TheSansMonoCd_W5Regular_11">num_questions</samp> and uses the default argument for <samp class="SANS_TheSansMonoCd_W5Regular_11">num_exclamations</samp>; and the third function call uses a keyword argument for <samp class="SANS_TheSansMonoCd_W5Regular_11">num_exclamations</samp> and uses the default argument for <samp class="SANS_TheSansMonoCd_W5Regular_11">num_questions</samp>.</p>

</section>

<section epub:type="division" aria-labelledby="sec26">

<h4 class="H2" id="sec26"><span id="h-182"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Return Values</samp></h4>

<p class="TNI">Functions become a lot more useful when they take some input, do some computation, and then return a value, known as the <i>return value</i>. The <samp class="SANS_TheSansMonoCd_W5Regular_11">greet()</samp> function just described displays output, but it doesn’t return a value that I could save in a variable or pass into further functions. However, the <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> function you used earlier takes input (a list or a string), does some computation (calculates the length of the list or string), and returns a value (the length).</p>

<p class="TX">Here’s an example of a function that takes a string <samp class="SANS_TheSansMonoCd_W5Regular_11">s</samp> as an argument and returns the number of vowels in the string:</p>

<pre id="pre-296"><code>def count_vowels(s):

    number_of_vowels = 0

    vowels = "aeiouAEIOU"

    for c in s:

        if c in vowels:

            number_of_vowels += 1



    return number_of_vowels</code></pre>

<p class="TX">This function brings together many of the concepts covered in this chapter so far: it defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">number_of_vowels</samp> as <samp class="SANS_TheSansMonoCd_W5Regular_11">0</samp>, then defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">vowels</samp> as a string containing lowercase and uppercase English vowels. Next, it uses a <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loop to loop through each character in <samp class="SANS_TheSansMonoCd_W5Regular_11">s</samp>, the string that’s passed into the function.</p>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_195" aria-label=" Page 195. "/>In each loop, the code uses an <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statement to check whether the character is a vowel (since <samp class="SANS_TheSansMonoCd_W5Regular_11">vowels</samp> contains both lowercase and uppercase letters, this code considers both <samp class="SANS_TheSansMonoCd_W5Regular_11">a</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">A</samp> to be vowels). If the character is a vowel, the code increases the <samp class="SANS_TheSansMonoCd_W5Regular_11">number_of_vowels</samp> variable by one. Finally, it returns <samp class="SANS_TheSansMonoCd_W5Regular_11">number_of_vowels</samp>, which equals however many vowels it counted in <samp class="SANS_TheSansMonoCd_W5Regular_11">s</samp>.</p>

<p class="TX">Here are a few examples of calling this function and passing in different strings:</p>

<pre id="pre-297"><code>&gt;&gt;&gt; <b>count_vowels("THINK")</b>

1

&gt;&gt;&gt; <b>count_vowels("lizard")</b>

2

&gt;&gt;&gt; <b>count_vowels("zzzzzzz")</b>

0

&gt;&gt;&gt;</code></pre>

<p class="TX">When you define a variable, you can set its value to the return value of a function just by setting the variable equal to that function call:</p>

<pre id="pre-298"><code>&gt;&gt;&gt; <b>num_vowels_think = count_vowels("THINK")</b>

&gt;&gt;&gt; <b>num_vowels_lizard = count_vowels("lizard")</b></code></pre>

<p class="TX">This code defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">num_vowels_think</samp> and sets its value to the return value of <samp class="SANS_TheSansMonoCd_W5Regular_11">count_vowels("THINK")</samp>, or the number of vowels in the string <samp class="SANS_TheSansMonoCd_W5Regular_11">THINK</samp>. It also defines the variable <samp class="SANS_TheSansMonoCd_W5Regular_11">num_vowels_lizard</samp> and sets its value to the return value of <samp class="SANS_TheSansMonoCd_W5Regular_11">count_vowels("lizard")</samp>.</p>

<p class="TX">You can then use those variables to define new variables:</p>

<pre id="pre-299"><code>&gt;&gt;&gt; <b>total_vowels = num_vowels_think + num_vowels_lizard</b>

&gt;&gt;&gt; <b>print(total_vowels)</b>

3</code></pre>

<p class="TX">This code adds those two variables together, saving their sum in a new variable called <samp class="SANS_TheSansMonoCd_W5Regular_11">total_vowels</samp>. It then prints the value of <samp class="SANS_TheSansMonoCd_W5Regular_11">total_vowels</samp> to the terminal.</p>

<p class="TX">When a <samp class="SANS_TheSansMonoCd_W5Regular_11">return</samp> statement runs, the function immediately ends, so <samp class="SANS_TheSansMonoCd_W5Regular_11">return</samp> is also useful if you want to stop a function early. For example, the following <samp class="SANS_TheSansMonoCd_W5Regular_11">is_exciting()</samp> function loops through all the characters in a string <samp class="SANS_TheSansMonoCd_W5Regular_11">s</samp> to check whether the character is an exclamation point:</p>

<pre id="pre-300"><code>def is_exciting(s):

    for character in s:

        if character == "!":

            return True



    return False</code></pre>

<p class="TX">If the function finds an exclamation point, it returns <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp>, immediately stopping the function. If it checks each character and finds no exclamation points, it returns <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>. For example, if you call this function and pass in <span role="doc-pagebreak" epub:type="pagebreak" id="pg_196" aria-label=" Page 196. "/>the string <samp class="SANS_TheSansMonoCd_W5Regular_11">!@#$</samp>, the function will return <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> during the first iteration of the loop and immediately end—it will never even get to the second iteration. If you pass in the string <samp class="SANS_TheSansMonoCd_W5Regular_11">hello!</samp>, it won’t return <samp class="SANS_TheSansMonoCd_W5Regular_11">True</samp> until the last iteration of the loop, since it doesn’t find the <samp class="SANS_TheSansMonoCd_W5Regular_11">!</samp> until the end of the string. And if you pass in the string <samp class="SANS_TheSansMonoCd_W5Regular_11">goodbye</samp>, it will loop through the entire string and not find an exclamation point, so it will return <samp class="SANS_TheSansMonoCd_W5Regular_11">False</samp>.</p>

</section>

<section epub:type="division" aria-labelledby="sec27">

<h4 class="H2" id="sec27"><span id="h-183"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Docstrings</samp></h4>

<p class="TNI">In <i>self-documenting</i> code, documentation is defined as part of the code as docstrings rather than in a separate document. <i>Docstrings</i> are strings enclosed by three double quotes (<samp class="SANS_TheSansMonoCd_W5Regular_11">"""</samp>) or three single quotes (<samp class="SANS_TheSansMonoCd_W5Regular_11">'</samp><samp class="SANS_TheSansMonoCd_W5Regular_11">''</samp>) on either side, placed as the first line of code after a function definition. When you run the function, the program ignores the docstring, but Python can use it to pull up documentation about the function on request. Docstrings are optional, but they can help other people understand your code.</p>

<p class="TX">For example, here’s how you’d define the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function with a docstring:</p>

<pre id="pre-301"><code>&gt;&gt;&gt; <b>def sum(a, b):</b>

...     <b>"""This function returns the sum of a and b"""</b>

...     <b>return a + b</b></code></pre>

<p class="TX">This is exactly the same as the <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> function defined in <a href="#list7-2">Listing 7-2</a>, except it includes a docstring.</p>

<p class="TX">If you run the <samp class="SANS_TheSansMonoCd_W5Regular_11">help()</samp> function, passing in the name of a function (without arguments) as the argument, the Python interpreter will display documentation for that function. For example, running <samp class="SANS_TheSansMonoCd_W5Regular_11">help(sum)</samp> gives you the following output:</p>

<pre id="pre-302"><code>Help on function sum in module __main__:



sum(a, b)

    This function returns the sum of a and b</code></pre>

<p class="TX">The <samp class="SANS_TheSansMonoCd_W5Regular_11">help()</samp> function works for any function, though it’s useful only if the programmer who wrote that function included a docstring. In this case, it tells you that it’s showing you help for the function called <samp class="SANS_TheSansMonoCd_W5Regular_11">sum()</samp> in the <samp class="SANS_TheSansMonoCd_W5Regular_11">__main__</samp> module. You’ll learn more about modules in <span class="Xref"><a href="chapter8.xhtml">Chapter 8</a></span>, but they’re essentially functions you write yourself. Try running <samp class="SANS_TheSansMonoCd_W7Bold_B_11">help(print)</samp> or <samp class="SANS_TheSansMonoCd_W7Bold_B_11">help(len)</samp> to view the docstrings for the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> and <samp class="SANS_TheSansMonoCd_W5Regular_11">len()</samp> functions.</p>

<p class="TX">Press Q to get out of the help interface and back to the Python interpreter.</p>

</section>
</section>

<section epub:type="division" aria-labelledby="sec28">

<h3 class="H1F" id="sec28"><span id="h-184"/><samp class="SANS_Futura_Std_Heavy_B_21">Exercise 7-5: Practice Writing Functions</samp></h3>

<p class="TNI">In this exercise, you’ll turn the script you wrote in Exercise 7-4 into a function. You can then call this function multiple times, passing text into it so that it returns an alternating caps version of that text each time.</p>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_197" aria-label=" Page 197. "/>In your text editor, create a new file called <i>exercise-7-5.py</i> and create a new function called <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps()</samp>, which takes in the argument <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp>, like this:</p>

<pre id="pre-303"><code>def alternating_caps(text):

    """Returns an aLtErNaTiNg cApS version of text"""</code></pre>

<p class="TX">Next, copy the code from Exercise 7-4 and paste it into this function, making sure to indent it so that it aligns with the docstring. Delete the line that defines the <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp> value; instead, define <samp class="SANS_TheSansMonoCd_W5Regular_11">text</samp> by passing it into the function as an argument. Also change the last line of the Exercise 7-4 code from <samp class="SANS_TheSansMonoCd_W5Regular_11">print(alternating_caps_text)</samp> to <samp class="SANS_TheSansMonoCd_W5Regular_11">return alternating_caps_text</samp>. This function shouldn’t display the alternating caps version of a string; it should create a variable containing this version of a string and return it.</p>

<p class="TX">Your complete function should look like this (you can also find a copy at <a href="https://github.com/micahflee/hacks-leaks-and-revelations/blob/main/chapter-7/exercise-7-5.py"><i>https://<wbr/>github<wbr/>.com<wbr/>/micahflee<wbr/>/hacks<wbr/>-leaks<wbr/>-and<wbr/>-revelations<wbr/>/blob<wbr/>/main<wbr/>/chapter<wbr/>-7<wbr/>/exercise<wbr/>-7<wbr/>-5<wbr/>.py</i></a>):</p>

<pre id="pre-304"><code>def alternating_caps(text):

    """Returns an aLtErNaTiNg cApS version of text"""

    alternating_caps_text = " "

    should_be_capital = True



    for character in text:

        if should_be_capital:

            alternating_caps_text += character.upper()

            should_be_capital = False

        else:

            alternating_caps_text += character.lower()

            should_be_capital = True



    return alternating_caps_text</code></pre>

<p class="TX">Now that you have a function—a reusable chunk of code—you can use it as many times as you want. Call this function a few times, remembering to display its return value using the <samp class="SANS_TheSansMonoCd_W5Regular_11">print()</samp> function, like this:</p>

<pre id="pre-305"><code>print("Hacks, Leaks, and Revelations")

print(alternating_caps("This book is amazing"))

print(alternating_caps("I'm learning so much"))</code></pre>

<p class="TX">You can change the text that you pass in to the <samp class="SANS_TheSansMonoCd_W5Regular_11">alternating_caps()</samp> function calls to whatever you want.</p>

<p class="TX">Here’s what it looks like when I run this script:</p>

<pre id="pre-306"><code>micah@trapdoor chapter-7 % <b>python3 exercise-7-5.py</b>

Hacks, Leaks, and Revelations

ThIs bOoK Is aMaZiNg

I'M LeArNiNg sO MuCh</code></pre>

<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_198" aria-label=" Page 198. "/>While the output of this script is displayed in a mocking tone, I hope that the sentiment is true for you!</p>

</section>

<section epub:type="division" aria-labelledby="sec29">

<h3 class="H1" id="sec29"><span id="h-185"/><samp class="SANS_Futura_Std_Bold_B_11">Summary</samp></h3>

<p class="TNI">This chapter has covered several basic Python programming concepts you’ll rely upon in future investigations. You learned to write simple Python scripts that incorporate the major features of the language, including variables, <samp class="SANS_TheSansMonoCd_W5Regular_11">if</samp> statements, <samp class="SANS_TheSansMonoCd_W5Regular_11">for</samp> loops, and functions. You’re ready to continue your Python programming journey in the next chapter, this time writing code to directly investigate datasets.</p>

</section>
</section>

</div></body></html>