["```\n<?php\n$products = [];\n\n$products['010'] = [\n    'name' => 'Sandwich',\n 'description' =>\n    'A filling, savory snack of peanut butter and jelly.',\n    'price' => 1.00,\n    'stars' => 4,\n    'image' => 'peanut_butter.png'\n];\n\n$products['025'] = [\n    'name' => 'Slice of cheesecake',\n    'description' =>\n    'Treat yourself to a chocolate-covered cheesecake slice.',\n    'price' => 2.00,\n    'stars' => 5,\n    'image' => 'chocolate_cheese_cake.png'\n];\n--snip--\n```", "```\n.glyphicon-star {\n  ❶ color: goldenrod;\n    font-size: 150%;\n}\n\n.glyphicon-star-empty {\n  ❷ color: darkgray;\n    font-size: 150%;\n}\n\n❸ .product img {\n    width: 100%;\n}\n\n❹ .price {\n    font-size: 1.5rem;\n    font-weight: bold;\n}\n```", "```\n<?php\nfunction starsHtml($stars): string\n{\n    $s = '';\n    switch ($stars) {\n        case 0:\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            break;\n\n        case 1:\n            $s .= '<span class=\"glyphicon glyphicon-star\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            break;\n\n        case 2:\n            $s .= '<span class=\"glyphicon glyphicon-star\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            $s .= '<span class=\"glyphicon glyphicon-star-empty\"></span>';\n            break;\n--snip--\n        // Fill in the rest up to case 5.\n    }\n\n    return $s;\n}\n```", "```\n<!doctype html>\n<html>\n<head>\n    <title>Shopping site: Product List</title>\n    <link rel=\"stylesheet\" href=\"/css/products.css\">\n    <link rel=\"stylesheet\"\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\">\n    <link rel=\"stylesheet\"\n          href=\"https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\">\n</head>\n\n<body class=\"container\">\n\n<h1>List of Products</h1>\n\n<div class=\"row\">\n\n<?php\nforeach ($products as $id => $product): ❶\n    $price = number_format($product['price'], 2); ❷\n?>\n    <div class=\"product col-md-2 text-center\">\n        <img src=\"/images/<?= $product['image'] ?>\" alt=\"<?= $product['name'] ?>\"> ❸\n        <?= starsHtml($product['stars']) ?> ❹\n        <h1 class=\"fs-5\"><?= $product['name'] ?></h1>\n        <div class=\"price\">\n            $ <?= $price ?>\n            <form method=\"post\" action=\"/?action=addToCart&id=<?= $id ?>\"\n                style=\"display: inline\"> ❺\n                <button class=\"btn btn-primary btn-sm\">Add To Cart</button>\n            </form>\n        </div>\n <div>\n            <?= $product['description'] ?> ❻\n        </div>\n    </div>\n<?php endforeach; ?>\n</div>\n</body>\n</html>\n```", "```\n<?php\nrequire_once __DIR__ . '/../src/functions.php';\n\n$products = [];\n$products['010'] = [\n 'name' => 'Sandwich',\n--snip--\n\nrequire_once __DIR__ . '/../templates/list.php';\n```", "```\n--snip--\n// Default is product list page\n$page = 'list.php';\n\n// Try to find \"action=cart\" in query-string variables\n$action = filter_input(INPUT_GET, 'action');\nif ('cart' == $action){\n    // If found, change template file to be displayed\n    $page = 'cart.php';\n}\n\n// Read in and execute the $page template\n❶ require_once __DIR__ . \"/../templates/$page\";\n```", "```\nfunction getShoppingCart(): array\n{\n    $cartItems = [];\n    $cartItems['010'] = 2; // 2 sandwiches\n    $cartItems['005'] = 4; // 4 pineapples\n\n    return $cartItems;\n}\n```", "```\nfunction getAllProducts(): array\n{\n $products = [];\n $products['010'] = [\n 'name' => 'Sandwich',\n 'description' =>\n 'A filling, savory snack of peanut butter and jelly.',\n 'price' => 1.00,\n 'stars' => 4,\n 'image' => 'peanut_butter.png'];\n\n $products['025'] = [\n 'name' => 'Slice of cheesecake',\n 'description' =>\n 'Treat yourself to a chocolate-covered cheesecake slice.',\n 'price' => 2.00,\n 'stars' => 5,\n 'image' => 'chocolate_cheese_cake.png'];\n\n $products['005'] = [\n 'name' => 'Pineapple',\n 'description' =>\n 'A piece of exotic fruit.',\n 'price' => 3.00,\n 'stars' => 2,\n 'image' => 'pineapple.png'];\n\n $products['021'] = [\n 'name' => 'Jelly donut',\n 'description' =>\n 'The best type of donut - filled with sweet jam.',\n 'price' => 4.50,\n 'stars' => 3,\n 'image' => 'jellydonut.png'];\n\n $products['002'] = [\n 'name' => 'Banana',\n 'description' =>\n 'The basis for a good smoothie and high in potassium.',\n 'price' => 0.50,\n 'stars' => 5,\n 'image' => 'banana.png'];\n    return $products;\n}\n```", "```\n<?php\nrequire_once __DIR__ . '/../src/functions.php';\n\n$products = getAllProducts();\n$cartItems = getShoppingCart();\n\n// Choose page to display\n$page = 'list.php';\n$action = filter_input(INPUT_GET, 'action');\nif ('cart' == $action) {\n // If found, change template file to be displayed\n $page = 'cart.php';\n}\nrequire_once __DIR__ . \"/../templates/$page\";\n```", "```\n<!doctype HTML>\n<html>\n<head>\n    <title>Shopping site: <?= $pageTitle ?></title> ❶\n\n <link rel=\"stylesheet\" href=\"/css/products.css\">\n <link rel=\"stylesheet\"\n href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\">\n <link rel=\"stylesheet\"\n href=\"https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\">\n</head>\n\n<body class=\"container \">\n\n    <nav>\n        <ul>\n            <li>\n                <a href=\"/\">\n                    List of Products\n                </a>\n            </li>\n            <li>\n                <a href=\"/?action=cart\">\n                    Shopping Cart\n                </a>\n            </li>\n        </ul>\n    </nav>\n\n    <h1><?= $pageTitle ?></h1> ❷\n```", "```\n<?php\n    $pageTitle = 'List of products';\n\n    require_once '_header.php';\n?>\n\n<div class=\"row\">\n\n<?php\nforeach ($products as $id => $product):\n $price = number_format($product['price'], 2);\n?>\n\n <div class=\"product col text-center\">\n--snip--\n```", "```\n<?php\n    $total = 0;\n    $pageTitle = 'Shopping Cart';\n\n    require_once '_header.php';\n?>\n\n❶ <div class=\"row\">\n    <div class=\"col-2 fw-bold text-center\">\n        Image\n    </div>\n\n <div class=\"col-4 fw-bold\">\n        Item\n    </div>\n\n    <div class=\"col fw-bold text-right\">\n        Price\n    </div>\n\n    <div class=\"col-3 fw-bold text-center\">\n        Quantity\n    </div>\n\n    <div class=\"col fw-bold text-right\">\n        Subtotal\n    </div>\n\n    <div class=\"col fw-bold\">\n        Action\n    </div>\n</div>\n```", "```\n<?php\nforeach ($cartItems as $id => $quantity):\n  ❶ $product = $products[$id];\n    $price = $product['price'];\n  ❷ $subtotal = $quantity * $price;\n\n    // Update total\n  ❸ $total += $subtotal;\n\n    // Format prices to 2 d.p.\n    $price = number_format($price, 2);\n    $subtotal = number_format($subtotal, 2);\n?>\n```", "```\n<div class=\"row border-top\"> ❶\n\n    <div class=\"col-2 product text-center\"> ❷\n        <img src=\"/images/cart/<?= $product['image'] ?>\" alt=\"<?= $product['name'] ?>\">\n    </div>\n\n    <div class=\"col-4\"> ❸\n        <h1><?= $product['name'] ?></h1>\n        <div>\n            <?= $product['description'] ?>\n        </div>\n    </div>\n\n    <div class=\"col price text-end align-self-center\"> ❹\n        $ <?= $price ?>\n    </div>\n\n    <div class=\"col-3 text-center align-self-center\"> ❺\n        <form action=\"/?action=changeCartQuantity&id=<?= $id ?>\" method=\"post\">\n            <button type=\"submit\" name=\"changeDirection\" value=\"reduce\"\n                class=\"btn btn-primary btn-sm\">\n                <span class=\"glyphicon glyphicon-minus\"></span>\n            </button>\n            <?= $quantity ?>\n            <button type=\"submit\" name=\"changeDirection\" value=\"increase\"\n                class=\"btn btn-primary btn-sm\">\n                <span class=\"glyphicon glyphicon-plus\"></span>\n            </button>\n        </form>\n    </div>\n\n    <div class=\"col price text-end align-self-center\"> ❻\n        $ <?= $subtotal ?>\n    </div>\n\n    <div class=\"col align-self-center\"> ❼\n        <form action=\"/?action=removeFromCart&id=<?= $id ?>\" method=\"post\">\n            <button class=\"btn btn-danger btn-sm\">\n <span class=\"glyphicon glyphicon-remove\"></span>\n                Remove\n            </button>\n        </form>\n    </div>\n\n</div>\n<?php endforeach; ?> ❽\n```", "```\n<div class=\"row border-top\">\n    <div class=\"col-11 price text-end\">\n        <?php\n        $total = number_format($total, 2);\n        ?>\n        $ <?= $total ?>\n    </div>\n\n    <div class=\"col fw-bold \">\n        Total\n    </div>\n</div>\n</body>\n</html>\n```", "```\nfunction getShoppingCart(): array\n{\n    // Default is empty shopping cart array\n    $cartItems = [];\n\n if (isset($_SESSION['cart'])) {\n        $cartItems = $_SESSION['cart'];\n    }\n\n    return $cartItems;\n}\n```", "```\nfunction addItemToCart($id): void\n{\n    $cartItems = getShoppingCart();\n    $cartItems[$id] = 1;\n\n    $_SESSION['cart'] = $cartItems;\n}\n```", "```\nfunction removeItemFromCart($id): void\n{\n    $cartItems = getShoppingCart();\n    unset($cartItems[$id]);\n    $_SESSION['cart'] = $cartItems;\n}\n```", "```\nfunction getQuantity($id, $cart): int\n{\n    if (isset($cart[$id])) {\n        return $cart[$id];\n    }\n\n    // If $id not found, then return zero\n    return 0;\n}\n```", "```\nfunction increaseCartQuantity($id): void\n{\n    $cartItems = getShoppingCart();\n    $quantity = getQuantity($id, $cartItems);\n    $newQuantity = $quantity + 1;\n    $cartItems[$id] = $newQuantity;\n\n    $_SESSION['cart'] = $cartItems;\n}\n```", "```\nfunction reduceCartQuantity($id): void\n{\n    $cartItems = getShoppingCart();\n    $quantity = getQuantity($id, $cartItems);\n    $newQuantity = $quantity - 1;\n\n    if ($newQuantity < 1) {\n        unset($cartItems[$id]);\n    } else {\n        $cartItems[$id] = $newQuantity;\n    }\n\n    $_SESSION['cart'] = $cartItems;\n}\n```", "```\n<?php\n$pageTitle = 'Shopping Cart';\n\nrequire_once '_header.php';\n?>\n\n<div class=\"row\">\n    (there are no items in your shopping cart)\n</div>\n\n</body>\n</html>\n```", "```\nfunction displayProducts(): void\n{\n    $products = getAllProducts();\n    require_once __DIR__ . '/../templates/list.php';\n}\n\nfunction displayCart(): void\n{\n    $products = getAllProducts();\n    $cartItems = getShoppingCart();\n\n  ❶ if (!empty($cartItems)) {\n        require_once __DIR__ . '/../templates/cart.php';\n    } else {\n        require_once __DIR__ . '/../templates/emptyCart.php';\n    }\n}\n```", "```\n<?php\nsession_start();\n\nrequire_once __DIR__ . '/../src/functions.php';\n\n// Try to find \"action\" in query-string variables\n$action = filter_input(INPUT_GET, 'action');\nswitch ($action){\n  ❶ case 'cart':\n        displayCart();\n        break;\n\n  ❷ case 'addToCart':\n        $id = filter_input(INPUT_GET, 'id');\n        addItemToCart($id);\n        displayCart();\n        break;\n\n  ❸ case 'removeFromCart':\n        $id = filter_input(INPUT_GET, 'id');\n        removeItemFromCart($id);\n        displayCart();\n        break;\n\n  ❹ case 'changeCartQuantity':\n        $id = filter_input(INPUT_GET, 'id');\n        $changeDirection = filter_input(INPUT_POST, 'changeDirection');\n\n        if ($changeDirection == 'increase') {\n            increaseCartQuantity($id);\n        } else {\n            reduceCartQuantity($id);\n        }\n\n        displayCart();\n        break;\n\n  ❺ default:\n        displayProducts();\n}\n```"]