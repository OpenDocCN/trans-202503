- en: '8'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '8'
- en: Wireless Network Pirating
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络盗版
- en: '![](image_fi/book_art/chapterart.png)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![](image_fi/book_art/chapterart.png)'
- en: The wireless internet presents users with a whole new set of challenges in preventing
    black hat attacks. Obviously, the main difference between wireless networks and
    the wired networks discussed in Chapter 6 is that they’re, well, wireless. Wireless
    networking uses radio waves to send data between devices, which means that, like
    the title of the 1981 hit song by Phil Collins, it’s *in the air tonight*.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 无线互联网给用户带来了一整套新的挑战，防止黑帽子攻击。显然，无线网络和第六章讨论的有线网络的主要区别在于它们是无线的。无线网络使用无线电波在设备之间传送数据，这意味着，就像菲尔·柯林斯（Phil
    Collins）1981年的热门歌曲标题一样，它是*在空中的今夜*。
- en: Joking aside, the wireless internet can be much easier for adversaries to attack
    because physical isolation—one of the main ways to defend against attacks on wired
    networks—won’t work. You can potentially prevent unwanted people from accessing
    wired networks by, for instance, locking an office building. This doesn’t work
    for wireless networks, because the wireless device signals travel through those
    barriers and can be picked up by someone on the outside.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 开玩笑的话，无线互联网更容易受到攻击，因为物理隔离——防御有线网络攻击的主要方式之一——不起作用。例如，通过锁定办公楼，可以潜在地阻止不受欢迎的人访问有线网络。但是这对无线网络无效，因为无线设备信号穿过这些障碍物，并且可以被外部的人捕捉到。
- en: In this chapter, you’ll learn how wireless networks work and what makes them
    unique. After covering the underlying mechanics, we’ll move on to discuss how
    attackers use those features to exploit wireless networks and steal data they
    send. Then we’ll explore a few vital defenses you can use to secure your wireless
    network, whether at home or in an office environment. As an exercise, you’ll learn
    how to secure a typical wireless router.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习无线网络的工作原理及其独特之处。在涵盖基础机制后，我们将讨论攻击者如何利用这些特性来利用无线网络并窃取它们发送的数据。然后，我们将探讨几种重要的防御措施，您可以使用这些措施来保护您的无线网络，无论是家庭环境还是办公环境。作为一个练习，您将学习如何保护典型的无线路由器。
- en: How Wireless Networks Work
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线网络如何工作
- en: Wireless networks don’t use cables to transmit data; instead, the devices send
    wireless signals using antennas. These antennas can be external, protruding from
    the device like alien ears, or internal, like those likely in your laptop. Modern
    wireless devices have multiple antennas to increase the amount of signal they
    can process.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络不使用电缆传输数据；相反，设备使用天线发送无线信号。这些天线可以是外部的，从设备上突出，就像外星人的耳朵，或者是内部的，就像您的笔记本电脑中可能的天线。现代无线设备具有多个天线以增加它们可以处理的信号量。
- en: The devices on the network send and receive signals to and from a central device
    called a *Wireless Access Point* *(WAP**)*, which is usually your router or switch.
    The WAP manages all the communication between devices by either passing the signal
    to another device on the wireless network or sending it to a wired network.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上的设备发送和接收信号与称为*无线接入点（WAP）*的中央设备的信号，通常是您的路由器或交换机。WAP通过将信号传递给无线网络上的另一设备或将其发送到有线网络来管理设备之间的所有通信。
- en: Wireless networks are set up in two different ways. In *infrastructure mode*,
    the WAP acts as both a router and a switch, serving as a gateway to the internet
    for the entire network. That said, there are also types of WAPs that don’t have
    routing or advanced switching capabilities and will merely pass traffic directly
    between a wireless and wired network.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络可以通过两种不同的方式设置。在*基础设施模式*中，WAP充当路由器和交换机，为整个网络提供互联网的网关。尽管如此，也有一些类型的WAP没有路由或高级交换功能，仅仅会直接在无线和有线网络之间传递流量。
- en: The other way to create a wireless network is in *ad-hoc mode*. In this configuration,
    there is no central WAP. Instead, each device connects directly to another device
    using a wireless signal. Because the devices are connected directly to one another,
    there is no need for a central device. Each device sends information directly
    to the device it’s connected to. A great example of an ad-hoc network is when
    you connect two Bluetooth devices. Bluetooth is a form of wireless communication
    designed to be used over short distances, for instance, when connecting a phone
    to a car system to play music. When you connect a Bluetooth device to your phone
    or car, you’re creating an ad-hoc wireless network. (This is also an example of
    the personal area networks discussed in Chapter 2.)
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 创建无线网络的另一种方式是使用 *临时模式*。在这种配置中，没有中央 WAP。相反，每个设备通过无线信号直接连接到另一个设备。由于设备之间是直接连接的，因此无需中央设备。每个设备将信息直接发送给其连接的设备。一个很好的临时网络示例是当你连接两个蓝牙设备时。蓝牙是一种旨在短距离内使用的无线通信形式，例如，当你将手机连接到车载系统播放音乐时。当你将蓝牙设备连接到手机或车载系统时，实际上是在创建一个临时无线网络。（这也是第二章中讨论的个人区域网络的一个例子。）
- en: '[Figure 8-1](#figure8-1) shows an example of a network diagram for each type
    of wireless network.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 8-1](#figure8-1)展示了每种类型无线网络的网络图示例。'
- en: Devices can find and recognize the signals sent by different wireless networks
    using the WAP’s unique identifier, called the *Service Set Identifier* *(SSID**)*.
    Basically, this is the name of the wireless network and is what appears when you
    connect your device to the network, as shown in [Figure 8-2](#figure8-2). WAPs
    usually broadcast their SSIDs, so any device listening for a wireless signal can
    see them, although they can also hide their SSIDs, which forces you to know the
    ID to connect.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 设备可以通过使用 WAP 的唯一标识符——称为 *服务集标识符*（*SSID**）来查找并识别不同无线网络发出的信号。基本上，这就是无线网络的名称，当你将设备连接到网络时，它会显示出来，如
    [图 8-2](#figure8-2) 所示。WAP 通常会广播其 SSID，因此任何监听无线信号的设备都可以看到它们，尽管它们也可以隐藏其 SSID，这时你必须知道该标识符才能连接。
- en: '![f08001](image_fi/501287c08/f08001.png)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
  zh: '![f08001](image_fi/501287c08/f08001.png)'
- en: 'Figure 8-1: Infrastructure versus ad-hoc network setup'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-1：基础设施网络与临时网络设置的对比
- en: '![f08002](image_fi/501287c08/f08002.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![f08002](image_fi/501287c08/f08002.png)'
- en: 'Figure 8-2: Examples of SSIDs for wireless networks'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-2：无线网络的 SSID 示例
- en: Once you choose a wireless network, your device connects to it using a process
    called *association*. Typically, a device like a laptop or phone can associate
    with only one wireless network at a time, but a WAP can associate with multiple
    devices simultaneously. The WAP will then manage the traffic sent to each device,
    making sure each one has a chance to use the signal without them interfering with
    each other.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择了一个无线网络，设备就会使用一种叫做 *关联* 的过程与其连接。通常，像笔记本电脑或手机这样的设备一次只能与一个无线网络关联，但 WAP 可以同时与多个设备关联。然后，WAP
    会管理发往每个设备的流量，确保每个设备都有机会使用信号，而不会互相干扰。
- en: Modern wireless networks can handle many connected devices. But when they reach
    capacity, the devices will start to experience slower speeds or lose connection
    to the wireless network. For this reason, it’s important to consider how you’ll
    use the network before you plug in your WAP. In a small house, you can usually
    get away with one access point in a centrally located area. In an office building
    or larger area, you’ll need multiple access points to load-balance the network
    so no single device gets overloaded.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 现代无线网络可以支持许多连接的设备。但当设备数量达到上限时，设备将开始体验到较慢的速度或失去与无线网络的连接。因此，在插入 WAP 之前，考虑如何使用网络非常重要。在一个小房子里，通常只需一个位于中心位置的接入点即可。在办公楼或较大区域内，您需要多个接入点来负载均衡网络，以避免任何单一设备过载。
- en: However, having multiple access points can sometimes cause issues, particularly
    when a device can’t easily connect between the different networks because it can’t
    associate with the new access point. To alleviate this problem, you can create
    a *mesh network*. Mesh networks combine multiple WAPs into one large wireless
    network with a single SSID. This allows people to move their devices freely between
    them without losing the wireless signal, as long as they stay within the bounds
    of the mesh network.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，拥有多个接入点有时会导致问题，尤其是当设备无法在不同网络之间轻松连接时，因为它无法与新的接入点建立关联。为了解决这个问题，你可以创建一个*网状网络*。网状网络将多个WAP结合成一个大的无线网络，并使用一个单一的SSID。这使得人们可以自由地在这些接入点之间移动设备，而不会丢失无线信号，只要设备仍然处于网状网络的范围内。
- en: Wireless Standards
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线标准
- en: Part of what has made wireless technology so successful is the creation of widely
    adopted standards that enable interoperability among devices. *Interoperability*
    in this case means that one wireless-enabled device can easily communicate with
    pretty much any other wireless device, no matter which companies manufactured
    them. This is largely due to the work of the Wi-Fi Alliance, an organization that
    promotes wireless standards. Essentially, if a wireless device follows certain
    guidelines, it can refer to its device as *Wi-Fi enabled*.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 无线技术成功的部分原因是创造了广泛采用的标准，确保设备之间的互操作性。此处的*互操作性*意味着一个无线设备可以轻松地与几乎任何其他无线设备通信，不论它们是由哪个公司制造的。这主要得益于Wi-Fi联盟的工作，Wi-Fi联盟是一个推广无线标准的组织。基本上，如果一个无线设备遵循了特定的准则，它可以将自己称为*Wi-Fi
    启用*设备。
- en: The main standard that companies follow is known as *IEEE 802.11*. The *Institute
    of Electronic and Electrical Engineers (IEEE)* is an organization that produces
    standards, and 802.11 is just a number that categorizes that particular standard.
    However, that number has now become synonymous with wireless technology. In fact,
    it’s become so common that you’ve probably heard or seen it before, perhaps on
    a router you bought for your home or office.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 公司遵循的主要标准被称为*IEEE 802.11*。*电子电气工程师协会（IEEE）*是一个制定标准的组织，而802.11只是一个分类该标准的编号。然而，这个数字现在已经成为无线技术的代名词。事实上，它已经变得如此普遍，你可能之前在家用或办公路由器上听到过或看到过它。
- en: As wireless technology evolved, new substandards were created to govern new
    types of wireless networks. The first two major substandards were *802.11a* and
    *802.11b*, which use different radio wavelengths to send information. The 802.11a
    standard uses the 5 GHz band, whereas 802.11b uses the 2.4 GHz band. The 2.4 GHz
    band reaches farther but is slower, whereas 5 GHz is faster but doesn’t reach
    as far. Today, these differences are largely moot, because most modern wireless
    devices use both standards (more on that momentarily).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 随着无线技术的发展，新的子标准应运而生，以管理新类型的无线网络。前两个主要的子标准是*802.11a*和*802.11b*，它们使用不同的无线电波长来发送信息。802.11a标准使用5
    GHz频段，而802.11b使用2.4 GHz频段。2.4 GHz频段的信号覆盖范围更广，但速度较慢；而5 GHz频段速度更快，但覆盖范围较小。如今，这些差异大多已经不再重要，因为大多数现代无线设备同时支持这两种标准（稍后会详细介绍）。
- en: Later standards integrated new features. *802.11g* improved on 802.11b, producing
    a faster, stronger signal. Next came *802.11n*, which added a technology called
    *Multiple-In Multiple-Out* *(MIMO**).* MIMO allows a device to use multiple antennas
    to amplify the amount of traffic a wireless device can send and receive at one
    time. This feature drastically increased a WAP’s capacity, allowing for many more
    devices on a network at one time without causing slowdowns or dropped signals.
    MIMO also allows devices to use 2.4 and 5 GHz signals at the same time. The *802.11ac*
    and *802.11ax* standards later improved upon MIMO and other signal-strengthening
    technologies to enable incredibly fast data transfer speeds. Released in 2019,
    802.11ax is still being adopted. [Table 8-1](#table8-1) lists each of the standards
    along with some facts about them.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 后来的标准集成了新功能。*802.11g*在802.11b的基础上做出了改进，提供了更快、更强的信号。接下来是*802.11n*，它加入了一项名为*多输入多输出（MIMO）*的技术。MIMO允许设备使用多个天线来增加无线设备一次性发送和接收的流量。这一特性大幅提高了无线接入点（WAP）的容量，使得同一网络上能够同时连接更多设备而不会导致网络减速或信号丢失。MIMO还允许设备同时使用2.4
    GHz和5 GHz信号。随后，*802.11ac*和*802.11ax*标准在MIMO和其他信号增强技术上做了改进，实现了极快的数据传输速度。发布于2019年的802.11ax仍在被逐步采用。[表8-1](#table8-1)列出了每个标准及其相关信息。
- en: 'Table 8-1: IEEE 802.11 Standards'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 表8-1：IEEE 802.11标准
- en: '| **Standard** | **Signal type** | **Max range** | **Speed** |'
  id: totrans-26
  prefs: []
  type: TYPE_TB
  zh: '| **标准** | **信号类型** | **最大范围** | **速度** |'
- en: '| --- | --- | --- | --- |'
  id: totrans-27
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 802.11a | 5 GHz | 120 m | 54 Mbps (megabits/second) |'
  id: totrans-28
  prefs: []
  type: TYPE_TB
  zh: '| 802.11a | 5 GHz | 120 m | 54 Mbps (兆比特/秒) |'
- en: '| 802.11b | 2.4 GHz | 140 m | 11 Mbps |'
  id: totrans-29
  prefs: []
  type: TYPE_TB
  zh: '| 802.11b | 2.4 GHz | 140 m | 11 Mbps |'
- en: '| 802.11g | 2.4 GHz | 140 m | 54 Mbps |'
  id: totrans-30
  prefs: []
  type: TYPE_TB
  zh: '| 802.11g | 2.4 GHz | 140 m | 54 Mbps |'
- en: '| 802.11n | 2.4/5 GHz | 250 m | 600 Mbps |'
  id: totrans-31
  prefs: []
  type: TYPE_TB
  zh: '| 802.11n | 2.4/5 GHz | 250 m | 600 Mbps |'
- en: '| 802.11ac | 5 GHz | 120 m | 3466 Mbps (3.4 Gbps) |'
  id: totrans-32
  prefs: []
  type: TYPE_TB
  zh: '| 802.11ac | 5 GHz | 120 m | 3466 Mbps (3.4 Gbps) |'
- en: '| 802.11ax | 2.4/5/6 GHz | 120 m | 9608 Mb/s (9.6 Gbps) |'
  id: totrans-33
  prefs: []
  type: TYPE_TB
  zh: '| 802.11ax | 2.4/5/6 GHz | 120 m | 9608 Mb/s (9.6 Gbps) |'
- en: Wireless Security
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线安全
- en: Another interesting aspect of the IEEE standards is that they make security
    an integral part of their functionality. Their designers attempted to defeat some
    of the more obvious attacks against wireless from the beginning rather than reacting
    to them after the fact. Although not perfect by any means (as you’ll see in “Wireless
    Attacks” on page 147), this emphasis on security helped create wireless security
    standards that have persisted through many iterations.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: IEEE标准的另一个有趣之处在于它们将安全性作为功能的一部分。它们的设计者试图从一开始就防御一些明显的无线攻击，而不是事后做出反应。尽管绝非完美（正如你在“无线攻击”章节第147页所看到的那样），但这种对安全性的重视帮助创建了无线安全标准，这些标准在多次迭代中得以延续。
- en: Wireless Authentication
  id: totrans-36
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无线认证
- en: One of the problems with wireless is that it can be very difficult to determine
    who is using the network. Because the network isn’t constrained by traditional
    physical boundaries, such as walls or doors, it must use authentication protocols
    to allow only the right people to access it. The other issue is that when you
    send in your authentication, it travels over the wireless network, where an adversary
    could intercept it. So you also must encrypt your traffic to ensure your credentials
    remain secret.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络的一大问题是很难确定谁在使用该网络。由于网络不受传统物理边界（如墙壁或门）的限制，它必须使用认证协议来确保只有正确的人才能访问它。另一个问题是，当你发送认证信息时，它会通过无线网络传输，而此时对手可能会截取它。因此，你还必须加密你的流量，以确保你的凭证保持秘密。
- en: Basically, there are two methods of authenticating to a wireless network. The
    first is *Personal* or *PSK* *(pre-shared key) mode*. This is most likely the
    method you’re familiar with; it requires you to enter a password when you want
    to join the wireless network. As discussed in Chapter 5, a password is only as
    strong as you make it; so a weak password using Personal mode will make it easier
    for a black hat to break into your wireless network. However, it’s an easy method
    to use at home, because it doesn’t require any additional equipment or maintenance
    outside of the WAP that you set up. It’s also easy to share the password to allow
    people to join your wireless network. This is why guest Wi-Fi networks in coffee
    shops or other public places use Personal mode.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，认证无线网络有两种方法。第一种是*个人*或*PSK*（*预共享密钥*）模式。这很可能是你熟悉的方法；当你想加入无线网络时，它要求你输入密码。如第五章所述，密码的强度取决于你设置的强度；因此，使用个人模式的弱密码将使黑客更容易突破你的无线网络。然而，这在家中使用是一种简单的方法，因为它不需要任何额外的设备或维护，除了你设置的WAP。它也便于共享密码，让其他人加入你的无线网络。这就是为什么咖啡馆或其他公共场所的访客Wi-Fi网络使用个人模式的原因。
- en: The other general method of authentication for wireless networks is *Enterprise
    mode*, in which authentication is handled by an authentication database. The WAP
    forwards authentication attempts to the database to validate. The database then
    tells the WAP whether or not that device is authorized to be on the wireless network.
    These requests are sent using the *Extensible Authentication Protocol (EAP)*,
    which encrypts them, making it harder for an attacker to intercept them. EAP also
    has the added benefit of running many different types of authentication protocols,
    so it can integrate with many authentication methods.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种用于无线网络认证的常见方法是*企业模式*，在该模式下，认证由认证数据库处理。WAP将认证请求转发到数据库进行验证。数据库然后告诉WAP该设备是否被授权连接到无线网络。这些请求通过*可扩展认证协议（EAP）*发送，该协议会对其加密，使攻击者更难截取它们。EAP还具有支持多种认证协议的额外优势，因此它能够与多种认证方法兼容。
- en: One advantage of using Enterprise mode, sometimes called *802.1X*, is that it
    provides a way to create a unified method of authentication for wireless access
    and access to the network attached to the WAP. So instead of having to remember
    or enter multiple credentials, a person can just authenticate once to access everything
    they need. Another advantage is that it provides very strong authentication methods
    that are difficult to break. The drawback is that all these components require
    a lot of management and cost. Therefore, you’re unlikely to see Enterprise mode
    used in homes or even small businesses.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 使用企业模式（有时称为*802.1X*）的一个优势是，它提供了一种统一的身份验证方法，用于无线接入和接入WAP所连接的网络。因此，用户无需记住或输入多个凭证，只需进行一次身份验证即可访问他们所需的一切。另一个优势是，它提供了非常强大的身份验证方法，难以破解。缺点是，所有这些组件都需要大量的管理和成本。因此，在家庭或小型企业中，你不太可能看到使用企业模式。
- en: Wireless Encryption
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 无线加密
- en: Another important facet of wireless security is ensuring that the data sent
    over the network isn’t read by a black hat. It’s possible for an adversary to
    capture a wireless signal, stealing any data sent between a device and the WAP.
    To protect the wireless network, WAPs employ special encryption algorithms.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 无线安全的另一个重要方面是确保通过网络发送的数据不会被黑帽子窃取。攻击者有可能捕获无线信号，窃取设备与WAP之间发送的任何数据。为了保护无线网络，WAP会采用特殊的加密算法。
- en: The first of these, *Wired Equivalent Privacy* *(WEP**),* was introduced as
    part of the original 802.11 standard and attempted to provide the same level of
    encryption as was used on wired networks at the time. However, this algorithm
    didn’t live up to its name. The problem was it didn’t have a long enough encryption
    key. As you’ll learn in the next chapter, if an encryption algorithm’s key is
    too short, attackers can easily break it.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 其中第一个是*有线等效隐私*（*WEP**），它作为原始802.11标准的一部分被引入，试图提供与当时有线网络相同级别的加密。然而，这个算法并没有达到其名称所承诺的效果。问题在于它的加密密钥不够长。正如你将在下一章学习到的那样，如果加密算法的密钥太短，攻击者可以轻松破解它。
- en: Knowing there were problems with security in WEP, the Wi-Fi Alliance helped
    create a new encryption standard called *Wi-Fi Protected Access* *(WPA**)*. The
    idea was to create a stopgap measure to mitigate the problems with WEP while an
    even better standard was being worked on. WPA used a protocol called the *Temporal
    Key Integrity Protocol (TKIP)* to supplement the key size of WEP encryption and
    make it harder to break. However, flaws still existed in how the key was used,
    and an adversary could still break the encryption.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 了解到WEP在安全性方面存在问题后，Wi-Fi联盟帮助创建了一种新的加密标准，称为*Wi-Fi保护访问*（*WPA**）。其目的是在开发更好的标准的同时，提供一种应急措施来缓解WEP存在的问题。WPA使用了一种名为*时序密钥完整性协议（TKIP）*的协议，来补充WEP加密的密钥大小，从而使其更难破解。然而，仍然存在密钥使用方式的缺陷，攻击者仍然可以破解加密。
- en: 'Eventually, another version of WPA, aptly named *WPA2*, met the goal: it provides
    encryption security equal to that of wired networks. WPA2 used an entirely new
    encryption algorithm called the Advanced Encryption Standard (AES; more on this
    in Chapter 9) to provide a strong level of encryption. WPA2 also included the
    802.1X standard discussed earlier. This continues to be the go-to standard for
    wireless security. Although not flawless, as you’ll see shortly, it provides a
    high level of encryption and authentication that prevents attackers from sniffing
    wireless signals or joining a wireless network without permission.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 最终，WPA的另一个版本，恰如其分地命名为*WPA2*，达到了目标：它提供了与有线网络相当的加密安全性。WPA2使用了一种完全新的加密算法，称为高级加密标准（AES；第9章将详细介绍），以提供强大的加密级别。WPA2还包含了前面讨论的802.1X标准。这仍然是无线安全的主流标准。尽管不是完美无缺，正如你稍后会看到的，它提供了高水平的加密和认证，能够防止攻击者监听无线信号或未经许可加入无线网络。
- en: It’s important to note that even though all modern WAPs support WPA2, they often
    also support legacy standards like WEP and WPA. For this reason, it’s critical
    to check your WAPs to ensure they’re not using a legacy standard with considerable
    flaws.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 需要注意的是，尽管所有现代WAP都支持WPA2，但它们通常也支持遗留标准，如WEP和WPA。因此，检查你的WAP，确保它们没有使用存在重大缺陷的遗留标准，是至关重要的。
- en: Wireless Attacks
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 无线攻击
- en: The most popular attacks against wireless networks are man-in-the-middle attacks,
    like those discussed in Chapter 2. The reason is that wireless networks inherently
    make it easy for an adversary to intercept communication between the WAP and the
    devices connecting to the wireless network.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 针对无线网络的最常见攻击是中间人攻击，像第2章中讨论的那样。这是因为无线网络本身让攻击者容易拦截WAP和连接到无线网络的设备之间的通信。
- en: Other popular attacks include wireless sniffing and DoS. Wireless sniffing is
    largely mitigated through the use of strong encryption, but if you’re using a
    weak algorithm like WEP, it’s still a viable attack. DoS attacks are also effective
    because it’s relatively easy to cause interference with wireless signals, sometimes
    even unintentionally.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 其他常见的攻击包括无线嗅探和拒绝服务（DoS）攻击。无线嗅探大部分可以通过使用强加密来缓解，但如果你使用像WEP这样的弱加密算法，它仍然是一个可行的攻击方式。拒绝服务（DoS）攻击也非常有效，因为通过干扰无线信号相对容易，有时甚至是无意的。
- en: Let’s walk through some specific examples of attacks that adversaries use against
    wireless networks so you’ll know how a black hat might accomplish them.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一些具体的攻击示例来了解攻击者如何针对无线网络进行攻击，这样你就能了解黑帽攻击者是如何实现这些攻击的。
- en: Rogue Access Points
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 恶意接入点
- en: One way for an adversary to create a man-in-the-middle situation is to imitate
    an access point and trick an unsuspecting person into connecting to it. This is
    known as a *rogue access point*, which allows the adversary to see any traffic
    that is sent by the victim to the fake access point. This attack is particularly
    easy to achieve with a wireless network because it doesn’t require expensive equipment.
    In fact, it can usually be accomplished with open source software and a computer’s
    wireless card.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击者制造中间人攻击的一种方式是模仿一个接入点，并诱使毫无防备的人连接到它。这种方式被称为*恶意接入点*，它允许攻击者看到任何受害者发送到假接入点的流量。由于无线网络不需要昂贵的设备，这种攻击特别容易实现。实际上，通常只需通过开源软件和计算机的无线网卡就可以完成。
- en: Once the attacker turns their system into a rogue access point, anyone who connects
    to it will send their traffic to it as if it were a legitimate device. Even worse,
    the adversary will often create a bridge to a real WAP, passing the traffic to
    the internet and making it difficult for the victim to know that something is
    wrong, because they can still visit websites without any problems.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦攻击者将其系统转变为恶意接入点，任何连接到它的人都会像连接到合法设备一样将流量发送给它。更糟糕的是，攻击者通常会创建一个与真实WAP的桥接，将流量传送到互联网，这使得受害者难以察觉问题，因为他们仍然能够顺利浏览网站。
- en: Another form of man-in-the-middle attack is called the *Evil Twin* attack. In
    this variation, an attacker copies the name of a legitimate wireless network to
    trick people into connecting to it. To do this, the adversary first finds the
    names of legitimate networks in the area by *wardriving*, which is a technique
    they use to set their wireless card to pick up all signals, even hidden ones.
    This gives them information about where wireless networks are located. Once they
    have a target, the attacker turns their device into a rogue access point with
    the same SSID as their target. Then they wait for someone to connect to it, thinking
    it’s a legitimate access point. [Figure 8-3](#figure8-3) shows an example of this
    man-in-the-middle attack.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种中间人攻击的形式叫做*恶意双胞胎*攻击。在这种变种中，攻击者复制一个合法无线网络的名称，诱使人们连接到它。为此，攻击者首先通过*漫游驾驶*（wardriving）技术，找到周围合法网络的名称，这是一种让他们的无线网卡接收到所有信号（即使是隐藏信号）的方法。这样，攻击者可以获得关于无线网络位置的信息。一旦确定了目标，攻击者就会将其设备转变为一个具有与目标相同SSID的恶意接入点。然后，他们等待某人连接到这个接入点，以为它是一个合法的接入点。[图
    8-3](#figure8-3)展示了这种中间人攻击的示例。
- en: '![f08003](image_fi/501287c08/f08003.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![f08003](image_fi/501287c08/f08003.png)'
- en: 'Figure 8-3: An example of an Evil Twin attack'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-3：恶意双胞胎攻击示例
- en: It’s fairly easy to trick users into thinking the fake access point is authentic.
    Because many places offer guest Wi-Fi, a black hat only has to make their network
    look like one of the guest networks to get people to join. This is especially
    easy in crowded places where many guest network options are available, such as
    an airport. Combine these networks with the networks that stores located throughout
    the terminals might offer, and users have numerous options. Effortlessly, an adversary
    can hide in plain sight (which is why you should never, and I really mean *never*,
    use a public wireless network in an airport).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 欺骗用户认为虚假的接入点是可信的其实相当容易。因为许多地方提供客用Wi-Fi，黑客只需将他们的网络伪装成某个客用网络，便能让人们连接上。特别是在一些人流密集的地方，比如机场，那里提供了很多客用网络选择。再加上各个终端的商店可能提供的网络，用户有很多选择。如此，攻击者便可以轻松地隐匿在众目睽睽之下（这也是为什么你绝对不应该使用机场的公共无线网络，我真的意思是*绝对不要*）。
- en: The worst part of an Evil Twin attack is that many devices save a network’s
    information so they can connect to it later. These devices might automatically
    connect to the Evil Twin when they pick up an SSID they remember. Essentially,
    when you tell your device to remember a network, it will regularly send out association
    frames looking for that SSID. When it hears an answer, it will connect to that
    WAP regardless of whether or not it’s the legitimate one. So it’s imperative to
    check which wireless network your computer is connected to and ensure it’s on
    the correct one.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 恶意双胞胎攻击最糟糕的部分在于，许多设备会保存网络信息，以便以后连接。当它们接收到一个记得的SSID时，可能会自动连接到恶意双胞胎。实际上，当你告诉设备记住一个网络时，它会定期发送关联帧来寻找该SSID。一旦它收到回应，它会连接到那个WAP，无论它是否是真正的接入点。因此，检查你电脑连接的无线网络并确保它连接到正确的网络是非常重要的。
- en: Disassociation Attacks
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 分离攻击
- en: As mentioned earlier, connecting a device to a WAP is called association. To
    associate with a network, the device must send a request using a chunk of data
    called a *frame*. When the WAP receives this *association request frame*, it begins
    communicating with the device to establish a connection to the wireless network.
    This is also when authentication occurs, if required.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，将设备连接到WAP的过程叫做关联。为了与网络关联，设备必须通过一种叫做*帧*的数据块发送请求。当WAP收到这个*关联请求帧*时，它会开始与设备通信，以便建立与无线网络的连接。如果需要，还会进行身份验证。
- en: In a *disassociation attack*, a black hat reads a device’s MAC address from
    the network, copies it, and sends a *disassociation frame* to the WAP on its behalf.
    The disassociation frame does (you guessed it) the opposite of an association
    frame; it disconnects a device from the WAP. The device must then reassociate
    with the access point. The attacker can perform this attack repeatedly, effectively
    blocking communication between the victim and the WAP.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在*分离攻击*中，黑客从网络中读取设备的MAC地址，复制该地址，并代表设备向WAP发送*分离帧*。分离帧的作用（你猜对了）是与关联帧相反；它会将设备与WAP断开连接。设备必须重新与接入点关联。攻击者可以反复执行此攻击，实际上阻断了受害者与WAP之间的通信。
- en: A disassociation attack provides an adversary with a few benefits. First, it
    creates a DoS state for the victim. Second, it gives the adversary a chance to
    get the victim to connect to a rogue access point to accomplish a man-in-the-middle
    attack. Third, it can be used as a means to grab authentication material to crack
    the password or encryption key used to secure the network. Many of the attacks
    against wireless encryption start by sending a large amount of association or
    disassociation frames to record the encrypted material that is being sent between
    the device and the WAP. Once the attacker has enough of this encrypted material,
    they can more easily use their system to brute-force the encryption key the WAP
    uses. This is why weak keys, like those WEP uses, are such a problem; it takes
    less encrypted communication to break the key, which makes it relatively fast
    to do.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 分离攻击给攻击者带来几个好处。首先，它为受害者创造了一个DoS状态。其次，它给了攻击者一个机会，通过让受害者连接到一个恶意接入点，来实施中间人攻击。第三，它可以用来获取认证信息，从而破解用于保护网络的密码或加密密钥。许多针对无线加密的攻击开始时，会发送大量的关联帧或分离帧，以记录设备与WAP之间传输的加密数据。一旦攻击者收集到足够的加密数据，就可以更容易地通过系统进行暴力破解，找到WAP所使用的加密密钥。这也是为什么像WEP这样的弱密钥如此成问题的原因；破解这种密钥所需的加密通信较少，从而破解速度相对较快。
- en: Jamming
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 干扰
- en: Another way for an adversary to attack a wireless network is to cause interference,
    jamming the signal so legitimate users can’t connect to it. Wireless networks
    are especially susceptible to jamming because they rely so heavily on radio frequencies
    produced by many other devices, such as microwaves. So it’s easy to create extra
    noise for jamming because many of these devices, such as telephones and wireless
    keyboards, will already be close to the WAP. In fact, it’s easy for you to accidentally
    create a jamming condition. Placing devices next to powerful electronics, such
    as servers and large kitchen appliances, can slow down or even completely block
    out a wireless network.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击无线网络的另一种方式是造成干扰，干扰信号，使得合法用户无法连接到网络。无线网络特别容易受到干扰，因为它们严重依赖于许多其他设备产生的无线电频率，如微波炉。因此，制造额外的噪音进行干扰非常容易，因为许多设备，如电话和无线键盘，通常已经接近WAP。事实上，你甚至可能不小心制造出干扰条件。将设备放置在强电器旁边，如服务器和大型厨房电器，可能会减慢甚至完全阻断无线网络。
- en: This is especially true for 2.4 GHz networks, because many electronic devices
    produce that band of frequency. You can even jam a 2.4 GHz WAP by placing it too
    close to another WAP. The 2.4 GHz range is broken down into 12 channels. All but
    three of these channels overlap in some way, leaving 1, 6, and 11 as the only
    viable options. If two devices are on the same or overlapping channels, they’ll
    interfere with one another, preventing users from using the WAP effectively, if
    at all.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 这对于2.4 GHz网络尤为适用，因为许多电子设备会产生该频段的信号。你甚至可以通过将一个2.4 GHz的WAP放得太靠近另一个WAP来干扰信号。2.4
    GHz频段被分为12个频道，除了3个频道外，其他的频道在某种程度上都会发生重叠，因此1、6和11成为唯一可用的频道。如果两个设备处于相同或重叠的频道，它们将相互干扰，导致用户无法有效地使用WAP，甚至无法使用。
- en: Although 5 GHz networks do suffer from interference, that range has 23 nonoverlapping
    channels available, make it more resistant to ambient interference from other
    devices.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管5 GHz网络也会受到干扰，但该频段有23个非重叠的频道可用，使其更加抗干扰，不容易受到其他设备的影响。
- en: Setting Up a Wireless Network with Security in Mind
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 以安全为前提设置无线网络
- en: The best defense against an attack on your wireless network is to set up your
    WAP with security in mind. When you place your devices carefully, you can eliminate
    some of the opportunity a black hat might have to attack the wireless network
    in the first place. To do this properly, you’ll need a well-organized and effective
    plan. One way to do this is to create a *wireless network diagram*, which is a
    map of the area where you’ll locate your wireless network. Then add notes on where
    the WAP should go, how far the wireless network should extend, and what type of
    network you’re creating.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 防止无线网络遭受攻击的最佳防御方法是从一开始就考虑安全地设置WAP。当你小心地放置设备时，你可以消除黑帽攻击者首次攻击无线网络的机会。为了做到这一点，你需要一个有组织且有效的计划。一种方法是创建*无线网络图*，即你将布置无线网络的区域的地图。然后在地图上标注出WAP应放置的位置、无线网络应覆盖的范围以及你要创建的网络类型。
- en: For example, you might want to set up a wireless network that will work throughout
    an office building. By using a wireless diagram, you can get a general sense of
    how far each WAP will send its signal and how many WAPs you’ll need to cover the
    entire building. You’ll also be able to place the access points in such a way
    that the signal is reachable only when users are inside the building. This will
    make it more challenging for an adversary to attack the network; they’ll now have
    to bypass physical barriers, such as locked doors, to begin their wireless attack.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，你可能希望设置一个能够覆盖整座办公大楼的无线网络。通过使用无线网络图，你可以大致了解每个WAP的信号覆盖范围，以及需要多少个WAP才能覆盖整栋大楼。你还可以将接入点放置在特定的位置，使得信号仅在用户位于大楼内时可用。这将使得攻击者更加难以攻击网络；他们现在需要绕过物理障碍，例如上锁的门，才能发起无线攻击。
- en: Wireless diagrams are also ideal for ensuring that you’re not placing a WAP
    near devices that might cause interference. [Figure 8-4](#figure8-4) shows an
    example of a wireless network diagram.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络图也非常适合确保你不会将WAP放置在可能会导致干扰的设备附近。[图8-4](#figure8-4)展示了一个无线网络图的示例。
- en: '![f08004](image_fi/501287c08/f08004.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![f08004](image_fi/501287c08/f08004.png)'
- en: 'Figure 8-4: An example of a network diagram'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图8-4：网络示例图
- en: Using a wireless network diagram, you can set up your WAPs and ensure they’re
    configured properly. Verify that they’re using WPA2 for encryption and either
    802.1X authentication or a strong passphrase. Also, make sure they’re segmented
    on their own subnetwork on your internal network. That way, any traffic traveling
    from the wireless subnetwork to the main internal network will have to pass through
    extra access controls before the traffic is allowed, similar to how DMZs work.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 使用无线网络图，您可以设置您的WAP，并确保它们配置正确。验证它们是否使用WPA2进行加密，并且使用802.1X认证或强密码。同时，确保它们在您的内部网络中是独立分段的子网络。这样，任何从无线子网络到主内部网络的流量都必须经过额外的访问控制，才能允许通过，这与DMZ的工作方式类似。
- en: After you’ve set up the network and verified the configuration, you need to
    routinely move around the area that the wireless network encompasses and wardrive
    for any rogue access points or Evil Twin attacks. This is called a *site survey*.
    By sniffing your own wireless network, you’ll not only be able to see whether
    any attackers are attempting to spoof it, but you’ll also be able to find any
    hidden SSIDs an adversary might be using to access your network. In one famous
    example, an attacker posing as a janitor was switching out keyboards with identical
    models that included a small wireless transmitter and keylogger malware. The black
    hat was able to steal the keylogging data using the wireless transmitter. Although
    this is an extreme case, it’s a perfect example of how an attacker might sneak
    a wireless device into your internal network to later use it for access.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在您设置好网络并验证配置之后，您需要定期在无线网络覆盖的区域内移动，并进行“路由驱动”以查找任何恶意接入点或Evil Twin攻击。这被称为*站点调查*。通过嗅探您自己的无线网络，您不仅能看到是否有攻击者试图伪造您的网络，还能发现对手可能用来访问您网络的隐藏SSID。在一个著名的例子中，一名伪装成清洁工的攻击者正在更换带有小型无线发射器和键盘记录木马的相同型号键盘。这名黑帽通过无线发射器窃取了键盘记录的数据。尽管这是一个极端的案例，但它是攻击者可能悄悄将无线设备带入您内部网络并随后用来进行访问的完美示例。
- en: The main detail to remember is that wireless networks might require even more
    security than wired networks because of how easy it is to pick up a wireless signal.
    That doesn’t mean you can’t use a wireless network; you just need to be smart
    doing so. Whenever possible, avoid sending sensitive data over a wireless network
    without encrypting it first. That way, even if the wireless network encryption
    is broken, your data will remain encrypted.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 需要记住的一个关键细节是，无线网络可能比有线网络需要更多的安全性，因为无线信号更容易被接收。这并不意味着您不能使用无线网络；您只需要在使用时更加谨慎。尽可能避免在无线网络上发送敏感数据而不先加密。这样，即使无线网络的加密被破解，您的数据仍然会保持加密状态。
- en: In general, you should also avoid using public wireless networks, such as those
    that coffee houses and airports offer. You have no idea who might be listening
    in, so it’s best to avoid them altogether. In addition, always make sure your
    wireless network is using at least WPA2 encryption or later. WPA and WEP are too
    easy to break to be trusted as security protocols. With these tips in mind, you
    can avoid black hat sniffers and enjoy the freedom of wireless access.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，您还应避免使用公共无线网络，如咖啡馆和机场提供的网络。您无法知道谁可能在监听，因此最好完全避免使用这些网络。此外，始终确保您的无线网络至少使用WPA2或更高版本的加密。WPA和WEP太容易被破解，不值得信赖作为安全协议。牢记这些提示，您可以避开黑帽嗅探器，享受无线访问的自由。
- en: 'Exercise: Secure Your WAP'
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 练习：保护您的WAP
- en: In this exercise, you’ll learn how to enable your WAP’s various security settings.
    Although certain configuration details vary based on the WAP model you own, for
    demonstration purposes, we’ll focus on how the features work rather than any particular
    model’s mechanisms. This approach should give you an idea of what keywords to
    look for in your WAP’s settings and how certain tools should work. Let’s start
    by setting up an access point.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，您将学习如何启用WAP的各种安全设置。虽然某些配置细节会根据您拥有的WAP型号有所不同，但为了演示，我们将重点介绍功能的工作原理，而不是某个特定型号的机制。这种方法应该能让您了解在WAP设置中要查找的关键字，以及某些工具的工作方式。我们从设置一个接入点开始。
- en: Setting Up Your Access Point
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设置您的接入点
- en: Many access points include a setup wizard that you can use when initially setting
    them up. To access this wizard, you must turn on the access point and wait for
    it to fully boot. You should then see lights on the WAP indicating the wireless
    connection is running.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 许多接入点在最初设置时都包括一个设置向导。要访问这个向导，你必须先打开接入点并等待它完全启动。然后，你应该会看到WAP上的指示灯，表明无线连接正在运行。
- en: Most wireless access points create a default wireless network when they’re first
    booted. Often, you’ll find the name of this wireless network on the back of the
    access point or in the device’s documentation. Once you find the network, you
    can connect to it, either as an open access point or by using the given credentials,
    which are usually printed on the device. If you don’t find a default network for
    the device, you might have to connect to it directly with an Ethernet cable.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数无线接入点在首次启动时会创建一个默认的无线网络。通常，你可以在接入点的背面或设备文档中找到该无线网络的名称。找到网络后，你可以连接到它，无论是作为开放的接入点，还是使用给定的凭证（通常印在设备上）。如果找不到设备的默认网络，你可能需要通过以太网线直接连接设备。
- en: Once you’re connected to the default wireless network or the device, you’ll
    need to access the setup wizard. This often requires knowing the default IP address
    assigned to the device upon starting. Again, you’ll usually find this number printed
    on the WAP or in its documentation. A common IP address used by default is 192.168.1.1,
    but there are definitely variations. After finding the IP address, enter it into
    your web browser and press ENTER. The browser should connect to the device and
    either bring up the wizard or the administrative menu to begin the setup process.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你连接到默认无线网络或设备，你需要访问设置向导。这通常需要知道设备启动时分配的默认IP地址。同样，你通常可以在WAP或其文档中找到这个地址。默认常见的IP地址是192.168.1.1，但也有不同的变种。找到IP地址后，输入到浏览器中并按下ENTER键，浏览器应该会连接到设备，展示向导界面或管理菜单以开始设置过程。
- en: For example, [Figure 8-5](#figure8-5) shows the home page for the wizard that
    an ASUS wireless router uses.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，[图 8-5](#figure8-5)展示了ASUS无线路由器使用的向导主页。
- en: '![f08005](image_fi/501287c08/f08005.png)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![f08005](image_fi/501287c08/f08005.png)'
- en: 'Figure 8-5: A wireless access point setup wizard'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-5：无线接入点设置向导
- en: The wizard should prompt you to enter a password. Ensure that you use a strong
    password for the administrator account, which allows you to log in and change
    the router’s settings. Many routers include a default password for the admin account,
    especially if they’re issued by an ISP. You should always change this default
    password to prevent others from using it to gain access to the settings. Even
    if the password is unique to that router, it’s still possible for a person to
    discover it, because they’re often printed on the router.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 向导应该会提示你输入密码。确保为管理员账户设置一个强密码，该账户允许你登录并更改路由器的设置。许多路由器提供管理员账户的默认密码，尤其是由ISP提供的路由器。你应该始终更改这个默认密码，以防他人利用该密码访问设置。即使密码是该路由器独有的，仍然有可能被他人发现，因为它们通常印在路由器上。
- en: Next, enter an SSID, or name, for your wireless network. Sometimes the router
    will use a default name when you first start it. But if you uniquely name it,
    it will be easy to recognize among a list of other names, especially if you live
    in an area with multiple networks, like an apartment complex. Naming your network
    is also a great way to give it some personality; for instance, my network name
    is Cat Party USA.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，输入一个SSID或无线网络名称。有时，路由器在第一次启动时会使用默认名称。但如果你为它取一个独特的名字，它将在其他名称列表中容易被识别，尤其是当你住在有多个网络的地方，比如公寓楼。为你的网络命名也是给它增添个性的好方法；例如，我的网络名称是Cat
    Party USA。
- en: Once you’ve set up the SSID, you can make sure the WAP’s security features are
    configured properly.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 设置完SSID后，你可以确保正确配置了WAP的安全功能。
- en: Setting Up Wireless Security
  id: totrans-89
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 设置无线安全性
- en: The first security setting you’ll want to check is the router’s wireless encryption
    standard. Many routers automatically use WPA2 and might even enable it during
    the initial setup of the device. However, it’s always best to check the standard
    used and that it’s set up correctly to ensure the best encryption available.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你要检查的第一个安全设置是路由器的无线加密标准。许多路由器会自动使用WPA2，并可能在设备的初始设置中启用它。然而，最好检查使用的标准，并确保它正确设置，以确保获得最佳的加密保护。
- en: To do this, you’ll need to find your router’s security settings. Often, they’ll
    be listed on the wireless network configuration menu or in a separate security
    configuration menu. [Figure 8-6](#figure8-6) shows an example of this menu for
    the ASUS router.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 要执行此操作，你需要找到路由器的安全设置。通常，它们会列在无线网络配置菜单或单独的安全配置菜单中。[图 8-6](#figure8-6)展示了 ASUS
    路由器的此菜单示例。
- en: '![f08006](image_fi/501287c08/f08006.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![f08006](image_fi/501287c08/f08006.png)'
- en: 'Figure 8-6: Wireless encryption options'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-6：无线加密选项
- en: You’ll be presented with several options, the best of which for home networks
    is usually WPA2-Personal. It allows you to set up a *pre-shared key*, which is
    essentially a password you’ll use to join the network. Remember to use strict
    password best practices, as discussed in Chapter 5. Because others will be able
    to access the login menu, make sure the password is strong enough to resist brute-force
    attacks or other password-cracking techniques.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 你将看到几种选项，通常对于家庭网络，最好的选项是 WPA2-个人。它允许你设置一个*预共享密钥*，这基本上是你用来加入网络的密码。记得遵循严格的密码最佳实践，如第
    5 章所讨论的那样。由于其他人也可以访问登录菜单，确保密码足够强大，以抵御暴力破解攻击或其他密码破解技术。
- en: You can also choose the encryption standard to use with your network. We’ll
    discuss encryption in more detail in the next chapter; for now, know that the
    best option to select is *AES*, which is currently the most effective standard
    and provides extremely strong encryption.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以选择与你的网络一起使用的加密标准。我们将在下一章中更详细地讨论加密；目前，最好的选择是*AES*，它是目前最有效的标准，提供极其强大的加密保护。
- en: Next, let’s look at a few other security features you need to configure. The
    first is *Wi-Fi* *Protected Setup* *(WPS**)*. This feature allows you to access
    a WAP without having to enter long passwords or do other complicated security
    setup. The idea is that to log in to the network, you use a PIN code or press
    a physical button located on the WAP. However, WPS is flawed, and it’s possible
    to brute-force the PIN code to gain access to the network. In general, it should
    be disabled. You can usually find the configuration settings for WPS in the wireless
    network settings. [Figure 8-7](#figure8-7) shows an example of what this setting
    might look like.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们来看一下其他一些需要配置的安全功能。第一个是*Wi-Fi* *保护设置*（*WPS*）。此功能允许你在不输入长密码或进行其他复杂安全设置的情况下访问
    WAP。其原理是，通过使用 PIN 码或按下位于 WAP 上的物理按钮来登录网络。然而，WPS 存在缺陷，可能通过暴力破解 PIN 码来访问网络。通常情况下，应该禁用此功能。你通常可以在无线网络设置中找到
    WPS 的配置选项。[图 8-7](#figure8-7)展示了此设置的示例。
- en: '![f08007](image_fi/501287c08/f08007.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![f08007](image_fi/501287c08/f08007.png)'
- en: 'Figure 8-7: The WPS setting'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-7：WPS 设置
- en: You should also look at your WAP’s remote access settings. It’s possible that
    someone can access your WAP’s administrative side from the internet without having
    to be on the network. This is dangerous, because it can lead to an adversary gaining
    access to the device without having to be physically near it. Check your settings
    to make sure nobody can access the WAP from the WAN (aka the internet). [Figure
    8-8](#figure8-8) shows an example of the remote access settings.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 你还应该检查 WAP 的远程访问设置。可能有人能够在没有连接到网络的情况下通过互联网访问 WAP 的管理界面。这很危险，因为这可能导致对手在不需要物理接近设备的情况下获得设备访问权限。检查你的设置，确保没有人能够从
    WAN（即互联网）访问 WAP。[图 8-8](#figure8-8)展示了远程访问设置的示例。
- en: '![f08008](image_fi/501287c08/f08008.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![f08008](image_fi/501287c08/f08008.png)'
- en: 'Figure 8-8: Remote access settings for an ASUS WAP'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-8：ASUS WAP 的远程访问设置
- en: Another remote setting to check is how the connection to the access point settings
    is secured. Avoid using Telnet or HTTP. Neither provide encryption, meaning it’s
    possible for an adversary to see what you’re doing whenever you modify the settings
    on the router. Instead, use SSH or HTTPS. SSH requires more setup, because you
    must create a special encryption key for your device; the easiest option is to
    use HTTPS. This will secure the connection to the WAP when you use your web browser
    to access the administrative settings.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要检查的远程设置是如何保护与接入点设置的连接。避免使用 Telnet 或 HTTP，因为它们都不提供加密，这意味着对手在你修改路由器设置时，可以看到你所做的操作。相反，使用
    SSH 或 HTTPS。SSH 需要更多的设置，因为你必须为设备创建一个特殊的加密密钥；最简单的选项是使用 HTTPS。这将确保当你使用 web 浏览器访问管理设置时，连接到
    WAP 是安全的。
- en: Enabling Filtering
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 启用过滤
- en: '*Filtering* allows you to selectively accept connections based on parameters
    of your choosing, and then block all other devices or traffic. Depending on your
    router model, you might have several options for filtering. Let’s look at some
    of the more common options available.'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '*过滤*允许你根据选择的参数有选择地接受连接，然后阻止所有其他设备或流量。根据你的路由器型号，你可能有几种过滤选项。让我们看看一些常见的选项。'
- en: One option, *port filtering*, allows you to filter traffic based on the port
    number associated with it. Using port filtering is a great way to limit which
    protocols your network allows. For example, you might block port 21 because it’s
    associated with FTP, which is an unencrypted way to move files over a network.
    You might also want to block port 23, which Telnet uses; it’s also an unsecure
    remote access protocol.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 一种选项，*端口过滤*，允许你根据与流量关联的端口号进行过滤。使用端口过滤是限制网络允许哪些协议的好方法。例如，你可能会阻止端口21，因为它与FTP相关，FTP是一种不加密的文件传输方式。你也可能想阻止端口23，它是Telnet使用的端口；Telnet也是一种不安全的远程访问协议。
- en: Regardless of what you want to block, be careful. As with all filtering, it’s
    possible that blocking a port will cause unintended consequences. For example,
    you could accidentally block an application that you’re using. [Figure 8-9](#figure8-9)
    shows an example of port filtering settings. In this example, the WAP allows you
    to set certain times at which to block ports and displays whether you’re specifying
    a whitelist or blacklist.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你想阻止什么，都要小心。与所有过滤一样，阻止一个端口可能会导致意想不到的后果。例如，你可能会不小心阻止一个正在使用的应用程序。[图8-9](#figure8-9)展示了端口过滤设置的示例。在这个示例中，WAP允许你设置在某些时间段阻止端口，并显示你是在指定白名单还是黑名单。
- en: '![f08009](image_fi/501287c08/f08009.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![f08009](image_fi/501287c08/f08009.png)'
- en: 'Figure 8-9: Port filtering settings for an ASUS router'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 图8-9：ASUS路由器的端口过滤设置
- en: Another form of filtering, *URL filtering*, allows you to block certain URLs,
    or even phrases used in the URLs, from being resolved by the WAP. Basically, when
    someone tries to access one of these URLs through the WAP, the WAP will recognize
    the website address and block it. This is a great way to create parental controls
    or limit unwanted content from being accessible on your wireless network. However,
    URL filtering requires that you be very specific, and it can often filter legitimate
    websites by accident. As with port filtering, it’s best to test it to make sure
    it’s working properly.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种过滤方式，*URL过滤*，允许你阻止某些URL，甚至是URL中使用的短语，让它们不能被WAP解析。基本上，当有人试图通过WAP访问这些URL时，WAP会识别网站地址并阻止它。这是创建家长控制或限制无线网络上不良内容访问的好方法。然而，URL过滤要求你非常具体，它有时会错误地过滤合法网站。与端口过滤一样，最好进行测试，以确保其正常工作。
- en: Another common filtering option for WAPs is *MAC address filtering*. As discussed
    in Chapter 6, switches use MAC addresses to determine where they should send traffic
    on a LAN. MAC filtering lets you filter access to the wireless network by device,
    using either a blacklist or a whitelist. Typically, a whitelist is most effective,
    because you’re more likely to know the MAC addresses of the devices you *want*
    on the network than those of the devices you *don’t* want. If a device tries to
    connect to the wireless network without being on the whitelist, the WAP will reject
    it.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种常见的WAP过滤选项是*MAC地址过滤*。如第6章所述，交换机使用MAC地址来决定应该将流量发送到LAN的哪个位置。MAC过滤允许你通过设备来过滤对无线网络的访问，可以使用黑名单或白名单。通常，白名单更为有效，因为你更可能知道你*想要*接入网络的设备的MAC地址，而不是那些你*不想*接入的设备的MAC地址。如果一个设备尝试连接到无线网络但不在白名单上，WAP会拒绝它的连接。
- en: 'Although MAC filtering is an excellent way to limit who can access a network,
    it’s not the best at stopping black hats. Because MAC addresses are sent unencrypted,
    an attacker can easily sniff wireless networks and collect the MAC address of
    a device that is allowed on the network. Once they have an address on the whitelist,
    they can easily spoof it to gain access. Typically, it doesn’t matter to MAC filters
    if two devices have the same MAC address as long as that MAC address is on the
    list. This is a good example of why it’s important to layer your network’s protections:
    although MAC filtering might not be effective on its own, it adds to a device’s
    overall security.'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管 MAC 过滤是限制谁可以访问网络的一个优秀方法，但它并不是阻止黑客的最佳方式。因为 MAC 地址是以未加密的形式发送的，攻击者可以轻松嗅探无线网络并收集允许连接的设备的
    MAC 地址。一旦他们获得了白名单上的地址，他们就能轻松伪造地址以获得访问权限。通常来说，只要 MAC 地址在列表中，MAC 过滤器不会在意两个设备是否有相同的
    MAC 地址。这正是为什么给网络增加多层保护很重要的一个例子：尽管 MAC 过滤可能单独不够有效，但它能增强设备的整体安全性。
- en: '[Figure 8-10](#figure8-10) shows an example of MAC filtering settings.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[图 8-10](#figure8-10)展示了一个 MAC 过滤设置的示例。'
- en: '![f08010](image_fi/501287c08/f08010.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![f08010](image_fi/501287c08/f08010.png)'
- en: 'Figure 8-10: MAC filtering settings on an ASUS router'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-10：ASUS 路由器上的 MAC 过滤设置
- en: With these settings in place, your WAP will be secure and guard against attackers
    and unwanted actions by legitimate users. Although configuring all these setting
    might seem like a lot of work, it’s always better to be safe than sorry. You don’t
    have to use every feature mentioned to secure your network, but the more layers
    of security you have in place, the less likely it is that a malicious attack will
    occur.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 设置好这些配置后，你的 WAP 将会是安全的，并能够防止攻击者以及合法用户的不当行为。尽管配置这些设置可能看起来需要很多工作，但安全总比后悔好。你不必使用每一个提到的功能来保护你的网络，但安全层次越多，恶意攻击发生的可能性就越小。
- en: Conclusion
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论
- en: Wireless networks present a unique security challenge. Although convenient,
    a network’s capability to span a large area makes it easy for attackers to access.
    It’s also possible for an attacker to trick people into using a wireless network
    that they control. This is why it’s important to use only wireless networks you
    trust and avoid using public wireless networks. For your own wireless networks,
    using encryption (such as WPA2) and authentication (like 802.1X) can help prevent
    attackers from compromising them, allowing you to use the internet with more confidence
    in your network’s security.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 无线网络带来了独特的安全挑战。虽然方便，但网络覆盖广泛的能力使其容易被攻击者接入。攻击者还可能诱使用户连接到他们控制的无线网络。这就是为什么只使用你信任的无线网络，并避免使用公共无线网络非常重要。对于你自己的无线网络，使用加密（如
    WPA2）和认证（如 802.1X）可以帮助防止攻击者破坏网络，让你在使用互联网时对网络的安全性更有信心。
