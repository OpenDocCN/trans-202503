<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en">
	<head>
		<title>Chapter 10: Technical Design Process</title>
		<link href="NSTemplate_v1.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:7db14923-61d0-434f-baa0-3e20bf74259e" name="Adept.expected.resource"/>
	</head>
	<body epub:type="bodymatter chapter">
		<section>
			<header>
				<h1 class="chapter"><span class="ChapterNumber"><span epub:type="pagebreak" id="Page_171" title="171"/>10</span><br/><span class="ChapterTitle">Technical Design Process</span></h1>
			</header>
			<p class="BodyFirst"><span class="DropCap">W</span>hen asked to make a change, most entry-level engineers jump straight into coding. Diving into code works at first, but you’ll eventually be given a task that’s too big to jump into; you’ll need to think about technical design.</p>
			<p>
				The <em>technical design process</em> helps everyone agree on a design for a large change. Design work is broken into two activities: solitary deep-thought work and collaborative group discussion. Researching, brainstorming, and writing make up the deep work. Design discussions and commenting on design documents make up the collaborative part. The tangible output of the process is a design document.</p>
			<p>
				This chapter describes an expansive version of the design process, suitable for large changes. The process can look slow and intimidating. Some engineers are traumatized by heavyweight design processes gone awry. It’s okay to scale things down for smaller changes. The problem you’re solving might be captured in three sentences, not a paragraphs-long essay. Design template sections might be irrelevant, multiple rounds of <span epub:type="pagebreak" id="Page_172" title="172"/>feedback might be unnecessary, and a review from other teams might not be needed. You will develop a feel for the right amount of input and collaboration for a problem. In the beginning, err on the side of caution: ask your tech lead or manager for guidance, and share your design widely. Done correctly, participating in and leading technical design work is rewarding and valuable.</p>
			<h2 id="h1-501836c10-0001">The Technical Design Process Cone</h2>
			<p class="BodyFirst">Designing software is not a linear process from research and brainstorming to documentation and approval. It is more like a spiral that alternates between independent and collaborative work, clarifying and refining the design at every step (see <a href="#figure10-1" id="figureanchor10-1">Figure 10-1</a>).</p>
			<figure>
				<img alt="f10001" src="image_fi/501836c10/f10001.png"/>
				<figcaption>
					<p><a id="figure10-1">Figure 10-1</a>: The design process spiral</p>
				</figcaption>
			</figure>
			<p><span epub:type="pagebreak" id="Page_173" title="173"/>With every iteration, the design document becomes clearer and more detailed. The author’s confidence in the solution grows, as does the body of work behind the design—experiments, proofs of concept, and benchmarks. The number and variety of people consulted about the design also grows over time.</p>
			<p>You begin at the base of the cone. You are unclear about the problem space, requirements, and possible solutions. So early in the process, it is impossible for you to have a solution that you’re confident in.</p>
			<p>As you research, you bounce back and forth between independent work and discussion with a small group of teammates or experts in the domain you’re researching. You brainstorm and experiment. The goal is to learn—to increase certainty and clarity.</p>
			<p>Eventually, your research, experimentation, and brainstorming leads you to a preferred design. After sanity-checking it with those you’ve been working with, you write a design document. As you write, you discover more unknowns. You create a few small prototypes to validate your designs, answer questions, and help choose between viable alternative approaches. You conduct more research and ask experts for their input. You flesh out a draft of the design document.</p>
			<p>The arrow in the cone spirals further upward. You are now more certain that you understand the problem space. Your prototypes provide increasing confidence in your solution. You have a design proposal and are ready to circulate it. You share it with your team and get still more feedback. You research, discuss, and update your design document.</p>
			<p>You’re at the highest level of the cone now. Significant work has been invested in your design, and you are confident in your approach. You circulate the design across your organization. Security, operations, adjacent teams, and architects all need to be made aware of the changes you’re committing to, not just to give feedback but to update their mental model of how the system works.</p>
			<p>
				After your design is approved, implementation begins, but design isn’t over. Implementation will surface more surprises. You must update <span epub:type="pagebreak" id="Page_174" title="174"/>your design document if any large deviations are made as you and your team code.</p>
			<h2 id="h1-501836c10-0002">Thinking About Design</h2>
			<p class="BodyFirst">The base of the design funnel begins with exploration. You need to understand the problem space and requirements before you can develop a design. Exploration requires thinking, research, experimentation, and discussion. As the funnel suggests, exploration is both an individual and a team sport.</p>
			<h3 id="h2-501836c10-0001">Define the Problem</h3>
			<p class="BodyFirst">Your first task is to define and understand the problem (or problems) that you’re trying to solve. You need to understand the boundaries of the problem to know how to solve it and to avoid building the wrong thing. You might even discover there is no problem or that the problem isn’t worth solving.</p>
			<p>Start by asking stakeholders what they perceive the problem to be. These stakeholders may be your manager, teammates, product managers, or tech leads. Not everyone will perceive the problem the same way.</p>
			<p>Restate the problem, in your own words, back to the stakeholders. Ask if your understanding matches theirs. If there is more than one problem, ask which problems are the highest priority.</p>
			<p>“What happens if we don’t solve this problem?” is a powerful question. When the stakeholder answers, ask if the outcome is acceptable. You’ll find many problems don’t actually need to be solved.</p>
			<p>
				Once you’ve collected notes on the problem from various stakeholders, try to synthesize the feedback into a clear problem statement. Don’t take problem descriptions at face value. Think critically about what you’ve been told. Pay particular attention to the scope of the problem—what’s included and what could be included but isn’t. Don’t take the union of all problems from all stakeholders; this will get unwieldy. Don’t <span epub:type="pagebreak" id="Page_175" title="175"/>be afraid to trim low-priority changes. Write and circulate the problem statement—both what’s in and out of scope—to validate your understanding and get feedback.</p>
			<p>The initial feature request might look like this:</p>
			<blockquote class="review trade">
				<p class="Blockquote">Supply managers want to see catalog and page numbers for each item listed on the inventory page. Showing catalog information will make it easier to reorder items when supplies run low. We can use contract labor to scan all catalogs, and we can use an ML model to map scanned images to item descriptions in the database.</p>
			</blockquote>
			<p>This request will trigger a lot of questions to the product manager:</p>
			<ul>
				<li>How do supply managers place orders now?</li>
				<li>Can an item show up in multiple catalogs?</li>
				<li>How are the users addressing their need without this feature?</li>
				<li>What are the pain points of the current solution?</li>
				<li>Which of these pain points has the biggest impact on the business?</li>
			</ul>
			<p>Answers to these questions might lead to a revised problem statement:</p>
			<blockquote class="blockquote trade">
				<p class="Blockquote">Supply room managers need an easy way to reorder items when supplies run low. Currently, they maintain a mapping of the stock entry identifiers we generate to the vendor’s name and SKU in Excel spreadsheets and cross-reference them. Going from our software to Excel for lookups to ordering from a vendor is both slow and error prone.</p>
				<p class="Blockquote">There can be multiple vendors for a single SKU. Supply room managers prefer to have access to all of them so they can minimize cost. They currently track a single vendor per item due to spreadsheet limitations.</p>
				<p class="Blockquote">The supply room managers rank their priorities in the following order: data accuracy, time to place an order, and order cost minimization.</p>
				<p class="Blockquote"><span epub:type="pagebreak" id="Page_176" title="176"/>Several vendors offer online catalogs, and about half offer online purchasing.</p>
			</blockquote>
			<p>The refined problem description will lead to a very different solution than the original. The engineer is focusing on the problem and enumerating priorities. Proposed solutions like the contract work and machine learning model have been discarded. Information about online vendor catalogs has also been included to inform potential solutions.</p>
			<h3 id="h2-501836c10-0002">Do Your Research</h3>
			<p class="BodyFirst">Don’t go straight from problem definition to “final” design. Consider relevant research, alternative solutions, and trade-offs. The design you come up with should be not your first idea but your best.</p>
			<p>There is a plethora of resources online. Look at how others solved similar problems. Many companies run engineering blogs that describe how they solve problems and implement their features. While company blogs are partially a marketing exercise and often describe simplified architectures that elide the tricky bits, blog posts are still a reasonable way to get a general sense for what others are doing. Contacting the authors through social networks or email may supply details that didn’t make it into the blog post.</p>
			<p>Industry conferences are another resource to check. Slide decks or recordings are usually posted online. And don’t forget about academic research and white papers; use the references section at the end of a paper to find yet more reading material.</p>
			<p>Talk to experts in the problem space that you’re exploring. Ask experts in your company for input, but don’t limit yourself to your coworkers. You’ll find that many blog and paper authors and presenters are eager to talk about their work. Just be careful not to divulge proprietary company information when talking to outsiders.</p>
			<p>
				Finally, think critically. Not everything you read online is a good idea. A particularly common misstep is to take a solution for a problem that is <span epub:type="pagebreak" id="Page_177" title="177"/>similar but not identical to yours and to copy it wholesale. Your problems aren’t Google’s (possibly even if you work for Google) even though they look similar.</p>
			<h3 id="h2-501836c10-0003">Conduct Experiments</h3>
			<p class="BodyFirst">Experiment with your ideas by writing draft code and running tests. Write draft APIs and partial implementations. Run performance tests or even A/B user tests to learn how systems and users behave.</p>
			<p>Experiments will give you confidence in your ideas, expose design trade-offs, and clarify the problem space. You’ll also get a feel for how your code will be used. Circulate your prototypes with your team to get feedback.</p>
			<p>Don’t get attached to your experimental code. Proof-of-concept code is meant to illustrate an idea and be thrown away or rewritten. Focus your efforts on illustrating or testing your idea. Don’t write tests or spend time polishing code. You’re trying to learn as much as you can as quickly as possible.</p>
			<h3 id="h2-501836c10-0004">Give It Time</h3>
			<p class="BodyFirst">Good design takes creativity. Don’t expect to sit down and bang out a design in one shot. Give yourself large chunks of time, take breaks, change your scenery, and be patient.</p>
			<p>
				Design requires deep thought. You can’t do design in 15-minute increments; give yourself several hours to focus. Paul Graham wrote an essay entitled “Manager’s Schedule, Maker’s Schedule” (<a class="LinkURL" href="http://www.paulgraham.com/makersschedule.html">http://www.paulgraham.com/makersschedule.html</a>). The post describes how valuable uninterrupted time is to “makers”—that’s you. Figure out when you are most able to sustain deep concentration and block off the time on your calendar. Chris prefers quiet after-lunch design sessions, while Dmitriy feels most productive in the early morning. Find the time that works for you and protect it.</p>
			<p>
				Interruptions are a deep-work killer. Avoid all means of communication: close chat, turn off email, disable phone notifications, and maybe sit <span epub:type="pagebreak" id="Page_178" title="178"/>in a different spot. Make sure you have the tools you need—whiteboard, notebook, papers—if you switch locations.</p>
			<p>You’re not going to be “designing” the entire time you’ve blocked time off. Your brain needs time to relax. Take breaks, and give yourself room to breathe. Allow your mind to relax and wander. Go for a walk, make some tea, read, write, and draw diagrams.</p>
			<p>Design is a 24-hour-a-day gig, so be patient. Your brain is always mulling ideas. Thoughts will come to you randomly throughout the day (and even while you sleep).</p>
			<p>
				A relaxed approach to design doesn’t mean you can take forever. You have delivery dates to meet. Design spikes are a good way to manage the tension between creative work and predictable delivery. A <em>spike</em> is an Extreme Programming (XP) term for a time-bounded investigation. Allocating a spike task in a sprint will give you space to do deep thought without having other tasks to worry about.</p>
			<h2 id="h1-501836c10-0003">Writing Design Documents</h2>
			<p class="BodyFirst">Design documents are a scalable way to clearly communicate your ideas. The process of writing structures your thinking and highlights areas of weakness. Documenting your ideas does not always come naturally. To create useful design documents, focus on the most consequential changes, keep the goal and the audience in mind, practice writing, and keep your documents up-to-date.</p>
			<h3 id="h2-501836c10-0005">Document Consequential Changes</h3>
			<p class="BodyFirst">Not every change requires a design document, much less a formal design review process. Your organization may have its own guidelines for this; absent those, use these three criteria to decide if a design document is required:</p>
			<ul>
				<li>The project will require at least a month of engineering work.</li>
				<li><span epub:type="pagebreak" id="Page_179" title="179"/>The change will have long-lasting implications with regard to extending and maintaining the software.</li>
				<li>The change will significantly impact other teams.</li>
			</ul>
			<p>The first case is self-evident: if the project will take a while to implement, it’s a good idea to spend some up-front time on writing down the design to ensure you’re not heading down the wrong path.</p>
			<p>The second case needs a little more explanation. Some changes are quick to introduce but come with long-term ramifications. This might be introducing a new piece of infrastructure—a caching layer, a network proxy, or a storage system. It might be a new public API or security measure. While there may be a fast way to add them to solve some immediate problem, such changes tend to have long-term costs that may not be obvious. Going through the process of writing the design document and getting it reviewed will give concerns a chance to surface and get addressed. A review will also ensure the whole team understands what is being added and why, which will help avoid surprises down the line.</p>
			<p>Changes that significantly impact many teams also need a design document. Teams need to know what you’re doing so they can provide feedback and so they can accommodate your changes. Changes that have broad reach often require code reviews or refactoring, and other designs might be impacted. Your design document notifies teams of your forthcoming changes.</p>
			<h3 id="h2-501836c10-0006">Know Why You’re Writing</h3>
			<p class="BodyFirst">Superficially, design documents tell others how a software component works. But a design document’s function exceeds simple documentation. A design document is a tool to help you think, to get feedback, to keep your team informed, to ramp up new engineers, and to drive project planning.</p>
			<p>
				Writing has a way of exposing what you don’t know (trust us on this one). Pushing yourself to write down your design forces you to explore the <span epub:type="pagebreak" id="Page_180" title="180"/>problem space and crystallize your ideas. You’ll have to confront alternative approaches and gaps in understanding. It’s a turbulent process, but you’ll have a better understanding of your design and its trade-offs for having gone through it. The clarity of thought you’ll get from writing down your design will make design discussions more productive as well.</p>
			<p>It's easier to solicit feedback on a written design. Written documents can be widely circulated, and others can read and respond on their own time. Even when feedback is minimal, circulating a design document keeps the team informed.</p>
			<p>Spreading design knowledge will help others maintain an accurate mental model of how the system works. The team will make better design and implementation decisions later. On-call engineers will correctly understand how the system is behaving. Engineers can also use design documents to learn from their teammates.</p>
			<p>Design documents are particularly helpful for engineers new to the team. Without design documents, engineers find themselves crawling through code, creating box diagrams, and teasing knowledge out of senior engineers to understand what’s going on. Reading a trove of design documents is far more efficient.</p>
			<p>Finally, managers and tech leads use design documents for project planning. Many design documents include milestones or implementation steps needed to complete the project. Having a concrete design written down makes it easier to coordinate with other teams if a project is cross-functional.</p>
			<h3 id="h2-501836c10-0007">Learn to Write</h3>
			<p class="BodyFirst">Engineers who feel they aren’t good writers can be intimidated by the prospect of writing; don’t be. Writing is a skill, and like any other skill, it is developed through practice. Take advantage of opportunities to write—design documents, emails, code review comments—and try hard to write clearly.</p>
			<p><span epub:type="pagebreak" id="Page_181" title="181"/>Writing clearly will make your life much easier. Writing is a lossy method of information transfer: you’re taking your ideas and writing them down, and your teammates are reconstituting your ideas imperfectly in their minds. Good writing improves the fidelity of this transfer. Good writing is also a career builder. A well-written document is easily circulated to large groups, including executives, and strong writers do not go unnoticed.</p>
			<p>Reread what you’ve written from the perspective of the target audience: it doesn’t matter if you understand it; what matters is if they understand it. Be concise. To help get a reader’s perspective, read what others have written. Think about how you would edit their writing: what’s extra, what’s missing. Seek out good document writers in your company and ask for feedback on what you’ve written. See “Level Up” for more writing resources.</p>
			<p>Developers who aren’t native language speakers sometimes feel intimidated by written communication. Software engineering is a global trade. It’s rare that everyone on a team will be speaking their native tongue. Don’t let language barriers discourage you from writing design documents. Don’t worry about having perfect grammar; what matters is expressing your thoughts clearly.</p>
			<h3 id="h2-501836c10-0008">Keep Design Documents Up-to-Date</h3>
			<p class="BodyFirst">We’ve been talking about design documents as a tool to propose and finalize a design before it’s implemented. Once you begin implementation, design documents morph from proposals into documents that describe how software is implemented: they are <em>living documents</em>.</p>
			<p>
				Two common pitfalls occur during the transition from proposal to documentation. The first pitfall is that the proposal document is abandoned and never updated again. Implementations diverge, and the document is misleading to future users. The second pitfall is that the document is updated, and the history of the proposal is lost. Future developers can’t <span epub:type="pagebreak" id="Page_182" title="182"/>see discussions that led to design decisions and might repeat mistakes of the past.</p>
			<p>Keep your documents up-to-date as you go. If your design proposals and design documents are two separate things (like Python PEPs versus Python documentation), you’ll need to keep the documentation up-to-date with implemented proposals. Make sure others keep documents updated as you conduct code reviews.</p>
			<p>Version control your design documents. A good trick is to keep design documents version controlled in the same repository as code. Code reviews can then be used as a review for design comments. The documents can also be updated as code evolves. Not everyone likes to review design documents in Markdown or AsciiDoc, though; if you prefer a wiki, Google Docs, or Word, keep the entire history of the document available, including discussions.</p>
			<h2 id="h1-501836c10-0004">Using a Design Document Template</h2>
			<p class="BodyFirst">A design document should describe the current code design, the motivation for a change, potential solutions, and a proposed solution. The document should include details about the proposed solution: architectural diagrams, important algorithmic details, public APIs, schemas, trade-offs with alternatives, assumptions, and dependencies.</p>
			<p>There isn’t a one-size-fits-all template for design documents, but open source design documents are a way to see how major changes get documented. We’ve included links to Python Enhancement Proposals, Kafka Improvement Proposals, and Rust Request for Comments (RFCs) in the “Level Up” section at the end of this chapter. Use your team’s template if they have one; if not, try this structure, which we’ll describe in detail:</p>
			<ul>
				<li>Introduction</li>
				<li>Current State and Context</li>
				<li><span epub:type="pagebreak" id="Page_183" title="183"/>Motivation for Change</li>
				<li>Requirements</li>
				<li>Potential Solutions</li>
				<li>Proposed Solution</li>
				<li>
					Design and Architecture
					<ul>
						<li>System Diagram</li>
						<li>UI/UX Changes</li>
						<li>Code Changes</li>
						<li>API Changes</li>
						<li>Persistence Layer Changes</li>
					</ul></li>
				<li>Test Plan</li>
				<li>Rollout Plan</li>
				<li>Unresolved Questions</li>
				<li>Appendix</li>
			</ul>
			<h3 id="h2-501836c10-0009">Introduction</h3>
			<p class="BodyFirst">Introduce the problem being solved and say why it is worth solving. Provide a paragraph-long summary of the proposed change and some guidance that points different readers—security engineers, operations engineers, data scientists—to relevant sections.</p>
			<h3 id="h2-501836c10-0010">Current State and Context</h3>
			<p class="BodyFirst">Describe the architecture that is being modified and define terminology. Explain what systems with nonobvious names do: “Feedler is our user sign-up system. It’s built on top of Rouft, infrastructure that provides stateful workflow processing.” Talk about the ways in which the issue is currently being addressed. Are there workarounds being employed? What are their drawbacks?</p>
			<h3 id="h2-501836c10-0011"><span epub:type="pagebreak" id="Page_184" title="184"/>Motivation for Change</h3>
			<p class="BodyFirst">Software teams tend to have more projects than they can tackle at once. Why is this particular problem worth solving, and why now? Describe the benefits that will result from this effort. Tie these benefits to business needs: “We can reduce the memory footprint by 50 percent” is not as strong as “By reducing the memory needs by 50 percent, we can address the most common objection to installing our software, leading to greater adoption.” But be careful not to overpromise!</p>
			<h3 id="h2-501836c10-0012">Requirements</h3>
			<p class="BodyFirst">List requirements that an acceptable solution must meet. These can be broken out into sections such as the following:</p>
			<ul>
				<li><b>User-facing requirements:</b> These are usually the bulk of the requirements. They define the nature of the change from a user perspective.</li>
				<li><b>Technical requirements:</b> These include hard requirements on the solution that must be met. Technical requirements are usually caused by interoperability concerns or strict internal guidelines, such as “Must support MySQL for the storage layer” or “Must provide an OpenAPI spec to work with our application gateway.” Service level objectives can also be defined here.</li>
				<li><b>Security and compliance requirements:</b> Though these might be seen as user-facing or technical requirements, they are often broken out separately to ensure that security needs are explicitly discussed. Data retention and access policies are often covered here.</li>
				<li><b>Other:</b> This can include critical deadlines, budgets, and other important considerations.</li>
			</ul>
			<h3 id="h2-501836c10-0013">Potential Solutions</h3>
			<p class="BodyFirst">There are usually multiple ways one can solve a problem. Writing this section is as much a tool for you as the reader; it’s meant to force you <span epub:type="pagebreak" id="Page_185" title="185"/>to think through not just your first idea but alternative ideas and their trade-offs. Describe reasonable alternative approaches and why you dismissed them. Describing potential solutions will preemptively address “Why not do X?” comments. And if you’ve dismissed a solution for the wrong reasons, commenters have a chance to catch a misunderstanding. Readers might even identify alternatives you hadn’t considered.</p>
			<h3 id="h2-501836c10-0014">Proposed Solution</h3>
			<p class="BodyFirst">Describe the solution you settled on. This description goes into more detail than the very brief description in the introduction and may contain diagrams that highlight changes. Here and in the following sections, if your proposal includes multiple phases, explain how the solution evolves from phase to phase.</p>
			<h3 id="h2-501836c10-0015">Design and Architecture</h3>
			<p class="BodyFirst">Design and architecture normally make up the bulk of the document. All the technical minutiae worth discussing go here. Highlight implementation details of interest, such as key libraries and frameworks being leveraged, implementation patterns, and any departures from common company practices. Design and architecture should include block diagrams of components, call and data flow, UI, code, API, and schema mock-ups.</p>
			<h4 id="h3-501836c10-0001">System Diagram</h4>
			<p class="BodyFirst">Include a diagram that shows the main components and how they interact. Explain what is changing by highlighting new and changed components or creating before and after diagrams. The diagram should be accompanied by prose that walks the reader through the changes.</p>
			<h4 id="h3-501836c10-0002">UI/UX Changes</h4>
			<p class="BodyFirst">Create mock-ups if your project changes user interfaces. Use the mocks to walk through a user’s activity flow. If your change does not have a visual component, this section might talk about developer experience <span epub:type="pagebreak" id="Page_186" title="186"/>with the library you are creating or ways a user might use your command line tool. The goal is to think through the experience of the people who will interact with your change.</p>
			<h4 id="h3-501836c10-0003">Code Changes</h4>
			<p class="BodyFirst">Describe your implementation plan. Highlight what, how, and when existing code will need to change. Describe any new abstractions that need to be introduced.</p>
			<h4 id="h3-501836c10-0004">API Changes</h4>
			<p class="BodyFirst">Document changes to existing APIs and any newly proposed APIs. Discuss backward/forward compatibility and versioning. Remember to include error handling in your API proposal: it should respond with useful information when encountering malformed inputs, constraint violations, and unexpected internal errors or exceptions.</p>
			<h4 id="h3-501836c10-0005">Persistence Layer Changes</h4>
			<p class="BodyFirst">Explain storage technologies being introduced or modified. Discuss new databases, file and filesystem layouts, search indices, and data transformation pipelines. Include all schema changes and notes on their backward compatibility.</p>
			<h3 id="h2-501836c10-0016">Test Plan</h3>
			<p class="BodyFirst">Do not define every test in advance; rather, explain how you plan to verify your changes. Discuss sourcing or generating test data, highlight use cases that need to be covered, discuss libraries and testing strategies you expect to leverage, and explain how you will validate that security requirements are met.</p>
			<h3 id="h2-501836c10-0017">Rollout Plan</h3>
			<p class="BodyFirst">Describe the strategies you’ll use to avoid complicated deployment ordering requirements. Document the feature flags you will need to put <span epub:type="pagebreak" id="Page_187" title="187"/>in place to control the rollout and whether you will use deployment patterns from Chapter 8. Think about how you would find out if changes are <em>not </em>working and how you will roll back if problems are discovered.</p>
			<h3 id="h2-501836c10-0018">Unresolved Questions</h3>
			<p class="BodyFirst">Explicitly list pressing questions that have not yet been answered in the design. This is a good way to solicit input from your readers and to state your “known unknowns.”</p>
			<h3 id="h2-501836c10-0019">Appendix</h3>
			<p class="BodyFirst">Put extra details of interest in the appendix. This is also a good place to add references to related work and further reading.</p>
			<h2 id="h1-501836c10-0005">Collaborating on Design</h2>
			<p class="BodyFirst">Constructively collaborating with your team will lead to a better design. But collaboration isn’t always easy. Developers are an opinionated bunch. Interpreting and condensing feedback into a meaningful design isn’t easy. Collaborate on design by working within your team’s design processes, communicating early and often to avoid surprises, and using design discussions to brainstorm.</p>
			<h3 id="h2-501836c10-0020">Understand Your Team’s Design Review Process</h3>
			<p class="BodyFirst">Design reviews notify architects of large upcoming changes and give leads a chance to provide feedback. Some organizations have robust review policies, while others are more informal. Architectural review boards and “request for decision” processes are two of the more common patterns.</p>
			<p><em>Architectural reviews</em> are more formal, heavier-weight processes. Designs must be approved by outside stakeholders such as operations and security members. A design document is required, and there might be multiple rounds of meetings or presentations. Because of their high time cost, architectural reviews are reserved for large or risky changes.</p>
			<p><span epub:type="pagebreak" id="Page_188" title="188"/>Don’t wait on final approval before writing code. Spend time implementing prototypes and proof-of-concept “spikes” to increase confidence in the design and to give you a shorter path to production. But don’t go beyond proof-of-concept work. You’ll probably have to change your code based on design feedback.</p>
			<p>
				We call the other type of design review process <em>request for decision</em>, or <em>RFD</em> (not to be confused with the Internet Society request for comment process, the RFC). The term RFD is not very common, but the pattern is; RFDs are fast intrateam reviews to quickly reach decisions that need some discussion but not a full review. An engineer requesting a decision circulates a quick write-up describing the decision to be made—a light-weight design document. Teammates then whiteboard, discuss their options, provide input, and make a decision.</p>
			<p>There are, of course, other design review patterns. What’s important is that you understand which processes your team follows. Missing a design review step can cause your project to get derailed at the last moment. Find out who has to be informed or sign off on your design work and who is empowered to make decisions.</p>
			<h3 id="h2-501836c10-0021">Don’t Surprise People</h3>
			<p class="BodyFirst">Gently and incrementally ease people into your design proposal. You’re setting yourself up for failure if a formal design document is the first time other teams and tech leads learn of your work. Each party has a different point of view and a different set of interests and may react strongly to a sudden design document that they had no say in.</p>
			<p>Instead, when you do your initial research, get early feedback from other teams and tech leads; this will lead to a better design, keep them aware of your work, and give them a stake in your design. The parties you involve early can become champions of your work later.</p>
			<p>
				Feedback sessions don’t need to be formal or scheduled. Casual conversations over lunch, in a hallway, or before meetings start are fine—even preferred. Your goal is simply to make people aware of what you’re <span epub:type="pagebreak" id="Page_189" title="189"/>doing, to give an opportunity for feedback, and to get them thinking about your work.</p>
			<p>Keep people up-to-date as you progress. Give updates in status meetings and standups. Continue having casual conversations. Pay attention to second-order effects your proposed changes might have and whom this might impact; notify affected teams of upcoming changes. This goes for support, QA, and operational teams in particular. Be inclusive—pull people into brainstorming sessions and listen to their thoughts.</p>
			<h3 id="h2-501836c10-0022">Brainstorm with Design Discussions</h3>
			<p class="BodyFirst">Design discussions help you understand a problem space, share knowledge, discuss trade-offs, and solidify design. These brainstorming sessions are informal, conversation is free flowing, and whiteboards are filled with ink. Discussions happen early in the design cycle, when the problem is reasonably well understood but the design is not yet settled; a draft design document should exist, but it may still have a lot of gaps and open questions. Break brainstorming into multiple sessions with different participants, focusing on different aspects of the design.</p>
			<p>Brainstorming sessions range in size from two to about five. Opt for larger, more inclusive brainstorming sessions when a problem is particularly multifaceted or controversial. For more straightforward discussions, keep the number of invitees small to make the conversation flow easier.</p>
			<p>Design discussion meetings need to be scheduled for large chunks of time—two hours or so. Ideas need time to develop. Try not to cut discussions short; let people run out of ideas or simply get exhausted. You might need more than one brainstorming session to reach a conclusion.</p>
			<p>Before the brainstorming session, develop a loose agenda that includes the problem, scope, and proposed design (or designs), along with potential trade-offs and open questions. Participants are expected to read the agenda beforehand, so keep it brief. The purpose is to provide enough information to get a free-flowing discussion started.</p>
			<p><span epub:type="pagebreak" id="Page_190" title="190"/>In the session itself, don’t impose too much structure; people need to jump around to explore ideas. Use a whiteboard rather than a slide deck, and speak extemporaneously if possible. (It’s okay to refer to notes, though.)</p>
			<p>Note-taking can be a distraction during brainstorming sessions. Some teams formally designate a notetaker for a meeting. Make sure that this role is evenly shared by all team members or the perpetual note-taker won’t be able to contribute. The whiteboard is also a note keeper; take pictures as the discussion progresses, or save intermediate states if using a virtual board. After the meeting, write a summary based on your recollection, using the whiteboard images as your guide. Send the notes to the attendees and other relevant teammates.</p>
			<h3 id="h2-501836c10-0023">Contribute to Design</h3>
			<p class="BodyFirst">You should contribute to your team’s design work, not just your own. As with code reviews, contributing to design can feel uncomfortable. You might think you have nothing to contribute to designs from more senior developers. Reading design documents and going to brainstorming meetings might feel like a distraction. Do it anyway. Your participation will improve your team’s design and help you learn.</p>
			<p>When you join in on design, give suggestions and ask questions. Apply the same guidance we give for code reviews. Think holistically about the design. Consider security, maintainability, performance, scale, and so on. Pay special attention to how designs impact your areas of expertise. Communicate clearly and be respectful.</p>
			<p>Asking questions is as important as giving suggestions. Questions will help you to grow. As in the classroom, you’re probably not the only person wondering about a design decision, so your questions help others grow, too. Moreover, your questions might trigger new ideas or expose gaps in the design that hadn’t been considered.</p>
			<h2 id="h1-501836c10-0006"><span epub:type="pagebreak" id="Page_191" title="191"/>Do’s and Don’ts</h2>
			<table border="1" class="trade" id="tabular-501836c10-0001">
				<thead>
					<tr>
						<td><b>Do’s</b></td>
						<td><b>Don’ts</b></td>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><b>DO</b> use a design document template.
						</td>
						<td><b>DON’T</b> get attached to experimental code; it will change.
						</td>
					</tr>
					<tr>
						<td><b>DO</b> read blogs, papers, and presentations to get ideas.
						</td>
						<td><b>DON’T</b> explore only one solution.
						</td>
					</tr>
					<tr>
						<td><b>DO</b> think critically about everything that you read.
						</td>
						<td><b>DON’T</b> let a non-native language deter you from writing.
						</td>
					</tr>
					<tr>
						<td><b>DO</b> experiment with code during design.
						</td>
						<td><b>DON’T</b> forget to update design documents if the implementation diverges from the plan.
						</td>
					</tr>
					<tr>
						<td><b>DO</b> learn to write clearly, and practice often.
						</td>
						<td><b>DON’T</b> be reluctant to participate in team design discussions.
						</td>
					</tr>
					<tr>
						<td><b>DO</b> version control design documents.
						</td>
						<td/>
					</tr>
					<tr>
						<td><b>DO </b>ask questions about teammate’s designs.
						</td>
						<td/>
					</tr>
				</tbody>
			</table>
			<h2 id="h1-501836c10-0007">Level Up</h2>
			<p class="BodyFirst">Richard Hickey, author of Clojure, gives a “field report” on software design in his talk “Hammock Driven Development” (<a class="LinkURL" href="https://youtu.be/f84n5oFoZBc/">https://youtu.be/f84n5oFoZBc/</a>). Hickey’s talk is one of the best introductions we’ve seen to the messy process of software design.</p>
			<p>
				Use large open source projects to see real-world design in progress. Python Enhancement Proposals (<a class="LinkURL" href="https://github.com/python/peps/">https://github.com/python/peps/</a>), Kafka Improvement Proposals (<a class="LinkURL" href="https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Improvement+Proposals/">https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Improvement+Proposals/</a>), and Rust Request for Comments (RFCs) (<a class="LinkURL" href="https://github.com/rust-lang/rfcs/">https://github.com/rust-lang/rfcs/</a>) are good illustrations of real-world design.</p>
			<p><span epub:type="pagebreak" id="Page_192" title="192"/>For a glimpse of internal design processes, WePay’s engineering blog has a post, “Effective Software Design Documents” (<a class="LinkURL" href="https://wecode.wepay.com/posts/effective-software-design-documents">https://wecode.wepay.com/posts/effective-software-design-documents</a>). The post describes WePay’s approach to design and how it’s evolved over the years. The design template that WePay has used for hundreds of internal designs is available on GitHub (<a class="LinkURL" href="https://github.com/wepay/design_doc_template/">https://github.com/wepay/design_doc_template/</a>).</p>
			<p><em>Elements of Style</em><em> </em>by William Strunk and E.B. White (Auroch Press, 2020) is the canonical reference for clear writing. We also strongly recommend reading <em>On Writing Well</em> by William Zissner (Harper Perennial, 2016). Both of these books will dramatically improve your writing clarity. Paul Graham, of Y Combinator fame, has two essays on writing: “How to Write Usefully” (<a class="LinkURL" href="http://paulgraham.com/useful.html">http://paulgraham.com/useful.html</a>) and “Write Like You Talk” (<a class="LinkURL" href="http://www.paulgraham.com/talk.html">http://www.paulgraham.com/talk.html</a>).</p>
		</section>
	</body>
</html>