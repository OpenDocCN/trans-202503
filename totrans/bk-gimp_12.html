<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Animation"><div class="titlepage"><div><div><h1 class="title"><a id="animation"/>Chapter 6. Animation</h1></div></div></div><p><a id="iddle1134" class="indexterm"/><a id="iddle1238" class="indexterm"/><a id="iddle1713" class="indexterm"/><a id="iddle2749" class="indexterm"/><a id="iddle2775" class="indexterm"/><a id="iddle2783" class="indexterm"/><a id="iddle5290" class="indexterm"/><a id="iddle5328" class="indexterm"/><a id="iddle5462" class="indexterm"/><a id="iddle5834" class="indexterm"/><a id="iddle5984" class="indexterm"/>Although GIMP wasn’t designed to build animations, it does have some video-editing capabilities that you can use to animate a logo, for instance, or decorate a web page. In this chapter, we first introduce some simple animations, and then, in subsequent sections of this chapter as well as in <a class="xref" href="ch18.html" title="Chapter 18. Animation Tools">Chapter 18</a>, we demonstrate more complex animations and show how to manipulate existing video sequences in GIMP.</p></div>
<div class="sect1" title="6.1 Tutorial: Animated Text"><div class="titlepage"><div><div><h1 class="title"><a id="sixdot1_tutorial_animated_text"/>6.1 Tutorial: Animated Text</h1></div></div></div><p>Suppose, for the purposes of this tutorial, that your first name is Carol, a respectable, non-gender-specific name. Suppose you, Carol, want to decorate an online photo album with an animated logo of your first name. The letters of your name will appear progressively and then move into position. Once your entire name has appeared, the animation stops.</p><p>In <a class="xref" href="ch04.html" title="Chapter 4. Logos and Textures">Chapter 4</a>, you learned how to build a complex logo. Because the focus of this tutorial is the animation, the logo will be very simple. If you like, you can combine these animation techniques with more advanced logo designs, but be advised that such combinations often result in an awkward mess.</p><p>As you’ll see in <a class="xref" href="ch18s01.html" title="18.1 Principles of Animation">18.1 Principles of Animation</a>, an animation is made from successive image frames. One of the ways to create an animation is to build a multilayer image in which each layer is one frame.</p><div class="sect2" title="Method One: Frame by Frame"><div class="titlepage"><div><div><h2 class="title"><a id="method_one_frame_by_frame"/>Method One: Frame by Frame</h2></div></div></div><p>The simplest way to create the frames is to build each one in turn by hand. Of course, this method is also the most cumbersome and feasible only for very simple animations.</p><p>In this tutorial, we use the background layer as the animation background and move only the letters of the name in successive image layers.</p><p>To begin, create a new 600 × 400 image (<span class="inlinemediaobject"><a id="inline_id00196"/><img src="httpatomoreillycomsourcenostarchimages1454498.png.jpg" alt=""/></span>). Fill the background with the color of your choice. To do this, click the Color chooser in the Toolbox (see <a class="xref" href="ch03s01.html#foreground_and_background_colors" title="Figure 3-3. The foreground and background colors">Figure 3-3</a>), choose your color, and then press <span class="inlinemediaobject"><a id="inline_id00197"/><img src="httpatomoreillycomsourcenostarchimages1454534.png.jpg" alt=""/></span> to fill the layer with the foreground color. Alternatively, you could choose the Bucket Fill tool (<span class="inlinemediaobject"><a id="inline_id00198"/><img src="httpatomoreillycomsourcenostarchimages1454242.png.jpg" alt=""/></span>) and click to fill the area.</p><p>Now select the Text tool (<span class="inlinemediaobject"><a id="inline_id00199"/><img src="httpatomoreillycomsourcenostarchimages1454520.png.jpg" alt=""/></span>). Pick a bold font (in our case, we selected <code class="literal">DejaVu Sans Bold Semicondensed</code>), and set the size to 100. Select a text color that shows up clearly against your background color.</p><div class="figure"><a id="typing_the_letters"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00449"/><img src="httpatomoreillycomsourcenostarchimages1454824.png.jpg" alt="Typing the letters"/></div></div><p class="title">Figure 6-1. Typing the letters</p></div><p><a id="iddle1477" class="indexterm"/><a id="iddle2340" class="indexterm"/><a id="iddle2408" class="indexterm"/><a id="iddle2784" class="indexterm"/><a id="iddle2954" class="indexterm"/><a id="iddle2992" class="indexterm"/><a id="iddle3019" class="indexterm"/><a id="iddle3248" class="indexterm"/><a id="iddle3391" class="indexterm"/><a id="iddle3928" class="indexterm"/><a id="iddle3957" class="indexterm"/><a id="iddle4348" class="indexterm"/><a id="iddle4955" class="indexterm"/><a id="iddle5957" class="indexterm"/><a id="iddle5985" class="indexterm"/>The first click corresponds to the upper-left corner of the box containing the first letter. If you click elsewhere in the image after typing the first letter, a new layer is automatically created for the next letter, which is exactly what you want. After adding all the letters, your image should look like <a class="xref" href="ch06s01.html#typing_the_letters" title="Figure 6-1. Typing the letters">Figure 6-1</a>. The colors we chose for the logo are <code class="literal">2f91dc</code> and <code class="literal">f6ee11</code> in HTML notation.</p><p>This image is already a simple animation. To test it, select <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span>. In the window that opens, simply click the P<span class="smaller">LAY</span> button, and you see the animation playing.</p><p>Why does it work? When you click P<span class="smaller">LAY</span>, GIMP reveals the layers one by one, and because text layers have transparent backgrounds, the letters don’t cover up the background, or the rest of the logo, when they appear.</p><p>To complete this logo, press (<span class="inlinemediaobject"><a id="inline_id00200"/><img src="httpatomoreillycomsourcenostarchimages1453856.png.jpg" alt=""/></span>) and export it as a GIF image. In the dialog that opens, check S<span class="smaller">AVE AS</span> A<span class="smaller">NIMATION</span> and uncheck L<span class="smaller">OOP</span> F<span class="smaller">OREVER</span>.</p><p>As explained in <a class="xref" href="ch18s01.html#output_formats" title="Output Formats">Output Formats</a>, this produces a file that you can display in a browser. After exporting your logo as a GIF, you can use it at the top of your web page, for example.</p><p>Test your animation by opening it in your browser, generally by selecting <span class="strong"><strong>File &gt; Open</strong></span> or pressing <span class="inlinemediaobject"><a id="inline_id00201"/><img src="httpatomoreillycomsourcenostarchimages1453822.png.jpg" alt=""/></span>. You can also include the animation in an HTML page with the <code class="literal">&lt;img src='...' /&gt;</code> tag.</p></div><div class="sect2" title="Method Two: Filtering All Layers"><div class="titlepage"><div><div><h2 class="title"><a id="method_two_filtering_all_layers"/>Method Two: Filtering All Layers</h2></div></div></div><p>The previous animation was simple. Suppose you want something more complicated. Building all the frames by hand would be time consuming and boring—especially if you want to create a smooth animation, which requires many frames. To make such animations in a practical way, you need a program that automatically generates frames from an initial image. The GIMP Animation Package (GAP) does just that. You install it separately from GIMP, but the process is simple (see <a class="xref" href="ape.html" title="Appendix E. Installing GIMP">Appendix E</a> for help installing GAP).</p><p>When GAP is installed, a menu called V<span class="smaller">IDEO</span> appears in the Image window, and two additional entries appear in the F<span class="smaller">ILTERS</span> menu: F<span class="smaller">ILTER ALL</span> L<span class="smaller">AYERS</span> and F<span class="smaller">ILTERMACRO</span>. Another tool installed with GAP is <span class="strong"><strong>Image: Filters &gt; Animation &gt; Selection to AnimImage</strong></span>, which is similar to Filter all Layers.</p><p>Create a new image that’s the same size and background color as used in the last exercise. As <a id="iddle2273" class="indexterm"/><a id="iddle3567" class="indexterm"/><a id="iddle3610" class="indexterm"/><a id="iddle3630" class="indexterm"/><a id="iddle3814" class="indexterm"/>before, use the Text tool to create the logo in the same color, size, and font, but this time type the name as a single layer. Our result is shown in <a class="xref" href="ch06s01.html#initial_logo" title="Figure 6-2. The initial logo">Figure 6-2</a>.</p><div class="figure"><a id="initial_logo"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00450"/><img src="httpatomoreillycomsourcenostarchimages1454826.png.jpg" alt="The initial logo"/></div></div><p class="title">Figure 6-2. The initial logo</p></div><div class="figure"><a id="duplicate_layer_button"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00451"/><img src="httpatomoreillycomsourcenostarchimages1454828.png" alt="The duplicate layer button"/></div></div><p class="title">Figure 6-3. The duplicate layer button</p></div><div class="figure"><a id="layers_dialog-id00067"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00452"/><img src="httpatomoreillycomsourcenostarchimages1454830.png.jpg" alt="The Layers dialog"/></div></div><p class="title">Figure 6-4. The Layers dialog</p></div><p>For this animation, the text layers must be opaque. Merge the text layer with the background by selecting <span class="strong"><strong>Image: Layer &gt; Merge Down</strong></span> or right-clicking on the text layer in the Layers dialog and selecting Merge Down.</p><p>The animation has 20 layers, which begin as identical copies of the initial logo image. After you’ve merged the text with the background, change the name of the layer, for example, to <code class="literal">CAROL #1</code>, by double-clicking in the layer name. Then click the D<span class="smaller">UPLICATE</span> L<span class="smaller">AYER</span> button 19 times (<a class="xref" href="ch06s01.html#duplicate_layer_button" title="Figure 6-3. The duplicate layer button">Figure 6-3</a>) in the Layers dialog (see <a class="xref" href="ch06s01.html#layers_dialog-id00067" title="Figure 6-4. The Layers dialog">Figure 6-4</a>).</p><p>Now select <span class="strong"><strong>Image: Filters &gt; Filter all Layers</strong></span>. This tool applies a filter to all the layers of an image. You choose the parameters of the filter for the first and last layers, and the tool interpolates the values for the layers in between.</p><div class="figure"><a id="parameters_for_the_first_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00453"/><img src="httpatomoreillycomsourcenostarchimages1454832.png.jpg" alt="Parameters for the first layer"/></div></div><p class="title">Figure 6-5. Parameters for the first layer</p></div><div class="figure"><a id="intermediary_step"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00454"/><img src="httpatomoreillycomsourcenostarchimages1454834.png.jpg" alt="Intermediary step"/></div></div><p class="title">Figure 6-6. Intermediary step</p></div><div class="figure"><a id="final_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00455"/><img src="httpatomoreillycomsourcenostarchimages1454836.png.jpg" alt="The final dialog"/></div></div><p class="title">Figure 6-7. The final dialog</p></div><p>For our logo, we apply a blurring filter. Type the word <code class="literal">blur</code> in the Search field and click S<span class="smaller">EARCH BY</span> B<span class="smaller">LURB</span>.</p><p>Choose <code class="literal">plug-in-gauss</code>, and click A<span class="smaller">PPLY</span>. The numeric field and the small curve next to A<span class="smaller">PPLY</span> allow you to change the speed of the progression: It can be uniform or slow at the beginning and faster at the end (for this example, choose 4), or vice versa (a negative number would reverse the speed). When the next dialog appears, set a large blur radius, such as 50 pixels, as shown in <a class="xref" href="ch06s01.html#parameters_for_the_first_layer" title="Figure 6-5. Parameters for the first layer">Figure 6-5</a>.</p><p>Click C<span class="smaller">ONTINUE</span>. The dialog shown in <a class="xref" href="ch06s01.html#intermediary_step" title="Figure 6-6. Intermediary step">Figure 6-6</a> appears. Click C<span class="smaller">ONTINUE</span> again, and another dialog similar to <a class="xref" href="ch06s01.html#parameters_for_the_first_layer" title="Figure 6-5. Parameters for the first layer">Figure 6-5</a> appears. <a id="iddle1127" class="indexterm"/><a id="iddle2251" class="indexterm"/><a id="iddle2481" class="indexterm"/><a id="iddle2750" class="indexterm"/><a id="iddle2766" class="indexterm"/><a id="iddle2776" class="indexterm"/><a id="iddle2796" class="indexterm"/><a id="iddle2799" class="indexterm"/><a id="iddle2800" class="indexterm"/><a id="iddle2821" class="indexterm"/><a id="iddle2840" class="indexterm"/><a id="iddle2866" class="indexterm"/><a id="iddle2963" class="indexterm"/><a id="iddle2982" class="indexterm"/><a id="iddle2993" class="indexterm"/><a id="iddle3020" class="indexterm"/><a id="iddle3599" class="indexterm"/><a id="iddle3929" class="indexterm"/><a id="iddle4359" class="indexterm"/>This time, set the blur to 0 for the final frame. Click OK. Now the dialog shown in <a class="xref" href="ch06s01.html#final_dialog" title="Figure 6-7. The final dialog">Figure 6-7</a> appears.</p><p>Next you need to name a temporary file where the animation will be stored. Choose a directory, type <code class="literal">caroltemp.xcf</code> (or any name you like), and then click C<span class="smaller">ONTINUE</span> once more. The process takes some time because GIMP is applying the Gaussian Blur filter to 20 layers.</p><p>Once this process finishes, the animation is ready. Test it by selecting <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span>. When the animation finishes playing, it returns to the beginning.</p><p>You can change this in several ways :</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Export the animation as a GIF image, and uncheck the L<span class="smaller">OOP FOREVER</span> option.</p></li><li class="listitem"><p>Change the duration of the last frame (i.e., the topmost layer); to do this, double-click the layer name in the Layers dialog and type <code class="literal">(1000ms)</code> after the name. Be sure to include the parentheses and a space between the name and the duration. The final frame now displays for a full second while the others last for only 100 milliseconds.</p></li><li class="listitem"><p>Duplicate the top layer as many times as you’d like.</p></li></ul></div></div><div class="sect2" title="Method Three: Moving Along a Path"><div class="titlepage"><div><div><h2 class="title"><a id="method_three_moving_along_a_path"/>Method Three: Moving Along a Path</h2></div></div></div><p>When using F<span class="smaller">ILTER ALL</span> L<span class="smaller">AYERS</span>, you can only control what is done to the first and the last frame. Additionally, because frames are represented by layers, you can’t have multilayer frames. GAP provides tools that you can use to build animations with much more control.</p><p>In the <span class="strong"><strong>Image: Video</strong></span> menu that was added when you installed the GAP plug-in, you’ll find tools for creating animations with frames stored as separate image files.</p><p>The names of these image files must be of the form <span class="emphasis"><em>namexxxx</em></span><code class="literal">.xcf</code>, where <span class="emphasis"><em>name</em></span> is the name you give to the animation and <span class="emphasis"><em>xxxx</em></span> is a number beginning with <span class="emphasis"><em>0001</em></span> and increasing consecutively until the last frame. The number of digits can vary depending on the length of the animation.</p><div class="figure"><a id="model_of_the_intended_animation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00456"/><img src="httpatomoreillycomsourcenostarchimages1454838.png.jpg" alt="Model of the intended animation"/></div></div><p class="title">Figure 6-8. Model of the intended animation</p></div><div class="figure"><a id="image_video_greater_than_duplicate_frame"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00457"/><img src="httpatomoreillycomsourcenostarchimages1454840.png.jpg" alt="The Image: Video &gt; Duplicate Frames dialog"/></div></div><p class="title">Figure 6-9. The Image: Video &gt; Duplicate Frames dialog</p></div><p>The first frame of a very short animation might be named <span class="emphasis"><em>01</em></span>. Longer animations can have 6, or even 10, digits.</p><p>For this example, imagine you want to build a new animation, similar to the last two but a bit more complex. This time, the name <code class="literal">CAROL</code> will grow progressively larger and become increasingly opaque. Simultaneously, a rectangular frame will grow and become opaque and then rotate from a vertical position, perpendicular to the text, to its horizontal position, neatly framing the text.</p><p>First, build a model for the animation, which is a three-layer image. Create a new 300<span class="emphasis"><em>×</em></span>150 image (<span class="inlinemediaobject"><a id="inline_id00202"/><img src="httpatomoreillycomsourcenostarchimages1454498.png.jpg" alt=""/></span>) with the same blue background color. Once again, add the text layer with the name <code class="literal">CAROL</code>. Finally, build the frame in the same color as the text:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Create a new transparent layer.</p></li><li class="listitem"><p>Using the Rectangle Select tool, select the frame of the text layer.</p></li><li class="listitem"><p>Apply <span class="strong"><strong>Image: Select &gt; Border</strong></span> to this selection; choose a width of 5 for the border.</p></li><li class="listitem"><p>Fill the selection with the foreground color (for example, <span class="inlinemediaobject"><a id="inline_id00203"/><img src="httpatomoreillycomsourcenostarchimages1454534.png.jpg" alt=""/></span> ), and cancel the selection (<span class="inlinemediaobject"><a id="inline_id00204"/><img src="httpatomoreillycomsourcenostarchimages1454172.png.jpg" alt=""/></span>).</p></li></ul></div><div class="figure"><a id="move_path_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00458"/><img src="httpatomoreillycomsourcenostarchimages1454842.png.jpg" alt="The Move Path dialog"/></div></div><p class="title">Figure 6-10. The Move Path dialog</p></div><p><a id="iddle1241" class="indexterm"/><a id="iddle1355" class="indexterm"/><a id="iddle2252" class="indexterm"/><a id="iddle2259" class="indexterm"/><a id="iddle2778" class="indexterm"/><a id="iddle2791" class="indexterm"/><a id="iddle2806" class="indexterm"/><a id="iddle2807" class="indexterm"/><a id="iddle2809" class="indexterm"/><a id="iddle2823" class="indexterm"/><a id="iddle2871" class="indexterm"/><a id="iddle3604" class="indexterm"/><a id="iddle3850" class="indexterm"/><a id="iddle4239" class="indexterm"/><a id="iddle5342" class="indexterm"/><a id="iddle5657" class="indexterm"/>The result is shown in <a class="xref" href="ch06s01.html#model_of_the_intended_animation" title="Figure 6-8. Model of the intended animation">Figure 6-8</a>. Keep this image opened in GIMP.</p><p>To better organize your workspace, create a new folder called <code class="literal">Carol</code> in whatever directory you use to store images. You’ll store all of the animation frames in that new folder.</p><p>Create the first frame by clicking and dragging the background layer thumbnail of your model image from the Layers dialog to the Toolbox. Save this image (<span class="inlinemediaobject"><a id="inline_id00205"/><img src="httpatomoreillycomsourcenostarchimages1453852.png.jpg" alt=""/></span>) in the new folder, and name it <code class="literal">carol-0001.xcf</code>. This is the background of the first frame.</p><p>Next duplicate this frame. The simplest method is to use <span class="strong"><strong>Image: Video &gt; Duplicate Frames</strong></span>. The dialog shown in <a class="xref" href="ch06s01.html#image_video_greater_than_duplicate_frame" title="Figure 6-9. The Image: Video &gt; Duplicate Frames dialog">Figure 6-9</a> appears. Move the N <span class="smaller">TIMES</span> slider to 20 and click OK. After GIMP finishes working, nothing seems to have happened, but if you check, you’ll see the new frames are in the <code class="literal">Carol</code> folder. We’ll be working on the first frame only, so ignore the new frames for now.</p><p>One of the most useful tools in the GAP plug-in is <span class="strong"><strong>Image: Video &gt; Move Path</strong></span>. Open the first frame, <code class="literal">carol-0001.xcf</code>, and then call the Move Path tool. As shown in <a class="xref" href="ch06s01.html#move_path_dialog" title="Figure 6-10. The Move Path dialog">Figure 6-10</a>, the dialog that appears is quite large, but don’t panic—in this tutorial, we focus on just a few of its features.</p><p>Use the M<span class="smaller">OVE</span> P<span class="smaller">ATH</span> tool to add layers, which are taken from an open image (the model image in our case), to the animation frames. The move is applied along a path defined with points. At each point, you can apply transformations such as blending modes, scaling, opacity, rotation, and perspective to the added layer. If you add several layers at the same time, you can choose how they are taken from the model image.</p><p>We’ve added numbers to <a class="xref" href="ch06s01.html#move_path_dialog" title="Figure 6-10. The Move Path dialog">Figure 6-10</a> that correspond to numbers in the text to guide you through the following steps. Select the layer in the S<span class="smaller">OURCE</span> I<span class="smaller">MAGE</span>/L<span class="smaller">AYER</span> menu from among those in the currently open images (1). First, choose the frame layer. Because there is only one layer, choose N<span class="smaller">ONE</span> from the S<span class="smaller">TEPMODE</span> menu (2).</p><p>The coordinates of the path’s points are taken according to the origin selected in the H<span class="smaller">ANDLE</span> <a id="iddle1128" class="indexterm"/><a id="iddle1138" class="indexterm"/><a id="iddle2779" class="indexterm"/><a id="iddle2785" class="indexterm"/><a id="iddle2801" class="indexterm"/><a id="iddle2822" class="indexterm"/><a id="iddle2824" class="indexterm"/><a id="iddle2850" class="indexterm"/><a id="iddle2853" class="indexterm"/><a id="iddle2893" class="indexterm"/><a id="iddle2983" class="indexterm"/><a id="iddle2994" class="indexterm"/><a id="iddle4016" class="indexterm"/><a id="iddle4349" class="indexterm"/><a id="iddle5947" class="indexterm"/>menu. Choose C<span class="smaller">ENTER</span> (3), and then set the X and Y coordinates (4) to 150 and 75, respectively. A red crosshair appears in the background frame. To see the frame, check the I<span class="smaller">NSTANT</span> A<span class="smaller">PPLY</span> box (5) at the bottom of the dialog.</p><div class="figure"><a id="after_adding_the_rectangle_to_the_first"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00459"/><img src="httpatomoreillycomsourcenostarchimages1454844.png.jpg" alt="After adding the rectangle to the first frame"/></div></div><p class="title">Figure 6-11. After adding the rectangle to the first frame</p></div><p>The original characteristics of the frame layer are 20.0% for scaling (6), 20.0% for opacity (7), and –90° for rotation (8).</p><p>Now you’ve set the first point, which applies to the first frame. Add another point by clicking the A<span class="smaller">DD</span> P<span class="smaller">OINT</span> button. Note that the point number has changed (9). For this point, which will be the last frame, the layer’s position and opacity change, but the point coordinates should remain the same. change W<span class="smaller">IDTH</span>, H<span class="smaller">EIGHT</span>, and O<span class="smaller">PACITY</span> to 100% and R<span class="smaller">OTATE</span> to 0.0. The first layer of the animation is now complete.</p><p>Click OK, and GIMP processes the frames. This process can take a while, depending on the size and number of frames. When GIMP finishes, you’ll see the first frame with an additional layer: the logo’s rectangular frame in its initial position, as seen in <a class="xref" href="ch06s01.html#after_adding_the_rectangle_to_the_first" title="Figure 6-11. After adding the rectangle to the first frame">Figure 6-11</a>.</p><p>To add the second layer (the text), use the M<span class="smaller">OVE</span> P<span class="smaller">ATH</span> tool again. This time, select the text layer in the model image. Select the same values for S<span class="smaller">TEPMODE</span>, H<span class="smaller">ANDLE</span>, the X and Y coordinates, W<span class="smaller">IDTH</span> and H<span class="smaller">EIGHT</span>, and O<span class="smaller">PACITY</span>, as you used for the previous layer. Check I<span class="smaller">NSTANT</span> A<span class="smaller">PPLY</span> to see the result.</p><p>Add a new point, and set W<span class="smaller">IDTH</span>, H<span class="smaller">EIGHT</span>, and O<span class="smaller">PACITY</span> to 100%, but don’t change the coordinates. The animation is finished! To check it before saving, click A<span class="smaller">NIM</span> P<span class="smaller">REVIEW</span> (10). The dialog shown in <a class="xref" href="ch06s01.html#anim_preview_dialog" title="Figure 6-12. The Anim Preview dialog">Figure 6-12</a> appears. Click OK. GIMP builds a reduced version of the animation as a multilayer image, with the Playback window already open. Although previewing the new animation is exciting, it not only takes a while but also builds an unnecessary image that clutters up your workspace. We recommend skipping this feature and simply clicking OK (11) in the Move Path dialog.</p><div class="figure"><a id="anim_preview_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00460"/><img src="httpatomoreillycomsourcenostarchimages1454846.png.jpg" alt="The Anim Preview dialog"/></div></div><p class="title">Figure 6-12. The Anim Preview dialog</p></div><p>Once GIMP finishes processing, all the frames of the animation contain the same three layers as the model image but with progressive changes to the frame and text layers. You can view this animation by selecting <span class="strong"><strong>Image: Video &gt; VCR Navigator</strong></span> and clicking the P<span class="smaller">LAYBACK</span> button.</p><p>Suppose you want to export this video as a GIF animation. To do this, you need to transform this multi-image animation to a multilayer one and merge the layers in each frame. You can do this automatically using <span class="strong"><strong>Image: Video &gt; Frames to Image</strong></span>, which brings up the dialog shown in <a class="xref" href="ch06s02.html#frames_to_image_dialog" title="Figure 6-13. The Frames to Image dialog">Figure 6-13</a>. Leave everything as is and click OK. Once again, GIMP works for a while, eventually creating a new multilayer image. Change the duration of the last frame (the topmost layer) to 1000 ms by typing <code class="literal">(1000ms)</code> after the layer name. You can then check your animation with <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span> or export it as a GIF file.</p></div></div>
<div class="sect1" title="6.2 Building an Animated GIF by Hand"><div class="titlepage"><div><div><h1 class="title"><a id="sixdot2_building_an_animated_gif_by_hand"/>6.2 Building an Animated GIF by Hand</h1></div></div></div><p>At the beginning of this chapter, we built an animation frame by frame as layers in one image. Here is a general list of the steps to use as a guide for building similar animations:</p><div class="figure"><a id="frames_to_image_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00461"/><img src="httpatomoreillycomsourcenostarchimages1454848.png.jpg" alt="The Frames to Image dialog"/></div></div><p class="title">Figure 6-13. The Frames to Image dialog</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><a id="iddle1242" class="indexterm"/><a id="iddle2255" class="indexterm"/><a id="iddle3257" class="indexterm"/><a id="iddle3968" class="indexterm"/>Create a stationary background for the animation.</p></li><li class="listitem"><p>Create another layer with the object that will move; it may be cut from a photograph, drawn using paint tools, or typed in as text.</p></li><li class="listitem"><p>For each new position of the object, duplicate the preceding layer and apply some transformation to the new layer: Move, rotate, or deform the object, zoom in or out, and so on. Take care when doing this, or the animation will be choppy.</p></li><li class="listitem"><p>Because each new layer must replace the preceding one, duplicate the background layer once per object layer, intersperse these copies between the object layers, and then merge each object layer with a background layer.</p></li><li class="listitem"><p>The animation is finished!</p></li></ol></div><p>You’ve just created a simple animation in which a single object moves along a fixed background. While you can use this technique to animate multiple objects, the process is awkward and repetitive. Remember that if you’re doing a repetitive task on a computer, you’re not using the computer in a clever way.</p><div class="figure"><a id="background_image"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00462"/><img src="httpatomoreillycomsourcenostarchimages1454850.png.jpg" alt="The background image"/></div></div><p class="title">Figure 6-14. The background image</p></div><div class="figure"><a id="parameters_for_the_first_color"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00463"/><img src="httpatomoreillycomsourcenostarchimages1454852.png.jpg" alt="Parameters for the first color"/></div></div><p class="title">Figure 6-15. Parameters for the first color</p></div><p>In the next section, we demonstrate some other ways to create simple animations.</p><div class="sect2" title="Drawing a Rainbow Daisy"><div class="titlepage"><div><div><h2 class="title"><a id="drawing_a_rainbow_daisy"/>Drawing a Rainbow Daisy</h2></div></div></div><p>The first example is so simple that duplicating the background is not necessary: Layers are progressively added to draw the petals of the daisy.</p><p>Begin with the background image shown in <a class="xref" href="ch06s02.html#background_image" title="Figure 6-14. The background image">Figure 6-14</a>.</p><p>Then we draw the petals by hand with the Paintbrush tool. We draw one petal at a time, using different colors for each petal. To change the color, we change only the hue by a set amount from petal to petal. The background is rather dark, so we choose a bright, saturated color, beginning at one end of the hue scale, as shown in <a class="xref" href="ch06s02.html#parameters_for_the_first_color" title="Figure 6-15. Parameters for the first color">Figure 6-15</a>.</p><div class="figure"><a id="workspace_after_the_petals_have_been_add"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00464"/><img src="httpatomoreillycomsourcenostarchimages1454854.png.jpg" alt="Workspace after the petals have been added"/></div></div><p class="title">Figure 6-16. Workspace after the petals have been added</p></div><p><a id="iddle2995" class="indexterm"/><a id="iddle3258" class="indexterm"/><a id="iddle4350" class="indexterm"/><a id="iddle4757" class="indexterm"/><a id="iddle4861" class="indexterm"/><a id="iddle5912" class="indexterm"/>Every petal has its own layer. First create a new layer. In the dialog that appears, add a number to the layer name. With the <code class="literal">Hardness 100</code> brush set to a small size, draw the first petal in the upper-left corner of the image.</p><p>For the second petal, choose a color with the same saturation and value as the first one but with a different hue. To change the hue, set the new value in the field to the right of the radio button labeled H. The hue values range from 0 to 360. Because the daisy has seven petals, plus its stem, we need eight different hues. So we add 40 to the preceding hue value for each new petal, create the new layer, name it, and draw the petal in the proper place until the daisy is finished.</p><p>When the daisy is finished, we have nine layers, and the animation is almost complete. The animation will look better if it pauses at the beginning and at the end, so add an explicit duration of 1000 ms to the first and last layers by typing <code class="literal">(1000ms)</code> after the layer name.</p><p>To test the animation, go to <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span>. <a class="xref" href="ch06s02.html#workspace_after_the_petals_have_been_add" title="Figure 6-16. Workspace after the petals have been added">Figure 6-16</a> shows the final image with the Layers dialog.</p><p>Notice that the Playback window always displays the image at its actual size—this can be problematic if you build an animation with an image that’s larger than your screen. When an animation takes up most of the screen, detach it from the Playback window by clicking the fourth button from the left at the top of the window.</p><p>When you’re satisfied with the animation, you can export it as an animated GIF, as shown in <a class="xref" href="ch06s01.html#method_one_frame_by_frame" title="Method One: Frame by Frame">Method One: Frame by Frame</a>.</p></div><div class="sect2" title="Zooming Toward the Viewer"><div class="titlepage"><div><div><h2 class="title"><a id="zooming_toward_the_viewer"/>Zooming Toward the Viewer</h2></div></div></div><p>The second animation is slightly more complicated to build. This time, we want to make a word zoom toward the viewer.</p><p>We begin with a new background image. Select the Text tool, choose your favorite font, in a <a id="iddle1243" class="indexterm"/><a id="iddle1248" class="indexterm"/><a id="iddle2256" class="indexterm"/><a id="iddle3626" class="indexterm"/><a id="iddle3646" class="indexterm"/><a id="iddle4813" class="indexterm"/><a id="iddle5186" class="indexterm"/><a id="iddle6094" class="indexterm"/>large size and a bright color, and write “Hello!” on the image. <a class="xref" href="ch06s02.html#adding_text_to_an_image" title="Figure 6-17. Adding text to an image">Figure 6-17</a> shows the result, with a <code class="literal">FreeSans Bold</code> font in size 140 in a bright red.</p><div class="figure"><a id="adding_text_to_an_image"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00465"/><img src="httpatomoreillycomsourcenostarchimages1454856.png.jpg" alt="Adding text to an image"/></div></div><p class="title">Figure 6-17. Adding text to an image</p></div><div class="figure"><a id="scaling_the_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00466"/><img src="httpatomoreillycomsourcenostarchimages1454858.png.jpg" alt="Scaling the layer"/></div></div><p class="title">Figure 6-18. Scaling the layer</p></div><p>Next, we build several copies of this layer, each with a smaller and smaller zoom factor and an increasing blur. We build the layers in reverse order, so the last built is the first to display. To build a smooth animation, we change the height of the layer by the same amount each time, and we use the same blurring factor.</p><p>Duplicate the text layer, and work on the lower copy. Using <span class="strong"><strong>Image: Layer &gt; Scale Layer</strong></span>, reduce the layer height by 20 pixels (see <a class="xref" href="ch06s02.html#scaling_the_layer" title="Figure 6-18. Scaling the layer">Figure 6-18</a>). Then select <span class="strong"><strong>Image: Filters &gt; Blur &gt; Gaussian Blur</strong></span> and apply a blur with the default parameters. If you’re not sure whether the parameters are set to their default values, reset all the filters via <span class="strong"><strong>Image: Filters &gt; Reset all Filters</strong></span>.</p><p>Repeat this process four more times, always working on the lower text layer (the one that has just been transformed). You can speed up the process by pressing <span class="inlinemediaobject"><a id="inline_id00206"/><img src="httpatomoreillycomsourcenostarchimages1453888.png.jpg" alt=""/></span> to repeat the last filter used.</p><div class="figure"><a id="layers_dialog_with_text_and_background_l"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00467"/><img src="httpatomoreillycomsourcenostarchimages1454860.png.jpg" alt="The Layers dialog with text and background layers"/></div></div><p class="title">Figure 6-19. The Layers dialog with text and background layers</p></div><p>At the end, you should have six text layers. As it stands now, however, you can’t use this image as an animation because all the layers are visible. The solution is to duplicate the background layer so you have one background layer per text layer. By alternatively clicking the D<span class="smaller">UPLICATE</span> button and the R<span class="smaller">AISE</span> button at the bottom of the Layers dialog, you can quickly create the sequence of layers shown in <a class="xref" href="ch06s02.html#layers_dialog_with_text_and_background_l" title="Figure 6-19. The Layers dialog with text and background layers">Figure 6-19</a>.</p><p>Then merge each text layer with the underlying background layer by selecting <span class="strong"><strong>Layer: right-click &gt; Merge Down</strong></span>. Keep one more version of the background at the bottom of the layer stack so the animation begins with the original background. The resulting sequence of layers is shown in <a class="xref" href="ch06s02.html#layers_dialog_after_merging_text_and_bac" title="Figure 6-20. The Layers dialog after merging text and background layers">Figure 6-20</a>.</p><p>Our animation is almost ready. Because we duplicated the background layer so many times, the file is 12MB, which is quite large. But much of the background actually remains the same, creating redundancy, so we can reduce the size without losing valuable information.</p><p>GIMP provides a way to reduce the size: Apply <span class="strong"><strong>Image: Filters &gt; Animation &gt; Optimize (for <a id="iddle2810" class="indexterm"/><a id="iddle2996" class="indexterm"/><a id="iddle3001" class="indexterm"/><a id="iddle3559" class="indexterm"/><a id="iddle3577" class="indexterm"/><a id="iddle3948" class="indexterm"/>GIF)</strong></span>. The filter has no dialog and does its job immediately. It generates another, smaller image file: In our case, the file is 362KB. The filter replaces parts of the image that don’t change with transparency, as shown in <a class="xref" href="ch06s02.html#first_layer_after_optimization_for_gif" title="Figure 6-21. The first layer after optimization for GIF">Figure 6-21</a>. Because the animated word doesn’t move across the background, most of the background remains unchanged, and, as a result, the size is reduced significantly.</p><div class="figure"><a id="layers_dialog_after_merging_text_and_bac"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00468"/><img src="httpatomoreillycomsourcenostarchimages1454862.png.jpg" alt="The Layers dialog after merging text and background layers"/></div></div><p class="title">Figure 6-20. The Layers dialog after merging text and background layers</p></div><div class="figure"><a id="first_layer_after_optimization_for_gif"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00469"/><img src="httpatomoreillycomsourcenostarchimages1454864.png.jpg" alt="The first layer after optimization for GIF"/></div></div><p class="title">Figure 6-21. The first layer after optimization for GIF</p></div><p>The optimization tool also adds the layer replacement mode <code class="literal">(combine)</code> to every layer except the bottom one. Therefore, the new layer does not replace the previous one but is <span class="emphasis"><em>combined</em></span> with it. In the previous animation, we used the <code class="literal">(replace)</code> combination mode, which is the default.</p><p>We still need to do two things before this animation is complete. First, we need to change the timing of the first and last frames (bottom and top layers) to make the animation smoother. Because the optimization process automatically added a duration of 100 ms, we have to change the timing already specified for these two layers by adding another zero to the duration, so it becomes <code class="literal">(1000ms)</code>.</p><div class="figure"><a id="initial_image-id00068"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00470"/><img src="httpatomoreillycomsourcenostarchimages1454866.png.jpg" alt="The initial image"/></div></div><p class="title">Figure 6-22. The initial image</p></div><div class="figure"><a id="building_the_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00471"/><img src="httpatomoreillycomsourcenostarchimages1454868.png.jpg" alt="Building the layer"/></div></div><p class="title">Figure 6-23. Building the layer</p></div><p>Finally, we export the completed animation as a GIF.</p></div><div class="sect2" title="Adding Rain to a Landscape"><div class="titlepage"><div><div><h2 class="title"><a id="adding_rain_to_a_landscape"/>Adding Rain to a Landscape</h2></div></div></div><p>This animation is easy to build and takes less than 10 minutes. Those of you with a little programming knowledge could even automate this process by creating a script.</p><p>As a background, we use the photograph in <a class="xref" href="ch06s02.html#initial_image-id00068" title="Figure 6-22. The initial image">Figure 6-22</a>, a sandy beach on the North Coast <a id="iddle1249" class="indexterm"/><a id="iddle1336" class="indexterm"/><a id="iddle1386" class="indexterm"/><a id="iddle2576" class="indexterm"/><a id="iddle3002" class="indexterm"/><a id="iddle3107" class="indexterm"/><a id="iddle4720" class="indexterm"/><a id="iddle4891" class="indexterm"/>of New South Wales, Australia. We want to add some rain falling on this landscape.</p><div class="figure"><a id="resulting_layers_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00472"/><img src="httpatomoreillycomsourcenostarchimages1454870.png.jpg" alt="The resulting Layers dialog"/></div></div><p class="title">Figure 6-24. The resulting Layers dialog</p></div><p>Duplicate the background image three times. Now you have four layers. Next, add a new, white layer above each background layer (see <a class="xref" href="ch06s02.html#building_the_layer" title="Figure 6-23. Building the layer">Figure 6-23</a>). The resulting Layers dialog is shown in <a class="xref" href="ch06s02.html#resulting_layers_dialog" title="Figure 6-24. The resulting Layers dialog">Figure 6-24</a>.</p><p>Use the white layers for the rain. First, add noise to the white layers with <span class="strong"><strong>Image: Filters &gt; Noise &gt; RGB Noise</strong></span>, using the parameters shown in <a class="xref" href="ch06s02.html#creating_the_rain_adding_noise" title="Figure 6-25. Creating the rain: adding noise">Figure 6-25</a>. Do this for each white layer by selecting it and pressing <span class="inlinemediaobject"><a id="inline_id00207"/><img src="httpatomoreillycomsourcenostarchimages1453888.png.jpg" alt=""/></span>. Change this noise into rain by applying <span class="strong"><strong>Image: Filters &gt; Blur &gt; Motion Blur</strong></span>, using the parameters shown in <a class="xref" href="ch06s02.html#creating_the_rain_adding_motion_blur" title="Figure 6-26. Creating the rain: adding motion blur">Figure 6-26</a>. Repeat this process for each white layer.</p><p>The animation is almost finished. Here are the remaining steps:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Change the blend mode of every rain layer to Multiply; note that other blend modes work too, for example, Screen or even Grain Merge.</p></li><li class="listitem"><p>Merge each rain layer with the underlying background layer (use <span class="strong"><strong>Layers: right-click &gt; Merge Down</strong></span>).</p><div class="figure"><a id="creating_the_rain_adding_noise"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00473"/><img src="httpatomoreillycomsourcenostarchimages1454872.png.jpg" alt="Creating the rain: adding noise"/></div></div><p class="title">Figure 6-25. Creating the rain: adding noise</p></div><div class="figure"><a id="creating_the_rain_adding_motion_blur"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00474"/><img src="httpatomoreillycomsourcenostarchimages1454874.png.jpg" alt="Creating the rain: adding motion blur"/></div></div><p class="title">Figure 6-26. Creating the rain: adding motion blur</p></div></li><li class="listitem"><p>Test the animation with <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span>.</p></li><li class="listitem"><p>Optimize the animation for GIF, and export it as an animated GIF.</p></li></ol></div><div class="figure"><a id="final_image-id00069"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00475"/><img src="httpatomoreillycomsourcenostarchimages1454876.png.jpg" alt="The final image"/></div></div><p class="title">Figure 6-27. The final image</p></div><div class="figure"><a id="initial_image-id00070"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00476"/><img src="httpatomoreillycomsourcenostarchimages1454878.png.jpg" alt="The initial image"/></div></div><p class="title">Figure 6-28. The initial image</p></div><p><a id="iddle1364" class="indexterm"/><a id="iddle1827" class="indexterm"/><a id="iddle3896" class="indexterm"/><a id="iddle3993" class="indexterm"/>The final result appears in <a class="xref" href="ch06s02.html#final_image-id00069" title="Figure 6-27. The final image">Figure 6-27</a>. Of course, the actual animation is a lot more interesting than the still image shown. To see it, visit the book’s website (<span class="emphasis"><em><a class="ulink" href="http://the-book-ofgimp.blogspot.com">http://the-book-ofgimp.blogspot.com</a></em></span>).</p></div><div class="sect2" title="Adding Snow to a Landscape"><div class="titlepage"><div><div><h2 class="title"><a id="adding_snow_to_a_landscape"/>Adding Snow to a Landscape</h2></div></div></div><p>You can use a similar process to add snow to a picture. To demonstrate more of the tools available, in this example, we apply some alternative methods to arrive at the result. In GIMP, you’ll generally discover many different ways to complete a given task.</p><p>We begin with the image shown in <a class="xref" href="ch06s02.html#initial_image-id00070" title="Figure 6-28. The initial image">Figure 6-28</a>, a photograph taken in the northern French Alps. We create snow by again applying <span class="strong"><strong>Image: Filters &gt; Noise &gt; RGB Noise</strong></span> but this time on a new, transparent layer. To apply the noise to a transparent layer, make sure Correlated noise is unchecked and then move the A<span class="smaller">LPHA</span> cursor to 100.</p><div class="figure"><a id="applying_the_noise_filter"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00477"/><img src="httpatomoreillycomsourcenostarchimages1454880.png.jpg" alt="Applying the noise filter"/></div></div><p class="title">Figure 6-29. Applying the noise filter</p></div><div class="figure"><a id="inverting_the_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00478"/><img src="httpatomoreillycomsourcenostarchimages1454882.png.jpg" alt="Inverting the layer"/></div></div><p class="title">Figure 6-30. Inverting the layer</p></div><p>The snow is black, as shown in <a class="xref" href="ch06s02.html#applying_the_noise_filter" title="Figure 6-29. Applying the noise filter">Figure 6-29</a>. In the previous example, we adjusted the color of the rain when we changed the blending mode to Multiply. This time we use <span class="strong"><strong>Image: Color &gt; Invert</strong></span> to make the snow white, as it should be (see <a class="xref" href="ch06s02.html#inverting_the_layer" title="Figure 6-30. Inverting the layer">Figure 6-30</a>).</p><p>Now we want to make the snow fall slowly over the landscape. First, duplicate the snow layer and then apply the Offset tool: Select <span class="strong"><strong>Image: Layer &gt; Transform &gt; Offset</strong></span> or press <span class="inlinemediaobject"><a id="inline_id00208"/><img src="httpatomoreillycomsourcenostarchimages1454634.png.jpg" alt=""/></span>. Set a small, positive Y offset— around 10. Check the W<span class="smaller">RAP AROUND</span> box, or the snow will disappear from the top of the image (see <a class="xref" href="ch06s02.html#offset_dialog" title="Figure 6-31. The Offset dialog">Figure 6-31</a>).</p><p>Duplicate this offset copy, and apply the tool again on the copy of the copy. Repeat this process several times.</p><p>As shown in <a class="xref" href="ch06s01.html#method_two_filtering_all_layers" title="Method Two: Filtering All Layers">Method Two: Filtering All Layers</a>, duplicate the background, add copies under every snow layer, and merge each snow layer with the underlying background copy. The result is a working animation.</p><div class="figure"><a id="offset_dialog"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00479"/><img src="httpatomoreillycomsourcenostarchimages1454884.png.jpg" alt="The Offset dialog"/></div></div><p class="title">Figure 6-31. The Offset dialog</p></div><p><a id="iddle2055" class="indexterm"/><a id="iddle2409" class="indexterm"/><a id="iddle2521" class="indexterm"/><a id="iddle2844" class="indexterm"/><a id="iddle2876" class="indexterm"/><a id="iddle3003" class="indexterm"/><a id="iddle3465" class="indexterm"/><a id="iddle5258" class="indexterm"/><a id="iddle5874" class="indexterm"/>To make the snow fall gracefully, we have to generate many layers, and we have to apply the same Y offset relative to the preceding snow layer. A smooth animation would require at least 30 frames. In <a class="xref" href="ch06s03.html#animating_a_still_image" title="Animating a Still Image">Animating a Still Image</a> and <a class="xref" href="ch18s04.html" title="18.4 The Move Path Tool">18.4 The Move Path Tool</a> we show you two different methods for generating these layers automatically, saving a lot of time.</p></div></div>
<div class="sect1" title="6.3 Using Animation Tools"><div class="titlepage"><div><div><h1 class="title"><a id="sixdot3_using_animation_tools"/>6.3 Using Animation Tools</h1></div></div></div><p>GIMP offers numerous tools and filters for creating animations. In this section, we show you some of those tools.</p><div class="sect2" title="Interactive Deformation"><div class="titlepage"><div><div><h2 class="title"><a id="interactive_deformation"/>Interactive Deformation</h2></div></div></div><p>With this tool and little work, you can create an impressive, or at least amusing, animation.</p><p>Basically, we’ll warp an existing image and then automatically generate the intermediate layers of the animation. To do this, we need to introduce an additional capability of a tool used previously to distort still images.</p><p>We start with a picture of a rather serious girl, the first one in <a class="xref" href="ch05s01.html#four_source_portraits" title="Figure 5-1. The four source portraits">Figure 5-1</a>. Our animation will make her smile in a silly, exaggerated way. First, select the face with the Fuzzy Select tool.</p><p>Select the IWarp tool: <span class="strong"><strong>Image: Filters &gt; Distorts &gt; IWarp</strong></span>. The dialog shown in <a class="xref" href="ch06s03.html#iwarp_dialog-id00071" title="Figure 6-32. The IWarp dialog">Figure 6-32</a> pops up. Select the M<span class="smaller">OVE</span> Deform Mode, and choose a small D<span class="smaller">EFORM RADIUS</span>, such as 10 pixels. With the mouse pointer, or a tablet stylus if you have one, click and drag both sides of the mouth up and out with small, careful strokes. Increase the deform radius and move the lower lip down slightly and the upper lip up slightly. You can also move the lower eyelids down a little and pull the corners of the eyes out just a tiny bit. This tool has no real undo capability, but if you make a mistake, you can use the R<span class="smaller">EMOVE</span> Deform Mode to correct what you just did.</p><p>We could use this tool to change the still image. If we click the A<span class="smaller">NIMATE</span> tab, however, we can automatically generate an animation. Set the N<span class="smaller">UMBER OF FRAMES</span> to 20 and check the P<span class="smaller">ING PONG</span> box. The additional layers of the animation are built by GIMP after you click OK.</p><p>As with the preceding animations, adjust the timing of layers, optimize the image for GIF, and then export the image as a GIF.</p></div><div class="sect2" title="Animating a Still Image"><div class="titlepage"><div><div><h2 class="title"><a id="animating_a_still_image"/>Animating a Still Image</h2></div></div></div><p>Earlier in this chapter, we used the Filter all Layers tool to make an animation from a multilayer image (see <a class="xref" href="ch06s01.html#method_two_filtering_all_layers" title="Method Two: Filtering All Layers">Method Two: Filtering All Layers</a>). Filter all Layers can also be used to apply systematic changes to all the frames of an existing animation. The tool works by applying a filter to all the layers. You can set the initial and final values of the filter parameters, and if those values are different, the tool filters each layer by varying the parameters progressively from the beginning value to the final one.</p><p>Most of the filters available in GIMP can be applied progressively to the layers of an image. You can even use the Filter all Layers tool with several different filters, one after the other.</p><p>To demonstrate, we’ll animate the image of Olivier’s Siamese cat shown in <a class="xref" href="ch06s03.html#initial_image-id00072" title="Figure 6-33. The initial image">Figure 6-33</a>. Because her name is Aria, change the first layer name to <code class="literal">Aria #1</code>. Duplicate the layer 39 times, and the successive layers are automatically named and numbered from 1 to 40.</p><div class="figure"><a id="iwarp_dialog-id00071"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00480"/><img src="httpatomoreillycomsourcenostarchimages1454886.png.jpg" alt="The IWarp dialog"/></div></div><p class="title">Figure 6-32. The IWarp dialog</p></div><div class="figure"><a id="initial_image-id00072"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00481"/><img src="httpatomoreillycomsourcenostarchimages1454888.png.jpg" alt="The initial image"/></div></div><p class="title">Figure 6-33. The initial image</p></div><p>To choose among the mapping filters in the Filter all Layers tool, type the word <code class="literal">map</code> in the Search box and click S<span class="smaller">EARCH BY</span> N<span class="smaller">AME</span>. Choose the <code class="literal">plug-in-map-object</code> filter, and click A<span class="smaller">PPLY</span>.</p><p>Map the image on a plane and then change the Y value on the <code class="literal">Orientation</code> tab. We want the image to rotate on a vertical axis and make a full 360-degree rotation, so we change the value of Y to –180, as shown in <a class="xref" href="ch06s03.html#parameters_for_the_first_filter" title="Figure 6-34. Parameters for the first filter">Figure 6-34</a> (taken after we clicked P<span class="smaller">REVIEW</span>!). Click OK, and after the first layer is transformed, a small dialog appears.</p><p>Click C<span class="smaller">ONTINUE</span>. As shown in <a class="xref" href="ch06s03.html#parameters_for_the_second_filter" title="Figure 6-35. Parameters for the second filter">Figure 6-35</a>, change the Y rotation to +180. Click OK, type some filename in the continuation dialog, and click C<span class="smaller">ONTINUE</span>. The process takes a long time to run because of the number of layers. In the resulting animation, Aria rotates around the vertical axis, as shown in <a class="xref" href="ch06s03.html#first_animation" title="Figure 6-36. The first animation">Figure 6-36</a>.</p><div class="figure"><a id="parameters_for_the_first_filter"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00482"/><img src="httpatomoreillycomsourcenostarchimages1454890.png.jpg" alt="Parameters for the first filter"/></div></div><p class="title">Figure 6-34. Parameters for the first filter</p></div><p>Now we want to apply a second filter to all of the layers. We apply the filter <span class="smaller">PLUG</span>-<span class="smaller">INAPPLYLENS</span>, using the same parameters for every layer. Apply the filter via Filter all Layers and click the A<span class="smaller">PPLY</span> button to get <a class="xref" href="ch06s03.html#parameters_for_the_second_global_filter" title="Figure 6-37. Parameters for the second global filter">Figure 6-37</a>. Leave the parameters as they are and click OK. The same dialogs as shown previously appear, but this time leave the parameters unchanged. The result appears in <a class="xref" href="ch06s03.html#final_animation" title="Figure 6-38. The final animation">Figure 6-38</a>.</p><div class="figure"><a id="parameters_for_the_second_filter"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00483"/><img src="httpatomoreillycomsourcenostarchimages1454892.png.jpg" alt="Parameters for the second filter"/></div></div><p class="title">Figure 6-35. Parameters for the second filter</p></div><div class="figure"><a id="first_animation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00484"/><img src="httpatomoreillycomsourcenostarchimages1454894.png.jpg" alt="The first animation"/></div></div><p class="title">Figure 6-36. The first animation</p></div><p><a id="iddle2955" class="indexterm"/><a id="iddle3021" class="indexterm"/><a id="iddle3842" class="indexterm"/><a id="iddle4395" class="indexterm"/><a id="iddle5642" class="indexterm"/>You can use the Filter all Layers tool with more than a hundred filters. But the tool does have some limitations:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Although the tool interface lists all the filters, from time to time, we encounter a filter that does not work correctly. A filter isn’t working if you don’t see the successive dialogs that usually appear. This discrepancy happens because each filter must be adapted by the programmer to work with Filter all Layers, and sometimes filters are released without the necessary adaptation. If you run into this problem, all you can do is be patient and hope for an update. In the meantime, you can probably find another, similar filter that does work with the tool.</p></li><li class="listitem"><p>Although Filter all Layers can be used with a variety of filters, the tool itself is fairly straightforward and performs one basic function: It generates a smooth transition between the initial image and the filter-transformed image.</p></li></ul></div><div class="figure"><a id="parameters_for_the_second_global_filter"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00485"/><img src="httpatomoreillycomsourcenostarchimages1454896.png.jpg" alt="Parameters for the second global filter"/></div></div><p class="title">Figure 6-37. Parameters for the second global filter</p></div><div class="figure"><a id="final_animation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00486"/><img src="httpatomoreillycomsourcenostarchimages1454898.png.jpg" alt="The final animation"/></div></div><p class="title">Figure 6-38. The final animation</p></div></div><div class="sect2" title="Morphing"><div class="titlepage"><div><div><h2 class="title"><a id="morphing"/>Morphing</h2></div></div></div><p>The next tool is simple to use, but it produces a very interesting effect if the parameters are set correctly. The main function of the Morphing tool, found in the <span class="strong"><strong>Image: Video &gt; Morph &gt; Morph</strong></span> menu, is to progressively transform a given image into another one. Generally, this works best if the images have something in common. Note that this tool is also a part of GAP, so you need to install this set of plug-ins to use it.</p><p>To demonstrate this tool, we’ll morph one portrait into another. The two portraits were taken on the same day and under the same <a id="iddle1019" class="indexterm"/><a id="iddle1066" class="indexterm"/><a id="iddle3339" class="indexterm"/><a id="iddle4396" class="indexterm"/><a id="iddle5058" class="indexterm"/><a id="iddle5340" class="indexterm"/>conditions. As <a class="xref" href="ch06s03.html#first_portrait" title="Figure 6-39. The first portrait">Figure 6-39</a> and <a class="xref" href="ch06s03.html#second_portrait" title="Figure 6-40. The second portrait">Figure 6-40</a> show, these girls are of the same age, both are blond with blue eyes, both are wearing black clothes, and both were photographed in front of the same background. But their faces, hair and clothing styles, and head tilts are different.</p><div class="figure"><a id="first_portrait"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00487"/><img src="httpatomoreillycomsourcenostarchimages1454900.png.jpg" alt="The first portrait"/></div></div><p class="title">Figure 6-39. The first portrait</p></div><div class="figure"><a id="second_portrait"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00488"/><img src="httpatomoreillycomsourcenostarchimages1454902.png.jpg" alt="The second portrait"/></div></div><p class="title">Figure 6-40. The second portrait</p></div><p>Open both images as layers in a new image, for example, by dragging the thumbnail of one portrait to the Toolbox to create a new image and then dragging the thumbnail of the second portrait into the new image you just created. Make the top layer semitransparent by adjusting the opacity and then move it slightly to align the shoulders and faces of the two girls. Crop the layers so they’re the same size. <a class="xref" href="ch06s03.html#portraits_as_layers" title="Figure 6-41. The portraits as layers">Figure 6-41</a> shows the result, with the top layer still semitransparent.</p><div class="figure"><a id="portraits_as_layers"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00489"/><img src="httpatomoreillycomsourcenostarchimages1454904.png.jpg" alt="The portraits as layers"/></div></div><p class="title">Figure 6-41. The portraits as layers</p></div><p>Before you use the Morphing tool, both layers <span class="emphasis"><em>must</em></span> have an alpha channel: <span class="strong"><strong>Layers: right-click &gt; Add Alpha Channel</strong></span>. After you add an Alpha channel, the layer name is no longer in boldface in the Layers dialog.</p><p>Now select the Morphing tool. Its large dialog has many components, but you need to use only a few of them. The purpose of the Morphing tool is to progressively transform the source image (which appears on the left side of the dialog) to the destination image (which appears on the right side of the dialog). Here the lower layer serves as the source, but you may change that if you prefer. Choose images of a moderate size, so they appear in the preview windows in a correct scale.</p><p>The morphing process uses points placed on the source image and corresponding points placed on the destination image. The source image is transformed by the animation to move each point, as well as its neighboring pixels, to the position of the corresponding point.</p><p>First, place <span class="emphasis"><em>shapepoints</em></span> around the border of both images to prevent weird deformations of <a id="iddle1129" class="indexterm"/><a id="iddle2353" class="indexterm"/><a id="iddle2767" class="indexterm"/><a id="iddle2808" class="indexterm"/><a id="iddle2984" class="indexterm"/><a id="iddle3004" class="indexterm"/><a id="iddle3022" class="indexterm"/><a id="iddle3866" class="indexterm"/>the image frame. Leave the default number, 64, un changed, and click the S<span class="smaller">HAPE</span> button. Now the outlines of the images correspond.</p><p>Next we add shapepoints to the source image and move the corresponding points on the destination image. Click some characteristic feature in the first image. A yellow point appears, and a corresponding yellow point appears on the destination image. We add points on the tip of the nose, at the corners of the eyes, around the mouth, along the chin and hair, and so on. You can experiment with the Edit modes while adding shapepoints. For example, you can move existing shapepoints or delete them or zoom in or out to place difficult shapepoints.</p><p>After adding the shapepoints, the only parameter we change from its default value is the number of steps. This value is the number of layers that will be built as intermediate layers between the source and the destination. We recommend at least 20 steps—or more if the two images being morphed are very different.</p><p>Finally, click OK. The large dialog disappears, and GIMP begins to create the new layers. This process may take a while, depending on the size of the images and on the number of steps. When GIMP is done, the image is ready to be tested with <span class="strong"><strong>Image: Filters &gt; Animation &gt; Playback</strong></span>. We recommend you increase the duration of the first and last frames.</p><p>The best results are obtained when the images are fairly similar and the shapepoints have been carefully placed. <a class="xref" href="ch06s04.html#frame_7_of_the_animation" title="Figure 6-42. Frame 7 of the animation">Figure 6-42</a> and <a class="xref" href="ch06s04.html#frame_14_of_the_animation" title="Figure 6-43. Frame 14 of the animation">Figure 6-43</a> show frames 7 and 14 of our 22-frame animation, respectively. Because the hair and clothing styles were different, the morphing is unnatural for these features, but the faces morphed smoothly.</p><p>To finish the animation, optimize for GIF, and then export the image as an animated GIF.</p></div></div>
<div class="sect1" title="6.4 Using GAP"><div class="titlepage"><div><div><h1 class="title"><a id="sixdot4_using_gap"/>6.4 Using GAP</h1></div></div></div><p>The two simple GAP examples demonstrated on <a class="xref" href="ch06s01.html#method_two_filtering_all_layers" title="Method Two: Filtering All Layers">Method Two: Filtering All Layers</a> and <a class="xref" href="ch06s01.html#method_three_moving_along_a_path" title="Method Three: Moving Along a Path">Method Three: Moving Along a Path</a> are only a brief introduction to this complex and powerful plug-in. In fact, GAP isn’t a plug-in at all, but rather a diverse collection of animation-related plug-ins. Most, but not all, are found in the <span class="strong"><strong>Image: Video</strong></span> menu.</p><div class="figure"><a id="frame_7_of_the_animation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00490"/><img src="httpatomoreillycomsourcenostarchimages1454906.png.jpg" alt="Frame 7 of the animation"/></div></div><p class="title">Figure 6-42. Frame 7 of the animation</p></div><div class="figure"><a id="frame_14_of_the_animation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00491"/><img src="httpatomoreillycomsourcenostarchimages1454908.png.jpg" alt="Frame 14 of the animation"/></div></div><p class="title">Figure 6-43. Frame 14 of the animation</p></div><p>In this section, we consider only the plug-ins that are found on this menu. All of these plug-ins (except the ones in the Morph submenu) deal with multi-image animations rather than multilayer animations, which we’ve created in all but one of the preceding examples (see <a class="xref" href="ch06s01.html#method_three_moving_along_a_path" title="Method Three: Moving Along a Path">Method Three: Moving Along a Path</a>).</p><p>The multi-image format is ideal for building and manipulating large and complex animations. It allows you to convert to and from popular video formats like MPEG. When <a id="iddle2825" class="indexterm"/><a id="iddle2845" class="indexterm"/><a id="iddle2867" class="indexterm"/><a id="iddle2875" class="indexterm"/><a id="iddle3023" class="indexterm"/><a id="iddle3851" class="indexterm"/><a id="iddle5658" class="indexterm"/>necessary, GAP also converts between multi-image and multilayer animation formats. All these benefits take this set of plug-ins a long way toward being a complete video manipulation tool embedded within GIMP.</p><div class="sect2" title="The Move Path Tool"><div class="titlepage"><div><div><h2 class="title"><a id="move_path_tool"/>The Move Path Tool</h2></div></div></div><p>The Move Path tool (<span class="strong"><strong>Image: Video &gt; Move Path</strong></span>) is the main interface for GAP. As you learned in <a class="xref" href="ch06s01.html#method_three_moving_along_a_path" title="Method Three: Moving Along a Path">Method Three: Moving Along a Path</a>, you first need to follow these steps:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Open at least one multilayered or multi-image animation in GIMP. This image will serve as the source of the layers you’ll add to your animation; you may choose to open several images.</p></li><li class="listitem"><p>Create a new folder to contain the new animation.</p></li><li class="listitem"><p>Place a background image for the new animation in this folder. Call it something like <span class="emphasis"><em>name</em></span><code class="literal">-00001.xcf</code>.</p></li><li class="listitem"><p>Open this background image in GIMP, and duplicate it using <span class="strong"><strong>Image: Video &gt; Duplicate Frames</strong></span>. The number of copies should equal the desired number of frames.</p></li><li class="listitem"><p>Once you have the source and background files open, select the Move Path tool from the animation’s source image.</p></li></ol></div><p>If you haven’t set up the environment properly before opening the Move Path tool, the tool complains and refuses to work. Note that you can use an existing multi-image animation as the background, rather than creating one as we’ve done. In this case, simply open the source animation (Step 1 ) and then open the background animation, and you’re ready to open the Move Path tool.</p><p>The Move Path tool adds layers from the source image to a sequence of frames in the target animation. You define how layers are added to the frames by modifying several parameters. Basically, you define <span class="emphasis"><em>positions</em></span> (i.e., relative locations) in the target animation; for each position, define these values for the following parameters:</p><div class="figure"><a id="initial_landscape"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00492"/><img src="httpatomoreillycomsourcenostarchimages1454910.png.jpg" alt="The initial landscape"/></div></div><p class="title">Figure 6-44. The initial landscape</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Position</p></li><li class="listitem"><p>Orientation</p></li><li class="listitem"><p>Scale in X and Y</p></li><li class="listitem"><p>Opacity</p></li><li class="listitem"><p>Perspective</p></li></ul></div><p>If the source image has an active selection, however, you can choose to add just the selection to the new animation.</p><p>You can use the Move Path tool to build an animation with several scenes by building a complex path for the layers in the successive frames and applying changes to only a subset of the frames that correspond to a specific scene.</p><p>Finally, and this point is important, to add several layers to the target frames, apply the Move Path tool multiple times—once for each layer.</p><p>We’ll walk you through two new examples to demonstrate some nifty things this tool can do.</p></div><div class="sect2" title="Binocular Animation"><div class="titlepage"><div><div><h2 class="title"><a id="binocular_animation"/>Binocular Animation</h2></div></div></div><p>First, we make an animation that simulates somebody looking at a scene through binoculars and moving the binoculars in search of a target. The scene is a village surrounded by mountains, as shown in <a class="xref" href="ch06s04.html#initial_landscape" title="Figure 6-44. The initial landscape">Figure 6-44</a>.</p><p>We add the binoculars as a new layer that’s completely black except for two overlapping <a id="iddle1449" class="indexterm"/><a id="iddle1558" class="indexterm"/><a id="iddle1626" class="indexterm"/><a id="iddle2196" class="indexterm"/><a id="iddle2260" class="indexterm"/><a id="iddle2751" class="indexterm"/><a id="iddle2792" class="indexterm"/><a id="iddle3553" class="indexterm"/><a id="iddle3605" class="indexterm"/><a id="iddle4781" class="indexterm"/><a id="iddle5343" class="indexterm"/>circles that are transparent. Here are the steps to create the binoculars:</p><div class="figure"><a id="adding_the_binoculars"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00493"/><img src="httpatomoreillycomsourcenostarchimages1454912.png.jpg" alt="Adding the binoculars"/></div></div><p class="title">Figure 6-45. Adding the binoculars</p></div><div class="figure"><a id="moving_the_binoculars"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00494"/><img src="httpatomoreillycomsourcenostarchimages1454914.png.jpg" alt="Moving the binoculars"/></div></div><p class="title">Figure 6-46. Moving the binoculars</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Create a new transparent layer.</p></li><li class="listitem"><p>Build a circular selection.</p></li><li class="listitem"><p>Save it to a channel (<span class="strong"><strong>Image: Select &gt; Save to Channel</strong></span>) and then select the layer again.</p></li><li class="listitem"><p>Move the selection a horizontal distance equal to about two-thirds its diameter.</p></li><li class="listitem"><p>In the Channels dialog, add the saved channel to the current selection.</p></li><li class="listitem"><p>Save the new binocular selection as a channel.</p></li><li class="listitem"><p>Select the top layer on the Layers tab, invert the selection, and fill it with black.</p></li></ol></div><p>The result should look like <a class="xref" href="ch06s04.html#adding_the_binoculars" title="Figure 6-45. Adding the binoculars">Figure 6-45</a>.</p><p>In our animation, we move the binoculars around the landscape. But both layers are currently the same size, so as the binoculars move, the black won’t fully cover the background, resulting in something like <a class="xref" href="ch06s04.html#moving_the_binoculars" title="Figure 6-46. Moving the binoculars">Figure 6-46</a>. To avoid this, we need to enlarge the top layer to cover the landscape.</p><div class="figure"><a id="enlarging_the_upper_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00495"/><img src="httpatomoreillycomsourcenostarchimages1454916.png.jpg" alt="Enlarging the upper layer"/></div></div><p class="title">Figure 6-47. Enlarging the upper layer</p></div><p>Select <span class="strong"><strong>Image: Layer &gt; Layer Boundary Size</strong></span>, increase the size in both directions, and center the canvas around the enlarged layer, as shown in <a class="xref" href="ch06s04.html#enlarging_the_upper_layer" title="Figure 6-47. Enlarging the upper layer">Figure 6-47</a>. Then make this entire layer black, except for the binocular window. Because this layer is now larger than the canvas, this step is somewhat tricky. Here’s one way to do it:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>Save the binocular selection in a channel, if you haven’t already, and then return to the layer and cancel the selection.</p></li><li class="listitem"><p>Select <span class="strong"><strong>Image: Image &gt; Fit Canvas to Layers</strong></span>.</p></li><li class="listitem"><p>Fill the layer with the foreground color (<span class="inlinemediaobject"><a id="inline_id00209"/><img src="httpatomoreillycomsourcenostarchimages1454534.png.jpg" alt=""/></span>).</p></li><li class="listitem"><p>Restore the selection saved in a channel, return to the layer, and clear the selection contents (<span class="inlinemediaobject"><a id="inline_id00210"/><img src="httpatomoreillycomsourcenostarchimages1454482.png.jpg" alt=""/></span>).</p></li><li class="listitem"><p>Cancel the selection.</p></li></ol></div><p>Because we enlarged the image, we need to crop it at the end of the process.</p><p>Now create a new folder for the animation; call it <code class="literal">Binoculars</code>. Drag the background layer thumbnail from the Layers dialog to the Toolbox, and save the image as <code class="literal">bin-0001.xcf</code> in the new folder <code class="literal">Binoculars</code>.</p><p>Duplicate this frame 59 times, using <span class="strong"><strong>Image: Video &gt; Duplicate Frames</strong></span>. The animation now has 60 frames. We use a path to move the <a id="iddle3024" class="indexterm"/><a id="iddle5375" class="indexterm"/>binoculars around the landscape. Choose the Path tool in the Toolbox (<span class="inlinemediaobject"><a id="inline_id00211"/><img src="httpatomoreillycomsourcenostarchimages1454490.png.jpg" alt=""/></span>) and click to add points to the background image you just saved, as shown in <a class="xref" href="ch06s04.html#binocular_path_across_the_landscape" title="Figure 6-48. The binocular path across the landscape">Figure 6-48</a>.</p><div class="figure"><a id="binocular_path_across_the_landscape"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00496"/><img src="httpatomoreillycomsourcenostarchimages1454918.png.jpg" alt="The binocular path across the landscape"/></div></div><p class="title">Figure 6-48. The binocular path across the landscape</p></div><div class="figure"><a id="importing_the_path_as_a_sequence_of_cont"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00497"/><img src="httpatomoreillycomsourcenostarchimages1454920.png.jpg" alt="Importing the path as a sequence of controlpoints"/></div></div><p class="title">Figure 6-49. Importing the path as a sequence of controlpoints</p></div><p>Select the Move Path tool (<span class="strong"><strong>Image: Video &gt; Move Path. . .</strong></span> ). In the dialog, check that the selected layer is the top layer of the source image, which appears mostly black in the thumbnail. Choose None for the S<span class="smaller">TEPMODE</span> and Center for the H<span class="smaller">ANDLE</span>.</p><p>Click the G<span class="smaller">RAB</span> P<span class="smaller">ATH</span> button in the E<span class="smaller">DIT</span> C<span class="smaller">ONTROLPOINTS</span> area of the dialog to import the path we just built as a sequence of control-points, which are equally placed across the 60 frames. Then the dialog should look similar to <a class="xref" href="ch06s04.html#importing_the_path_as_a_sequence_of_cont" title="Figure 6-49. Importing the path as a sequence of controlpoints">Figure 6-49</a>.</p><p>The GAP plug-ins lack the capability to undo, so check the animation you just built by clicking A<span class="smaller">NIM</span> P<span class="smaller">REVIEW</span>. If everything is correct, click OK to generate the final animation. Discard the multilayer image that was created for the preview.</p></div><div class="sect2" title="Improving the Binocular Animation"><div class="titlepage"><div><div><h2 class="title"><a id="improving_the_binocular_animation"/>Improving the Binocular Animation</h2></div></div></div><p>Although it did serve as a basic introduction to using paths with the Move Path tool, the animation we just created isn’t very realistic. If you are looking through binoculars, it’s the landscape that appears to be moving, not you.</p><p>If you closed it, open the binocular animation that you just made. Create a new folder for the next version of the animation and then create a new blank image that’s much smaller than the landscape in the source image. For this example, we create a 521 × 338 image, and our landscape image is 1042<span class="emphasis"><em>×</em></span>676. Save this image into the new folder with name <code class="literal">bin-0001.xcf</code>, and duplicate it 59 times with <span class="strong"><strong>Image: Video &gt; Duplicate Frames</strong></span>.</p><p>Open the Move Path tool dialog (<span class="strong"><strong>Image: Video &gt; Move Path</strong></span>). Choose the landscape layer of the previous animation as the source layer (top left of the dialog), None for S<span class="smaller">TEPMODE</span> (below S<span class="smaller">OURCE</span> I<span class="smaller">MAGE</span>/L<span class="smaller">AYER</span>), and Center for H<span class="smaller">ANDLE</span> (to the right of S<span class="smaller">TEPMODE</span>), and check I<span class="smaller">NSTANT</span> A<span class="smaller">PPLY</span> at the bottom of the dialog. This time, let’s build the path within the Move Path tool dialog by clicking in the preview to place points. Click A<span class="smaller">DD</span> P<span class="smaller">OINT</span> and then click in the preview to add a new point. If you click close to an existing point in the preview, you end up moving that point rather than adding a new one, so click the last point and drag it to add a new one instead. Note that the source image moves around as you place the points. Our result is shown in <a class="xref" href="ch06s04.html#creating_the_path_by_hand" title="Figure 6-50. Creating the path by hand">Figure 6-50</a>.</p><p>Before finalizing this animation, check the C<span class="smaller">LIP TO</span> F<span class="smaller">RAME</span> checkbox and then click OK. GIMP processes for a while as it builds the first part of the animation, with the landscape moving in the smaller image. You can test the result <a id="iddle2820" class="indexterm"/><a id="iddle2826" class="indexterm"/><a id="iddle2834" class="indexterm"/><a id="iddle2889" class="indexterm"/><a id="iddle3528" class="indexterm"/><a id="iddle3787" class="indexterm"/><a id="iddle3826" class="indexterm"/>by selecting <span class="strong"><strong>Image: Video &gt; Playback</strong></span>.</p><div class="figure"><a id="creating_the_path_by_hand"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00498"/><img src="httpatomoreillycomsourcenostarchimages1454922.png.jpg" alt="Creating the path by hand"/></div></div><p class="title">Figure 6-50. Creating the path by hand</p></div><div class="figure"><a id="placing_the_second_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00499"/><img src="httpatomoreillycomsourcenostarchimages1454924.png.jpg" alt="Placing the second layer"/></div></div><p class="title">Figure 6-51. Placing the second layer</p></div><p>Now place the binoculars above these landscape frames. Use a layer mask. Add the mask as a new layer to all the frames with the Move Path tool again. <a class="xref" href="ch06s04.html#placing_the_second_layer" title="Figure 6-51. Placing the second layer">Figure 6-51</a> shows the settings we used. The binocular layer is chosen as source layer and placed in the center of the image.</p><p>Simply click OK to get the new animation. Each frame contains three layers—from top to bottom: the binocular image, the landscape, and a white background. We want to merge the topmost layer with the background and use the resulting layer as a mask for the landscape layer. This reduces the number of layers and demonstrates the <span class="strong"><strong>Image: Video &gt; Frames Modify</strong></span> tool at the same time.</p><div class="figure"><a id="lowering_the_topmost_layer"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00500"/><img src="httpatomoreillycomsourcenostarchimages1454926.png.jpg" alt="Lowering the topmost layer"/></div></div><p class="title">Figure 6-52. Lowering the topmost layer</p></div><div class="figure"><a id="merging_the_two_bottom_layers"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00501"/><img src="httpatomoreillycomsourcenostarchimages1454928.png.jpg" alt="Merging the two bottom layers"/></div></div><p class="title">Figure 6-53. Merging the two bottom layers</p></div><p>The Frames Modify tool is handy for modifying a set of layers across all the frames in a multi-image animation. The dialog appears in <a class="xref" href="ch06s04.html#lowering_the_topmost_layer" title="Figure 6-52. Lowering the topmost layer">Figure 6-52</a>, showing our first selections. Click the F<span class="smaller">UNCTION</span> menu (at the top of the dialog) and select L<span class="smaller">AYER</span> S<span class="smaller">TACKPOSITION</span> &gt;L<span class="smaller">OWER LAYER</span>(<span class="smaller">S</span>). Leave P<span class="smaller">ATTERN IS A LIST OF LAYER STACK NUMBERS</span> checked, and enter 0 for L<span class="smaller">AYER</span> P<span class="smaller">ATTERN</span>. Click OK.</p><div class="figure"><a id="using_the_bottom_layer_as_a_layer_mask"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00502"/><img src="httpatomoreillycomsourcenostarchimages1454930.png.jpg" alt="Using the bottom layer as a layer mask"/></div></div><p class="title">Figure 6-54. Using the bottom layer as a layer mask</p></div><p><a id="iddle2410" class="indexterm"/><a id="iddle3025" class="indexterm"/>Next we merge the two bottom layers. Select the Modify Frames tool again, and this time choose the settings shown in <a class="xref" href="ch06s04.html#merging_the_two_bottom_layers" title="Figure 6-53. Merging the two bottom layers">Figure 6-53</a>. Because the layers are numbered from top to bottom beginning at 0, the layer pattern is “1 2.” The resulting composite layer is named <code class="literal">Background</code>.</p><p>The final step is shown in <a class="xref" href="ch06s04.html#using_the_bottom_layer_as_a_layer_mask" title="Figure 6-54. Using the bottom layer as a layer mask">Figure 6-54</a>. The bottom layer acts as a mask for the landscape layer.</p></div></div>
<div class="sect1" title="6.5 Exercises"><div class="titlepage"><div><div><h1 class="title"><a id="sixdot5_exercises"/>6.5 Exercises</h1></div></div></div><p><span class="strong"><strong>Exercise 6.1.</strong></span> You know those exasperating advertisements that flash tirelessly on some web pages? Build one in which the logo progressively fades in and out. Do it entirely by hand.</p><p><span class="strong"><strong>Exercise 6.2.</strong></span> Make the same flashing logo as in the preceding exercise, but this time use the Filter all Layers tool.</p><p><span class="strong"><strong>Exercise 6.3.</strong></span> If you have two multilayer animations with the same background, creating an animation that combines all these layers is easy. Use this idea to build an animation in which the logo first appears progressively from the background and then flashes in the foreground. You can do it by hand or by using the Filter all Layers tool.</p><p><span class="strong"><strong>Exercise 6.4.</strong></span> Use the IWarp tool to animate a photographic portrait. You can get an aesthetic result, but more likely you’ll get a funny result. So use the tool on the portrait of somebody you know extremely well, for example, yourself.</p><p><span class="strong"><strong>Exercise 6.5.</strong></span> Use the Morphing tool to build an animation in which a logo progressively changes to another one. Both logos should be the same size.</p><p><span class="strong"><strong>Exercise 6.6.</strong></span> Use the Move Path tool to build an animation in which a logo moves horizontally across the background.</p><p><span class="strong"><strong>Exercise 6.7.</strong></span> You can use the Move Path tool to add successive layers from a multilayer animation to an animation that you’re building, in effect merging the contents of two different animations using L<span class="smaller">OOP</span> as a Stepmode. Use this idea to create a logo that moves horizontally while flashing.</p><p><span class="strong"><strong>Exercise 6.8.</strong></span> Re-create the animation from the third exercise in this chapter, <a class="xref" href="ch06s01.html#method_three_moving_along_a_path" title="Method Three: Moving Along a Path">Method Three: Moving Along a Path</a>, but this time use the tools found in the <span class="strong"><strong>Image: Video</strong></span> menu. First, you must build the two multilayer animations, using the Filter all Layers tool, and then convert these animations from multilayer to multi-image. Edit them to produce the final animation.</p></div></body></html>