["```\n---\ntitle: \"Urban Institute COVID Report\"\noutput: html_document\nparams:\n  state: \"Alabama\"\n---\n\n```", "```\n\n```", "```\n\n# `r params$state`\n\n```", "```\n\n```", "```\n\nIn `r state_text`, there were `r state_cases_per_100000` cases per 100,000\npeople in the last seven days. This puts `r params$state` at number\n`r state_cases_rank` of 50 states and the District of Columbia.\n\n```", "``` \n```", "```\n#> # A tibble: 51 × 4\n#>    total_cases state.name  cases_per_100000 case_rank\n#>    <chr>       <chr>                  <dbl>     <int>\n#>  1 1302945     Alabama                26573        18\n#>  2 246345      Alaska                 33675         2\n#>  3 2025435     Arizona                27827        10\n#>  4 837154      Arkansas               27740        12\n#>  5 9274208     California             23472        35\n#>  6 1388702     Colorado               24115        33\n#>  7 766172      Connecticut            21490        42\n#>  8 264376      Delaware               27150        13\n#>  9 5965411     Florida                27775        11\n#> 10 2521664     Georgia                23750        34\n#> # ... with 41 more rows \n```", "```\nparams:\n  state: \"Alabama\" \n```", "```\n# `r params$state` \n```", "```\nIn `r state_text`, there were `r state_cases_per_100000` cases per 100,000\npeople in the last seven days. This puts `r **params$state**` at number\n`r state_cases_rank` of 50 states and the District of Columbia. \n```", "```\nstate_text <- if_else(params$state == \"District of Columbia\",\nstr_glue(\"the District of Columbia\"), str_glue(\"state of {params$state}\")) \n```", "```\nstate_cases_per_100000 <- cases %>%\n  filter(state.name == params$state) %>%\n  pull(cases_per_100000) %>%\n  comma()\n\nstate_cases_rank <- cases %>%\n  filter(state.name == params$state) %>%\n  pull(case_rank) \n```", "```\ncases %>%\n  mutate(highlight_state = if_else(state.name == params$state, \"Y\", \"N\")) \n```", "```\n#> # A tibble: 51 × 2\n#>    state.name  highlight_state\n#>    <chr>       <chr>\n#>  1 Alabama     Y\n#>  2 Alaska      N\n#>  3 Arizona     N\n#>  4 Arkansas    N\n#>  5 California  N\n#>  6 Colorado    N\n#>  7 Connecticut N\n#>  8 Delaware    N\n#>  9 Florida     N\n#> 10 Georgia     N\n#> #  ... with 41 more rows \n```", "```\n**library(rmarkdown)**\n\n**render(**\n **input = \"urban-covid-budget-report.Rmd\",**\n **output_file = \"Alaska.xhtml\",**\n **params = list(state = \"Alaska\")**\n**)** \n```", "```\n**state <- tibble(state.name) %>%**\n **rbind(\"District of Columbia\") %>%**\n **pull(state.name)** \n```", "```\n#>  [1] \"Alabama\"              \"Alaska\"\n#>  [3] \"Arizona\"              \"Arkansas\"\n#>  [5] \"California\"           \"Colorado\"\n#>  [7] \"Connecticut\"          \"Delaware\"\n#>  [9] \"Florida\"              \"Georgia\"\n#> [11] \"Hawaii\"               \"Idaho\"\n#> [13] \"Illinois\"             \"Indiana\"\n#> [15] \"Iowa\"                 \"Kansas\"\n#> [17] \"Kentucky\"             \"Louisiana\"\n#> [19] \"Maine\"                \"Maryland\"\n#> [21] \"Massachusetts\"        \"Michigan\"\n#> [23] \"Minnesota\"            \"Mississippi\"\n#> [25] \"Missouri\"             \"Montana\"\n#> [27] \"Nebraska\"             \"Nevada\"\n#> [29] \"New Hampshire\"        \"New Jersey\"\n#> [31] \"New Mexico\"           \"New York\"\n#> [33] \"North Carolina\"       \"North Dakota\"\n#> [35] \"Ohio\"                 \"Oklahoma\"\n#> [37] \"Oregon\"               \"Pennsylvania\"\n#> [39] \"Rhode Island\"         \"South Carolina\"\n#> [41] \"South Dakota\"         \"Tennessee\"\n#> [43] \"Texas\"                \"Utah\"\n#> [45] \"Vermont\"              \"Virginia\"\n#> [47] \"Washington\"           \"West Virginia\"\n#> [49] \"Wisconsin\"            \"Wyoming\"\n#> [51] \"District of Columbia\" \n```", "```\n**reports <- tibble(**\n **input = \"urban-covid-budget-report.Rmd\",**\n **output_file = str_glue(\"{state}.xhtml\"),**\n **params = map(state, ~ list(state = .))**\n**)** \n```", "```\n#> # A tibble: 51 × 3\n#>    input                         output_file    params\n#>    <chr>                         <glue>         <list>\n#>  1 urban-covid-budget-report.Rmd Alabama.xhtml   <named list>\n#>  2 urban-covid-budget-report.Rmd Alaska.xhtml    <named list>\n#>  3 urban-covid-budget-report.Rmd Arizona.xhtml   <named list>\n#>  4 urban-covid-budget-report.Rmd Arkansas.xhtml  <named list>\n#>  5 urban-covid-budget-report.Rmd California...  <named list>\n#>  6 urban-covid-budget-report.Rmd Colorado.xhtml  <named list>\n#>  7 urban-covid-budget-report.Rmd Connecticut... <named list>\n#>  8 urban-covid-budget-report.Rmd Delaware.xhtml  <named list>\n#>  9 urban-covid-budget-report.Rmd Florida.xhtml   <named list>\n#> 10 urban-covid-budget-report.Rmd Georgia.xhtml   <named list>\n#> # ... with 41 more rows \n```", "```\n**pwalk(reports, render)** \n```", "```\nrender(\n  input = \"urban-covid-budget-report.Rmd\",\n  output_file = \"Alabama.xhtml\",\n  params = list(state = \"Alabama\")\n)\n\nrender(\n  input = \"urban-covid-budget-report.Rmd\",\n  output_file = \"Alaska.xhtml\",\n  params = list(state = \"Alaska\")\n)\n\nrender(\n  input = \"urban-covid-budget-report.Rmd\",\n  output_file = \"Arizona.xhtml\",\n  params = list(state = \"Arizona\")\n) \n```", "```\n# Load packages\nlibrary(tidyverse)\nlibrary(rmarkdown)\n\n# Create a vector of all states and the District of Columbia\nstate <- tibble(state.name) %>%\n  rbind(\"District of Columbia\") %>%\n  pull(state.name)\n\n# Create a tibble with information on the:\n# input R Markdown document\n# output HTML file\n# parameters needed to knit the document\nreports <- tibble(\n  input = \"urban-covid-budget-report.Rmd\",\n  output_file = str_glue(\"{state}.xhtml\"),\n  params = map(state, ~ list(state = .))\n)\n\n# Generate all of our reports\npwalk(reports, render) \n```"]