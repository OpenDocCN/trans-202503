<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en">
  <head>
    <title>Introduction by Matthew Beckler</title>
    <link href="../styles/9781593278472.css" rel="stylesheet" type="text/css"/>
    <link href="../68851547a55f.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="sbo-rt-content"><h2 class="h2a" id="intro"><span epub:type="pagebreak" id="page_2"/>Introduction by Matthew Beckler</h2>
<p class="noindent">Welcome to <em>10 LED Projects for Geeks</em>, featuring 10 projects of varying complexity that you can build using electronics. You’ll be using the Raspberry Pi and Arduino to create all kinds of gadgets and inventions in this book. In this introduction you’ll learn how to get started with both boards, including installing the necessary software, and you’ll meet the simple electronic component that is the focus of this book: the LED.</p>
<p class="indent">At the end of this introduction, you’ll also find a list of popular suppliers for parts you’ll need in the projects.</p>
<h3 class="h3" id="lev1"><strong>ALL ABOUT LEDS</strong></h3>
<p class="noindent">Before you start building cool projects using LEDs, let’s take a moment to define them. An <em>LED</em> is a circuit component that converts electricity into light. LEDs come in all colors, shapes, and sizes, and are useful in a variety of projects. Most LEDs are used for <em>indication</em>, meaning they indicate the status of something to a nearby human, such as “door is open,” “radio is on,” or “security system is armed.” Nowadays, larger and brighter LEDs are available that can provide <em>illumination</em> of an object or region. <a href="intro.xhtml#introfig1">Figure 1</a> shows some basic LEDs used for indication.</p>
<div class="image"><a id="introfig1"/><img src="../images/f0002-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 1:</strong> A variety of single LEDs</p>
<p class="indent">LED stands for <em>light-emitting diode</em>. There are a few words here to unpack, but let’s start with the word <em>diode</em>. In a circuit, a diode works like a one-way valve, permitting electricity to flow in only one predefined direction. If you try to send electricity in the other direction, it won’t flow. Diodes convert alternating current (AC) electricity <span epub:type="pagebreak" id="page_3"/>into direct current (DC), a process called <em>rectification</em>. Diodes were originally designed for use in AM radio receivers to rectify radio frequency signals, but are now used in many different applications where electrical current must flow in only one direction. For example, diodes in many consumer electronics help protect the circuitry against batteries inserted backward. Most of the time, however, the diode aspect of an LED is not important. The rest of the name, <em>light-emitting</em>, simply means that this type of diode is designed to light up when electricity passes through.</p>
<h4 class="h4" id="lev2"><strong>How LEDs Work</strong></h4>
<p class="noindent">An LED is a <em>semiconductor device</em>, built with crystalline metals like silicon and germanium, plus small amounts of impurities that change the characteristics of the material. These impurities are added to the semiconductor in a process called <em>doping</em>. The added element, called the <em>dopant</em>, changes the base material into either a <em>p-type</em> or <em>n-type</em> semiconductor.</p>
<p class="indent">The distinction between p-type and n-type depends on whether the dopant adds excess free electrons, or causes a deficit of free electrons. The place where these two types of doped semiconductor meet is called the <em>P-N junction</em>, and this is where light is created. Electrical energy passing through the junction excites some of the charge carriers, which emit light when they return to their nonexcited state in a process called <em>electroluminescence</em>.</p>
<p class="indent">The exact chemical composition of the semiconductor material determines the band gap of the materials involved, which in turn determines the color of light produced. The first LEDs, developed in the 1960s, emitted light in the infrared end of the color spectrum, which is invisible to the human eye but still useful for scientific experiments. Later developments of other semiconductors and dopants introduced new, visible colors, resulting in mass production of red LEDs in the late 1960s and yellow LEDs in the early 1970s.</p>
<p class="indent">A high-brightness blue LED was very difficult to develop, and was considered the Holy Grail of the LED world until 1994, when three Japanese scientists finally figured out the secret to a blue LED. They received the 2014 Nobel Prize in physics for this accomplishment!</p>
<div class="sidebar">
<p class="sidebart"><strong>A BRIEF HISTORY OF ARTIFICIAL LIGHTING</strong></p>
<p class="spara">Throughout human history, the development of artificial lighting has been incredibly important in the advancement of technology. Without artificial lighting, it’s almost impossible to do much productive work after sunset, whether that involves crafting, entertainment, or education. For a long time, the only way to produce artificial light was to burn some sort of fuel, such as wood, beeswax, oil, coal gas, or kerosene. This changed with the development of electricity distribution networks in the late 1800s when electric lighting became widespread.</p>
<p class="spara1">Early electric lighting consisted of <em>incandescent light bulbs</em>, which produce light by heating a thin filament wire until it glows white-hot, typically in a bulb filled with inert gas (to extend the filament life). These bulbs convert only a small percentage of the input energy into light, wasting the rest as heat. Incandescent light bulbs eventually gave way to <em>gas-discharge bulbs</em>, including fluorescent lights, neon signs, and high-intensity discharge (HID) lamps such as streetlights, which pass an electric arc through a tube of sealed gas to produce light more efficiently. Gas-discharge bulbs typically require a high voltage, so they are inconvenient for portable and low-power applications. With a <em>light-emitting diode</em>, nothing gets white-hot and no gas arcs are involved, just highly efficient light production.</p>
</div>
<h4 class="h4" id="lev3"><span epub:type="pagebreak" id="page_4"/><strong>LED Configurations</strong></h4>
<p class="noindent">LEDs are very popular for all types of artificial light, and come in many configurations. Let’s explore some of the most common types you’ll encounter.</p>
<h5 class="h5" id="lev4"><strong>Single and Bicolor LEDs</strong></h5>
<p class="noindent">The basic <em>single LED</em> configuration has two connections: the anode and cathode. If sufficient voltage is applied, the LED lights up. Pretty simple! Single LEDs come in all different shapes, sizes, and colors, and some, such as the second and fourth ones shown in <a href="intro.xhtml#introfig1">Figure 1</a>, have extra plastic to help direct the generated light through an opening in the side of an electronics case.</p>
<p class="indent"><span epub:type="pagebreak" id="page_5"/>A <em>bicolor LED</em> contains two LEDs in the same two-lead package, typically with the individual LEDs connected anode-to-cathode, as shown in <a href="intro.xhtml#introfig2">Figure 2</a>.</p>
<div class="image"><a id="introfig2"/><img src="../images/f0005-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 2:</strong> A bicolor LED has two LEDs connected anode-to-cathode.</p>
<p class="indent">Usually the two LEDs have different colors, enabling the circuit to display two different colors using only two leads. For example, if current travels through the circuit from left to right, the lower LED turns on. If current travels through the circuit from right to left, the upper LED turns on.</p>
<p class="indent">Another fun type is the <em>candle flicker LED</em>, which contains a small computer chip that turns the LED on and off in a flickering pattern, designed to emulate the natural flicker of a candle. You’ve probably seen these LEDs at fancy restaurants or wedding receptions, or anywhere you want to have the ambiance of a candle without the risk of fire.</p>
<h5 class="h5" id="lev5"><strong>Red-Green-Blue LED</strong></h5>
<p class="noindent">The <em>red-green-blue (RGB) LED</em> packages three LEDs into one, and actually allows you to create a whole spectrum of colors, not just red, green, and blue. For example, you can combine red and green light to make yellow, green and blue light to create cyan, and red and blue light to make violet. Mixing all three colors of light at the same intensity produces white light.</p>
<p class="indent">By combining these three colors of light at varying levels of brightness for each individual color, you can make millions of colors; this is the same method your TV and phone use to display full-color images. Usually, to vary the brightness, each color is switched on and off very rapidly, which tricks our eyes into seeing each color at a different level of intensity. The simplest RGB LED has four connections, one for each of the three colors plus one connection common to all three LEDs. This common connection can be either a <em>common anode (CA)</em> or <em>common cathode (CC)</em>, which describes the internal connections of a four-pin RGB LED. <a href="intro.xhtml#introfig3">Figure 3</a> shows a diagram of the connections of a common anode RGB LED.</p>
<div class="image"><span epub:type="pagebreak" id="page_6"/><a id="introfig3"/><img src="../images/f0006-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3:</strong> A common anode RGB LED contains red, green, and blue LEDs and has four wire leads</p>
<p class="indent">Another common type of RGB LED is the <em>digitally controlled RGB LED</em>, which contains a tiny computer chip used to control the brightness of each color. Your microcontroller communicates with the chip in each RGB LED and sets the desired color. The chips in the RGB LEDs are often either the WS2812B or the SK6812, and software libraries exist for almost any system you want to use with them (including Arduino, Raspberry Pi, and many others).</p>
<p class="indent">The biggest benefit of using digitally controlled RGB LEDs is that you can “set and forget” them, so your microcontroller can update the LED with the latest desired color, then move on to other tasks instead of having to constantly update the LED brightness. You can also chain RGB LEDs together to form large strings or arrays of full-color RGB LEDs, making them useful for art projects and outdoor displays.</p>
<p class="indent">These LEDs are available in a variety of form factors, as shown in <a href="intro.xhtml#introfig4">Figures 4</a> and <a href="intro.xhtml#introfig5">5</a>.</p>
<div class="image"><a id="introfig4"/><img src="../images/f0006-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 4:</strong> A variety of RGB LEDs: tiny surface-mount chips; four-pin through-hole package; LEDs preattached to small circuit boards</p>
<div class="image"><a id="introfig5"/><img src="../images/f0006-03.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 5:</strong> A flexible grid of digitally controlled RGB LEDs</p>
<p class="indent"><span epub:type="pagebreak" id="page_7"/>These figures show the digitally controlled RGB LEDs in a variety of packages, including tiny surface-mount chips, four-pin through-hole packages, LEDs attached to little circuit boards, and even LEDs preattached in flexible grids.</p>
<p class="indent">A final type of RGB LED is a two-connection, internally controlled LED. These are a good option if you’re looking for really cheap RGB LEDs with only two leads. These LEDs have a small control chip inside, but unlike with the digitally controlled RGB LEDs, you can’t actually control what they do. For example, as soon as you provide power to these LEDs, the internal control chip starts displaying a prerecorded sequence of colors on the RGB LED, usually cycling through each primary and secondary color with a nice color fade between each one.</p>
<h4 class="h4" id="lev6"><strong>Reading an LED Datasheet</strong></h4>
<p class="noindent">The manufacturer of any LED usually provides a technical datasheet full of facts and figures. It can seem overwhelming, but don’t worry! For the purposes of this book, you need to know only two important numbers to use the LED safely. <a href="intro.xhtml#introfig6">Figure 6</a> shows a typical LED datasheet that you’ll use to find the critical details, which are highlighted here in red.</p>
<div class="image"><a id="introfig6"/><img src="../images/f0007-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 6:</strong> An LED datasheet with forward current and forward voltage highlighted in red</p>
<p class="indent"><span epub:type="pagebreak" id="page_8"/>An LED produces light when electrical current flows through it, but too much current can overheat and damage it. Using the <em>forward voltage</em> and the <em>maximum current</em> parameters from the datasheet, we can figure out what size resistor we need to operate the LED safely.</p>
<h5 class="h5" id="lev7"><strong>Forward Voltage</strong></h5>
<p class="noindent">The <em>forward voltage</em>, or <em>V<sub>f</sub></em>, of an LED is the minimum amount of voltage the LED needs to start conducting electricity. It measures the difference in voltage between the anode and cathode when it’s on. If you apply a voltage below V<sub>f</sub>, the LED will not conduct any electricity or light up. When the LED is operating normally, the voltage across the LED will be equal to V<sub>f</sub>. We’ll use this fact later on when we start calculating circuit parameters.</p>
<p class="indent">The V<sub>f</sub> of an LED depends on the chemistry of the materials used, which also determines the color of the LED. For example, red LEDs have a typical V<sub>f</sub> of 1.5 to 2 V, while blue or white LEDs tend to have higher V<sub>f</sub> values in the range of 2 to 3 V.</p>
<h5 class="h5" id="lev8"><strong>Maximum Current</strong></h5>
<p class="noindent">If your voltage exceeds V<sub>f</sub>, the LED conducts as much electricity as possible, which can overheat and damage it. To prevent this, we need a second value from the datasheet: the <em>maximum current</em>, which is the maximum electrical current that can pass through the LED without overheating it.</p>
<p class="indent">Most LEDs have a <em>maximum steady current</em> and a higher <em>maximum pulsed current</em>. Usually, we use the maximum steady current for our calculations. We measure current in units of amperes, or <em>amps</em> (abbreviated as <em>A</em>), and in thousandths of an amp, or <em>milliamps</em> (abbreviated as <em>mA</em>). Current is the amount of electricity that is flowing through a device, and it determines the brightness of an LED. For example, most small LEDs light up with only 10 to 30 mA of current. Some larger LEDs and LED assemblies need hundreds of milliamps or even several amps of current!</p>
<h4 class="h4" id="lev9"><strong>Resistance, LEDs, and Ohm’s Law</strong></h4>
<p class="noindent">To safely power an LED, we need to provide at least V<sub>f</sub> voltage across the LED but also limit the current to ensure it remains below the datasheet’s max current allowed. The easiest way to do this is to add a resistor “in series” (inline) with the LED. A <em>resistor</em> is the simplest possible circuit component, with a very simple relationship between the amount of voltage across the resistor, the current <span epub:type="pagebreak" id="page_9"/>flowing through the resistor, and the amount of resistance of the resistor. This relationship is called <em>Ohm’s law</em> and can be expressed by the following equation:</p>
<p class="center">voltage = current × resistance</p>
<p class="indent">We can simplify this expression using the letter <em>I</em> to represent current, giving us the familiar <em>V</em> = <em>I</em> × <em>R</em> equation for Ohm’s law. Resistance is measured in units called <em>ohms</em>, abbreviated as Ω.</p>
<p class="indent">Let’s use a practical example to understand this relationship. Imagine a resistor that has 1,000 Ω of resistance. If we apply 12 V to this resistor, how much current will flow through it? To answer this question, we simply substitute the variables in the equation with the information given:</p>
<div class="imagec"><img src="../images/f0009-01.jpg" alt="image"/></div>
<p class="indent">Using Ohm’s law, you can see that 12 mA of current will flow through a resistor with 1,000 Ω of resistance when we apply 12 V. Let’s try this same calculation again, but with 36 V this time:</p>
<div class="imagec"><img src="../images/f0009-02.jpg" alt="image"/></div>
<p class="indent">Now, let’s see how resistors can help us protect an LED from drawing too much current.</p>
<h4 class="h4" id="lev10"><strong>Calculating Resistance to Use with an LED</strong></h4>
<p class="noindent">If we pair an LED with a resistor, they work together to limit the current through both devices. <a href="intro.xhtml#introfig7">Figure 7</a> shows how this works.</p>
<div class="image"><span epub:type="pagebreak" id="page_10"/><a id="introfig7"/><img src="../images/f0010-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 7:</strong> Using a resistor in series (inline) with an LED to limit the current and protect the LED</p>
<p class="indent">Notice that the current through the LED is the same as the current through the resistor. You can see that the overall power supply voltage is also equal to the voltage across the LED plus the voltage across the resistor. We can write these two facts as two simple equations to describe our circuit:</p>
<div class="imagec"><img src="../images/f0010-02.jpg" alt="image"/></div>
<p class="indent">We already know that the LED current needs to be below the maximum it can handle. For this circuit, let’s say we want 20 mA of LED current maximum. We also know the LED’s forward voltage (V<sub>f</sub>) from the datasheet. For this example, let’s say the forward voltage is 2 V, and the power supply voltage is 5 V. With these facts, we can fill in some variables in the two equations.</p>
<div class="imagec"><img src="../images/f0010-03.jpg" alt="image"/></div>
<p class="indent">So we have computed that the resistor current is 20 mA, and the resistor voltage is 3 V. All we need to do now is to calculate what resistance value we need for the resistor, using Ohm’s law.</p>
<div class="imagec"><img src="../images/f0010-04.jpg" alt="image"/></div>
<p class="indent">Rearranging, we find:</p>
<div class="imagec"><img src="../images/f0010-05.jpg" alt="image"/></div>
<p class="indent"><span epub:type="pagebreak" id="page_11"/>This tells us we need 150 Ω of resistance to keep the LED current at 20 mA with a 5 V power supply. Keep in mind that most resistors are accurate only to within 5 percent of their specified value. This means that a 1,000 Ω resistor value will have an actual resistance between 950 and 1,050 Ω, and some resistors might even have a 10 percent tolerance for the accuracy of their value. If your calculations result in a resistance value that isn’t commonly available, round up to the nearest available value. Rounding up the resistance may slightly reduce the current, but it’s better than slightly increasing the current and possibly overloading the LED!</p>
<p class="indent">We can generalize this calculation for a situation where you have an LED with inline resistor connected to a power supply:</p>
<div class="imagec"><img src="../images/f0011-01.jpg" alt="image"/></div>
<p class="indent">That’s a lot of math. But how does this technology get used? Let’s look at some of the ways people use LEDs.</p>
<h4 class="h4" id="lev11"><strong>LEDs in the World</strong></h4>
<p class="noindent">We use LEDs in a wide variety of applications in both obvious and not-so-obvious ways. For example, many digital clock displays on appliances like the microwave or radio have a <em>seven-segment display</em> for each digit of the time. This display consists of seven LEDs arranged in the shape of a blocky numeral 8, as shown in <a href="intro.xhtml#introfig8">Figure 8</a>. By turning each of the seven segments on or off, we can display all the digits from 0 through 9.</p>
<div class="image"><a id="introfig8"/><img src="../images/f0011-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 8:</strong> A seven-segment display consists of multiple LEDs integrated into a single plastic package, enabling the display of digits 0 through 9.</p>
<p class="indent">A less obvious LED application is their use in many <em>fiber optic cables</em> and <em>infrared remote controls</em> for communications. The vast undersea internet cables that connect cities and continents consist of thin glass strands with an LED (or sometimes a laser) at each end, <span epub:type="pagebreak" id="page_12"/>transmitting pulses of light through the cable to communicate data. <a href="intro.xhtml#introfig9">Figure 9</a> shows an example of fiber optic cables.</p>
<div class="image"><a id="introfig9"/><img src="../images/f0012-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 9:</strong> A bundle of fiber optic cables</p>
<p class="indent">Infrared (IR) remote controls for televisions and other appliances use a special type of LED that creates invisible infrared light that only the appliance’s sensor can detect. Because many video cameras are sensitive to infrared light, we use IR LEDs in security cameras to generate nighttime illumination that remains invisible to human eyes.</p>
<p class="indent">Many new traffic signals and automobile lights now use LEDs, as shown in <a href="intro.xhtml#introfig10">Figure 10</a>, which helps to increase visibility and reduce both power consumption and waste heat generation.</p>
<div class="image"><a id="introfig10"/><img src="../images/f0012-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 10:</strong> An LED traffic light</p>
<p class="indent">With the relatively recent development of pleasing “warm white” LEDs, shown in <a href="intro.xhtml#introfig11">Figure 11</a>, many households and businesses are starting to adopt LED lighting. These LED bulbs can be over 10 times more efficient than an incandescent light bulb, and their reduced energy use makes up for their higher purchase price within just a few years of use.</p>
<div class="image"><span epub:type="pagebreak" id="page_13"/><a id="introfig11"/><img src="../images/f0013-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 11:</strong> A white LED light bulb designed to fit in a standard lamp socket</p>
<p class="indent">Now that you’ve learned about the different types of LED and how they work, you’re almost ready to dive in to the projects! In addition to a wide variety of LEDs, some of the projects in this book will need a Raspberry Pi or Arduino. These next sections guide you through setting up both. If you already have these set up, or want to set them up later when you need them, you can skip these sections for now and go straight to the first project!</p>
<h3 class="h3" id="lev12"><strong>GETTING STARTED WITH THE RASPBERRY PI</strong></h3>
<p class="noindent">This section will show you how to set up your Raspberry Pi with a formatted SD card and the Raspbian operating system.</p>
<h4 class="h4" id="lev13"><strong>What You’ll Need</strong></h4>
<p class="noindent">Raspberry Pi is perhaps the most well known of the small-form-factor computers on the market right now. About the size of a credit card, the Raspberry Pi is a tiny computer that includes a processor, USB and other connectors, and input/output pins, as shown in <a href="intro.xhtml#introfig12">Figure 12</a>.</p>
<div class="image"><a id="introfig12"/><img src="../images/f0013-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 12:</strong> A Raspberry Pi single-board computer</p>
<p class="indent"><span epub:type="pagebreak" id="page_14"/>There are a few different models of Pi. Any Pi will do for the purposes of this book.</p>
<p class="indent">Like any computer, the Pi needs a keyboard, mouse, display, power supply, and some storage for the operating system. You can use any USB mouse and keyboard as well as any HDMI display, like a computer monitor or a TV. The power supply is a micro USB connector like you’ll find in many cell phones, so you can reuse an old phone charger if you already have one. While many computers have a spinning magnetic hard disk drive for storage, the Pi needs a separate micro SD card to store the operating system (OS) and files you create. You’ll therefore need to get an 8GB or 16GB micro SD card—the bigger, the better. We’ll be following along with the official Raspberry Pi Software Guide (<em><a href="https://www.raspberrypi.org/learning/software-guide/quickstart/">https://www.raspberrypi.org/learning/software-guide/quickstart/</a></em>).</p>
<h4 class="h4" id="lev14"><strong>Installing Raspbian with NOOBS</strong></h4>
<p class="noindent">The most popular OS for Raspberry Pi is called <em>Raspbian</em>, and you can easily install it by copying files onto the micro SD card from another computer. The easiest way to get started with Raspberry Pi is by using the <em>NOOBS</em> (“New Out-of-the-Box Software”) system, which lets you choose which OS to install.</p>
<p class="indent">To install NOOBS, visit the Raspberry Pi website’s Downloads section (<em><a href="https://www.raspberrypi.org/downloads/noobs/">https://www.raspberrypi.org/downloads/noobs/</a></em>)<em>.</em> Then select the <strong>NOOBS (Offline and network install)</strong> option. Don’t select NOOBS LITE, which doesn’t have Raspbian included by default. To download NOOBS, click the <strong>Download ZIP</strong> option. You can select <strong>Download Torrent</strong> instead if you’re comfortable using BitTorrent software (this helps reduce bandwidth costs for the Raspberry Pi Foundation). Either way, when the download finishes, open the ZIP archive using your unzip program and extract the files to your computer. Put them somewhere easy to find, like on your Desktop or in your <em>Documents</em> directory.</p>
<h4 class="h4" id="lev15"><strong>Preparing the SD Card</strong></h4>
<p class="noindent">Next, we need to format the micro SD card to prepare it to receive the NOOBS files. Even if your SD card is brand new, I recommend formatting it, as it needs to be entirely empty to receive the OS. If your computer runs Windows or macOS, download SD Formatter 4.0 from the SD Association website (<em><a href="https://www.sdcard.org/">https://www.sdcard.org/</a></em>) by going to the Downloads section and finding the formatter for your current <span epub:type="pagebreak" id="page_15"/>OS. Follow the instructions to install the software and use it to format your micro SD card.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>If your computer runs Linux, you can use any disk formatting utility to format the SD card using a Master Boot Record (MBR) and a single FAT partition.</em></p>
</div>
<p class="indent">After formatting the micro SD card, drag and drop the extracted NOOBS files onto the micro SD card drive. Wait until the files finish copying, then safely remove the micro SD card and insert it into the Raspberry Pi.</p>
<h4 class="h4" id="lev16"><strong>Starting Up Your Pi</strong></h4>
<p class="noindent">If you haven’t already, plug in your keyboard and mouse. Connect to your display with the HDMI cable. If you have an Ethernet cable available to connect your Pi to the internet, plug it in at this time. Finally, plug in the micro USB power cable, and the Raspberry Pi should start up. Unlike most computers, the Raspberry Pi doesn’t have a power button, but automatically powers up when you plug in the power connector. Refer to <a href="intro.xhtml#introfig12">Figure 12</a> to see which ports are which.</p>
<p class="indent">If this is the first time you’re using this micro SD card, the NOOBS system will ask you to select which operating system you want to use. Because it’s designed especially for the Raspberry Pi and built in to the NOOBS system, Raspbian is the OS I recommend, but there are other options that may require an internet connection to download.</p>
<p class="indent">Now that you’re done setting up your Raspberry Pi is and the Raspbian OS, you’re ready to build a bunch of projects. <a href="ch06.xhtml#ch06">Project 6</a> in this book uses the Pi. After that, there are a ton of cool projects documented online you can try, both on the official Raspberry Pi website (<em><a href="https://www.raspberrypi.org/resources/">https://www.raspberrypi.org/resources/</a></em>) and on other websites like Instructables and Hack-a-Day.</p>
<h3 class="h3" id="lev17"><strong>GETTING STARTED WITH THE ARDUINO AND THE ARDUINO IDE</strong></h3>
<p class="noindent">Some projects in this book use the Arduino as their brains. The Arduino is less complicated than the Raspberry Pi in that it doesn’t have the computer and networking capabilities that the Pi has, but simply runs one program over and over until you unplug it. However, the Arduino excels at many hardware projects, especially when high-precision timing is required (such as talking to digital RGB LEDs). Let’s explore what Arduino is, cover how to install it, and get familiar with the Arduino workflow.</p>
<h4 class="h4" id="lev18"><span epub:type="pagebreak" id="page_16"/><strong>What Is Arduino?</strong></h4>
<p class="noindent">The Arduino project began in 2003 with the aim of making it easy for people to get started with electronics, programming, and interactive design. The project created a variety of open source microcontroller circuit boards, along with a series of software libraries tied together in an easy-to-use <em>integrated development environment (IDE)</em>. Arduino boards provide an interface between the digital world and the real world, giving users a simple way to read data from sensors like buttons, switches, and thermometers, as well as drive actuators such as lights, motors, and LED displays. An entire ecosystem has sprung up around the core Arduino system, offering a huge set of add-on hardware and software you can use to design the next great robot, art installation, or musical instrument.</p>
<p class="indent">The basic Arduino workflow goes something like this. First, write the programming code, called a <em>sketch</em>, in the Arduino IDE program on your computer. Second, connect the Arduino circuit board to your computer using a USB cable. Third, select the <strong>Upload</strong> button in the Arduino IDE to transfer the code into the Arduino board. The code will then automatically start running, reading sensors and driving actuators to interact with the real world.</p>
<p class="indent">The most popular Arduino board is the <em>Arduino Uno</em>, which we’ll use as an example in this section to illustrate the process of uploading code into the board. Arduino boards have a main processor chip (such as the Atmel ATMega328 on the Arduino Uno) as well as a USB chip that handles the interface between the computer and the main processor. These boards can be connected to your computer with just a USB cable.</p>
<p class="indent">Other Arduino-compatible boards, such as the EMSL Diavolino and the SparkFun Arduino Pro Mini, don’t include the USB chip, usually to reduce cost. For these boards, you need a separate piece of hardware to provide the USB interface between the computer and the main processor chip. Because the most popular USB interface chip for the Arduino is made by a company called FTDI, we call this USB interface an <em>FTDI cable</em>, or an <em>FTDI Friend</em>.</p>
<h4 class="h4" id="lev19"><strong>Installing and Using the Arduino IDE</strong></h4>
<p class="noindent">To get started with Arduino, you first need to install the Arduino IDE from the official website (<em><a href="https://www.arduino.cc/">https://www.arduino.cc/</a></em>) under the Software section. I recommend you download the offline IDE rather than relying on the web editor<em>.</em> Packages are available for Windows, macOS, and Linux distributions, including Raspberry Pi.</p>
<p class="indent"><span epub:type="pagebreak" id="page_17"/><a href="intro.xhtml#introfig13">Figure 13</a> shows the Arduino IDE running on Windows 10.</p>
<div class="image"><a id="introfig13"/><img src="../images/f0017-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 13:</strong> The Arduino IDE interface</p>
<p class="indent">The interface should look similar across different platforms. The important toolbar buttons are as follows:</p>
<p class="noindentt"><span class="ent">➊</span> <strong>checkmark</strong> Checks for any errors and verifies that the sketch can be compiled</p>
<p class="noindentt"><span class="ent">➋</span> <strong>right arrow</strong> Uploads and transfers the sketch into the circuit board</p>
<p class="noindentt"><span class="ent">➌</span> <strong>magnifying glass</strong> Opens the serial monitor to see information sent by the Arduino board</p>
<p class="indent">The programming code for the sketch goes into the large text area in the center of the screen. The programming language used for Arduino is called <em>Wiring</em>, which is similar to the C++ language.</p>
<h4 class="h4" id="lev20"><strong>What an Arduino Sketch Looks Like</strong></h4>
<p class="noindent">The Arduino IDE comes with a large number of example sketches, intended to demonstrate all the different things that an Arduino can do. The simplest sketch, called <em>Blink</em>, blinks an LED light. Most Arduino boards have a built-in LED that you can turn on and off using the sketch code, and the Blink sketch uses this built-in LED as an output signal. This sketch is a great way to test out a new Arduino board and confirm that the IDE is properly set up.</p>
<p class="indent"><span epub:type="pagebreak" id="page_18"/>To open the Blink example sketch, use the menus to select <strong>File</strong> <span class="ent">▸</span> <strong>Examples</strong> <span class="ent">▸</span> <strong>01.Basics</strong> <span class="ent">▸</span> <strong>Blink</strong>, as shown in <a href="intro.xhtml#introfig14">Figure 14</a>.</p>
<div class="image"><a id="introfig14"/><img src="../images/f0018-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 14:</strong> Selecting and opening the Blink sketch</p>
<p class="indent">Every Arduino sketch has at least two sections of programming code, which we call <em>functions</em>. The first required function is <code>setup()</code>, which we call only once when the board is first powered up or reset. The <code>setup()</code> function is where we place all activity having to do with initialization and configuration, such as initializing the functionality of each pin and configuring the features of an external library. The other required function is <code>loop()</code>, which is called repeatedly after <code>setup()</code> has been called once. You can create your own functions, too, to help organize your sketch code. <a href="intro.xhtml#introlist1">Listing 1</a> shows the complete program listing for the Blink sketch.</p>
<p class="listing" id="introlist1"><strong>LISTING 1:</strong> The complete code listing for the Blink sketch</p>
<pre><span class="gray">// the setup function runs once when you press reset</span><br/><span class="gray">// or power the board</span><br/><span class="dark-teal">void</span> <span class="green">setup</span>() {<br/>  <span class="gray">// initialize digital pin LED_BUILTIN as an output</span><br/>  <span class="orange">pinMode</span>(<span class="dark-teal">LED_BUILTIN</span>, <span class="dark-teal">OUTPUT</span>);<br/>}<br/><br/><span class="gray">// the loop function runs over and over again forever</span><br/><span class="dark-teal">void</span> <span class="green">loop</span>() {<br/>  <span class="orange">digitalWrite</span>(<span class="dark-teal">LED_BUILTIN</span>, <span class="dark-teal">HIGH</span>);   <span class="gray">// turn the LED on (HIGH</span><br/><span class="gray">                                     // is the voltage level)</span><br/>  <span class="orange">delay</span>(1000);                       <span class="gray">// wait for a second</span><br/>  <span class="orange">digitalWrite</span>(<span class="dark-teal">LED_BUILTIN</span>, <span class="dark-teal">LOW</span>);    <span class="gray">// turn the LED off by</span><br/><span class="gray">                                     // making the voltage LOW</span><br/>  <span class="orange">delay</span>(1000);                       <span class="gray">// wait for a second</span><br/>}</pre>
<p class="indent"><span epub:type="pagebreak" id="page_19"/>Here, you can see that the <code>setup()</code> function configures the LED’s pin as an output pin that can turn the LED either on or off. This is in contrast to an input pin, which would read in a <code>HIGH</code>, <code>LOW</code>, or even a varying voltage applied to it.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>Lines and phrases beginning with // are comments and do not affect the code’s execution.</em></p>
</div>
<p class="indent">The <code>loop()</code> function contains two other Arduino functions. The simplest is <code>delay()</code>, which pauses the program execution for the specified number of milliseconds (thousandths of a second). Each time the program reaches the <code>delay(1000)</code> line, it stops and waits for 1 second before continuing.</p>
<p class="indent">The <code>digitalWrite()</code> function works only on a previously configured output pin, and it sets the output voltage to either <code>HIGH</code> or <code>LOW</code>. The <code>LOW</code> voltage is always 0 V (usually called <em>ground</em>), and the <code>HIGH</code> voltage depends on the specific circuit board, but is usually 5 V or 3.3 V.</p>
<p class="indent">In sum, this sketch first configures the LED’s pin as a digital output, and then turns the LED on, waits for 1 second, turns the LED off, waits 1 second, and repeats the process over and over again until the Arduino board is reset or the power is disconnected.</p>
<h4 class="h4" id="lev21"><strong>Configuring Your Board and Port</strong></h4>
<p class="noindent">Before we compile and upload the sketch into the Arduino board, we need to use the Tools menu to tell the Arduino IDE what kind of Arduino board we’re using. <a href="intro.xhtml#introfig15">Figure 15</a> shows how you can select the Arduino Uno by choosing <strong>Tools</strong> <span class="ent">▸</span> <strong>Board</strong>. Here, we’re using the Uno as an example, but be sure to select the entry that matches the board you’re using.</p>
<div class="image"><a id="introfig15"/><img src="../images/f0019-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 15:</strong> Using the Tools menu to select which Arduino board is connected</p>
<p class="indent"><span epub:type="pagebreak" id="page_20"/>Some Arduino boards have additional options you can use to specify the amount of available memory, how fast it should run, or which processor type is installed, but the Uno doesn’t have any options like this. All boards do have the Port option, which specifies which USB port the device is connected to. This is platform dependent, of course, because ports have different names on macOS, Windows, and Linux, but most modern Arduino boards will be able to transmit their name, which should show up in the Port menu as shown in <a href="intro.xhtml#introfig16">Figure 16</a>.</p>
<div class="image"><a id="introfig16"/><img src="../images/f0020-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 16:</strong> Selecting the correct Arduino board from the list of connected devices in the Port menu</p>
<p class="indent">After you configure the board and port, the final step is to use the Upload button to prepare (<em>compile</em>) and upload the sketch code into the attached Arduino board. To do this, press the right-arrow button on the toolbar, or select the <strong>Sketch</strong> <span class="ent">▸</span> <strong>Upload</strong> menu option. You should be able to see the compiler output in the black area below the sketch code, which also displays how much space remains for program storage and global variables. Because each Arduino board allots different amount of space for storing the compiled sketch and the global variables, be sure to pay attention to these numbers to keep track of how full the chip is getting.</p>
<p class="indent">Although the Blink sketch doesn’t transmit any debugging messages to the serial monitor, many other sketches use the serial monitor as a way to provide feedback on the running program. Some sketches even take input from the serial monitor and use it to influence how the program runs. In this way, you can make your sketches interact with the computer or any other device that can talk to a USB serial port.</p>
<p class="indent">Now that you’ve learned the basic workflow of using the Arduino IDE to compile and upload code, let’s touch on a couple of add-ons used in this book.</p>
<p class="indent">Some of the projects in this book use Arduino add-ons for particular tasks. For example, the Adafruit Trinket is used for <a href="ch02.xhtml#ch02">Project 2</a>: The Desktop UFO, and the Adafruit Lilypad, which is often used for developing wearables, appears in <a href="ch09.xhtml#ch09">Project 9</a>: Wearable Timing Bracer. Each project that uses an add-on will explain how to set it up and use it.</p>
<div class="sidebar">
<p class="sidebart" id="introsb1"><span epub:type="pagebreak" id="page_21"/><strong>ARDUINO BOARDS WITHOUT A BUILT-IN USB CONNECTION</strong></p>
<p class="spara">As mentioned, some Arduino-compatible boards skip the USB interface chip to save cost or reduce power consumption, or both. One popular board like this is the <em>Arduino Pro Mini</em>, created by SparkFun. The Arduino Pro Mini (shown here; left) requires a separate board, the FTDI Friend (shown here; right) to provide the USB interface with the computer. These two boards work together to provide a low-cost Arduino board with a removable (and reusable) USB interface.</p>
<div class="image"><img src="../images/f0021-01.jpg" alt="image"/></div>
<p class="spara1">The photos are aligned as the boards would be when connected together. Simply solder in some header pins on the right side of the Arduino Pro Mini so that they can connect to the socket on the FTDI Friend. Use the Arduino IDE’s Boards menu to select <strong>Arduino Pro or Pro Mini</strong>. This should enable the Processor option just below the Board option; be sure to pick the correct processor type and speed.</p>
</div>
<h3 class="h3" id="lev22"><strong>RECOMMENDED SUPPLIERS</strong></h3>
<p class="noindent">Throughout this book, each project lists a small number of online stores as a source for the components used in it. Still, every store has products unique to it, so more sources are better! The following are online stores serving worldwide or regional markets.</p>
<h4 class="h4" id="lev23"><strong>United States</strong></h4>
<p class="noindentt"><strong>Adafruit (New York; <em><a href="http://www.adafruit.com">www.adafruit.com</a></em>)</strong> This electronics store has a ton of LED products and an impressive array of microcontrollers, breakout boards, and kits.</p>
<p class="noindentt"><strong>BGMicro (Texas; <em><a href="http://www.bgmicro.com">www.bgmicro.com</a></em>)</strong> We love the unusual and obsolete parts found in this quirky store.</p>
<p class="noindentt"><span epub:type="pagebreak" id="page_22"/><strong>Digi-Key (Minnesota; <em><a href="http://www.digikey.com">www.digikey.com</a></em>)</strong> Get lost in the vast array of parts found in this huge online store.</p>
<p class="noindentt"><strong>Evil Mad Scientist (California; <em><a href="http://www.evilmadscientist.com">www.evilmadscientist.com</a></em>)</strong> Kitmakers and component sellers par excellence. Owners Lenore Edman and Windell H. Oskay also cowrote <a href="ch01.xhtml#ch01">Project 1</a> of this book.</p>
<p class="noindentt"><strong>Jameco Electronics (California; <em><a href="http://www.jameco.com">www.jameco.com</a></em>)</strong> Around since 1974, Jameco might literally be your dad’s electronics store. It has a great paper catalog.</p>
<p class="noindentt"><strong>Mouser Electronics (Texas; <em><a href="http://www.mouser.com">www.mouser.com</a></em>)</strong> If you want a rare sensor or a thousand of a component, check with this mega-distributor.</p>
<p class="noindentt"><strong>SparkFun Electronics (Colorado; <em><a href="http://www.sparkfun.com">www.sparkfun.com</a></em>)</strong> Founded by a college student, SparkFun has exploded into an online retailer of kits and individual components.</p>
<p class="noindentt"><strong>Tower Hobbies (Illinois; <em><a href="http://www.towerhobbies.com">www.towerhobbies.com</a></em>)</strong> Champaign-based Tower Hobbies is a radio-control and drone superstore.</p>
<h4 class="h4" id="lev24"><strong>Europe</strong></h4>
<p class="noindentt"><strong>Elextra (Denmark; <em><a href="http://www.elextra.dk">www.elextra.dk</a></em>)</strong> This fun store has kits and tools and a wider-than-normal selection of electronic products.</p>
<p class="noindentt"><strong>Farnell/Newark element 14 (United Kingdom; <em><a href="http://www.newark.com">www.newark.com</a></em>)</strong> Based out of Leeds, Farnell sells electronic components throughout the world. Chicago-based Newark is its sister company.</p>
<p class="noindentt"><strong>Maplin (United Kingdom; <em><a href="http://www.maplin.co.uk">www.maplin.co.uk</a></em>)</strong> Electronics retailer Maplin has over 200 stores in the UK and sells online as well.</p>
<p class="noindentt"><strong>Play Zone (Switzerland; <em><a href="http://www.play-zone.ch">www.play-zone.ch</a></em>)</strong> This hobby electronics site, available in English and German, has everything from building sets to Raspberry Pis to individual components.</p>
<p class="noindentt"><strong>RS Components (UK; <em><a href="https://uk.rs-online.com/web">https://uk.rs-online.com/web</a></em>)</strong> This electronics superstore boasts half a million products.</p>
<h4 class="h4" id="lev25"><strong>Asia</strong></h4>
<p class="noindentt"><strong>AliExpress (China; <em><a href="http://www.aliexpress.com">www.aliexpress.com</a></em>)</strong> There is no way to enumerate all the crazy things you can buy from eBay-like AliExpress.</p>
<p class="noindentt"><strong>DealExtreme (Hong Kong; <em><a href="http://www.dx.com">www.dx.com</a></em>)</strong> Everything imaginable available and at eyebrow-raising prices—what could go wrong?</p>
<p class="noindentt"><span epub:type="pagebreak" id="page_23"/><strong>HobbyKing (Hong Kong; <em><a href="http://www.hobbyking.com">www.hobbyking.com</a></em>) This is a radio-control and drone superstore with warehouses in the US.</strong></p>
<p class="noindentt"><strong>Seeed Studio (Shenzhen; <em><a href="http://www.seeedstudio.com">www.seeedstudio.com</a></em>)</strong> Not just an online store, Seeed also runs business incubator Seeed Propogate as well as Seeed Fusion, a prototyping shop.</p>
</div>
  </body>
</html>
