- en: '**1**'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '**1**'
- en: '**GETTING STARTED**'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**开始使用**'
- en: '![image](../images/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/common-01.jpg)'
- en: R provides a wonderfully flexible programming environment favored by the many
    researchers who do some form of data analysis as part of their work. In this chapter,
    I’ll lay the groundwork for learning and using R, and I’ll cover the basics of
    installing R and certain other things useful to know before you begin.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: R 提供了一个非常灵活的编程环境，深受许多从事数据分析工作的研究人员喜爱。在本章中，我将为学习和使用 R 打下基础，并介绍安装 R 的基础知识以及一些在开始之前值得了解的内容。
- en: '**1.1 Obtaining and Installing R from CRAN**'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**1.1 从 CRAN 获取和安装 R**'
- en: R is available for Windows, OS X, and Linux/Unix platforms. You can find the
    main collection of R resources online at the Comprehensive R Archive Network (CRAN).
    If you go to the R project website at *[http://www.r-project.org/](http://www.r-project.org/)*,
    you can navigate to your local CRAN mirror and download the installer relevant
    to your operating system. [Section A.1](app01.xhtml#app01lev1sec96) provides step-by-step
    instructions for installing the base distribution of R.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: R 可用于 Windows、OS X 和 Linux/Unix 平台。你可以在综合 R 存档网络（CRAN）上找到 R 资源的主要集合。如果你访问 R
    项目网站 *[http://www.r-project.org/](http://www.r-project.org/)*，你可以导航到本地的 CRAN 镜像，并下载与你的操作系统相关的安装程序。[第
    A.1 节](app01.xhtml#app01lev1sec96)提供了安装 R 基础分发版的逐步说明。
- en: '**1.2 Opening R for the First Time**'
  id: totrans-6
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**1.2 初次打开 R**'
- en: R is an interpreted language that’s strictly case- and character-sensitive,
    which means that you enter instructions that follow the specific syntactic rules
    of the language into a console or command-line interface. The software then interprets
    and executes your code and returns any results.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: R 是一种解释型语言，严格区分大小写和字符，这意味着你需要将遵循特定语法规则的指令输入到控制台或命令行界面中。软件随后解释并执行你的代码，并返回任何结果。
- en: '**NOTE**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*R is what’s known as a* high-level *programming language.* Level *refers to
    the level of abstraction away from the fundamental details of computer execution.
    That is, a* low-level *language will require you to do things such as manually
    manage the machine’s memory allotments, but with a high-level language like R,
    you’re fortunately spared these technicalities.*'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '*R 是一种所谓的* 高级 *编程语言。* 级别 *是指从计算机执行的基本细节中抽象出来的层次。也就是说，低级语言需要你像手动管理机器的内存分配一样做一些事情，但像
    R 这样的高级语言，幸运的是，你不需要处理这些技术细节。*'
- en: When you open the base R application, you’re presented with the R console; [Figure
    1-1](ch01.xhtml#ch1fig1) shows a Windows instance, and the left image of [Figure
    1-2](ch01.xhtml#ch1fig2) shows an example in OS X. This represents R’s naturally
    incorporated *graphical user interface (GUI)* and is the typical way base R is
    used.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当你打开基础 R 应用程序时，会看到 R 控制台；[图 1-1](ch01.xhtml#ch1fig1) 显示了 Windows 中的实例，[图 1-2](ch01.xhtml#ch1fig2)
    左图显示了 OS X 中的示例。这代表了 R 自然融入的 *图形用户界面（GUI）*，这是使用基础 R 的典型方式。
- en: '![image](../images/f01-01.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f01-01.jpg)'
- en: '*Figure 1-1: The R GUI application (default configuration) in Windows*'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 1-1：Windows 中 R GUI 应用程序（默认配置）*'
- en: The functional, “no-frills” appearance of the interpreter, which in my experience
    has struck fear into the heart of many an undergraduate, stays true to the very
    nature of the software—a blank statistical canvas that can be used for any number
    of tasks. Note that OS X versions use separate windows for the console and editor,
    though the default behavior in Windows is to contain these panes in one overall
    R window (you can change this in the GUI preferences if desired; see [Section
    1.2.1](ch01.xhtml#ch01lev2sec06)).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 解释器的功能性和“简洁”的外观，在我看来，常常让许多本科生感到畏惧，这也恰恰体现了该软件的本质——一个空白的统计画布，可以用于任何数量的任务。请注意，OS
    X 版本使用单独的窗口来显示控制台和编辑器，而 Windows 中的默认行为是将这些面板包含在一个整体的 R 窗口中（如果需要，你可以在 GUI 偏好设置中更改此设置；详见[第
    1.2.1 节](ch01.xhtml#ch01lev2sec06)）。
- en: '![image](../images/f01-02.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f01-02.jpg)'
- en: '*Figure 1-2: The base R GUI console pane (left) and a newly opened instance
    of the built-in editor (right) in OS X*'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 1-2：OS X 中的基础 R GUI 控制台面板（左）和新打开的内置编辑器实例（右）*'
- en: '**NOTE**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*As I’ve just done, in some parts of the book I’ll refer specifically to the
    R GUI functionality in Windows and OS X, given these are the two platforms most
    often used by beginners. As well as Linux/Unix implementations, it’s possible
    to run R from a terminal or shell or, indeed, in the alternative* batch *mode.
    The vast majority of the code in this book is functional in all settings.*'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '*正如我刚才所做的那样，在本书的某些部分，我将特别提到 Windows 和 OS X 中的 R GUI 功能，因为这两种平台是初学者最常用的。除了 Linux/Unix
    实现之外，R 也可以从终端或 shell 运行，甚至可以在批处理模式下运行。书中的绝大多数代码在所有设置下都是功能性的。*'
- en: '***1.2.1 Console and Editor Panes***'
  id: totrans-18
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.1 控制台和编辑器面板***'
- en: There are two main window types used for programming R code and viewing output.
    The console or command-line interpreter that you’ve just seen is where all execution
    takes place and where all textual and numeric output is provided. You may use
    the R console directly for calculations or plotting. You would typically use the
    console directly only for short, one-line commands.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 用于编程 R 代码和查看输出的有两种主要窗口类型。你刚刚看到的控制台或命令行解释器是所有执行发生的地方，也是所有文本和数字输出的地方。你可以直接使用 R
    控制台进行计算或绘图。通常，你只会直接使用控制台来执行短小的单行命令。
- en: 'By default, the R *prompt* that indicates R is ready and awaiting a command
    is a `>` symbol, after which a text cursor appears. To avoid confusion with the
    mathematical symbol for “greater than,” >, some authors (including me) prefer
    to modify this. A typical choice is `R>`, which you can set as follows:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，R 的 *提示符* 用 `>` 符号表示，表示 R 已准备好并等待输入命令，此时光标会出现在提示符后面。为了避免与数学符号“更大于”的符号
    > 混淆，一些作者（包括我）更喜欢修改这个提示符。一个常见的选择是 `R>`，你可以按如下方式设置：
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: With the cursor placed at the prompt, you can use the keyboard up arrow (↑)
    and down arrow (↓) to scroll through any previously executed commands; this is
    useful when making small tweaks to earlier commands.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 将光标置于提示符后，你可以使用键盘上的向上箭头（↑）和向下箭头（↓）滚动浏览之前执行过的命令；这在对之前的命令进行小幅调整时非常有用。
- en: For longer chunks of code and function authoring, it’s more convenient to first
    write your commands in an *editor* and execute them in the console only when you’re
    done. There is a built-in R code editor for this purpose. The R *scripts* you
    write in the code editor are essentially just plain-text files with a *.R* extension.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 对于较长的代码块和函数的编写，最好先在 *编辑器* 中编写命令，完成后再在控制台中执行。为此，R 提供了一个内置的代码编辑器。在代码编辑器中编写的 R
    *脚本* 本质上只是带有 *.R* 扩展名的纯文本文件。
- en: You can open a new instance of the editor using the R GUI menus (for example,
    File → New script in Windows or File → New Document in OS X).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过 R GUI 菜单打开一个新的编辑器实例（例如，在 Windows 中选择 文件 → 新建脚本，或者在 OS X 中选择 文件 → 新建文档）。
- en: The built-in editor features useful keystroke shortcuts (for example, CTRL-R
    in Windows or ![image](../images/common-02.jpg)-RETURN in OS X), which automatically
    send lines to the console. You can send the line upon which the cursor sits, a
    highlighted line, a highlighted part of a line, or a highlighted chunk of code.
    It’s common to have multiple editor panes open at once when working with multiple
    R script files; keystroke code submissions simply operate with respect to the
    currently selected editor.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 内置编辑器提供了有用的快捷键（例如，在 Windows 中是 CTRL-R，或者在 OS X 中是 ![image](../images/common-02.jpg)-RETURN），这些快捷键会自动将行发送到控制台。你可以发送光标所在的行、已选中的行、已选中的行的一部分，或者已选中的代码块。当你在处理多个
    R 脚本文件时，通常会同时打开多个编辑器面板；快捷键提交代码时只会作用于当前选中的编辑器。
- en: Aesthetics such as coloring and character spacing of both the console and editor
    can be tailored to a certain extent depending on operating system; you simply
    need to access the relevant GUI preferences. [Figure 1-3](ch01.xhtml#ch1fig3)
    shows the R GUI preferences in Windows (Edit → GUI preferences...) and OS X (R
    → Preferences...). A nice feature of the OS X version of R in particular is the
    code-coloring and bracket-matching features of the editor, which can improve the
    authoring and readability of large sections of code.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 控制台和编辑器的美学效果，如着色和字符间距，可以根据操作系统的不同进行一定程度的定制；你只需访问相关的 GUI 偏好设置即可。[图 1-3](ch01.xhtml#ch1fig3)
    显示了 Windows 中的 R GUI 偏好设置（编辑 → GUI 偏好设置...）和 OS X 中的设置（R → 偏好设置...）。特别是 OS X 版本的
    R 提供了代码着色和括号匹配功能，这能提高大量代码的编写和可读性。
- en: '![image](../images/f01-03.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f01-03.jpg)'
- en: '*Figure 1-3: The R GUI preferences in Windows (left) and OS X (right)*'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 1-3：Windows（左）和 OS X（右）中的 R GUI 偏好设置*'
- en: '***1.2.2 Comments***'
  id: totrans-29
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.2 注释***'
- en: 'In R, you can annotate your code with *comments*. Just preface the line with
    a hash mark (`#`), and anything that comes thereafter will be ignored by the interpreter.
    For example, executing the following in the console does nothing but return you
    to the prompt:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在 R 中，您可以使用 *注释* 来注解您的代码。只需在行首加上井号符号（`#`），之后的内容将被解释器忽略。例如，在控制台执行以下内容不会做任何事情，只会将您返回到提示符：
- en: '[PRE1]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Comments can also appear after valid commands.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 注释也可以出现在有效命令之后。
- en: '[PRE2]'
  id: totrans-33
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: If you’re writing large or complicated chunks of code in the editor, this kind
    of annotation can be helpful to others (and indeed yourself!) who want to understand
    what your code is doing.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在编辑器中编写大量或复杂的代码，这种注释可以帮助其他人（以及您自己！）理解您的代码在做什么。
- en: '***1.2.3 Working Directory***'
  id: totrans-35
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.3 工作目录***'
- en: An active R session always has a *working directory* associated with it. Unless
    you explicitly specify a file path when saving or importing data files, R will
    use this working directory by default. To check the location of the working directory,
    use the `getwd` function.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 活跃的 R 会话始终与一个 *工作目录* 相关联。除非您在保存或导入数据文件时明确指定文件路径，否则 R 会默认使用这个工作目录。要检查工作目录的位置，可以使用
    `getwd` 函数。
- en: '[PRE3]'
  id: totrans-37
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: File paths are always enclosed in double quotation marks, and R uses forward
    slashes, not backslashes, when specifying folder locations.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 文件路径总是被双引号括起来，R 在指定文件夹位置时使用正斜杠，而不是反斜杠。
- en: 'You can change the default working directory using the function `setwd` as
    follows:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `setwd` 函数更改默认工作目录，如下所示：
- en: '[PRE4]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: You may provide your file path relative to the current working directory or
    fully (in other words, from a system root drive). Either way, it’s important to
    remember the case-sensitive nature of R; you must match the naming and punctuation
    of any folder names exactly or an error will be thrown.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以相对于当前工作目录提供文件路径，或者提供完整路径（换句话说，从系统根驱动器开始）。无论哪种方式，都必须记住 R 对大小写敏感；您必须精确匹配文件夹名称的大小写和标点符号，否则会抛出错误。
- en: That said, if you’re happy specifying a full and correct file path each time
    you read or write a file (there are further details in [Chapter 8](ch08.xhtml#ch08)),
    then the files of interest can reside anywhere on your computer.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 也就是说，如果您愿意每次读取或写入文件时都指定完整且正确的文件路径（[第 8 章](ch08.xhtml#ch08)中有更多细节），那么相关文件可以存放在您计算机的任何位置。
- en: '***1.2.4 Installing and Loading R Packages***'
  id: totrans-43
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.4 安装和加载 R 包***'
- en: The base installation of R comes ready with a plethora of built-in commands
    for numeric calculations, common statistical analyses, and plotting and visualization.
    These commands can be used right from the outset and needn’t be loaded or imported
    in any way. I’ll refer to these functions as *built-in* or *ready-to-use* in this
    text.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: R 的基本安装已经准备好大量内建命令，用于数值计算、常见统计分析以及绘图和可视化。这些命令可以直接使用，无需任何加载或导入。我将在本文中称这些函数为 *内建*
    或 *现成可用* 的函数。
- en: Slightly more specialized techniques and data sets are contained within *packages*
    (also referred to as *libraries*) of code. Using contributed packages is common,
    and you’ll be doing so throughout this book, so it’s important to get comfortable
    with installing and loading the required libraries.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 更加专业的技术和数据集包含在 *包*（也称为 *库*）中。使用贡献的包是常见的做法，在本书中您将会经常这样做，因此熟悉安装和加载所需库非常重要。
- en: '[Section A.2](app01.xhtml#app01lev1sec97) covers the relevant details concerning
    package download and installation from CRAN, but I’ll provide a brief overview
    here.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 A.2 节](app01.xhtml#app01lev1sec97)涵盖了从 CRAN 下载和安装软件包的相关细节，但在这里我将提供一个简要概述。'
- en: '**Loading Packages**'
  id: totrans-47
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**加载包**'
- en: 'There are a small number of recommended packages that are included with the
    base distribution of R (listed in [Section A.2.2](app01.xhtml#app01lev2sec274)).
    They don’t need to be installed separately, but to use them, you do need to load
    them by calling `library`. One package you’ll use in this book is named `MASS`
    ([Venables and Ripley, 2002](ref.xhtml#ref69)). To load it (or any other installed
    package) and gain access to its functions and data sets, simply execute `library`
    at the prompt as follows:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 有少数推荐的包已经包含在 R 的基础分发版中（列在 [第 A.2.2 节](app01.xhtml#app01lev2sec274)）。这些包无需单独安装，但要使用它们，您需要通过调用
    `library` 来加载它们。在本书中，您将使用一个名为 `MASS` 的包（[Venables 和 Ripley, 2002](ref.xhtml#ref69)）。要加载它（或任何其他已安装的包）并访问其功能和数据集，只需在提示符下执行
    `library`，如下所示：
- en: '[PRE5]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Note that calling `library` provides access to a package’s functionality only
    for the running R session. When you close R and reopen a fresh instance, you’ll
    need to reload any packages you want to use.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，调用 `library` 仅为当前的 R 会话提供对包功能的访问。当你关闭 R 并重新打开一个新的实例时，你需要重新加载任何你想使用的包。
- en: '**Installing Packages**'
  id: totrans-51
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**安装包**'
- en: There are thousands of contributed packages not included with the typical R
    installation; to make them loadable in R, you must first download and install
    them from a repository (usually CRAN). The easiest way to do this is by using
    the `install.packages` function directly at the R prompt (for this you need an
    Internet connection).
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 有成千上万的贡献包没有包含在典型的 R 安装中；为了让它们可以在 R 中加载，你必须首先从仓库（通常是 CRAN）下载并安装它们。最简单的方法是直接在
    R 提示符下使用 `install.packages` 函数（为此，你需要互联网连接）。
- en: 'For example, one such package is `ks` ([Duong, 2007](ref.xhtml#ref20)), which
    you’ll use in [Chapter 26](ch26.xhtml#ch26). Executing the following will attempt
    to connect to your local CRAN mirror and download and install `ks`, as well as
    several packages upon which it relies (called *dependencies*):'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，`ks` 包（[Duong, 2007](ref.xhtml#ref20)）就是一个这样的包，你将在[第 26 章](ch26.xhtml#ch26)中使用它。执行以下命令将尝试连接到本地
    CRAN 镜像，下载并安装 `ks`，以及它依赖的几个包（称为*依赖项*）：
- en: '[PRE6]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The console will show running output as the procedure completes.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 控制台将在过程完成时显示运行输出。
- en: You need to install a package only once; thereafter it will be available for
    your R installation. You can then load your installed package (like `ks`) in any
    newly opened instance of R with a call to `library`, just as you did for `MASS`.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 你只需要安装包一次；之后它将对你的 R 安装可用。然后，你可以像加载 `MASS` 一样，通过调用 `library` 在任何新打开的 R 实例中加载已安装的包（如
    `ks`）。
- en: '[Section A.2.3](app01.xhtml#app01lev2sec275) offers more detail on package
    installation.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 A.2.3 节](app01.xhtml#app01lev2sec275)提供了有关包安装的更多细节。'
- en: '**Updating Packages**'
  id: totrans-58
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**更新包**'
- en: The maintainers of contributed packages periodically provide version updates
    to fix bugs and add functionality. Every so often, you might want to check for
    updates to your collection of installed packages.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 贡献包的维护者会定期提供版本更新，以修复错误和添加功能。你可能需要不时检查已安装包的更新情况。
- en: From the R prompt, a simple execution of the following will attempt to connect
    to your set package repository (defaulting to CRAN), looking for versions of all
    your installed packages that are later than those you currently have.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 从 R 提示符执行以下命令，将尝试连接到你的包仓库（默认为 CRAN），查找所有已安装包的更新版本。
- en: '[PRE7]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[Section A.3](app01.xhtml#app01lev1sec98) offers more details about updating
    packages and [Section A.4](app01.xhtml#app01lev1sec99) discusses alternate CRAN
    mirrors and repositories.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '[第 A.3 节](app01.xhtml#app01lev1sec98)提供了更多关于更新包的详细信息，[第 A.4 节](app01.xhtml#app01lev1sec99)讨论了备用
    CRAN 镜像和仓库。'
- en: '***1.2.5 Help Files and Function Documentation***'
  id: totrans-63
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.5 帮助文件和函数文档***'
- en: R comes with a suite of *help files* that you can use to search for particular
    functionality, to seek information on precisely how to use a given function and
    specify its *arguments* (in other words, the values or objects you supply to the
    function when you execute it), to clarify the role of arguments in the operations,
    to learn about the form of any returned objects, to provide possible examples
    of using the function, and to get details on how you may cite any software or
    data sets.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: R 配备了一套*帮助文件*，你可以利用它们来搜索特定功能，了解如何使用给定的函数并指定其*参数*（换句话说，执行函数时你提供的值或对象），澄清参数在操作中的角色，学习任何返回对象的形式，提供函数使用示例，并获取如何引用软件或数据集的详细信息。
- en: To access the help file for a given command or other object, use the `help`
    function at the console prompt or use the convenient shortcut `?`. For example,
    consider the ready-to-use arithmetic mean function, `mean`.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问给定命令或其他对象的帮助文件，请在控制台提示符下使用 `help` 函数或方便的快捷方式 `?`。例如，考虑现成的算术平均函数 `mean`。
- en: '[PRE8]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This brings up the file in the top image of [Figure 1-4](ch01.xhtml#ch1fig4).
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 这会弹出[图 1-4](ch01.xhtml#ch1fig4)中的文件。
- en: '![image](../images/f01-04.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f01-04.jpg)'
- en: '*Figure 1-4: The R help file for the function* `mean` *(top) and the results
    of a help search for the string* `"mean"` *(bottom) in OS X*'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '*图 1-4：R 中函数* `mean` *的帮助文件*（上图）*和在 OS X 中搜索字符串* `"mean"` *的帮助结果*（下图）'
- en: 'If you’re unsure of the precise name of the desired function, you can search
    the documentation across all installed packages using a character string (a statement
    in double quotes) passed to `help.search`, or you can use `??` as a shortcut:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不确定所需函数的精确名称，你可以使用字符字符串（双引号中的语句）传递给`help.search`来搜索所有已安装包中的文档，或者你也可以使用`??`作为快捷方式：
- en: '[PRE9]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This search brings up a list of functions, with their host packages and descriptions,
    whose help files contain the string of interest, as shown in the bottom image
    of [Figure 1-4](ch01.xhtml#ch1fig4) (the highlighted entry is that of the arithmetic
    mean).
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这个搜索会列出包含相关字符串的函数、它们所在的包和描述，如[图1-4](ch01.xhtml#ch1fig4)底部图像所示（高亮显示的条目是算术平均值的函数）。
- en: 'All help files follow the general format shown in the top image of [Figure
    1-4](ch01.xhtml#ch1fig4); the length and level of detail in the file typically
    reflect the complexity of the operations carried out by the function. Most help
    files include the first three items listed here; the others are common but optional:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 所有帮助文件遵循[图1-4](ch01.xhtml#ch1fig4)顶部图像中展示的通用格式；文件的长度和详细程度通常反映了函数执行操作的复杂性。大多数帮助文件包括这里列出的前三项；其他项则是常见但可选的：
- en: • The *Description* section provides a short statement about the operations
    carried out.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: • *描述*部分简要说明了执行的操作。
- en: • The *Usage* section specifies the form of the function in terms of how it
    should be passed to the R console, including the natural order of the arguments
    and any default values (these are the arguments that are shown being set using
    `=`).
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: • *用法*部分指定了函数的形式，包括如何将其传递给R控制台，参数的自然顺序以及任何默认值（这些是通过`=`设置的参数）。
- en: • In the *Arguments* section, more detail is given about what each argument
    does as well as the possible values that they’re allowed to take on.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: • 在*参数*部分，提供了每个参数的详细说明，以及它们允许采用的可能值。
- en: • The nature of the object that’s returned by the function (if anything) is
    specified under *Value*.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: • 返回的对象的性质（如果有的话）在*返回值*下进行了说明。
- en: • The *References* section provides relevant citations for the command or the
    methodology behind the function.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: • *参考文献*部分提供了与命令或函数背后的方法论相关的引用。
- en: • The help files for related functions are linked under *See Also*.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: • 相关函数的帮助文件可以通过*另见*链接找到。
- en: • *Examples* provides executable code that you can copy and paste into the console,
    demonstrating the function in action.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: • *示例*提供了可以复制并粘贴到控制台中的可执行代码，演示函数的实际应用。
- en: There are several more possible fields in a help file—functions with longer
    explanations often contain a *Details* section after the *Arguments* section.
    Common traps or mistakes made when calling the function are usually placed in
    a *Warnings* section, and additional information can be placed in *Notes*.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 帮助文件中可能还有更多的字段——具有较长解释的函数通常在*参数*部分后面包含一个*详细信息*部分。调用函数时常见的陷阱或错误通常会放在*警告*部分，额外的信息可以放在*注释*部分。
- en: Although they might seem quite technical when you’re first starting out, I encourage
    you to keep looking at help files—even if you already know how a function works,
    getting comfortable with the layout and interpretation of function documentation
    is an important part of becoming a skilled R user.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然当你刚开始时它们看起来可能相当技术化，但我鼓励你继续查看帮助文件——即使你已经知道一个函数的工作原理，熟悉函数文档的布局和解释也是成为一名熟练R用户的重要步骤。
- en: '***1.2.6 Third-Party Editors***'
  id: totrans-83
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.2.6 第三方编辑器***'
- en: The popularity of R has led to the development of several third-party code editors,
    or compatible plug-ins for existing code-editing software, which can enhance the
    experience of coding in R.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: R的流行促使了多个第三方代码编辑器的开发，或者为现有的代码编辑软件提供兼容插件，这些都能提升在R中编程的体验。
- en: One noteworthy contribution is RStudio ([RStudio Team, 2015](ref.xhtml#ref56)).
    This is an integrated development environment (IDE) available free for Windows,
    OS X, and Linux/Unix platforms at *[http://www.rstudio.com/](http://www.rstudio.com/)*.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 一个值得注意的贡献是RStudio（[RStudio团队，2015](ref.xhtml#ref56)）。这是一个集成开发环境（IDE），可以在Windows、OS
    X和Linux/Unix平台上免费使用，网址为*[http://www.rstudio.com/](http://www.rstudio.com/)*。
- en: RStudio includes a direct-submission code editor; separate point-and-click panes
    for things such as file, object, and project management; and the creation of markup
    documents incorporating R code. [Appendix B](app02.xhtml#app02) discusses RStudio
    and its capabilities in more detail.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: RStudio 包含一个直接提交的代码编辑器；独立的点选面板，用于文件、对象和项目管理等功能；以及创建包含 R 代码的标记文档。[附录 B](app02.xhtml#app02)更详细地讨论了
    RStudio 及其功能。
- en: Use of any third-party editor, including RStudio, is by and large a personal
    choice. In this book, I simply assume use of the typical base R GUI application.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 使用任何第三方编辑器，包括 RStudio，基本上是个人选择。在本书中，我假设使用的是典型的基础 R 图形用户界面应用程序。
- en: '**1.3 Saving Work and Exiting R**'
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**1.3 保存工作并退出 R**'
- en: 'So, you’ve spent a few hours coding in R, and it’s time to go home? When saving
    work in R, you need to pay attention to two things: any R objects that have been
    created (and stored) in the active session and any R script files written in an
    editor.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，你已经在 R 中编程几个小时了，是时候回家了吗？在保存 R 中的工作时，你需要注意两点：任何在当前会话中创建（并保存）的 R 对象，以及任何在编辑器中编写的
    R 脚本文件。
- en: '***1.3.1 Workspaces***'
  id: totrans-90
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.3.1 工作区***'
- en: You can use the GUI menu items (for example, under File in Windows and under
    Workspace in OS X) to save and load *workspace image* files. An R workspace image
    contains all the information held in the R session at the time of exit and is
    saved as a *.RData* file. This will include all objects you’ve created and stored
    (in other words, *assigned*) within the session (you’ll see how to do this in
    [Chapter 2](ch02.xhtml#ch02)), including those that may have been loaded from
    a previous workspace file.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 GUI 菜单项（例如，在 Windows 中是文件下的选项，在 OS X 中是工作区下的选项）来保存和加载 *工作区图像* 文件。一个 R
    工作区图像包含了在退出时 R 会话中所有的信息，并以 *.RData* 文件形式保存。这将包括你在会话中创建并保存（换句话说，*分配*）的所有对象（你将在[第
    2 章](ch02.xhtml#ch02)中看到如何做到这一点），包括那些可能从先前的工作区文件中加载的对象。
- en: Essentially, loading a stored *.RData* file allows you to “pick up from where
    you left off.” At any point in an R session, you can execute `ls()` at the prompt,
    which lists all objects, variables, and user-defined functions currently present
    in the active workspace.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 本质上，加载存储的 *.RData* 文件可以让你“从上次停下的地方继续”。在 R 会话的任何时刻，你都可以在提示符下执行 `ls()`，它会列出当前在活动工作区中所有的对象、变量和用户定义的函数。
- en: Alternatively, you can use the R commands `save.image` and `load` at the console
    for handling workspace *.RData* files—both of these functions contain a `file`
    argument to which you pass the folder location and name of the target *.RData*
    file (see the corresponding help files `?save.image` and `?load` for further information
    on the use of these).
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，你可以在控制台使用 R 命令 `save.image` 和 `load` 来处理工作区 *.RData* 文件——这两个函数都包含一个 `file`
    参数，你可以传递目标 *.RData* 文件的文件夹位置和名称（有关这些函数的更多信息，请参见相应的帮助文件 `?save.image` 和 `?load`）。
- en: Note that saving a workspace image in this way doesn’t retain the functionality
    of any contributed packages that were loaded in the previously active R session.
    As mentioned in [Section 1.2.4](ch01.xhtml#ch01lev2sec09), you’ll need to use
    `library` to load any packages required for your work for each new instance of
    R.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，以这种方式保存工作区图像不会保留先前加载的任何贡献包的功能。如[第 1.2.4 节](ch01.xhtml#ch01lev2sec09)所述，你需要使用
    `library` 来加载每个新的 R 实例所需的任何包。
- en: 'The quickest way to exit the software is to enter `q()` at the prompt:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 退出软件的最快方式是输入 `q()` 在提示符下：
- en: '[PRE10]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Simply exiting the console will bring up a dialog asking if you’d like to save
    the workspace image. In this case, choosing to save doesn’t open a file browser
    to name your file but creates (or overwrites) a “no-name” file as one with a *.RData*
    extension in your working directory (refer to [Section 1.2.3](ch01.xhtml#ch01lev2sec08)).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 仅仅退出控制台会弹出一个对话框，询问是否希望保存工作区图像。在这种情况下，选择保存并不会打开文件浏览器来命名你的文件，而是会在工作目录中创建（或覆盖）一个“无名”文件，并为其命名为
    *.RData* 扩展名的文件（参见[第 1.2.3 节](ch01.xhtml#ch01lev2sec08)）。
- en: If an unnamed *.RData* file exists in the default working directory when a new
    instance of R is opened, the program will automatically load that default workspace—if
    that has happened, you’ll be notified in the console’s welcoming text.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在默认工作目录中存在一个未命名的 *.RData* 文件，当打开新的 R 实例时，程序会自动加载该默认工作区——如果发生了这种情况，你将在控制台的欢迎文本中收到通知。
- en: '**NOTE**'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*Alongside the* .RData *file, R will automatically save a file containing a
    line-by-line history of all the commands executed in the console for the associated
    workspace in the same directory. It’s this history file that allows you to scroll
    through the previously executed commands using the keyboard directional arrows,
    as noted earlier.*'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '*与 .RData 文件一起，R 会自动保存一个文件，包含所有在控制台中执行的命令的逐行历史记录，并将其保存在同一目录下的相关工作空间中。正是这个历史文件使你能够使用键盘方向键滚动查看之前执行的命令，正如前面所提到的。*'
- en: '***1.3.2 Scripts***'
  id: totrans-101
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.3.2 脚本***'
- en: For tasks requiring anything more than a handful of commands, you’ll usually
    want to work in the built-in code editor. Saving your R scripts is therefore at
    least as important as saving a workspace, if not more so.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 对于需要超过少量命令的任务，通常你会希望在内置的代码编辑器中工作。因此，保存你的 R 脚本至少和保存工作空间一样重要，甚至可能更重要。
- en: You save editor scripts as plain-text files with a *.R* extension (noted in
    [Section 1.2.1](ch01.xhtml#ch01lev2sec06)); this allows your operating system
    to associate these files with the R software by default. To save a script from
    the built-in editor, ensure the editor is selected and navigate to File → Save
    (or press CTRL-S in Windows or ![image](../images/common-02.jpg)-S in OS X). To
    open a previously saved script, select File → Open script... (CTRL-O) in Windows
    or File → Open Document... (![image](../images/common-02.jpg)-O) in OS X.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 你将编辑器脚本保存为纯文本文件，文件扩展名为 *.R*（在[第 1.2.1 节](ch01.xhtml#ch01lev2sec06)中提到）；这会让你的操作系统默认将这些文件与
    R 软件关联。要从内置编辑器保存脚本，请确保选择了编辑器，然后导航到 文件 → 保存（或在 Windows 中按 CTRL-S，或在 OS X 中按 ![image](../images/common-02.jpg)-S）。要打开一个之前保存的脚本，请选择
    文件 → 打开脚本...（在 Windows 中按 CTRL-O），或在 OS X 中选择 文件 → 打开文档... (![image](../images/common-02.jpg)-O)。
- en: Often, you won’t really need to save a workspace *.RData* file if your script
    files are saved. Once any required commands in a saved script are reexecuted in
    a new R console, the objects created previously (in other words, those contained
    within a saved *.RData* file) are simply created once more. This can be useful
    if you’re working on multiple problems at one time because it can be easy to mistakenly
    overwrite an object when relying solely on the stand-alone default workspace.
    Keeping your collection of R scripts separate is therefore a simple way to separate
    several projects without needing to worry about overwriting anything important
    that may have been stored previously.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，如果你的脚本文件已保存，你就不需要保存工作空间 *.RData* 文件。只要在新的 R 控制台中重新执行保存脚本中的任何必要命令，之前创建的对象（换句话说，即那些包含在保存的
    *.RData* 文件中的对象）将被重新创建。这在你同时处理多个问题时非常有用，因为单靠独立的默认工作空间很容易不小心覆盖一个对象。因此，保持 R 脚本的分离是区分多个项目的简单方法，无需担心覆盖任何之前可能存储的重要内容。
- en: R also provides a number of ways to write individual objects, such as data sets
    and image files of plots, to disk, which you’ll look at in [Chapter 8](ch08.xhtml#ch08).
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: R 还提供了多种方法将单独的对象（如数据集和绘图的图像文件）写入磁盘，你将在[第 8 章](ch08.xhtml#ch08)中了解更多内容。
- en: '**1.4 Conventions**'
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**1.4 约定**'
- en: There are a few conventions that I’ll follow in the book in terms of the presentation
    of code and math.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在书中，我会遵循一些关于代码和数学表达式的呈现约定。
- en: '***1.4.1 Coding***'
  id: totrans-108
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.4.1 编程***'
- en: 'As mentioned, when you code with R, you execute the code in the console, possibly
    after writing the script in the editor first. The following points are important
    to note:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，当你使用 R 编程时，通常是在控制台中执行代码，可能是在编辑器中先编写脚本。以下几点是需要特别注意的：
- en: '• R code that’s entered directly into the console for execution is shown preceded
    by the `R>` prompt and followed by any output displayed in the console. For example,
    this simple division of 14 by 6 from [Section 2.1.1](ch02.xhtml#ch02lev2sec17)
    looks like this:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: • 直接在控制台输入执行的 R 代码显示时，前面会有 `R>` 提示符，并且后面会跟上控制台中显示的任何输出。例如，来自[第 2.1.1 节](ch02.xhtml#ch02lev2sec17)的这个简单的
    14 除以 6 运算看起来是这样的：
- en: R> 14/6
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: R> 14/6
- en: '[1] 2.333333'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[1] 2.333333'
- en: If you want to copy and paste console-executed code directly from the text of
    the book, you’ll need to omit the `R>` prompt.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想直接从书中的文本中复制并粘贴在控制台执行的代码，你需要去掉 `R>` 提示符。
- en: '• For code that should be written in the editor before it’s executed in the
    console, I’ll indicate as such in the text, and the code will be presented *without*
    the prompt. The following example comes from [Section 10.2.1](ch10.xhtml#ch10lev2sec92):'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: • 对于应该在编辑器中编写后再在控制台执行的代码，我会在文本中注明，并且代码将 *不带* 提示符。以下示例来自[第 10.2.1 节](ch10.xhtml#ch10lev2sec92)：
- en: for(myitem in 5:7){
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: for(myitem in 5:7){
- en: cat("--BRACED AREA BEGINS--\n")
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: cat("--大括区域开始--\n")
- en: cat("the current item is",myitem,"\n")
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: cat("当前项是", myitem, "\n")
- en: cat("--BRACED AREA ENDS--\n\n")
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: cat("--大括区域结束--\n\n")
- en: '}'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: My preferred coding style for actually arranging and indenting chunks like this
    will become clearer as you progress through [Part II](part02.xhtml#part02).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 我在实际编排和缩进此类代码块时的编码风格，会随着你在 [第II部分](part02.xhtml#part02) 的学习而变得更加清晰。
- en: '• There will occasionally be long lines of code (either executed directly in
    the console or written in the editor), which, for the sake of print, will be split
    and indented at an appropriate place to fit on the page. For example, take this
    line from [Section 6.2.2](ch06.xhtml#ch06lev2sec60):'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: • 有时会出现较长的代码行（无论是在控制台直接执行还是在编辑器中编写），为了打印方便，这些代码行将在合适的位置分割并缩进，以适应页面。例如，看看 [第6.2.2节](ch06.xhtml#ch06lev2sec60)中的这一行：
- en: R> ordfac.vec <- factor(x=c("Small","Large","Large","Regular","Small"),
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: R> ordfac.vec <- factor(x=c("Small","Large","Large","Regular","Small"),
- en: levels=c("Small","Regular","Large"),
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: levels=c("Small","Regular","Large"),
- en: ordered=TRUE)
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: ordered=TRUE)
- en: Although this can be written out as a single line when using R, you can also
    break the line at a comma (in this case, the comma splits the arguments to the
    `factor` function). The broken line will be indented to the level of the opening
    parenthesis of the relevant command. Both forms—single line or split—will work
    as is when executed in R.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管在使用R时可以将其写成一行，但你也可以在逗号处换行（在这种情况下，逗号分隔了 `factor` 函数的参数）。换行后的代码将会缩进至相关命令的左括号位置。无论是单行形式还是分行形式，执行时都能正常工作。
- en: • Lastly, in a couple of places when the console output is lengthy and not essential
    to your understanding of the immediate content, it’ll be suppressed for the sake
    of print. I’ll say as much in the text, and you’ll see the designation `--snip`--
    in the affected chunk of code.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: • 最后，在某些地方，当控制台输出较长且对于你理解当前内容并非必需时，为了打印方便，它将被抑制。我会在文本中说明这一点，你会看到受影响的代码块中出现 `--snip--`
    的标记。
- en: '***1.4.2 Math and Equation References***'
  id: totrans-127
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.4.2 数学和方程引用***'
- en: Mathematics and equations that appear in this book (mainly in [Parts III](ch03.xhtml#ch03)
    and [IV](ch04.xhtml#ch04)) will be kept to a minimum, but in certain sections
    it’s sometimes necessary to go into a little mathematical detail.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中出现的数学和方程（主要在 [第III部分](ch03.xhtml#ch03) 和 [第IV部分](ch04.xhtml#ch04) 中）将尽量简化，但在某些章节中，有时需要涉及一些数学细节。
- en: 'Important equations will be presented on their own lines as follows:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的方程将单独列在自己的行上，如下所示：
- en: '![image](../images/e1-1.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/e1-1.jpg)'
- en: 'Equations will be numbered in parentheses, and references to equations in the
    text will use these parenthesized numbers and may or may not be preceded by *Equation*.
    For example, you’ll see equations referred to in both of the following ways:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 方程会用括号编号，文中的方程引用将使用这些带括号的数字，前面可能会加上 *Equation*。例如，你会看到以下两种方式引用方程：
- en: • As per [Equation (1.1)](ch01.xhtml#ch1eq1), *y* = 8 when *x* = 2.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: • 根据 [方程 (1.1)](ch01.xhtml#ch1eq1)，当 *x* = 2 时，*y* = 8。
- en: • Inversion of (1.1) yields *x* = *y*/4.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: • 对(1.1)进行反演得到 *x* = *y*/4。
- en: 'When numeric results are rounded to a certain level, they’ll be noted as such
    according to the number of *decimal places*, abbreviated to *d.p.* Here are some
    examples:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 当数字结果四舍五入到某一位时，会根据小数位数（*decimal places*，缩写为 *d.p.*）注明。例如：
- en: • The famous geometric value pi is given as *π* = 3.1416 (rounded to 4 d.p.).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: • 著名的几何值π表示为 *π* = 3.1416（保留4位小数）。
- en: • Setting *x* = 1.467 in (1.1) results in *y* = 5.87 (2 d.p.).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: • 在(1.1)中设置 *x* = 1.467 会得到 *y* = 5.87（保留2位小数）。
- en: '***1.4.3 Exercises***'
  id: totrans-137
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***1.4.3 练习***'
- en: 'Exercise questions in the chapters appear in a rounded box:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 章节中的练习题会出现在一个圆角框中：
- en: '**Exercise 1.1**'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '**练习 1.1**'
- en: Say the word *cat* aloud.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 大声说出 *cat* 这个词。
- en: Using nothing but your brain, find the solution to 1 + 1.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 仅用你的大脑，找出 1 + 1 的解答。
- en: These exercises are optional. If you choose to tackle them, they are intended
    to be completed as and when they appear in the text to help you practice and understand
    the specific content and code in the sections that immediately precede them.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 这些练习是可选的。如果你选择完成它们，它们旨在帮助你在出现在文本中的时候完成，以帮助你练习和理解紧接在它们前面的章节中的具体内容和代码。
- en: All the data sets you’ll use in this book for coding and plotting examples are
    available either as built-in R objects or as part of one of the contributed packages
    you’ll install. These packages will be noted in the relevant text (for a short
    list of them, see [Section A.2.3](app01.xhtml#app01lev2sec275)).
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中用于编码和绘图示例的所有数据集，都可以作为内建的R对象或作为你将安装的贡献包的一部分。这些包会在相关文字中注明（有关它们的简短列表，请参见[第A.2.3节](app01.xhtml#app01lev2sec275)）。
- en: For your convenience, all code examples in this book, as well as complete suggested
    solutions to *all* practice exercises, are freely available as runnable *.R* script
    files on the book’s web page at *[https://www.nostarch.com/bookofr/](https://www.nostarch.com/bookofr/)*.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 为了方便起见，本书中的所有代码示例，以及对*所有*练习题的完整建议解决方案，都可以作为可运行的*.R*脚本文件免费下载，文件可在本书的网页上找到，网址是
    *[https://www.nostarch.com/bookofr/](https://www.nostarch.com/bookofr/)*。
- en: You should think of these solutions (and any accompanying commentary) as “suggested”
    because there are often multiple ways to perform a certain task in R, which may
    not necessarily be any better or worse than those supplied.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该将这些解决方案（以及任何附带的评论）视为“建议”，因为在R中通常有多种方式来执行某项任务，这些方式未必比提供的方式更好或更差。
- en: '**Important Code in This Chapter**'
  id: totrans-146
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**本章重要代码**'
- en: '| **Function/operator** | **Brief description** | **First occurrence** |'
  id: totrans-147
  prefs: []
  type: TYPE_TB
  zh: '| **函数/操作符** | **简要描述** | **首次出现** |'
- en: '| --- | --- | --- |'
  id: totrans-148
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| `options` | Set various R options | [Section 1.2.1](ch01.xhtml#ch01lev2sec06),
    [p. 5](ch01.xhtml#page_5) |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| `options` | 设置各种R选项 | [第1.2.1节](ch01.xhtml#ch01lev2sec06)，[第5页](ch01.xhtml#page_5)
    |'
- en: '| `#` | A comment (ignored by interpreter) | [Section 1.2.2](ch01.xhtml#ch01lev2sec07),
    [p. 6](ch01.xhtml#page_6) |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| `#` | 注释（解释器忽略） | [第1.2.2节](ch01.xhtml#ch01lev2sec07)，[第6页](ch01.xhtml#page_6)
    |'
- en: '| `getwd` | Print current working directory | [Section 1.2.3](ch01.xhtml#ch01lev2sec08),
    [p. 7](ch01.xhtml#page_7) |'
  id: totrans-151
  prefs: []
  type: TYPE_TB
  zh: '| `getwd` | 打印当前工作目录 | [第1.2.3节](ch01.xhtml#ch01lev2sec08)，[第7页](ch01.xhtml#page_7)
    |'
- en: '| `setwd` | Set current working directory | [Section 1.2.3](ch01.xhtml#ch01lev2sec08),
    [p. 7](ch01.xhtml#page_7) |'
  id: totrans-152
  prefs: []
  type: TYPE_TB
  zh: '| `setwd` | 设置当前工作目录 | [第1.2.3节](ch01.xhtml#ch01lev2sec08)，[第7页](ch01.xhtml#page_7)
    |'
- en: '| `library` | Load an installed package | [Section 1.2.4](ch01.xhtml#ch01lev2sec09),
    [p. 7](ch01.xhtml#page_7) |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| `library` | 加载已安装的包 | [第1.2.4节](ch01.xhtml#ch01lev2sec09)，[第7页](ch01.xhtml#page_7)
    |'
- en: '| `install.packages` | Download and install package | [Section 1.2.4](ch01.xhtml#ch01lev2sec09),
    [p. 8](ch01.xhtml#page_8) |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| `install.packages` | 下载并安装包 | [第1.2.4节](ch01.xhtml#ch01lev2sec09)，[第8页](ch01.xhtml#page_8)
    |'
- en: '| `update.packages` | Update installed packages | [Section 1.2.4](ch01.xhtml#ch01lev2sec09),
    [p. 8](ch01.xhtml#page_8) |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| `update.packages` | 更新已安装的包 | [第1.2.4节](ch01.xhtml#ch01lev2sec09)，[第8页](ch01.xhtml#page_8)
    |'
- en: '| `help` or `?` | Function/object help file | [Section 1.2.5](ch01.xhtml#ch01lev2sec10),
    [p. 9](ch01.xhtml#page_9) |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| `help` 或 `?` | 函数/对象帮助文件 | [第1.2.5节](ch01.xhtml#ch01lev2sec10)，[第9页](ch01.xhtml#page_9)
    |'
- en: '| `help.search` or `??` | Search help files | [Section 1.2.5](ch01.xhtml#ch01lev2sec10),
    [p. 10](ch01.xhtml#page_10) |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| `help.search` 或 `??` | 搜索帮助文件 | [第1.2.5节](ch01.xhtml#ch01lev2sec10)，[第10页](ch01.xhtml#page_10)
    |'
- en: '| `q` | Quit R | [Section 1.3.1](ch01.xhtml#ch01lev2sec12), [p. 12](ch01.xhtml#page_12)
    |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| `q` | 退出R | [第1.3.1节](ch01.xhtml#ch01lev2sec12)，[第12页](ch01.xhtml#page_12)
    |'
