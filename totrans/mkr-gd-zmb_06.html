<html><head></head><body>
<h2 class="h2" id="ch06"><a id="page_103"/><strong>6</strong></h2>
<p class="h2a"><strong>ADD REMOTE ACCESS AND DETECT OPEN DOORS</strong></p>
<div class="image1"><img src="graphics/f0001-01.jpg" alt="image"/></div>
<p class="noindent">Controlling access to your base is key in the postapocalyptic world. Let’s say you’re being pursued by a herd of brain-hungry zombies. You finally reach your base, and all you have to do to survive another day is get inside to safety. Don’t fumble with keys and get eaten before you can unlock the door. Unlock it before you get there! To help you out, this chapter includes projects that allow you to unlock (or lock) doors without touching them. Just don’t press any door-opening buttons with without checking your surveillance system first; no matter how politely someone knocks (<a href="ch06.html#ch06fig1">Figure 6-1</a>), you never know if they’re alive or undead.</p>
<p class="indent"><a id="page_104"/>The first project in this chapter will allow you to open a door by simply pushing a button or even by remote control with a wireless extension. The other project uses a reed switch to detect when a door has been opened and then alerts you using the same Arduino that you used in “<a href="ch03.html#ch00lev1sec63">Project 4: Battery Monitor</a>” on <a href="ch03.html#page_53">page 53</a> and “<a href="ch04.html#ch00lev1sec81">Project 6: PIR Zombie Detector</a>” on <a href="ch04.html#page_72">page 72</a> to monitor the battery voltage and detect zombies with a PIR sensor, respectively.</p>
<div class="image"><img src="graphics/f06-01.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig1">Figure 6-1:</a> Postapocalyptic Access control</p>
<h3 class="h3" id="ch00lev1sec108"><a id="page_105"/><strong>PROJECT 9: REMOTE DOOR LOCK</strong></h3>
<p class="noindent">First, let’s make reaching the safety of your base a little easier. With an electromechanical door latch, you can press a button to open the door and avoid making jingling key sounds that would attract nearby zombies. This project uses a 12V latch. This door latch will work with the existing door lock, and you can fit one to an existing door by replacing the socket that the lock normally engages with, as shown in <a href="ch06.html#ch06fig2">Figure 6-2</a>. Note the latch part in the middle that is released by the electromagnet.</p>
<div class="image"><img src="graphics/f06-02.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig2">Figure 6-2:</a> The electro mechanical door latch</p>
<p class="indent">The first part of this project builds a simple electrically controlled lock. Press a button to unlock the door (<a href="ch06.html#ch06fig3">Figure 6-3</a>), and the door will stay unlocked as long as you hold down the button. If you have fellow survivors living with you, this would probably be inside your base, ready for you to let others in. However, if you are on your own, you may want to position it on the outside of your base, right by the door, but high up where it can’t be accidentally activated by zombies.</p>
<p class="indent">An optional second part of this project lets you use a radio frequency (RF) remote module to unlock the door (see <a href="ch06.html#ch06fig4">Figure 6-4</a>). A remote-controlled door could save your life, allowing you to run toward your locked door, unlock it just before you get to it, and slam it in the face of that pursuing horde of zombies.</p>
<div class="image"><img src="graphics/f06-03.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig3">Figure 6-3:</a> The door control button</p>
<div class="image"><img src="graphics/f06-04.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig4">Figure 6-4:</a> The wireless remote control</p>
<h4 class="h4" id="ch00lev1sec109"><a id="page_106"/><strong>WHAT YOU WILL NEED</strong></h4>
<p class="noindent">To make this project, you are going to need the following parts and tools:</p>
<table border="0" cellpadding="0" cellspacing="0" class="topbot" width="100%">
<thead>
<tr>
<th valign="top" class="table_th"><p class="table1"><strong>ITEM</strong></p></th>
<th valign="top" class="table_th"><p class="table1"><strong>NOTES</strong></p></th>
<th valign="top" class="table_th"><p class="table1"><strong>SOURCE</strong></p></th>
</tr>
</thead>
<tbody>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> An electric drill and wood bits</p></td>
<td valign="top" class="table"><p class="table">You will need larger bit sizes, perhaps up to half inch depending on the width of the door latch.</p></td>
<td valign="top" class="table"><p class="table">Hardware store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Hammer</p></td>
<td valign="top" class="table"><p class="table">Doubles as a handy weapon</p></td>
<td valign="top" class="table"><p class="table">Hardware store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Chisel</p></td>
<td valign="top" class="table"><p class="table"> </p></td>
<td valign="top" class="table"><p class="table">Hardware store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Electrical door latch</p></td>
<td valign="top" class="table"><p class="table">12V DC</p></td>
<td valign="top" class="table"><p class="table">Farnell, Fry’s, security store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Fuse</p></td>
<td valign="top" class="table"><p class="table">10A fuse and holder</p></td>
<td valign="top" class="table"><p class="table">Auto parts store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Push button</p></td>
<td valign="top" class="table"><p class="table"> </p></td>
<td valign="top" class="table"><p class="table">Adafruit (1439)</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Box for push button</p></td>
<td valign="top" class="table"><p class="table"> </p></td>
<td valign="top" class="table"><p class="table">Closets, Fry’s, garages</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Terminal blocks</p></td>
<td valign="top" class="table"><p class="table">One three-way block and one two-way block, both 2A</p></td>
<td valign="top" class="table"><p class="table">Home Depot, Lowe’s, Menards</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Double-core wire</p></td>
<td valign="top" class="table"><p class="table">Bell wire or speaker cable</p></td>
<td valign="top" class="table"><p class="table">Hardware store, scavenge</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> RF remote switch (optional)</p></td>
<td valign="top" class="table"><p class="table">Single-channel RF-controlled 12V relay and remote control</p></td>
<td valign="top" class="table"><p class="table">eBay</p></td>
</tr>
</tbody>
</table>
<p class="indent">This is one project that requires some woodworking tools. You’ll use the drill and set of wood bits, the hammer, and the chisel to make a recess to fit the new door latch, which is generally bigger than normal door latches.</p>
<p class="indent">To find a door latch after the apocalypse, you will need to find a specialist security store to scavenge from. Maybe the paper version of the Yellow Pages still has a use! Find your closest security retailer, make your way there carefully, find the latch, and get back to your base. After all, you won’t remember what to do with the latch if you become a zombie before you get home.</p>
<p class="indent">Almost any double-core wire will work fine, so bell wire or speaker cable is ideal.</p>
<h4 class="h4" id="ch00lev1sec110"><strong>CONSTRUCTION</strong></h4>
<p class="noindent"><a href="ch06.html#ch06fig5">Figure 6-5</a> shows the schematic for the project. The door latch used in this project remains locked until power is applied to its terminals, and then an electromagnet (electrically powered magnet) releases the latch so the door can open.</p>
<p class="indent">This system is great for excluding zombies, but in the event of a fire or other damage to the circuit, this could be very bad: your door would be permanently locked!</p>
<div class="image"><a id="page_107"/><img src="graphics/f06-05.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig5">Figure 6-5:</a> Schematic for the electrical door latch</p>
<p class="indent">For this reason, any door that you fit this kind of latch to should also retain its original latch; that way you can open it from the inside by twisting the latch. While there won’t be anyone around to enforce the fire code, it’s not a bad thing to make sure you can get out easily. After all, whatever postapocalypse heating and cooking appliances you cobble together may not be exactly up to code either, making unexpected fires a real possibility.</p>
<h5 class="h5" id="ch00lev1sec111"><strong>STEP 1: MAKING A SWITCH BOX</strong></h5>
<p class="noindent">Whether the button is on the inside or outside of your base, you might need to press the door unlock button in a hurry, and letting the button hang about somewhere in a tangle of wires is no good. You need it to be easy to use, so just put it in a box on the wall.</p>
<div class="note">
<p class="notet"><span class="font1"><strong>NOTE</strong></span></p>
<p class="noindent">If you plan to add the wireless control to the door latch, then pick a box that is big enough to contain the remote relay receiver; try placing all of your hardware inside the box to test its size.</p>
</div>
<p class="indent">Unless you’re lucky and manage to scavenge a switch already enclosed in a box, you’ll also need to fit the push button into the box. Make sure it has a hole in the lid big enough to mount the switch, as well as holes for the latch and battery lead wires to enter and exit the box. Either find a box with holes large enough or drill the holes out yourself. While you’re at it, drill a couple of holes in the bottom of the box to make it easier to fix it to the wall with screws, too. <a href="ch06.html#ch06fig6">Figure 6-6</a> shows the switch in a box.</p>
<div class="image"><a id="page_108"/><img src="graphics/f06-06.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig6">Figure 6-6:</a> Making a switch box. Note the two holes on the small side facing the camera, which are for the battery and latch wires.</p>
<p class="indent">Run the switch leads through the hole in your box lid and wire the two terminals of the switch to the terminal block, which will make the overall wiring up of the system easier. The two leads from the switch go to the middle and top positions of the terminal to match the schematic of <a href="ch06.html#ch06fig5">Figure 6-5</a>.</p>
<h5 class="h5" id="ch00lev1sec112"><strong>STEP 2: MAKING THE BATTERY LEAD</strong></h5>
<p class="noindent">To provide power to the project, you need a lead to connect it to your car battery. The lead and fuse shown in <a href="ch06.html#ch06fig7">Figure 6-7</a> are just the same as used in “<a href="ch03.html#ch00lev1sec56">Project 3: LED Lighting</a>” on <a href="ch03.html#page_49">page 49</a>, so if you need more details on how to make this, have a look at that project.</p>
<div class="image"><img src="graphics/f06-07.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig7">Figure 6-7:</a> Making a battery lead</p>
<h5 class="h5" id="ch00lev1sec113"><a id="page_109"/><strong>STEP 3: FITTING THE DOOR LATCH</strong></h5>
<p class="noindent">The electric door latch used in this project is designed to fit into a wooden door frame. If you have a different type of door, search for other 12V door lock mechanisms. Just remember: 12V latches that rely on an electromagnet to keep hold of a metal plate won’t keep your base safe. That kind of lock needs to be powered continuously to stay locked, meaning if the battery is empty, your door unlocks and lets all the zombies inside.</p>
<p class="indent">To fit the electric door latch, replace the old door latch plate with the electric latch plate. The electric version requires a considerably bigger hole in the door frame to contain the body of the latch, so drill and chisel this hole out; one possible result is shown in <a href="ch06.html#ch06fig8">Figure 6-8</a>.</p>
<div class="image"><img src="graphics/f06-08.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig8">Figure 6-8:</a> The latch hole (A) and the fitted door latch (B)</p>
<p class="indent"><a href="ch06.html#ch06fig8">Figure 6-8a</a> shows the latch hole, with a hole drilled at the side to allow the two wires from the lock to be led through to the inside of the door. <a href="ch06.html#ch06fig8">Figure 6-8b</a> shows the latch fitted back into place. The right edge of the latch releases when power is applied to the latch.</p>
<h5 class="h5" id="ch00lev1sec114"><a id="page_110"/><strong>STEP 4: WIRING</strong></h5>
<p class="noindent">Push the ends of the battery lead you made in Step 2 through one of the holes you added to the side of your enclosure in Step 1. Next, wire the positive battery connection to middle position of the three-way terminal block and wire the negative connection to the bottom position.</p>
<p class="indent">Unless you’re mounting your button right by the door, extend the two wires from the door latch to a reasonable length by joining the short wires of the latch to the longer wire with a two-way terminal block. Then, thread the door latch’s long wire through the hole in the back of the switch box and connect it to the top and bottom positions of the screw terminal, as shown in <a href="ch06.html#ch06fig5">Figure 6-5</a>. When the wiring inside the box is complete, it should look something like <a href="ch06.html#ch06fig9">Figure 6-9</a>.</p>
<div class="image"><img src="graphics/f06-09.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig9">Figure 6-9:</a> Wiring up the switch box</p>
<p class="indent">The light-colored wires on the right are for the door latch, and the dark wires are the battery leads. Before you close it all up, just check that pressing the button releases the lock and tidy up the wiring in the box. Finally, affix the door lock’s lead to the wall so that it isn’t a trip hazard, and you’re done!</p>
<p class="indent">Of course, your safe haven would be even more accessible if you could unlock the door from a distance, so let’s add a remote control.</p>
<h4 class="h4" id="ch00lev1sec115"><a id="page_111"/><strong>GOING WIRELESS TO OPEN DOORS AHEAD OF TIME</strong></h4>
<p class="noindent">You could stop after installing a button, but one day, that button won’t be fast enough. When you’re fresh off a scavenging trip, loaded down with precious supplies and running for your life because a mob of zombies decided to follow you home, you’ll wish you could open the door before you reach it. Plan ahead and make the door remote controlled.</p>
<p class="indent">To make control of the lock wireless, you can use an RF remote control relay. The relay will be wired in parallel with the push button so if the button is pressed or the remote is activated, the door will unlock.</p>
<p class="indent"><a href="ch06.html#ch06fig10">Figure 6-10</a> shows the wiring diagram for the project, this time including the wireless remote.</p>
<div class="image"><img src="graphics/f06-10.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig10">Figure 6-10:</a> Schematic for the electrical door latch with a wireless remote</p>
<p class="indent">The push button is connected to the same screw terminals wired to the NO (normally open) and COM (common) connections on the relay. The RF relay module requires a 12V power supply taken from the terminal block’s connections to the battery negative and the fuse. <a href="ch06.html#ch06fig11">Figure 6-11</a> shows how the relay fits into the same box used for the first part of the project.</p>
<div class="image"><a id="page_112"/><img src="graphics/f06-11.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig11">Figure 6-11:</a> Wiring the wireless relay to the electrical door latch</p>
<p class="indent">Wire in the relay according to the diagram in <a href="ch06.html#ch06fig10">Figure 6-10</a>, and then you’ll just need to remember to take your wireless remote with you when you head out to forage or thin out the zombie population. And always bring along a spare remote, or at least a spare battery! As a final backup, you should always keep the real key with you too.</p>
<h3 class="h3" id="ch00lev1sec116"><strong>PROJECT 10: DOOR SENSOR</strong></h3>
<p class="noindent">While the first project in this chapter helps you and your loved ones get to safety, the second project alerts you to uninvited guests. Whether a stray zombie or another survivor manages to open the door to your stronghold, with this door sensor, you’ll know about perimeter breaches in time to hide.</p>
<p class="indent">This project uses a reed switch (if you’ve never used one, check out “Reed Switches” on <a href="ch06.html#page_113">page 113</a> for a detailed description) to detect when a door has been opened, triggering a message on your Arduino. This project uses the same Arduino that monitors your battery and watches for zombies using the PIR detector.</p>
<div class="sidebar">
<p class="sidebart"><a id="page_113"/><strong>REED SWITCHES</strong></p>
<p class="noindent">The sensor used in this project is called a <span class="underline">reed switch</span>. This switch is made from a pair of thin steel contacts enclosed within a sealed glass envelope. This envelope is often further protected by a plastic box with screw holes for fastening it to a door or window frame.</p>
<p class="indent">As shown in <a href="ch06.html#ch06fig12">Figure 6-12</a>, with no magnet present, the contacts are slightly apart, but when a magnet is brought close, the two contacts are pulled together, and an electrical connection is made.</p>
<div class="image"><img src="graphics/f06-12.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig12">Figure 6-12:</a> A reed switch</p>
<p class="indent">Because reed switches are sealed, they are very reliable. For this reason, they’re often used in security applications where the magnet is attached to, say, the door itself and the reed switch to the door frame. When the door is opened, the magnet moves out of range of the reed relay, and the circuit is broken.</p>
</div>
<h4 class="h4" id="ch00lev1sec117"><strong>WHAT YOU WILL NEED</strong></h4>
<p class="noindent">To make this project, you’re going to need the Arduino and screwshield that you used in “<a href="ch03.html#ch00lev1sec63">Project 4: Battery Monitor</a>” on <a href="ch03.html#page_53">page 53</a>, plus a few other parts.</p>
<table border="0" cellpadding="0" cellspacing="0" class="topbot" width="100%">
<thead>
<tr>
<th valign="top" class="table_th"><p class="table1"><strong>ITEMS</strong></p></th>
<th valign="top" class="table_th"><p class="table1"><strong>NOTES</strong></p></th>
<th valign="top" class="table_th"><p class="table1"><strong>SOURCE</strong></p></th>
</tr>
</thead>
<tbody>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Reed switch and magnet pair</p></td>
<td valign="top" class="table"><p class="table">After the apocalypse, you can scavenge these from any house that has an intruder alarm.</p></td>
<td valign="top" class="table"><p class="table">Adafruit (375), Fry’s (1908354), security store</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Double-core wire</p></td>
<td valign="top" class="table"><p class="table">Speaker cable works well.</p></td>
<td valign="top" class="table"><p class="table">Hardware store, scavenge</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Terminal block</p></td>
<td valign="top" class="table"><p class="table">2-way 2A terminal block</p></td>
<td valign="top" class="table"><p class="table">Home Depot, Lowe’s, Menards</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Arduino</p></td>
<td valign="top" class="table"><p class="table">Arduino Uno R3</p></td>
<td valign="top" class="table"><p class="table">Adafruit, Fry’s (7224833), SparkFun</p></td>
</tr>
<tr>
<td valign="top" class="table"><p class="table-b"><img src="graphics/square.jpg" alt="image"/> Arduino screwShield</p></td>
<td valign="top" class="table"><p class="table">Screwshield</p></td>
<td valign="top" class="table"><p class="table">Adafruit (196)</p></td>
</tr>
</tbody>
</table>
<p class="indent"><a id="page_114"/>The reed switch will be further from the Arduino than the short leads that it comes with would allow, so you’ll need to extend those leads. Using the double-core wire, either connect the wires together with solder (see “<a href="app02.html#ch00lev1sec228">Joining Wires with Solder</a>” on <a href="app02.html#page_231">page 231</a>) or connect them to a two-way terminal block.</p>
<h4 class="h4" id="ch00lev1sec118"><strong>CONSTRUCTION</strong></h4>
<p class="noindent"><a href="ch06.html#ch06fig13">Figure 6-13</a> shows the wiring diagram for connecting the reed switch to the screwshield. You will need the buzzer from “<a href="ch03.html#ch00lev1sec63">Project 4: Battery Monitor</a>” on <a href="ch03.html#page_53">page 53</a>, but the resistors are only needed if you also want to monitor the battery voltage.</p>
<div class="image"><img src="graphics/f06-13.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig13">Figure 6-13:</a> Wiring diagram for the door sensor</p>
<p class="indent">Connect the reed switch to the D12 and GND terminals of the screwshield (it doesn’t matter which side goes where), connect the buzzer’s positive lead to D11, and connect the buzzer’s negative lead to GND. Note that both the negative connection of the buzzer and one connection of the reed switch go to the same GND screw terminal. <a href="ch06.html#ch06fig14">Figure 6-14</a> shows the completed project, combined with the resistors used in Project 4.</p>
<div class="image"><a id="page_115"/><img src="graphics/f06-14.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig14">Figure 6-14:</a> The completed door sensor</p>
<p class="indent">The alligator clips at the bottom of <a href="ch06.html#ch06fig14">Figure 6-14</a> lead off to the battery, as described in Project 4. With the reed switch hooked up, let’s move on to the sketch.</p>
<h4 class="h4" id="ch00lev1sec119"><strong>SOFTWARE</strong></h4>
<p class="noindent">All the source code for this book is available online at <em><a href="http://www.nostarch.com/zombies/">http://www.nostarch.com/zombies/</a></em>. (See “<a href="app03.html#ch00lev1sec241">Installing the Antizombie Sketches</a>” on <a href="app03.html#page_248">page 248</a> for instructions on installing the programs.) If you just want to make this project on its own, without any of the earlier Arduino-based projects, then use the sketch <em>Project_10_Door_Sensor</em>. If, on the other hand, you have made one or more of the earlier Arduino projects, then use the sketch <em>All_Sensors</em> and change the constants at the top to select the projects that you have made. See the comments section in the <em>All_Sensors</em> sketch for instructions on what changes to make.</p>
<p class="indent">The code follows the same pattern as Project 4, so for more information on how the program as a whole works, please refer to “<a href="ch11.html#ch00lev1sec215">Software</a>” on <a href="ch03.html#page_57">page 57</a>. Here, I will describe just the code specific to this project.</p>
<p class="indent">First, a new constant is defined for the Arduino pin that will act as an input for the reed switch.<a id="page_116"/></p>
<p class="programs">const int doorPin = 12;</p>
<p class="indent">There is a new line of code in the setup function to initialize that newly defined <span class="literal">doorPin</span> (pin 12 on the Arduino) to be an input.</p>
<p class="programs">pinMode(doorPin, INPUT_PULLUP);</p>
<p class="indent">The type of input is specified as <span class="literal">INPUT_PULLUP</span> so that the input pin will be <span class="literal">HIGH</span> by default and only go <span class="literal">LOW</span> when the reed switch is closed by being near the magnet. The loop function now also calls a function named <span class="literal">checkDoor</span>, which contains the rest of the code for checking for the door being opened.</p>
<p class="programs">void checkDoor()<br/>{<br/>  if (digitalRead(doorPin))<br/>  {<br/>    warn("DOOR");<br/>  }<br/>}</p>
<p class="indent">The <span class="literal">checkDoor</span> function first reads the door pin. If the result of this read is <span class="literal">HIGH</span>, then the magnet is not close enough to the reed switch to hold the switch closed, and the input is in its default state of <span class="literal">HIGH</span>. Since the magnet isn’t next to the reed switch, the door must be open.</p>
<p class="indent">If you only need to know that the door has opened, you don’t need a continuous alarm, so <span class="literal">checkDoor</span> calls the function <span class="literal">warn</span> (passing it <span class="literal">"DOOR"</span>) rather than <span class="literal">alert</span>, which you used for the battery monitor.</p>
<p class="programs">   void warn(char message[])<br/>   {<br/>     lcd.setCursor(0, 1);<br/>     lcd.print(message);<br/>     delay(100);<br/>     lcd.setCursor(0, 1);<br/>     lcd.print("           ");<br/>     if (!mute)<br/>     {<br/>       tone(buzzerPin, 1000);<br/><span class="ent">➊</span>      delay(100);<br/>       noTone(buzzerPin);<br/>     }<br/>     delay(100);<br/>   }</p>
<p class="indent">The <span class="literal">warn</span> function is like <span class="literal">alert</span>: <span class="literal">warn</span> takes a message as an argument, prints that message to the LCD, and makes a sound. The difference is that the buzzer tone is cancelled with <span class="literal">noTone</span> after just a tenth of a second delay <span class="ent">➊</span>, to give only a short beep when the door is opened.</p>
<h4 class="h4" id="ch00lev1sec120"><a id="page_117"/><strong>USING THE DOOR SENSOR</strong></h4>
<p class="noindent">It is always worth testing out a project on your workbench before you install it for real, especially when your life depends on the device working. If this door sensor fails, you could be zombified in your sleep! So first, load your sketch onto the Arduino and line up the reed switch and magnet close together. Then when you move them apart, the buzzer should go off.</p>
<p class="indent">Once you’re sure everything works as it should, affix the reed switch to the door frame and the magnet to the door. The magnet and reed switch should be opposite each other but not touching. It is best to have the magnet on the door rather than the frame, because the frame doesn’t move and will not flex the wires, which would shorten their life. <a href="ch06.html#ch06fig15">Figure 6-15</a> shows the reed switch and magnet installed on a door.</p>
<div class="image"><img src="graphics/f06-15.jpg" alt="image"/></div>
<p class="figuret"><a id="ch06fig15">Figure 6-15:</a> Reed switch and magnet on a door</p>
<p class="indent">Note that both the reed switch and magnet are often supplied with adhesive pads on the back to stick them to the door as well as mounting holes, so you can attach them to the wall nonpermanently, as I’ve done. However, if you are still worried about home decor after the zombie apocalypse, be warned that the adhesive may damage the paint when you remove the reed switch and magnet.</p>
<p class="indent">With your new monitor installed, you are ready to take the next step in making your base secure. In <a href="ch07.html#ch07">Chapter 7</a>, you’ll connect smoke and temperature alarms to your hard-working Arduino to protect yourself from more natural disasters that might occur—as if zombies aren’t enough!<a id="page_118"/></p>
</body></html>