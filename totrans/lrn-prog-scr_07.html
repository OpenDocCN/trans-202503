<html><head></head><body><section epub:type="chapter" id="string_processing" title="Chapter&#xA0;8.&#xA0;String Processing"><div class="titlepage"><div class="book"><div class="book"><h2 class="title1">Chapter 8. String Processing</h2></div></div></div><p class="calibre3"><a class="calibre" id="iddle2017"/>A string is a series of characters that is treated as a single unit. You can write
programs to combine, compare, sort, encrypt, and otherwise manipulate strings. Here’s what
you’ll learn in this chapter:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3">How Scratch stores strings</p></li><li class="listitem1"><p class="calibre3">How to use the string manipulation blocks available in Scratch</p></li><li class="listitem1"><p class="calibre3">Several string processing techniques</p></li><li class="listitem1"><p class="calibre3">How to write interesting programs that process strings</p></li></ul></div><p class="calibre3">We’ll start with a detailed look at the string data type, and then we’ll write
procedures to manage and manipulate strings. Those procedures will remove and replace characters,
insert and extract substrings, and randomize character order. After that, we’ll use these
procedures and apply these techniques to write some fun and practical applications.</p><div class="book" title="Revisiting the String Data Type"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="revisiting_the_string_data_type">Revisiting the String Data Type</h2></div></div></div><p class="calibre3"><a class="calibre" id="iddle1624"/><a class="calibre" id="iddle1625"/><a class="calibre" id="iddle1797"/><a class="calibre" id="iddle2012"/><a class="calibre" id="iddle2013"/><a class="calibre" id="iddle2081"/><a class="calibre" id="iddle2082"/>As I mentioned in <a class="xref" href="ch05.html" title="Chapter 5. Variables">Chapter 5</a>, Scratch has three data types:
<span class="calibre"><em class="calibre6">Boolean</em></span>, <span class="calibre"><em class="calibre6">number</em></span>, and <span class="calibre"><em class="calibre6">string</em></span>. At its
simplest, a string is just an ordered sequence of characters. These characters can include letters
(both upper- and lowercase), digits, and other symbols that you can type on your keyboard (+, -,
&amp;, @, and so on). You can use strings in your programs to store names, addresses, phone numbers,
book titles, and more.</p><p class="calibre3">In Scratch, the characters of a string are stored sequentially. For example, if you have a
variable called <code class="literal">name</code>, executing the command <span class="calibre"><strong class="calibre5">set name to
Karen</strong></span> would store the characters as illustrated in <a class="xref" href="ch08.html#string_is_stored_as_a_sequence_of_charac" title="Figure 8-1. A string is stored as a sequence of characters.">Figure 8-1</a>.</p><div class="figure"><a id="string_is_stored_as_a_sequence_of_charac" class="calibre"/><div class="book"><div class="book"><a id="med_id00265" class="calibre"/><img alt="A string is stored as a sequence of characters." src="httpatomoreillycomsourcenostarchimages2134877.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-1. A string is stored as a sequence of characters.</div></div><p class="calibre3">You can access individual characters of a string with the <span class="calibre"><strong class="calibre5">letter
of</strong></span> operator. For example, the block <span class="calibre"><strong class="calibre5">letter 1 of name</strong></span>
returns the letter <code class="literal">K</code>, and <span class="calibre"><strong class="calibre5">letter 5 of name</strong></span>
returns the letter <code class="literal">n</code>. Scratch also provides the <span class="calibre"><strong class="calibre5">length
of</strong></span> operator, which returns the number of characters in a string. If you use these two
operators with <span class="calibre"><strong class="calibre5">repeat</strong></span> blocks, you can count characters, examine
multiple characters, and do many other useful things, as I’ll demonstrate in the following
subsections.</p><div class="book" title="Counting Special Characters in a String"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="counting_special_characters_in_a_string">Counting Special Characters in a String</h3></div></div></div><p class="calibre3">Our first example script, shown in <a class="xref" href="ch08.html#vowel-counting_program" title="Figure 8-2. Vowel-counting program">Figure 8-2</a>, counts how many
vowels are in an input string. It asks the user to enter a string, and then it counts and displays
the number of vowels in that string.</p><p class="calibre3"><span class="calibre"><em class="calibre6">VowelCount.sb2</em></span></p><div class="figure"><a id="vowel-counting_program" class="calibre"/><div class="book"><div class="book"><a id="med_id00266" class="calibre"/><img alt="Vowel-counting program" src="httpatomoreillycomsourcenostarchimages2134879.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-2. Vowel-counting program</div></div><p class="calibre3"><a class="calibre" id="iddle1186"/><a class="calibre" id="iddle1667"/><a class="calibre" id="iddle1668"/><a class="calibre" id="iddle1777"/><a class="calibre" id="iddle2010"/>The program checks each letter in the input string one by one and looks for vowels.
Every time it finds a vowel, it increments a variable named <code class="literal">vowelCount</code> by 1. The
script uses a variable named <code class="literal">pos</code> (short for <span class="calibre"><em class="calibre6">position</em></span>) to
track the position of the character being checked. Let’s explore this script in more
detail.</p><p class="calibre3">First, the script asks the user to enter a sentence ①. Scratch should save the
user’s string automatically in the built-in <code class="literal">answer</code> variable. Then it sets
<code class="literal">vowelCount</code> to 0 (since it hasn’t seen any vowels yet) and sets
<code class="literal">pos</code> to 1 to access the first letter of the input string.</p><p class="calibre3">Next, a <span class="calibre"><strong class="calibre5">repeat</strong></span> loop ② checks every letter in the
input string. The <span class="calibre"><strong class="calibre5">length of</strong></span> operator reports the number of
characters in the input string, which is how many times the loop should repeat.</p><p class="calibre3">On each pass, the loop uses <code class="literal">ch</code> (short for character) to check one character
of the input string ③. In the first iteration of the loop, <code class="literal">ch</code> is set to the
first letter of <span class="calibre"><strong class="calibre5">answer</strong></span>. The second iteration sets
<code class="literal">ch</code> to the second letter, and so on, until the loop reaches the end of the string.
The <code class="literal">pos</code> variable is used to access the desired character.</p><p class="calibre3">The <span class="calibre"><strong class="calibre5">if</strong></span> block then checks whether the examined character is
a vowel ④. If the character is a vowel, whether capital or lowercase,
<code class="literal">vowelCount</code> is increased by 1.</p><p class="calibre3">After checking one character, the loop increments <code class="literal">pos</code> by 1 ⑤ and
starts over to read the next character. When all the letters in the input string have been checked,
the loop terminates, and the program displays the number of vowels it counted using the <span class="calibre"><strong class="calibre5">say</strong></span> block.</p><p class="calibre3">The techniques used in this example will be applied many times in the rest of this chapter.
Load the script <span class="calibre"><em class="calibre6">VowelCount.sb2</em></span>, run it several times, and make sure you
understand it thoroughly.</p></div><div class="book" title="Comparing String Characters"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="comparing_string_characters">Comparing String Characters</h3></div></div></div><p class="calibre3">Our second example checks whether an integer entered by the user is a palindrome. A
<span class="calibre"><em class="calibre6">palindrome</em></span> is a number (or text string) that reads the same backward and
forward. For example, 1234321 and 1122332211 are palindromes. Likewise, Racecar, Hannah, and Bob are
a few text palindromes. To illustrate our palindrome-testing algorithm, let’s say that the
input number is 12344321, as illustrated in <a class="xref" href="ch08.html#using_two_variables_to_check_whether_or" title="Figure 8-3. Using two variables to check whether or not a number is a palindrome">Figure 8-3</a>.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Palindrome.sb2</em></span></p><div class="figure"><a id="using_two_variables_to_check_whether_or" class="calibre"/><div class="book"><div class="book"><a id="med_id00267" class="calibre"/><img alt="Using two variables to check whether or not a number is a palindrome" src="httpatomoreillycomsourcenostarchimages2134881.png" class="calibre7"/></div></div><div class="figure-title">Figure 8-3. Using two variables to check whether or not a number is a palindrome</div></div><p class="calibre3"><a class="calibre" id="iddle1669"/>To check whether the number is a palindrome, we need to compare the first and eighth
digits, the second and seventh digits, the third and sixth digits, and so on. If any comparison
produces a false result (meaning that the two digits are not equal), then the number is not a
palindrome. A program that implements this palindrome test algorithm is shown in <a class="xref" href="ch08.html#this_program_tests_whether_an_integer_in" title="Figure 8-4. This program tests whether an integer input by the user is a palindrome.">Figure 8-4</a>.</p><div class="figure"><a id="this_program_tests_whether_an_integer_in" class="calibre"/><div class="book"><div class="book"><a id="med_id00268" class="calibre"/><img alt="This program tests whether an integer input by the user is a palindrome." src="httpatomoreillycomsourcenostarchimages2134883.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-4. This program tests whether an integer input by the user is a palindrome.</div></div><p class="calibre3">The script accesses the digits to be compared with two variables (<code class="literal">pos1</code> and
<code class="literal">pos2</code> in <a class="xref" href="ch08.html#using_two_variables_to_check_whether_or" title="Figure 8-3. Using two variables to check whether or not a number is a palindrome">Figure 8-3</a>) that move in
opposite directions. The first variable (<code class="literal">pos1</code>) starts at the first digit and
moves forward, while the second variable (<code class="literal">pos2</code>) starts at the last digit and
moves backward. The number of required comparisons is at most one-half the digits in the input
number. With an input of 12344321, we need at most four comparisons because the input number has
eight digits. (The same logic applies if the input integer has an odd number of digits, since the
digit in the middle of the number need not be compared.) Once the program determines whether or not
the user’s number is a palindrome, it displays a message with the result.</p><div class="sidebar"><a id="try_it_out_8-1" class="calibre"/><div class="sidebar-title">Try It Out 8-1</div><p class="calibre3">Load <span class="calibre"><em class="calibre6">Palindrome.sb2</em></span> and run it to understand how it works. Because of the
way Scratch handles decimal repeat counts, if the input number has an odd number of digits, the
script performs one extra comparison of the two digits that surround the middle digit. Try to fix
the program to perform the correct number of repeats when the input number has an odd number of
digits.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Palindrome.sb2</em></span></p></div><p class="calibre3"><a class="calibre" id="iddle1697"/><a class="calibre" id="iddle1698"/><a class="calibre" id="iddle1778"/><a class="calibre" id="iddle2016"/>In the next section, we’ll explore some of the most common operations on strings
and see some strategies for writing string manipulation procedures in Scratch.</p></div></div><div class="book" title="String Manipulation Examples"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="string_manipulation_examples">String Manipulation Examples</h2></div></div></div><p class="calibre3">The <span class="calibre"><strong class="calibre5">letter of</strong></span> operator only lets you read the individual
characters of a string. If you want to insert characters into (or remove characters from) a string,
you have to do all the work yourself.</p><p class="calibre3">In Scratch, you can’t alter the characters in a string, so the only way to change a
string is to create a new one. For example, if you want to capitalize the first letter in the string
“jack”, you need to create a new string that contains the letter <span class="calibre"><em class="calibre6">J</em></span>
followed by the rest of the letters, <span class="calibre"><em class="calibre6">ack</em></span>. The idea is to use the <span class="calibre"><strong class="calibre5">letter of</strong></span> operator to read the letters of the original string and append
theses letters to the new string, as needed, using the <span class="calibre"><strong class="calibre5">join</strong></span>
operator.</p><p class="calibre3">In this section, we’ll develop some simple applications that demonstrate common string
manipulation techniques.</p><div class="book" title="Igpay Atinlay"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="igpay_atinlay">Igpay Atinlay</h3></div></div></div><p class="calibre3">What if our sprites could speak a secret language? In this section, we’ll teach them a
coded language called <span class="calibre"><em class="calibre6">pig latin</em></span>. Our rules for creating pig latin words will be
simple. To convert a word into pig latin, move the first letter to the end and add the letters
<span class="calibre"><em class="calibre6">ay</em></span>. So, the word <span class="calibre"><em class="calibre6">talk</em></span> becomes <span class="calibre"><em class="calibre6">alktay</em></span>,
<span class="calibre"><em class="calibre6">fun</em></span> becomes <span class="calibre"><em class="calibre6">unfay</em></span>, and so on. Now that you know the rules,
can you tell what the title of this section originally said?</p><p class="calibre3"><span class="calibre"><em class="calibre6">PigLatin.sb2</em></span></p><p class="calibre3">The strategy we’ll use to convert a word into pig latin is illustrated in <a class="xref" href="ch08.html#how_to_translate_an_english_word_into_pi" title="Figure 8-5. How to translate an English word into pig latin">Figure 8-5</a>, using the word
<span class="calibre"><em class="calibre6">scratch</em></span>.</p><div class="figure"><a id="how_to_translate_an_english_word_into_pi" class="calibre"/><div class="book"><div class="book"><a id="med_id00269" class="calibre"/><img alt="How to translate an English word into pig latin" src="httpatomoreillycomsourcenostarchimages2134885.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-5. How to translate an English word into pig latin</div></div><p class="calibre3">We’ll first append all the letters (except the first), one by one, from the input word
to the output word ①. We then add the first letter in the input word to the output ②,
followed by <span class="calibre"><em class="calibre6">ay</em></span> ③. Our <span class="calibre"><strong class="calibre5">PigLatin</strong></span>
procedure that implements these steps is shown in <a class="xref" href="ch08.html#piglatin_procedure" title="Figure 8-6. The PigLatin procedure">Figure 8-6</a>.</p><p class="calibre3">The procedure uses three variables to create our coded words. The variable
<code class="literal">outWord</code> holds the output string as it’s assembled. A counter called
<code class="literal">pos</code> (for position) tells the script which character from the original string to
append to <code class="literal">outWord</code>. Finally, a variable named <code class="literal">ch</code> holds one
character from the input string. The procedure takes the word you want to translate into pig latin
as a parameter, named <code class="literal">word</code>.</p><div class="figure"><a id="piglatin_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00270" class="calibre"/><img alt="The PigLatin procedure" src="httpatomoreillycomsourcenostarchimages2134887.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-6. The <span class="calibre">PigLatin</span> procedure</div></div><p class="calibre3"><a class="calibre" id="iddle1360"/><a class="calibre" id="iddle1361"/><a class="calibre" id="iddle1699"/><a class="calibre" id="iddle1757"/>First, the procedure creates an empty string for <code class="literal">outWord</code> and sets
<code class="literal">pos</code> to 2 ①. (An <span class="calibre"><em class="calibre6">empty string</em></span> is string that does not
contain any characters; its length is 0.) The procedure then uses a <span class="calibre"><strong class="calibre5">repeat</strong></span> block to append all letters but the first from the input string
(<code class="literal">word</code>) to the output string (<code class="literal">outWord</code>) ②. We skipped the
first character, so the repeat count is one less than the length of the input string. For each loop
iteration, one character of <code class="literal">word</code> is appended to <code class="literal">outWord</code>. At
the end of the loop, the first letter of <code class="literal">word</code> is appended to
<code class="literal">outWord</code> ③, along with the letters <code class="literal">ay</code> ④.</p><div class="sidebar"><a id="try_it_out_8-2" class="calibre"/><div class="sidebar-title">Try It Out 8-2</div><p class="calibre3">Load <span class="calibre"><em class="calibre6">PigLatin.sb2</em></span> and run it to test this procedure. The application asks
for an input word and then says its pig latin translation. Modify it to translate a phrase, like
“Would you like some juice?” into pig latin. (Hint: Call <span class="calibre"><strong class="calibre5">PigLatin</strong></span> for each word to assemble the output phrase.) As another challenge, write a
procedure that takes a pig latin word as input and shows its original English word.</p><p class="calibre3"><span class="calibre"><em class="calibre6">PigLatin.sb2</em></span></p></div></div><div class="book" title="Fix My Spelling"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="fix_my_spelling">Fix My Spelling</h3></div></div></div><p class="calibre3">In this section, we’ll develop a simple game that generates misspelled words and asks
the player to enter the correct spelling. The game will create misspelled words by inserting a
random letter at a random position in an English word. Of course, there could be more than one
correct spelling of misspelled simple words. For example, if the original word is
<span class="calibre"><em class="calibre6">wall</em></span> and the game produces <span class="calibre"><em class="calibre6">mwall</em></span>, either
<span class="calibre"><em class="calibre6">mall</em></span> or <span class="calibre"><em class="calibre6">wall</em></span> would be correct. To keep our game simple,
we’ll ignore that possibility and insist on a particular spelling for the correct
answer.</p><p class="calibre3"><span class="calibre"><em class="calibre6">FixMySpelling.sb2</em></span></p><p class="calibre3"><a class="calibre" id="iddle2015"/>First, let’s make a general procedure to insert characters at a specific position
in a string. This procedure, called <span class="calibre"><strong class="calibre5">Insert</strong></span>, takes three
parameters: the input word (<code class="literal">strIn</code>), the string (or character) to insert
(<code class="literal">strAdd</code>), and the position where you want those new characters
(<code class="literal">charPos</code>). The procedure generates a new string (<code class="literal">strOut</code>) with
<code class="literal">strAdd</code> inserted into <code class="literal">strIn</code> at the correct position, as
illustrated in the example of <a class="xref" href="ch08.html#illustrating_the_insert_procedure" title="Figure 8-7. Illustrating the Insert procedure">Figure 8-7</a>.</p><div class="figure"><a id="illustrating_the_insert_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00271" class="calibre"/><img alt="Illustrating the Insert procedure" src="httpatomoreillycomsourcenostarchimages2134889.png" class="calibre7"/></div></div><div class="figure-title">Figure 8-7. Illustrating the <span class="calibre">Insert</span> procedure</div></div><p class="calibre3">We’ll add the characters from <code class="literal">strIn</code>, one by one, into
<code class="literal">strOut</code>. When we reach <code class="literal">charPos</code>, we’ll just add the
character(s) from <code class="literal">strAdd</code> to <code class="literal">strOut</code> before appending the letter
at <code class="literal">charPos</code> from <code class="literal">strIn</code>. The complete procedure is shown in
<a class="xref" href="ch08.html#insert_procedure" title="Figure 8-8. The Insert procedure">Figure 8-8</a>.</p><div class="figure"><a id="insert_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00272" class="calibre"/><img alt="The Insert procedure" src="httpatomoreillycomsourcenostarchimages2134891.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-8. The <span class="calibre">Insert</span> procedure</div></div><p class="calibre3">First, the procedure initializes <code class="literal">strOut</code> to an empty string and sets
<code class="literal">pos</code> to 1 to access the first letter of the input string ①. It then starts a
<span class="calibre"><strong class="calibre5">repeat</strong></span> loop to append the letters of <code class="literal">strIn</code>,
one by one, to <code class="literal">strOut</code> ②. Each iteration grabs the next letter of
<code class="literal">strIn</code> and places it in the <code class="literal">ch</code> variable ③. If the
position of the current character matches <code class="literal">charPos</code>, the procedure appends
<code class="literal">strAdd</code> to <code class="literal">strOut</code> ④. In all cases, <code class="literal">ch</code>
is appended to <code class="literal">strOut</code> ⑤, and <code class="literal">pos</code> is incremented to
access the next letter of <code class="literal">strIn</code> ⑥.</p><p class="calibre3"><a class="calibre" id="iddle1362"/>Now that we have our <span class="calibre"><strong class="calibre5">Insert</strong></span> procedure, let’s
look at the main script of the game, shown in <a class="xref" href="ch08.html#main_script_for_the_fix_my_spelling_game" title="Figure 8-9. The main script for the Fix My Spelling game">Figure 8-9</a>.</p><div class="figure"><a id="main_script_for_the_fix_my_spelling_game" class="calibre"/><div class="book"><div class="book"><a id="med_id00273" class="calibre"/><img alt="The main script for the Fix My Spelling game" src="httpatomoreillycomsourcenostarchimages2134893.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-9. The main script for the Fix My Spelling game</div></div><p class="calibre3">The <code class="literal">alpha</code> string contains all the letters of the alphabet. It will provide
the random letter to insert into the word we want to misspell ①. The script randomly picks a
word from a premade list and saves that word as <code class="literal">inWord</code> ②. You’ll
learn more about lists in the next chapter; for now, just think of this list as a word bank. The
script then selects a random letter (<code class="literal">randChar</code>) from <code class="literal">alpha</code>
③ and a random position (<code class="literal">randPos</code>) to place this letter into
<code class="literal">inWord</code> ④. The script then calls our <span class="calibre"><strong class="calibre5">Insert</strong></span> procedure to create the misspelled word (<code class="literal">strOut</code>) ⑤.
After that, the script starts a loop to get the player’s answer ⑥. Inside the loop, the
script asks the player to enter the correct spelling ⑦, and it uses an <span class="calibre"><strong class="calibre5">if/else</strong></span> block to check the answer ⑧. If the player’s answer matches the
original word (<code class="literal">inWord</code>), the game ends; otherwise, the player has to try
again.</p><div class="sidebar"><a id="try_it_out_8-3" class="calibre"/><div class="sidebar-title">Try It Out 8-3</div><p class="calibre3">Load <span class="calibre"><em class="calibre6">FixMySpelling.sb2</em></span> and play it several times to understand how it
works. Can you modify the game such that the corrupt word contains two additional letters instead of
just one?</p><p class="calibre3"><span class="calibre"><em class="calibre6">FixMySpelling.sb2</em></span></p></div></div><div class="book" title="Unscramble"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="unscramble">Unscramble</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1795"/><a class="calibre" id="iddle2018"/><a class="calibre" id="iddle2051"/><a class="calibre" id="iddle2052"/>Our last example presents another word game that is a little more challenging to play.
We’ll start with an English word, scramble its letters, and ask the player to guess the
original word.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Unscramble.sb2</em></span></p><p class="calibre3">Let’s start by creating a procedure that rearranges the characters of a given string in
random order. The caller sets the input string (<code class="literal">strIn</code>), and the procedure, named
<span class="calibre"><strong class="calibre5">Randomize</strong></span>, modifies it so that its characters are shuffled
around, as illustrated in <a class="xref" href="ch08.html#illustrating_the_randomize_procedure" title="Figure 8-10. Illustrating the Randomize procedure">Figure 8-10</a>.</p><div class="figure"><a id="illustrating_the_randomize_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00274" class="calibre"/><img alt="Illustrating the Randomize procedure" src="httpatomoreillycomsourcenostarchimages2134895.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-10. Illustrating the <span class="calibre">Randomize</span> procedure</div></div><p class="calibre3">We’ll pick a random letter from <code class="literal">strIn</code> and append that letter to a
<span class="calibre"><em class="calibre6">temporary string</em></span>, <code class="literal">str1</code>. (This temporary string, which starts
off empty, is where we’ll store the scrambled word as we build it.) We’ll then remove
that letter from <code class="literal">strIn</code> so we don’t reuse it and repeat the whole process
until <code class="literal">strIn</code> is empty. The <span class="calibre"><strong class="calibre5">Randomize</strong></span> procedure
implements these steps as shown in <a class="xref" href="ch08.html#randomize_procedure" title="Figure 8-11. The Randomize procedure">Figure 8-11</a>.</p><div class="figure"><a id="randomize_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00275" class="calibre"/><img alt="The Randomize procedure" src="httpatomoreillycomsourcenostarchimages2134897.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-11. The <span class="calibre">Randomize</span> procedure</div></div><p class="calibre3">First, <span class="calibre"><strong class="calibre5">Randomize</strong></span> sets <code class="literal">len</code> to the length
of the input string, <code class="literal">strIn</code>, and empties the temporary string,
<code class="literal">str1</code> ①. The procedure then starts a <span class="calibre"><strong class="calibre5">repeat</strong></span> loop to assemble the scrambled word ②. The repeat count equals the length
of the input string. For each loop iteration, we pick a random position in <code class="literal">strIn</code>
③ and append that letter to <code class="literal">str1</code> ④. Note that we used <span class="calibre"><strong class="calibre5">length of</strong></span> in step ③ because <code class="literal">strIn</code> and its length
will change inside the loop. After that, we call a procedure named <span class="calibre"><strong class="calibre5">Remove</strong></span> to delete the character we just used from <code class="literal">strIn</code> ⑤. When
the loop finishes shuffling letters around, <code class="literal">strIn</code> is set to the scrambled word
(<code class="literal">str1</code>) ⑥.</p><p class="calibre3"><a class="calibre" id="iddle1384"/><a class="calibre" id="iddle1856"/><a class="calibre" id="iddle2019"/>The <span class="calibre"><strong class="calibre5">Remove</strong></span> procedure, which lets us avoid adding the
same letter to our scrambled word twice, is shown in <a class="xref" href="ch08.html#remove_procedure" title="Figure 8-12. The Remove procedure">Figure 8-12</a>. It removes
a character from <code class="literal">strIn</code> at the position you specify with the
<code class="literal">charPos</code> parameter.</p><div class="figure"><a id="remove_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00276" class="calibre"/><img alt="The Remove procedure" src="httpatomoreillycomsourcenostarchimages2134899.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-12. The <span class="calibre">Remove</span> procedure</div></div><p class="calibre3">This procedure uses another temporary string, named <code class="literal">str2</code>, to build the new
string we want to create. It starts by emptying <code class="literal">str2</code> and setting a loop counter,
<code class="literal">n</code>, to 1 to access the first character of <code class="literal">strIn</code> ①. The
procedure then starts a <span class="calibre"><strong class="calibre5">repeat</strong></span> loop to assemble the output string
②. If we don’t want to delete the current character, we append it to
<code class="literal">str2</code> ③. The loop counter is then incremented to access the next letter of
<code class="literal">strIn</code> ④. When the procedure finishes, <code class="literal">strIn</code> is set to
the new word (<code class="literal">str2</code>) ⑤.</p><p class="calibre3">Now we are ready to explore the main script of the game, shown in <a class="xref" href="ch08.html#main_script_of_the_unscramble_game" title="Figure 8-13. The main script of the Unscramble game">Figure 8-13</a>.</p><div class="figure"><a id="main_script_of_the_unscramble_game" class="calibre"/><div class="book"><div class="book"><a id="med_id00277" class="calibre"/><img alt="The main script of the Unscramble game" src="httpatomoreillycomsourcenostarchimages2134901.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-13. The main script of the Unscramble game</div></div><p class="calibre3"><a class="calibre" id="iddle1551"/><a class="calibre" id="iddle1787"/><a class="calibre" id="iddle1825"/><a class="calibre" id="iddle1914"/><a class="calibre" id="iddle1915"/>The script selects a word randomly from a list and saves that word in
<code class="literal">inWord</code> ①. It then sets <code class="literal">strIn</code> equal to
<code class="literal">inWord</code> ② and calls <span class="calibre"><strong class="calibre5">Randomize</strong></span> to shuffle
the characters of <code class="literal">strIn</code> ③. After that, the script starts a loop to get the
player’s answer ④. Inside the loop, the script asks the player to enter the unscrambled
word ⑤ and uses an <span class="calibre"><strong class="calibre5">if/else</strong></span> block to check that answer
⑥. This part is identical to what we did in the Fix My Spelling game in the previous
section.</p><p class="calibre3">The previous examples were just a small set of the different operations you can do on strings.
Try using the same techniques to change strings in your own projects!</p><p class="calibre3">In the rest of this chapter, we’ll explore some programs that use strings to solve
interesting problems.</p></div></div><div class="book" title="Scratch Projects"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="scratch_projects-id00022">Scratch Projects</h2></div></div></div><p class="calibre3">The procedures you just saw demonstrated the basics of processing strings. In this section,
we’ll apply what we’ve learned to write several practical applications. Along the way,
you’ll learn some new programming tricks that you can use in your own creations.</p><div class="book" title="Shoot"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="shoot">Shoot</h3></div></div></div><p class="calibre3">This game is intended to teach the concept of relative motion in a fun and engaging way. The
object of the game is to estimate the turn angle and moving distance between two objects on the
Stage. The user interface for the game is illustrated in <a class="xref" href="ch08.html#user_interface_of_the_shoot_game" title="Figure 8-14. The user interface of the Shoot game">Figure 8-14</a>.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Shoot.sb2</em></span></p><div class="figure"><a id="user_interface_of_the_shoot_game" class="calibre"/><div class="book"><div class="book"><a id="med_id00278" class="calibre"/><img alt="The user interface of the Shoot game" src="httpatomoreillycomsourcenostarchimages2134903.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-14. The user interface of the Shoot game</div></div><p class="calibre3">When the game starts, it positions the <code class="literal">Player</code> and the
<code class="literal">Target</code> sprites at random locations on the Stage. Next it prompts the player to
estimate the turn angle and the distance the <code class="literal">Player</code> sprite would need to move to
hit the <code class="literal">Target</code>. The <code class="literal">Player</code> sprite is then moved according to
the numbers entered by the player. If the sprite stops within a certain radius of the
<code class="literal">Target</code>, the player wins the game. Otherwise, the <code class="literal">Player</code> sprite
returns to its initial position, and the player can try again. When the green flag icon is clicked
to start the game, the <code class="literal">Player</code> sprite runs the script shown in <a class="xref" href="ch08.html#player_sprite_script_that_runs_when_the" title="Figure 8-15. The Player sprite script that runs when the green flag icon is clicked">Figure 8-15</a>.</p><div class="figure"><a id="player_sprite_script_that_runs_when_the" class="calibre"/><div class="book"><div class="book"><a id="med_id00279" class="calibre"/><img alt="The Player sprite script that runs when the green flag icon is clicked" src="httpatomoreillycomsourcenostarchimages2134905.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-15. The <code class="literal">Player</code> sprite script that runs when the green flag icon is
clicked</div></div><p class="calibre3">The script broadcasts <code class="literal">NewGame</code> to instruct the <code class="literal">Helper</code>
sprite to assign new locations for the <code class="literal">Player</code> and the <code class="literal">Target</code>
sprites ①. The <code class="literal">Helper</code> sprite runs a simple procedure (not shown) that
updates the following five variables with random numbers that will keep <code class="literal">Player</code>
and <code class="literal">Target</code> visible (and separated by a certain distance) on the Stage:</p><div class="informaltable"><table class="calibre23"><colgroup class="calibre10"><col class="c"/><col class="c"/></colgroup><tbody class="calibre15"><tr class="calibre24"><td class="calibre39"><p class="calibre3"><code class="literal2">XPlayer</code> and <code class="literal2">YPlayer</code></p></td><td class="calibre34"><p class="calibre3">The <span class="calibre"><em class="calibre6">x</em></span>- and <span class="calibre"><em class="calibre6">y</em></span>-coordinates of the
<code class="literal2">Player</code> sprite</p></td></tr><tr class="calibre28"><td class="calibre39"><p class="calibre3"><code class="literal2">XTarget</code> and <code class="literal2">YTarget</code></p></td><td class="calibre34"><p class="calibre3">The <span class="calibre"><em class="calibre6">x</em></span>- and <span class="calibre"><em class="calibre6">y</em></span>-coordinates of the
<code class="literal2">Target</code> sprite</p></td></tr><tr class="calibre24"><td class="calibre40"><p class="calibre3"><code class="literal2">initAngle</code></p></td><td class="calibre35"><p class="calibre3">The initial direction of the <code class="literal2">Player</code>
sprite</p></td></tr></tbody></table></div><p class="calibre3">Once the script has new positions for <code class="literal">Player</code> and <code class="literal">Target</code>,
it broadcasts <code class="literal">StartGame</code> to move the <code class="literal">Target</code> sprite to its new
location ②. (The script for the <code class="literal">Target</code> sprite is not shown here.) Then the
script enters an infinite loop to give the player multiple chances to hit the target ③. The
loop will be terminated by a <span class="calibre"><strong class="calibre5">stop all</strong></span> command (in the <span class="calibre"><strong class="calibre5">CheckAnswers</strong></span> procedure) when the player hits the target.</p><p class="calibre3">Each loop iteration sets the initial position and direction of the <code class="literal">Player</code>
sprite and clears all pen marks from the Stage ④ to delete the trace left behind from the
previous guess. The script then broadcasts <code class="literal">GetAnswers</code> ⑤, and in response,
the <code class="literal">Helper</code> sprite prompts the player to enter an answer, as shown in <a class="xref" href="ch08.html#getanswers_script" title="Figure 8-16. The GetAnswers script">Figure 8-16</a>. The <code class="literal">Helper</code> sprite then splits the answer into two
parts (before and after the comma) and updates <code class="literal">angle</code> and
<code class="literal">distance</code> accordingly. Follow along with the comments on <a class="xref" href="ch08.html#getanswers_script" title="Figure 8-16. The GetAnswers script">Figure 8-16</a> to see how this script works.</p><p class="calibre3">The <code class="literal">Player</code> sprite is then moved, with its pen down, as directed by the
player ⑥. This leaves a visual trace of the movement route that the player can use to refine
his or her estimate for the next round.</p><div class="figure"><a id="getanswers_script" class="calibre"/><div class="book"><div class="book"><a id="med_id00280" class="calibre"/><img alt="The GetAnswers script" src="httpatomoreillycomsourcenostarchimages2134907.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-16. The <code class="literal">GetAnswers</code> script</div></div><p class="calibre3">Finally, the <code class="literal">Player</code> sprite executes the <span class="calibre"><strong class="calibre5">CheckAnswers</strong></span> procedure to see whether it is close enough to the target. The game ends
only if the <code class="literal">Player</code> sprite comes within a very close distance of the target. <a class="xref" href="ch08.html#checkanswers_procedure_of_the_player_spr" title="Figure 8-17. The CheckAnswers procedure of the Player sprite.">Figure 8-17</a> shows how the <code class="literal">Player</code> sprite
checks its distance from the target.</p><p class="calibre3">The <code class="literal">Player</code> sprite uses the <span class="calibre"><strong class="calibre5">distance to</strong></span>
block to check how close it is to the <code class="literal">Target</code> sprite. If the distance is less than
20 steps, the game considers this a hit and says, “You won!” Otherwise, the shooting
trial is considered a miss, the <span class="calibre"><strong class="calibre5">forever</strong></span> loop starts again, and
the player gets another chance.</p><div class="figure"><a id="checkanswers_procedure_of_the_player_spr" class="calibre"/><div class="book"><div class="book"><a id="med_id00281" class="calibre"/><img alt="The CheckAnswers procedure of the Player sprite." src="httpatomoreillycomsourcenostarchimages2134909.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-17. The <span class="calibre">CheckAnswers</span> procedure of the
<code class="literal">Player</code> sprite.</div></div><div class="sidebar"><a id="try_it_out_8-4" class="calibre"/><div class="sidebar-title">Try It Out 8-4</div><p class="calibre3">Modify the Shoot game to keep track of the number of times it takes the player to hit the
target and assign the player a score accordingly.</p></div></div><div class="book" title="Binary to Decimal Converter"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="binary_to_decimal_converter">Binary to Decimal Converter</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1066"/><a class="calibre" id="iddle1067"/><a class="calibre" id="iddle1068"/><a class="calibre" id="iddle1709"/><a class="calibre" id="iddle1742"/>Binary (base-2) numbers have only two possible digits: 0 and 1. Most computers operate
and communicate with binary numbers. Humans, however, prefer to work with numbers in the decimal
(base-10) system. In this section, you’ll develop an application that converts binary numbers
to their decimal equivalents. Later, you could use it as a game to test your ability to perform such
conversions.</p><p class="calibre3"><span class="calibre"><em class="calibre6">BinaryToDecimal.sb2</em></span></p><p class="calibre3">Let’s first discuss how to convert from binary to decimal. <a class="xref" href="ch08.html#converting_a_binary_number_to_a_decimal" title="Figure 8-18. Converting a binary number to a decimal number">Figure 8-18</a> shows an example using the binary number
10011011.</p><div class="figure"><a id="converting_a_binary_number_to_a_decimal" class="calibre"/><div class="book"><div class="book"><a id="med_id00282" class="calibre"/><img alt="Converting a binary number to a decimal number" src="httpatomoreillycomsourcenostarchimages2134911.png" class="calibre7"/></div></div><div class="figure-title">Figure 8-18. Converting a binary number to a decimal number</div></div><p class="calibre3">All we have to do is multiply each binary digit by its corresponding positional value and add
the resulting products. <span class="calibre"><em class="calibre6">Positional values</em></span> correspond to increasing powers of
the base from right to left, with the first position having a power of 0. Since binary is base 2,
the rightmost digit has a positional value of 2<sup class="calibre36">0</sup> = 1, so you’d
multiply the digit by 1. You’d multiply the next digit by 2<sup class="calibre36">1</sup> = 2,
the next by 2<sup class="calibre36">2</sup> = 4, and so on.</p><p class="calibre3"><a class="xref" href="ch08.html#binary-to-decimal_conversion_program" title="Figure 8-19. Binary-to-decimal conversion program">Figure 8-19</a> illustrates the user interface of the
binary-to-decimal conversion application. The program asks the user to input an 8-bit binary number.
It then shows the input number on the Stage with the <code class="literal">Bit</code> sprite, which uses two
costumes to represent 0 and 1. The program also computes the equivalent decimal number, and the
<code class="literal">Driver</code> sprite, which has a computer costume, displays that value to the
user.</p><div class="figure"><a id="binary-to-decimal_conversion_program" class="calibre"/><div class="book"><div class="book"><a id="med_id00283" class="calibre"/><img alt="Binary-to-decimal conversion program" src="httpatomoreillycomsourcenostarchimages2134913.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-19. Binary-to-decimal conversion program</div></div><div class="sidebar"><a id="try_it_out_8-5" class="calibre"/><div class="sidebar-title">Try It Out 8-5</div><p class="calibre3">To check your understanding, practice the following binary-to-decimal conversions: (a)
1010100, (b) 1101001, and (c) 1100001.</p></div><p class="calibre3">The program starts when the green flag icon is clicked. This event is trapped by the
<code class="literal">Driver</code> sprite, which executes the script shown and described in <a class="xref" href="ch08.html#script_for_the_driver_sprite" title="Figure 8-20. The script for the Driver sprite">Figure 8-20</a>.</p><div class="figure"><a id="script_for_the_driver_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00284" class="calibre"/><img alt="The script for the Driver sprite" src="httpatomoreillycomsourcenostarchimages2134915.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-20. The script for the <code class="literal">Driver</code> sprite</div></div><p class="calibre3">This script prepares the Stage and asks the user to input a binary number so the
<code class="literal">Bit</code> sprite can begin a new round of conversion. When the <code class="literal">Bit</code>
sprite completes its work, the <code class="literal">Driver</code> sprite shows the user the decimal value,
which is computed and stored by the <code class="literal">Bit</code> sprite in a shared variable named
<code class="literal">decimal</code>.</p><p class="calibre3">The script that the <code class="literal">Bit</code> sprite runs in response to the
<code class="literal">Initialize</code> message is illustrated in <a class="xref" href="ch08.html#initialize_script_for_the_bit_sprite" title="Figure 8-21. The Initialize script for the Bit sprite">Figure 8-21</a>.</p><div class="figure"><a id="initialize_script_for_the_bit_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00285" class="calibre"/><img alt="The Initialize script for the Bit sprite" src="httpatomoreillycomsourcenostarchimages2134917.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-21. The <code class="literal">Initialize</code> script for the <code class="literal">Bit</code> sprite</div></div><p class="calibre3">This script draws a bit pattern representing eight zeros on the Stage. As you’ll see in
a moment, wherever a binary 1 appears in the user’s input string, the script should stamp a
costume of digit 1 over the corresponding bit. When the user enters the binary number to be
converted, the <code class="literal">Bit</code> sprite should receive the <code class="literal">BinaryToDecimal</code>
message and execute the script shown in <a class="xref" href="ch08.html#binarytodecimal_script_for_the_bit_sprit" title="Figure 8-22. The BinaryToDecimal script for the Bit sprite">Figure 8-22</a>.</p><div class="figure"><a id="binarytodecimal_script_for_the_bit_sprit" class="calibre"/><div class="book"><div class="book"><a id="med_id00286" class="calibre"/><img alt="The BinaryToDecimal script for the Bit sprite" src="httpatomoreillycomsourcenostarchimages2134919.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-22. The <code class="literal">BinaryToDecimal</code> script for the <code class="literal">Bit</code> sprite</div></div><p class="calibre3">First, the conversion procedure initializes all of the variables it will use ①:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3"><code class="literal">length</code> is the number of bits in the user’s binary number.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">pos</code> points to the rightmost digit of the input number.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">weight</code> starts at the positional value of the rightmost binary digit.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">decimal</code> is set to 0 but will hold the result of the conversion at the
end.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">xPos</code> begins at the <span class="calibre"><em class="calibre6">x</em></span>-coordinate of the image of the
rightmost binary digit.</p></li></ul></div><p class="calibre3">Inside the <code class="literal">repeat</code> loop ②, the procedure checks each digit to see
whether it is a 1 or a 0. If the loop finds a 1 ③, it adds the current value of
<code class="literal">weight</code> to <code class="literal">decimal</code> and stamps the digit-1 costume on top of the
digit-0 image.</p><p class="calibre3">At the end of the loop, the script updates several variables before moving to the next
iteration:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3"><code class="literal">pos</code> is updated to point to the digit to the left of the one we just
processed.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">xPos</code> is aligned with the center of the image of the next digit, just in
case we need to stamp a new image.</p></li><li class="listitem1"><p class="calibre3"><code class="literal">weight</code> is multiplied by 2, which means it will take on the values 1, 2, 4,
8, 16, and so on as the loop iterates.</p></li></ul></div><div class="sidebar"><a id="try_it_out_8-6" class="calibre"/><div class="sidebar-title">Try It Out 8-6</div><p class="calibre3"><a class="calibre" id="iddle1413"/><a class="calibre" id="iddle1414"/><a class="calibre" id="iddle1767"/>Make the <code class="literal">Driver</code> sprite validate the number entered by the user before
broadcasting the <code class="literal">BinaryToDecimal</code> message to the <code class="literal">Bit</code> sprite.
You should verify that (1) the number entered by the user is a binary number (that is, it only
contains ones and zeros) and (2) the length of the input is at most eight digits.</p></div></div><div class="book" title="Hangman"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="hangman">Hangman</h3></div></div></div><p class="calibre3">In this section, we’ll write a classic Hangman game. <a class="xref" href="ch08.html#user_interface_for_the_hangman_game" title="Figure 8-23. The user interface for the Hangman game">Figure 8-23</a> shows the game in action.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Hangman.sb2</em></span></p><div class="figure"><a id="user_interface_for_the_hangman_game" class="calibre"/><div class="book"><div class="book"><a id="med_id00287" class="calibre"/><img alt="The user interface for the Hangman game" src="httpatomoreillycomsourcenostarchimages2134921.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-23. The user interface for the Hangman game</div></div><p class="calibre3">The program randomly selects a secret six-letter word and shows one question mark for each
letter. The player has eight chances to guess the letters in the word. If the player guesses a
letter correctly, the program shows all occurrences of that letter in the secret word. Otherwise,
the program shows a new part of a hanging figure (the head, body, left arm, and so on). After eight
wrong guesses, the program finishes the figure, and the player loses the game. If the player guesses
the secret word in eight attempts or fewer, the result is victory. This application has the
following four sprites:</p><div class="blockquote"><blockquote class="blockquote1"><p class="calibre41"><span class="calibre"><strong class="calibre5">Driver</strong></span> This sprite hides itself when the game starts,
prompts the player to enter guesses, and processes the player’s answers. When the game ends,
the sprite shows one of the following two costumes:</p><div class="informalfigure"><div class="book"><a id="med_id00288" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134923.png.jpg" class="calibre7"/></div></div><p class="calibre41"><span class="calibre"><strong class="calibre5">Hangman</strong></span> This sprite displays the evolving image of the
hangman. It has a total of nine costumes, each one showing an additional part of the hangman’s
body, as depicted in <a class="xref" href="ch08.html#nine_costumes_of_the_hangman_sprite" title="Figure 8-24. The nine costumes of the Hangman sprite">Figure 8-24</a>.</p></blockquote></div><div class="figure"><a id="nine_costumes_of_the_hangman_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00289" class="calibre"/><img alt="The nine costumes of the Hangman sprite" src="httpatomoreillycomsourcenostarchimages2134925.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-24. The nine costumes of the <code class="literal">Hangman</code> sprite</div></div><div class="blockquote"><blockquote class="blockquote1"><p class="calibre41"><span class="calibre"><strong class="calibre5">New</strong></span> This sprite displays the <code class="literal">New</code> button
on the Stage.</p><p class="calibre41"><span class="calibre"><strong class="calibre5">Helper</strong></span> This invisible sprite displays the letters guessed
by the player as well as the number of remaining attempts. It uses seven variables with monitors
configured as large displays and positioned at the correct locations on the Stage. Using a different
sprite to update the display separates the game logic from the user interface. You can, for example,
change this sprite to show more fancy letters on the Stage without affecting the rest of the
application.</p></blockquote></div><p class="calibre3">When the player presses the <code class="literal">New</code> sprite (the <code class="literal">New</code> button),
it broadcasts a <code class="literal">NewGame</code> message to alert the <code class="literal">Driver</code> sprite
that a new game has started. When the <code class="literal">Driver</code> sprite receives this message, it
executes the script shown in <a class="xref" href="ch08.html#newgame_script_of_the_driver_sprite" title="Figure 8-25. The NewGame script of the Driver sprite">Figure 8-25</a>.</p><div class="figure"><a id="newgame_script_of_the_driver_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00290" class="calibre"/><img alt="The NewGame script of the Driver sprite" src="httpatomoreillycomsourcenostarchimages2134927.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-25. The <code class="literal">NewGame</code> script of the <code class="literal">Driver</code> sprite</div></div><p class="calibre3">The script resets the game’s user interface ① and starts a loop ② to read in
letter guesses. Another procedure called by the <code class="literal">Driver</code> sprite will terminate this
loop via a <span class="calibre"><strong class="calibre5">stop all</strong></span> block when the game’s end condition is
detected.</p><p class="calibre3">In each iteration of the loop, the <code class="literal">Driver</code> sprite asks the player to guess a
letter and waits for input ③. When the player enters a guess, the script calls <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span>, which will update a flag (named
<code class="literal">gotLetter</code>) to indicate whether the letter was right or wrong.</p><p class="calibre3">When <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span> returns, the script checks the
<code class="literal">gotLetter</code> flag ④ and acts based on whether the player’s guess was
correct or not. I’ll explain the procedures called by <code class="literal">NewGame</code> next,
starting with the scripts in <a class="xref" href="ch08.html#scripts_triggered_from_the_initialize_pr" title="Figure 8-26. Scripts triggered from the Initialize procedure">Figure 8-26</a>.</p><div class="figure"><a id="scripts_triggered_from_the_initialize_pr" class="calibre"/><div class="book"><div class="book"><a id="med_id00291" class="calibre"/><img alt="Scripts triggered from the Initialize procedure" src="httpatomoreillycomsourcenostarchimages2134929.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-26. Scripts triggered from the <span class="calibre">Initialize</span> procedure</div></div><p class="calibre3">During initialization, the <code class="literal">Driver</code> sprite hides itself, initializes
<code class="literal">displayWord</code> to a string with six question marks, and sets
<code class="literal">remAttempts</code> (how many guesses the player has left) to 8. It then selects the
<code class="literal">secretWord</code> from a predefined list of six-letter words. Next the procedure
broadcasts <code class="literal">Update</code> so the <code class="literal">Helper</code> sprite will assign its
variables (whose monitors are visible on the Stage) to the correct values. The last instruction
broadcasts the <code class="literal">Reset</code> message to the <code class="literal">Hangman</code> sprite. When the
<code class="literal">Hangman</code> sprite receives this message, it switches to its <code class="literal">start</code>
costume, which shows an empty gallows.</p><p class="calibre3">Now let’s consider a simple example to help us understand what the <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span> procedure does (see <a class="xref" href="ch08.html#processanswer_procedure" title="Figure 8-27. The ProcessAnswer procedure">Figure 8-27</a>). Assume the secret word is <span class="calibre"><em class="calibre6">across</em></span> and that this is the first round of the
game (which means that <code class="literal">displayWord</code> is “??????”). If the
player’s first guess is <code class="literal">r</code>, <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span>
should set <code class="literal">gotLetter</code> to 1 to indicate a correct guess, set
<code class="literal">displayWord</code> to “??r???” to show the letter’s position, and set
<code class="literal">qmarkCount</code> (the number of question marks in the updated display string) to 5.
When <code class="literal">qmarkCount</code> reaches 0, the player has guessed all the letters in the secret
word. <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span> belongs to the <code class="literal">Driver</code>
sprite, and you can see the full script in <a class="xref" href="ch08.html#processanswer_procedure" title="Figure 8-27. The ProcessAnswer procedure">Figure 8-27</a> (left).</p><p class="calibre3"><span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span> starts by resetting both the
<code class="literal">gotLetter</code> flag and <code class="literal">qmarkCount</code> to 0. It will increase
<code class="literal">qmarkCount</code> by 1 for every unknown letter in the secret word. The temporary
variable, <code class="literal">temp</code>, which is used to construct the display string after every guess,
is initialized to an empty string. The <code class="literal">pos</code> variable is used as a loop
counter.</p><div class="figure"><a id="processanswer_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00292" class="calibre"/><img alt="The ProcessAnswer procedure" src="httpatomoreillycomsourcenostarchimages2134931.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-27. The <span class="calibre">ProcessAnswer</span> procedure</div></div><p class="calibre3">The loop examines each letter of <code class="literal">secretWord</code>, using <code class="literal">pos</code>
as an index. If the examined letter (saved in <code class="literal">char</code>) equals the guessed letter
(saved in Scratch’s built-in <code class="literal">answer</code> variable), the
<code class="literal">gotLetter</code> flag is set to 1. Otherwise, the <code class="literal">char</code> variable is
set to the letter at the corresponding position in the <code class="literal">displayWord</code> variable.
Either way, the script adds <code class="literal">char</code> to the end of <code class="literal">temp</code>, as
illustrated in <a class="xref" href="ch08.html#processanswer_procedure" title="Figure 8-27. The ProcessAnswer procedure">Figure 8-27</a> (right).</p><p class="calibre3">When the loop terminates, the <code class="literal">displayWord</code> variable will contain the six
letters to be displayed on the Stage, taking the user’s most recent guess into account. The
loop also tracks the number of question marks in the display string. If there are none, then the
user has successfully guessed the secret word.</p><p class="calibre3">When <span class="calibre"><strong class="calibre5">ProcessAnswer</strong></span> returns, the <code class="literal">NewGame</code>
message handler checks <code class="literal">gotLetter</code> to see whether the player guessed correctly. If
not, it will call <span class="calibre"><strong class="calibre5">ProcessWrongGuess</strong></span>, shown in <a class="xref" href="ch08.html#processwrongguess_procedure" title="Figure 8-28. The ProcessWrongGuess procedure">Figure 8-28</a>.</p><p class="calibre3">This procedure broadcasts <code class="literal">WrongGuess</code> to notify the
<code class="literal">Hangman</code> sprite to show its next costume, and then it decrements the number of
remaining guesses by 1. If the user is out of guesses, the script reveals the secret word and ends
the game. Otherwise, it broadcasts an <code class="literal">Update</code> message to show how many trials the
player has left.</p><div class="figure"><a id="processwrongguess_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00293" class="calibre"/><img alt="The ProcessWrongGuess procedure" src="httpatomoreillycomsourcenostarchimages2134933.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-28. The <span class="calibre">ProcessWrongGuess</span> procedure</div></div><p class="calibre3">If the player’s letter was correct, the <span class="calibre"><strong class="calibre5">ProcessCorrectGuess</strong></span> shown in <a class="xref" href="ch08.html#processcorrectguess_procedure" title="Figure 8-29. The ProcessCorrectGuess procedure">Figure 8-29</a> should be
called instead of <span class="calibre"><strong class="calibre5">ProcessWrongGuess</strong></span>.</p><div class="figure"><a id="processcorrectguess_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00294" class="calibre"/><img alt="The ProcessCorrectGuess procedure" src="httpatomoreillycomsourcenostarchimages2134935.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-29. The <span class="calibre">ProcessCorrectGuess</span> procedure</div></div><p class="calibre3"><span class="calibre"><strong class="calibre5">ProcessCorrectGuess</strong></span> broadcasts <code class="literal">Update</code> to
show the letter the player guessed correctly. It then checks the value of
<code class="literal">qmarkCount</code>. If <code class="literal">qmarkCount</code> is 0, the player has guessed all of
the letters correctly, so the <code class="literal">Driver</code> sprite shows its <code class="literal">win</code>
costume and ends the game.</p><div class="sidebar"><a id="try_it_out_8-7" class="calibre"/><div class="sidebar-title">Try It Out 8-7</div><p class="calibre3">The Hangman program doesn’t validate the user input; you could enter a non-alphabetic
character or even an entire word. Modify the program so that it rejects any invalid input by the
user.</p></div></div><div class="book" title="Fraction Tutor"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="fraction_tutor">Fraction Tutor</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1385"/><a class="calibre" id="iddle1386"/><a class="calibre" id="iddle1761"/>For our last example, we’ll present an educational game for teaching fractions.
The interface for this game is shown in <a class="xref" href="ch08.html#user_interface_for_the_fraction_tutor_ap" title="Figure 8-30. The user interface for the Fraction Tutor application">Figure 8-30</a>.
The player can select an operation (+, –, ×, or ÷) and click the
<code class="literal">New</code> button to create a new problem. When the player enters an answer and clicks
the <code class="literal">Check</code> button, the <code class="literal">Teacher</code> sprite (image of a woman) checks
that answer and provides an appropriate feedback message.</p><p class="calibre3"><span class="calibre"><em class="calibre6">FractionTutor.sb2</em></span></p><div class="figure"><a id="user_interface_for_the_fraction_tutor_ap" class="calibre"/><div class="book"><div class="book"><a id="med_id00295" class="calibre"/><img alt="The user interface for the Fraction Tutor application" src="httpatomoreillycomsourcenostarchimages2134937.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-30. The user interface for the Fraction Tutor application</div></div><p class="calibre3">The application contains six sprites. <code class="literal">Operation</code> allows the player to choose
a mathematical operation. <code class="literal">Read</code> shows the answer entry button,
<code class="literal">New</code> shows the <code class="literal">New</code> button, and <code class="literal">Check</code> shows
the <code class="literal">Check</code> button. The <code class="literal">Teacher</code> sprite checks the player’s
answer, and an invisible sprite named <code class="literal">Digit</code> stamps the numbers that correspond to
the current problem on the Stage.</p><p class="calibre3">When the player clicks the <code class="literal">New</code> sprite (the <code class="literal">New</code> button),
it executes the script shown in <a class="xref" href="ch08.html#script_for_the_new_sprite" title="Figure 8-31. The script for the New sprite">Figure 8-31</a>. The script assigns
random values between 1 and 9 to the numerator and denominator of both operands, which are
represented by the four variables <code class="literal">num1</code>, <code class="literal">den1</code>,
<code class="literal">num2</code>, and <code class="literal">den2</code>. It then broadcasts a
<code class="literal">NewProblem</code> message to tell the <code class="literal">Digit</code> sprite to stamp these
numbers on the Stage.</p><div class="figure"><a id="script_for_the_new_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00296" class="calibre"/><img alt="The script for the New sprite" src="httpatomoreillycomsourcenostarchimages2134939.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-31. The script for the <code class="literal">New</code> sprite</div></div><p class="calibre3">The <code class="literal">Digit</code> sprite has 12 costumes (named <code class="literal">d1</code> through
<code class="literal">d12</code>), as shown in <a class="xref" href="ch08.html#function_of_the_digit_sprite" title="Figure 8-32. The function of the Digit sprite">Figure 8-32</a> (right). When
this sprite receives the <code class="literal">NewProblem</code> broadcast, it stamps costumes representing
the numerators and denominators of the two operands. <a class="xref" href="ch08.html#function_of_the_digit_sprite" title="Figure 8-32. The function of the Digit sprite">Figure 8-32</a>
also shows the procedure that does the actual stamping.</p><div class="figure"><a id="function_of_the_digit_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00297" class="calibre"/><img alt="The function of the Digit sprite" src="httpatomoreillycomsourcenostarchimages2134941.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-32. The function of the <code class="literal">Digit</code> sprite</div></div><p class="calibre3">The procedure uses nested <span class="calibre"><strong class="calibre5">if/else</strong></span> blocks to determine which
costume corresponds to the digit to be stamped. Note how the costume name for digits 1 through 9 is
formed using the <span class="calibre"><strong class="calibre5">join</strong></span> operator. After switching to the correct
costume, the <code class="literal">Digit</code> sprite moves to the specified
(<span class="calibre"><em class="calibre6">x</em></span>,<span class="calibre"><em class="calibre6">y</em></span>) position and stamps the image of the costume at that
location.</p><p class="calibre3">When the new problem is shown, the user can click the <code class="literal">Read</code> button to enter
an answer. The script associated with this button is illustrated in <a class="xref" href="ch08.html#script_of_the_read_sprite" title="Figure 8-33. The script of the Read sprite">Figure 8-33</a>. The part of the script that parses the player’s answer
into two tokens (numerator and denominator) is similar to the one presented in <a class="xref" href="ch08.html#getanswers_script" title="Figure 8-16. The GetAnswers script">Figure 8-16</a> for extracting the <code class="literal">angle</code> and
<code class="literal">distance</code> from <code class="literal">answer</code> in the Shoot game and, therefore, is not
shown here. Check the <span class="calibre"><em class="calibre6">FractionTutor.sb2</em></span> file for the complete procedure.</p><div class="figure"><a id="script_of_the_read_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00298" class="calibre"/><img alt="The script of the Read sprite" src="httpatomoreillycomsourcenostarchimages2134943.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-33. The script of the <code class="literal">Read</code> sprite</div></div><p class="calibre3"><a class="calibre" id="iddle1394"/><a class="calibre" id="iddle1405"/>First, the user is asked to enter an answer in fraction form (for example, 3/5 or
–7/8). The script then extracts the numerator and the denominator of the answer string (which
are separated by the division sign) and assigns them to the <code class="literal">num3</code> and
<code class="literal">den3</code> variables, respectively. For example, if the user enters –23/15,
<code class="literal">num3</code> will be set to –23 and <code class="literal">den3</code> will be set to 15.
After that, the script broadcasts a <code class="literal">GotAnswer</code> message to tell the
<code class="literal">Digit</code> sprite to show the user’s answer on the Stage. When the
<code class="literal">Digit</code> sprite receives this message, it stamps the digits of
<code class="literal">num3</code> and <code class="literal">den3</code> at the correct positions on the Stage in the
same way it displayed the numerators and denominators of the two operands. You can check the file
<span class="calibre"><em class="calibre6">FractionTutor.sb2</em></span> for the details.</p><p class="calibre3">After entering an answer, the user can click the <code class="literal">Check</code> button to see if the
answer is correct. The script for the <code class="literal">Check</code> sprite broadcasts a
<code class="literal">CheckAnswer</code> message to inform the other sprites of the user’s request. This
message is trapped and processed by the <code class="literal">Teacher</code> sprite, which will execute the
script shown in <a class="xref" href="ch08.html#checkanswer_script" title="Figure 8-34. The CheckAnswer script">Figure 8-34</a>.</p><div class="figure"><a id="checkanswer_script" class="calibre"/><div class="book"><div class="book"><a id="med_id00299" class="calibre"/><img alt="The CheckAnswer script" src="httpatomoreillycomsourcenostarchimages2134945.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-34. The <code class="literal">CheckAnswer</code> script</div></div><p class="calibre3">The current costume of the <code class="literal">Operation</code> sprite tells which operation procedure
(<span class="calibre"><strong class="calibre5">Add</strong></span>, <span class="calibre"><strong class="calibre5">Subtract</strong></span>, <span class="calibre"><strong class="calibre5">Multiply</strong></span>, or <span class="calibre"><strong class="calibre5">Divide</strong></span>) to execute ①.
The operations take <code class="literal">num1</code>, <code class="literal">den1</code>, <code class="literal">num2</code>, and
<code class="literal">den2</code> as inputs and set the values of <code class="literal">ansNum</code> and
<code class="literal">ansDen</code>, which represent the numerator and denominator of the correct answer,
respectively. The four procedures are shown in <a class="xref" href="ch08.html#addcomma_subtractcomma_multiplycomma_and" title="Figure 8-35. The Add, Subtract, Multiply, and Divide procedures of the Teacher sprite">Figure 8-35</a>.</p><p class="calibre3">After finding the answer, <code class="literal">CheckAnswer</code> needs to put it in its simplest form.
For example, 2/4 should be simplified to 1/2. To perform this reduction, the script first finds the
greatest common divisor (GCD), also known as the greatest common factor, of the numerator and
denominator ②. (We’ll look at this procedure in a moment.)</p><div class="figure"><a id="addcomma_subtractcomma_multiplycomma_and" class="calibre"/><div class="book"><div class="book"><a id="med_id00300" class="calibre"/><img alt="The Add, Subtract, Multiply, and Divide procedures of the Teacher sprite" src="httpatomoreillycomsourcenostarchimages2134947.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-35. The <span class="calibre">Add</span>, <span class="calibre">Subtract</span>,
<span class="calibre">Multiply</span>, and <span class="calibre">Divide</span>
procedures of the <code class="literal">Teacher</code> sprite</div></div><p class="calibre3">After finding the GCD, the script divides <code class="literal">ansNum</code> and
<code class="literal">ansDen</code> by that value ③ and calls <span class="calibre"><strong class="calibre5">GiveFeedback</strong></span> ④ to display whether or not the user’s answer was
correct.</p><p class="calibre3">Now let’s look more closely at the details of these procedures, starting with the four
operation procedures shown in <a class="xref" href="ch08.html#addcomma_subtractcomma_multiplycomma_and" title="Figure 8-35. The Add, Subtract, Multiply, and Divide procedures of the Teacher sprite">Figure 8-35</a>.</p><p class="calibre3">These procedures compute the result of performing an operation of the form</p><div class="informalfigure"><a id="med_id00301a" class="calibre"/><div class="book"><a id="med_id00301" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134949.png.jpg" class="calibre7"/></div></div><p class="calibre3">and store the result in two variables (<code class="literal">ansNum</code> and
<code class="literal">ansDen</code>) corresponding to the answer’s numerator and denominator,
respectively.</p><p class="calibre3">Let’s now move on to the <span class="calibre"><strong class="calibre5">FindGCD</strong></span> procedure, shown in
<a class="xref" href="ch08.html#findgcd_procedure_of_the_teacher_sprite" title="Figure 8-36. The FindGCD procedure of the Teacher sprite">Figure 8-36</a>.</p><div class="figure"><a id="findgcd_procedure_of_the_teacher_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00302" class="calibre"/><img alt="The FindGCD procedure of the Teacher sprite" src="httpatomoreillycomsourcenostarchimages2134951.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-36. The <span class="calibre">FindGCD</span> procedure of the <code class="literal">Teacher</code>
sprite</div></div><p class="calibre3">Let’s trace the operation of <span class="calibre"><strong class="calibre5">FindGCD</strong></span> when
<code class="literal">num1</code> = –10 and <code class="literal">num2</code> = 6. We need to find the largest
positive integer that divides <code class="literal">num1</code> and <code class="literal">num2</code> without a
remainder. The procedure starts by setting <code class="literal">gcd</code>, the result, to the lesser
absolute value of the two numbers, –6 in our example. A loop then tests the numbers 6, 5, 4,
and so on, until both <code class="literal">num1</code> and <code class="literal">num2</code> divide evenly by the
checked number. This is the result we are after. In this example, <code class="literal">gcd</code> will be set
to 2 since both numbers (–10 and 6) divide by 2 without a remainder.</p><p class="calibre3">The last procedure to examine is the <span class="calibre"><strong class="calibre5">GiveFeedback</strong></span>
procedure, which compares the user’s answer with the correct answer and displays an
appropriate message, as shown in <a class="xref" href="ch08.html#givefeedback_procedure_of_the_teacher_sp" title="Figure 8-37. The GiveFeedback procedure of the Teacher sprite">Figure 8-37</a>. The
figure also shows some examples that demonstrate the different cases of the <span class="calibre"><strong class="calibre5">if/else</strong></span> structure.</p><div class="figure"><a id="givefeedback_procedure_of_the_teacher_sp" class="calibre"/><div class="book"><div class="book"><a id="med_id00303" class="calibre"/><img alt="The GiveFeedback procedure of the Teacher sprite" src="httpatomoreillycomsourcenostarchimages2134953.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 8-37. The <span class="calibre">GiveFeedback</span> procedure of the
<code class="literal">Teacher</code> sprite</div></div><div class="sidebar"><a id="try_it_out_8-8" class="calibre"/><div class="sidebar-title">Try It Out 8-8</div><p class="calibre3">Modify the fraction tutor program to keep track of the number of correct and incorrect
answers. Devise a scheme for calculating a score and showing it to the user.</p></div></div></div><div class="book" title="Summary"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="summary-id00023">Summary</h2></div></div></div><p class="calibre3">String processing is an important programming skill. In this chapter, you learned how to
access individual characters of a string to combine them, compare them, remove them, and shuffle
them around.</p><p class="calibre3">We started with a detailed look at the string data type and how strings are stored as
sequences of characters. We then wrote several procedures that demonstrated basic string
manipulation techniques. After that, we used these techniques to write several interesting and
practical applications. The concepts developed in these projects can be applied in many other areas,
and I certainly hope they’ll help you think of your own projects.</p><p class="calibre3">In the next chapter, you’ll learn about lists and how to use them to store and
manipulate a bunch of values. Equipped with this new data structure, you’ll have all the tools
you need to write professional programs in Scratch.</p></div><div class="book" title="Problems"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="problems-id00024">Problems</h2></div></div></div><div class="book" title="Frequently Asked Questions"><a id="ch08qa1" class="calibre"/><table class="calibre21"><colgroup class="calibre10"><col class="calibre22"/><col class="c"/></colgroup><tbody class="calibre15"><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch08qa1qe1" class="calibre"/><a id="ch08qa1q1" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">1. <a class="calibre" id="iddle1181"/><a class="calibre" id="iddle1182"/><a class="calibre" id="iddle1748"/>Write a program that asks the user to enter a word and then says that word
<span class="calibre"><em class="calibre6">N</em></span> times, where <span class="calibre"><em class="calibre6">N</em></span> is the number of letters in the input
word.</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch08qa1qe2" class="calibre"/><a id="ch08qa1q2" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">2. Write a program that asks the user to enter a word. The program then determines the number
of occurrences of the letter <span class="calibre"><em class="calibre6">a</em></span> in the input word.</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch08qa1qe3" class="calibre"/><a id="ch08qa1q3" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">3. Write a program that reads a singular English noun from the user. The program then produces
the plural form of that noun. (Hint: Check the last letter and the second from the last letter of
the input word.) To keep the program simple, consider only the following rule: If the word ends in
<span class="calibre"><em class="calibre6">ch</em></span>, <span class="calibre"><em class="calibre6">x</em></span>, or <span class="calibre"><em class="calibre6">s</em></span>, add
<span class="calibre"><em class="calibre6">es</em></span> for the plural, otherwise just add an <span class="calibre"><em class="calibre6">s</em></span>.</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch08qa1qe4" class="calibre"/><a id="ch08qa1q4" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">4. Write a program that reads a single character (between <span class="calibre"><em class="calibre6">a</em></span> and
<span class="calibre"><em class="calibre6">z</em></span>) from the user and outputs the position of that character in the alphabet
(<span class="calibre"><em class="calibre6">a</em></span> = 1, <span class="calibre"><em class="calibre6">b</em></span> = 2, <span class="calibre"><em class="calibre6">c</em></span> = 3, and so on).
Uppercase letters and lowercase letters should be treated the same. (Hint: Define a variable named
<code class="literal2">alpha</code> that holds the letters of the alphabet, as we did in <a class="xref" href="ch08.html#main_script_for_the_fix_my_spelling_game" title="Figure 8-9. The main script for the Fix My Spelling game">Figure 8-9</a>, and then use a loop to find the position of
the input character within the variable <span class="calibre"><em class="calibre6">alpha</em></span>.)</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch08qa1qe5" class="calibre"/><a id="ch08qa1q5" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">5. Write a program that asks the user to enter a letter of the alphabet and then displays the
letter that precedes the input letter. (Hint: Use the same technique used in the previous
problem.)</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch08qa1qe6" class="calibre"/><a id="ch08qa1q6" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">6. Write a program that reads a positive integer from the user then finds and displays the sum
of its digits. For example, if the user enters <code class="literal2">3582</code>, the program should display
<code class="literal2">18</code> (3 + 5 + 8 + 2).</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch08qa1qe7" class="calibre"/><a id="ch08qa1q7" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">7. Write a program that reads a word from the user and then displays the letters in reverse
using the <span class="calibre"><strong class="calibre5">say</strong></span> block.</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch08qa1qe8" class="calibre"/><a id="ch08qa1q8" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">8. Write a program that gets a number from the user and then inserts a space between each pair
of digits. For example, if the input number is <code class="literal2">1234</code>, the output string should be
<code class="literal2">1 2 3 4</code>. (Hint: Construct the output variable by joining the individual letters
from the input number with white spaces.)</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch08qa1qe9" class="calibre"/><a id="ch08qa1q9" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">9. In this problem, you’ll create a game that lets players compare fractions. The user
interface is shown on the right. When the <code class="literal2">New</code> button is clicked, the game
randomly picks two fractions to compare. The user selects less than (&lt;), greater than (&gt;), or
equal to (=) by clicking the operator button. When the user clicks the <code class="literal2">Check</code>
button, the game checks the answer and provides feedback. Open the file
<span class="calibre"><em class="calibre6">CompareFractions.sb2</em></span> and add the necessary scripts to complete the game.</p><p class="calibre3"><span class="calibre"><em class="calibre6">Compare Fractions.sb2</em></span></p><div class="informalfigure"><a id="med_id00304a" class="calibre"/><div class="book"><a id="med_id00304" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134955.png.jpg" class="calibre7"/></div></div></td></tr></tbody></table></div></div></section></body></html>