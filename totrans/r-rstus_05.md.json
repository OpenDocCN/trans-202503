["```\n**library(sf)**\n\n**wyoming <- read_sf(\"https://data.rfortherestofus.com/wyoming.geojson\")** \n```", "```\n> **wyoming**\n#> Simple feature collection with 1 feature and 1 field\n#> Geometry type: POLYGON\n#> Dimension:     XY\n#> Bounding box:  xmin: -111.0546 ymin: 40.99477 xmax: -104.0522 ymax: 45.00582\n#> Geodetic CRS:  WGS 84\n#>   NAME    geometry\n#> 1 Wyoming POLYGON ((-111.0449 43.3157... \n```", "```\nlibrary(tidyverse)\n\nwyoming %>%\n  ggplot() +\n  **geom_sf()** \n```", "```\n#> Simple feature collection with 23 features and 1 field\n#> Geometry type: MULTIPOLYGON\n#> Dimension:     XY\n#> Bounding box:  xmin: -111.0546 ymin: 40.99477 xmax: -104.0522 ymax: 45.00582\n#> Geodetic CRS:  WGS 84\n#> First 10 features:\n#>          NAME        geometry\n#> 34       Lincoln     MULTIPOLYGON (((-111.0472 4...\n#> 104      Fremont     MULTIPOLYGON (((-109.4582 4...\n#> 121      Uinta       MULTIPOLYGON (((-110.6068 4...\n#> 527      Big Horn    MULTIPOLYGON (((-108.5923 4...\n#> 551      Hot Springs MULTIPOLYGON (((-109.1714 4...\n#> 601      Washakie    MULTIPOLYGON (((-107.6335 4...\n#> 769      Converse    MULTIPOLYGON (((-105.6985 4...\n#> 970      Sweetwater  MULTIPOLYGON (((-110.0489 4...\n#> 977      Crook       MULTIPOLYGON (((-105.0856 4...\n#> 1097     Carbon      MULTIPOLYGON (((-106.9129 4... \n```", "```\nBounding box:  xmin: -111.0569 ymin: 40.99475 xmax: -104.0522 ymax: 45.0059 \n```", "```\n**library(tidyverse)**\n**library(albersusa)**\n**library(sf)**\n**library(zoo)**\n**library(colorspace)** \n```", "```\n**remotes::install_github(\"hrbrmstr/albersusa\")** \n```", "```\n**covid_data <- read_csv(\"https://data.rfortherestofus.com/covid-us-states.csv\") %>%**\n **select(-fips)** \n```", "```\n#> # A tibble: 56,006 × 4\n#>    date       state      cases deaths\n#>    <date>     <chr>      <dbl>  <dbl>\n#>  1 2020-01-21 Washington     1      0\n#>  2 2020-01-22 Washington     1      0\n#>  3 2020-01-23 Washington     1      0\n#>  4 2020-01-24 Illinois       1      0\n#>  5 2020-01-24 Washington     1      0\n#>  6 2020-01-25 California     1      0\n#>  7 2020-01-25 Illinois       1      0\n#>  8 2020-01-25 Washington     1      0\n#>  9 2020-01-26 Arizona        1      0\n#> 10 2020-01-26 California     2      0\n`--snip--` \n```", "```\n**usa_states <- read_csv(\"https://data.rfortherestofus.com/population-by-state.csv\") %>%**\n **select(State, Pop)** \n```", "```\n#> # A tibble: 52 × 2\n#>    State          Pop\n#>    <chr>          <dbl>\n#>  1 California     39613493\n#>  2 Texas          29730311\n#>  3 Florida        21944577\n#>  4 New York       19299981\n#>  5 Pennsylvania   12804123\n#>  6 Illinois       12569321\n#>  7 Ohio           11714618\n#>  8 Georgia        10830007\n#>  9 North Carolina 10701022\n#> 10 Michigan        9992427\n`--snip--` \n```", "```\n**usa_states_geom <- usa_sf() %>%**\n **select(name) %>%**\n **st_transform(us_laea_proj)** \n```", "```\ncovid_cases <- covid_data %>%\n  group_by(state) %>%\n  mutate(\n  ❶ pd_cases = lag(cases)\n  ) %>%\n❷ replace_na(list(pd_cases = 0)) %>%\n  mutate(\n  ❸ daily_cases = case_when(\n      cases > pd_cases ~ cases - pd_cases,\n TRUE ~ 0\n    )\n) %>%\n❹ ungroup() %>%\n  arrange(state, date) \n```", "```\n#> # A tibble: 56,006 × 6\n#>    date       state   cases deaths pd_cases daily_cases\n#>    <date>     <chr>   <dbl>  <dbl>    <dbl>       <dbl>\n#>  1 2020-03-13 Alabama     6      0        0           6\n#>  2 2020-03-14 Alabama    12      0        6           6\n#>  3 2020-03-15 Alabama    23      0       12          11\n#>  4 2020-03-16 Alabama    29      0       23           6\n#>  5 2020-03-17 Alabama    39      0       29          10\n#>  6 2020-03-18 Alabama    51      0       39          12\n#>  7 2020-03-19 Alabama    78      0       51          27\n#>  8 2020-03-20 Alabama   106      0       78          28\n#>  9 2020-03-21 Alabama   131      0      106          25\n#> 10 2020-03-22 Alabama   157      0      131          26\n`--snip--` \n```", "```\n**covid_cases %>%**\n **mutate(roll_cases = rollmean(**\n **daily_cases,**\n **k = 5,**\n **fill = NA**\n **))** \n```", "```\n**covid_cases_rm <- covid_cases %>%**\n  **mutate(roll_cases = rollmean(**\n **daily_cases,**\n **k = 5,**\n **fill = NA**\n **)**\n **) %>%**\n **left_join(usa_states,**\n **by = c(\"state\" = \"State\")) %>%**\n **drop_na(Pop)** \n```", "```\n**covid_cases_rm <- covid_cases_rm %>%**\n  **mutate(incidence_rate = 10^5 * roll_cases / Pop) %>%**\n **mutate(**\n **incidence_rate = cut(**\n **incidence_rate,**\n **breaks = c(seq(0, 50, 5), Inf),**\n **include.lowest = TRUE**\n **) %>%**\n **factor(labels = paste0(\">\", seq(0, 50, 5)))**\n **)** \n```", "```\n**covid_cases_rm %>%**\n **filter(date >= as.Date(\"2021-01-01\")) %>%**\n **select(state, date, incidence_rate)** \n```", "```\n#> # A tibble: 18,980 × 3\n#>    state   date       incidence_rate\n#>    <chr>   <date>     <fct>\n#>  1 Alabama 2021-01-01 >50\n#>  2 Alabama 2021-01-02 >50\n#>  3 Alabama 2021-01-03 >50\n#>  4 Alabama 2021-01-04 >50\n#>  5 Alabama 2021-01-05 >50\n#>  6 Alabama 2021-01-06 >50\n#>  7 Alabama 2021-01-07 >50\n#>  8 Alabama 2021-01-08 >50\n#>  9 Alabama 2021-01-09 >50\n#> 10 Alabama 2021-01-10 >50\n`--snip--` \n```", "```\n**usa_states_geom %>%**\n **left_join(covid_cases_rm, by = c(\"name\" = \"state\"))** \n```", "```\n**usa_states_geom_covid <- usa_states_geom %>%**\n  left_join(covid_cases_rm, by = c(\"name\" = \"state\")) %>%\n  **mutate(fancy_date = fct_inorder(format(date, \"%b. %d\"))) %>%**\n **relocate(fancy_date, .before = incidence_rate)** \n```", "```\n#> Simple feature collection with 18615 features and 4 fields\n#> Geometry type: MULTIPOLYGON\n#> Dimension:     XY\n#> Bounding box:  xmin: -2100000 ymin: -2500000 xmax: 2516374 ymax: 732103.3\n#> CRS:           +proj=laea +lat_0=45 +lon_0=-100 +x_0=0 +y_0=0 +a=6370997\n+b=6370997 +units=m +no_defs\n#> First 10 features:\n#>    name    date        fancy_date incidence_rate\n#> 1  Arizona 2021-01-01  Jan. 01    >50\n#> 2  Arizona 2021-01-02  Jan. 02    >50\n#> 3  Arizona 2021-01-03  Jan. 03    >50\n#> 4  Arizona 2021-01-04  Jan. 04    >50\n#> 5  Arizona 2021-01-05  Jan. 05    >50\n#> 6  Arizona 2021-01-06  Jan. 06    >50\n#> 7  Arizona 2021-01-07  Jan. 07    >50\n#> 8  Arizona 2021-01-08  Jan. 08    >50\n#> 9  Arizona 2021-01-09  Jan. 09    >50\n#> 10 Arizona 2021-01-10  Jan. 10    >50\n#>    geometry\n#> 1  MULTIPOLYGON (((-1111066 -8...\n#> 2  MULTIPOLYGON (((-1111066 -8...\n#> 3  MULTIPOLYGON (((-1111066 -8...\n#> 4  MULTIPOLYGON (((-1111066 -8...\n#> 5  MULTIPOLYGON (((-1111066 -8...\n#> 6  MULTIPOLYGON (((-1111066 -8...\n#> 7  MULTIPOLYGON (((-1111066 -8...\n#> 8  MULTIPOLYGON (((-1111066 -8...\n#> 9  MULTIPOLYGON (((-1111066 -8...\n#> 10 MULTIPOLYGON (((-1111066 -8... \n```", "```\n**usa_states_geom_covid_six_days <- usa_states_geom_covid %>%**\n **filter(date <= as.Date(\"2021-01-06\"))** \n```", "```\n#> Simple feature collection with 306 features and 4 fields\n#> Geometry type: MULTIPOLYGON\n#> Dimension:     XY\n#> Bounding box:  xmin: -2100000 ymin: -2500000 xmax: 2516374 ymax: 732103.3\n#> CRS:           +proj=laea +lat_0=45 +lon_0=-100 +x_0=0 +y_0=0 +a=6370997 +b=6370997 +unit...\n#> First 10 features:\n#>     name    date          fancy_date incidence_rate\n#> 1   Arizona 2021-01-01    Jan. 01    >50\n#> 2   Arizona 2021-01-02    Jan. 02    >50\n#> 3   Arizona 2021-01-03    Jan. 03    >50\n#> 4   Arizona 2021-01-04    Jan. 04    >50\n#> 5   Arizona 2021-01-05    Jan. 05    >50\n#> 6   Arizona 2021-01-06    Jan. 06    >50\n#> 7  Arkansas 2021-01-01    Jan. 01    >50\n#> 8  Arkansas 2021-01-02    Jan. 02    >50\n#> 9  Arkansas 2021-01-03    Jan. 03    >50\n#> 10 Arkansas 2021-01-04    Jan. 04    >50\n#>    geometry\n#> 1  MULTIPOLYGON (((-1111066 -8...\n#> 2  MULTIPOLYGON (((-1111066 -8...\n#> 3  MULTIPOLYGON (((-1111066 -8...\n#> 4  MULTIPOLYGON (((-1111066 -8...\n#> 5  MULTIPOLYGON (((-1111066 -8...\n#> 6  MULTIPOLYGON (((-1111066 -8...\n#> 7  MULTIPOLYGON (((557903.1 -1...\n#> 8  MULTIPOLYGON (((557903.1 -1...\n#> 9  MULTIPOLYGON (((557903.1 -1...\n#> 10 MULTIPOLYGON (((557903.1 -1... \n```", "```\n**usa_states_geom_covid_six_days %>%**\n **ggplot() +**\n **geom_sf(**\n **aes(fill = incidence_rate),**\n **size = .05,**\n **color = \"grey55\"**\n **) +**\n **facet_wrap(**\n **vars(fancy_date),**\n **strip.position = \"bottom\"**\n **)** \n```", "```\nusa_states_geom_covid_six_days %>%\n  ggplot() +\n  geom_sf(\n    aes(fill = incidence_rate),\n    size = .05,\n    color = \"transparent\"\n  ) +\n  facet_wrap(\n    vars(fancy_date),\n    strip.position = \"bottom\"\n  ) +\n  scale_fill_discrete_sequential(\n    palette = \"Rocket\",\n    name = \"COVID-19 INCIDENCE RATE\",\n    guide = guide_legend(\n      title.position = \"top\",\n      title.hjust = .5,\n      title.theme = element_text(\n        family = \"Times New Roman\",\n        size = rel(9),\n margin = margin(\n          b = .1,\n          unit = \"cm\"\n        )\n      ),\n      nrow = 1,\n      keyheight = unit(.3, \"cm\"),\n      keywidth = unit(.3, \"cm\"),\n      label.theme = element_text(\n        family = \"Times New Roman\",\n        size = rel(6),\n        margin = margin(\n          r = 5,\n          unit = \"pt\"\n        )\n      )\n    )\n  ) +\n  labs(\n    title = \"2021 · A pandemic year\",\n    caption = \"Incidence rates are calculated for 100,000 people in each state.\n                  Inspired from a graphic in the DIE ZEIT newspaper of November 18, 2021.\n                  Data from NY Times · Tidytuesday Week-1 2022 · Abdoul ISSA BIDA.\"\n  ) +\n  theme_minimal() +\n  theme(\n    text = element_text(\n      family = \"Times New Roman\",\n      color = \"#111111\"\n    ),\n    plot.title = element_text(\n      size = rel(2.5),\n      face = \"bold\",\n      hjust = 0.5,\n      margin = margin(\n        t = .25,\n        b = .25,\n        unit = \"cm\"\n      )\n    ),\n    plot.caption = element_text(\n      hjust = .5,\n      face = \"bold\",\n      margin = margin(\n        t = .25,\n        b = .25,\n        unit = \"cm\"\n      )\n    ),\n    strip.text = element_text(\n      size = rel(0.75),\n      face = \"bold\"\n    ),\n    legend.position = \"top\",\n legend.box.spacing = unit(.25, \"cm\"),\n    panel.grid = element_blank(),\n    axis.text = element_blank(),\n    plot.margin = margin(\n      t = .25,\n      r = .25,\n      b = .25,\n      l = .25,\n      unit = \"cm\"\n    ),\n    plot.background = element_rect(\n      fill = \"#e5e4e2\",\n      color = NA\n    )\n  ) \n```", "```\n**us_states <- read_sf(dsn = \"https://data.rfortherestofus.com/states.geojson\")** \n```", "```\n**library(tigris)**\n\n**states_tigris <- states(**\n **cb = TRUE,**\n **resolution = \"20m\",**\n **progress_bar = FALSE**\n**)** \n```", "```\n**library(rnaturalearth)**\n\n**africa_countries <- ne_countries(**\n **returnclass = \"sf\",**\n **continent = \"Africa\"**\n**)** \n```", "```\n**africa_countries %>%**\n **ggplot() +**\n **geom_sf()** \n```", "```\n**library(crsuggest)**\n\n**africa_countries %>%**\n **suggest_top_crs()** \n```", "```\nafrica_countries %>%\n  **st_transform(28232) %>%**\n **ggplot() +**\n **geom_sf()** \n```", "```\n**africa_countries %>%**\n **select(name, pop_est)** \n```", "```\n#> Simple feature collection with 51 features and 2 fields\n#> Geometry type: MULTIPOLYGON\n#> Dimension:     XY\n#> Bounding box:  xmin: -17.62504 ymin: -34.81917 xmax: 51.13387 ymax: 37.34999\n#> CRS:           +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0\n#> First 10 features:\n#>    name                   pop_est\n#>  1 Angola                 12799293\n#> 11 Burundi                8988091\n#> 13 Benin                  8791832\n#> 14 Burkina Faso           15746232\n#> 25 Botswana               1990876\n#> 26 Central African Rep.   4511488\n#> 31 Côte d'Ivoire          20617068\n#> 32 Cameroon               18879301\n#> 33 Dem. Rep. Congo        68692542\n#> 34 Congo                  4012809\n#>    geometry\n#>  1 MULTIPOLYGON (((16.32653 -5...\n#> 11 MULTIPOLYGON (((29.34 -4.49...\n#> 13 MULTIPOLYGON (((2.691702 6....\n#> 14 MULTIPOLYGON (((-2.827496 9...\n#> 25 MULTIPOLYGON (((25.64916 -1...\n#> 26 MULTIPOLYGON (((15.27946 7....\n#> 31 MULTIPOLYGON (((-2.856125 4...\n#> 32 MULTIPOLYGON (((13.07582 2....\n#> 33 MULTIPOLYGON (((30.83386 3....\n#> 34 MULTIPOLYGON (((12.99552 -4... \n```", "```\nafrica_countries %>%\n  select(name, pop_est) %>%\n **mutate(population_above_20_million = if_else(pop_est > 20000000, TRUE, FALSE))** \n```", "```\nafrica_countries %>%\n  select(name, pop_est) %>%\n  mutate(population_above_20_million = if_else(pop_est > 20000000, TRUE, FALSE)) %>%\n  **ggplot(aes(fill = population_above_20_million)) +**\n **geom_sf()** \n```"]