<html><head></head><body>
<h2 class="h2" id="ch28"><span epub:type="pagebreak" id="page_223"/>—28—<br/>Difficult Search Problems</h2>&#13;
<p class="noindent">Get out,” repeated Dr. Loop.</p>&#13;
<p class="noindent">“I’m here on official police business,” Frank responded, not moving from his chair. He could hear soft footsteps behind him as whoever held the crossbow moved forward.</p>&#13;
<p class="indent">“Unlikely,” said Dr. Loop. “I’ve known Captain Donovan a long time, and he’s not the sort to rely on private investigators. As I recall, he takes particular pleasure in developing novel threats to keep busybodies away from active cases.”</p>&#13;
<p class="indent">Frank started to reach into his pocket.</p>&#13;
<p class="indent">“No sudden moves,” said a gruff voice behind him.</p>&#13;
<p class="indent">Frank felt his temper flare. He hated having crossbows pointed at him, an admittedly common experience in his profession. “I’m getting a parchment,” he said through gritted teeth.</p>&#13;
<p class="indent">“Get it slowly then,” said the voice. “If you move quickly, I <em>will</em> shoot.”</p>&#13;
<p class="indent">Frank groaned silently. Only one type of person spoke like that—Booleans. Booleans’ black-and-white view of the world made them particularly effective as security guards. You couldn’t talk yourself out of trouble with a Boolean. Either you were breaking the rules, or you weren’t.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_224"/>Frank moved extra slowly as he retrieved the captain’s letter. He leaned forward, taking a full minute to place the letter on the desk. He didn’t sit back. The less he moved, the better.</p>&#13;
<p class="indent">After studying the note for a while, Dr. Loop nodded to her guard. Frank heard the crossbow’s safety snap on. He exhaled in relief and leaned back in the chair. Dr. Loop waved the guard out of the room.</p>&#13;
<p class="indent">“You had Captain Donovan write you a letter of introduction?” asked Dr. Loop.</p>&#13;
<p class="indent">“As you said, it’s a sensitive topic,” replied Frank.</p>&#13;
<p class="indent">“And you probably heard of my reputation.” Dr. Loop chuckled.</p>&#13;
<p class="indent">“<em>I took your class</em>,” Frank muttered, but Dr. Loop didn’t hear.</p>&#13;
<p class="indent">“So you’re investigating the thefts. What do you want to know?”</p>&#13;
<p class="indent">In an instant her demeanor had changed completely. Her eyes rapidly scanned his face, as though analyzing every reaction. All traces of pleasantry were gone; her voice was all business. Frank wondered how much of her pleasant chit-chat had been an act. Wizard Criminology was a dangerous field, and Dr. Loop had survived a long time.</p>&#13;
<p class="indent">“What magical protections do police stations have?” asked Frank.</p>&#13;
<p class="indent">“Basic alerting spells,” said Dr. Loop. “They will tell you if someone uses magic in the station, but they won’t prevent it.”</p>&#13;
<p class="indent">“Why not a magical barrier?”</p>&#13;
<p class="indent">“Not practical,” explained the professor. “The police force uses too many wizard consultants. They need to be able to cast divining spells on the evidence, truth spells for the prisoners, magical mirroring spells for the records, and reheating spells for lunch.”</p>&#13;
<p class="indent">Frank nodded, remembering the conversation about magical priority queues.</p>&#13;
<p class="indent">“It would be too expensive anyway,” added Dr. Loop. “Only the royal castle and prison have more than the basic alerting spells. The castle has a bunch of protection spells, but no dampening spells. Marcus does too much work there for the king.”</p>&#13;
<p class="indent">“So someone could use magic in the castle?” Frank confirmed.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_225"/><img src="../images/f0225-01.jpg" alt="image"/></div>&#13;
<p class="indent">“They could,” replied Dr. Loop, “but it wouldn’t be wise. The castle has a dozen protective spells that will block offensive magic. King Fredrick also employs a half-dozen wizard guards. They’re junior, but they can undo a basic curse. And then there is Marcus. Few wizards would want to cross him.”</p>&#13;
<p class="indent">“What about artifacts?”</p>&#13;
<p class="indent">“Ah. Now that’s a good question. It depends on the artifact. The castle has protection against weaponized artifacts, of course, but nothing can protect against all artifacts. There are simply too many varieties. Since most artifacts don’t require new magic (having been previously enchanted), not even the spell-blocking spells in the prison could help there.”</p>&#13;
<p class="indent">“What?” asked Frank. “I thought the prison was immune to all magic. Don’t they keep evil wizards there? In fact, isn’t Exponentious there? He tried to destroy the entire kingdom with magic. Why don’t they just block all magical artifacts from working?”</p>&#13;
<p class="indent">Dr. Loop gave a dry laugh. “Sorry to disappoint you, but you can’t block all the artifacts. Don’t worry, though; the royal wizards keep the most powerful ones well guarded. And all prisoners are thoroughly searched when they arrive.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_226"/>“What other protection does the prison have?” asked Frank, panic building as the pieces started to fall into place.</p>&#13;
<p class="indent">“Let’s see,” said Dr. Loop. She began to tick off the list on her fingers. “Stone walls, a moat filled with cranky badgers, a hundred guards, heavy oak doors, a few ornamental pine doors, the Spell of Mild Nausea in each hallway, the Spell of Difficult Searching, the—”</p>&#13;
<p class="indent">“Spell of Difficult Searching?” interrupted Frank.</p>&#13;
<p class="indent">“It isn’t new,” Dr. Loop explained. “They cast a load of protective spells on the prison before they cast the Spell of Spell Blocking.”</p>&#13;
<p class="indent">“What does the Spell of Difficult Searching do?” asked Frank, a feeling of dread rising in his chest.</p>&#13;
<p class="indent">“Makes it hard to find a prisoner’s cell. More accurately, it magically swaps cells. If you picture the cells as a giant array, the Spell of Difficult Searching would be an algorithm that swaps array indexes. It does a random swap of everything at midnight each night.</p>&#13;
<p class="indent">“It makes it hard for anyone to break out their friends. Without structure in the array values, intruders have to rely on exhaustive search. And, since the cells are shuffled daily, you can’t break up the search over several nights. The guards complain that the randomness is just annoying. They spend hours each day taking roll call. Although I heard that they’ve recently made a game around it called ‘Who’s Behind the Next Door?’ Bets can get up to a silver piece per door.”</p>&#13;
<p class="indent">“Do they write down the new cell locations?”</p>&#13;
<p class="indent">“That would defeat the entire purpose! If they kept a mapping of prisoners to cells, like an inverted index, then you could just look up the prisoner. What good would the spell be if you could break into the capital police station’s record room and steal the cell assignments? The goal is to make intruders spend hours searching through the prison, which would clearly be impossible. All the guards know each other.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_227"/>Frank saw the final piece fall into place. The captain had said that the League of Unnecessary Complexity were followers or accomplices of that evil wizard Exponentious—the most dangerous criminal in the royal prison. Everyone was worried that the league was planning to strike again, maybe even to attack the castle. But the plan was so much simpler than that. The league was planning a prison break; they were going to free their leader. He leapt from his chair, grateful the crossbow-wielding Boolean was no longer behind him, and sprinted for the door.</p>&#13;
<p class="indent">“Thanks,” he called over his shoulder as he started down the stairs.</p>&#13;
<p class="center">_____________________</p>&#13;
<p class="indent">By the time Frank found Notation, he was breathing hard and had an epic stitch in his side. He managed to gasp out little more than “need your help . . . prison break . . . tonight . . . wizards.”</p>&#13;
<p class="indent">Notation watched him for five minutes with a mixture of concern, interest, and mild annoyance. “Spit it out, Frank,” she finally said.</p>&#13;
<p class="indent">Frank, still bent in half with his hands on his knees, shot her a warning look.</p>&#13;
<p class="indent">“You were the one who came running down here,” she countered. “I believe I heard you wheeze out something about needing my help.”</p>&#13;
<p class="indent">Frank ignored the comment. “I figured it out,” he finally managed. “The wizards are going to break into the prison tonight.”</p>&#13;
<p class="indent">Notation looked surprised. “The prison? What does Socks want at the prison?”</p>&#13;
<p class="indent">“Wait. How did you know about Socks?” Frank asked, caught off guard.</p>&#13;
<p class="indent">Notation gave Frank a confused look. “What do you mean? I thought you suspected him for a while. Didn’t you? He wasn’t exactly being subtle.”</p>&#13;
<p class="indent">“Yeah. There were clues,” Frank hedged.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_228"/>Notation fell silent and stared at the ground as the gears in her mind spun at frightening speed, connecting the remaining dots. Suddenly her expression darkened and she looked back at Frank. “Why are you telling me this?” she asked. “I’m off the case, remember?”</p>&#13;
<p class="indent">Frank stared at her in disbelief. “How could you let something like that stop you?” he asked. “Don’t you want to capture the thieves?”</p>&#13;
<p class="indent">“Of course I do,” said Notation sharply. “But the captain said—”</p>&#13;
<p class="indent">“Forget the captain,” interrupted Frank. “This is your case, whether he says so or not. Isn’t it?”</p>&#13;
<p class="indent">Notation looked conflicted, and Frank took the opening.</p>&#13;
<p class="indent">“Listen,” he added, “I need help to get the thieves, and I can’t call in the force on this one. At least not yet. I’m pretty sure one of the crooks is impersonating a police officer, but I don’t know which one. Until I figure that out, I can’t trust anyone.”</p>&#13;
<p class="indent">“Then why trust me?” asked Notation.</p>&#13;
<p class="indent">“Because you’re here,” said Frank.</p>&#13;
<p class="indent">“That’s not a good reason,” said Notation, clearly offended by the implication.</p>&#13;
<p class="indent">“Not like that,” said Frank, waving off her objections. “I mean because you’re at this shop, buying an overpriced heap with your own funds. You obviously care about your job. More importantly, if you were in any way involved with a wizard’s prison break, you would simply have the league of evil wizards make you a magic heap. No one in their right mind would walk all the way to the Orb district if they had better options.”</p>&#13;
<p class="indent">Notation stood glaring at Frank. He stepped back as her expression passed through “really angry” and approached “you’ve made a horrible mistake.”</p>&#13;
<p class="indent">“You <em>told</em> me to come here,” she said through gritted teeth.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_229"/>“Good thing, too,” said Frank. “I knew exactly where to find you. It was the world’s easiest search problem—like finding a value in an array when you know the index. I just came straight to Heaperous’s shop. I did have to run, though,” he conceded. “I figured you’d be here early, and I didn’t want to miss you.”</p>&#13;
<p class="indent">Notation didn’t seem relieved. “You sent me here to test whether I was in on the plot?”</p>&#13;
<p class="indent">“No, I sent you here to get you out of the way,” admitted Frank. “The test only occurred to me as I was running here. I thought—”</p>&#13;
<p class="indent">“You didn’t trust me?” asked Notation, her voice cold. Each word sounded like a separate accusation.</p>&#13;
<p class="indent">“Don’t take it personally,” said Frank. “I don’t trust anyone.”</p>&#13;
<p class="indent">“You . . . you . . .” Notation spluttered, turning progressively deeper shades of red and apparently unable to complete the insult.</p>&#13;
<p class="indent">After a few minutes had passed, Frank asked, “Are you in?”</p>&#13;
<p class="indent">She nodded stiffly.</p>&#13;
<p class="indent">“Good,” said Frank. “Meet me at the prison in two hours and bring a crossbow.”</p>&#13;
<p class="indent">Notation nodded again.</p>&#13;
<p class="indent">“And a bowl,” Frank added.</p>&#13;
<p class="indent">“A bowl?” Notation asked, momentarily surprised out of her anger.</p>&#13;
<p class="indent">Frank flashed a broad smile. “There’s some Spell of Mild Nausea in the prison corridors. You might need someplace to vomit.”</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><span epub:type="pagebreak" id="page_230"/><strong>POLICE ALGORITHMS 101: FINAL EXAM REVIEW SESSION</strong></p>&#13;
<p class="sbsub"><em><strong>Excerpt from Professor Drecker’s Lecture</strong></em></p>&#13;
<p class="noindent">If you learned only one thing from this class, it should be that <em>the key to efficient algorithms is information</em>. When approaching a new problem, take the time to understand the structure of the problem and its data. The more structure the problem has, the more potential you have to utilize this information. As you’ve seen, finding a value in a sorted array is significantly easier than in a completely random array. Sometime you can even build auxiliary data structures, such as heaps or inverted indexes, to provide the structure you need. Regardless, your first step should always be to understand the problem.</p>&#13;
</div>&#13;
</body></html>