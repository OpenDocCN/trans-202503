<html><head></head><body>
<h2 class="h2" id="ch00"><span epub:type="pagebreak" id="page_xx"/><strong>INTRODUCTION</strong></h2>&#13;
<div class="image"><img src="../images/common.jpg" alt="image"/></div>&#13;
<p class="noindent">A common misconception in the world of online gaming is the idea that the only game you can play is the one in the title. In fact, game hackers enjoy playing the game that hides behind the curtain: a cat-and-mouse game of wits between them and the game developers. While game hackers work to reverse engineer game binaries, automate aspects of game play, and modify gaming environments, game developers combat the hacker-designed tools (normally referred to as <em>bots</em>) using anti-reversing techniques, bot detection algorithms, and heuristic data mining.</p>&#13;
<p class="indent">As the battle between game hackers and developers has progressed, the technical methods implemented by both parties—many of which resemble techniques utilized by malware developers and antivirus vendors—have evolved, becoming more complex. This book highlights the fight put up by game hackers, and the advanced methods they have engineered to manipulate games while simultaneously eluding game developers in the dark corners of their own software.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_xxi"/>Although the book focuses on teaching you to develop tools that would likely be considered a nuisance or even malicious by gaming companies, you’ll find that many of the techniques are useful for development of tools that are perfectly benign and neutral. Furthermore, the knowledge of how these techniques are implemented is key for the game developers working to prevent their use.</p>&#13;
<h3 class="h3" id="ch00lev1sec1"><strong>Prerequisites for the Reader</strong></h3>&#13;
<p class="noindent">This book does not aim to teach you software development, and therefore assumes that you have, at minimum, a solid software development background. This background should include familiarity with native Windows-based development, as well as light experience with game development and memory management. While these skills will be enough for you to follow this book, experience with x86 assembly and Windows internals will ensure that details of more advanced implementations are not lost on you.</p>&#13;
<p class="indent">Furthermore, since all the advanced hacks discussed in this book rely on code injection, an ability to write code in a native language like C or C++ is a must. All of the example code in this book is written in C++ and can be compiled with Microsoft Visual C++ Express Edition. (You can download MSVC++ Express Edition from <em><a href="http://www.visualstudio.com/en-US/products/visual-studio-express-vs">http://www.visualstudio.com/en-US/products/visual-studio-express-vs</a></em>.)</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="notes">NOTE</span></strong></p>&#13;
<p class="notep"><em>Other languages that compile to native code, such as Delphi, are also capable of injection, but I will not discuss them in this book.</em></p>&#13;
</div>&#13;
<h3 class="h3" id="ch00lev1sec2"><strong>A Brief Game Hacking History</strong></h3>&#13;
<p class="noindent">Since the dawn of online PC gaming in the early 1980s, an ongoing war of wits between game hackers and game developers has been taking place. This seemingly endless struggle has prompted game developers to devote countless hours toward preventing hackers from taking their games apart and greasing between the gears. These hackers, who fight back with their sophisticated stealth implementations, have many motivations: customized graphics, better performance, ease of use, autonomous play, in-game asset acquisition, and, of course, real-life profit.</p>&#13;
<p class="indent">The late 1990s and early 2000s were the golden age of game hacking, when online PC games became advanced enough to draw large crowds but were still simple enough to easily reverse engineer and manipulate. Online games that came out during this time, such as <em>Tibia</em> (January 1997), <em>Runescape</em> (January 2001), and <em>Ultima Online</em> (September 1997), were heavily targeted by bot developers. The developers of these games and others like them still struggle today to control the massive communities of bot developers and bot users. The game developers’ lack of action and the hackers’ <span epub:type="pagebreak" id="page_xxii"/>tenacity have not only completely shattered the economies within the games, but have also produced a thriving for-profit industry focused around bot development and bot defense.</p>&#13;
<p class="indent">In the years since the golden age, more mature game companies started taking bot defense very seriously. These companies now have dedicated teams focused on developing bot prevention systems, and many also view bots as a legal matter and will not hesitate to banish players who use bots and sue the bot developers who provided them. As a result, many game hackers have been forced to develop advanced stealth techniques to keep their users safe.</p>&#13;
<p class="indent">This war wages on, and the numbers on both sides of the fight will continue to grow as online gaming becomes more prevalent over the coming years. Major game developers are pursuing hackers with endless determination, even slamming some game hacking giants with multimillion-dollar lawsuits. This means that game hackers who are serious about their business must either target smaller gaming companies, or anonymously market their products from the shadows in order to escape prosecution. For the foreseeable future, game hacking and bot development will continue to grow into a larger and more lucrative industry for those game hackers bold enough to take the risks.</p>&#13;
<h3 class="h3" id="ch00lev1sec3"><strong>Why Hack Games?</strong></h3>&#13;
<p class="noindent">Aside from its obvious allure and challenging nature, game hacking has some practical and profitable purposes. Every day, thousands of novice programmers experiment with small-scale game hacking as a way to automate monotonous tasks or perform menial actions. These script kiddies will use automation tools like AutoIt for their small, relatively harmless hacks. On the other hand, professional game hackers, backed by their large toolkits and years of programming experience, will devote hundreds of hours to the development of advanced game hacks. These types of game hacks, which are the focus of this book, are often created with the intent of making large amounts of money.</p>&#13;
<p class="indent">Gaming is a huge industry that generated $22.4 billion in sales in 2014, according to the Entertainment Software Association. Of the tens of millions of players who play games daily, 20 percent play massively multiplayer online role-playing games (MMORPGs). These MMORPGs often have thousands of players who trade virtual goods within thriving in-game economies. Players often have a need for in-game assets and are willing to buy these assets with real-world money. Consequently, MMORPG players end up developing large communities that provide gold-for-cash services. These services often go as far as enforcing exchange rates from in-game gold to real-world currencies.</p>&#13;
<p class="indent">To take advantage of this, game hackers will create bots that are capable of automatically farming gold and leveling characters. Then, depending on their goal, hackers will either set up massive gold farms and sell their <span epub:type="pagebreak" id="page_xxiii"/>in-game profits, or perfect and sell their software to players who wish to seamlessly obtain levels and gold with minimal interference. Due to the massive communities surrounding popular MMORPGs, these game hackers can make between six and seven figures annually.</p>&#13;
<p class="indent">While MMORPGs provide the largest attack surface for hackers, they have a relatively small audience overall. About 38 percent of gamers favor real-time strategy (RTS) and massive online battle arena (MOBA) games, and another 6 percent play primarily first-person shooter (FPS) games. These competitive player versus player (PvP) games collectively represent 44 percent of the gaming market and provide great rewards to determined game hackers.</p>&#13;
<p class="indent">PvP games are often episodic in nature; each match is an isolated game, and there’s typically not much profitable progression for botting away from keyboard (AFK). This means that, instead of running gold farms or creating autonomous bots to level up characters, hackers will create reactive bots that assist players in combat.</p>&#13;
<p class="indent">These highly competitive games are about skill and tactics, and most players participate to prove their ability to themselves and others. As a consequence, the number of people seeking bots for PvP-type games is substantially lower than you’d find in the grind-heavy world of MMORPGs. Nevertheless, hackers can still make a pretty penny selling their PvP bots, which are often much easier to develop than full-fledged autonomous bots.</p>&#13;
<h3 class="h3" id="ch00lev1sec4"><strong>How This Book Is Organized</strong></h3>&#13;
<p class="noindentb">This book is split into four parts, each of which focuses on a different core aspect of game hacking. In <strong><a href="part01.xhtml#part01">Part 1: Tools of the Trade</a></strong>, you’ll get a box full of tools to help you hack games.</p>&#13;
<p class="bull">• <strong><a href="ch01.xhtml#ch01">Chapter 1: Scanning Memory Using Cheat Engine</a></strong> will teach you how to scan a game’s memory for important values using Cheat Engine.</p>&#13;
<p class="bull">• In <strong><a href="ch02.xhtml#ch02">Chapter 2: Debugging Games with OllyDbg</a></strong>, you’ll get a crash course in debugging and reverse engineering with OllyDbg. The skills you learn here will be extremely useful when you start making advanced bots and injecting code.</p>&#13;
<p class="bull">• To wrap up, <strong><a href="ch03.xhtml#ch03">Chapter 3: Reconnaissance with Process Monitor and Process Explorer</a></strong>, will teach you how to use two reconnaissance tools to inspect how games interact with files, other processes, the network, and the operating system.</p>&#13;
<p class="indentt">The online resources for each chapter in <a href="part01.xhtml#part01">Part 1</a> include custom binaries I created to give you a safe place to test and hone your newly discovered skills.</p>&#13;
<p class="indentb">Once you’re comfortable with every wrench and hammer, <strong><a href="part02.xhtml#part02">Part 2: Game Dissection</a></strong>, will teach you how to get under the hood and figure out how games work.</p>&#13;
<p class="bull"><span epub:type="pagebreak" id="page_xxiv"/>• In <strong><a href="ch04.xhtml#ch04">Chapter 4: From Code to Memory: A General Primer</a></strong>, you’ll learn what a game’s source code and data look like once compiled into a game binary.</p>&#13;
<p class="bull">• <strong><a href="ch05.xhtml#ch05">Chapter 5: Advanced Memory Forensics</a></strong> builds on the knowledge you’ll gain from <a href="ch04.xhtml#ch04">Chapter 4</a>. You’ll learn how to scan memory and use debugging to seamlessly locate tricky memory values and dissect complex classes and structures.</p>&#13;
<p class="bull">• Finally, <strong><a href="ch06.xhtml#ch06">Chapter 6: Reading from and Writing to Game Memory</a></strong> shows you how to read and modify data within a running game.</p>&#13;
<p class="indentt">These chapters provide lots of in-depth proof-of-concept example code that you can use to verify everything you read.</p>&#13;
<p class="indentb">In <strong><a href="part03.xhtml#part03">Part 3: Process Puppeteering</a></strong>, you’ll become a puppeteer as you learn how to turn any game into a marionette.</p>&#13;
<p class="bull">• Building on the skills from <a href="part01.xhtml#part01">Parts 1</a> and <a href="part02.xhtml#part02">2</a>, <strong><a href="ch07.xhtml#ch07">Chapter 7: Code Injection</a></strong> describes how to inject and execute your own code in the address space of a game.</p>&#13;
<p class="bull">• Once you’ve mastered injection, <strong><a href="ch08.xhtml#ch08">Chapter 8: Manipulating Control Flow in a Game</a></strong> will teach you how to use injection to intercept, modify, or disable any function call made by a game, and will wrap up with some useful real-world examples for the common libraries Adobe AIR and Direct 3D.</p>&#13;
<p class="indentt">To complement your puppeteering classes, these chapters are accompanied by thousands of lines of production-ready code that you can use as a boilerplate library for a future bot.</p>&#13;
<p class="indentb">In <strong><a href="part04.xhtml#part04">Part 4: Creating Bots</a></strong>, you’ll see how to combine your toolbox, dissection abilities, puppeteering skills, and software engineering background to create powerful bots.</p>&#13;
<p class="bull">• <strong><a href="ch09.xhtml#ch09">Chapter 9: Using Extrasensory Perception to Ward Off Fog of War</a></strong> explores ways to make a game display useful information that isn’t exposed by default, such as the locations of hidden enemies and the amount of experience you earn per hour.</p>&#13;
<p class="bull">• <strong><a href="ch10.xhtml#ch10">Chapter 10: Responsive Hacks</a></strong> shows code patterns you can use to detect in-game events, like decreases in health, and to make bots that react to those events faster than human players.</p>&#13;
<p class="bull">• <strong><a href="ch11.xhtml#ch11">Chapter 11: Putting It All Together: Writing Autonomous Bots</a></strong> reveals how bots that play games without human interaction work. Automated bots combine control theory, state machines, search algorithms, and mathematical models, and this chapter is a crash course in those topics.</p>&#13;
<p class="bull">• In <strong><a href="ch12.xhtml#ch12">Chapter 12: Staying Hidden</a></strong>, you’ll learn about some of the high-level techniques you can use to escape and evade any system that would interfere with your bots.</p>&#13;
<p class="indentt"><span epub:type="pagebreak" id="page_xxv"/>As you’ve probably come to expect, these chapters have lots of example code. Some of the hacks shown in this part are built on example code from previous chapters. Others explore succinct, straightforward design patterns you can use to create your own bots. Once you’ve finished all four parts of this book, you’ll be sent off into the virtual world with your new superpower.</p>&#13;
<h3 class="h3" id="ch00lev1sec5"><strong>About the Online Resources</strong></h3>&#13;
<p class="noindent">You’ll find many additional resources for this book at <em><a href="https://www.nostarch.com/gamehacking/">https://www.nostarch.com/gamehacking/</a></em>. These resources include compiled binaries to test your skills, a considerable amount of example code, and quite a few snippets of production-ready game hacking code. These resources go hand-in-hand with the book, and it really isn’t complete without them, so make sure to download them before you continue.</p>&#13;
<h3 class="h3" id="ch00lev1sec6"><strong>How to Use This Book</strong></h3>&#13;
<p class="noindent">This book should be used first and foremost as a guide to get you started in game hacking. The progression is such that the content of each chapter introduces new skills and abilities that build on all previous chapters. As you complete chapters, I encourage you to play with the example code and test your skills on a real game before continuing your reading. This is important, as some covered topics will have use cases that don’t become evident until you’re 10 feet deep in the mud.</p>&#13;
<p class="indent">Once you’ve finished the book, I hope it can still be useful to you as a field manual. If you come across some data structure you’re unsure of, maybe the details in <a href="ch05.xhtml#ch05">Chapter 5</a> can help. If you reverse engineer a game’s map format and are ready to create a pathfinder, you can always flip to <a href="ch11.xhtml#ch11">Chapter 11</a>, study the content, and use some of the example code as a starting point. Although it’s impossible to anticipate all the problems you might face when you’re hacking away, I’ve tried to ensure you’ll find some answers within these pages.</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><strong>A NOTE FROM THE PUBLISHER</strong></p>&#13;
<p class="noindent">This book does not condone piracy, violating the DMCA, infringing copyright, or breaking in-game Terms of Service. Game hackers have been banned from games for life, sued for millions of dollars, and even jailed for their work.</p>&#13;
</div>&#13;
</body></html>