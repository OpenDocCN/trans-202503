<html><head></head><body>
  <div class="chapter" title="Chapter&#xA0;9.&#xA0;Inheriting the Magic of Ruby">&#13;
    <div class="titlepage">&#13;
      <h1 class="title" id="heading_id_2"><a id="inheriting_the_magic_of_ruby"/>Chapter 9. Inheriting the Magic of Ruby</h1>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="Her Majesty’s Menagerie">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_3"><a id="her_majestyapostrophes_menagerie"/>Her Majesty’s Menagerie</h1>&#13;
      </div>&#13;
&#13;
      <p>The King, Ruben, and Scarlet raced westward along the underground passage toward the castle.</p>&#13;
&#13;
      <p>“How much farther?” panted Ruben.</p>&#13;
&#13;
      <p>“I’m not sure,” said the King, “but Wherefore told us to go as far as we could, and then we’d be at the Mysterious Pipe.” He thought for a moment. “It can’t be too far, though,” he said at last. “These are the Ambrose Caverns, and while they stretch beneath the entire kingdom, I know Haldo has managed to get between the castle and places farther than the Pines in a matter of minutes.”</p>&#13;
&#13;
      <p>“That’s right! Haldo knows these tunnels,” said Scarlet. She ran in silence for a minute or two. “What if . . .” she began.</p>&#13;
&#13;
      <p>“What if what?” asked Ruben.</p>&#13;
&#13;
      <p>“Well, what if whoever’s causing all this trouble is someone Haldo let in? Or what if Haldo’s <span class="emphasis"><em>one of them</em></span>?”</p>&#13;
&#13;
      <p>“Bite your tongue!” said the King. “Haldo’s been in my service since he was a boy. He’d never do anything to hurt us or this kingdom!”</p>&#13;
&#13;
      <p>“We should consider every possibility,” Scarlet said.</p>&#13;
&#13;
      <p>“Even so,” said the King, “all suspects are innocent until we prove them guilty. If we’re lucky, we’ll catch these scoundrels red-handed when we arrive at the castle!”</p>&#13;
&#13;
      <p>“Which will be any minute,” Ruben said. “Look!”</p>&#13;
&#13;
      <p>Up ahead, the narrow tunnel opened up into a wide cavern. The King, Scarlet, and Ruben jogged into the open space, then stood for a moment, catching their breath.</p>&#13;
&#13;
      <p>“This is it,” said the King, “the basement <span class="emphasis"><em>below</em></span> the basement below the castle! Now we just need to find the Mysterious Pipe and climb back up into my Royal Study.”</p>&#13;
&#13;
      <p>“And there it is!” said Scarlet. In the darkness, they could just make out the outline of the Mysterious Pipe in the far corner.</p>&#13;
&#13;
      <p>The trio walked up to the base of the pipe, which was gurgling softly.</p>&#13;
&#13;
      <p>“Now what?” asked Ruben. “The Mysterious Pipe is full of water! How are we supposed to climb up it?”</p>&#13;
&#13;
      <p>“Well, we turned the Flowmatic Something-or-Other on before,” Scarlet said. “We can turn it back off!” She felt around the bottom of the pipe until she found the familiar boxy shape of a Computing Contraption, then flipped open its lid. The glow of the IRB prompt illuminated their faces.</p>&#13;
&#13;
      <p>“Right!” said the King. “What variable did we change before?”</p>&#13;
&#13;
      <p>“<code class="literal">flowmatic_on</code>!” replied Ruben.</p>&#13;
&#13;
      <p>Scarlet quickly typed into the Computing Contraption:</p><a id="pro_id00273"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">flowmatic_on = false</span></strong></span>&#13;
=&gt; false&#13;
</pre>&#13;
&#13;
      <p>With a slow <span class="emphasis"><em>booooop</em></span> and a <span class="emphasis"><em>glug</em></span>-<span class="emphasis"><em>glug</em></span> sound, the Mysterious Pipe shut down and emptied.</p>&#13;
&#13;
      <p>“Well done, Scarlet!” said the King as he walked to the far side of the Pipe. He grabbed a large metal wheel jutting out of the side and gave it a spin. The wheel turned several times, and with a hollow <span class="emphasis"><em>clank</em></span>, the door to which it was attached eased open.</p>&#13;
&#13;
      <p>“Into the Mysterious Pipe!” cried the King, and the three climbed inside.</p>&#13;
&#13;
      <p>Ruben looked straight up and squinted. “I can’t even see the light at the top!” he said. “This Pipe is huge! Hellooo!” he called, and the Mysterious Pipe echoed: <span class="emphasis"><em>Hello! Ello! Lo!</em></span></p>&#13;
&#13;
      <p>“It’ll take forever to climb, if we can even do it at all!” said Scarlet. She thought for a moment. “I might have an idea.” She turned to Ruben and the King. “Do you trust me?” she asked.</p>&#13;
&#13;
      <p>“With my life!” said the King.</p>&#13;
&#13;
      <p>“To the end!” said Ruben.</p>&#13;
&#13;
      <p>“All right, then,” said Scarlet. “Hold your breath!” She reached around to the Computing Contraption on the side of the Mysterious Pipe and typed:</p><a id="pro_id00274"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">flowmatic_on = true</span></strong></span>&#13;
</pre>&#13;
&#13;
      <p>She slammed the metal door shut, and in an instant, the pipe filled with water.</p>&#13;
&#13;
      <p>For a moment, the three floated at the bottom of the Mysterious Pipe, holding their breath. Then the entire pipe began to tremble slightly, and with a deep <span class="emphasis"><em>whoosh</em></span>, the force of the water propelled the King, Scarlet, and Ruben straight up!</p>&#13;
&#13;
      <div class="informalfigure">&#13;
        <a id="med_id00043a"/>&#13;
&#13;
        <div class="mediaobject"><a id="med_id00043"/><img alt="image with no caption" src="../Images/httpatomoreillycomsourcenostarchimages2160039.png.jpg"/></div>&#13;
      </div>&#13;
&#13;
      <p>In just a few seconds, the three of them began to slow down, and they found themselves floating just inches from the narrow top of the Mysterious Pipe. The King reached down and pushed on the latch of the pipe’s door, and in a flood of water, the trio tumbled out onto the floor of the King’s Royal Study.</p>&#13;
&#13;
      <p>“Genius! Absolutely genius!” the King sputtered.</p>&#13;
&#13;
      <p>“Thank you,” said Scarlet, taking a small bow. “But we’ve got to get to the Queen! Do you know where she is?”</p>&#13;
&#13;
      <p>“She should be back from Her Royal Majesty’s Hacktastic Ruby Conference,” said the King, “so I imagine she’s up in her Royal Office. Let’s go!” And with that, he dashed out of the room.</p>&#13;
&#13;
      <p>Ruby and Scarlet followed. “The Queen was at a Ruby conference?” Scarlet asked as they raced up the stairs.</p>&#13;
&#13;
      <p>“Indeed!” said the King. “It might surprise you to learn that although I’m rather new to all of this Ruby business, my wife is quite the hacker.”</p>&#13;
&#13;
      <p>“That’s amazing!” said Ruben. “Maybe she’ll be able to help us fix all these Ruby malfunctions and catch the bad guys causing them.”</p>&#13;
&#13;
      <p>“I hope so. Ah! Here we are,” said the King, and he skidded to a halt in front of an enormous wooden door with golden handles.</p>&#13;
&#13;
      <p>He pulled down on both handles at once, swung the doors open, and rushed inside.</p>&#13;
&#13;
      <p>The Queen was seated at her desk in a high-backed chair, furiously typing at a Computing Contraption.</p>&#13;
&#13;
      <p>“They tried to break into my Computing Contraption!” she said. “The very idea!”</p>&#13;
&#13;
      <p>“They who?” asked Scarlet and Ruben together as they followed the King into the Queen’s Royal Office.</p>&#13;
&#13;
      <p>“I don’t know!” said the Queen, still typing. “There were four of them, and I caught them at my Computing Contraption, trying to figure out my password. Luckily, I’m a stickler for security.”</p>&#13;
&#13;
      <p>“That she is,” said the King, wringing out his fluffy white beard. “She won’t even let me buy gummy bears on the Internet!”</p>&#13;
&#13;
      <p>“For good reason,” said the Queen, and she stopped typing. “The last time I let you do that, you sent a small fortune to someone claiming to be the Gummy Bear King!” She paused, looking at Scarlet and Ruben. “I don’t believe we’ve met,” she said. “Who might you be?” She looked the three of them up and down. “And why are you all so wet?”</p>&#13;
&#13;
      <p>“I’m Ruben,” said Ruben, “and this is Scarlet. We’re helping the King find whoever’s responsible for all the Ruby malfunctions going on, and we ran all the way from the Carmine Pines and swam up through the Mysterious Pipe to do it!”</p>&#13;
&#13;
      <p>“Well, you’ve come to the right place!” said the Queen. “I’m going to track down those ne’er-do-wells if it’s the last thing I do.” She began typing again.</p>&#13;
&#13;
      <div class="informalfigure">&#13;
        <a id="med_id00044a"/>&#13;
&#13;
        <div class="mediaobject"><a id="med_id00044"/><img alt="image with no caption" src="../Images/httpatomoreillycomsourcenostarchimages2160041.png.jpg"/></div>&#13;
      </div>&#13;
&#13;
      <p>“Did you get a good look at any of them?” asked Scarlet. “Were there any clues? Did you see or hear anything that might help us catch them?”</p>&#13;
&#13;
      <p>“I didn’t see their faces,” the Queen said, “but I overheard them trying to figure out my Computing Contraption’s password. There were four of them—it sounded like two boys and two girls. I got home early from the Hacktastic Ruby Conference and thought I’d try out some of the Ruby tricks I learned, and when I came up to my office, I caught them in the act! They ran when I shouted at them to surrender, and I sent the palace guards after them. In the meantime, I’ve been working to increase the security on my Computing Contraption to ensure it’s completely immune to attack.”</p>&#13;
&#13;
      <p>“Did they get anything from your Computing Contraption?” Scarlet asked.</p>&#13;
&#13;
      <p>“Thank heavens, no,” said the Queen. “They didn’t get my password, but we’d be in terrible trouble if they had. With that, they could access any system in the kingdom with no restrictions!”</p>&#13;
&#13;
      <p>“These villains are escalating!” said the King, pacing around the Queen’s office. “We’ve got to catch them as quickly as possible, before they strike again. We might not be so lucky next time.”</p>&#13;
&#13;
      <p>The Queen nodded. “I’ve instructed the guards to bring any suspects they catch directly to us for questioning,” she said. “In the meantime, I’ve upgraded all the security on my Computing Contraption. The only thing left to do is update some of my Ruby programs to make them more secure, too!”</p>&#13;
&#13;
      <p><a class="indexterm" id="iddle1107"/><a class="indexterm" id="iddle1164"/><a class="indexterm" id="iddle1168"/><a class="indexterm" id="iddle1413"/>“Ruby!” said Ruben. “That happens to be our specialty. Can we help?” he asked.</p>&#13;
&#13;
      <p>The Queen smiled. “That would be lovely,” she said. “While I’m something of an expert in more than a few programming languages, I’m pretty new to Ruby.” She slid over in her chair, and Ruben and Scarlet clambered up beside her.</p>&#13;
&#13;
      <p>“First things first,” said the Queen. “Do you know how to create a Ruby class?”</p>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="A Brush-up on Classes">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_4"><a id="brush-up_on_classes"/>A Brush-up on Classes</h1>&#13;
      </div>&#13;
&#13;
      <p>“I think so,” said Ruben. “May I create any class I want?” The Queen nodded, and Ruben typed into her Computing Contraption:</p><a id="pro_id00275"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">class Animal</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">attr_accessor :name</span></strong></span>&#13;
&gt;&gt;&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">def initialize(name, legs=4)</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@name = name</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@legs = legs</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
&gt;&gt; <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
      <p>“I see!” said the Queen. “You’ve defined an <code class="literal">Animal</code> class. You’re using <code class="literal">attr_accessor</code> to automatically make a method to access the <code class="literal">name</code>s of your animals, and the <code class="literal">initialize</code> method sets the animal’s <code class="literal">@name</code> and number of <code class="literal">@leg</code>s whenever a new animal is created.”</p>&#13;
&#13;
      <p>“Yup!” said Ruben. “And if we create an animal with <code class="literal">Animal.new</code> but don’t give it a number of legs, it’ll be <code class="literal">4</code> by default.”</p>&#13;
&#13;
      <p>The Queen nodded. “That makes sense to me. Why don’t you go ahead and create a couple of animals?”</p>&#13;
&#13;
      <p>Ruben typed some more:</p><a id="pro_id00276"/>&#13;
      <pre class="programlisting">&#13;
➊ &gt;&gt; <span class="strong"><strong><span class="red">monkey = Animal.new('George', 2)</span></strong></span>&#13;
  =&gt; #&lt;Animal:0x00000104953940 @name="George", @legs=2&gt;&#13;
&#13;
➋ &gt;&gt; <span class="strong"><strong><span class="red">monkey.name = 'Kong'</span></strong></span>&#13;
  =&gt; "Kong"&#13;
&#13;
➌ &gt;&gt; <span class="strong"><strong><span class="red">dog = Animal.new('Bigelow')</span></strong></span>&#13;
  =&gt; #&lt;Animal:0x00000104950178 @name="Bigelow", ➍@legs=4&gt;&#13;
</pre>&#13;
&#13;
      <p><a class="indexterm" id="iddle1108"/><a class="indexterm" id="iddle1428"/><a class="indexterm" id="iddle1555"/>“Wonderful! At ➊, we’ve created <code class="literal">monkey</code>, an instance of the <code class="literal">Animal</code> class, and created it with the name <code class="literal">'George'</code> and <code class="literal">2</code> legs. Next, at ➋, we’ve changed our <code class="literal">monkey</code>’s name to <code class="literal">'Kong'</code> to show that our <code class="literal">attr_accessor</code> lets us both read <span class="emphasis"><em>and</em></span> change the name.</p>&#13;
&#13;
      <p>“Finally, at ➌, we’ve created a second instance of the <code class="literal">Animal</code> class, <code class="literal">dog</code>, with the name <code class="literal">'Bigelow'</code>. Since we didn’t create our <code class="literal">dog</code> with a number of legs, it gets four by default, as you can see by the return value at ➍.”</p>&#13;
&#13;
      <div class="sect2" title="A Couple of Classes">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_5"><a id="couple_of_classes"/>A Couple of Classes</h2>&#13;
        </div>&#13;
&#13;
        <p>The Queen thought for a moment. “Yes, this will do nicely. Now then,” she continued, “imagine if instead of just having <code class="literal">monkey</code> and <code class="literal">dog</code> as instances of <code class="literal">Animal</code>, we decided we wanted to have <code class="literal">Monkey</code> and <code class="literal">Dog</code> as separate classes instead. How could we do it?”</p>&#13;
&#13;
        <p>“Well, we could do something like this,” Ruben said, and he typed:</p><a id="pro_id00277"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">class Monkey</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">attr_accessor :name</span></strong></span>&#13;
&gt;&gt;&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">def initialize(name)</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@name = name</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@legs = 2</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
&gt;&gt; <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Precisely,” said the Queen. “That defines a <code class="literal">Monkey</code> class, and the monkeys it creates will have <code class="literal">@name</code>s and two <code class="literal">@leg</code>s. The <code class="literal">attr_accessor</code> also automatically creates a <code class="literal">name</code> method for each monkey so we can get its name. To create a new monkey from <a class="indexterm" id="iddle1242"/>the class, we use <code class="literal">Monkey.new</code> and pass its name as a string value. Like this!” She typed into the Computing Contraption:</p><a id="pro_id00278"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">monkey = Monkey.new('George')</span></strong></span>&#13;
=&gt; #&lt;Monkey:0x00000104bdf3a8 @name="George", @legs=2&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">monkey.name</span></strong></span>&#13;
=&gt; "George"&#13;
</pre>&#13;
&#13;
        <p>“We can do the same thing for our <code class="literal">Dog</code> class,” Ruben continued. “We know that pretty much every dog has four legs, so it’ll look just like the <code class="literal">Monkey</code> class, only the class name will be different and the number of <code class="literal">@leg</code>s will be <code class="literal">4</code>.” He typed into the Computing Contraption:</p><a id="pro_id00279"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">class Dog</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">attr_accessor :name</span></strong></span>&#13;
&gt;&gt;&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">def initialize(name)</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@name = name</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">@legs = 4</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
&gt;&gt; <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Just like we can create new monkeys with <code class="literal">Monkey.new</code> and pass in a string for the monkey’s name, we can create new dogs with <code class="literal">Dog.new</code> and pass in a string for the dog’s name!” Ruben said.</p><a id="pro_id00280"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog = Dog.new('Bigelow')</span></strong></span>&#13;
=&gt; #&lt;Dog:0x00000104be3d18 @name="Bigelow", @legs=4&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog.name</span></strong></span>&#13;
=&gt; "Bigelow"&#13;
</pre>&#13;
&#13;
        <p>“That’s certainly one way to create a couple of classes,” said the Queen, “but it looks like you had to write a lot of the same code for both your <code class="literal">Monkey</code> and your <code class="literal">Dog</code> class.”</p>&#13;
&#13;
        <p>“That’s true,” said Ruben. “Is that okay?”</p>&#13;
      </div>&#13;
&#13;
      <div class="sect2" title="Inheritance and DRY Code">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_6"><a id="inheritance_and_dry_code"/>Inheritance and DRY Code</h2>&#13;
        </div>&#13;
&#13;
        <p><a class="indexterm" id="iddle1048"/><a class="indexterm" id="iddle1184"/><a class="indexterm" id="iddle1246"/><a class="indexterm" id="iddle1251"/><a class="indexterm" id="iddle1407"/>“Well,” said the Queen, “any time you find yourself writing something more than once, you should ask yourself whether you <span class="emphasis"><em>have</em></span> to. Good code—unlike my husband here,” she said, stifling a laugh as the King poured water out of the sleeves of his kingly robe, “—should be <span class="emphasis"><em><span class="smaller">DRY</span></em></span>.”</p>&#13;
&#13;
        <p>“I know that one!” said the King, shaking drops of water off his string and replacing it in his pocket. “It stands for <span class="emphasis"><em>Don’t</em></span> <span class="emphasis"><em>Repeat</em></span> <span class="emphasis"><em>Yourself</em></span>.”</p>&#13;
&#13;
        <p>“He knows that one because he repeats himself all the time,” the Queen whispered to Scarlet and Ruben. “But yes,” she said, “if you avoid repeating yourself in your code, you save lots of time! Also, if you ever have to change something, you only need to change it <span class="emphasis"><em>one</em></span> place, not several.”</p>&#13;
&#13;
        <p>“I like the sound of that!” said Ruben, “but how can we make our class code more <span class="smaller">DRY</span>?”</p>&#13;
&#13;
        <p>“With <span class="emphasis"><em>inheritance</em></span>,” said the Queen.</p>&#13;
&#13;
        <p>“Inheritance!” said Scarlet. “I think I’ve heard it mentioned before, but I’m not sure what it is.”</p>&#13;
&#13;
        <p>“I’ll show you,” said the Queen, explaining as she typed into the Computing Contraption. “We’ve already created a class called <code class="literal">Animal</code>. What if we could use that class as a way to create both our <code class="literal">Monkey</code> <span class="emphasis"><em>and</em></span> <code class="literal">Dog</code> classes?”</p><a id="pro_id00281"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">class Dog &lt; Animal</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">def bark</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">puts 'Arf!'</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
&gt;&gt; <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“The <code class="literal">class Dog &lt; Animal</code> part means that the <code class="literal">Dog</code> class <span class="emphasis"><em>inherits from</em></span> the <code class="literal">Animal</code> class. It says to Ruby: ‘Make a new class called <code class="literal">Dog</code> that knows how to do everything <code class="literal">Animal</code> does,’” the Queen said. “Then we just add a method, like we’d normally do. Here, I’m adding a <code class="literal">bark</code> method for <code class="literal">Dog</code>s, since dogs know how to bark.” She rolled up her sleeves.</p>&#13;
&#13;
        <p><a class="indexterm" id="iddle1512"/>“Here’s the amazing part: because <code class="literal">Dog</code> inherits from <code class="literal">Animal</code>, new dogs can do anything animals can do <span class="emphasis"><em>and</em></span> anything dogs can do. They’ll have a <code class="literal">name</code> method and a default of four legs, and know how to <code class="literal">bark</code>!”</p><a id="pro_id00282"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog = Dog.new('Bigelow')</span></strong></span>&#13;
=&gt; #&lt;Dog:0x00000104c89218 @name="Bigelow", @legs=4&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog.name</span></strong></span>&#13;
=&gt; "Bigelow"&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog.bark</span></strong></span>&#13;
Arf!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Astounding!” said the King.</p>&#13;
&#13;
        <p>“Isn’t it?” said the Queen. “It also means that instead of typing all that class definition business again for our <code class="literal">Monkey</code> class, we can just inherit from <code class="literal">Animal</code> again. Because we inherit from <code class="literal">Animal</code>, we get our <code class="literal">name</code> method and a default <code class="literal">@legs</code> value of <code class="literal">4</code>, <span class="emphasis"><em>plus</em></span> we’ll get this neat new <code class="literal">make_sounds</code> method I added just for monkeys.”</p><a id="pro_id00283"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">class Monkey &lt; Animal</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">def make_sounds</span></strong></span>&#13;
&gt;&gt;     <span class="strong"><strong><span class="red">puts 'Eeh ooh ooh!'</span></strong></span>&#13;
&gt;&gt;   <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
&gt;&gt; <span class="strong"><strong><span class="red">end</span></strong></span>&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Now we can create a new monkey with a name and two legs. Not only can we change its name with the <code class="literal">name=</code> method we inherited from <code class="literal">Animal</code>, but we can also <code class="literal">make_sounds</code>!”</p>&#13;
&#13;
        <p>“We can get the name and change it?” Ruben asked.</p>&#13;
&#13;
        <p>The Queen nodded. “Remember, we inherited from <code class="literal">Animal</code>, and <code class="literal">Animal</code> has <code class="literal">attr_accessor :name</code>. That automatically creates a <code class="literal">name</code> method for getting the name and a <code class="literal">name=</code> method for setting the name. See?”</p><a id="pro_id00284"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">monkey = Monkey.new('George', 2)</span></strong></span>&#13;
=&gt; #&lt;Monkey:0x00000102deaed8 @name="George", @legs=2&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">monkey.name = 'Oxnard'</span></strong></span>&#13;
=&gt; "Oxnard"&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">monkey.make_sounds</span></strong></span>&#13;
Eeh ooh ooh!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Wow!” said Scarlet, “That’s amazing—the <code class="literal">monkey</code> and the <code class="literal">dog</code> have their own methods, but they also can do anything an <code class="literal">Animal</code> can do!”</p>&#13;
&#13;
        <div class="informalfigure">&#13;
          <a id="med_id00045a"/>&#13;
&#13;
          <div class="mediaobject"><a id="med_id00045"/><img alt="image with no caption" src="../Images/httpatomoreillycomsourcenostarchimages2160043.png.jpg"/></div>&#13;
        </div>&#13;
&#13;
        <p>“That’s what makes inheritance so wonderful!” said the Queen. “Given our <code class="literal">Animal</code> class from before, which had an <code class="literal">attr_accessor</code> for <code class="literal">:name</code> and an <code class="literal">initialize</code> method that set the <code class="literal">@name</code> and <code class="literal">@legs</code> instance variables, we can make two new classes that inherit that information and add some new things—like a <code class="literal">bark</code> method for <code class="literal">Dog</code> instances and a <code class="literal">make_sounds</code> method for <code class="literal">Monkey</code> instances.</p>&#13;
&#13;
        <p>“Inheritance in Ruby works exactly as it does in real life,” the Queen continued. “Just like you might have inherited your father’s eye color or your mother’s math smarts, objects in Ruby can inherit information and methods from other objects.”</p>&#13;
&#13;
        <p><a class="indexterm" id="iddle1047"/><a class="indexterm" id="iddle1151"/><a class="indexterm" id="iddle1155"/><a class="indexterm" id="iddle1176"/><a class="indexterm" id="iddle1455"/><a class="indexterm" id="iddle1656"/><a class="indexterm" id="iddle1719"/><a class="indexterm" id="iddle1847"/><a class="indexterm" id="iddle1855"/>“Oh!” said Ruben. “So not only can we use classes to create lots of similar objects and avoid writing extra code, but we can even write classes that borrow code from other classes?”</p>&#13;
&#13;
        <p>“On the nose,” said the Queen. “We might want to use inheritance in our code if two classes have what I like to call an ‘is-a’ relationship, as in ‘a monkey <span class="emphasis"><em>is</em></span> <span class="emphasis"><em>a</em></span> kind of animal’ or ‘a dog <span class="emphasis"><em>is</em></span> <span class="emphasis"><em>a</em></span> kind of animal.’”</p>&#13;
&#13;
        <p>“But a <code class="literal">Dog</code> would never inherit from a <code class="literal">Monkey</code>,” said Scarlet, “because a dog <span class="emphasis"><em>isn’t</em></span> a kind of monkey.”</p>&#13;
&#13;
        <p>“Exactly,” said the Queen.</p>&#13;
&#13;
        <p>“Could you show us the syntax again?” said Scarlet. “This is a good trick and I want to remember it.”</p>&#13;
      </div>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="Subclass and Superclass">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_7"><a id="subclass_and_superclass"/>Subclass and Superclass</h1>&#13;
      </div>&#13;
&#13;
      <p>“Of course,” said the Queen. “When you have one class that inherits from another, you use the <code class="literal">class</code> keyword, just like always. Then you write the name of the class that will inherit, which we call the <span class="emphasis"><em>subclass</em></span> or the <span class="emphasis"><em>child</em></span> <span class="emphasis"><em>class</em></span>, and then a <code class="literal">&lt;</code>. You can think of that little <code class="literal">&lt;</code> as the tip of an arrow that says, ‘Put all the powers and abilities of the class on the right into the class on the left!’ To finish up, you then write the name of the class you’re inheriting from to the right of the <code class="literal">&lt;</code>, which we call the <span class="emphasis"><em>superclass</em></span> or <span class="emphasis"><em>parent</em></span> <span class="emphasis"><em>class</em></span>. Finally, you just define any new methods as you normally would. It looks like this,” she said, and typed:</p>&#13;
&#13;
      <p><span class="bolditalic red">super_and_subclass.rb</span></p><a id="pro_id00285"/>&#13;
      <pre class="programlisting">&#13;
➊ class MySuperclass&#13;
    def say_hello&#13;
      puts 'Hello!'&#13;
    end&#13;
  end&#13;
&#13;
➋ class MySubclass &lt; MySuperclass&#13;
    def say_goodbye&#13;
      puts 'Goodbye!'&#13;
    end&#13;
  end&#13;
</pre>&#13;
&#13;
      <p>“Here we have two classes, <code class="literal">MySuperclass</code> and <code class="literal">MySubclass</code>,” the Queen explained. “<code class="literal">MySubclass</code> inherits from <code class="literal">MySuperclass</code> on line ➋, so instances of <code class="literal">MySubclass</code> not only have the <code class="literal">say_goodbye</code> method defined in the <code class="literal">MySubclass</code> class, but they can also use the <code class="literal">say_hello</code> method they inherit from <code class="literal">MySuperclass</code>! Let’s see what happens when we create a new instance of <code class="literal">MySubclass</code>.”</p><a id="pro_id00286"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">load 'super_and_subclass.rb'</span></strong></span>&#13;
=&gt; true&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">subby = MySubclass.new</span></strong></span>&#13;
=&gt; #&lt;MySubclass:0x00000104a4c478&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">subby.say_hello</span></strong></span>&#13;
Hello!&#13;
=&gt; nil&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">subby.say_goodbye</span></strong></span>&#13;
Goodbye!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
      <p>“I created an instance of <code class="literal">MySubclass</code> called <code class="literal">subby</code> using <code class="literal">MySubclass.new</code>,” said the Queen. “Just like I promised, <code class="literal">subby</code> can use both the <code class="literal">say_goodbye</code> method defined in <code class="literal">MySubclass</code> as well as the <code class="literal">say_hello</code> method defined in <code class="literal">MySuperclass</code>, because <code class="literal">MySubclass</code> inherits from <code class="literal">MySuperclass</code> and can therefore do anything <code class="literal">MySuperclass</code> knows how to do.”</p>&#13;
&#13;
      <p>“Thanks!” said Scarlet, “I think I’ve got it now.” She studied the screen for a few seconds. “Is it possible for a class to inherit from more than one other class?” she asked.</p>&#13;
&#13;
      <p>“Alas, no,” said the Queen. “You can have only one class name on the left side of the <code class="literal">&lt;</code> and one class name on the right side. However!” she continued, “there <span class="emphasis"><em>is</em></span> a Ruby trick that lets you mix the behavior of several classes into one, which we’ll get to in a little while.”</p>&#13;
&#13;
      <p>“Okay,” said Ruben, “but what if you want your subclass to have a different version of a method than the superclass has?”</p>&#13;
&#13;
      <div class="sect2" title="Overriding Methods: Pirates are People, Too">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_8"><a id="overriding_methods_pirates_are_peoplecom"/>Overriding Methods: Pirates are People, Too</h2>&#13;
        </div>&#13;
&#13;
        <p><a class="indexterm" id="iddle1536"/><a class="indexterm" id="iddle1573"/><a class="indexterm" id="iddle1644"/><a class="indexterm" id="iddle1661"/>“Now <span class="emphasis"><em>that</em></span>, we can do,” said the Queen. “Any subclass can override a method it inherits from its superclass at any time. Let’s have a look. We’ll create a superclass called <code class="literal">Person</code> and subclass called <code class="literal">Pirate</code>, with a <code class="literal">speak</code> method for both. Of course, pirates and regular people speak pretty differently, don’t they?” Scarlet and Ruben nodded. “So,” the Queen continued, “the two <code class="literal">speak</code> methods will be different.” She typed into the Computing Contraption:</p>&#13;
&#13;
        <p><span class="bolditalic red">pirates_and_people.rb</span></p><a id="pro_id00287"/>&#13;
        <pre class="programlisting">&#13;
➊ class Person&#13;
    attr_reader :name&#13;
&#13;
    def initialize(name)&#13;
      @name = name&#13;
    end&#13;
&#13;
    def speak&#13;
      puts 'Hello!'&#13;
    end&#13;
  end&#13;
&#13;
➋ class Pirate &lt; Person&#13;
    def speak&#13;
      puts 'Arr!'&#13;
    end&#13;
  end&#13;
</pre>&#13;
&#13;
        <p>“Starting at ➊, I’ve defined the <code class="literal">Person</code> class with an <code class="literal">attr_reader :name</code>, so we’ll be able to get and change the name of any <code class="literal">Person</code> instances,” the Queen said. “The <code class="literal">initialize</code> method sets the <code class="literal">name</code> to the string we’ll pass in when we call <code class="literal">Person.new</code>, and the <code class="literal">speak</code> method just prints out <code class="literal">'Hello!'</code>”</p>&#13;
&#13;
        <p>“With you so far!” said the King.</p>&#13;
&#13;
        <p>“Next, at ➋, I’ve defined the <code class="literal">Pirate</code> class to inherit from <code class="literal">Person</code>, so <code class="literal">Pirate</code> instances will be able to do anything a <code class="literal">Person</code> instance can do,” said the Queen. “But! I’ve given <code class="literal">Pirate</code> its very own <code class="literal">speak</code> method that prints <code class="literal">'Arr!'</code>. We’ll see how that works in a moment. First, let’s go ahead and create an instance of each class to make sure we can create it and get its name without any trouble.”</p><a id="pro_id00288"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">load 'pirates_and_people.rb'</span></strong></span>&#13;
=&gt; true&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">esmeralda = Person.new('Esmeralda')</span></strong></span>&#13;
=&gt; #&lt;Person:0x00000104bfaa90 @name="Esmeralda"&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rubybeard = Pirate.new('RubyBeard')</span></strong></span>&#13;
=&gt; #&lt;Pirate:0x00000104bfedc0 @name="RubyBeard"&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">esmeralda.name</span></strong></span>&#13;
=&gt; "Esmeralda"&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rubybeard.name</span></strong></span>&#13;
=&gt; "RubyBeard"&#13;
</pre>&#13;
&#13;
        <p>“Now, let’s test our <code class="literal">speak</code> method,” the Queen said. “Because <code class="literal">Pirate</code> created its own <code class="literal">speak</code> method, instances of <code class="literal">Pirate</code> will use that one instead of the one inherited from <code class="literal">Person</code>,” she explained. “But since we didn’t change the <code class="literal">name</code> and <code class="literal">name=</code> methods given to <code class="literal">Pirate</code> by <code class="literal">attr_reader :name</code>, which it inherited, we can get and change names the same way for both people and pirates!”</p><a id="pro_id00289"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">esmeralda.speak</span></strong></span>&#13;
Hello!&#13;
=&gt; nil&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rubybeard.speak</span></strong></span>&#13;
Arr!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“That’s really cool,” Ruben said, “but when would we decide to override a method?”</p>&#13;
&#13;
        <p>“Any time one class inherits from another and you want <span class="emphasis"><em>most</em></span> of the same behavior, but not all,” said the Queen. “In this case, we want a <code class="literal">Pirate</code> to be a <code class="literal">Person</code> and to be created like one, but we want to make sure our <code class="literal">Pirate</code>s sound like pirates. So we simply <a class="indexterm" id="iddle1534"/><a class="indexterm" id="iddle1851"/>override the methods we want to be different between regular old people and pirates!”</p>&#13;
&#13;
        <p>“That makes sense,” said Scarlet, “but what if we want a little of both? That is, what if we want to <span class="emphasis"><em>modify</em></span> a method we inherit, but not completely <span class="emphasis"><em>replace</em></span> it?”</p>&#13;
      </div>&#13;
&#13;
      <div class="sect2" title="Using super">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_9"><a id="using_super"/>Using super</h2>&#13;
        </div>&#13;
&#13;
        <p>“I’m so glad you asked,” said the Queen. “That’s absolutely something Ruby lets us do—all we need is the <code class="literal">super</code> keyword. Using the <code class="literal">Animal</code> class we created earlier, we’ll create a new version of a method that already exists, just like we did with the <code class="literal">speak</code> method, and add our new code. Then, we’ll use <code class="literal">super</code> to tell Ruby: ‘Okay, I’m done adding new things to this method! Now have it do all the things the superclass’s version of the method does.’ It works like this,” she said, and typed:</p>&#13;
&#13;
        <p><span class="bolditalic red">super_dog.rb</span></p><a id="pro_id00290"/>&#13;
        <pre class="programlisting">&#13;
class Dog &lt; Animal&#13;
  def initialize(name)&#13;
    puts 'Just made a new dog!'&#13;
    super&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
        <p>“Now we can create a <code class="literal">Dog</code> class that inherits from <code class="literal">Animal</code>, just like before,” said the Queen.</p><a id="pro_id00291"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">load 'super_dog.rb’</span></strong></span>&#13;
=&gt; true&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">dog = Dog.new('Bigelow')</span></strong></span>&#13;
Just made a new dog!&#13;
=&gt; #&lt;Dog:0x00000104c6f020 @name="Bigelow", @legs=4&gt;&#13;
</pre>&#13;
&#13;
        <p>“Here, though, we’ve given <code class="literal">Dog</code> its own <code class="literal">initialize</code> method, which <code class="literal">Dog</code> instances will use instead of the one inherited from <code class="literal">Animal</code>,” the Queen continued.</p>&#13;
&#13;
        <p><a class="indexterm" id="iddle1366"/><a class="indexterm" id="iddle1688"/>“Just like pirates used their own <code class="literal">speak</code> method instead of the one from <code class="literal">Person</code>,” Ruben said.</p>&#13;
&#13;
        <p>“Exactly!” said the Queen. “We added our own <code class="literal">puts</code> statement to the <code class="literal">Dog initialize</code> method to print out a message, but then we used <code class="literal">super</code> to tell Ruby: ‘Okay! Now, use <code class="literal">Animal</code>’s <code class="literal">initialize</code> method.’ All <code class="literal">super</code> does is call the version of the method from the superclass! Since <code class="literal">Animal</code>’s <code class="literal">initialize</code> method sets the <code class="literal">@name</code> and the <code class="literal">@legs</code> instance variables for us, you see not only <code class="literal">@name="Bigelow"</code> but <code class="literal">@legs=4</code>!”</p>&#13;
&#13;
        <p>“Gracious me, that’s astounding,” said the King, who had finally dried himself off. “Is there anything Ruby <span class="emphasis"><em>can’t</em></span> do?”</p>&#13;
&#13;
        <p>“That’s nothing,” said the Queen. “Now the real fun begins. We’ll use inheritance, method overriding, and <code class="literal">super</code> to create some trusty friends to defend us against the intruders in our kingdom!”</p>&#13;
      </div>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="Protecting the Kingdom with GuardDogs and FlyingMonkeys">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_10"><a id="protecting_the_kingdom_with_guarddogs_an"/>Protecting the Kingdom with GuardDogs and FlyingMonkeys</h1>&#13;
      </div>&#13;
&#13;
      <p>“But before we do that,” said the Queen, “let’s get back to our <code class="literal">Dog</code>s and <code class="literal">Monkey</code>s. First, I’ll redefine a <code class="literal">Dog</code> class, since it’s been a bit since we looked at it.” She typed into her Computing Contraption:</p>&#13;
&#13;
      <p><span class="bolditalic red">guard_dog.rb</span></p><a id="pro_id00292"/>&#13;
      <pre class="programlisting">&#13;
class Dog &lt; Animal&#13;
  attr_accessor :name&#13;
&#13;
  def initialize(name)&#13;
    @name = name&#13;
  end&#13;
&#13;
  def bark&#13;
    puts 'Arf!'&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p><a class="indexterm" id="iddle1109"/><a class="indexterm" id="iddle1414"/><a class="indexterm" id="iddle1703"/><a class="indexterm" id="iddle1705"/>“Our <code class="literal">Dog</code> class inherits from <code class="literal">Animal</code> and will be initialized with a <code class="literal">name</code>, and it will have a <code class="literal">bark</code> method to let it bark whenever it likes,” said the Queen. “Next, I’ll create a brand-new class that inherits from <code class="literal">Dog</code>. Let’s keep adding to <span class="emphasis"><em>guard_dog.rb</em></span>!” She typed into the Computing Contraption:</p>&#13;
&#13;
      <p><span class="bolditalic red">guard_dog.rb</span></p><a id="pro_id00293"/>&#13;
      <pre class="programlisting">&#13;
  class GuardDog &lt; Dog&#13;
&#13;
➊   attr_accessor :strength&#13;
&#13;
➋   def initialize(name, strength)&#13;
      @strength = strength&#13;
      super(name)&#13;
    end&#13;
&#13;
➌   def bark&#13;
      puts 'Stop, in the name of the law!'&#13;
    end&#13;
&#13;
➍   def attack&#13;
      puts "Did #{rand(strength)} damage!"&#13;
    end&#13;
  end&#13;
</pre>&#13;
&#13;
      <p>“Here, I’ve created a <code class="literal">GuardDog</code> class that inherits from <code class="literal">Dog</code>. At ➊, we have an <code class="literal">attr_accessor</code> for <code class="literal">:strength</code>, so we’ll be able to set and get the strength of our new guard dog. Next, I added an <code class="literal">initialize</code> method at ➋ that partly overrides the one from <code class="literal">Dog</code>: it sets the <code class="literal">GuardDog</code>’s <code class="literal">@strength</code>, then calls <code class="literal">super</code> with just the <code class="literal">name</code> to use <code class="literal">Dog</code>’s <code class="literal">initialize</code> method, which sets the <code class="literal">@name</code>. At ➌, I completely overrode the <code class="literal">bark</code> method from <code class="literal">Dog</code> and gave <code class="literal">GuardDog</code> its own phrase to say.</p>&#13;
&#13;
      <p>Finally at ➍, I added a brand-new <code class="literal">attack</code> method that prints out a string saying how much damage the dog did. That method uses Ruby’s built-in <code class="literal">rand</code> method to choose a random number between zero and whatever the <code class="literal">GuardDog</code>’s strength is.”</p>&#13;
&#13;
      <p>“Wow!” said Ruben. “That’s amazing! And I didn’t know you could call <code class="literal">super</code> with arguments.”</p>&#13;
&#13;
      <p><a class="indexterm" id="iddle1537"/>“Oh, yes,” said the Queen. “If you call <code class="literal">super</code> by itself, it calls the superclass’s <code class="literal">initialize</code> method with all of the arguments the subclass’s <code class="literal">initialize</code> method got. <code class="literal">GuardDog</code> takes one more argument than <code class="literal">Dog</code>—it takes <code class="literal">strength</code> as well as <code class="literal">name</code>—and that would cause an error if we tried to give both of those to <code class="literal">Dog</code>, which is created only with a <code class="literal">name</code>. So we call <code class="literal">super</code> with just <code class="literal">name</code> to make sure that <code class="literal">Dog</code>’s <code class="literal">initialize</code> method gets the number of arguments it expects.”</p>&#13;
&#13;
      <div class="sect2" title="Every GuardDog Has His Day">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_11"><a id="every_guarddog_has_his_day"/>Every GuardDog Has His Day</h2>&#13;
        </div>&#13;
&#13;
        <p>“Now then,” the Queen continued, “let’s create a new <code class="literal">GuardDog</code> and test it out!”</p><a id="pro_id00294"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">load('guard_dog.rb')</span></strong></span>&#13;
=&gt; true&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rex = GuardDog.new('Rex', 7)</span></strong></span>&#13;
=&gt; #&lt;GuardDog:0x0000010334e168 @strength=7, @name="Rex"&gt;&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rex.strength</span></strong></span>&#13;
=&gt; 7&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rex.bark</span></strong></span>&#13;
Stop, in the name of the law!&#13;
=&gt; nil&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rex.attack</span></strong></span>&#13;
Did 1 damage!&#13;
=&gt; nil&#13;
&gt;&gt; <span class="strong"><strong><span class="red">rex.attack</span></strong></span>&#13;
Did 4 damage!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Now we’ve got a special kind of dog—a <code class="literal">GuardDog</code>—with its own set of methods!” The Queen said. “We partly overrode its <code class="literal">initialize</code> method because we wanted it to have <code class="literal">strength</code>, but then we used <code class="literal">super</code> to finish creating it like a regular dog. We overrode <code class="literal">bark</code> because we wanted our <code class="literal">GuardDog</code> to have the <code class="literal">bark</code> method, then finished up by adding a completely new <code class="literal">attack</code> method that <code class="literal">GuardDog</code>s have but <code class="literal">Dog</code>s don’t.”</p>&#13;
&#13;
        <p>“I’m starting to get it now,” said Ruben. “We use inheritance to minimize the amount of code we have to retype, and we override <a class="indexterm" id="iddle1343"/><a class="indexterm" id="iddle1852"/>methods when we want to make exceptions and give our subclasses special behavior!” The Queen nodded.</p>&#13;
&#13;
        <p>“Don’t forget <code class="literal">super</code>,” Scarlet said. “We use that when we want to partly change the behavior of a method in a subclass, but not completely replace it.”</p>&#13;
&#13;
        <p>The King furrowed his brow. “This makes sense, but could we see a bit more?” he asked. “It’s an awful lot to keep in my head all at once.”</p>&#13;
      </div>&#13;
&#13;
      <div class="sect2" title="Once More, with Feeling!">&#13;
        <div class="titlepage">&#13;
          <h2 class="title" id="heading_id_12"><a id="once_morecomma_with_feelingexclamation_m"/>Once More, with Feeling!</h2>&#13;
        </div>&#13;
&#13;
        <p>Ruben nodded. “Could we have one more example, just to be sure we understand?” he asked.</p>&#13;
&#13;
        <p>“Of course,” said the Queen. “Here’s another example of inheritance, method overriding, and <code class="literal">super</code>, this time using our trusty <code class="literal">Monkey</code> class. Let’s make <code class="literal">Monkey</code> look like this,” she said, and typed:</p>&#13;
&#13;
        <p><span class="bolditalic red">flying_monkey.rb</span></p><a id="pro_id00295"/>&#13;
        <pre class="programlisting">&#13;
class Monkey &lt; Animal&#13;
  attr_reader :name, :arms&#13;
&#13;
  def initialize(name, arms = 2)&#13;
    @name = name&#13;
    @arms = arms&#13;
  end&#13;
&#13;
  def make_sounds&#13;
    puts 'Eeh ooh ooh!'&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
        <p>“Here, we have a <code class="literal">Monkey</code> class. Using <code class="literal">attr_reader</code>, we can get (but not change) our monkey’s <code class="literal">name</code> and number of <code class="literal">arms</code>, which defaults to <code class="literal">2</code>. We also have a <code class="literal">make_sounds</code> method that prints out a string.”</p>&#13;
&#13;
        <p>“Looks pretty standard,” said the King.</p>&#13;
&#13;
        <p><a class="indexterm" id="iddle1116"/><a class="indexterm" id="iddle1704"/>“Next,” the Queen continued, “we’ll create a <code class="literal">FlyingMonkey</code> class that inherits from <code class="literal">Monkey</code>. We’ll keep adding to <span class="emphasis"><em>flying_monkey.rb</em></span>!” She typed into her Computing Contraption:</p>&#13;
&#13;
        <p><span class="bolditalic red">flying_monkey.rb</span></p><a id="pro_id00296"/>&#13;
        <pre class="programlisting">&#13;
➊ class FlyingMonkey &lt; Monkey&#13;
➋   attr_reader :wings&#13;
&#13;
➌   def initialize(name, wings, arms = 2)&#13;
      @wings = wings&#13;
      super(name, arms)&#13;
    end&#13;
&#13;
➍   def throw_coconuts&#13;
      coconuts = rand(arms)&#13;
      damage = coconuts * wings&#13;
      puts "Threw #{coconuts} coconuts! It did #{damage} damage."&#13;
    end&#13;
  end&#13;
</pre>&#13;
&#13;
        <p>“For our <code class="literal">FlyingMonkey</code> class,” said the Queen, “we first inherit from <code class="literal">Monkey</code> ➊. Next, we add an <code class="literal">attr_reader</code> for <code class="literal">:wings</code> so we know how many wings our <code class="literal">FlyingMonkey</code> has ➋. We <code class="literal">initialize</code> the flying monkey with a certain number of <code class="literal">@wings</code>, but then call <code class="literal">super</code> to have the <code class="literal">Monkey</code> class take care of setting the <code class="literal">@name</code> and number of <code class="literal">@arms</code> ➌. We then define a brand-new <code class="literal">throw_coconuts</code> method ➍ that uses Ruby’s built-in <code class="literal">rand</code> method to calculate how much damage the flying monkey can do by throwing coconuts. The number of coconuts is a random number between zero and the flying monkey’s number of arms, and the damage is that number multiplied by the number of wings the monkey has, because monkeys with more wings can fly higher.”</p>&#13;
&#13;
        <p>“Okay!” said the Queen. “Let’s create a flying monkey and test out his methods.”</p><a id="pro_id00297"/>&#13;
        <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">load 'flying_monkey.rb'</span></strong></span>&#13;
=&gt; true&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">oswald = FlyingMonkey.new('Oswald', 6, 4)</span></strong></span>&#13;
=&gt; #&lt;FlyingMonkey:0x000001013d1718 @wings=6, @name="Oswald", @arms=4&gt;&#13;
&gt;&gt; <span class="strong"><strong><span class="red">oswald.make_sounds</span></strong></span>&#13;
Eeh ooh ooh!&#13;
=&gt; nil&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">oswald.throw_coconuts</span></strong></span>&#13;
Threw 3 coconuts! It did 18 damage.&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
        <p>“Amazing!” said Scarlet. “We create the <code class="literal">FlyingMonkey</code> by using its own <code class="literal">initialize</code> method for wings, then letting <code class="literal">Monkey</code> finish up by setting the name and number of arms. And because <code class="literal">FlyingMonkey</code> inherits from <code class="literal">Monkey</code>, a flying monkey can not only <code class="literal">throw_coconuts</code> but can also use <code class="literal">Monkey</code>’s <code class="literal">make_sounds</code> method!”</p>&#13;
&#13;
        <p>“Huzzah!” said the King. “I’ll bet that monkey is excellent at throwing coconuts, too. Which I suppose is only natural for a flying monkey.”</p>&#13;
&#13;
        <p>“And I’ll bet he makes very good monkey sounds,” added Ruben.</p>&#13;
&#13;
        <p>“I guess that makes sense,” said Scarlet, “but something’s been bothering me: why does our <code class="literal">GuardDog</code> know how to <span class="emphasis"><em>talk</em></span>?”</p>&#13;
&#13;
        <p>“He’s a very smart dog,” said the Queen.</p>&#13;
&#13;
        <p>“Very,” said the King.</p>&#13;
&#13;
        <p>“Speaking of,” said the Queen, “I think it’s high time we put our guard dogs and flying monkeys to work!” She pressed a button on the arm of her chair, and her Computing Contraption began to hum. In a matter of seconds, doors slid open on all sides of her office, and dozens of guard dogs and flying monkeys emerged!</p>&#13;
&#13;
        <div class="informalfigure">&#13;
          <a id="med_id00046a"/>&#13;
&#13;
          <div class="mediaobject"><a id="med_id00046"/><img alt="image with no caption" src="../Images/httpatomoreillycomsourcenostarchimages2160045.png.jpg"/></div>&#13;
        </div>&#13;
&#13;
        <p>“Taco Tuesdays!” said the King. “And I thought all these gadgets and hacking conferences were a waste of time and money.”</p>&#13;
&#13;
        <p><a class="indexterm" id="iddle1071"/><a class="indexterm" id="iddle1497"/><a class="indexterm" id="iddle1827"/>“On the contrary,” said the Queen. “I think they just might save the kingdom!”</p>&#13;
&#13;
        <p>The King opened his mouth to speak, but at that very moment, a bright red telephone began ringing madly on the Queen’s desk. She picked it up. “Hello?” she said. She waited a moment, and then her eyes went wide. “Stay right where you are! We’re on our way!” She hung up and jumped from her chair. “The guards have news!” she said. “They’re down in the Royal Stables. Quickly now, let’s go!”</p>&#13;
&#13;
        <div class="informalfigure">&#13;
          <a id="med_id00047a"/>&#13;
&#13;
          <div class="mediaobject"><a id="med_id00047"/><img alt="image with no caption" src="../Images/httpatomoreillycomsourcenostarchimages2160047.png.jpg"/></div>&#13;
        </div>&#13;
&#13;
        <p>And with that, the four of them dashed from the Queen’s office and headed for the stables out back, the guard dogs charging ahead and the flying monkeys following close behind.</p>&#13;
      </div>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="The Queen’s Machine">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_13"><a id="queenapostrophes_machine"/>The Queen’s Machine</h1>&#13;
      </div>&#13;
&#13;
      <p>This is getting exciting! While the King, the Queen, Ruben, and Scarlet go catch the bad guys, let’s jump in and help the Queen create a Ruby class to help keep all her royal business secret; after all, there’s only so much <code class="literal">GuardDog</code>s and <code class="literal">FlyingMonkey</code>s can do! I’m thinking some kind of login account for her Computing Contraption that’s a bit more secure than what she’s been using so far might be just what we need; we don’t want anyone breaking in again anytime soon. So, we’ll set up an <code class="literal">Account</code> class with a <code class="literal">password</code> for the Queen to use to log in to her computer.</p>&#13;
&#13;
      <p>Let’s begin by making a new file called <span class="bolditalic red">secrecy.rb</span> and typing the following code.</p>&#13;
&#13;
      <p><a class="indexterm" id="iddle1790"/><span class="bolditalic red">secrecy.rb</span></p><a id="pro_id00298"/>&#13;
      <pre class="programlisting">&#13;
➊ class Account&#13;
    attr_accessor :username, :password&#13;
➋   def initialize(username, password)&#13;
      @username = username&#13;
      @password = password&#13;
    end&#13;
  end&#13;
&#13;
➌ class SuperSecretAccount &lt; Account&#13;
➍   def initialize(username, password)&#13;
      @reset_attempts = 0&#13;
      super(username, password)&#13;
    end&#13;
&#13;
➎   def password=(new_password)&#13;
      while @reset_attempts &lt; 3&#13;
        print 'Current password?: '&#13;
        current_password = gets.chomp&#13;
        if @password == current_password&#13;
          @password = new_password&#13;
          puts "Password changed to: #{new_password}"&#13;
          break&#13;
        else&#13;
          @reset_attempts += 1&#13;
          puts "That's not the right password."&#13;
          puts "Attempt #{@reset_attempts} of 3 used up!"&#13;
        end&#13;
      end&#13;
    end&#13;
&#13;
➏   def password&#13;
      'The password is secret!'&#13;
    end&#13;
  end&#13;
&#13;
➐ regular = Account.new('Your name', 'your password')&#13;
  super_safe = SuperSecretAccount.new('Your name', 'your password')&#13;
&#13;
➑ regular = Account.new('Your name', 'your password')&#13;
  super_safe = SuperSecretAccount.new('Your name', 'your password')&#13;
&#13;
  puts "Your regular account password is: #{regular.password}"&#13;
  regular.password = 'Something else!'&#13;
  puts "Your regular account password is now: #{regular.password}"&#13;
&#13;
  puts "If we try to see the secret account password, we get: #{super_&#13;
  safe.password}"&#13;
&#13;
  changed_password = 'Something else!'&#13;
&#13;
  puts "Trying to change your secret account password to: #{changed_&#13;
  password}..."&#13;
  super_safe.password = changed_password&#13;
</pre>&#13;
&#13;
      <p><a class="indexterm" id="iddle1072"/><a class="indexterm" id="iddle1411"/><a class="indexterm" id="iddle1859"/>This is a long one, so let’s go through it step-by-step.</p>&#13;
&#13;
      <p>First, we create a basic <code class="literal">Account</code> class at ➊ that sets up some instance variables (check them out in the <code class="literal">initialize</code> method at ➋). Instances of the <code class="literal">Account</code> class can have their <code class="literal">@username</code> and <code class="literal">@password</code> read and changed by any Ruby code that happens to want to, thanks to the <code class="literal">attr_accessor</code> for both <code class="literal">:username</code> and <code class="literal">:password</code>.</p>&#13;
&#13;
      <p>We’re off to a pretty good start! This code lets us create an account for someone and lets that person set her password, just as you might do for a website or your email. The problem, though, is that this code lets <span class="emphasis"><em>any</em></span> Ruby code change the user’s password, which we definitely don’t want.</p>&#13;
&#13;
      <p>To fix that, we create our <code class="literal">SuperSecretAccount</code> class at ➌ that inherits from <code class="literal">Account</code>, and here’s where things get interesting. First, <code class="literal">SuperSecretAccount</code>’s <code class="literal">initialize</code> method also takes a username and password, and it passes these to <code class="literal">super</code> to let <code class="literal">Account</code> take care of setting those instance variables ➍. The <code class="literal">SuperSecretAccount</code> also creates a new instance variable, <code class="literal">@reset_attempts</code>, to keep track of how many times a user tries to log in.</p>&#13;
&#13;
      <p>Next, the <code class="literal">SuperSecretAccount</code> class overrides the <code class="literal">password=</code> method ➎ (one of the two created by <code class="literal">Account</code>’s <code class="literal">attr_accessor :password</code>), so it requires a user to enter her old password in order to change it. If she enters the correct password, the program updates the password and immediately <code class="literal">break</code>s out of the <code class="literal">while</code> loop; if she tries unsuccessfully three times, the program exits without changing the password.</p>&#13;
&#13;
      <p>After that, the <code class="literal">SuperSecretAccount</code> class overrides the <code class="literal">password</code> method at ➏ (the other one created by <code class="literal">Account</code>’s <code class="literal">attr_accessor :password</code>) and makes it print the string <code class="literal">The password is secret!</code> instead of giving up the password as it normally would. Finally, we create a couple of accounts ➐ and try getting and setting the passwords ➑.</p>&#13;
&#13;
      <p>You can run the code in your file by typing <span class="strong"><strong><span class="red"><code class="literal">ruby secrecy.rb</code></span></strong></span> from the command line. Make sure you’re in the same folder as your <span class="emphasis"><em>secrecy.rb</em></span> file and type:</p><a id="pro_id00299"/>&#13;
      <pre class="programlisting">&#13;
$ <span class="strong"><strong><span class="red">ruby secrecy.rb</span></strong></span>&#13;
</pre>&#13;
&#13;
      <p>Here’s the output I get (yours might be a little different, depending on what you enter when you run the script):</p><a id="pro_id00300"/>&#13;
      <pre class="programlisting">&#13;
➊ Your regular account password is: your password&#13;
  Your regular account password is now: Something else!&#13;
➋ If we try to see the secret account password, we get: The password&#13;
  is secret!&#13;
➌ Trying to change your secret account password to Something else!...&#13;
  Current password?: <span class="strong"><strong><span class="red">lasers</span></strong></span>&#13;
  That's not the right password.&#13;
  Attempt 1 of 3 used up!&#13;
  Current password?: <span class="strong"><strong><span class="red">ninjas</span></strong></span>&#13;
  That's not the right password.&#13;
  Attempt 2 of 3 used up!&#13;
  Current password?: <span class="strong"><strong><span class="red">your password</span></strong></span>&#13;
  Password changed to: Something else!&#13;
</pre>&#13;
&#13;
      <p>First, we see our program print out our regular account’s password, followed by the new password after we change it ➊. That was too easy!</p>&#13;
&#13;
      <p>Next, at ➋, we see that our secret account correctly hides the password from prying eyes, printing out only <code class="literal">The password is secret!</code> if we try to look at it.</p>&#13;
&#13;
      <p>Finally, we try to change our secret account password at ➌. We put in two wrong passwords (<code class="literal">lasers</code> and <code class="literal">ninja</code>) before finally entering the correct password, <code class="literal">your password</code>, and our Ruby program prints out that we successfully updated our password to <code class="literal">Something else!</code>.</p>&#13;
&#13;
      <p><a class="indexterm" id="iddle1156"/><a class="indexterm" id="iddle1408"/><a class="indexterm" id="iddle1791"/>Feel free to play around with the code. What happens when you try to get and set the password on the <code class="literal">regular</code> account in <span class="emphasis"><em>secrecy.rb</em></span>? What about when you try to change the <code class="literal">super_safe</code> one?</p>&#13;
&#13;
      <p>What happens if we try to set the password on our <code class="literal">super_safe</code> account and pass in the correct current password? The wrong one? Try passing in the wrong password a bunch of times. What happens?</p>&#13;
&#13;
      <p>Once you’re done exploring the code, you can try thinking about all the cool stuff we could do to make it even better. For example, what methods could we add to the <code class="literal">Account</code> or <code class="literal">SuperSecretAccount</code> to make them even more useful? (Maybe a <code class="literal">reset_password</code> method, in case you’ve completely forgotten your password?) What methods might <code class="literal">SuperSecretAccount</code> override from <code class="literal">Account</code>? Are there any that might use some of the functionality of <code class="literal">Account</code> but not all of it? How could we go about doing that? (Hint: <code class="literal">super</code> would be involved.)</p>&#13;
&#13;
      <p>Lastly, Ruby does have some built-in methods that can help make your code more secure (or at least control which methods can be called). If you like, you can read all about it in the Ruby docs: <span class="emphasis"><em><a class="ulink" href="http://ruby-doc.org/core-2.0.0/Module.html#method-i-private">http://ruby-doc.org/core-2.0.0/Module.html#method-i-private</a></em></span>.</p>&#13;
    </div>&#13;
&#13;
    <div class="sect1" title="You Know This!">&#13;
      <div class="titlepage">&#13;
        <h1 class="title" id="heading_id_14"><a id="you_know_thisexclamation_mark-id00008"/>You Know This!</h1>&#13;
      </div>&#13;
&#13;
      <p>You learned some tricky stuff in this chapter, but I’m confident you’ve got a good handle on it. Just to be sure, let’s go through it all once more.</p>&#13;
&#13;
      <p>First, we reviewed how to create a Ruby class using the <code class="literal">class</code> keyword.</p><a id="pro_id00301"/>&#13;
      <pre class="programlisting">&#13;
class Greeting&#13;
  def say_hello&#13;
    puts 'Hello!'&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p>Next, you found out that Ruby classes can share information and methods with each other through <span class="emphasis"><em>inheritance</em></span>: just as a person can inherit traits from her parents, one Ruby class can inherit information and behavior from another. The class that <a class="indexterm" id="iddle1152"/><a class="indexterm" id="iddle1538"/><a class="indexterm" id="iddle1645"/><a class="indexterm" id="iddle1657"/><a class="indexterm" id="iddle1848"/><a class="indexterm" id="iddle1853"/><a class="indexterm" id="iddle1856"/>does the inheriting is called a <span class="emphasis"><em>subclass</em></span> or <span class="emphasis"><em>child class</em></span>, and the class it inherits from is called the <span class="emphasis"><em>superclass</em></span> or <span class="emphasis"><em>parent class</em></span>.</p>&#13;
&#13;
      <p>Inheritance syntax looks like this:</p><a id="pro_id00302"/>&#13;
      <pre class="programlisting">&#13;
class Dog &lt; Animal&#13;
  def bark&#13;
    puts 'Arf!'&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p>In this example, because <code class="literal">Dog</code> inherits from <code class="literal">Animal</code>, instances of the <code class="literal">Dog</code> class (made with <code class="literal">Dog.new</code>) can use any of the methods defined in the <code class="literal">Animal</code> class.</p>&#13;
&#13;
      <p>We also learned about <span class="emphasis"><em>method overriding</em></span> and the <code class="literal">super</code> keyword. Method overriding is just writing a method in a subclass that has the same name as a method in the superclass; when we create an instance of the subclass, it will use the subclass’s version of the method instead of the superclass’s. You’d want to override the superclass’s method any time you want different or more specific behavior in the subclass. For example, say you’re writing a game where your wizard is a hero (<code class="literal">class Wizard &lt; Hero</code>), and wizards use magic in their <code class="literal">attack</code> method instead of the game’s default <code class="literal">sword</code>.</p>&#13;
&#13;
      <p>You can override a method like so:</p><a id="pro_id00303"/>&#13;
      <pre class="programlisting">&#13;
class Hero&#13;
  def initialize(name)&#13;
    @name = name&#13;
  end&#13;
&#13;
  def attack&#13;
    puts "Swung sword for #{rand(5)} damage!"&#13;
  end&#13;
end&#13;
&#13;
class Wizard &lt; Hero&#13;
  def attack&#13;
    puts "Cast spell for #{rand(20)} damage!"&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p><a class="indexterm" id="iddle1854"/>We can see this in the following example: the hero’s pretty good with a sword, but the wizard knows how to cast spells!</p><a id="pro_id00304"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">aragorn = Hero.new('Aragorn')</span></strong></span>&#13;
=&gt; #&lt;Hero:0x0000010334e398 @name="Aragorn"&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">aragorn.attack</span></strong></span>&#13;
Swung sword for 4 damage!&#13;
=&gt; nil&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">gandalf = Wizard.new('Gandalf')</span></strong></span>&#13;
=&gt; #&lt;Wizard:0x000001033627f8 @name="Gandalf"&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">gandalf.attack</span></strong></span>&#13;
Cast spell for 17 damage!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
      <p>If we want to change only <span class="emphasis"><em>part</em></span> of a method, we use <code class="literal">super</code>; we add whatever extra functionality we want, then call <code class="literal">super</code> to call the superclass’s version of the method, like so:</p><a id="pro_id00305"/>&#13;
      <pre class="programlisting">&#13;
class Wizard &lt; Hero&#13;
  def attack&#13;
    super # This calls Hero's attack method&#13;
    puts 'But I also know magic! You shall not pass!'&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p>The <code class="literal">attack</code> method is doing two things. First, it calls the superclass’s version of <code class="literal">attack</code> using <code class="literal">super</code> (that is, the <code class="literal">attack</code> defined in <code class="literal">Hero</code> that just prints the <code class="literal">Swung sword</code> message). Then it prints an additional message (<code class="literal">But I also know magic! You shall not pass!</code>). You’d do this when you want to modify the behavior of the superclass’s method, but not replace it completely.</p><a id="pro_id00306"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">gandalf = Wizard.new('Gandalf')</span></strong></span>&#13;
=&gt; #&lt;Wizard:0x000001032d4278 @name="Gandalf"&gt;&#13;
&#13;
&gt;&gt; <span class="strong"><strong><span class="red">gandalf.attack</span></strong></span>&#13;
Swung sword for 2 damage!&#13;
But I also know magic! You shall not pass!&#13;
=&gt; nil&#13;
</pre>&#13;
&#13;
      <p><a class="indexterm" id="iddle1858"/>Last but not least, you saw that you can call <code class="literal">super</code> with arguments in order to send the right arguments to the superclass’s method:</p><a id="pro_id00307"/>&#13;
      <pre class="programlisting">&#13;
class Dog&#13;
  attr_accessor :name&#13;
&#13;
  def initialize(name)&#13;
    @name = name&#13;
  end&#13;
end&#13;
&#13;
  class GuardDog &lt; Dog&#13;
  attr_reader :strength&#13;
&#13;
  def initialize(name, strength)&#13;
    @strength = strength&#13;
    super(name)&#13;
  end&#13;
end&#13;
</pre>&#13;
&#13;
      <p>Now when we create a <code class="literal">GuardDog</code>, it adds its own <code class="literal">@strength</code> and lets <code class="literal">Dog</code> take care of adding the <code class="literal">@name</code>:</p><a id="pro_id00308"/>&#13;
      <pre class="programlisting">&#13;
&gt;&gt; <span class="strong"><strong><span class="red">mook = GuardDog.new('Mook', 2)</span></strong></span>&#13;
=&gt; #&lt;GuardDog:0x00000102fcfca8 @strength=2, @name="Mook"&gt;&#13;
&gt;&gt; <span class="strong"><strong><span class="red">mook.name</span></strong></span>&#13;
=&gt; "Mook"&#13;
&gt;&gt; <span class="strong"><strong><span class="red">mook.strength</span></strong></span>&#13;
=&gt; 2&#13;
</pre>&#13;
&#13;
      <p>All right! At this point, you’re a class master. Well, <span class="emphasis"><em>almost</em></span>—just as there are ways to update and change your methods, there are ways to update and change your classes; you can even mix behaviors from a bunch of different classes into the Ruby classes you create! The last piece of the Ruby class puzzle is <span class="emphasis"><em>modules</em></span>, and if we hurry, we can get down to the Royal Stables just in time to learn all about them.</p>&#13;
    </div>&#13;
  </div>&#13;
</body></html>