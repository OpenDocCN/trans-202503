- en: '**12**'
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**2D TRANSFORMATIONS**'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/common-01.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
- en: Because of the way HTML works, with each element composed of rectangular blocks
    and right-angled corners, web pages have traditionally appeared boxy, with lots
    of straight horizontal and vertical lines, and the only way to provide any variation
    to this rule was to use images. But back in 2008, the WebKit team proposed a new
    module that allows elements to be rotated, scaled, skewed, and generally messed
    around with. This module was adopted for standardization by the W3C and formalized
    as the 2D Transformations Module (*[http://www.w3.org/TR/css3-2d-transforms/](http://www.w3.org/TR/css3-2d-transforms/)*).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Much of the process for transforming elements was adapted from functions in
    the *Scalable Vector Graphics (SVG)* language, which is used for drawing two-dimensional
    vector images. SVG is supported by most modern browsers, so Firefox and Opera
    were quick to implement 2D Transformations in their own products, and IE9 followed
    along shortly.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: The transformation properties for CSS and SVG were so similar, in fact, that
    the W3C decided to merge them into a single common specification, CSS Transforms
    (*[http://dev.w3.org/csswg/css-transforms/](http://dev.w3.org/csswg/css-transforms/)*),
    which is where work on the module continues today. The long and the short of this
    story is that, although the CSS Transforms module is still only a Working Draft,
    the properties within it are well implemented, and you can start using these new
    features right away.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: 'One thing to note before I introduce the syntax: By the end of this chapter,
    I’ll have introduced some fairly complex functions, so you might want to brush
    up on your trigonometry. Are you nervous? Don’t worry; I’ll make it as painless
    as possible.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: '**The transform Property**'
  id: totrans-7
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'A range of different transformations can be applied, but all are declared as
    functions in the `transform` property. Here’s the basic syntax:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: A number of possible functions are available; I’ll explore each in turn throughout
    the rest of this chapter. Each function takes either a single value or a comma-separated
    list of values. I’ll also explain what this means when I discuss each function
    individually.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: 'You can apply multiple transformations to a single element by simply listing
    functions, space-separated, in the `transform` property:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You need to be aware of one very important caveat when using the `transform`
    property, but before I talk about that, I need to introduce the various functions.
    I urge you, however, to not skip “[An Important Note About Transformation Functions](ch12.html#ch12leve1sec146)”
    on [page 144](ch12.html#page_144).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: '***rotate***'
  id: totrans-14
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Probably the simplest of all the functions is `rotate()`, which does what it
    sounds like it should do: It rotates the element around a set point. Here’s the
    syntax:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-16
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: The `*value*` here is a single angle value, just like you used with the CSS
    gradients introduced in [Chapter 11](ch11.html#ch11). And, as in that chapter,
    I’m sticking with the commonly understood degrees (`deg`) unit for my examples.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: 'To show you `rotate()` in action, I’ll rotate an `h2` element by −15 degrees
    (or 345 degrees) using this rule:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-19
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '**BROWSER SUPPORT FOR 2D TRANSFORMATIONS**'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: 'As I mentioned in the beginning of the chapter, browser support for 2D transforms
    is pretty widespread, although not all browsers support the `transform` property
    without a vendor prefix. IE9, Safari, and older versions of the Android browser
    all require a prefix, which means that to use this property currently, you have
    to specify it three times:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: You can see how this example displays in [Figure 12-1](ch12.html#ch12fig1).
    Note that I positioned another `h2` element with a light gray background in the
    same place as the first one so you can compare the rotated element with the default
    (nonrotated) element. I’ll do the same for most examples in this chapter.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/f12-01.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
- en: '*Figure 12-1: An element rotated by −15 degrees*'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '**Position in Document Flow**'
  id: totrans-26
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'An important point to make before I move on: Transformed elements only affect
    visual rendering of the page, not document layout. The element itself retains
    its place in the document flow, so all subsequent elements are affected by it
    and its margin and padding. The transformed element does not affect the page layout
    but appears as if it were in a new layer above the rest of the page, which means
    it can cover subsequent elements.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'To illustrate what I mean, I’ll rotate another element, but this time flow
    some text under it so you can see the effect of the transformation. Here’s the
    code to rotate the element:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[Figure 12-2](ch12.html#ch12fig2) shows the results of this transformation,
    along with an untransformed reference. Both examples are identical, but for the
    applied `rotate()` function. You can clearly see the rotated element covers the
    text under it, which immediately follows the non-transformed element in the layout.
    This same rule applies to any element that has the `transform` property applied
    to it, so be aware of this going forward.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/f12-02.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
- en: '*Figure 12-2: The effect of a transformed element on the document flow*'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '**transform-origin**'
  id: totrans-33
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: The *origin* of a transformation is the point on an element about which that
    transformation happens. This concept is easiest to illustrate using `rotate()`,
    although you can apply it to any of the transformation functions introduced throughout
    the rest of this chapter.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: In the case of `rotate()`, you can visualize the origin by imagining you have
    a piece of paper (the element) and a pin (the origin of that element). If you
    use the pin to stick the paper to a flat surface, you can rotate the paper around
    the pin. By sticking the pin in different places on the paper, you can change
    how the rotation happens—if the pin is stuck in the center of the paper, the rotation
    has a short radius, and the paper on either side of the pin moves equally; if
    the pin is placed at one edge, the whole length of the paper rotates around it.
    [Figure 12-3](ch12.html#ch12fig3) illustrates how this might look.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 对于`rotate()`，你可以通过想象你有一张纸（元素）和一个针（元素的原点）来直观地理解原点。如果你用针把纸固定在一个平面上，你就可以围绕针旋转纸张。通过将针固定在纸上的不同位置，你可以改变旋转的方式——如果针固定在纸的中心，旋转半径较短，纸张两侧的移动相等；如果针固定在纸的边缘，整个纸张会围绕针旋转。[图12-3](ch12.html#ch12fig3)展示了这种情况。
- en: '![Image](graphics/f12-03.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![Image](graphics/f12-03.jpg)'
- en: '*Figure 12-3: Rotating a sheet of paper around a pin: Moving the pin changes
    the point of rotation.*'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '*图12-3：围绕针旋转纸张：移动针的位置会改变旋转点。*'
- en: 'The default point of origin in the CSS `transform` property is the element’s
    horizontal and vertical center. You can change this using the `transform-origin`
    property:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: CSS `transform`属性的默认原点是元素的水平和垂直中心。你可以通过`transform-origin`属性来更改它：
- en: '[PRE6]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: The `*value*` for this property is either one or two length, percentage, or
    keyword values. Lengths can be any accepted CSS unit (em, px, and so on). The
    keywords are `left`, `right`, `top`, `bottom`, and `center`. If two values are
    supplied, the first sets the horizontal point and the second sets the vertical;
    if only one is supplied, that point sets the horizontal, with the vertical presumed
    to be `center` (or 50 percent).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 此属性的`*value*`可以是一个或两个长度、百分比或关键字值。长度可以是任何接受的CSS单位（em、px等）。关键字有`left`、`right`、`top`、`bottom`和`center`。如果提供两个值，第一个设置水平点，第二个设置垂直点；如果只提供一个值，该点设置为水平点，垂直点默认为`center`（或50%）。
- en: 'So if you want to change the point of origin to the top-left corner, you can
    use either of the following:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，如果你想将原点更改为左上角，可以使用以下任意值：
- en: '[PRE7]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'And if you want the point of origin to be the bottom-right corner, you can
    use these values (let’s say the element has a `height` of 50px and a width of
    200px):'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想将原点设置为右下角，可以使用这些值（假设元素的`height`为50px，宽度为200px）：
- en: '[PRE8]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Let me demonstrate the effects of changing the origin of transformation. This
    example shows three identical elements with the same `transform` property applied
    to each but with a different `transform-origin` value:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 让我展示一下改变变换原点的效果。这个例子展示了三个相同的元素，每个元素都有相同的`transform`属性，但`transform-origin`值不同：
- en: '[PRE9]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: You can see the effects on the three examples in [Figure 12-4](ch12.html#ch12fig4).
    The first example uses the default values (`center center`), so the element rotates
    around the absolute center. The second example uses values of `left center`, so
    the element rotates around the vertical center of the left-hand side. And the
    third example uses values of `100% 50%`, so the element rotates around the vertical
    center of the right-hand side.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[图12-4](ch12.html#ch12fig4)中看到这三种例子的效果。第一个例子使用默认值（`center center`），因此元素围绕绝对中心旋转。第二个例子使用`left
    center`的值，因此元素围绕左侧的垂直中心旋转。第三个例子使用`100% 50%`的值，因此元素围绕右侧的垂直中心旋转。
- en: '![Image](graphics/f12-04.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![Image](graphics/f12-04.jpg)'
- en: '*Figure 12-4: Different* `*transform-origin*` *values on a rotated element*'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*图12-4：不同的* `*transform-origin*` *值对旋转元素的影响*'
- en: '***translate***'
  id: totrans-50
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***translate***'
- en: 'The next function we’ll look at is `translate`, which moves the element from
    its default position along the horizontal or vertical axes (if you need a refresher,
    refer to “[Understanding Axes and Coordinates](ch06.html#ch06leve1sec69)” on [page
    64](ch06.html#page_64)). Movement along the horizontal axis is controlled with
    the `translateX()` function and along the vertical axis with `translateY()`:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们要讲解的函数是`translate`，它将元素从默认位置沿水平或垂直轴移动（如果你需要复习，请参考[第6章“理解轴和坐标”](ch06.html#ch06leve1sec69)，[第64页](ch06.html#page_64)）。沿水平轴的移动由`translateX()`函数控制，沿垂直轴的移动由`translateY()`函数控制：
- en: '[PRE10]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Each of these two functions, `translateX()` and `translateY()`, moves the element
    along the appropriate axis for the length that you specify. You can use any length
    units or percentage values here, so, for example, you could have:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个函数`translateX()`和`translateY()`分别沿着指定的轴移动元素，并且根据你指定的长度进行移动。你可以在这里使用任何长度单位或百分比值，例如，你可以使用：
- en: '[PRE11]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This code moves the element 20px to the right (along the *x*-axis) and 15 percent
    of its own height down (along the *y*-axis). You can see this result in [Figure
    12-5](ch12.html#ch12fig5).
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这段代码将元素向右移动20px（沿* x *轴）并将其自身高度的15%向下移动（沿* y *轴）。你可以在[图12-5](ch12.html#ch12fig5)中看到这个结果。
- en: '![Image](graphics/f12-05.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![Image](graphics/f12-05.jpg)'
- en: '*Figure 12-5: An element positively translated along both axes*'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '*图12-5：元素沿两个轴正向平移*'
- en: You can also use negative values in the `translate` functions, which moves the
    element in the opposite direction along the axis—that is, up or to the left.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以在`translate`函数中使用负值，这会使元素沿着轴的相反方向移动——也就是说，向上或向左。
- en: '**NOTE**'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**'
- en: '*You might think translating elements seems similar to using relative positioning
    and the* `*left*` *and* `*top*` *properties, but remember that the transformed
    element retains its position in the document flow and only* appears *to have moved;
    the visual rendering of the element is transformed, not the element itself.*'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '*你可能认为平移元素与使用相对定位以及`*left*`和`*top*`属性类似，但请记住，转换后的元素仍然保留在文档流中，只是*看起来*像是移动了；元素的视觉渲染被转换了，而不是元素本身。*'
- en: '**The translate() Shorthand Function**'
  id: totrans-61
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**translate()简写函数**'
- en: 'A more convenient way to move elements along both axes like this is to use
    the shorthand function, `translate()`. This function accepts up to two values
    in a comma-separated list:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 更方便地沿两个轴移动元素的方法是使用简写函数`translate()`。该函数接受一个以逗号分隔的最多两个值：
- en: '[PRE12]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'That being the case, you could replicate the transformation shown in [Figure
    12-5](ch12.html#ch12fig5) using the shorthand function with two arguments:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于此，你可以使用简写函数和两个参数来复制[图12-5](ch12.html#ch12fig5)中所示的转换：
- en: '[PRE13]'
  id: totrans-65
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'And you are allowed to use only one value with the `translate()` shorthand:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以只使用一个值来使用`translate()`简写：
- en: '[PRE14]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'In this case, the value provided is presumed to be the `translateX()` value,
    and a value of `0` (zero) is used for `translateY()`. So both of the following
    declarations are equivalent:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，提供的值被认为是`translateX()`的值，而`translateY()`则使用`0`（零）。因此，以下两种声明是等价的：
- en: '[PRE15]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: '**Using the translate() Function**'
  id: totrans-70
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: '**使用translate()函数**'
- en: 'To illustrate how the `translate()` shorthand function works, here are two
    more examples:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 为了说明`translate()`简写函数的工作原理，下面是两个示例：
- en: '[PRE16]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: You can see the results of this code displayed in [Figure 12-6](ch12.html#ch12fig6),
    again with elements in a lighter gray showing the original position.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在[图12-6](ch12.html#ch12fig6)中看到这段代码的结果，元素以浅灰色显示，表示原始位置。
- en: '![Image](graphics/f12-06.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![Image](graphics/f12-06.jpg)'
- en: '*Figure 12-6: Elements showing effects of different values in the* `*translate()*`
    *function*'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '*图12-6：元素显示`*translate()*`函数不同值的效果*'
- en: In the first example, the `translate()` function has an initial argument of
    −20px and a second of 20px, so the element is translated 20px negatively on the
    horizontal axis (to the left) and 20px positively on the vertical axis (to the
    bottom). The second example has the opposite arguments, so the element is moved
    positively on the horizontal axis (to the right) and negatively on the vertical
    axis (to the top).
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一个示例中，`translate()`函数的第一个参数是−20px，第二个参数是20px，因此元素在水平方向上负向平移20px（向左），在垂直方向上正向平移20px（向下）。第二个示例的参数相反，因此元素在水平方向上正向平移（向右），在垂直方向上负向平移（向上）。
- en: '***scale***'
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: '***缩放***'
- en: 'You can make an element larger or smaller than the original by using `scale`
    functions. As with the `translate` functions, each of the horizontal and vertical
    values has a function, called `scaleX()` and `scaleY()`, respectively:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用`scale`函数将元素的大小调整为比原始尺寸更大或更小。与`translate`函数一样，水平方向和垂直方向各自有一个函数，分别称为`scaleX()`和`scaleY()`：
- en: '[PRE17]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The `value`s for `scaleX()` and `scaleY()` are unitless numbers, which give
    a size ratio. The default size is 1; twice the default is 2, half the default
    is 0.5, and so on. You can also use negative numbers—I’ll explain the effect of
    negative numbers shortly.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '`scaleX()`和`scaleY()`的`value`是无单位的数字，表示大小比率。默认大小为1；两倍于默认值为2，默认值的一半为0.5，依此类推。你还可以使用负数——我将很快解释负数的效果。'
- en: 'To double an element’s original size on both axes, you use:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE18]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'A shorthand function, `scale()`, is also available. Note, however, that unlike
    the `translate()` shorthand function, if only one value is provided, the other
    is presumed to be identical. Using the previous example, you could opt instead
    for the shorthand:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE19]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'I’ll demonstrate `scale` in action with a few examples. Here’s the code:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: The results are shown in [Figure 12-7](ch12.html#ch12fig7). The first example
    has a `scale` value of 0.5, so the transformed element is half the size of the
    original—remember I specified only one value in the shorthand, so the other is
    presumed to be equal. In the second example, I used 0.5 as a value but this time
    for the `scaleX()` function, meaning the transformed element is the same height
    as the original but only half the width.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/f12-07.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
- en: '*Figure 12-7: The effects of different values in the* `*scale*` *function*'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
- en: 'In the final example, I supplied two values to the `scale()` shorthand: The
    first is `1` (one), which sets the horizontal size to be the same as the original,
    but the second is `–1` (negative one). Using a negative value has the effect of
    flipping the element vertically, creating a “reflection” of the original element
    at the same scale.'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: '***skew***'
  id: totrans-91
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: To *skew* an element is to alter the angle of its horizontal or vertical axis
    (or both axes). As with `translate()` and `scale()`, each axis has an individual
    function—this time called `skewX()` and `skewY()`.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE21]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The arguments for the `skew` functions are angle values; I use degrees in my
    examples. Negative values are permitted. I’ll give you three demonstrations, using
    this code, to show you how they work:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE22]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The results are illustrated in [Figure 12-8](ch12.html#ch12fig8).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/f12-08.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
- en: '*Figure 12-8: Elements transformed by different values in the* `*skew*` *function*'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: 'In the first example, the element is skewed by 15 degrees along its *x*-axis,
    causing the vertical edges to slope diagonally. In the second example, the skew
    is by 5 degrees on the *y*-axis, so the horizontal edges slope diagonally whereas
    the vertical edges remain unchanged. The final example shows the effect of two
    values being applied: 15 degrees on the *x*-axis and −15 degrees on the *y*-axis,
    so the element is sloped on both axes.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '**Rotating with skew**'
  id: totrans-100
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'By looking at the last example in the previous code block, you can see it’s
    possible to replicate the `rotate()` function using `skew`. To do this, the angle
    that you want to rotate the element by is given as a value to `skewX()` and the
    inverse value to `skewY()`; that is, if `skewX()` is 15 degrees, then `skewY()`
    should be −15 degrees, and vice versa. Therefore, the two functions in this code
    example perform the same job:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE23]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: You’ll find this information useful when I introduce the `matrix()` function
    later in this chapter.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: '**The skew() Shorthand Function**'
  id: totrans-104
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
- en: 'The CSS Transforms module and various online sources also list a shorthand
    `skew()` function that accepts the two individual `skew` functions as values (in
    the same way that `translate()` accepts the `translate` functions):'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE24]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: I highly recommend, however, you don’t use this function, as for some arcane
    mathematical reasons, which I don’t understand, it’s considered redundant. It’s
    only defined for legacy purposes; the shorthand function was implemented in some
    older browsers before the redundancy was noticed. If you require skew on both
    axes, use `skewX()` and `skewY()` instead.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '**An Important Note About Transformation Functions**'
  id: totrans-108
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'When you set the value of the `transform` property, any functions that you
    don’t list will be presumed to be reset to their default values. To see what I
    mean, take a look at this CSS snippet where a rule is applied to a `div` selector
    to rotate and scale it and another to a `*.foo*` selector to rotate it with a
    different value argument:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE25]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'If these rules were applied to a `div` with a class of `.*foo*`, the element
    would be only rotated by 10 degrees and not scaled; as the `scale()` function
    is not specified, its value argument is treated as the default, `0deg`. To apply
    both properties, you have to update the code to include the `scale()` function
    in the rule applied to `*.foo*`:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE26]'
  id: totrans-112
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: '**Transforming Elements with Matrices**'
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Each of the transformation functions used in this chapter so far can also be
    expressed as a *transformation matrix*. Rather than explaining the theory behind
    transformation matrices (which is quite complex and could easily be a chapter
    of its own), I’ll just show you how they can be applied to elements in CSS through
    use of the `matrix()` function.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: I’ll keep the explanation as simple as possible and just give you the practical
    basics. If you really want to dig into the theory, I suggest you read the W3C’s
    explanation in the SVG 1.1 module (*[http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined/](http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined/)*).
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
- en: 'The 2D transformation matrices, and the `matrix()` function, accept six values,
    the combination of which can be used to create the functions introduced already
    in this chapter. Here’s the syntax:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE27]'
  id: totrans-117
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: All of the default values are 0 (zero), and they behave slightly differently
    depending on which values are supplied—I’ll explain what this means as I go along.
    I said that you can perform all of the functions introduced so far in this chapter
    with `matrix()`, but the process is not quite that simple—you need to know some
    trigonometry first.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: 'Before getting to the hard stuff, I’ll start with something simple that doesn’t
    require any trig: scaling. If you want to scale an element, you can use `*a*`
    and `*d*` to equate to `scaleX()` and `scaleY()` and set values accordingly, leaving
    `*b*` and `*c*` at 0\. Therefore, to double an element’s size, you use:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE28]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'You can also translate an element with `matrix()` by providing horizontal and
    vertical offset values to `*X*` and `*Y*` (respectively). These values are unitless
    numbers, which represent pixel values (on HTML elements, anyway; in SVG, they
    are vector point values). That being the case, to double an element’s size and
    offset it by 15px both vertically and horizontally, you use this code:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE29]'
  id: totrans-122
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'If you want to skew an element using `matrix()`, well, this is where it becomes
    a lot more complex—here’s where I need to introduce the trigonometric functions.
    You can read a full explanation of these functions on Wikipedia (*[http://en.wikipedia.org/wiki/Trigonometric_functions#Sine.2C_cosine_and_tangent/](http://en.wikipedia.org/wiki/Trigonometric_functions#Sine.2C_cosine_and_tangent/)*),
    but the following is a quick and dirty summary: The trigonometric functions are
    ratio values used to calculate angles in a triangle.'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
- en: 'The first trigonometric function I’ll use is *tan (tangent)*, which is required
    to skew an element along the *x*- or *y*-axis. Referring to the original `matrix`
    syntax, the *x*-axis is supplied as a value to `*b*` and the *y* as a value to
    `*c*`. Here’s the syntax for each:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE30]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'The `*angle*` refers to the degrees (counterclockwise) of the angle you want
    to skew by. If you want to skew an element by 15 degrees, the value you’re looking
    for is the tangent of 15\. So whip out your scientific calculator—if you don’t
    own one, your operating system’s calculator should have a scientific mode—and
    get the result that `tan(15) = 0.27`. This result is what you provide to the `matrix`
    function. For example, if you want the skew to be along the *x*-axis, you use
    this syntax:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE31]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '**NOTE** *As I’m using degrees in my examples, make sure your calculator’s
    trigonometric type is set to* degrees *if you want to follow along. If you prefer
    working in gradians or radians, you can update all of these examples accordingly.*'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
- en: 'As mentioned, skew functions can also be used to rotate an element—and you
    can do the same with `matrix()`. This time you have to make use of the *sin (sine)*
    and *cos (cosine)* trigonometric functions. To rotate an element, the `matrix()`
    syntax is:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE32]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Note that `*a*` and `*d*` take the same value, and `*b*` and `*c*` take inverse
    values (if `*b*` is a positive value, `*c*` is the negative of the same value,
    and vice versa). Once again, `*angle*` refers to the degrees of the angle you
    want to rotate the element by. To rotate by 60 degrees, you go back to your scientific
    calculator and calculate the cos and sin of 60\. My calculator tells me that `cos(60)
    = 0.5` and `sin(60) = 0.87`, so the required code is
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Now let’s look at a few examples. Here’s the code I’ll use:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: The output is shown in [Figure 12-9](ch12.html#ch12fig9).
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: '![Image](graphics/f12-09.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
- en: '*Figure 12-9: Examples of transformations made with the* `*matrix*` *function*'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: 'In the first example, I’ve flipped the element vertically, as I did earlier
    using `scale()` in [Figure 12-7](ch12.html#ch12fig7). In the next example, I’ve
    skewed the element by 15 degrees along the *y*-axis (after calculating that `tan(15)
    = 0.268`) and translated it along both axes. The final example shows the element
    rotated by 10 degrees; the values are the results of the calculations I showed
    you previously: `cos(10) = 0.98` and `sin(10) = 0.17`. As mentioned, the `sin`
    value is negative in position `*b*` and positive in position `*c*`, which makes
    the rotation uniform.'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: I know this is all quite complex, but hopefully I’ve simplified it enough for
    you to understand, without making it seem so easy you can’t see the scope for
    great flexibility—as long as you keep your scientific calculator with you at all
    times! And if this does seem overly complex, and you’re having trouble understanding
    it, remember you can perform all of these transformations using the individual
    functions, so you can happily forget about `matrix` and trigonometry, too, if
    you wish.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: '**Summary**'
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'This chapter has introduced the most complex property so far: the `matrix()`
    function. Although some might be tempted to say that if you want to perform complex
    operations, you have to deal with complex syntax, I think the other functions
    in this chapter do a good job of translating that complexity into something simple.
    Just remember, easier options are always available if you get fed up with `matrix()`.'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: This chapter has also introduced some of the most revolutionary properties so
    far—just a few years ago the notion that you could rotate, skew, and scale elements
    was just a pipe dream, but today you can do just that. And if you think what you’ve
    seen in this chapter is impressive, wait until the next one. I’m going to show
    you how to add an extra dimension—literally—to your transformation effects.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: '**2D Transformations: Browser Support**'
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '|  | **Chrome** | **Firefox** | **Safari** | **IE** |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
- en: '| 2D transformations | Yes | Yes | Yes^([*](ch12.html#footnote28a)) | IE9[*](ch12.html#footnote28a),
    IE10 |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
- en: '[*](ch12.html#footnote_28a) With vendor prefix'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
