<html><head></head><body><div class="appendix" title="Appendix&#xA0;C.&#xA0;Building Your Own Modules"><div class="titlepage"><div><div><h1 class="title"><a id="building_your_own_modules"/>Appendix C. Building Your Own Modules</h1></div></div></div><p>Throughout this book, you’ve imported modules like <code class="literal">turtle</code>, <code class="literal">random</code>, and <code class="literal">pygame</code> into your programs to add functions for drawing, generating a random number, and animating graphics without having to code them from scratch. But did you know that you can also write your own modules and import them into your programs? Python makes it easy to build modules so you can save useful code and use it in many programs.</p><p><a id="iddle1190" class="indexterm"/><a id="iddle1565" class="indexterm"/>To create a reusable module, we write the module in IDLE’s file editor window just like other program files we’ve built, and we save it as a new <span class="emphasis"><em>.py</em></span> file with the name of the module as the filename (for example, <span class="emphasis"><em>colorspiral.py</em></span> might be the filename for a module that draws color spirals). We define functions and variables in our module. Then, to reuse them in another program, we import the module into the program by typing <code class="literal">import</code> and the name of the module (for example, <code class="literal">import colorspiral</code> would let a program use the code in <span class="emphasis"><em>colorspiral.py</em></span> to draw color spirals).</p><p>To practice writing our own module, let’s create an actual <code class="literal">colorspiral</code> module and see how it saves us from having to rewrite code.</p><div class="sect1" title="Building the colorspiral Module"><div class="titlepage"><div><div><h1 class="title"><a id="building_the_colorspiral_module"/>Building the colorspiral Module</h1></div></div></div><p>Let’s create a <code class="literal">colorspiral</code> module to help us draw spirals quickly and easily in our programs just by calling <code class="literal">import colorspiral</code>. Type the following code into a new IDLE window and save it as <span class="emphasis"><em>colorspiral.py</em></span>.</p><div class="sect2" title="colorspiral.py"><div class="titlepage"><div><div><h2 class="title"><a id="colorspiraldotpy-id00044"/>colorspiral.py</h2></div></div></div><a id="pro_id00200"/><pre class="programlisting">➊ <span class="green">"""A module for drawing colorful spirals of up to 6 sides"""</span>
   <span class="orange">import</span> turtle
➋ <span class="orange">def</span> <span class="blue">cspiral</span>(sides=6, size=360, x=0, y=0):
➌     <span class="green">"""Draws a colorful spiral on a black background.</span>

       <span class="green">Arguments:</span>
       <span class="green">sides -- the number of sides in the spiral (default 6)</span>
       <span class="green">size -- the length of the last side (default 360)</span>
       <span class="green">x, y -- the location of the spiral, from the center of the screen</span>
       <span class="green">"""</span>
       t=turtle.Pen()
       t.speed(0)
       t.penup()
       t.setpos(x,y)
       t.pendown()
       turtle.bgcolor(<span class="green">"black"</span>)
       colors=[<span class="green">"red"</span>, <span class="green">"yellow"</span>, <span class="green">"blue"</span>, <span class="green">"orange"</span>, <span class="green">"green"</span>, <span class="green">"purple"</span>]
       <span class="orange">for</span> n <span class="orange">in</span> <span class="violet">range</span>(size):
           t.pencolor(colors[n%sides])
           t.forward(n * 3/sides + n)
           t.left(360/sides + 1)
           t.width(n*sides/100)</pre><p><a id="iddle1192" class="indexterm"/><a id="iddle1205" class="indexterm"/><a id="iddle1238" class="indexterm"/><a id="iddle1249" class="indexterm"/><a id="iddle1568" class="indexterm"/><a id="iddle1584" class="indexterm"/>This module imports the <code class="literal">turtle</code> module and defines a function called <code class="literal">cspiral()</code> for drawing colorful spirals of different shapes, sizes, and locations. Let’s look at differences between this module and the other programs we’ve written. First, at ➊, we have a special comment called a <span class="emphasis"><em>docstring</em></span>. A docstring is a way of adding documentation to files that we intend to reuse or share with others; in Python, modules should have docstrings to help future users understand what the module does. The docstring will always be the first statement in a module or function, and each docstring starts and ends with <span class="emphasis"><em>triple double quotes</em></span> (<code class="literal">"""</code>, three double quotes in a row with no spaces in between). After the docstring, we import the <code class="literal">turtle</code> module—yes, we can import modules into our modules!</p><p>At ➋, we define a function called <code class="literal">cspiral()</code> that accepts up to four arguments—<code class="literal">sides</code>, <code class="literal">size</code>, <code class="literal">x</code>, and <code class="literal">y</code>—for the number of sides in the spiral, the size of the spiral, and the (<span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>) location of the spiral starting from the center of the turtle screen. A docstring for the <code class="literal">cspiral()</code> function begins at ➌; this multiline docstring provides more specific information about the function. The first line of the docstring begins with triple double quotes and describes the function overall. Next we leave a blank line, followed by a list of the arguments accepted by the function. With this documentation, a future user can easily read which arguments are accepted by the function and what each one means. The rest of the function is the code to draw a colorful spiral, similar to code from <a class="xref" href="ch02.html" title="Chapter 2. Turtle Graphics: Drawing with Python">Chapter 2</a>, <a class="xref" href="ch04.html" title="Chapter 4. Loops Are Fun (You Can Say That Again)">Chapter 4</a>, and <a class="xref" href="ch07.html" title="Chapter 7. Functions: There’s a Name for That">Chapter 7</a>.</p></div><div class="sect2" title="Using The Colorspiral Module"><div class="titlepage"><div><div><h2 class="title"><a id="using_the_colorspiral_module"/>Using The Colorspiral Module</h2></div></div></div><p>Once we’ve completed <span class="emphasis"><em>colorspiral.py</em></span> and saved it, we can use it as a module by importing it into another program. Create a new file in IDLE and save it as <span class="emphasis"><em>MultiSpiral.py</em></span> in the same folder as <span class="emphasis"><em>colorspiral.py</em></span>.</p></div><div class="sect2" title="MultiSpiral.py"><div class="titlepage"><div><div><h2 class="title"><a id="multispiraldotpy"/>MultiSpiral.py</h2></div></div></div><a id="pro_id00201"/><pre class="programlisting"><span class="orange">import</span> colorspiral
colorspiral.cspiral(5,50)
colorspiral.cspiral(4,50,100,100)</pre><p>This three-line program imports the <code class="literal">colorspiral</code> module we created and uses the module’s <code class="literal">cspiral()</code> function to draw two spirals on the screen, as shown in <a class="xref" href="apc.html#two_colorful_spirals_created_with_a_thre" title="Figure C-1. Two colorful spirals created with a three-line program, thanks to the colorspiral.py module">Figure C-1</a>.</p><div class="figure"><a id="two_colorful_spirals_created_with_a_thre"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00183"/><img src="httpatomoreillycomsourcenostarchimages2189137.png.jpg" alt="Two colorful spirals created with a three-line program, thanks to the colorspiral.py module"/></div></div><p class="title">Figure C-1. Two colorful spirals created with a three-line program, thanks to the <span class="emphasis"><em>colorspiral.py</em></span> module</p></div><p><a id="iddle1191" class="indexterm"/><a id="iddle1567" class="indexterm"/><a id="iddle1585" class="indexterm"/><a id="iddle1809" class="indexterm"/><a id="iddle1948" class="indexterm"/>With the <code class="literal">colorspiral</code> module, anytime a programmer wants to create colorful spirals, all they have to do is import the module and call <code class="literal">colorspiral.cspiral()</code>!</p></div><div class="sect2" title="Reusing the Colorspiral Module"><div class="titlepage"><div><div><h2 class="title"><a id="reusing_the_colorspiral_module"/>Reusing the Colorspiral Module</h2></div></div></div><p>Let’s reuse the <code class="literal">colorspiral</code> module to draw 30 random, colorful spirals. To do that, we’ll import another module we’ve used before, <code class="literal">random</code>. Type the following eight lines of code into a new file in IDLE and save the file as <span class="emphasis"><em>SuperSpiral.py</em></span>.</p></div><div class="sect2" title="SuperSpiral.py"><div class="titlepage"><div><div><h2 class="title"><a id="superspiraldotpy"/>SuperSpiral.py</h2></div></div></div><a id="pro_id00202"/><pre class="programlisting"><span class="orange">import</span> colorspiral
<span class="orange">import</span> random
<span class="orange">for</span> n <span class="orange">in</span> <span class="violet">range</span>(30):
    sides = random.randint(3,6)
    size = random.randint(25,75)
    x = random.randint(-300,300)
    y = random.randint(-300,300)
    colorspiral.cspiral(sides, size, x, y)</pre><p>This program begins with two <code class="literal">import</code> statements: one for the <code class="literal">colorspiral</code> module we created and the other for the <code class="literal">random</code> module we’ve used throughout the book. The <code class="literal">for</code> loop will run 30 times. The loop generates four random values for the number of sides <a id="iddle1949" class="indexterm"/>(between 3 and 6), the size of the spiral (between 25 and 75), and the x- and y-coordinates to draw the spiral on the screen, between (–300, –300) and (300, 300). (Remember that the turtle’s origin, (0, 0), is at the center of the drawing screen.) Finally, each pass through the loop calls the <code class="literal">colorspiral.cspiral()</code> function from our module, drawing a colorful spiral with the randomly generated attributes from the loop.</p><p>Although this program is only eight lines long, it produces stunning graphics like <a class="xref" href="apc.html#colorspiral_module_allows_superspiraldot" title="Figure C-2. The colorspiral module allows SuperSpiral.py to produce a lovely multispiral collage with only eight lines of code.">Figure C-2</a>.</p><div class="figure"><a id="colorspiral_module_allows_superspiraldot"/><div class="figure-contents"><div class="mediaobject"><a id="med_id00184"/><img src="httpatomoreillycomsourcenostarchimages2189139.png.jpg" alt="The colorspiral module allows SuperSpiral.py to produce a lovely multispiral collage with only eight lines of code."/></div></div><p class="title">Figure C-2. The <code class="literal">colorspiral</code> module allows <span class="emphasis"><em>SuperSpiral.py</em></span> to produce a lovely multispiral collage with only eight lines of code.</p></div><p>The ability to create reusable modules means that you can spend more time solving new problems and less time recoding previous solutions. Whenever you build a useful function or set of functions that you want to use over and over, you can create a module to use for yourself or share with fellow coders.</p></div></div><div class="sect1" title="Additional Resources"><div class="titlepage"><div><div><h1 class="title"><a id="additional_resources"/>Additional Resources</h1></div></div></div><p><a id="iddle1722" class="indexterm"/>The official documentation for Python at <span class="emphasis"><em><a class="ulink" href="http://docs.python.org/3/">http://docs.python.org/3/</a></em></span> includes more information on modules and the Python language. The Python Tutorial has a section on modules at <span class="emphasis"><em><a class="ulink" href="http://docs.python.org/3/tutorial/modules.html">http://docs.python.org/3/tutorial/modules.html</a></em></span>. As you learn new Python programming skills, make use of these resources to add to your coding tool set.</p></div></div></body></html>