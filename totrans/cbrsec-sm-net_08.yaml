- en: '[8](nsp-enoka501485-0007.xhtml#rch08)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[8](nsp-enoka501485-0007.xhtml#rch08)'
- en: Detecting, Removing, and Preventing Malware
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 检测、移除和防止恶意软件
- en: '![Chapter opening icon](images/nsp-enoka501485-ct.jpg)'
  id: totrans-2
  prefs: []
  type: TYPE_IMG
  zh: '![章节开头图标](images/nsp-enoka501485-ct.jpg)'
- en: Malware such as viruses, trojans, and ransomware are significant threats to
    internet users and likely will be for the foreseeable future. As a result, it’s
    important to arm yourself and your users with an antivirus solution that detects
    and removes malware. Additionally, keeping your endpoints up-to-date can prevent
    malware from infecting your network and in some cases provide more protection
    than an antivirus (AV) solution.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 恶意软件，如病毒、木马和勒索软件，对互联网用户构成重大威胁，并且在可预见的未来可能仍然如此。因此，装备自己和用户一个能够检测和移除恶意软件的防病毒解决方案非常重要。此外，保持终端设备的最新状态可以防止恶意软件感染你的网络，在某些情况下，还能提供比防病毒（AV）解决方案更多的保护。
- en: Antivirus solutions can be tricky to manage because they typically are not cross-platform
    (that is, they work on only one operating system). If you have multiple operating
    systems in your network, you’ll need to find an effective AV product for each
    of them. Although this chapter discusses installing, configuring, and scanning
    with specific products, most options and settings will be the same across most
    antivirus solutions. The names of the settings and configuration options may differ
    slightly, but the same logic and processes should work for most products.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 防病毒解决方案可能难以管理，因为它们通常不是跨平台的（即只适用于某一操作系统）。如果你的网络中有多个操作系统，你将需要为每个操作系统找到有效的AV产品。尽管本章讨论了如何安装、配置和使用特定产品进行扫描，但大多数选项和设置在大多数防病毒解决方案中是相同的。设置和配置选项的名称可能会略有不同，但相同的逻辑和过程应该适用于大多数产品。
- en: After exploring some antivirus solutions for various operating systems, we’ll
    consider the differences between malware signatures and heuristic scans, the pros
    and cons of each approach, and the concept of creating an antivirus farm to catch
    as much malware as possible across different endpoints. Finally, we’ll cover patch
    management for various operating systems and how best to keep your endpoints up-to-date.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 在探索了适用于各种操作系统的防病毒解决方案之后，我们将考虑恶意软件特征和启发式扫描之间的差异，每种方法的优缺点，以及创建一个防病毒农场的概念，以便在不同的终端设备上尽可能多地捕获恶意软件。最后，我们将讨论各种操作系统的补丁管理，以及如何最好地保持终端设备的最新状态。
- en: '[Microsoft Defender for Windows](nsp-enoka501485-0007.xhtml#rah1001)'
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[Microsoft Defender for Windows](nsp-enoka501485-0007.xhtml#rah1001)'
- en: The latest iteration of the built-in Microsoft antivirus solution is *Microsoft
    Defender*. Defender automatically updates its virus definitions and scans for
    threats on a regular schedule, so Windows computers have decent protection out
    of the box.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 内置的微软防病毒解决方案的最新版本是*Microsoft Defender*。Defender会自动更新病毒定义并定期扫描威胁，因此Windows电脑开箱即用时就能提供良好的保护。
- en: Defender’s automatic scans are *quick scans* that check only the folders where
    threats are commonly found. While a quick scan offers fast results and uses few
    system resources, it’s unlikely to discover and remove malware residing outside
    of these folders. A *full scan* scans all your files and running programs, performing
    a thorough search for malware. It’s recommended to run full scans somewhere between
    once a week and once a month. The longer the period between full scans, the more
    time an adversary has to wreak havoc on your systems.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Defender的自动扫描是*快速扫描*，只检查通常会发现威胁的文件夹。虽然快速扫描能提供快速结果并且消耗少量系统资源，但它不太可能发现并移除位于这些文件夹之外的恶意软件。*完全扫描*会扫描所有文件和正在运行的程序，进行彻底的恶意软件搜索。建议每周至每月之间运行一次完全扫描。扫描周期越长，攻击者就越有机会在你的系统上造成破坏。
- en: You also have the option to choose custom and offline scans. A *custom scan*
    lets you select which folders and files to scan. An *offline scan* is similar
    to the Boot to Safe Mode method of malware removal available in earlier versions
    of Windows. Windows is now capable of automatically rebooting to a state that
    allows Microsoft Defender to remove persistent malware via this offline scan.
    This option is a last resort, rather than a scan you would run regularly. If you
    believe your computer is infected but are unable to find the infection using a
    full scan, run the offline scan to be certain. Failing this, your only recourse
    is to wipe your hard drive and re-install Windows from scratch.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以选择自定义扫描和离线扫描。*自定义扫描*允许你选择要扫描的文件夹和文件。*离线扫描*类似于早期版本 Windows 中的安全模式启动恶意软件移除方法。Windows
    现在能够自动重启到一个状态，在该状态下，Microsoft Defender 可以通过离线扫描移除顽固的恶意软件。此选项是最后的手段，而不是你定期进行的扫描。如果你认为计算机被感染，但无法通过完整扫描找到感染，请运行离线扫描以确保清除。如果仍然无效，你唯一的办法就是清空硬盘并重新安装
    Windows。
- en: To run scans, open **Settings▸Update & Security▸Windows Security▸Virus & Threat
    Protection**. Click **Scan Options**, select the type of scan you want, and then
    click **Scan now**.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行扫描，打开 **设置▸更新与安全▸Windows 安全▸病毒与威胁防护**。点击 **扫描选项**，选择你想要的扫描类型，然后点击 **立即扫描**。
- en: In the Virus & Threat Protection4Manage Settings menu, ensure Real-time Protection
    is turned on to enable Defender to protect your computer constantly. You can also
    add file and folder exclusions from this menu. You might add exclusions when you
    have files or programs that are legitimate and not a risk to your system, but
    Defender classifies them as malware and tries to quarantine them anyway.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 在病毒与威胁防护4管理设置菜单中，确保实时保护已开启，以便 Defender 持续保护你的计算机。你还可以在此菜单中添加文件和文件夹排除项。当你有一些合法且对系统没有风险的文件或程序时，但
    Defender 将其误认为恶意软件并尝试隔离时，你可以添加这些排除项。
- en: 'One setting in particular could be considered a risk to your privacy, Automatic
    Sample Submission, which allows Microsoft Defender to upload your files to Microsoft’s
    servers in the cloud automatically to be analyzed and scanned for malware. This
    practice poses a risk: private or confidential data could be leaked to a third
    party without your knowledge, as Defender won’t ask or advise you of files being
    uploaded to Microsoft. To turn off this setting, toggle Automatic Sample Submissions.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 有一个设置特别可能会对你的隐私构成风险，那就是自动样本提交，它允许 Microsoft Defender 自动上传你的文件到微软的云服务器进行分析和扫描以检测恶意软件。这一做法存在风险：私密或机密数据可能在你不知情的情况下泄露给第三方，因为
    Defender 不会询问或告知你文件被上传到 Microsoft。要关闭此设置，请切换自动样本提交。
- en: Related to this setting is the Cloud-Delivered Protection setting. This one
    isn’t as risky, as it relays only file metadata to Microsoft rather than entire
    file contents. Cloud-Delivered Protection will still work with Automatic Sample
    Submission turned off, although it might not perform as well.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 与此设置相关的是云端保护设置。这个设置相对不那么危险，因为它仅将文件的元数据传送给 Microsoft，而不是整个文件内容。即使关闭了自动样本提交，云端保护依然能正常工作，尽管它的表现可能不会那么好。
- en: Windows will keep Microsoft Defender up-to-date, but it never hurts to update
    manually occasionally. To update, click **Check for Updates** on the main Virus
    & Threat Protection page.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Windows 会保持 Microsoft Defender 的最新状态，但偶尔手动更新也没有坏处。要更新，点击主界面上的 **检查更新**，进入病毒和威胁防护页面。
- en: '[Choosing Malware Detection and Antivirus Tools](nsp-enoka501485-0007.xhtml#rah1002)'
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[选择恶意软件检测和杀毒工具](nsp-enoka501485-0007.xhtml#rah1002)'
- en: When deciding on the antivirus and malware detection tools you’d like to use,
    consider whether it’s worth paying for a commercial tool (or the premium version
    of a free tool) and whether the tool will use signatures or heuristics to detect
    malware.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在决定使用哪种杀毒和恶意软件检测工具时，考虑是否值得为商业工具（或免费工具的高级版）付费，并且工具是否会使用签名或启发式方法来检测恶意软件。
- en: In general, if all you want is a simple malware scanning tool, there’s rarely
    a good reason to pay for a commercial product. Typically, you’ll pay for advanced
    features, such as an email or web browser scanner built-in to the malware file
    scanner.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，如果你只需要一个简单的恶意软件扫描工具，几乎没有必要支付商业产品的费用。通常，你支付的是一些高级功能，例如内置的电子邮件或网页浏览器扫描器。
- en: Oftentimes, paid solutions allow for some form of centralized management. Whether
    that’s a web portal or a management server or agent, you gain visibility and the
    ability to manage all of your devices from one place. If you have a larger network,
    there’s value in having this capability; if your network consists of less than
    30 devices, you probably don’t need it.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，付费解决方案提供某种形式的集中管理。不论是通过网页门户、管理服务器还是代理，你都可以从一个地方获得对所有设备的可视性并进行管理。如果你拥有一个较大的网络，这种能力非常有价值；如果你的网络中设备少于30个，你可能不需要这种功能。
- en: '[Antivirus Farm](nsp-enoka501485-0007.xhtml#rbh1001)'
  id: totrans-19
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[杀毒农场](nsp-enoka501485-0007.xhtml#rbh1001)'
- en: There’s also a benefit in foregoing a single solution in favor of using multiple
    antivirus products in smaller networks. *Antivirus farms* use several products
    aiming to catch more malware than a single solution might. It also makes the attacker’s
    job more difficult; instead of evading a single antivirus product, they need to
    evade multiple to move laterally through a network.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在较小的网络中，放弃单一解决方案而使用多个杀毒产品也有好处。*杀毒农场*使用多个产品，旨在捕捉比单一解决方案更多的恶意软件。这也使得攻击者的工作变得更加困难；他们不仅需要避开一个杀毒产品，还需要避开多个产品，才能在网络中横向传播。
- en: Antivirus farms are helpful because every antivirus vendor curates their own
    databases of *malware signatures*—sequences of bytes in the executable that can
    be used to identify that specific malware sample. These databases have to be optimized
    every so often; otherwise, the virus definitions that you download with the software
    would become too large and unwieldy to be useful. Therefore, older virus definitions
    may be removed from these databases over time, which means having products from
    multiple vendors will likely lead to greater coverage of known threats.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 杀毒农场之所以有用，是因为每个杀毒厂商都会创建自己专有的*恶意软件特征码*数据库——即可用于识别特定恶意软件样本的可执行文件中的字节序列。这些数据库需要定期优化；否则，你下载的病毒定义文件会变得过大、难以使用。因此，随着时间推移，较旧的病毒定义可能会从这些数据库中移除，这意味着使用多个厂商的产品可能会提供更广泛的已知威胁覆盖。
- en: '[Signatures and Heuristics](nsp-enoka501485-0007.xhtml#rbh1002)'
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[特征码与启发式分析](nsp-enoka501485-0007.xhtml#rbh1002)'
- en: You should also aim to use antivirus products that perform both signature-based
    detection and heuristics. *Signatures* identify known-malicious software by the
    contents of an executable or other file, though it’s trivial for an attacker to
    change the signature of their malware by changing the contents slightly. This
    is a major weakness when it comes to malware detection software. *Heuristics*,
    on the other hand, analyze the way a file behaves and the commands a file might
    run to determine whether it’s malicious. This is a much more reliable way of detecting
    known and unknown threats. How do you tell whether a particular antivirus program
    performs signature-based detection or heuristic scanning? The best way, if it’s
    not listed on their website, is to contact the vendor and ask. There will always
    be a contact method listed on their website.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你还应该选择那些既能进行基于特征码检测又能进行启发式分析的杀毒产品。*特征码*通过可执行文件或其他文件的内容来识别已知的恶意软件，尽管攻击者通过轻微修改恶意软件内容，就能轻松改变其特征码。这是恶意软件检测软件的一个重大弱点。另一方面，*启发式分析*则是分析文件的行为方式及文件可能执行的命令，以判断其是否为恶意文件。这是一种更加可靠的检测已知和未知威胁的方法。如何判断某个杀毒程序是执行特征码检测还是启发式扫描呢？如果在其官网上没有列出相关信息，最好的方法是联系厂商并询问。厂商官网上通常会列出联系方式。
- en: '[#26: Installing Avast on macOS](nsp-enoka501485-0007.xhtml#rhd1001)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[#26: 在macOS上安装Avast](nsp-enoka501485-0007.xhtml#rhd1001)'
- en: 'Apple devices, commonly believed to be less prone to malware, are becoming
    infected more often, which means you should install antivirus software on any
    Macs on your network. There are many options, both free and commercial, when installing
    a third-party heuristics-based antivirus solution on your Apple computer. Among
    these, Avast has topped many lists for several years. To install and configure
    Avast, use the following steps:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果设备通常被认为不太容易感染恶意软件，但现在它们感染的情况越来越多，这意味着你应该在网络中的任何Mac电脑上安装杀毒软件。在为你的苹果计算机安装第三方启发式杀毒解决方案时，有许多选择，既有免费的，也有商业的。在这些选择中，Avast已经连续多年位居多个排行榜的前列。要安装和配置Avast，请按照以下步骤进行：
- en: 1\. Download Avast from [http://www.avast.com/](http://www.avast.com/) and install
    the software. When the installation has completed, you should be presented with
    the Avast Security window (see [Figure 8-1](nsp-enoka501485-0017.xhtml#fig0801)).
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 1\. 从 [http://www.avast.com/](http://www.avast.com/) 下载 Avast 并安装该软件。安装完成后，您应该会看到
    Avast 安全窗口（见 [图 8-1](nsp-enoka501485-0017.xhtml#fig0801)）。
- en: '![Screenshot of Avast Security’s window states “This Mac is protected,” “You’re
    up-to-date! Last updated today at 5:40 am.” It has clickable button titled “Run
    Smart Scan” and options titled “Core Shields,” “Virus Chest,” “Wi-Fi Inspector,”
    and “Ransomware Shield.” At the top-right side of the window is an option for
    Notifications and a Menu button.](images/nsp-enoka501485-fig0801.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![Avast 安全窗口截图，显示“此 Mac 已受保护”，“您是最新的！最后更新时间：今天上午 5:40。” 窗口中有可点击的按钮“运行智能扫描”，以及“核心防护”、“病毒库”、“Wi-Fi
    检查”和“勒索病毒防护”选项。窗口右上角有通知和菜单按钮。](images/nsp-enoka501485-fig0801.jpg)'
- en: 'Figure 8-1: Avast Security window'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-1：Avast 安全窗口
- en: 2\. Click **Menu▸Preferences** to reach Avast’s settings page.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 2\. 点击**菜单▸偏好设置**，进入 Avast 的设置页面。
- en: 3\. In the General tab, ensure that the **Turn on Automatic Updates** checkbox
    is ticked.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 3\. 在“常规”标签中，确保勾选了**开启自动更新**复选框。
- en: 4\. In the Privacy tab, *untick* the two checkboxes allowing your data to be
    shared with Avast. Similar to Windows Defender, it’s best to protect your privacy.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 4\. 在“隐私”标签中，*取消勾选* 允许将您的数据与 Avast 分享的两个复选框。与 Windows Defender 类似，最好保护您的隐私。
- en: 5\. In the Core Shields tab, enable each of the security checks Avast will run,
    such as file scanning and web and email protection.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 5\. 在“核心防护”标签中，启用 Avast 将运行的每一个安全检查，例如文件扫描、网页保护和电子邮件保护。
- en: 6\. Click the **Add Exceptions** button under each of the shields to specify
    any necessary exceptions. Add exceptions if you have files or programs that you
    know to be legitimate or low risk but that your antivirus classifies as potentially
    malicious.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 6\. 在每个防护盾下点击**添加例外**按钮，指定任何必要的例外。如果您知道某些文件或程序是合法的或低风险的，但您的防病毒软件将它们分类为潜在的恶意文件，请添加例外。
- en: 7\. In the Scans tab, ensure the checkboxes **Scan Whole Files**, **Scan External
    Drives**, **Scan Mounted Network Volumes**, **Scan All Time Machine Backups**,
    and **Scan Archives** are ticked. By doing so, you can be certain your antivirus
    is doing as much as possible to identify threats and protect you from them.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 7\. 在“扫描”标签中，确保勾选了**扫描整个文件**、**扫描外部驱动器**、**扫描已挂载的网络卷**、**扫描所有 Time Machine 备份**和**扫描归档**。这样，您可以确保您的防病毒软件尽可能多地识别威胁并保护您免受威胁。
- en: A *Smart Scan* is designed to scan the most vulnerable areas of your computer
    quickly. While this is less resource intensive and less time consuming, it’s not
    likely to catch all threats on your computer because it doesn’t scan all areas
    of your hard drives. A *Deep Scan* is more comprehensive and includes all areas
    of storage on your device, optionally including external storage, network locations,
    Time Machine backups, memory, and rootkit detection. A *Targeted Scan* scans only
    specified areas.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '*智能扫描* 旨在快速扫描计算机最脆弱的区域。虽然它消耗的资源较少且所需时间较短，但它不太可能发现计算机上的所有威胁，因为它并未扫描硬盘的所有区域。*深度扫描*
    更为全面，涵盖设备上的所有存储区域，可以选择包括外部存储、网络位置、Time Machine 备份、内存和根套件检测。*定向扫描* 只扫描指定区域。'
- en: All of these scans are run from the Scan Central screen in Avast on your Mac.
    Click the **Search** button to select the type of scan you want to run and then
    click **Scan Now**. Selecting Targeted, USB/DVD, or Custom Scans will prompt you
    for the locations to scan. Avast will scan your computer for threats, and if any
    are detected, it will ask what you’d like to do with the relevant files. Select
    all the files and click **Resolve Selected** to move them all to the Virus Chest;
    then click **Done**. Your computer should now be clean of all potentially malicious
    files and applications.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些扫描都在 Mac 上的 Avast 扫描中央屏幕中运行。点击**搜索**按钮选择您要运行的扫描类型，然后点击**立即扫描**。选择定向扫描、USB/DVD扫描或自定义扫描时，系统会提示您选择要扫描的位置。Avast
    会扫描您的计算机以寻找威胁，如果检测到任何威胁，它会询问您希望如何处理相关文件。选择所有文件并点击**解决所选**将它们全部移动到病毒库；然后点击**完成**。您的计算机现在应该清除了所有潜在的恶意文件和应用程序。
- en: '[#27: Installing ClamAV on Linux](nsp-enoka501485-0007.xhtml#rhd1002)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '[#27：在 Linux 上安装 ClamAV](nsp-enoka501485-0007.xhtml#rhd1002)'
- en: 'Linux is susceptible to viruses as well. However, Linux operating systems rarely
    come with a built-in antivirus application, and there are fewer available than
    for other operating systems. Most of the available solutions are commercial and
    therefore have a cost attached, such as Avast Core Security for Linux, though
    there is an open source solution: ClamAV.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: Linux同样容易受到病毒的攻击。然而，Linux操作系统很少内置杀毒软件，并且与其他操作系统相比，Linux的可用杀毒软件也更少。大多数可用的解决方案都是商业软件，因此需要付费，如Avast
    Core Security for Linux，但也有一个开源解决方案：ClamAV。
- en: 'ClamAV is a free application that can be used on Windows, macOS, and Linux.
    To install it on Ubuntu, log in to your server via SSH as a standard, non-root
    user. Run the following command to install the version of ClamAV that allows you
    to automate your virus scanning activity, as well as the GUI, clamtk, which may
    be useful later:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: ClamAV是一个免费的应用程序，可以在Windows、macOS和Linux上使用。要在Ubuntu上安装它，首先通过SSH以标准的非root用户登录到您的服务器。运行以下命令安装ClamAV版本，允许您自动化病毒扫描活动，并安装GUI工具clamtk，后者可能会在稍后使用：
- en: '[PRE0]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'With the installation complete, your antivirus definitions (the database that
    tells ClamAV what is malware) should be up-to-date, but you can run the following
    commands to update the virus definitions—either now or in the future—to stop,
    update, and then restart ClamAV:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 安装完成后，您的杀毒定义（ClamAV用来判断恶意软件的数据库）应该是最新的，但您可以运行以下命令来更新病毒定义—无论是现在还是以后—以停止、更新然后重启ClamAV：
- en: '[PRE1]'
  id: totrans-42
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'To run a malware scan, use the `clamscan` `folder_to_scan` command. To scan
    everything on the system, use `/` to indicate to ClamAV to scan everything in
    the root of the filesystem, supply the `-r` parameter to make the scan recurse
    all directories, and use `sudo` so that ClamAV has the necessary permission to
    read all files in the filesystem:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行恶意软件扫描，请使用`clamscan` `folder_to_scan`命令。要扫描系统中的所有内容，请使用`/`，这将指示ClamAV扫描文件系统根目录中的所有内容，提供`-r`参数使扫描递归所有目录，并使用`sudo`，以便ClamAV获得必要的权限读取文件系统中的所有文件：
- en: '[PRE2]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: When the scan completes, `clamscan` will output a scan summary.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 扫描完成后，`clamscan`将输出扫描摘要。
- en: In addition to known malware, ClamAV can detect *potentially unwanted applications
    (PUAs)*, including software such as adware, peer-to-peer (p2p) programs, remote
    administration tools, bitcoin miners, and bundleware (software included with but
    not related to the application being installed), which are not inherently malicious
    but may pose a risk to or negatively impact your endpoints’ security and performance.
    To scan for PUAs, include the `--detect-pua=yes` argument when running ClamAV.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 除了已知的恶意软件，ClamAV还可以检测*潜在不受欢迎的应用程序（PUA）*，包括广告软件、点对点（p2p）程序、远程管理工具、比特币挖矿程序和捆绑软件（与正在安装的应用程序无关的软件，但一并捆绑安装），这些程序本身并不恶意，但可能对终端的安全性和性能构成风险或产生负面影响。要扫描PUA，请在运行ClamAV时包含`--detect-pua=yes`参数。
- en: If your scans are taking too long, you can use other advanced parameters to
    reduce their duration. You can limit the size of the files ClamAV will scan with
    `--max-filesize=``n`, where `n` is the maximum file size in kilobytes. Any files
    larger than the size you specify will be skipped and assumed to be clean, reducing
    the time it takes your scan to complete. Similarly, `--max-scansize=``n` scans
    only archive files (*.rar* files, *.zip* files, and so on) up to the specified
    size—all other archives will be skipped. To limit the depth of the recursion (that
    is, how many directories will be scanned below the directory where you start the
    scan), use the `--max-dir-recursion=``n` parameter. For more parameters, use the
    `-h` argument, as in `sudo clamscan -h`, to print the help menu.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的扫描耗时过长，可以使用其他高级参数来缩短扫描时间。您可以使用`--max-filesize=``n`参数限制ClamAV扫描的文件大小，其中`n`是以千字节为单位的最大文件大小。任何大于您指定大小的文件将被跳过，并假定是干净的，从而减少扫描完成的时间。同样，`--max-scansize=``n`只扫描指定大小以内的归档文件（*.rar*文件、*.zip*文件等）—所有其他归档文件将被跳过。要限制递归深度（即扫描开始目录下的目录层级数量），请使用`--max-dir-recursion=``n`参数。有关更多参数，请使用`-h`参数，如`sudo
    clamscan -h`，打印帮助菜单。
- en: 'To run a scan on a regular schedule, use Crontab, a Linux utility designed
    to execute programs at preset times or intervals. In your terminal, use the `crontab
    -e` command to edit the scheduled tasks file:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 要定期运行扫描，请使用Crontab，这是一个Linux实用程序，旨在按预设的时间或间隔执行程序。在终端中，使用`crontab -e`命令编辑计划任务文件：
- en: '[PRE3]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: The large comment at the start of the file explains how to specify tasks with
    an example. The last line of the comment provides the syntax for scheduling execution
    of scripts and applications. The order is minute, hour, day of month, month, day
    of week, and command to execute. Minutes and hours must be numbers, 0 to 59 and
    0 to 23, respectively, and you can specify a list of minutes or hours by separating
    the values with commas (that is, you can run a command at 1, 2, and 3 AM by specifying
    `1,2,3`). You can specify days numerically (1 to 7, where 1 is Sunday), or as
    Sun, Mon, Tue, and so on. Months are 1 to 12 (where 1 is January). An asterisk
    (`*`) stands for all possible values for a field; if you want your command to
    run every month, put an asterisk in the month (`mon`) position.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 文件开头的大注释解释了如何使用示例指定任务。注释的最后一行提供了调度执行脚本和应用程序的语法。顺序是分钟、小时、日期、月份、星期几和要执行的命令。分钟和小时必须是数字，分别为
    0 到 59 和 0 到 23，你可以通过逗号分隔的方式指定分钟或小时的列表（也就是说，你可以通过指定`1,2,3`在凌晨 1 点、2 点和 3 点运行命令）。你可以通过数字指定日期（1
    到 7，1 是星期天），或者使用 Sun、Mon、Tue 等表示。月份是 1 到 12（1 代表一月）。星号（`*`）表示该字段的所有可能值；如果你希望命令每个月运行一次，可以在月份（`mon`）位置放一个星号。
- en: 'Say you want to run `clamscan` over the entire filesystem at 1 AM every Sunday,
    including scanning for potentially unwanted applications. At the bottom of the
    Crontab file, add a new line and enter the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想在每个星期天凌晨 1 点对整个文件系统运行`clamscan`，并包括扫描潜在的不需要的应用程序。在 Crontab 文件的底部，添加一行并输入以下内容：
- en: '[PRE4]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: By default, you won’t be able to see the results of your scans unless you specify
    the logfile with the `-l` parameter. If you want to scan a specific folder, like
    the user home folders (*/home/*), every day, in addition to the full system scan,
    add another entry to the Crontab, following the previous example as a guideline.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，除非你使用`-l`参数指定日志文件，否则你无法查看扫描结果。如果你希望每天扫描特定的文件夹，比如用户的主目录（*/home/*），除了全系统扫描之外，可以在
    Crontab 中添加另一条记录，参考之前的示例作为指南。
- en: 'Add another line to the Crontab to ensure ClamAV is kept up to date:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Crontab 中添加另一行以确保 ClamAV 保持最新：
- en: 0 0 * * mon systemctl stop clamav-freshclam && freshclam && systemctl start
    clamav-freshclam
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 0 0 * * mon systemctl stop clamav-freshclam && freshclam && systemctl start
    clamav-freshclam
- en: You can link multiple commands together and separate them with a pair of ampersands
    to run them in series. Find more information on Crontab (or any other terminal
    command) with the `man` function. Enter `man crontab` to open the manual for the
    application on the command line.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以将多个命令链接在一起，并用一对和符号将它们分开，以串行执行它们。可以使用`man`命令获取更多关于 Crontab（或任何其他终端命令）的信息。在命令行中输入`man
    crontab`来打开该应用程序的手册。
- en: '[#28: Using VirusTotal](nsp-enoka501485-0007.xhtml#rhd1003)'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '[#28: 使用 VirusTotal](nsp-enoka501485-0007.xhtml#rhd1003)'
- en: '*VirusTotal (VT)* tests files to determine whether they’re likely to be malicious
    ([https://www.virustotal.com/](https://www.virustotal.com/)) by taking the concept
    of an antivirus farm and implementing it on a large scale. It’s a publicly available
    service where you can upload any file to scan for malware, and VT will scan it
    with more than 60 antivirus programs. It will then produce a report to let you
    know whether it contains malware or behaves in a way that may negatively impact
    your endpoints, security, or privacy. This capability is especially useful if
    you believe a file is malicious but is undetected by your antivirus.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: '*VirusTotal (VT)* 测试文件以确定它们是否可能是恶意的（[https://www.virustotal.com/](https://www.virustotal.com/)），其方式是将反病毒农场的概念进行大规模实现。这是一个公开的服务，你可以上传任何文件扫描恶意软件，VT
    会用超过 60 种反病毒程序扫描它。然后它会生成一份报告，告诉你文件是否包含恶意软件，或者是否以某种方式影响你的终端、安全性或隐私。这个功能在你认为一个文件是恶意的，但你的反病毒软件没有检测到时，特别有用。'
- en: Be aware that anything uploaded to VT becomes public, so anyone can search for
    and download the files you upload. To use VT without making your private information
    public, search VT for the hash of the file you want to check. *Hashing* is a process
    for calculating a fixed-length string based on the contents of a file. Hashing
    is expected to be a one-way process, meaning you can’t take the hash of a file
    and reverse it to get the original file contents. By creating the hash of a file,
    you should get a unique string of characters that identify said file. Some hashing
    algorithms can result in *collisions*, where two files yield the same hash, though
    the chances of this happening in most modern hashing functions are slim to none.
    You can get the hash of a file by using built-in tools in any operating system.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，任何上传到VT的文件都会变成公开的，因此任何人都可以搜索并下载你上传的文件。为了在不公开私人信息的情况下使用VT，请在VT中搜索你想检查的文件的哈希值。*哈希*是一种根据文件内容计算固定长度字符串的过程。哈希应该是单向过程，这意味着你不能通过文件的哈希值反推回原始文件内容。通过创建文件的哈希值，你应该得到一个唯一的字符字符串，用于标识该文件。某些哈希算法可能会导致*冲突*，即两个文件生成相同的哈希值，尽管在大多数现代哈希函数中，这种情况几乎不会发生。你可以通过使用任何操作系统的内置工具获取文件的哈希值。
- en: 'Windows PowerShell In Windows, open a PowerShell window and enter the following
    command to get the MD5 hash of any file:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: Windows PowerShell 在Windows中，打开PowerShell窗口并输入以下命令来获取任何文件的MD5哈希值：
- en: '[PRE5]'
  id: totrans-61
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: You can then search for the hash directly in the VirusTotal web portal.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你可以直接在VirusTotal网页门户中搜索该哈希值。
- en: 'Linux and macOS Terminal You can get the MD5 hash of a file in both Linux and
    macOS using the following command:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Linux和macOS终端，你可以使用以下命令在Linux和macOS中获取文件的MD5哈希值：
- en: '[PRE6]'
  id: totrans-64
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Then, search for the resulting hash in the VT web portal.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，在VT网页门户中搜索结果哈希值。
- en: If a file with the same hash has been uploaded to VT at any point in the past,
    you’ll be presented with the public report for that file, detailing the malware
    scan results from all the providers in VT. If it hasn’t been uploaded previously,
    there’s a good chance the file isn’t malicious.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果某个哈希值相同的文件曾在过去的某个时间点上传到VT，你将看到该文件的公共报告，报告详细说明了VT所有提供商的恶意软件扫描结果。如果该文件之前没有被上传，文件很可能不是恶意的。
- en: '[#29: Managing Patches and Updates](nsp-enoka501485-0007.xhtml#rhd1004)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[#29: 管理补丁和更新](nsp-enoka501485-0007.xhtml#rhd1004)'
- en: Along with using antivirus tools, patch management is an important defense because
    malware exploits are written to attack a specific vulnerability in a network,
    application, protocol, or operating system. Adversaries pay close attention to
    Windows updates and patches for other operating systems, as the patch notes call
    out the vulnerability it’s designed to remediate. Attackers use that vulnerability
    information to write malware specifically for that security flaw, and anyone who
    hasn’t downloaded the update can fall victim. This is why operating systems constantly
    ask you to install updates and patches.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 除了使用防病毒工具外，补丁管理也是一种重要的防御措施，因为恶意软件利用是针对网络、应用程序、协议或操作系统中的特定漏洞进行攻击。攻击者密切关注Windows更新和其他操作系统的补丁，因为补丁说明会指出它旨在修复的漏洞。攻击者利用这些漏洞信息编写专门针对该安全缺陷的恶意软件，而没有下载更新的用户可能会成为受害者。这也是操作系统不断要求你安装更新和补丁的原因。
- en: In most cases, end users don’t install updates right away, and adversaries have
    a window of opportunity to target unpatched systems. It’s in your best interest
    to install software updates as soon as they become available. Luckily, the process
    of updating is exceedingly simple and easy to automate. This project describes
    how to configure system updates on individual systems, and the following section
    discusses a solution for patch management across multiple endpoints.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在大多数情况下，最终用户不会立即安装更新，攻击者有机会利用未打补丁的系统进行攻击。为了你的最佳利益，更新软件应该尽快进行。幸运的是，更新过程非常简单且易于自动化。本项目描述了如何在单个系统上配置系统更新，接下来的部分将讨论跨多个终端的补丁管理解决方案。
- en: '[Windows Update](nsp-enoka501485-0007.xhtml#rbh1003)'
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[Windows更新](nsp-enoka501485-0007.xhtml#rbh1003)'
- en: For Windows updates, open **Windows Settings▸Update & Security**. Windows checks
    for updates automatically at least once per day (assuming the device is left on
    at all times). To check for, download, and install updates manually, click the
    **Check for Updates** button.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows更新，打开**Windows设置▸更新与安全**。Windows会至少每天自动检查一次更新（前提是设备始终开机）。要手动检查、下载并安装更新，请点击**检查更新**按钮。
- en: If you’d prefer not to worry about updates for a while, click **Pause Updates
    for 7 Days**. Updates are critical for keeping your system secure, so pausing
    the updates is not recommended.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望暂时不考虑更新，可以点击**暂停更新 7 天**。更新对于保持系统安全至关重要，因此不建议暂停更新。
- en: You can restrict Windows from updating your computer during certain times by
    setting active hours. If you use your computer primarily between 9 AM and 5 PM,
    you can tell Windows not to update during this window, which is a better option
    than pausing updates for an extended period of time.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过设置活动时间来限制 Windows 在特定时间更新你的计算机。如果你主要在上午9点到下午5点之间使用计算机，可以告诉 Windows 在此时间段内不要更新，这比长时间暂停更新更为合适。
- en: In Advanced Options, you can allow Windows to update other Microsoft products
    via Windows Update—I recommend turning this on. You can also make Windows force
    devices to restart after updates are installed, which is useful if you, as the
    administrator, want to force your end users to restart their machines. You’ll
    be unpopular, but your network will be more secure.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在“高级选项”中，你可以允许 Windows 通过 Windows 更新来更新其他 Microsoft 产品——我建议启用此选项。你还可以让 Windows
    在安装更新后强制设备重启，如果你作为管理员希望强制终端用户重启他们的机器，这非常有用。你可能会不太受欢迎，但你的网络会更安全。
- en: In the Advanced Options▸Delivery Optimization menu, you can enable the option
    to download updates from other PCs in your network. This reduces the bandwidth
    required to download the same updates to multiple computers from the internet.
    You should turn on this setting, with the caveat that downloads be allowed only
    from PCs on your local network and not from PCs on the internet.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在“高级选项▸传递优化”菜单中，你可以启用从网络中其他 PC 下载更新的选项。这将减少从互联网下载相同更新到多台计算机所需的带宽。你应该启用此设置，但有一个前提条件：仅允许从本地网络中的
    PC 下载，而不是来自互联网上的 PC。
- en: Back in the Advanced Options pane, the last settings of particular interest
    are the Privacy settings. You can increase your privacy within this menu by disallowing
    Windows and Microsoft from sending you targeted ads and content based on your
    location, browsing habits, and application usage statistics.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在“高级选项”面板中，最后一个特别需要注意的设置是隐私设置。通过在此菜单中禁用 Windows 和 Microsoft 根据你的地理位置、浏览习惯和应用使用统计数据向你发送定向广告和内容，你可以提高自己的隐私保护。
- en: '[macOS Software Update](nsp-enoka501485-0007.xhtml#rbh1004)'
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[macOS 软件更新](nsp-enoka501485-0007.xhtml#rbh1004)'
- en: Apple devices are much simpler than Windows or Linux because their update process
    can be almost entirely automated and requires very little user input. To ensure
    your Apple computers are kept up-to-date, open **System Preferences▸Software Update**.
    To allow automatic updates, check **Automatically Keep My Mac Up-to-date**.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Apple 设备比 Windows 或 Linux 更简单，因为它们的更新过程几乎可以完全自动化，并且几乎不需要用户输入。为了确保你的 Apple 电脑保持最新，打开**系统偏好设置▸软件更新**。要启用自动更新，请勾选**自动保持我的
    Mac 最新**。
- en: With this check box ticked, click the **Advanced** button to select what actions
    should be taken automatically. From this menu ([Figure 8-2](nsp-enoka501485-0017.xhtml#fig0802)),
    choose whether your computer can check for updates, download updates, or complete
    the installation process without user input, and then click **OK** to save the
    settings. In most cases, allowing your computer to keep itself up-to-date with
    no input from the user is desirable; the computer will still confirm with the
    user before restarting after any updates that require a reboot (which doesn’t
    happen often).
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 勾选此复选框后，点击**高级**按钮选择应自动执行的操作。在此菜单中（[图8-2](nsp-enoka501485-0017.xhtml#fig0802)），选择你的计算机是否可以检查更新、下载更新或在没有用户输入的情况下完成安装过程，然后点击**确定**保存设置。在大多数情况下，允许计算机在没有用户输入的情况下保持最新是理想的；计算机仍然会在任何需要重启的更新后询问用户是否重启（这种情况并不常见）。
- en: '![Screenshot showing macOS’s Software Update → Advanced tab where you can choose
    to automatically check for updates, download new updates when available, install
    macOS updates, install app updates from the App Store, and install system data
    files and security updates.](images/nsp-enoka501485-fig0802.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![截图显示 macOS 的软件更新 → 高级选项卡，在此可以选择自动检查更新、在新更新可用时下载更新、安装 macOS 更新、安装来自 App Store
    的应用更新，以及安装系统数据文件和安全更新。](images/nsp-enoka501485-fig0802.jpg)'
- en: 'Figure 8-2: macOS advanced software update configuration'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 图8-2：macOS 高级软件更新配置
- en: Keeping your devices up-to-date in this way ensures they are as secure as possible
    and protects your and your users’ privacy.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式保持你的设备更新，可以确保它们尽可能安全，并保护你和你的用户的隐私。
- en: '[Linux Updates with apt](nsp-enoka501485-0007.xhtml#rbh1005)'
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[使用 apt 更新 Linux](nsp-enoka501485-0007.xhtml#rbh1005)'
- en: As discussed in [Chapter 1](nsp-enoka501485-0010.xhtml#ch01), the Linux operating
    system comes in multiple implementations, called *distributions*. Each of those
    distributions uses a package manager to maintain and update the software that
    the system or user installs. Throughout this book, we use Ubuntu Linux, which
    uses the Advanced Package Tool (APT) package manager. Package managers simplify
    the process of keeping your Linux endpoints up-to-date and secure.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 如[第 1 章](nsp-enoka501485-0010.xhtml#ch01)中所述，Linux 操作系统有多种实现方式，称为*发行版*。这些发行版中的每一个都使用软件包管理器来维护和更新系统或用户安装的软件。本书中我们使用的是
    Ubuntu Linux，它使用高级包工具（APT）软件包管理器。软件包管理器简化了保持 Linux 终端系统最新和安全的过程。
- en: 'To update an Ubuntu system, log in via SSH as a standard, non-root user. When
    you log in, you should be presented with a welcome message, including information
    about required and recommended updates:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 要更新 Ubuntu 系统，使用 SSH 以标准的非 root 用户身份登录。当你登录时，系统会显示欢迎信息，其中包括关于必需和推荐更新的相关信息：
- en: '[PRE7]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'To make sure the list of updates is complete, run the `apt update` command:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 为确保更新列表完整，运行`apt update`命令：
- en: '[PRE8]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Once the list is up-to-date, run the `upgrade` command to update all of the
    software packages:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 更新列表完成后，运行`upgrade`命令以更新所有软件包：
- en: '[PRE9]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The command output will show the number of packages to update, the disk space
    they’ll use, and various status messages. When prompted, type **Y** and press
    ENTER to continue.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 命令输出将显示需要更新的包的数量、它们将使用的磁盘空间以及各种状态信息。当提示时，输入**Y**并按回车键继续。
- en: 'As with Windows and macOS, some updates require you to reboot the system. If
    that’s the case, you’ll see something like:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 与 Windows 和 macOS 一样，某些更新需要重启系统。如果是这种情况，你会看到类似下面的提示：
- en: '[PRE10]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To make Ubuntu update the system and installed packages automatically, use
    the following command:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 要使 Ubuntu 自动更新系统和已安装的软件包，请使用以下命令：
- en: '[PRE11]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The command will produce the prompt shown in [Figure 8-3](nsp-enoka501485-0017.xhtml#fig0803).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 命令将显示图[Figure 8-3](nsp-enoka501485-0017.xhtml#fig0803)中所示的提示。
- en: '![Screenshot showing “Configuring unattended-upgrades” that provides the prompt
    to “Automatically download and install stable updates?” You can choose Yes or
    No.](images/nsp-enoka501485-fig0803.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![显示“配置无人值守更新”的截图，提供“是否自动下载并安装稳定更新？”的提示。你可以选择是或否。](images/nsp-enoka501485-fig0803.jpg)'
- en: 'Figure 8-3: Ubuntu unattended updates'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8-3：Ubuntu 无人值守更新
- en: By selecting **Yes** and pressing ENTER, you’ll ensure your servers are kept
    up-to-date, thereby making them inherently more secure. However, you should still
    check for updates manually and reboot your server once a month.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**Yes**并按回车键，你将确保服务器保持最新，从而使其本身更加安全。然而，你仍然应该手动检查更新，并每月重启一次服务器。
- en: '[#30: Installing Automox](nsp-enoka501485-0007.xhtml#rhd1005)'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '[#30: 安装 Automox](nsp-enoka501485-0007.xhtml#rhd1005)'
- en: 'Depending on the size of your network, keeping all your endpoints up to date
    manually or even semi-manually might feel tedious or overwhelming. A centralized
    patch management solution like Automox allows you to easily manage all of these
    things in one place. Automox operates on a per-endpoint subscription model: you
    can start managing one or more Windows, macOS, or Linux systems (workstations
    or servers) for a nominal monthly fee, which allows you to patch all of your endpoints,
    with both system and third-party software patches, from one dashboard. Automox
    also maintains an asset and software inventory, which is the first step anyone
    should take to keep their network secure.'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 根据你的网络规模，手动或半手动地保持所有终端系统更新可能会让人感到乏味或不知所措。像 Automox 这样的集中式补丁管理解决方案可以让你轻松在一个地方管理所有这些内容。Automox
    采用按终端订阅的模式：你可以通过支付名义上的月费来管理一个或多个 Windows、macOS 或 Linux 系统（工作站或服务器），该费用允许你通过一个仪表板为所有终端应用系统和第三方软件的补丁。Automox
    还维护资产和软件清单，这是任何人保持网络安全的第一步。
- en: '[Installing Automox](nsp-enoka501485-0007.xhtml#rbh1006)'
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '[安装 Automox](nsp-enoka501485-0007.xhtml#rbh1006)'
- en: Head to the Automox website ([https://www.automox.com/](https://www.automox.com/))
    to sign up for an account (or free trial). Then log in to your account dashboard
    at [https://console.automox.com/](https://console.automox.com/). The dashboard
    is where you’ll see a summary of your managed endpoints and the updates they require.
    Of course, until you add some endpoints to your account, this dashboard will be
    sparse. In the following sections you’ll require a user key to connect your endpoints
    to Automox. Your key can be found by going to your profile settings page in the
    Automox web UI, under the Keys tab.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: Windows
  id: totrans-104
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: To install the Automox agent on Windows endpoints, access the **Devices** tab
    from your Automox console, and then click the **Add Devices** link at the top
    of the page. You’ll be presented with an OS selection pop-up. Select Windows,
    and then download the agent.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: Once the agent is downloaded, run the installer (an *.msi* file) as an administrator.
    Follow the installation wizard, entering your Automox user key from the console
    when prompted. When the installation has completed, refresh your Automox dashboard
    to see the newly added endpoint ([Figure 8-4](nsp-enoka501485-0017.xhtml#fig0804)).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: '![The Automox dashboard includes the following columns: OS, Device Name, Last
    Disconnected, Group Membership, Tags, IP Address, OS Version, Scheduled Patches,
    Total Patches, and Status.](images/nsp-enoka501485-fig0804.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
- en: 'Figure 8-4: Automox asset list'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: macOS and Linux
  id: totrans-109
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'In a Terminal window on a Mac or Linux computer, run the following command,
    substituting your user key for `yourkey`:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: $ `curl -sS "https://console.automox.com/downloadInstaller?accesskey=``yourkey``"
    | sudo bash`
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: Refresh your console again to see the newly added endpoint(s).
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: '[Using Automox](nsp-enoka501485-0007.xhtml#rbh1007)'
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Now that you’ve installed Automox on your endpoints, you’ll be able to manage
    operating system and third-party software patches from a central console. From
    the Devices tab, you can view all of your managed endpoints and add them to groups—if
    you’d like to manage them that way. You can also scan your endpoints to identify
    hardware changes and check for new updates they require, reboot your endpoints
    remotely, or remove endpoints from your account. By clicking an endpoint, you
    can see its hardware configuration, IP and MAC addresses, device type, operating
    system, CPU and RAM details, and other critical information, as shown in [Figure
    8-5](nsp-enoka501485-0017.xhtml#fig0805). You can also force updates to be applied
    to the endpoint immediately, rather than wait for the endpoint to be updated according
    to the update policies specified in the System Management tab.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: '![Automox’s Device Details page displays critical information about each device,
    including: the device status, connection status, time of the last system scan,
    the next patch window’s schedule, and the time of last disconnect.](images/nsp-enoka501485-fig0805.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
- en: 'Figure 8-5: Automox device details'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: The System Management tab allows you to create and assign patching policies,
    which is useful if you want to schedule patch installation. For example, you may
    decide to automatically install any critical patches daily at 5 pm. Alternatively,
    you might want to force the installation of all required patches at 12 am every
    Saturday, when people are less likely to be using their computers. You will need
    to define your own requirements and decide what patching schedule works best for
    you and your network.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: “系统管理”选项卡允许您创建和分配补丁策略，如果您希望安排补丁安装，这非常有用。例如，您可以决定每天下午 5 点自动安装任何重要补丁。或者，您可能希望每周六午夜强制安装所有必需的补丁，那时人们不太可能使用他们的计算机。您需要定义自己的要求，并决定哪个补丁安装时间表最适合您和您的网络。
- en: In the Reports tab, you can generate reports of actions taken by Automox to
    keep your endpoints up-to-date, report on the state of any or all endpoints in
    your console, or identify noncompliant endpoints. Depending on the size of your
    network, it may be easier to view this information in your dashboard than to run
    these reports.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在“报告”选项卡中，您可以生成 Automox 执行的操作报告，以保持您的终端设备最新，报告控制台中任何或所有终端设备的状态，或识别不合规的终端设备。根据网络的大小，查看此信息可能比生成这些报告更容易。
- en: Automox will provide you with an inventory of all the software installed on
    your managed endpoints and their patch level in the Software tab. This allows
    you to easily identify software that requires updating and to update it if possible.
    You can also use this list to identify software that you don’t want in your environment,
    whether it’s potentially unwanted applications or specific software, like games
    or other software that violates an organizational policy.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: Automox 会在“软件”选项卡中提供已安装在受管理终端设备上的所有软件及其补丁级别的清单。这使您能够轻松识别需要更新的软件，并在可能的情况下进行更新。您还可以使用此列表识别您不希望出现在环境中的软件，无论是潜在的恶意软件，还是违反组织政策的特定软件，如游戏或其他软件。
- en: Finally, the Settings tab allows you to create new users to allow other administrators
    to access your Automox console to manage your endpoints. You can also find and
    add your agent access keys in this tab. One thing you should absolutely take advantage
    of is the two-factor authentication setting. By enabling two-factor authentication,
    you make your account more secure and therefore make unauthorized access to your
    devices and patch management information much more difficult (discussed further
    in [Chapter 11](nsp-enoka501485-0020.xhtml#ch11)).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，设置选项卡允许您创建新用户，以便其他管理员可以访问您的 Automox 控制台来管理终端设备。您还可以在此选项卡中查找并添加代理访问密钥。您应该充分利用的一项功能是双因素认证设置。通过启用双因素认证，您可以增强账户的安全性，从而使未经授权访问您的设备和补丁管理信息变得更加困难（在[第
    11 章](nsp-enoka501485-0020.xhtml#ch11)中有进一步讨论）。
- en: '[Summary](nsp-enoka501485-0007.xhtml#rah1003)'
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '[概述](nsp-enoka501485-0007.xhtml#rah1003)'
- en: Keeping your systems up-to-date is critical in keeping your network secure.
    Whether you choose to use the built-in antivirus and patching options for your
    operating system or a managed patching solution like Automox, updates should be
    regularly scheduled and virus scans regularly run; otherwise, you leave your network
    vulnerable to all sorts of adversaries and unnecessary risk.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 保持系统最新对于确保网络安全至关重要。无论您选择使用操作系统内置的防病毒和补丁选项，还是像 Automox 这样的托管补丁解决方案，都应定期安排更新和病毒扫描；否则，您将使网络面临各种对手和不必要的风险。
