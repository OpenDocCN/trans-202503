- en: '4'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: THE NIGHT-LIGHT
  prefs: []
  type: TYPE_NORMAL
- en: THIS CIRCUIT IS A NIGHT-LIGHT THAT TURNS ON IN THE DARK.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0030-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**THE CIRCUIT DIAGRAM**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![image](../images/f0031-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**THE PARTS LIST**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| **PART** | **VALUE** | **DESCRIPTION** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| LDR | ~10 k to ~200 kΩ | Light-dependent resistor (photoresistor) with around
    5 to 10 kΩ resistance in light and 200 kΩ or more in dark |'
  prefs: []
  type: TYPE_TB
- en: '| Q1 | BC547 | Any general-purpose NPN transistor |'
  prefs: []
  type: TYPE_TB
- en: '| R1 | 100 kΩ | Standard resistor |'
  prefs: []
  type: TYPE_TB
- en: '| R3 | 470 Ω | Standard resistor |'
  prefs: []
  type: TYPE_TB
- en: '| LED |  | Standard-output light-emitting diode |'
  prefs: []
  type: TYPE_TB
- en: '**ABOUT THE CIRCUIT**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This circuit turns on an LED when it gets dark. During the day, the light stays
    off, but at night, it can help you see things like the keyhole in your front door
    or a glass of water on your nightstand.
  prefs: []
  type: TYPE_NORMAL
- en: This circuit is similar to the one in [Project 3](ch03.xhtml#ch03), but here
    the transistor controls an LED instead of a buzzer. Remember, the LED has a resistor
    connected in series to limit its current.
  prefs: []
  type: TYPE_NORMAL
- en: Also, the resistor and LDR, which form the voltage divider that sets the voltage
    to the base of the transistor, have switched places.
  prefs: []
  type: TYPE_NORMAL
- en: In [Project 3](ch03.xhtml#ch03), the LDR was the upper resistor on the voltage
    divider. So when the resistance of the LDR was *low*—that is, when it sensed light
    from the opened cookie jar—the transistor turned on. In this circuit, the LDR
    is the lower resistor of the voltage divider. That means the transistor turns
    on when the resistance of the LDR is *high*, which happens when it’s dark.
  prefs: []
  type: TYPE_NORMAL
- en: '**COMMON MISTAKES**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If your circuit isn’t working correctly, check for the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The R1 resistance value is too high, so the LED never turns on. If you change
    R1, its resistance must not be less than 1 kΩ (see “How the Circuit Works” next).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The R1 resistance value is too low, so the LED is always on.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You used the wrong value for R3—either too much or too little resistance.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You connected the transistor the wrong way.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You connected the LED the wrong way.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You can change the circuit’s sensitivity to light by changing the resistance
    of R1, but as mentioned previously, it must not be less than 1 kΩ (otherwise you
    may destroy the transistor).
  prefs: []
  type: TYPE_NORMAL
- en: If you’re still struggling with this circuit, you can find more resources through
    the book’s website at *[https://nostarch.com/circuits/](https://nostarch.com/circuits/)*.
  prefs: []
  type: TYPE_NORMAL
- en: '**HOW THE CIRCUIT WORKS**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Just as in the Cookie Jar Alarm, the LDR and the resistor (R1) make up a voltage
    divider in this circuit. But since the LDR is now placed at the bottom of the
    voltage divider (between the transistor base and negative battery terminal), it
    works opposite to how the Cookie Jar Alarm works. In this circuit, when it’s dark
    and the LDR resistance is high, the voltage on the transistor’s base will be high
    enough to turn the LED on (shown in [Figure 4-1](ch04.xhtml#ch04fig1)). This means
    the transistor switches on the LED when it’s dark.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0033-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**FIGURE 4-1** The amount of current flowing from the base to the emitter determines
    how much current can flow from the collector to the emitter.'
  prefs: []
  type: TYPE_NORMAL
- en: The LDR that I used for this project has around 5 to 10 kΩ resistance when it’s
    in light. With the 100 kΩ resistor (R1), the LED will turn on when the value of
    the LDR goes above about 10 kΩ.
  prefs: []
  type: TYPE_NORMAL
- en: A curious thing about this circuit is that the R1 resistor will also set the
    maximum brightness of the LED. This is because R1 determines the amount of current
    that flows into the base of the transistor, which in turn decides how much current
    can flow into the collector.
  prefs: []
  type: TYPE_NORMAL
- en: For a general-purpose transistor like the one you’re using in this project,
    the amount of current flowing from the collector to the emitter can be up to 100
    times greater than the current flowing from the base to the emitter.
  prefs: []
  type: TYPE_NORMAL
- en: That means that if you have 0.1 mA of current flowing from the base to the emitter,
    you can have up to 10 mA flowing from the collector to the emitter. If 10 mA is
    the upper limit from the collector to the emitter, that’s the maximum that can
    flow through the LED too.
  prefs: []
  type: TYPE_NORMAL
- en: The current that flows into the base of the transistor has to first flow through
    R1\. Not all the current that flows through R1 will go into the base—some will
    go through the LDR too—but when it’s dark, the LDR resistance is so high that
    you can simplify for the sake of the calculation and say that all the current
    goes into the base.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finding the current (I) through R1 is actually quite simple. Just find the
    voltage (V) across the resistor and divide it by the resistor value (R):'
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0033-02.jpg)'
  prefs: []
  type: TYPE_IMG
- en: This calculation is based on *Ohm’s law*, which describes the relationship among
    voltage, resistance, and current. You can learn more about Ohm’s law at *[https://www.build-electronic-circuits.com/ohms-law/](https://www.build-electronic-circuits.com/ohms-law/)*.
  prefs: []
  type: TYPE_NORMAL
- en: The voltage on the upper side of the resistor is easy. It’s 9 V because it is
    connected to the positive terminal of the battery, but what about the lower side?
    Since you’re looking for the maximum current that can flow through the transistor,
    it only makes sense to look at the current when the transistor is turned on. When
    the transistor is on, the voltage on the base of the transistor is around 0.7
    V.
  prefs: []
  type: TYPE_NORMAL
- en: So you have 9 V on one side and 0.7 V on the other. This means you have 8.3
    V across the resistor (R1). Using Ohm’s law, you can divide 8.3 V by 100,000 Ω
    (= 100 kΩ) to get 0.000083 A (= 0.083 mA), so the maximum current that can flow
    through the LED and into the collector of the transistor is 100 times larger,
    or 8.3 mA.
  prefs: []
  type: TYPE_NORMAL
- en: Since R1 is limiting the current to a value that is safe for the LED, in this
    circuit you could actually skip the R3 resistor, whose job is also to limit the
    current to the LED.
  prefs: []
  type: TYPE_NORMAL
