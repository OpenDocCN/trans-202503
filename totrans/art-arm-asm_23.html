<html><head></head><body>
<div id="book-content">
<div id="sbo-rt-content"><section epub:type="chapter" role="doc-chapter" aria-labelledby="appC">&#13;
<span role="doc-pagebreak" epub:type="pagebreak" id="pg_945" aria-label="945"/>&#13;
<hgroup>&#13;
<h2 class="CHAPTER" id="appC">&#13;
<span class="APN"><span class="SANS_Futura_Std_Bold_Condensed_B_11">C</span></span>&#13;
<span class="APT"><span class="SANS_Dogma_OT_Bold_B_11">INSTALLING AND USING GAS</span></span>&#13;
</h2>&#13;
</hgroup>&#13;
<figure class="opener"><img class="opener" src="../images/opener.jpg" alt="" width="378" height="378"/>&#13;
</figure>&#13;
<p class="ChapterIntro">To compile ARM assembly language source files (including those in this book) on your computer, you will need the Gas assembler and other tools installed. The assembler is part of the GNU C compiler suite, so if you install that package on your system, you’ll get the assembler as well. Since the installation instructions differ by OS, this appendix will help you locate and install the files you need on your machine.</p>&#13;
<p class="TX">Before attempting to install any software, check to see whether that software is already installed by issuing the following commands:</p>&#13;
<pre id="pre-1236"><code><span class="SANS_TheSansMonoCd_W7Bold_11">as --version</span>&#13;
<span class="SANS_TheSansMonoCd_W7Bold_11">gcc --help</span></code></pre>&#13;
<p class="TX"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_946" aria-label="946"/>If these commands print a help message for Gas and GCC, the assembler (and GCC) are already installed on your system, and you’re good to go. However, if either command complains that the file is not found (or otherwise does not print the help screen), skip to the section for your OS to install GCC and Gas.</p>&#13;
<section epub:type="division" aria-labelledby="sec1">&#13;
&#13;
<h2 class="H1" id="sec1"><span id="h1-168"/><span class="SANS_Futura_Std_Bold_B_11">C.1 macOS</span></h2>&#13;
<p class="TNI1">To write assembly code on an Apple Silicon machine (such as an M<i>x</i> class machine or even an iPad or iPhone), you must install Apple’s Xcode development platform on your Mac. Go to the Apple App Store and then locate, download, and install Xcode. This is a very large file (many gigabytes) and will take a while to download. After you run the installer, you should be able to compile the assembly code in this book.</p>&#13;
<p class="TX">Technically, when installing Xcode, you’re installing Apple’s LLVM Clang compiler and Clang assembler, not GCC and Gas. However, these tools are mostly compatible with GCC and Gas (and can certainly handle all the source code appearing in this book). The two assemblers have occasional syntax differences, and the <i>aoaa.inc</i> file was created to help smooth over those differences (review the <i>aoaa.inc</i> source code if you are interested in seeing some of them). Various comments throughout this book also point out the differences between Gas and the Clang assembler (for example, see the discussion of the <span class="SANS_TheSansMonoCd_W5Regular_11">lea</span> macro in section 3.8, <span class="Xref">“Getting the Address of a Memory Object,”</span> on <span class="Xref"><a href="chapter3.xhtml#pg_153">page 153</a></span>).</p>&#13;
</section>&#13;
<section epub:type="division" aria-labelledby="sec2">&#13;
&#13;
<h2 class="H1" id="sec2"><span id="h1-169"/><span class="SANS_Futura_Std_Bold_B_11">C.2 Linux</span></h2>&#13;
<p class="TNI1">Many Linux installations come with GCC and Gas already installed. If you are running Debian/Ubuntu Linux or Raspberry Pi OS, enter <span class="SANS_TheSansMonoCd_W7Bold_11">gcc --version</span> at the command line; if the shell doesn’t respond with an error but instead prints information on GCC, you’re all set.</p>&#13;
<p class="TX">If you do need to install GCC and Gas, the first step, as with any Linux installation (this book assumes a Debian/Ubuntu installation), is to update your system:</p>&#13;
<pre id="pre-1237"><code><span class="SANS_TheSansMonoCd_W7Bold_11">sudo apt update</span></code></pre>&#13;
<p class="Continued1">Note that this requires an account with sudo privileges.</p>&#13;
<p class="TX">Next, install the <i>build-essential</i> package with the following command:</p>&#13;
<pre id="pre-1238"><code><span class="SANS_TheSansMonoCd_W7Bold_11">sudo apt install build-essential</span></code></pre>&#13;
<p class="Continued1">This installs several programs, including <span class="SANS_TheSansMonoCd_W5Regular_11">gcc</span>, Gas, <span class="SANS_TheSansMonoCd_W5Regular_11">make</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">ld</span>. Verify that the system has properly installed these tools by using the following command:</p>&#13;
<pre id="pre-1239"><code><span class="SANS_TheSansMonoCd_W7Bold_11">gcc --version</span></code></pre>&#13;
<p class="Continued1"><span role="doc-pagebreak" epub:type="pagebreak" id="pg_947" aria-label="947"/>This should print the version information for GCC if it has been properly installed.</p>&#13;
<p class="TX">Optionally, you can install the man pages for GCC and the other tools by using the following command:</p>&#13;
<pre id="pre-1240"><code><span class="SANS_TheSansMonoCd_W7Bold_11">sudo apt-get install manpages-dev</span></code></pre>&#13;
<p class="TX">If you are using a different variant of Linux, please consult the documentation for your distribution or search for installation instructions online to install GCC.</p>&#13;
</section>&#13;
</section>&#13;
</div>
</div>
</body></html>