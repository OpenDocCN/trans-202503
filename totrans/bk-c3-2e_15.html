<html><head></head><body>
<h2 class="h2" id="ch15"><a id="page_185"/><strong>15</strong></h2>
<p class="h2a"><strong>FLEXIBLE BOX LAYOUT</strong></p>
<div class="image"><img alt="Image" src="graphics/common-01.jpg"/></div>
<p class="noindentt">That web pages look as good as they do is a minor miracle (comparatively speaking, of course!). Since the move away from tablebased layouts to pure CSS, developers have often had to create complex page structures using simple tools such as <code>float</code>, <code>margin</code>, and <code>position</code>—tools perhaps not even intended for that purpose when they were first created. As CSS has matured and browsers have grown more powerful, a new range of alternative layout approaches has been proposed.</p>
<p class="indent">The one most widely implemented is called Flexible Box Layout (or <em>Flexbox</em>). This approach is defined in the Flexible Box Layout Module (<em><a href="http://www.w3.org/TR/css-flexbox-1/">http://www.w3.org/TR/css-flexbox-1/</a></em>), and it makes elements resize flexibly to better fit their available space, without the need for floats, positioning, or complex calculations.</p>
<p class="indent">Although you can certainly create entire page layouts with Flexbox, it is most suitable for working with interface elements and smaller components. When working with whole page layouts, consider using the Grid Layout Module, which I’ll introduce in <a href="ch17.html#ch17">Chapter 17</a>. But if you’re building a user interface or an app (especially an app with a lot of buttons, form elements, or interactive regions), you’ll find Flexbox extremely useful.</p>
<h3 class="h3" id="ch15leve1sec189"><a id="page_186"/><strong>Declaring the Flexible Box Model</strong></h3>
<p class="noindent">The first step in using Flexbox is to create the <em>flex container</em>—the parent element that will create a new formatting context for its contents. To declare a flex container, you simply use a new value for the <code>display</code> property:</p>
<pre class="programs"><span class="codeitalic">E</span> { display: flex; }</pre>
<p class="indent">This creates a block-level flex container; you can use the alternate <code>inline-flex</code> value if you prefer an inline-level container.</p>
<p class="indent">Now you can add <em>flex items</em> to the flex container. A flex item is any child of the flex container, which is subject to the formatting context created by the container. For example, in the following code if <code>#container</code> is set as the flex container, the two child items will become flex items:</p>
<pre class="programs">&lt;div id="container"&gt;<br/>  &lt;div id="a"&gt;…&lt;/div&gt;<br/>  &lt;div id="b"&gt;…&lt;/div&gt;<br/>&lt;/div&gt;</pre>
<p class="indent">This combination of markup and CSS is shown in <a href="ch15.html#ch15fig1">Figure 15-1</a>. Notice that the two elements are of equal width and laid out next to each other, without needing to use floats or positioning properties. By default, flex items are laid out in the direction of the document text—that is, from left to right for languages such as English, from right to left for languages such as Arabic (specified with the <code>dir</code> HTML attribute or <code>direction</code> CSS property), and from top to bottom for languages such as Japanese (set with the <code>text-direction</code> CSS property, but not yet broadly supported).</p>
<div class="image"><img alt="Image" src="graphics/f15-01.jpg"/></div>
<p class="figuret"><a id="ch15fig1"/><em>Figure 15-1: Child items of a flex container are laid out horizontally by default.</em></p>
<p class="note"><strong><small>NOTE</small></strong><br/><em>All of the examples throughout the rest of this chapter use the left-to-right direction, unless otherwise stated.</em></p>
<p class="indent">To alter the default layout direction, you can use the <code>flex-direction</code> property on the container. The default value <code>row</code> lays items out in a row, whereas a value of <code>column</code> lays them out from top to bottom in a column.</p>
<pre class="programs"><span class="codeitalic">E</span> {<br/>  display: flex;<br/>  flex-direction: column;<br/>}</pre>
<h3 class="h3" id="ch15leve1sec190"><a id="page_187"/><strong>Flexbox Alignment</strong></h3>
<p class="noindent">Flexbox uses two axes for alignment. As shown in <a href="ch15.html#ch15fig2">Figure 15-2</a>, the <em>main axis</em> goes in the direction that items are placed, from left to right or top to bottom. When the value of <code>flex-direction</code> is <code>row</code>, the main axis is horizontal; when it is <code>column</code>, the main axis is vertical. The <em>cross axis</em> is the line that runs perpendicular to the main axis: it’s vertical when the direction is <code>row</code> and horizontal when it’s <code>column</code>.</p>
<div class="image"><img alt="Image" src="graphics/f15-02.jpg"/></div>
<p class="figuret"><a id="ch15fig2"/><em>Figure 15-2: The main and cross axes depend on the direction of the layout of the flex children.</em></p>
<p class="indent">When dealing with flex containers and items, you’ll often see points referred to as the start and end of axes. Because flex axes can be reversed (from top to bottom or bottom to top, and left to right or right to left), you use start and end rather than relative directions to prevent confusion. For example, when the main axis is horizontal and the direction is from left to right, the start of the main axis is the left and the end is the right; but if the main axis is vertical, the start of the main axis is at the top and the end is at the bottom (or vice versa if reversed).</p>
<h3 class="h3" id="ch15leve1sec191"><strong>Reversing the Content Order</strong></h3>
<p class="noindent">One of Flexbox’s great capabilities is that you can quickly change the order in which items are displayed, regardless of their order in the DOM. For example, <a href="ch15.html#ch15fig1">Figure 15-1</a> shows two items laid out in a row, in the order in which they’re declared in the DOM. What if you want to change their order so <code>#b</code> comes before <code>#a</code>?</p>
<p class="indent">You can do this quickly with the <code>flex-direction</code> property, using the value <code>row-reverse</code> to reverse the order in which the flex items are displayed, as shown here. (The <code>column-reverse</code> property value reverses the order of flex items vertically displayed in columns.)</p>
<pre class="programs"><span class="codeitalic">E</span> { flex-direction: row-reverse; }</pre>
<p class="indent"><a id="page_188"/>The result is shown in <a href="ch15.html#ch15fig3">Figure 15-3</a>.</p>
<div class="image"><img alt="Image" src="graphics/f15-03.jpg"/></div>
<p class="figuret"><a id="ch15fig3"/><em>Figure 15-3: The</em> <code><em>row-reverse</em></code> <em>value quickly reverses the order of flex items.</em></p>
<p class="indent">Because reversing directions like this also reverses the axis direction, in the case of <code>row-reverse</code>, the start of the axis is on the left, and the end is on the right. In the case of <code>column-reverse</code>, the start is at the bottom, and the end is at the top.</p>
<h3 class="h3" id="ch15leve1sec192"><strong>Fully Reordering Content</strong></h3>
<p class="noindent">You can create custom ordering patterns with the <code>order</code> property. The <code>order</code> property is applied to the flex items (not their container). The value of the property is a number that creates an <em>ordinal group</em> that groups together items with the same value and orders them by their ordinal group: All items in the lowest numbered group come first, then all items in the second-lowest numbered group, and so on. Any items without a declared value are shown first because they have the default value of 0.</p>
<p class="indent">Items with the same ordinal group number are grouped in the order in which they appear in the DOM. For example, consider four flex items, <code>#a</code> through <code>#d</code>:</p>
<pre class="programs">&lt;div id="container"&gt;<br/>  &lt;div id="a"&gt;…&lt;/div&gt;<br/>  &lt;div id="b"&gt;…&lt;/div&gt;<br/>  &lt;div id="c"&gt;…&lt;/div&gt;<br/>  &lt;div id="d"&gt;…&lt;/div&gt;<br/>&lt;/div&gt;</pre>
<p class="indent">If no explicit values are set, and if <code>flex-direction</code> isn’t reversed, the children are displayed in the order in which they appear in the DOM: <code>#a</code>, <code>#b</code>, <code>#c</code>, <code>#d</code>. But let’s reorder them by using different values on the <code>order</code> property:</p>
<pre class="programs">#a { order: 2; }<br/>#b, #d { order: 3; }<br/>#c { order: 1; }</pre>
<p class="indent">With these rules applied, the order in which the items are laid out becomes: <code>#c</code>, <code>#a</code>, <code>#b</code>, <code>#d</code>. Item <code>#c</code> comes first because it has the lowest ordinal group number, followed by <code>#a</code> with the next highest number, then <code>#b</code> and <code>#d</code>—both of which are in ordinal group 3. Item <code>#d</code> comes last because it comes later in the DOM order.</p>
<p class="indent"><a id="page_189"/><a href="ch15.html#ch15fig4">Figure 15-4</a> shows the result.</p>
<div class="image"><img alt="Image" src="graphics/f15-04.jpg"/></div>
<p class="figuret"><a id="ch15fig4"/><em>Figure 15-4: The flex items reordered using ordinal groups</em></p>
<p class="indent">Notice that items <code>#c</code> and <code>#a</code> share the same background colors, as do <code>#b</code> and <code>#d</code>. The background colors should alternate because I’m using the <code>:nth-child()</code> pseudo-class discussed in <a href="ch04.html#ch04">Chapter 4</a>:</p>
<pre class="programs">.flex-item:nth-child(even) { background-color: gray; }</pre>
<p class="indent">But remember that the items have only changed order visually; they retain the same order in the markup, which is why <code>:nth-child()</code> applies the gray background to the elements that should be even numbered—namely, <code>#b</code> and <code>#d</code>.</p>
<h3 class="h3" id="ch15leve1sec193"><strong>Adding Flexibility</strong></h3>
<p class="noindent">When using Flexbox, you will almost certainly encounter situations where the combined lengths of flex items along the main axis are greater or less than the width of the flex container. When this happens, the “flexible” part of Flexbox comes into play. Several properties allow flex items to grow or shrink to fill their container. I’ll walk you through them in this section.</p>
<h4 class="h4" id="ch15leve1sec194"><strong><em>The flex-grow Property</em></strong></h4>
<p class="noindent">Let’s say you have a flex container 600px wide that contains three flex items. Each one is 150px wide, making a combined width of 450px. The difference between the width of the container and the combined width of the items leaves an empty space of 150px (that’s 600 − 450) at the end of the items, as shown in <a href="ch15.html#ch15fig5">Figure 15-5</a>.</p>
<div class="image"><img alt="Image" src="graphics/f15-05.jpg"/></div>
<p class="figuret"><a id="ch15fig5"/><em>Figure 15-5: Three flex items with a combined width narrower than the width of their container leaves empty space on the right.</em></p>
<p class="indent"><a id="page_190"/>To expand the items to fill the container, you can use the <code>flex-grow</code> property:</p>
<pre class="programs">.flex-item { flex-grow: 1; }</pre>
<p class="indent">The value of the <code>flex-grow</code> property is basically a ratio that’s used to distribute the empty space between the flex items so they expand. In this case, I used a 1:1:1 ratio to divide the empty 150px equally between the three flex items. Because 150 divided by 3 is 50, each item is expanded by 50px, making their total width equal to the width of the container, as shown in <a href="ch15.html#ch15fig6">Figure 15-6</a>.</p>
<div class="image"><img alt="Image" src="graphics/f15-06.jpg"/></div>
<p class="figuret"><a id="ch15fig6"/><em>Figure 15-6: The three flex items now fill the width of their container.</em></p>
<p class="indent">You can also provide different values to adjust the distribution ratio. For example, to make <code>#b</code> take up more of the width of the container than the other two items, you could set a value of 3 for <code>#b</code>:</p>
<pre class="programs">#b { flex-grow: 3; }</pre>
<p class="indent">Now the 150px will be redistributed using the ratio 1:3:1, so for every one pixel distributed to <code>#a</code> and <code>#c</code>, <code>#b</code> will receive three. As a result <code>#a</code> and <code>#c</code> will each be expanded to 180px wide, whereas <code>#b</code> will be 240px wide as shown in <a href="ch15.html#ch15fig7">Figure 15-7</a>.</p>
<div class="image"><img alt="Image" src="graphics/f15-07.jpg"/></div>
<p class="figuret"><a id="ch15fig7"/><em>Figure 15-7: Because</em> <code><em>#b</em></code> <em>has a higher</em> <code><em>flex-grow</em></code> <em>value, when resized, it’s wider than its siblings.</em></p>
<p class="indent">Because the default value for <code>flex-grow</code> is 0 (zero), flex items will keep their width and not expand to fill the container unless explicitly instructed to do so.</p>
<h4 class="h4" id="ch15leve1sec195"><a id="page_191"/><strong><em>The flex-shrink Property</em></strong></h4>
<p class="noindent">Just as <code>flex-grow</code> is used to expand flex items to fill their container, <code>flex-shrink</code> is used to shrink items. For example, let’s revisit our flex container from the previous section with items <code>#a</code>, <code>#b</code>, and <code>#c</code>; only in this case, we’ll make each item 300px wide. Now the total width of the three items is 900px, which exceeds the 600px width of the parent by 300px.</p>
<p class="indent">To shrink these elements to fit within the container width, you could use the <code>flex-shrink</code> property:</p>
<pre class="programs">.flex-item { flex-shrink: 1; }</pre>
<p class="indent">The <code>flex-shrink</code> property works like <code>flex-grow</code> but in the opposite direction. For example, a value of 1 (the default) reduces each item by the same proportion—each by 100px (300 divided by 3). The resulting items will be 200px each, for a total of 600px, which matches the width of the container.</p>
<p class="indent">Like <code>flex-grow</code>, different values change the distribution ratio. For example, if you use a value of 3 for item <code>#b</code>, its width is reduced by three pixels for every one-pixel reduction of the other two items.</p>
<pre class="programs">#b { flex-shrink: 3; }</pre>
<p class="indent">Higher numbers reduce the elements by a greater factor. In this example, for each pixel removed from the width of <code>#a</code> and <code>#c</code>, three are removed from <code>#b</code>. As you can see in <a href="ch15.html#ch15fig8">Figure 15-8</a>, <code>#a</code> and <code>#c</code> are 240px in width, whereas <code>#b</code> is only 120px, which is narrower than its original width.</p>
<div class="image"><img alt="Image" src="graphics/f15-08.jpg"/></div>
<p class="figuret"><a id="ch15fig8"/><em>Figure 15-8: Flex item</em> <code><em>#b</em></code> <em>has a higher</em> <code><em>flex-shrink</em></code> <em>value than its siblings, so it’s shrunk proportionally more to fit its container.</em></p>
<h4 class="h4" id="ch15leve1sec196"><strong><em>The flex-basis Property</em></strong></h4>
<p class="noindent">The width of flex items can be set either by the content they contain or by an explicit <code>width</code> value, and any growth or shrinkage is calculated from that base width. To change how the width adjustment is calculated, you can set a <code>flex-basis</code> value on an element. This property takes as a value a length unit. Here’s an example:</p>
<pre class="programs">.flex-item { flex-basis: 100px; }</pre>
<p class="indent"><a id="page_192"/>When <code>flex-basis</code> is applied, any existing <code>width</code> value is ignored, and the value that you specify for the <code>flex-basis</code> is used to calculate the adjustment. For example, in the previous two sections, the <code>width</code> value of 150px is ignored and all growth or shrinking is based on the <code>flex-basis</code> value of 100px. You could add the <code>flex-basis</code> value of 100px to <code>#b</code> in <a href="ch15.html#ch15fig7">Figure 15-7</a>, like this:</p>
<pre class="programs">.child-item {<br/>    flex-grow: 1;<br/>    width: 150px;<br/>}<br/>#b {<br/>    flex-basis: 100px;<br/>    flex-grow: 3;<br/>}</pre>
<p class="indent">Now the empty space in the container will be redistributed using the ratio 1:3:1, which means that, based on the <code>width</code> values, <code>#a</code> and <code>#c</code> would expand by 30px each and <code>#b</code> by 90px. Because of the <code>flex-basis</code> value, however, that space distribution is performed as if <code>#b</code> had a width of 100px, not the specified <code>width</code> value of 150px.</p>
<p class="indent">At first, it seems illogical that <code>#b</code> ends up wider than its siblings despite having a lower width set by its <code>flex-basis</code> value. The reason is that there is now a spare width of 200px (the combined widths of the flex items is 400px; the parent is 600px). This 200 is redistributed between the three boxes using the ratio 1:3:1. Although <code>#b</code> begins at 100px wide, it receives 120px of the spare space whereas <code>#a</code> and <code>#c</code> receive 40px.</p>
<p class="indent">As a result, <code>#a</code> and <code>#c</code> end up 190px wide, and <code>#b</code> is 220px wide. Compare the result shown in <a href="ch15.html#ch15fig9">Figure 15-9</a> with <a href="ch15.html#ch15fig7">Figure 15-7</a> to see the difference.</p>
<div class="image"><img alt="Image" src="graphics/f15-09.jpg"/></div>
<p class="figuret"><a id="ch15fig9"/><em>Figure 15-9: Because</em> <code><em>#b</em></code> <em>has a</em> <code><em>flex-basis</em></code> <em>value applied, it’s resized to be larger than its siblings.</em></p>
<h4 class="h4" id="ch15leve1sec197"><strong><em>The flex Shorthand</em></strong></h4>
<p class="noindent">As with many properties, the <code>flex-*</code> family has a shorthand property called <code>flex</code>. The values it takes are, in order, <code>flex-grow</code>, <code>flex-shrink</code>, and <code>flex-basis</code>. Consider this example:</p>
<pre class="programs"><span class="codeitalic">E</span> { flex: 1 2 150px; }</pre>
<p class="indent"><a id="page_193"/>Here, element <code><em>E</em></code> has a <code>flex-grow</code> value of 1 and a <code>flex-shrink</code> value of 2. The value used is chosen based on the width of the flex items in comparison with their flex container; where flex items don’t fill their container, the <code>flex-grow</code> value is used, and where flex items exceed their container, the <code>flex-shrink</code> value comes into play. The final value, 150px, is the <code>flex-basis</code> value.</p>
<h3 class="h3" id="ch15leve1sec198"><strong>Alignment Inside the Container</strong></h3>
<p class="noindent">When you have items with fixed dimensions inside a flex container, you’ll likely have empty space along one or both of the axes. For example, in <a href="ch15.html#ch15fig5">Figure 15-5</a>, three flex items that are each 150px wide didn’t fill the width of their 600px container. When this is the case, you can align the items inside the container to make better use of the available space.</p>
<h4 class="h4" id="ch15leve1sec199"><strong><em>Horizontal Alignment with justify-content</em></strong></h4>
<p class="noindent">Thankfully, Flexbox offers tight control over alignment and placement, allowing you to redistribute unused space with the <code>justify-content</code> property. This property is applied to the flex container and accepts a series of keyword values that are applied differently depending on the direction of the flex parent (row, column, reversed row, and so on):</p>
<pre class="programs">.flex-container { justify-content: <span class="codeitalic">keyword</span>; }</pre>
<p class="indentb">The default value is <code>flex-start</code>, which (as shown in <a href="ch15.html#ch15fig5">Figure 15-5</a>) aligns all flex items to the left of the parent with the unused space occupying the remaining width to the right. The alternative values are the following:</p>
<p class="bull">• <code>flex-end</code>, which aligns items to the right of the container with the unused space to the left</p>
<p class="bull">• <code>center</code>, which distributes the unused space to either side of all items, centering the items in the container</p>
<p class="bull">• <code>space-between</code>, which adds an equal amount of space between each item but none before the first or after the last item</p>
<p class="bull">• <code>space-around</code>, which puts an equal amount of space on both sides of each item</p>
<p class="indentt">The following code shows a few different values for the sake of comparison, with the results shown in <a href="ch15.html#ch15fig10">Figure 15-10</a>.</p>
<pre class="programs">.container-a { justify-content: flex-start; }<br/>.container-b { justify-content: center; }<br/>.container-c { justify-content: space-around; }</pre>
<div class="image"><a id="page_194"/><img alt="Image" src="graphics/f15-10.jpg"/></div>
<p class="figuret"><a id="ch15fig10"/><em>Figure 15-10: Different values for the</em> <code><em>justify-content</em></code> <em>property:</em> <code><em>flex-start</em></code> <em>(top),</em> <code><em>center</em></code> <em>(middle), and</em> <code><em>space-around</em></code> <em>(bottom)</em></p>
<h4 class="h4" id="ch15leve1sec200"><strong><em>Vertical Alignment with align-items</em></strong></h4>
<p class="noindent">When the height of your flex items is less than the height of the flex container, you can use the property <code>align-items</code> to adjust the items within the container:</p>
<pre class="programs">.flex-container { align-items: <span class="codeitalic">keyword</span>; }</pre>
<p class="indentb">The principal keyword values for this property are:</p>
<p class="bull">• <code>stretch</code>, which makes items the same height as the parent</p>
<p class="bull">• <code>flex-start</code>, which aligns items to the top of the container</p>
<p class="bull">• <code>flex-end</code>, which aligns items to the bottom of the container</p>
<p class="bull">• <code>center</code>, which aligns items to the vertical center of the container, with equal space above and below</p>
<p class="indentt">The default value is <code>stretch</code> if the items have no height explicitly specified, or <code>flex-start</code> if they do.</p>
<p class="indent">In the following listing, I’ve set the flex container to have a <code>flex-direction</code> value of <code>column</code>, so the main axis is vertical and the cross axis is horizontal. <a href="ch15.html#ch15fig11">Figure 15-11</a> shows the results.</p>
<pre class="programs">.container-a { align-items: stretch; }<br/>.container-b { align-items: flex-end; }<br/>.container-c { align-items: center; }</pre>
<div class="image"><a id="page_195"/><img alt="Image" src="graphics/f15-11.jpg"/></div>
<p class="figuret"><a id="ch15fig11"/><em>Figure 15-11: Alignment on the cross axis is controlled with different values for</em> <code><em>align-items</em></code><em>:</em> <code><em>stretch</em></code> <em>(left),</em> <code><em>flex-end</em></code> <em>(middle), and</em> <code><em>center</em></code> <em>(right).</em></p>
<p class="indent">Notice that with no explicit width set, the flex items in the second and third columns are sized only to the width of their content, and then aligned within the container based on its <code>align-items</code> value.</p>
<h4 class="h4" id="ch15leve1sec201"><strong><em>Cross-Axis Alignment with align-self</em></strong></h4>
<p class="noindent">To control the cross-axis alignment of individual items, use the <code>align-self</code> property. This property applies to the item, not the container. The values are the same as for <code>align-items</code>, and they have the same effects on the selected item only; sibling items are unaffected.</p>
<p class="indent">For example, in the following listing, element <code>#c</code> has a different value than its siblings:</p>
<pre class="programs">.container { align-items: flex-end; }<br/>#c { align-self: flex-start; }</pre>
<p class="indent">The effect (using the default row direction) is shown in <a href="ch15.html#ch15fig12">Figure 15-12</a>.</p>
<div class="image"><img alt="Image" src="graphics/f15-12.jpg"/></div>
<p class="figuret"><a id="ch15fig12"/><em>Figure 15-12: Flex item</em> <code><em>#c</em></code> <em>is aligned differently from its siblings because of the</em> <code><em>align-self</em></code> <em>property.</em></p>
<h4 class="h4" id="ch15leve1sec202"><a id="page_196"/><strong><em>Wrap and Flow</em></strong></h4>
<p class="noindent">When you have too many items to fit comfortably into one row (or column) of a container, you can break them onto multiple lines using the <code>flex-wrap</code> property. The default value of <code>nowrap</code> preserves all the items on the same line, whereas a value of <code>wrap</code> breaks them onto extra lines below the first (or to the right in column view), if required.</p>
<pre class="programs">.flex-container { flex-wrap: wrap; }</pre>
<p class="indent">The value <code>wrap-reverse</code> changes the direction of the cross axis so new lines appear above (or to the left). <a href="ch15.html#ch15fig13">Figure 15-13</a> compares the effect of the two different values.</p>
<div class="image"><img alt="Image" src="graphics/f15-13.jpg"/></div>
<p class="figuret"><a id="ch15fig13"/><em>Figure 15-13: Comparing the effects of different values for the</em> <code><em>flex-wrap</em></code> <em>property. The top example has a value of</em> <code><em>wrap</em></code><em>, so element</em> <code><em>#c</em></code> <em>appears on a new line below, whereas in the bottom example, the value is</em> <code><em>wrap-reverse</em></code><em>, so element</em> <code><em>#c</em></code> <em>is on a new line above.</em></p>
<h4 class="h4" id="ch15leve1sec203"><strong><em>The flex-flow Shorthand</em></strong></h4>
<p class="noindent">You can combine <code>flex-wrap</code> with <code>flex-direction</code> in the shorthand <code>flex-flow</code> property. For example, to set a column with multiple lines and a reversed cross axis, use this:</p>
<pre class="programs"><span class="codeitalic">E</span> { flex-flow: column wrap-reverse; }</pre>
<h4 class="h4" id="ch15leve1sec204"><strong><em>Aligning Multiple Lines with align-content</em></strong></h4>
<p class="noindent">When items wrap over multiple lines, you can control their alignment with the <code>align-content</code> property. This property works like <code>justify-content</code> but on the cross axis. It has the same possible values—<code>flex-start</code>, <code>flex-end</code>, <a id="page_197"/><code>center</code>, <code>space-between</code>, and <code>space-around</code>—and also adds <code>stretch</code>, which resizes the items to fill all unused space. <a href="ch15.html#ch15fig14">Figure 15-14</a> compares the effects of the values <code>center</code> and <code>space-between</code>.</p>
<div class="image"><img alt="Image" src="graphics/f15-14.jpg"/></div>
<p class="figuret"><a id="ch15fig14"/><em>Figure 15-14: Alignment on the cross axis when flex items are wrapped is controlled with</em> <code><em>align-content</em></code><em>:</em> <code><em>center</em></code> <em>(top) and</em> <code><em>space-between</em></code> <em>(bottom).</em></p>
<h3 class="h3" id="ch15leve1sec205"><strong>Browser Support and Legacy Syntaxes</strong></h3>
<p class="noindent">As I write this, Flexbox is well implemented across all major modern browsers, but it has a long history of syntax changes, and supporting a handful of older browsers can be troublesome. For example, Internet Explorer 10 implements an earlier version of the spec, which uses the <code>-ms-</code> prefix for all properties. The IE10 implementation and the modern spec have a few key differences: IE10 uses <code>-ms-flexbox</code> as the name of the value for the <code>display</code> property, rather than <code>flex</code>; and <code>-ms-flex-align</code> and <code>-ms-flex-pack</code> are used rather than <code>align-items</code> and <code>justify-content</code> (their values differ a little, too). IE10 also lacks any implementation of <code>flex-wrap</code> or the <code>flex-flow</code> shorthand. If you need to support IE10, I suggest reading all about the differences from the spec in the IE10 Developer Guide (<em><a href="http://msdn.microsoft.com/en-us/library/ie/hh673531%28v=vs.85%29.aspx">http://msdn.microsoft.com/en-us/library/ie/hh673531%28v=vs.85%29.aspx</a></em>).</p>
<p class="indent">Older versions of WebKit-based browsers, especially Safari 6 and below, use an even more outdated syntax. If you really need to support these older browsers fully, see Stephen Hay’s introductory article from 2009 (<em><a href="http://www.the-haystack.com/2010/01/23/css3-flexbox-part-1/">http://www.the-haystack.com/2010/01/23/css3-flexbox-part-1/</a></em>).</p>
<p class="indent">But don’t let these concerns put you off from using Flexbox. Only a handful of browsers require these older properties, and with a little extra work, you can take advantage of the layout gains that Flexbox brings.</p>
<h3 class="h3" id="ch15leve1sec206"><a id="page_198"/><strong>Summary</strong></h3>
<p class="noindent">Although it introduces a number of unfamiliar new terms and concepts to CSS, Flexbox is an elegant and logical proposal that solves several common problems with website layouts. Flexbox is harder to describe in writing than it is to learn by doing!</p>
<p class="indent">Taking the time to understand Flexbox fully is certainly worthwhile, as many of the new concepts and keywords it introduces are essential to other layout modules now being produced, making it essential to the future of rich layouts on the Web.</p>
<h3 class="h3" id="ch15leve1sec207"><strong>Flexbox: Browser Support</strong></h3>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td class="table2a" valign="top"><p class="table"/></td>
<td class="table2a" valign="top"><p class="table"><strong>Chrome</strong></p></td>
<td class="table2a" valign="top"><p class="table"><strong>Firefox</strong></p></td>
<td class="table2a" valign="top"><p class="table"><strong>Safari</strong></p></td>
<td class="table2a" valign="top"><p class="table"><strong>IE</strong></p></td>
</tr>
<tr>
<td class="table2" valign="top"><p class="table">Flexible box layout</p></td>
<td class="table2" valign="top"><p class="table">Yes</p></td>
<td class="table2" valign="top"><p class="table">Yes</p></td>
<td class="table2" valign="top"><p class="table">Yes<sup><a id="footnote_33a"/><a href="ch15.html#footnote33a">*</a></sup></p></td>
<td class="table2" valign="top"><p class="table">IE10<sup><a id="footnote_34a"/><a href="ch15.html#footnote34a">†</a></sup>, IE11</p></td>
</tr>
</table>
<p class="footnote"><a id="footnote33a"/><a href="ch15.html#footnote_33a">*</a> With vendor prefix</p>
<p class="footnote"><a id="footnote34a"/><a href="ch15.html#footnote_34a">†</a> Supports an older syntax, with vendor prefix</p>
</body></html>