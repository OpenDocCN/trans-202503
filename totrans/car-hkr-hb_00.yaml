- en: INTRODUCTION
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 引言
- en: '![image](graphics/xxi-01.jpg)'
  id: totrans-1
  prefs: []
  type: TYPE_IMG
  zh: '![image](graphics/xxi-01.jpg)'
- en: 'In 2014, Open Garages—a group of people interested in sharing and collaborating
    on vehicle security—released the first *Car Hacker’s Manual* as course material
    for car hacking classes. The original book was designed to fit in a vehicle’s
    glove box and to cover the basics of car hacking in a one- or two-day class on
    auto security. Little did we know how much interest there would be in that that
    first book: we had over 300,000 downloads in the first week. In fact, the book’s
    popularity shut down our Internet service provider (twice!) and made them a bit
    unhappy with us. (It’s okay, they forgave us, which is good because I love my
    small ISP. Hi SpeedSpan.net!)'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 2014年，Open Garages——一个致力于共享和合作研究汽车安全的团体——发布了第一版*《汽车黑客手册》*，作为汽车黑客课程的教材。原书设计得适合放入车载手套箱，并覆盖了为期一到两天的汽车安全课程的基础内容。我们当时没想到那本书会引起如此大的兴趣：在第一周内就有超过30万次下载。事实上，这本书的受欢迎程度一度导致我们的互联网服务提供商（ISP）宕机两次！这让他们有点不高兴。（没关系，他们原谅了我们，这很好，因为我喜欢我的小型ISP。嗨，SpeedSpan.net！）
- en: The feedback from readers was mostly fantastic; most of the criticism had to
    do with the fact that the manual was too short and didn’t go into enough detail.
    This book aims to address those complaints. *The Car Hacker’s Handbook* goes into
    a lot more detail about car hacking and even covers some things that aren’t directly
    related to security, like performance tuning and useful tools for understanding
    and working with vehicles.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 读者的反馈大多数是非常积极的；大部分批评意见集中在手册过于简短，缺乏足够的细节。此书旨在解决这些问题。*《汽车黑客手册》*深入讲解了汽车黑客技术，甚至涵盖了一些与安全直接无关的内容，如性能调优和一些有助于理解和操作车辆的工具。
- en: '**Why Car Hacking Is Good for All of Us**'
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**为什么汽车黑客对我们所有人都有好处**'
- en: 'If you’re holding this book, you may already know why you’d want to hack cars.
    But just in case, here’s a handy list detailing the benefits of car hacking:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在阅读这本书，你可能已经知道为什么你会想要黑客汽车。但为了以防万一，这里有一份详细列出汽车黑客的好处的实用清单：
- en: '**Understanding How Your Vehicle Works**'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**理解你的车辆如何工作**'
- en: The automotive industry has churned out some amazing vehicles, with complicated
    electronics and computer systems, but it has released little information about
    what makes those systems work. Once you understand how a vehicle’s network works
    and how it communicates within its own system and outside of it, you’ll be better
    able to diagnose and troubleshoot problems.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 汽车行业已经推出了一些令人惊叹的车辆，配备了复杂的电子设备和计算机系统，但它们却很少发布关于这些系统如何工作的相关信息。一旦你了解了车辆网络是如何工作的，以及它是如何在自己内部和外部进行通信的，你就能更好地诊断和排除故障。
- en: '**Working on Your Vehicle’s Electrical Systems**'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '**修理你的车辆电气系统**'
- en: As vehicles have evolved, they’ve become less mechanical and more electronic.
    Unfortunately, automotive electronics systems are typically closed off to all
    but the dealership mechanics. While dealerships have access to more information
    than you as an individual can typically get, the auto manufacturers themselves
    outsource parts and require proprietary tools to diagnose problems. Learning how
    your vehicle’s electronics work can help you bypass this barrier.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 随着车辆的进化，它们变得更加电子化，机械化程度降低。不幸的是，汽车电子系统通常对除经销商机械师以外的其他人封闭。虽然经销商可以获取比个人通常能获得的更多信息，但汽车制造商自己也外包零件并要求使用专有工具来诊断问题。了解你的车辆电子系统如何工作，可以帮助你绕过这一障碍。
- en: '**Modifying Your Vehicle**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '**改装你的车辆**'
- en: Understanding how vehicles communicate can lead to better modifications, like
    improved fuel consumption and use of third-party replacement parts. Once you understand
    the communication system, you can seamlessly integrate other systems into your
    vehicle, like an additional display to show performance or a third-party component
    that integrates just as well as the factory default.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 理解车辆如何进行通信，可以带来更好的改装效果，比如提高燃油效率和使用第三方替换零件。一旦你理解了通信系统，你就可以无缝地将其他系统集成到你的车辆中，比如显示性能的额外屏幕，或者与原厂设备一样完美集成的第三方组件。
- en: '**Discovering Undocumented Features**'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**发现未记录的功能**'
- en: Sometimes vehicles are equipped with features that are undocumented or simply
    disabled. Discovering undocumented or disabled features and utilizing them lets
    you use your vehicle to its fullest potential. For example, the vehicle may have
    an undocumented “valet mode” that allows you to put your car in a restricted mode
    before handing over the keys to a valet.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 有时候，车辆可能配备了未记录的功能或仅仅是被禁用的功能。发现未记录的或被禁用的功能并加以利用，可以让你充分发挥车辆的潜力。例如，车辆可能有一个未记录的“代客泊车模式”，让你在将车钥匙交给代客泊车人员之前，将车辆置于受限模式。
- en: '**Validating the Security of Your Vehicle**'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**验证你车辆的安全性**'
- en: 'As of this writing, vehicle safety guidelines don’t address malicious electronic
    threats. While vehicles are susceptible to the same malware as your desktop, automakers
    aren’t required to audit the security of a vehicle’s electronics. This situation
    is simply unacceptable: we drive our families and friends around in these vehicles,
    and every one of us needs to know that our vehicles are as safe as can be. If
    you learn how to hack your car, you’ll know where your vehicle is vulnerable so
    that you can take precautions and be a better advocate for higher safety standards.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 截至目前，车辆安全指南尚未涉及恶意电子威胁。尽管车辆和桌面电脑一样容易受到恶意软件的攻击，但汽车制造商并不要求对车辆的电子设备进行安全审计。这种情况完全不可接受：我们把家人和朋友载在这些车里，每个人都需要知道我们的车辆是尽可能安全的。如果你学会了如何入侵你的汽车，你就能知道车辆的脆弱点，从而采取预防措施，并成为更好的高安全标准的倡导者。
- en: '**Helping the Auto Industry**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**帮助汽车行业**'
- en: The auto industry can benefit from the knowledge contained in this book as well.
    This book presents guidelines for identifying threats as well as modern techniques
    to circumvent current protections. In addition to helping you design your security
    practice, this book offers guidance to researchers in how to communicate their
    findings.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 汽车行业同样可以从本书中获得知识。本书提供了识别威胁的指导方针，以及绕过现有保护措施的现代技术。除了帮助你设计安全实践外，本书还为研究人员提供了如何沟通他们的发现的指导。
- en: Today’s vehicles are more electronic than ever. In a report in *IEEE Spectrum*
    titled “This Car Runs on Code,” author Robert N. Charette notes that as of 2009
    vehicles have typically been built with over 100 microprocessors, 50 electronic
    control units, 5 miles of wiring, and 100 million lines of code (*[http://spectrum.ieee.org/transportation/systems/this-car-runs-on-code](http://spectrum.ieee.org/transportation/systems/this-car-runs-on-code)*).
    Engineers at Toyota joke that the only reason they put wheels on a vehicle is
    to keep the computer from scraping the ground. As computer systems become more
    integral to vehicles, performing security reviews becomes more important and complex.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 当今的汽车比以往任何时候都更加电子化。在《IEEE Spectrum》上的一篇报告《这辆车依赖于代码》中，作者罗伯特·N·查雷特指出，截至2009年，汽车通常配备超过100个微处理器、50个电子控制单元、5英里的线路和1亿行代码（*[http://spectrum.ieee.org/transportation/systems/this-car-runs-on-code](http://spectrum.ieee.org/transportation/systems/this-car-runs-on-code)*）。丰田的工程师开玩笑说，他们在车辆上安装轮子唯一的原因是为了防止计算机刮到地面。随着计算机系统在车辆中的角色变得更加重要，进行安全审查也变得更加重要和复杂。
- en: '**WARNING**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '**警告**'
- en: '*Car hacking should not be taken casually. Playing with your vehicle’s network,
    wireless connections, onboard computers, or other electronics can damage or disable
    it. Be very careful when experimenting with any of the techniques in this book
    and keep safety as an overriding concern. As you might imagine, neither the author
    nor the publisher of this book will be held accountable for any damage to your
    vehicle.*'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '*汽车黑客攻击不容掉以轻心。操作你车辆的网络、无线连接、车载计算机或其他电子设备可能会损坏或使其失效。在实验本书中的任何技术时，请非常小心，并始终将安全性作为首要考虑因素。正如你可能想象的那样，本书的作者和出版商对于你的车辆可能造成的任何损坏概不负责。*'
- en: '**What’s in This Book**'
  id: totrans-21
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: '**本书内容**'
- en: '*The Car Hacker’s Handbook* walks you through what it takes to hack a vehicle.
    We begin with an overview of the policies surrounding vehicle security and then
    delve in to how to check whether your vehicle is secure and how to find vulnerabilities
    in more sophisticated hardware systems.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*《汽车黑客手册》*带你了解黑客入侵汽车所需的知识。我们首先概述了与汽车安全相关的政策，然后深入探讨如何检查你的车辆是否安全，以及如何在更复杂的硬件系统中发现漏洞。'
- en: 'Here’s a breakdown of what you’ll find in each chapter:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是每章内容的概览：
- en: '• **[Chapter 1: Understanding Threat Models](ch01.html#ch01)** teaches you
    how to assess a vehicle. You’ll learn how to identify areas with the highest risk
    components. If you work for the auto industry, this will serve as a useful guide
    for building your own threat model systems.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第1章：理解威胁模型](ch01.html#ch01)** 教你如何评估一辆车。你将学会如何识别高风险组件所在的领域。如果你在汽车行业工作，这将成为构建你自己威胁模型系统的有用指南。
- en: '• **[Chapter 2: Bus Protocols](ch02.html#ch02)** details the various bus networks
    you may run into when auditing a vehicle and explores the wiring, voltages, and
    protocols that each bus uses.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第2章：总线协议](ch02.html#ch02)** 详细介绍了在审计车辆时可能遇到的各种总线网络，并探讨了每种总线使用的布线、电压和协议。
- en: '• **[Chapter 3: Vehicle Communication with SocketCAN](ch03.html#ch03)** shows
    how to use the SocketCAN interface on Linux to integrate numerous CAN hardware
    tools so that you can write or use one tool regardless of your equipment.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第3章：使用SocketCAN进行车辆通信](ch03.html#ch03)** 演示了如何在Linux上使用SocketCAN接口整合多个CAN硬件工具，以便无论你的设备如何，你都能编写或使用一个工具。
- en: '• **[Chapter 4: Diagnostics and Logging](ch04.html#ch04)** covers how to read
    engine codes, the Unified Diagnostic Services, and the ISO-TP protocol. You’ll
    learn how different module services work, what their common weaknesses are, and
    what information is logged about you and where that information is stored.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第4章：诊断与日志记录](ch04.html#ch04)** 讲解了如何读取发动机代码、统一诊断服务以及ISO-TP协议。你将学习不同模块服务的工作原理，它们的常见弱点，以及关于你的信息是如何记录的以及存储位置。
- en: '• **[Chapter 5: Reverse Engineering the CAN Bus](ch05.html#ch05)** details
    how to analyze the CAN network, including how to set up virtual testing environments
    and how to use CAN security–related tools and fuzzers.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第5章：反向工程CAN总线](ch05.html#ch05)** 详细说明了如何分析CAN网络，包括如何设置虚拟测试环境，以及如何使用与CAN安全相关的工具和模糊测试器。
- en: '• **[Chapter 6: ECU Hacking](ch06.html#ch06)** focuses on the firmware that
    runs on the ECU. You’ll discover how to access the firmware, how to modify it,
    and how to analyze the firmware’s binary data.'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第6章：ECU黑客技术](ch06.html#ch06)** 重点介绍了运行在ECU上的固件。你将发现如何访问固件，如何修改它，以及如何分析固件的二进制数据。
- en: '• **[Chapter 7: Building and Using ECU Test Benches](ch07.html#ch07)** explains
    how to remove parts from a vehicle to set up a safe testing environment. It also
    discusses how to read wiring diagrams and simulate components of the engine to
    the ECU, such as temperature sensors and the crank shaft.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第7章：搭建与使用ECU测试平台](ch07.html#ch07)** 讲解了如何从车辆中拆卸部件，搭建一个安全的测试环境。还讨论了如何读取接线图，并模拟发动机到ECU的组件，如温度传感器和曲轴。
- en: '• **[Chapter 8: Attacking ECUs and Other Embedded Systems](ch08.html#ch08)**
    covers integrated circuit debugging pins and methodologies. We also look at side
    channel analysis attacks, such as differential power analysis and clock glitching,
    with step-by-step examples.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第8章：攻击ECU与其他嵌入式系统](ch08.html#ch08)** 介绍了集成电路调试引脚和方法论。我们还探讨了侧信道分析攻击，如差分功率分析和时钟故障注入，并提供了逐步的示例。
- en: '• **[Chapter 9: In-Vehicle Infotainment Systems](ch09.html#ch09)** details
    how infotainment systems work. Because the in-vehicle infotainment system probably
    has the largest attack surface, we’ll focus on different ways to get to its firmware
    and execute on the system. This chapter also discusses some open source in-vehicle
    infotainment systems that can be used for testing.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第9章：车载信息娱乐系统](ch09.html#ch09)** 详细介绍了信息娱乐系统的工作原理。由于车载信息娱乐系统可能具有最大的攻击面，我们将重点讨论不同的方式来访问其固件并在系统上执行操作。本章还讨论了一些可用于测试的开源车载信息娱乐系统。
- en: '• **[Chapter 10: Vehicle-to-Vehicle Communication](ch10.html#ch10)** explains
    how the proposed vehicle-to-vehicle network is designed to work. This chapter
    covers cryptography as well as the different protocol proposals from multiple
    countries. We’ll also discuss some potential weaknesses with vehicle-to-vehicle
    systems.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: • **[第10章：车与车通信](ch10.html#ch10)** 解释了拟议的车与车网络的工作原理。本章涵盖了加密技术以及多个国家提出的不同协议方案。我们还将讨论车与车系统的一些潜在弱点。
- en: '• **[Chapter 11: Weaponizing CAN Findings](ch11.html#ch11)** details how to
    turn your research into a working exploit. You’ll learn how to convert proof-of-concept
    code to assembly code, and ultimately shellcode, and you’ll examine ways of exploiting
    only the targeted vehicle, including ways to probe a vehicle undetected.'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[第 11 章: 武器化 CAN 发现](ch11.html#ch11)** 详细介绍了如何将你的研究转化为可行的漏洞攻击。你将学会如何将概念验证代码转换为汇编代码，最终转化为
    shellcode，并且你会探索如何仅针对目标车辆进行攻击，包括如何在不被发现的情况下探测车辆。'
- en: '• **[Chapter 12: Attacking Wireless Systems with SDR](ch12.html#ch12)** covers
    how to use software-defined radio to analyze wireless communications, such as
    TPMS, key fobs, and immobilizer systems. We review the encryption schemes you
    may run into when dealing with immobilizers as well as any known weaknesses.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[第 12 章: 使用 SDR 攻击无线系统](ch12.html#ch12)** 介绍了如何使用软件定义无线电分析无线通信，如 TPMS、钥匙扣和防盗系统。我们回顾了在处理防盗器时可能遇到的加密方案，以及已知的漏洞。'
- en: '• **[Chapter 13: Performance Tuning](ch13.html#ch13)** discusses techniques
    used to enhance and modify a vehicle’s performance. We’ll cover chip tuning as
    well as common tools and techniques used to tweak an engine so it works the way
    you want it to.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[第 13 章: 性能调优](ch13.html#ch13)** 讨论了增强和修改车辆性能的技术。我们将介绍芯片调校以及常用的调整工具和技术，以便让引擎按你想要的方式运作。'
- en: '• **[Appendix A: Tools of the Trade](app01.html#app01)** provides a list of
    software and hardware tools that will be useful when building your automotive
    security lab.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[附录 A: 行业工具](app01.html#app01)** 提供了在建立汽车安全实验室时会用到的软件和硬件工具清单。'
- en: '• **[Appendix B: Diagnostic Code Modes and PIDs](app02.html#app02)** lists
    some common modes and handy PIDS.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[附录 B: 诊断代码模式与 PID](app02.html#app02)** 列出了常见的模式和实用的 PIDS。'
- en: '• **[Appendix C: Creating Your Own Open Garage](app03.html#app03)** explains
    how to get involved in the car hacking community and start your own Open Garage.'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '• **[附录 C: 创建你自己的开放车库](app03.html#app03)** 讲解了如何加入汽车黑客社区，并启动自己的开放车库。'
- en: By the end of the book, you should have a much deeper understanding of how your
    vehicle’s computer systems work, where they’re most vulnerable, and how those
    vulnerabilities might be exploited.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 到书籍结尾时，你应该对车辆计算机系统的工作原理、最脆弱的地方以及这些漏洞可能被利用的方式有更深入的了解。
