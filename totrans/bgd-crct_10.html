<html><head></head><body>
<h2 class="h2" id="ch09"><span epub:type="pagebreak" id="page_59"/><span class="big">9</span><br/>THE LED MARQUEE</h2>&#13;
<p class="ch-sub">THIS CIRCUIT CREATES A RUNNING LIGHT, LIKE AN OLD THEATER MARQUEE.</p>&#13;
<div class="image"><img alt="image" src="../images/f0059-01.jpg"/></div>&#13;
<h3 class="h3" id="lev70"><span epub:type="pagebreak" id="page_60"/><strong>THE CIRCUIT DIAGRAM</strong></h3>&#13;
<div class="image"><img alt="image" src="../images/f0060-01.jpg"/></div>&#13;
<h3 class="h3" id="lev71"><strong>THE PARTS LIST</strong></h3>&#13;
<table class="topbot-d">&#13;
<thead>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="tab_th"><strong>PART</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>VALUE</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>DESCRIPTION</strong></p></td>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">R1, R2</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">10 kΩ</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Two standard resistors</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">R3</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">470 Ω</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Standard resistor</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">C1</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">4.7 μF</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Polarized capacitor</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">L1 to L10</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">LED</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Standard light-emitting diodes</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">U1</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">NE555</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">555 timer IC</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">U2</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">CD4017B</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">4017 decade counter IC</span></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<h3 class="h3" id="lev72"><strong>ABOUT THE CIRCUIT</strong></h3>&#13;
<p class="noindent">This circuit uses a 555 timer and a 4017 decade counter, both integrated circuits. The voltage of the 555 timer’s pin 3 switches between high and low repeatedly, as you saw in <a href="ch08.xhtml#ch08">Project 8</a>. You connect this signal to pin 14 of the 4017 IC, and the 4017 counts the number of times the voltage on pin 14 goes from low to high. The 4017 has 10 outputs—marked Q0 to Q9—that represent this count. For example, after three counts, output Q3 is high, while the others are low. On the 10th count, the counter starts from Q0 again. <a href="ch09.xhtml#ch09fig1">Figure 9-1</a> shows the pinout for the 4017 IC.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_61"/><a id="ch09fig1"/><img alt="image" src="../images/f0061-01.jpg"/></div>&#13;
<p class="figcap"><strong>FIGURE 9-1</strong> The pinout for the 4017 IC</p>&#13;
<p class="indent">The running speed is set by R1, R2, and C1. Change one of the values, and the lights’ running speed will change. Larger values slow it down, and smaller values speed it up.</p>&#13;
<p class="indent">This is a large circuit, so it’s pretty easy to connect a wire or a component in the wrong place. I suggest you connect only the 555 timer part first. After that, add a 470 Ω resistor in series with an LED between the 555 output on pin 3 and the negative terminal of the battery. You should see the LED blink really fast. When you do, you can disconnect the LED and resistor and continue connecting the rest of the circuit.</p>&#13;
<p class="indent">This circuit includes a lot of connections in a small area, so you’ll need to be creative with the way you use your space. I recommend you use one of the columns of the left supply area to connect the negative side of the LEDs. This will save you some space.</p>&#13;
<h3 class="h3" id="lev73"><strong>COMMON MISTAKES</strong></h3>&#13;
<p class="noindent">If your circuit isn’t working correctly, check that you haven’t made any of these common mistakes:</p>&#13;
<ul>&#13;
<li class="noindent">Connecting one or both of the ICs the wrong way</li>&#13;
<li class="noindent">Mixing up the pin numbers of the ICs and connecting components to the wrong pin</li>&#13;
<li class="noindent">Connecting one or more of the LEDs in the wrong way</li>&#13;
<li class="noindent">Connecting the capacitor the wrong way around</li>&#13;
<li class="noindent">Connecting a wire or component one row above or below where it should be connected</li>&#13;
</ul>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_62"/>If you’re struggling with this circuit, you can find more resources through the book’s website at <em><a href="https://nostarch.com/circuits/">https://nostarch.com/circuits/</a></em>.</p>&#13;
<h3 class="h3" id="lev74"><strong>HOW THIS CIRCUIT WORKS</strong></h3>&#13;
<p class="noindent">This circuit uses a 555 timer to generate a continuous series of pulses (called <em>clock pulses</em>) and a 4017 decade counter to count the number of pulses it receives. LEDs on outputs Q0 to Q9 indicate the count. When the counter reaches 10, it automatically starts from 0 again. This way, it appears as if the LEDs are running from one side to the other, without stopping.</p>&#13;
<p class="indent">The 4017 IC is easy to use. To get it up and running, just connect the V<sub>DD</sub> and GND pins to a voltage source. A voltage between 5 V and 15 V will usually work. With the voltage connected, the chip is running and will count any transition from low to high voltage on its CLK (clock) input pin.</p>&#13;
<p class="indent">Note that each output can provide only about 10 mA of current. If you try to get more current out of each output—for example, by using a smaller resistor value for R3—you risk strange behavior or even chip damage.</p>&#13;
<p class="indent">The following table provides an overview of each pin’s function.</p>&#13;
<table class="topbot-d">&#13;
<thead>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>PIN #</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>NAME</strong></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="tab_th"><strong>DESCRIPTION</strong></p></td>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">1</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q5</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 5</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">2</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Q1</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 1</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">3</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q0</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 0</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">4</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Q2</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 2</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">5</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q6</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 6</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">6</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Q7</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 7</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">7</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q3</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 3</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">8</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">GND</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Ground (0 V) connection</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">9</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q8</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 8</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">10</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Q4</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 4</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">11</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Q9</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Goes high when the count is 9</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">12</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Carry Out</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">High output for counts 0 to 4</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">13</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Clock Inhibit</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Counter does not count any clock pulses when this input is high</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">14</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">CLK</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Input for pulses to be counted</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">15</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Reset</span></p></td>&#13;
<td class="table-a" style="vertical-align: top;"><p class="taba"><span class="red">Resets the the count to 0 when high; must be low to count</span></p></td>&#13;
</tr>&#13;
<tr>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">16</span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">V<sub>DD</sub></span></p></td>&#13;
<td class="table-b" style="vertical-align: top;"><p class="taba"><span class="red">Positive voltage supply</span></p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
</body></html>