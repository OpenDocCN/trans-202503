<html><head></head><body>
<h2 class="h2" id="ch07"><span epub:type="pagebreak" id="page_115"/><strong><span class="big">7</span></strong><br/><strong>BUILDING AND USING ECU TEST BENCHES</strong></h2>&#13;
<div class="image1"><img src="graphics/common-01.jpg" alt="image"/></div>&#13;
<p class="noindent">An ECU test bench, like the one shown in <a href="ch07.html#ch7fig1">Figure 7-1</a>, consists of an ECU, a power supply, an optional power switch, and an OBD-II connector. You can also add an IC or other CAN-related systems for testing, but just building a basic ECU test bench is a great way to learn the CAN bus and how to create custom tools. In this chapter, we’ll walk step by step through the process of building a test bench for development and testing.</p>&#13;
<h3 class="h3" id="ch07lev1sec1"><span epub:type="pagebreak" id="page_116"/><strong>The Basic ECU Test Bench</strong></h3>&#13;
<p class="noindent">The most basic test bench is the device that you want to target and a power supply. When you give an ECU the proper amount of power, you can start performing tests on its inputs and communications. For example, <a href="ch07.html#ch7fig1">Figure 7-1</a> shows a basic test bench containing a PC power supply and an ECU.</p>&#13;
<div class="image"><img src="graphics/f07-01.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig1"/>Figure 7-1: A simple ECU test bench</em></p>&#13;
<p class="indent">However, you’ll often want to at least add some components or ports to make the test bench easier to use and operate. To make it easier to turn the device on and off, you can add a switch to the power supply. An OBD port allows for specialized mechanics tools to communicate with the vehicle’s network. In order for that OBD port to fully function, we need to expose the vehicle’s network wires from the ECU to the OBD port.</p>&#13;
<h4 class="h4" id="ch07lev2sec1"><strong><em>Finding an ECU</em></strong></h4>&#13;
<p class="noindent">One place to find an ECU is, of course, at the junkyard. You’ll typically find the ECU behind a car’s radio in the center console or behind the glove box. If you’re having trouble finding it, try using the massive wiring harness to trace back to the ECU. When pulling one out yourself (it should cost only about $150), be sure to pull it from a vehicle that supports CAN. You can use a reference website such as <em><a href="http://www.auterraweb.com/aboutcan.html">http://www.auterraweb.com/aboutcan.html</a></em> to help you identify a target vehicle. Also, make sure you leave at least a pigtail’s worth of wiring when you remove the ECU; this will make it easier to wire up later.</p>&#13;
<p class="indent">If you’re not comfortable pulling devices out of junked cars, you can order an ECU online at a site like <em><a href="http://car-part.com">car-part.com</a></em>. The cost will be a bit higher because you’re paying for someone else to get the part and ship it to you. Be sure that the ECU you buy includes the wire bundles.</p>&#13;
<div class="note"><span epub:type="pagebreak" id="page_117"/>&#13;
<p class="notet"><strong><span class="bgblack">NOTE</span></strong></p>&#13;
<p class="notep"><em>One downside to buying an ECU online is that it may be difficult to acquire parts from the same car if you need multiple parts. For instance, you may need both the body control module (BCM) and the ECU because you want to include keys and the immobilizer is in the BCM. In this case, if you mix and match from two different vehicles, the vehicle won’t “start” properly.</em></p>&#13;
</div>&#13;
<p class="indent">Instead of harvesting or buying a used ECU, you could also use a prebuilt simulator, like the ECUsim 2000 by ScanTool (see <a href="ch07.html#ch7fig2">Figure 7-2</a>). A simulator like ECUsim will cost around $200 per protocol and will support only OBD/UDS communications. Simulators can generate faults and MIL lights, and they include fault knobs for changing common vehicle parameters, such as speed. Unless you’re building an application that uses only UDS packets, however, a simulator probably isn’t the way to go.</p>&#13;
<div class="image"><img src="graphics/f07-02.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig2"/>Figure 7-2: ECUsim OBD simulator</em></p>&#13;
<h4 class="h4" id="ch07lev2sec2"><strong><em>Dissecting the ECU Wiring</em></strong></h4>&#13;
<p class="noindent">Once you have all of the parts, you’ll need to find the ECU’s wiring diagram to determine which wires you need to connect in order to get it to work. Visit a website such as ALLDATA (<em><a href="http://www.alldata.com/">http://www.alldata.com/</a></em>) or Mitchell 1 (<em><a href="http://mitchell1.com/main/">http://mitchell1.com/main/</a></em>) to get a complete wiring diagram. You’ll find that off-the-shelf service manuals will sometimes have wiring diagrams, but they’re often incomplete and contain only common repair areas.</p>&#13;
<p class="indent">Wiring diagrams aren’t always easy to read, mainly because some combine numerous small components (see <a href="ch07.html#ch7fig3">Figure 7-3</a>). Try to mentally break down each component to get a better idea of which wires to focus on.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_118"/><img src="graphics/f07-03.jpg" alt="image"/></div>&#13;
<p class="figcap"><a id="ch7fig3"/><em>Figure 7-3: Example of an ECU wiring diagram</em></p>&#13;
<h5 class="h5" id="ch07lev3sec1"><strong>Pinouts</strong></h5>&#13;
<p class="noindent">You can get pinouts for the ECUs on several different vehicles from <em><a href="http://www.innovatemotorsports.com/resources/ecu_pinout.php">http://www.innovatemotorsports.com/resources/ecu_pinout.php</a></em> and from commercial resources like ALLDATA and Mitchell 1. Books like the Chilton auto repair manuals include block diagrams, but you’ll find that they typically cover only the most common repair components, not the entire ECU.</p>&#13;
<h5 class="h5" id="ch07lev3sec2"><strong>Block Diagrams</strong></h5>&#13;
<p class="noindent">Block diagrams are often easier to read than wiring diagrams that show all components on the same sheet. Block diagrams usually show the wiring for only one component and offer a higher-level overview of the main components, whereas schematics show all the circuitry details. Some block diagrams also include a legend showing which connector block the diagram refers to and the connectors on that module; you’ll typically find these in the corner of the block diagram (see <a href="ch07.html#ch7tab1">Table 7-1</a>).</p>&#13;
<p class="tabcaption"><a id="ch7tab1"/><strong>Table 7-1:</strong> Example Connector Legend</p>&#13;
<table class="topbot">&#13;
<thead>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table"><strong>CONN ID</strong></p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table"><strong>Pin count</strong></p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table"><strong>Color</strong></p></td>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table">C1</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">68</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">WH</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table">C2</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">68</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">L-GY</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table">C3</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">68</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">M-GY</p></td>&#13;
</tr>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table">C4</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">12</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">BK</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_119"/>The legend should give the connector number, its number pin count, and the color. For instance, the line C1 = 68 WH in <a href="ch07.html#ch7tab1">Table 7-1</a> means that the C1 connector has 68 pins and is white. L-GY probably means light gray, and so on. A connector number like C2-55 refers to connector 2, pin 55. The connectors usually have a number on the first and last pin in the row.</p>&#13;
<h4 class="h4" id="ch07lev2sec3"><strong><em>Wiring Things Up</em></strong></h4>&#13;
<p class="noindent">Once you have information on the connector’s wiring, it’s time to wire it up. Wire the CAN to the proper ports on the connector, as discussed in “<a href="ch02.html#ch02lev1sec8">OBD-II Connector Pinout Maps</a>” on <a href="ch02.html#page_31">page 31</a>. When you provide power—a power supply from an old PC should suffice—and add a CAN sniffer, you should see packets. You can use just a simple OBD-II scan tool that you can pick up at any automotive store. If you have everything wired correctly, the scan tool should be able to identify the vehicle, assuming that your test bench includes the main ECU.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="bgblack">NOTE</span></strong></p>&#13;
<p class="notep"><em>Your MIL, or engine light, will most likely be reported as</em> on <em>by the scan tool/ECU.</em></p>&#13;
</div>&#13;
<p class="indent">If you’ve wired everything but you still don’t see packets on your CAN bus, you may be missing termination. To address this problem, start by adding a 120-ohm resistor, as a CAN bus has 120-ohm resistors at each end of the bus. If that doesn’t work, add a second resistor. The maximum missing resistance should be 240 ohms. If the bus still isn’t working, then recheck your wires and try again.</p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="bgblack">NOTE</span></strong></p>&#13;
<p class="notep"><em>A lot of components communicate with the ECU in a simple manner, either via set digital signals or through analog signals. Analog signals are easy to simulate with a potentiometer and you can often tie a 1 kilohm potentiometer to the engine temp and fuel lines to control them.</em></p>&#13;
</div>&#13;
<h3 class="h3" id="ch07lev1sec2"><strong>Building a More Advanced Test Bench</strong></h3>&#13;
<p class="noindent">If you’re ready to take your car hacking research further, consider building a more advanced ECU test bench, like the one shown in <a href="ch07.html#ch7fig4">Figure 7-4</a>.</p>&#13;
<p class="indent">This unit combines an ECU with a BCM because it also has the original keys to start the vehicle. Notice that the optional IC has two 1 kilohm potentiometers, or variable resistors, on the lower left side, both of which are tied to the engine temperature and fuel lines. We use these potentiometers to generate sensor signals, as discussed in the following section. This particular test bench also includes a small MCU that allows you to simulate sending crankshaft and camshaft signals to the ECU.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_120"/><img src="graphics/f07-04.jpg" alt="image"/></div>&#13;
<p class="figcap"><a id="ch7fig4"/><em>Figure 7-4: More complex test bench</em></p>&#13;
<p class="indent">A more complex unit like the one in <a href="ch07.html#ch7fig4">Figure 7-4</a> makes it trivial to determine CAN traffic: just load a sniffer, adjust the knob, and watch for the packets to change. If you know which wires you’re targeting and the type of input they take, you can easily fake signals from most components.</p>&#13;
<h4 class="h4" id="ch07lev2sec4"><strong><em>Simulating Sensor Signals</em></strong></h4>&#13;
<p class="noindentb">As I mentioned, you can use the potentiometers in this setup to simulate various vehicle sensors, including the following:</p>&#13;
<p class="bull">• Coolant temperature sensor</p>&#13;
<p class="bull">• Fuel sensor</p>&#13;
<p class="bull">• Oxygen sensors, which detect post-combustion oxygen in the exhaust</p>&#13;
<p class="bull">• Throttle position, which is probably already a potentiometer in the actual vehicle</p>&#13;
<p class="bull">• Pressure sensors</p>&#13;
<p class="indentt"><span epub:type="pagebreak" id="page_121"/>If your goal is to generate more complex or digital signals, use a small microcontroller, such as an Arduino, or a Raspberry Pi.</p>&#13;
<p class="indent">For our test bench, we also want to control the RPMs and/or speedometer needle. In order to do this, we need a little background on how the ECU measures speed.</p>&#13;
<h4 class="h4" id="ch07lev2sec5"><strong><em>Hall Effect Sensors</em></strong></h4>&#13;
<p class="noindent">Hall effect sensors are often used to sense engine speed and crankshaft position (CKP) and to generate digital signals. In <a href="ch07.html#ch7fig5">Figure 7-5</a>, the Hall effect sensor uses a shutter wheel, or a wheel with gaps in it, to measure the rotation speed. The gallium arsenate crystal changes its conductivity when exposed to a magnetic field. As the shutter wheel spins, the crystal detects the magnet and sends a pulse when not blocked by the wheel. By measuring the frequency of pulses, you can derive the vehicle speed.</p>&#13;
<div class="image"><img src="graphics/f07-05.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig5"/>Figure 7-5: Shutter wheel diagram for Hall effect sensor</em></p>&#13;
<p class="indent">You can also use the camshaft timing sprocket to measure speed. When you look at the camshaft timing sprocket, the magnet is on the side of the wheel (see <a href="ch07.html#ch7fig6">Figure 7-6</a>).</p>&#13;
<div class="image"><img src="graphics/f07-06.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig6"/>Figure 7-6: Camshaft timing sprocket</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_122"/>Using a scope on the signal wire shows that the Hall effect sensor produces a square wave. Typically, there are three wires on the camshaft sensor: power, ground, and sensor. Power is usually 12V, but the signal wire typically operates at 5V back to the ECM. Camshaft sensors also come as optical sensors, which work in a similar fashion except an LED is on one side and a photocell is on the other.</p>&#13;
<p class="indent">You can gauge full rotation timing with a missing tooth called a <em>trigger wheel</em> or with a timing mark. It’s important to know when the camshaft has made a full rotation. An inductive camshaft sensor produces a sine wave and will often have a missing tooth to detect full rotation.</p>&#13;
<p class="indent"><a href="ch07.html#ch7fig7">Figure 7-7</a> shows the camshaft sensor repeating approximately every 2 milliseconds. The jump or a gap you see in the wave at around the 40-millisecond mark occurs when the missing tooth is reached. The location of that gap marks the point at which the camshaft has completed a full rotation. In order to fake these camshaft signals into the ECU test bench, you’d need to write a small sketch for your microcontroller. When writing microcontroller code to mimic these sensors, it’s important to know what type of sensor your vehicle uses so that you’ll know whether to use a digital or analog output when faking the teeth.</p>&#13;
<div class="image"><img src="graphics/f07-07.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig7"/>Figure 7-7: Camshaft sensor signals under a scope</em></p>&#13;
<h3 class="h3" id="ch07lev1sec3"><span epub:type="pagebreak" id="page_123"/><strong>Simulating Vehicle Speed</strong></h3>&#13;
<p class="noindent">Now, we’ll build a test bench to simulate vehicle speed. We’ll use this test bench together with the IC shown in <a href="ch07.html#ch7fig4">Figure 7-4</a> to pull a vehicle’s VIN via the OBD-II connector. This will give us the exact year, make, model, and engine type of the vehicle. (We looked at how to do this manually in “<a href="ch04.html#ch04lev1sec2">Unified Diagnostic Services</a>” on <a href="ch04.html#page_54">page 54</a>.) <a href="ch07.html#ch7tab2">Table 7-2</a> shows the results.</p>&#13;
<p class="tabcaption"><a id="ch7tab2"/><strong>Table 7-2:</strong> Vehicle Information</p>&#13;
<table class="topbot">&#13;
<thead>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>VIN</strong></p></td>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>Model</strong></p></td>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>Year</strong></p></td>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>Make</strong></p></td>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>Body</strong></p></td>&#13;
<td style="vertical-align: top;" class="table_th"><p class="table"><strong>Engine</strong></p></td>&#13;
</tr>&#13;
</thead>&#13;
<tbody>&#13;
<tr>&#13;
<td style="vertical-align: top;" class="table"><p class="table">1G1ZT53826F109149</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">Malibu</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">2006</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">Chevrolet</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">Sedan 4Door</p></td>&#13;
<td style="vertical-align: top;" class="table"><p class="table">3.5L V6 OHV 12V</p></td>&#13;
</tr>&#13;
</tbody>&#13;
</table>&#13;
<p class="indent">Once we know a vehicle’s year of manufacture and engine type, we can fetch the wiring diagram to determine which of the ECU wires control the engine speed (see <a href="ch07.html#ch7fig8">Figure 7-8</a>). Then, we can send simulated speed data to the ECU in order to measure effects. Using wiring diagrams to simulate real engine behavior can make it easy to identify target signals on the CAN bus.</p>&#13;
<div class="image"><img src="graphics/f07-08.jpg" alt="image"/></div>&#13;
<p class="figcap"><em><a id="ch7fig8"/>Figure 7-8: Wiring diagram showing the engine speed pin</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_124"/>The wiring diagram in <a href="ch07.html#ch7fig8">Figure 7-8</a> shows how you can trace the wire from the CKP sensor so that connector C2, pin 27 receives the engine speed from the crankshaft sensor. Having identified this pin in the wiring diagram, we locate the corresponding wire on the ECU. We can connect this wire to any digital IO pin on an Arduino. In this example, we’ll use pin 2 and then add a potentiometer to A0 to control the speed of the CKP sensor’s “teeth” going to the ECM. Pin 2 will send output to C2, pin 27.</p>&#13;
<p class="indent">In order to simulate engine speed sent from the CKP sensor, we code up an Arduino sketch to send high and low pulses with a delay interval mapped to the potentiometer position (see <a href="ch07.html#ch7list1">Listing 7-1</a>).</p>&#13;
<pre>int ENG_SPD_PIN = 2;<br/>long interval = 500;<br/>long previousMicros = 0;<br/>int state = LOW;<br/><br/>// the setup routine runs once when you press reset<br/>void setup() {<br/>  pinMode(ENG_SPD_PIN, OUTPUT);<br/>}<br/><br/>// the loop routine repeats forever<br/>void loop() {<br/>  unsigned long currentMicros = micros();<br/><br/>  // read the input on analog pin 0<br/>  int sensorValue = analogRead(A0);<br/>  interval = map(sensorValue, 0, 1023, 0, 3000);<br/><br/>  if(currentMicros - previousMicros &gt; interval) {<br/>    previousMicros = currentMicros;<br/><br/>    if (state == LOW)<br/>      state = HIGH;<br/>    else<br/>      state = LOW;<br/><br/>    if (interval == 0)<br/>      state = LOW;  // turning the pot all the way down turns it "off"<br/><br/>    digitalWrite(ENG_SPD_PIN, state);<br/>  }<br/>}</pre>&#13;
<p class="list-caption"><a id="ch7list1"/><em>Listing 7-1: Arduino sketch designed to simulate engine speed</em></p>&#13;
<p class="indent">Now, we upload this sketch to the Arduino, power up the test bench, and when we turn the knob on the potentiometer, the RPM dial moves on the IC. In <a href="ch07.html#ch7fig9">Figure 7-9</a>, the second line of the <code>cansniffer</code> traffic shows bytes 2 and 3—0x0B and 0x89—changing as we rotate the potentiometer knob for Arbitration ID 0x110 (the column labeled <em>ID</em>).</p>&#13;
<div class="image"><img src="graphics/f07-09.jpg" alt="image"/></div>&#13;
<p class="figcap"><span epub:type="pagebreak" id="page_125"/><a id="ch7fig9"/><em>Figure 7-9:</em> <code><span class="codeitalic">cansniffer</code></span> <em>identifying RPMs</em></p>&#13;
<div class="note">&#13;
<p class="notet"><strong><span class="bgblack">NOTE</span></strong></p>&#13;
<p class="notep"><em>0x0B and 0x89 don’t directly translate into the RPMs; rather, they’re shorthand. In other words, if you’re going to 1000 RPMs, you won’t see the hex for 1000. When you query an engine for RPMs, the algorithm to convert these two bytes into RPMs is commonly the following:</em></p>&#13;
<div class="image2"><img src="graphics/f0125-01.jpg" alt="image"/></div>&#13;
<p class="indent"><em>A is the first byte and</em> B <em>is the second byte. If you apply that algorithm to what’s shown in <a href="ch07.html#ch7fig9">Figure 7-9</a> (converted from hex to decimal), you get this:</em></p>&#13;
<div class="image2"><img src="graphics/f0125-02.jpg" alt="image"/></div>&#13;
<p class="indent"><em>You can simplify this method to taking 0xB89, which is 2953 in decimal form. When you divide this by 4, you get 738.25 RPMs.</em></p>&#13;
</div>&#13;
<p class="indent">When this screenshot was taken, the needle was idling a bit below the 1 on the RPM gauge, so that’s probably the same algorithm. (Sometimes you’ll find that the values in the true CAN packets don’t always match the algorithms used by off-the-shelf diagnostic tools using the UDS service, but it’s nice when they do.)</p>&#13;
<p class="indent">To verify that arbitration ID 0x110 with bytes 2 and 3 controls the RPM, we’ll send our own custom packet. By flooding the bus with a loop that sends the following, we’ll peg the needle at max RPMs.</p>&#13;
<pre>$ <span class="codestrong">cansend slcan0 110#00ffff3500380000</span></pre>&#13;
<p class="indent">While this method works and, once connected, takes only a few seconds to identify the CAN packet responsible for RPMs, there are still some visible issues. Every so often a CAN signal shows up that resets the values to 00 00 and stops the speedometer from moving. So while the ECM is fairly certain the crankshaft is spinning, it’s detecting a problem and attempting to reset.</p>&#13;
<p class="indent">You can use the ISO-TP tools discussed in <a href="ch03.html#ch03">Chapter 3</a> to pull data. In two different terminals, we can check whether there was a diagnostic code. (You can also use a scan tool.)</p>&#13;
<p class="indent">In one terminal, enter the following:</p>&#13;
<pre>$ <span class="codestrong">isotpsniffer -s 7df -d 7e8 slcan0</span></pre>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_126"/>And in another terminal, send this command:</p>&#13;
<pre>$ <span class="codestrong">echo "03" | isotpsend -s 7DF -d 7E8 slcan0</span></pre>&#13;
<p class="indent">You should see this output in the first terminal:</p>&#13;
<pre>slcan0 7DF [1] 03 - '.'<br/>slcan0 7E8 [6] 43 02 00 68 C1 07 - 'C..h..'</pre>&#13;
<p class="indent">Looks like we have a DTC set. Querying PID 0x03 returned a 4-byte DTC (0x0068C107). The first two bytes make up the standard DTC (0x00 0x68). This converts to P0068, which the Chilton manual refers to as “throttle body airflow performance.” A quick Google search will let you know that this is just a generic error code that results from a discrepancy between what the PCM thinks is going on and what data it’s getting from the intake manifold. If we wanted to spoof that data as well, we’d need to spoof three additional sensors: the MAF sensor, the throttle position, and the manifold air pressure (MAP). Fixing these may not actually fix our problem, though. The PCM may continue to think the vehicle is running smoothly, but unless you really care about fudging all the data, you may be able to find other ways to trick the signals you want out of the PCM without having to be immune to triggering DTC faults.</p>&#13;
<p class="indent">If you don’t want to use an Arduino to send signals, you can also buy a signal generator. A professional one will cost at least $150, but you can also get one from SparkFun for around $50 (<em><a href="http://www.sparkfun.com/products/11394/">http://www.sparkfun.com/products/11394/</a></em>). Another great alternative is the JimStim for Megasquirt. This can be purchased as a kit or fully assembled for $90 from DIYAutoTune (<em><a href="http://www.diyautotune.com/catalog/jimstim-15-megasquirt-stimulator-wheel-simulator-assembled-p-178.html">http://www.diyautotune.com/catalog/jimstim-15-megasquirt-stimulator-wheel-simulator-assembled-p-178.html</a></em>).</p>&#13;
<h3 class="h3" id="ch07lev1sec4"><strong>Summary</strong></h3>&#13;
<p class="noindent">In this chapter you learned how to build an ECU test bench as an affordable solution to safe vehicle security testing. We went over where you can get parts for building a test bench and how to read wiring diagrams so you know how to hook those parts up. You also learned how to build a more advanced test bench that can simulate engine signals, in order to trick components into thinking the vehicle is present.</p>&#13;
<p class="indent">Building a test bench can be a time-consuming process during your initial research, but it will pay off in the end. Not only is it safer to do your testing on a test bench, but these units are also great for training and can be transported to where you need them.</p>&#13;
</body></html>