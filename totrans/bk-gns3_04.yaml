- en: Chapter 4. Creating and Managing Projects
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you can configure and start a single IOS router, roll up your sleeves
    and I’ll show you how to create a project by networking two or more routers together.
    Compared to working with real lab equipment, creating virtual networks and managing
    devices in GNS3 is a breeze. The user interface acts like a master control room,
    allowing you to manipulate your network designs and devices with just a few clicks.
    This chapter will show you how to use GNS3 to centrally manage your network, including
    the virtual hardware.
  prefs: []
  type: TYPE_NORMAL
- en: Project Management Overview
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: A strong feature of GNS3 is project management. You can create an unlimited
    number of network designs to save and use whenever you need them. That means you’ll
    never have to waste time tearing apart an existing project to create a new one,
    which often happens when you use physical equipment.
  prefs: []
  type: TYPE_NORMAL
- en: Not only can you save multiple projects, but you can save multiple snapshots
    of an entire project configuration. A *snapshot* preserves your project’s network
    layout and the state of all your router configurations at a particular moment
    in time. You can restore a snapshot whenever you’d like to roll your entire project
    back to the state it was in when the snapshot was taken.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Snapshots are useful for practicing CCNA or CCNP configuration drills. You
    can create a lab, apply the basic router configurations required for a drill (such
    as network addresses, routing protocols, and so on), and then take a snapshot.
    Once you have a snapshot of the basic setup, you can practice applying the scenario’s
    objectives to the network. If you want to practice the same tasks again later,
    you can revert to the basic snapshot, and your routers should be ready without
    additional configuration.*'
  prefs: []
  type: TYPE_NORMAL
- en: GNS3 also gives you the ability to manage your virtual hardware. Just like with
    real routers, you can use Cisco expansion modules to upgrade your virtual routers.
    You can add a wide range of functionality, such as additional random access memory
    (RAM), Ethernet interfaces, serial ports, Asynchronous Transfer Mode (ATM), and
    Packet over SONET (POS) ports.
  prefs: []
  type: TYPE_NORMAL
- en: Terminology
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Before beginning, let’s explore some important terminology. You need to know
    the difference between a topology and a project. A *topology* file is a text file
    that ends in *.gns3* and primarily refers to devices and the links between them.
    A *project* is a user-defined project folder (*MyLab*, for example) stored inside
    the *GNS3/projects* folder. A user project folder contains a topology file named
    *<project_name>.gns3*, router configurations, the contents of nonvolatile random
    access memory (NVRAM), and other saved information. In other words, it represents
    an entire network, including the topology and all device configurations.
  prefs: []
  type: TYPE_NORMAL
- en: Another term you should be familiar with is *node*. In computer networking,
    a node is any device connected to your network. In GNS3, a node is any device
    found on the Devices toolbar.
  prefs: []
  type: TYPE_NORMAL
- en: To be effective at managing devices and projects, you’ll need more than just
    vocabulary; you’ll also need to be familiar with GNS3’s screen layout.
  prefs: []
  type: TYPE_NORMAL
- en: Screen Layout
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Let’s take a look at the standard GNS3 layout (shown in [Figure 4-1](ch04.html#screen_layout_showing_two_routers_and_a
    "Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace"))
    and define a few concepts used by the program.
  prefs: []
  type: TYPE_NORMAL
- en: '![Screen layout showing two routers and a switch in the GNS3 workspace](httpatomoreillycomsourcenostarchimages2208911.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace
  prefs: []
  type: TYPE_NORMAL
- en: '****➊ GNS3 toolbar**** A series of icons to easily perform common tasks.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****➋ Devices toolbar**** Used to add routers, switches, end devices, and security
    devices, as well as to create links between devices. To create topologies, select
    a device type from the toolbar and drag devices from the device window to your
    workspace. There are two types of devices: simulated and emulated. A *simulated*
    device mimics all the characteristics of an actual device (like an Ethernet switch
    node) and does not run an operating system. An *emulated* device emulates the
    hardware of an actual device and requires an operating system to function (like
    virtual Dynamips routers running Cisco IOS).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****➌ Console**** A command line interface where you can manage aspects of
    your devices.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****➍ Topology Summary**** Displays the state of devices in your project. A
    green circle by a device indicates that it has started, a red circle indicates
    that a device is stopped, and a yellow circle indicates that a device is suspended.
    Simulated devices (like the Ethernet switch node) are always green. To see the
    links in use on a given device, click the triangle next to the device name.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****➎ Workspace**** The area in which you’ll design your network. Drag devices
    from the Devices toolbar to the workspace and link them together.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now that you know what the main GNS3 screen looks like, let’s look more closely
    at the options you’ll find there.
  prefs: []
  type: TYPE_NORMAL
- en: Using the GNS3 Toolbar
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The GNS3 toolbar contains several groups of icons that are roughly organized
    by function and offer a simple way to get things done. The first group deals with
    projects, the second with links, the third with devices and snapshots, and the
    fourth with additional ways to visually organize your projects.
  prefs: []
  type: TYPE_NORMAL
- en: First Toolbar Group
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The first group of toolbar icons, shown in [Figure 4-2](ch04.html#first_toolbar_group-id00005
    "Figure 4-2. First toolbar group"), deals with actions that affect entire projects.
  prefs: []
  type: TYPE_NORMAL
- en: '![First toolbar group](httpatomoreillycomsourcenostarchimages2208913.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-2. First toolbar group
  prefs: []
  type: TYPE_NORMAL
- en: 'From left to right, these icons are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****New blank project****. Creates a new project folder and allows you to choose
    what to name your project.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Open project****. Opens a previously saved project. To open a project,
    choose the project folder name and select the file named *<project_name>.gns3*.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Save project****. Saves a complete project to the GNS3 *projects* folder.
    By default, a PNG image file of your workspace is saved with your project.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Second Toolbar Group
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The buttons in the second group of toolbar icons, shown in [Figure 4-3](ch04.html#second_toolbar_group-id00006
    "Figure 4-3. Second toolbar group"), allow you to create project snapshots, show
    or hide interface labels, and connect to your devices using the virtual console
    port on your devices.
  prefs: []
  type: TYPE_NORMAL
- en: '![Second toolbar group](httpatomoreillycomsourcenostarchimages2208915.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-3. Second toolbar group
  prefs: []
  type: TYPE_NORMAL
- en: 'From left to right, these icons are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****Snapshot****. Creates a snapshot of your devices, links, and IOS configurations
    to record the state of your workspace at that time. You can save more than one
    snapshot and revert to a saved snapshot at any time. Options are Create, Delete,
    Restore, and Close.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Show interface labels****. Shows or hides interface names used by a link.
    These labels are abbreviated and displayed with devices in your workspace (for
    example, f0/0 is displayed for FastEthernet0/0).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Console connect to all devices****. Opens a console connection to all running
    routers in your workspace.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*When you open a console connection to all devices, your screen might become
    cluttered with open console windows unless your terminal supports tabbed sessions.
    When dealing with large topologies, you might find it easier to open and close
    single sessions as needed by right-clicking a device node and choosing Console.*'
  prefs: []
  type: TYPE_NORMAL
- en: Third Toolbar Group
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The third group of toolbar icons, shown in [Figure 4-4](ch04.html#third_toolbar_group-id00007
    "Figure 4-4. Third toolbar group"), primarily deals with controlling devices.
  prefs: []
  type: TYPE_NORMAL
- en: '![Third toolbar group](httpatomoreillycomsourcenostarchimages2208917.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-4. Third toolbar group
  prefs: []
  type: TYPE_NORMAL
- en: 'From left to right, these four icons are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****Start/Resume all devices****. Starts all stopped devices or resumes all
    suspended devices in your workspace.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Suspend all devices****. Places all suspend-capable devices in a suspended
    state.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Stop all devices****. Stops all devices.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Reload all devices****. Reloads all devices. Be sure to save your router
    configurations and project before reloading or else you might lose your configurations!'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fourth Toolbar Group
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The final group of toolbar icons, shown in [Figure 4-5](ch04.html#fourth_toolbar_group-id00008
    "Figure 4-5. Fourth toolbar group"), provides tools to present your network layouts
    more clearly. You can add objects such as rectangles and ellipses to your project,
    and even generate a screenshot of your workspace.
  prefs: []
  type: TYPE_NORMAL
- en: '![Fourth toolbar group](httpatomoreillycomsourcenostarchimages2208919.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-5. Fourth toolbar group
  prefs: []
  type: TYPE_NORMAL
- en: 'From left to right, the icons in the last toolbar group are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****Add a note****. Creates text annotations in your workspace. Double-click
    text to modify it, and right-click the text object to change the Style attributes
    (such as font size and color). You can also rotate text objects from 0 to 360
    degrees.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Insert a picture****. Adds images and logos to your projects. GNS3 supports
    PNG, JPG, BMP, XPM, PPM, and TIFF file formats.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Draw a rectangle****. Draws dynamically sizable rectangles. You can right-click
    a rectangle object to change the Style attributes for border and border color.
    Rectangle objects can be rotated from 0 to 360 degrees.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Draw an ellipse****. Draws dynamically sizable ellipses. You can right-click
    an ellipse object to change the border style and color.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Zoom in****. Zooms in your workspace to see details.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Zoom out****. Zooms out of your workspace for a bigger bird’s-eye view.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Screenshot****. Generates a screenshot of your workspace. The image can
    be saved as a PNG, JPG, BMP, XPM, PPM, or TIFF file and by default is saved in
    your *GNS3/projects* folder.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Window Styles and Docks
  prefs: []
  type: TYPE_NORMAL
- en: GNS3 provides several window styles to choose from. To change the default style,
    select **Edit** ▸ **Preferences** on Linux and Windows, or select **GNS3** ▸ **Preferences**
    on OS X. Select the **General** category, select the **General** tab, and use
    the drop-down menu under Style to choose your new default style. Click **Apply**
    and **Okay** to activate your change. GNS3 will remember your selection between
    program restarts.
  prefs: []
  type: TYPE_NORMAL
- en: Window docks, on the other hand, are the windows that surround the GNS3 workspace.
    GNS3 displays the Console and Topology Summary docks by default.
  prefs: []
  type: TYPE_NORMAL
- en: To view or hide a window dock, select **View** ▸ **Window Docks** and select
    the dock you want to display; any dock with a check mark next to its name should
    appear onscreen. To resize a dock, click the border of the dock window where it
    connects to the workspace and drag the border until you achieve the desired size.
  prefs: []
  type: TYPE_NORMAL
- en: Objects (notes, pictures, and shapes) that you add to your workspace can be
    grouped into layers. To raise or lower an object, right-click the object and select
    **Raise one layer** or **Lower one layer**. This feature allows you to manipulate
    objects in a layer without affecting other layers. You can display layer positions
    for your objects by choosing **View** ▸ **Show Layers** from the menu, which is
    useful during advanced layer manipulation.
  prefs: []
  type: TYPE_NORMAL
- en: By adding shapes and colors with this toolbar, you can divide network components
    into logical groups. With text, you can add notes and reminders about how your
    project is configured. [Figure 4-6](ch04.html#sample_project_with_annotations
    "Figure 4-6. Sample project with annotations") shows how you can present information
    more clearly using shapes, colors, and annotated text messages.
  prefs: []
  type: TYPE_NORMAL
- en: '![Sample project with annotations](httpatomoreillycomsourcenostarchimages2208921.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-6. Sample project with annotations
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve created several projects, it’s easy to forget how you configured
    them or what your objectives were. Adding notes (like the helpful one in [Figure 4-6](ch04.html#sample_project_with_annotations
    "Figure 4-6. Sample project with annotations")) is a simple way to quickly remind
    yourself of that information, especially after a few weeks or months have gone
    by. Notes are awesome—use them!
  prefs: []
  type: TYPE_NORMAL
- en: Using the Devices Toolbar
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Devices toolbar (shown in [Figure 4-7](ch04.html#devices_toolbar "Figure 4-7. Devices
    toolbar")) organizes devices by function. Click an icon on the Devices toolbar
    to see all the devices in that device group.
  prefs: []
  type: TYPE_NORMAL
- en: '![Devices toolbar](httpatomoreillycomsourcenostarchimages2208923.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-7. Devices toolbar
  prefs: []
  type: TYPE_NORMAL
- en: 'To add a device node to your project, click an icon from the Devices toolbar
    to display a list of configured devices and then drag a device to your workspace.
    You can press SHIFT to add multiple identical devices. From left to right, the
    device types in the toolbar are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '****Routers****. Displays all available Dynamips router nodes that have been
    configured with a valid IOS image file, as well as IOU L3 routers.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Switches****. Displays all available switch nodes, including Ethernet switch,
    Ethernet hub, ATM switch, Frame Relay switch, EtherSwitch router, and IOU L2 switches.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****End Devices****. Displays all available end devices, including QEMU guests,
    VirtualBox guests, host, and cloud.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Security Devices****. Displays all available security devices, including
    ASA firewall, IDS/IPS, and any custom nodes you’ve created.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****All Devices****. Displays all available devices from the Devices toolbar.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '****Add a Link****. When this is selected, your mouse pointer changes to a
    crosshair, indicating that you can link two devices together using their virtual
    interfaces. To link devices, click the first device and select an interface; then
    repeat for the second device to complete the connection.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Click the **All Devices** icon now, and you should see a window containing every
    configured device in GNS3\. You can drag any of the devices to your workspace
    and use them in your project.
  prefs: []
  type: TYPE_NORMAL
- en: Creating Your First Project
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Now that you know your way around the GNS3 interface, let’s dig into some project
    management details. I’ll cover the easiest way to get things done, but keep in
    mind that GNS3 often provides more than one way to do things.
  prefs: []
  type: TYPE_NORMAL
- en: When you launch GNS3, a New project window appears, as shown in [Figure 4-8](ch04.html#new_project_window
    "Figure 4-8. New project window"). From here, you can either open an existing
    project or create a new one.
  prefs: []
  type: TYPE_NORMAL
- en: '![New project window](httpatomoreillycomsourcenostarchimages2208925.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-8. New project window
  prefs: []
  type: TYPE_NORMAL
- en: To create a new project, replace *untitled* with your project name, and click
    **OK**. If you’re already in GNS3, select **File** ▸ **New** to create a new project.
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve created a new GNS3 project, it’s time to build a topology, starting
    with some Dynamips routers.
  prefs: []
  type: TYPE_NORMAL
- en: Working with Routers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Begin a project by dragging a couple of routers from the Devices toolbar to
    the GNS3 workspace. If you press SHIFT when adding devices, you should see a dialog
    that allows you to add multiple identical devices. Try adding the first pair of
    routers this way. If you don’t see any routers on the Devices toolbar, please
    refer to [Setting Up Your First IOS Router](ch03.html#setting_up_your_first_ios_router
    "Setting Up Your First IOS Router") to learn how to add devices to GNS3.
  prefs: []
  type: TYPE_NORMAL
- en: After adding the routers to your workspace, they should be named R1 and R2 automatically.
    The routers got their names from the command `hostname %h` found in the GNS3 file
    *ios_base_startup-config.txt*. This file contains default IOS settings that are
    applied to all your routers and are assigned to a device when it’s configured
    with an IOS image file. To locate the Dynamips configuration files, go to **Preferences**,
    choose **Dynamips** from the pane on the left, and choose **IOS Routers**. Select
    a configured router and click **Edit** to display the Dynamips IOS Router configuration
    options, shown in [Figure 4-9](ch04.html#dynamips_ios_router_configuration_dialog
    "Figure 4-9. Dynamips IOS Router configuration dialog").
  prefs: []
  type: TYPE_NORMAL
- en: From here, you can verify the path to your device’s startup-config and private-config
    files. When a router is placed in your workspace, the contents of the startup-config
    file *ios_base_startup-config.txt* are applied to the router startup configuration
    and loaded to the router’s running configuration when the router is started. If
    you would like to create custom parameters that are globally applied to your routers
    (for example, to bring up an interface automatically or use a preassigned username
    and password), use a text editor to modify and save the *ios_base_startup-config.txt*
    file. You can apply any valid Cisco IOS commands to the file, provided your IOS
    supports them, of course. You shouldn’t need to modify the *ios_base_private-config.txt*
    file. This file was installed by GNS3 so that you can use Secure Shell (SSH) between
    router restarts, without having to generate new crypto keys on your routers.
  prefs: []
  type: TYPE_NORMAL
- en: '![Dynamips IOS Router configuration dialog](httpatomoreillycomsourcenostarchimages2208927.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-9. Dynamips IOS Router configuration dialog
  prefs: []
  type: TYPE_NORMAL
- en: It’s important to note that the changes you make are applied only to routers
    you add to new projects and can’t be applied retroactively to routers in your
    previously saved projects.
  prefs: []
  type: TYPE_NORMAL
- en: Warning
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Before modifying your* ios_base_startup-config.txt *file, you may want to
    save a backup copy. If you enter invalid commands, your routers may produce errors
    and misbehave.*'
  prefs: []
  type: TYPE_NORMAL
- en: Creating Links Between Your Routers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: After you’ve placed devices in your workspace, you’ll need to add links between
    them to create a fully functional network. This is equivalent to cabling up a
    real network, except that you’re using virtual cables rather than physical ones.
    To add links to your devices, click the **Add a link** icon in the Devices toolbar.
    Your cursor should change to a crosshair, indicating that you can select devices.
    To create a link, click a device. You’ll be presented with a drop-down menu of
    available interfaces, as shown in [Figure 4-10](ch04.html#router_with_two_fastethernet_interfaces
    "Figure 4-10. A router with two FastEthernet interfaces").
  prefs: []
  type: TYPE_NORMAL
- en: '![A router with two FastEthernet interfaces](httpatomoreillycomsourcenostarchimages2208929.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-10. A router with two FastEthernet interfaces
  prefs: []
  type: TYPE_NORMAL
- en: A red circle next to an interface indicates that it’s available to use; a green
    circle indicates the interface is already being used by an existing link. Select
    any available interface to establish the link, and then select an interface on
    another device to complete the connection. You can create connections only between
    two compatible interface types. In other words, just like with physical hardware,
    you can’t plug a serial cable into an Ethernet interface.
  prefs: []
  type: TYPE_NORMAL
- en: At some point, you may want to break a link between two devices to simulate
    an outage, to reconfigure your network, or for some other reason. To break a link
    between two devices, right-click the link and select **Delete**, as shown in [Figure 4-11](ch04.html#deleting_links_between_devices
    "Figure 4-11. Deleting links between devices").
  prefs: []
  type: TYPE_NORMAL
- en: '![Deleting links between devices](httpatomoreillycomsourcenostarchimages2208931.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-11. Deleting links between devices
  prefs: []
  type: TYPE_NORMAL
- en: To reestablish a link, click the **Add a link** icon again and choose the same
    devices.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring Virtual Hardware
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When you place virtual routers in your workspace, they have the same configuration
    options that were applied when you configured the device’s IOS image. But that
    doesn’t mean your routers are stuck with this configuration. Like PCs, Cisco routers
    have expansion ports to provide additional functionality, and GNS3 Dynamips routers
    provide the same expansion options as their physical counterparts. To modify a
    router’s hardware configuration, right-click the router and select **Configure**;
    then click the node name (R1, for example), as shown in [Figure 4-12](ch04.html#cisco_ios_router_node_configurator_dialo
    "Figure 4-12. Cisco IOS router Node configurator dialog").
  prefs: []
  type: TYPE_NORMAL
- en: '![Cisco IOS router Node configurator dialog](httpatomoreillycomsourcenostarchimages2208933.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-12. Cisco IOS router Node configurator dialog
  prefs: []
  type: TYPE_NORMAL
- en: In the Node configurator dialog, you should see the available configuration
    options for that model of router. Basic models only allow you to add simple options,
    such as Cisco SLOT, WIC, or RAM cards, while more advanced models allow you to
    define features such as the chassis type or a Network Processing Engine (NPE)
    type that can be found in Cisco 7200 series routers.
  prefs: []
  type: TYPE_NORMAL
- en: You can configure and apply the same device options for memory and slots that
    were covered in [Chapter 3](ch03.html "Chapter 3. Configuration"), but the changes
    you make here will be applied only to the devices or device group you chose in
    your project. All other devices will remain unaffected.
  prefs: []
  type: TYPE_NORMAL
- en: Starting, Stopping, and Pausing Routers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I’ve shown you how to start and stop routers by right-clicking a router and
    choosing either Start or Stop, but you can also suspend your router by right-clicking
    it and choosing Suspend. Suspending a router is handy when you want to simulate
    a failure without having to go through the process of saving your configuration,
    stopping the router, and restarting it. In fact, repeatedly stopping and restarting
    GNS3 routers can cause Dynamips to crash with some IOS versions, so I recommend
    suspending and resuming instead.
  prefs: []
  type: TYPE_NORMAL
- en: The suspend feature really shines in network convergence tests. You can quickly
    simulate failures and recoveries to test routing protocols such as the Routing
    Information Protocol (RIP), EIGRP, and OSPF, as well as redundancy protocols such
    as the HSRP, Virtual Router Redundancy Protocol (VRRP), and Gateway Load Balancing
    Protocol (GLBP). To simulate a failure, click **Suspend** and monitor your other
    routers to verify that failover or convergence has occurred.
  prefs: []
  type: TYPE_NORMAL
- en: To simulate a recovery, resume the router by right-clicking the device and choosing
    **Start**. Due to throughput limitations placed on Dynamips because of the emulation,
    failover or convergence may take a little longer than you’re used to when using
    real hardware. Don’t worry—this is totally normal.
  prefs: []
  type: TYPE_NORMAL
- en: Of course, even if you can start and stop your routers, you won’t be able to
    do too much with them until you’ve logged on to a console.
  prefs: []
  type: TYPE_NORMAL
- en: Logging On to Routers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You log on to your routers using the simulated console port. If this sounds
    familiar, it’s because that’s also how you log on to actual Cisco equipment. On
    a physical piece of hardware, the console port is where you plug in Cisco’s little
    blue serial console cable. Be sure the router is started before you open a console
    connection; otherwise, you won’t get a console screen.
  prefs: []
  type: TYPE_NORMAL
- en: Configuring Terminal Settings
  prefs: []
  type: TYPE_NORMAL
- en: Whether you’re running Windows, OS X, or Linux, there are a number of terminal
    types available to use with GNS3\. But why would you prefer one over the other?
    One reason might be that it’s what you have installed on your system. On Linux,
    for example, you may be using the Gnome Desktop, which has gnome-terminal installed
    by default. If that’s the case, you may want to modify the GNS3 terminal setting
    to use gnome-terminal. Another reason is that some terminal programs provide more
    features than others. You may want to choose a terminal type that allows you to
    use tabbed windows, for example, so you can open more than one console at a time
    without a bunch of open windows cluttering the screen.
  prefs: []
  type: TYPE_NORMAL
- en: To modify the terminal settings, go to **Preferences**, click **General**, and
    then click the **Console applications** tab to display the window shown in [Figure 4-13](ch04.html#terminal_settings
    "Figure 4-13. Terminal settings").
  prefs: []
  type: TYPE_NORMAL
- en: '![Terminal settings](httpatomoreillycomsourcenostarchimages2208935.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-13. Terminal settings
  prefs: []
  type: TYPE_NORMAL
- en: From here, you can choose a predefined terminal type and customize the command
    settings under Console application command. (Check your terminal application documentation
    to find out what options are available on your system.) When you’re done, click
    **Set** and then **Apply** and **OK**.
  prefs: []
  type: TYPE_NORMAL
- en: To log on to all your routers at once, click the **Console connect to all devices**
    icon in the second toolbar group (see [Figure 4-3](ch04.html#second_toolbar_group-id00006
    "Figure 4-3. Second toolbar group")). To log on to a single router, right-click
    the router node in your workspace and select **Console** or **Auxiliary console**
    from the menu (see [Figure 4-14](ch04.html#choose_console_or_auxiliary_console_to_c
    "Figure 4-14. Choose Console or Auxiliary console to connect to a router")).
  prefs: []
  type: TYPE_NORMAL
- en: To change the Transmission Control Protocol (TCP) port number on which a router’s
    console or AUX port listens, right-click a device in your workspace, click **Configure**,
    and select the **General** tab. The port number you choose must be unique for
    every device in GNS3 and on your PC. As a rule, I try not to mess with port numbers
    unless I must. GNS3 does a pretty good job of keeping them all straight, and mucking
    with them can lead to headaches. But if some other TCP/IP application running
    on your PC happens to conflict with GNS3, you may have to make some changes before
    you can log on to your router.
  prefs: []
  type: TYPE_NORMAL
- en: '![Choose Console or Auxiliary console to connect to a router](httpatomoreillycomsourcenostarchimages2208937.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-14. Choose Console or Auxiliary console to connect to a router
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*Use the `netstat` command on your PC to verify what TCP/IP ports are already
    in use.*'
  prefs: []
  type: TYPE_NORMAL
- en: Once you’ve established a console connection to the router, you should see a
    familiar Cisco console window.
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'At this point, you can begin using standard IOS commands to configure the router.
    One command that might look odd is the `show flash` command. Normally this command
    displays files saved in flash memory, such as the router’s IOS image file and
    other default files from Cisco. In GNS3, however, you’ll notice there are no files
    saved here by default. What’s more, the flash drive may be *unformatted*; if that’s
    the case, you’ll need to issue the `erase flash:` command before you can save
    files to flash memory. Otherwise, you may receive an error similar to the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '*If you use an NM-16ESW switch module, you may have to erase your router’s
    flash memory before you create VLANs; otherwise, the VLAN database* (vlan.dat)
    *will not be able to be saved.*'
  prefs: []
  type: TYPE_NORMAL
- en: This section has been all about Dynamips routers so far, but you can also use
    switches in your GNS3 projects, which I’ll cover next.
  prefs: []
  type: TYPE_NORMAL
- en: Ethernet Switch Nodes
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Ethernet switch node is an emulated virtual switch that allows you to create
    VLAN access and trunk ports. The Ethernet switch node supports access ports, industry-standard
    802.1Q trunk ports, and QinQ tagging. It does not, however, support Cisco’s proprietary
    Inter-Switch Link (ISL) trunking protocol.
  prefs: []
  type: TYPE_NORMAL
- en: To use an Ethernet switch node, drag the node to your workspace. You never have
    to start an Ethernet switch node; they’re always ready to use.
  prefs: []
  type: TYPE_NORMAL
- en: To configure the switch, right-click the **Ethernet switch node** icon and select
    **Configure**. Using the Node configurator window shown in [Figure 4-15](ch04.html#ethernet_switch_node_configurator_window
    "Figure 4-15. Ethernet switch Node configurator window"), click the switch name
    (SW1, for example) to modify the default switch ports or add new ports.
  prefs: []
  type: TYPE_NORMAL
- en: By default, there are eight access ports assigned to VLAN 1\. To change a port,
    click the port number and modify the settings as needed. When you’re done, click
    **Apply** and **OK**. To add a new port, define the port settings and click the
    **Add** button; then click **Apply**. When you’re finished adding ports, click
    **OK** to complete the setup.
  prefs: []
  type: TYPE_NORMAL
- en: One alternative to the Ethernet switch node is to configure a Dynamips router
    with a network switch module. The advantage of using a switch module is that it
    supports more features (such as the Spanning Tree Protocol); the downside is that
    using a network switch module uses more PC resources. If you need the functions
    of only a simple switch, I recommend you stick with the Ethernet switch node.
    If you need full IOS switching capability, use a router with a switch module installed
    like the EtherSwitch router, or use an IOU L2 switch image (discussed in [Chapter 9](ch09.html
    "Chapter 9. Cisco IOS On UNIX and NX-OSv")).
  prefs: []
  type: TYPE_NORMAL
- en: '![Ethernet switch Node configurator window](httpatomoreillycomsourcenostarchimages2208939.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-15. Ethernet switch Node configurator window
  prefs: []
  type: TYPE_NORMAL
- en: Changing Symbols and Organizing Your Devices
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can change the symbols that are used to represent devices in your workspace
    and choose where your devices are located in the Devices toolbar. Let’s say you
    want to change an IOS router’s symbol. To change the symbol of the device, select
    **Edit** ▸ **Preferences** on Linux and Windows or select **GNS3** ▸ **Preferences**
    on OS X. Next, go under the device you want to change, right-click the device
    icon, and select **Change symbol**, as shown in [Figure 4-16](ch04.html#changing_the_symbol
    "Figure 4-16. Changing the symbol").
  prefs: []
  type: TYPE_NORMAL
- en: '![Changing the symbol](httpatomoreillycomsourcenostarchimages2208941.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-16. Changing the symbol
  prefs: []
  type: TYPE_NORMAL
- en: You can change the symbol for IOU devices, VirtualBox virtual machines, and
    QEMU virtual machines in the same way. The Symbol selection window, as shown in
    [Figure 4-17](ch04.html#symbol_selection_and_device_category "Figure 4-17. Symbol
    selection and device category"), should appear after you click **Change symbol**.
  prefs: []
  type: TYPE_NORMAL
- en: '![Symbol selection and device category](httpatomoreillycomsourcenostarchimages2208943.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 4-17. Symbol selection and device category
  prefs: []
  type: TYPE_NORMAL
- en: To change a device symbol, scroll down in the Symbol selection window and select
    the symbol you want to use. Next, use the drop-down menu to choose a category.
    This is the category where the device will be placed in the Devices toolbar. The
    categories include Switches, Routers, End Devices, and Security Devices. When
    you’re finished, click **OK** to complete the change.
  prefs: []
  type: TYPE_NORMAL
- en: Final Thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you learned the basics of setting up a GNS3 network, so now
    is a good time to create a few labs and practice what you’ve learned. If you’re
    studying for a Cisco certification, spending as much hands-on time as possible
    with Cisco gear is the only way to gain enough experience to pass the exams. (They’re
    tough!)
  prefs: []
  type: TYPE_NORMAL
- en: Start by creating the network in [Figure 4-1](ch04.html#screen_layout_showing_two_routers_and_a
    "Figure 4-1. Screen layout showing two routers and a switch in the GNS3 workspace").
    After creating the topology, log on to the routers, configure their interfaces,
    and try pinging between them. Simulate a failure and recovery by using the suspend
    and resume feature or by starting and stopping a device. Once you’ve explored
    some IOS commands and GNS3 features, try creating a simple CCNA lab with three
    or more routers; there are plenty of CCNA and CCNP example labs online.
  prefs: []
  type: TYPE_NORMAL
- en: 'One last word of caution: if you create large topologies that use multi-protocol
    routing, you might find that you have to increase your router’s protocol timers
    to prevent your interfaces from repeatedly going up and down. (It’s rare, but
    it does happen sometimes.) The problem is caused by the inherent effects of latency
    within Dynamips. Serial connections are another common problem area; some router
    images can be flaky when running on emulated serial ports. If you find a router’s
    serial port is acting up by either crashing your router or flapping the connection,
    try another router model or different IOS image. In general, c36xx, c37xx, and
    7200 IOS images are the most stable with Dynamips and should be used whenever
    possible.'
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 5](ch05.html "Chapter 5. Integrating Hosts and Using Wireshark"),
    you’ll explore the basics of capturing network packets with Wireshark and expanding
    your networks by adding hosts using VPCS, VirtualBox, and Linux.
  prefs: []
  type: TYPE_NORMAL
