<html><head></head><body><section class="chapter" title="Chapter&#xA0;6.&#xA0;Object Patterns" epub:type="chapter" id="object_patterns"><div class="titlepage"><div><div><h2 class="title">Chapter 6. Object Patterns</h2></div></div></div><p><a id="iddle1226" class="indexterm"/>JavaScript has many patterns for creating objects, and there’s usually more than one way to accomplish the same thing. You can define your own custom types or your own generic objects whenever you want. You can use inheritance to share behavior between objects, or you can employ other techniques, such as mixins. You can also take advantage of advanced JavaScript features to prevent an object’s structure from being modified. The patterns discussed in this chapter give you powerful ways of managing and creating objects, all based on your use cases.</p><div class="sect1" title="Private and Privileged Members"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="private_and_privileged_members">Private and Privileged Members</h2></div></div></div><p><a id="iddle1009" class="indexterm"/><a id="iddle1015" class="indexterm"/><a id="iddle1144" class="indexterm"/><a id="iddle1186" class="indexterm"/><a id="iddle1191" class="indexterm"/><a id="iddle1194" class="indexterm"/><a id="iddle1227" class="indexterm"/><a id="iddle1264" class="indexterm"/><a id="iddle1266" class="indexterm"/><a id="iddle1269" class="indexterm"/><a id="iddle1378" class="indexterm"/>All object properties in JavaScript are public, and there’s no explicit way to indicate that a property shouldn’t be accessed from outside a particular object. At some point, however, you might not want data to be public. For example, when an object uses a value to determine some sort of state, modifying that data without the object’s knowledge throws the state management process into chaos. One way to avoid this is by using naming conventions. For example, it’s quite common to prefix properties with an underscore (such as <code class="literal">this._name</code>) when they are not intended to be public. However, there are ways of hiding data that don’t rely on convention and are therefore more “bulletproof” in preventing the modification of private information.</p><div class="sect2" title="The Module Pattern"><div class="titlepage"><div><div><h3 class="title" id="module_pattern">The Module Pattern</h3></div></div></div><p>The <span class="emphasis"><em>module pattern</em></span> is an object-creation pattern designed to create singleton objects with private data. The basic approach is to use an <span class="emphasis"><em>immediately invoked function expression (IIFE)</em></span> that returns an object. An IIFE is a function expression that is defined and then called immediately to produce a result. That function expression can contain any number of local variables that aren’t accessible from outside that function. Because the returned object is defined within that function, the object’s methods have access to the data. (All objects defined within the IIFE have access to the same local variables.) Methods that access private data in this way are called <span class="emphasis"><em>privileged</em></span> methods. Here’s the basic format for the module pattern:</p><a id="pro_id00115"/><pre class="programlisting">  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">yourObject</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>

      <span class="pd_green1"><code class="c1">// private data variables</code></span>

      <span class="pd_green"><code class="k">return</code></span> <code class="p">{</code>
          <span class="pd_green1"><code class="c1">// public methods and properties</code></span>
      <code class="p">};</code>
<code class="err">❶</code> <code class="p">}());</code></pre><p>In this pattern, an anonymous function is created and executed immediately. (Note the extra parentheses at the end of the function ❶. You can execute anonymous functions immediately using this syntax.) That means the function exists for just a moment, is executed, and then is destroyed. IIFEs are a very popular pattern in JavaScript, partially for their use in the module pattern.</p><p><a id="iddle1048" class="indexterm"/><a id="iddle1255" class="indexterm"/>The module pattern allows you to use regular variables as de facto object properties that aren’t exposed publicly. You accomplish this by creating <span class="emphasis"><em>closure</em></span> functions as object methods. Closures are simply functions that access data outside their own scope. For example, whenever you access a global object in a function, such as <code class="literal">window</code> in a web browser, that function is accessing a variable outside its own scope. The difference with the module function is that the variables are declared within the IIFE, and a function that is also declared inside the IIFE accesses those variables. For example:</p><a id="pro_id00116"/><pre class="programlisting">  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>

<code class="err">❶</code>     <span class="pd_green"><code class="kd">var</code></span> <code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">25</code></span><code class="p">;</code>

      <span class="pd_green"><code class="k">return</code></span> <code class="p">{</code>
          <code class="nx">name</code><code class="o">:</code> <span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">,</code>

<code class="err">❷</code>         <code class="nx">getAge</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
              <span class="pd_green"><code class="k">return</code></span> <code class="nx">age</code><code class="p">;</code>
          <code class="literal">},</code>

<code class="err">❸</code>         <code class="nx">growOlder</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
              <code class="nx">age</code><code class="o">++</code><code class="p">;</code>
          <code class="literal">}</code>
      <code class="literal">};</code>

  <code class="literal">}());</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>       <span class="pd_green1"><code class="c1">// "Nicholas"</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 25</code></span>

  <code class="nx">person</code><code class="p">.</code><code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">100</code></span><code class="p">;</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 25</code></span>

  <code class="nx">person</code><code class="p">.</code><code class="nx">growOlder</code><code class="p">();</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 26</code></span></pre><p>This code creates the <code class="literal">person</code> object using the module pattern. The <code class="literal">age</code> variable ❶ acts like a private property for the object. It can’t be accessed directly from outside the object, but it can be used by the object methods. There are two privileged methods on the object: <code class="literal">getAge()</code> ❷, which reads the value of the <code class="literal">age</code> variable, and <code class="literal">growOlder()</code> ❸, which increments <code class="literal">age</code>. Both of these methods can access the variable <code class="literal">age</code> directly because it is defined in the outer function in which they are defined.</p><p><a id="iddle1061" class="indexterm"/><a id="iddle1265" class="indexterm"/><a id="iddle1325" class="indexterm"/>There is a variation of the module pattern called the <span class="emphasis"><em>revealing module pattern</em></span>, which arranges all variables and methods at the top of the IIFE and simply assigns them to the returned object. You can write the previous example using the revealing module pattern as follows:</p><a id="pro_id00117"/><pre class="programlisting">  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>

      <span class="pd_green"><code class="kd">var</code></span> <code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">25</code></span><code class="p">;</code>

      <span class="pd_green"><code class="kd">function</code></span> <code class="nx">getAge</code><code class="p">()</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">return</code></span> <code class="nx">age</code><code class="p">;</code>
      <code class="literal">}</code>

      <span class="pd_green"><code class="kd">function</code></span> <code class="nx">growOlder</code><code class="p">()</code> <code class="p">{</code>
          <code class="nx">age</code><code class="o">++</code><code class="p">;</code>
      <code class="literal">}</code>

      <span class="pd_green"><code class="k">return</code></span> <code class="p">{</code>
          <code class="nx">name</code><code class="o">:</code> <span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">,</code>
<code class="err">❶</code>         <code class="nx">getAge</code><code class="o">:</code> <code class="nx">getAge</code><code class="p">,</code>
          <code class="nx">growOlder</code><code class="o">:</code> <code class="nx">growOlder</code>
      <code class="literal">};</code>

  <code class="literal">}());</code></pre><p>In the revealing module pattern, <code class="literal">age</code>, <code class="literal">getAge()</code>, and <code class="literal">growOlder()</code> are all defined as local to the IIFE. The <code class="literal">getAge()</code> and <code class="literal">growOlder()</code> functions are then assigned to the returned object ❶, effectively “revealing” them outside the IIFE. This code is essentially the same as the earlier example using the traditional module pattern; however, some prefer this pattern because it keeps all variable and function declarations together.</p></div><div class="sect2" title="Private Members for Constructors"><div class="titlepage"><div><div><h3 class="title" id="private_members_for_constructors">Private Members for Constructors</h3></div></div></div><p>The module pattern is great for defining individual objects that have private properties, but what about custom types that also require their own private properties? You can use a pattern that’s similar to the module pattern inside the constructor to create instance-specific private data. For example:</p><a id="pro_id00118"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>

      <span class="pd_green1"><code class="c1">// define a variable only accessible inside of the Person constructor</code></span>
      <span class="pd_green"><code class="kd">var</code></span> <code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">25</code></span><code class="p">;</code>

      <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>

<code class="err">❶</code>     <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">getAge</code> <span class="pd_ash"><code class="o">=</code></span> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">return</code></span> <code class="nx">age</code><code class="p">;</code>
      <code class="p">};</code>

<code class="err">❷</code>     <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">growOlder</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
          <code class="nx">age</code><code class="o">++</code><code class="p">;</code>
      <code class="p">};</code>
   <code class="p">}</code>

   <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>

   <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>       <span class="pd_green1"><code class="c1">// "Nicholas"</code></span>
   <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 25</code></span>

   <code class="nx">person</code><code class="p">.</code><code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">100</code></span><code class="p">;</code>
   <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 25</code></span>

   <code class="nx">person</code><code class="p">.</code><code class="nx">growOlder</code><code class="p">();</code>
   <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>   <span class="pd_green1"><code class="c1">// 26</code></span></pre><p><a id="iddle1075" class="indexterm"/><a id="iddle1263" class="indexterm"/><a id="iddle1334" class="indexterm"/>In this code, the <code class="literal">Person</code> constructor has a local variable, <code class="literal">age</code>. That variable is used as part of the <code class="literal">getAge()</code> ❶ and <code class="literal">growOlder()</code> ❷ methods. When you create an instance of <code class="literal">Person</code>, that instance receives its own <code class="literal">age</code> variable, <code class="literal">getAge()</code> method, and <code class="literal">growOlder()</code> method. In many ways, this is similar to the module pattern, where the constructor creates a local scope and returns the <code class="literal">this</code> object. As discussed in <a class="xref" href="ch04.html" title="Chapter 4. Constructors and Prototypes">Chapter 4</a>, placing methods on an object instance is less efficient than doing so on the prototype, but this is the only approach possible when you want private, instance-specific data.</p><p>If you want private data to be shared across all instances (as if it were on the prototype), you can use a hybrid approach that looks like the module pattern but uses a constructor:</p><a id="pro_id00119"/><pre class="programlisting">  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">Person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>

      <span class="pd_green1"><code class="c1">// everyone shares the same age</code></span>
<code class="err">❶</code>     <span class="pd_green"><code class="kd">var</code></span> <code class="nx">age</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_ash"><code class="mi">25</code></span><code class="p">;</code>

<code class="err">❷</code>     <span class="pd_green"><code class="kd">function</code></span> <code class="nx">InnerPerson</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>
      <code class="p">}</code>

      <code class="nx">InnerPerson</code><code class="p">.</code><code class="nx">prototype</code><code class="p">.</code><code class="nx">getAge</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">return</code></span> <code class="nx">age</code><code class="p">;</code>
      <code class="p">};</code>

      <code class="nx">InnerPerson</code><code class="p">.</code><code class="nx">prototype</code><code class="p">.</code><code class="nx">growOlder</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
          <code class="nx">age</code><code class="o">++</code><code class="p">;</code>
      <code class="p">};</code>

      <span class="pd_green"><code class="k">return</code></span> <code class="nx">InnerPerson</code><code class="p">;</code>

  <code class="p">}());</code>
  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person1</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>
  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person2</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Greg"</code></span><code class="p">);</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person1</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>      <span class="pd_green1"><code class="c1">// "Nicholas"</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person1</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>  <span class="pd_green1"><code class="c1">// 25</code></span>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person2</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>      <span class="pd_green1"><code class="c1">// "Greg"</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person2</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>  <span class="pd_green1"><code class="c1">// 25</code></span>

  <code class="nx">person1</code><code class="p">.</code><code class="nx">growOlder</code><code class="p">();</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person1</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>  <span class="pd_green1"><code class="c1">// 26</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person2</code><code class="p">.</code><code class="nx">getAge</code><code class="p">());</code>  <span class="pd_green1"><code class="c1">// 26</code></span></pre><p><a id="iddle1096" class="indexterm"/><a id="iddle1113" class="indexterm"/><a id="iddle1189" class="indexterm"/><a id="iddle1271" class="indexterm"/><a id="iddle1309" class="indexterm"/><a id="iddle1313" class="indexterm"/><a id="iddle1356" class="indexterm"/>In this code, the <code class="literal">InnerPerson</code> constructor ❷ is defined inside an IIFE. The variable <code class="literal">age</code> ❶ is defined outside the constructor but is used for two prototype methods. The <code class="literal">InnerPerson</code> constructor is then returned and becomes the <code class="literal">Person</code> constructor in the global scope. All instances of <code class="literal">Person</code> end up sharing the <code class="literal">age</code> variable, so changing the value with one instance automatically affects the other instance.</p></div></div><div class="sect1" title="Mixins"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="mixins">Mixins</h2></div></div></div><p>Although pseudoclassical inheritance and prototypal inheritance are used frequently in JavaScript, there is also a type of pseudoinheritance accomplished through mixins. <span class="emphasis"><em>Mixins</em></span> occur when one object acquires the properties of another without modifying the prototype chain. The first object (a <span class="emphasis"><em>receiver</em></span>) actually receives the properties of the second object (the <span class="emphasis"><em>supplier</em></span>) by copying those properties directly. Traditionally, you create mixins using a function such as this:</p><a id="pro_id00120"/><pre class="programlisting"><span class="pd_green"><code class="kd">function</code></span> <code class="nx">mixin</code><code class="p">(</code><code class="nx">receiver</code><code class="p">,</code> <code class="nx">supplier</code><code class="p">)</code> <code class="p">{</code>
    <span class="pd_green"><code class="k">for</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">var</code></span> <code class="nx">property</code> <span class="pd_green"><code class="k">in</code></span> <code class="nx">supplier</code><code class="p">)</code> <code class="p">{</code>
        <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><code class="nx">supplier</code><code class="p">.</code><code class="nx">hasOwnProperty</code><code class="p">(</code><code class="nx">property</code><code class="p">))</code> <code class="p">{</code>
            <code class="nx">receiver</code><code class="p">[</code><code class="nx">property</code><code class="p">]</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">supplier</code><code class="p">[</code><code class="nx">property</code><code class="p">]</code>
        <code class="p">}</code>
    <code class="p">}</code>

    <span class="pd_green"><code class="k">return</code></span> <code class="nx">receiver</code><code class="p">;</code>
<code class="p">}</code></pre><p>The <code class="literal">mixin()</code> function accepts two arguments: the receiver and the supplier. The goal of the function is to copy all enumerable properties from the supplier onto the receiver. You accomplish this using a <code class="literal">for-in</code> loop that iterates over the properties in <code class="literal">supplier</code> and then assigns the value <a id="iddle1104" class="indexterm"/>of that property to a property of the same name on <code class="literal">receiver</code>. Keep in mind that this is a shallow copy, so if a property contains an object, then both the supplier and the receiver will be pointing to the same object. This pattern is used frequently for adding new behaviors to JavaScript objects that already exist on other objects.</p><p>For example, you can add event support to an object through a mixin rather than inheritance. First, suppose you’ve already defined a custom type for using events:</p><a id="pro_id00121"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">EventTarget</code><code class="p">(){</code>
  <code class="p">}</code>

  <code class="nx">EventTarget</code><code class="p">.</code><code class="nx">prototype</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">{</code>

      <code class="nx">constructor</code><code class="o">:</code> <code class="nx">EventTarget</code><code class="p">,</code>

<code class="err">❶</code>     <code class="nx">addListener</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">type</code><code class="p">,</code> <code class="nx">listener</code><code class="p">){</code>

          <span class="pd_green1"><code class="c1">// create an array if it doesn't exist</code></span>
          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_ash"><code class="o">!</code></span><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">hasOwnProperty</code><code class="p">(</code><span class="pd_red"><code class="s2">"_listeners"</code></span><code class="p">))</code> <code class="p">{</code>
              <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">[];</code>
          <code class="p">}</code>

          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="k">typeof</code> <code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">type</code><code class="p">]</code> <span class="pd_ash"><code class="o">==</code></span> <span class="pd_red"><code class="s2">"undefined"</code></span><code class="p">){</code>
              <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">type</code><code class="p">]</code> <span class="pd_ash"><code class="o">=</code></span> <code class="p">[];</code>
          <code class="p">}</code>

          <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">type</code><code class="p">].</code><code class="nx">push</code><code class="p">(</code><code class="nx">listener</code><code class="p">);</code>
      <code class="p">},</code>

<code class="err">❷</code>     <code class="nx">fire</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">event</code><code class="p">){</code>

          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_ash"><code class="o">!</code></span><code class="nx">event</code><code class="p">.</code><code class="nx">target</code><code class="p">){</code>
              <code class="nx">event</code><code class="p">.</code><code class="nx">target</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">this</code></span><code class="p">;</code>
          <code class="p">}</code>

          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_ash"><code class="o">!</code></span><code class="nx">event</code><code class="p">.</code><code class="nx">type</code><code class="p">){</code> <span class="pd_green1"><code class="c1">// falsy</code></span>
              <span class="pd_green"><code class="k">throw</code> <code class="k">new</code> <code class="nb">Error</code></span><code class="p">(</code><span class="pd_red"><code class="s2">"Event object missing 'type' property."</code></span><code class="p">);</code>
          <code class="p">}</code>

          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code> <span class="pd_ash"><code class="o">&amp;&amp;</code></span> <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">event</code><code class="p">.</code><code class="nx">type</code><code class="p">]</code> <span class="pd_green"><code class="k">instanceof</code> <code class="nb">Array</code></span><code class="p">){</code>
              <span class="pd_green"><code class="kd">var</code></span> <code class="nx">listeners</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">event</code><code class="p">.</code><code class="nx">type</code><code class="p">];</code>
              <span class="pd_green"><code class="k">for</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">var</code></span> <span class="pd_ash"><code class="nx">i</code><code class="o">=</code><code class="mi">0</code></span><code class="p">,</code> <code class="nx">len</code><span class="pd_ash"><code class="o">=</code></span><code class="nx">listeners</code><code class="p">.</code><code class="nx">length</code><code class="p">;</code> <code class="nx">i</code> <span class="pd_ash"><code class="o">&lt;</code></span> <code class="nx">len</code><code class="p">;</code> <code class="nx">i</code><span class="pd_ash"><code class="o">++</code></span><code class="p">){</code>
                  <code class="nx">listeners</code><code class="p">[</code><code class="nx">i</code><code class="p">].</code><code class="nx">call</code><code class="p">(</code><code class="k">this</code><code class="p">,</code> <code class="nx">event</code><code class="p">);</code>
              <code class="p">}</code>
          <code class="p">}</code>
      <code class="p">},</code>
<code class="err">❸</code>     <code class="nx">removeListener</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">type</code><code class="p">,</code> <code class="nx">listener</code><code class="p">){</code>
          <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code> <span class="pd_ash"><code class="o">&amp;&amp;</code></span> <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">type</code><code class="p">]</code> <span class="pd_green"><code class="k">instanceof</code> <code class="nb">Array</code></span><code class="p">){</code>
              <span class="pd_green"><code class="kd">var</code></span> <code class="nx">listeners</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">_listeners</code><code class="p">[</code><code class="nx">type</code><code class="p">];</code>
              <span class="pd_green"><code class="k">for</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">var</code></span> <span class="pd_ash"><code class="nx">i</code><code class="o">=</code><code class="mi">0</code></span><code class="p">,</code> <code class="nx">len</code><span class="pd_ash"><code class="o">=</code></span><code class="nx">listeners</code><code class="p">.</code><code class="nx">length</code><code class="p">;</code> <code class="nx">i</code> <span class="pd_ash"><code class="o">&lt;</code></span> <code class="nx">len</code><code class="p">;</code> <span class="pd_ash"><code class="nx">i</code><code class="o">++</code></span><code class="p">){</code>
                   <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><code class="nx">listeners</code><code class="p">[</code><span class="pd_ash"><code class="nx">i</code></span><code class="p">]</code> <span class="pd_ash"><code class="o">===</code></span> <code class="nx">listener</code><code class="p">){</code>
                       <code class="nx">listeners</code><code class="p">.</code><code class="nx">splice</code><code class="p">(</code><code class="nx">i</code><code class="p">,</code> <span class="pd_ash"><code class="mi">1</code></span><code class="p">);</code>
                       <span class="pd_green"><code class="k">break</code></span><code class="p">;</code>
                   <code class="p">}</code>
              <code class="p">}</code>
          <code class="p">}</code>
      <code class="p">}</code>
 <code class="p">};</code></pre><p>The <code class="literal">EventTarget</code> type provides basic event handling for any object. You can add ❶ and remove ❸ listeners as well as fire events ❷ directly on the object. The event listeners are stored on a <code class="literal">_listeners</code> property that is created only when <code class="literal">addListener()</code> is called for the first time (this makes it easier to mix in). You can use instances of <code class="literal">EventTarget</code> like this:</p><a id="pro_id00122"/><pre class="programlisting"><span class="pd_green"><code class="kd">var</code></span> <code class="nx">target</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">();</code>
<code class="nx">target</code><code class="p">.</code><code class="nx">addListener</code><code class="p">(</code><span class="pd_red"><code class="s2">"message"</code></span><code class="p">,</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">event</code><code class="p">)</code> <code class="p">{</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_red"><code class="s2">"Message is "</code></span> <span class="pd_ash"><code class="o">+</code></span> <code class="nx">event</code><code class="p">.</code><code class="nx">data</code><code class="p">);</code>
<code class="p">})</code>

<code class="nx">target</code><code class="p">.</code><code class="nx">fire</code><code class="p">({</code>
    <code class="nx">type</code><code class="o">:</code> <span class="pd_red"><code class="s2">"message"</code></span><code class="p">,</code>
    <code class="nx">data</code><code class="o">:</code> <span class="pd_red"><code class="s2">"Hello world!"</code></span>
<code class="p">});</code></pre><p>Support for events is useful for objects in JavaScript. If you want to have a different type of object that also supports events, you have a few options. First, you can create a new instance of <code class="literal">EventTarget</code> and then add on the properties that you want:</p><a id="pro_id00123"/><pre class="programlisting"><span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">();</code>
<code class="nx">person</code><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">;</code>
<code class="nx">person</code><code class="p">.</code><code class="nx">sayName</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
    <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
    <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><span class="pd_ash"><code class="o">:</code></span> <span class="pd_red"><code class="s2">"namesaid"</code></span><code class="p">,</code> <code class="nx">name</code><span class="pd_ash"><code class="o">:</code></span> <code class="nx">name</code> <code class="p">});</code>
<code class="p">};</code></pre><p>In this code, a new variable called <code class="literal">person</code> is created as an instance of <code class="literal">EventTarget</code>, and then the <code class="literal">person</code>-related properties are added. Unfortunately, this means that <code class="literal">person</code> is actually an instance of <code class="literal">EventTarget</code> instead of <code class="literal">Object</code> or a custom type. You also incur the overhead of needing to add a bunch of new properties by hand. It would be better to have a more organized way of doing this.</p><p><a id="iddle1151" class="indexterm"/><a id="iddle1308" class="indexterm"/>A second way to solve this problem is to use pseudoclassical inheritance:</p><a id="pro_id00124"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
      <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>
  <code class="p">}</code>

<code class="err">❶</code> <code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">create</code><code class="p">(</code><code class="nx">EventTarget</code><code class="p">.</code><code class="nx">prototype</code><code class="p">);</code>
  <code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code><code class="p">.</code><code class="nx">constructor</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">Person</code><code class="p">;</code>

  <code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code><code class="p">.</code><code class="nx">sayName</code> <code class="o">=</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
      <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
      <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><span class="pd_ash"><code class="o">:</code></span> <span class="pd_ash"><code class="s2">"namesaid"</code></span><code class="p">,</code> <code class="nx">name</code><span class="pd_ash"><code class="o">:</code></span> <code class="nx">name</code> <code class="p">});</code>
  <code class="p">};</code>

  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">);</code>      <span class="pd_green1"><code class="c1">// true</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">EventTarget</code><code class="p">);</code> <span class="pd_green1"><code class="c1">// true</code></span></pre><p>In this case, there is a new <code class="literal">Person</code> type that inherits from <code class="literal">EventTarget</code> ❶. You can add any further methods you need to <code class="literal">Person</code>’s prototype afterward. However, this isn’t as succinct as it could be, and you could argue that the relationship doesn’t make sense: A person is a type of event target? By using a mixin instead, you can reduce the amount of code necessary to assign those new properties to the prototype:</p><a id="pro_id00125"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
      <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>
  <code class="p">}</code>
<code class="err">❶</code> <code class="nx">mixin</code><code class="p">(</code><code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code><code class="p">,</code> <span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">());</code>
  <code class="nx">mixin</code><code class="p">(</code><code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code><code class="p">,</code> <code class="p">{</code>
      <code class="nx">constructor</code><code class="o">:</code> <code class="nx">Person</code><code class="p">,</code>

      <code class="nx">sayName</code><code class="o">:</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code>
          <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
          <code class="k">this</code><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><code class="o">:</code> <code class="s2">"namesaid"</code><code class="p">,</code> <code class="nx">name</code><code class="o">:</code> <code class="nx">name</code> <code class="p">});</code>
      <code class="p">}</code>
  <code class="p">});</code>

  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">);</code>      <span class="pd_green1"><code class="c1">// true</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">EventTarget</code><code class="p">);</code> <span class="pd_green1"><code class="c1">// false</code></span></pre><p>Here, <code class="literal">Person.prototype</code> is mixed in with a new instance of <code class="literal">EventTarget</code> ❶ to get the event behavior. Then, <code class="literal">Person.prototype</code> is mixed in with <code class="literal">constructor</code> and <code class="literal">sayName()</code> to complete the composition of the prototype. Instances of <code class="literal">Person</code> are not instances of <code class="literal">EventTarget</code> in this example because there is no inheritance.</p><p><a id="iddle1080" class="indexterm"/><a id="iddle1190" class="indexterm"/>Of course, you might decide that while you do want to use an object’s properties, you don’t want a constructor of pseudoclassical inheritance at all. In that case, you can use a mixin directly when you create your new object:</p><a id="pro_id00126"/><pre class="programlisting"><span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">mixin</code><code class="p">(</code><span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">(),</code> <code class="p">{</code>

    <code class="nx">name</code><code class="o">:</code> <span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">,</code>

    <code class="nx">sayName</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
        <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
        <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><span class="pd_ash"><code class="o">:</code></span> <span class="pd_red"><code class="s2">"namesaid"</code></span><code class="p">,</code> <code class="nx">name</code><span class="pd_ash"><code class="o">:</code></span> <code class="nx">name</code> <code class="p">});</code>
    <code class="p">}</code>
<code class="p">});</code></pre><p>In this example, a new instance of <code class="literal">EventTarget</code> is mixed in with some new properties to create the <code class="literal">person</code> object without affecting <code class="literal">person</code>’s prototype chain.</p><p>One thing to keep in mind about using mixins in this way is that accessor properties on the supplier become data properties on the receiver, which means you can overwrite them if you’re not careful. That’s because the receiver properties are being created by assignment rather than by <code class="literal">Object.defineProperty()</code>, meaning the current value of the supplier property is read and then assigned to a property of the same name on the receiver. For example:</p><a id="pro_id00127"/><pre class="programlisting">  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">mixin</code><code class="p">(</code><span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">(),</code> <code class="p">{</code>

<code class="err">❶</code>     <code class="nx">get</code> <code class="nx">name</code><code class="p">()</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">return</code></span> <span class="pd_red"><code class="s2">"Nicholas"</code></span>
      <code class="p">},</code>

      <code class="nx">sayName</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
          <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
          <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><span class="pd_ash"><code class="o">:</code></span> <span class="pd_red"><code class="s2">"namesaid"</code></span><code class="p">,</code> <code class="nx">name</code><span class="pd_ash"><code class="o">:</code></span> <code class="nx">name</code> <code class="p">});</code>
      <code class="p">}</code>
  <code class="p">});</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>        <span class="pd_green1"><code class="c1">// "Nicholas"</code></span>

<code class="err">❷</code> <code class="nx">person</code><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_red"><code class="s2">"Greg"</code></span><code class="p">;</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>        <span class="pd_green1"><code class="c1">// "Greg"</code></span></pre><p><a id="iddle1172" class="indexterm"/><a id="iddle1224" class="indexterm"/>In this code, <code class="literal">name</code> is defined as an accessor property with only a getter ❶. That means assigning a value to the property should have no effect. However, because the accessor property becomes a data property on the <code class="literal">person</code> object, it’s possible to overwrite <code class="literal">name</code> with a new value ❷. During the call to <code class="literal">mixin()</code>, the value of <code class="literal">name</code> is read from the supplier and assigned to the property called <code class="literal">name</code> on the receiver. At no point during this process is a new accessor defined, making the <code class="literal">name</code> property on the receiver a data property.</p><p>If you want accessor properties to be copied over as accessor properties, you need a different <code class="literal">mixin()</code> function, such as:</p><a id="pro_id00128"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">mixin</code><code class="p">(</code><code class="nx">receiver</code><code class="p">,</code> <code class="nx">supplier</code><code class="p">)</code> <code class="p">{</code>
<code class="err">❶</code>     <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">keys</code><code class="p">(</code><code class="nx">supplier</code><code class="p">).</code><code class="nx">forEach</code><code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">property</code><code class="p">)</code> <code class="p">{</code>
          <span class="pd_green"><code class="kd">var</code></span> <code class="nx">descriptor</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">getOwnPropertyDescriptor</code><code class="p">(</code><code class="nx">supplier</code><code class="p">,</code> <code class="nx">property</code><code class="p">);</code>
<code class="err">❷</code>         <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">defineProperty</code><code class="p">(</code><code class="nx">receiver</code><code class="p">,</code> <code class="nx">property</code><code class="p">,</code> <code class="nx">descriptor</code><code class="p">);</code>
      <code class="p">});</code>

      <span class="pd_green"><code class="k">return</code></span> <code class="nx">receiver</code><code class="p">;</code>
  <code class="p">}</code>

  <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">mixin</code><code class="p">(</code><span class="pd_green"><code class="k">new</code></span> <code class="nx">EventTarget</code><code class="p">(),</code> <code class="p">{</code>

      <code class="nx">get</code> <code class="nx">name</code><code class="p">()</code> <code class="p">{</code>
          <span class="pd_green"><code class="k">return</code></span> <span class="pd_red"><code class="s2">"Nicholas"</code></span>
      <code class="p">},</code>

      <code class="nx">sayName</code><code class="o">:</code> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
          <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
          <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">fire</code><code class="p">({</code> <code class="nx">type</code><span class="pd_ash"><code class="o">:</code></span> <span class="pd_red"><code class="s2">"namesaid"</code></span><code class="p">,</code> <code class="nx">name</code><span class="pd_ash"><code class="o">:</code></span> <code class="nx">name</code> <code class="p">});</code>
      <code class="p">}</code>
  <code class="p">});</code>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>       <span class="pd_green1"><code class="c1">// "Nicholas"</code></span>

  <code class="nx">person</code><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_red"><code class="s2">"Greg"</code></span><code class="p">;</code>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person</code><code class="p">.</code><code class="nx">name</code><code class="p">);</code>       <span class="pd_green1"><code class="c1">// "Nicholas"</code></span></pre><p>This version of <code class="literal">mixin()</code> uses <code class="literal">Object.keys()</code> ❶ to get an array of all enumerable own properties on <code class="literal">supplier</code>. The <code class="literal">forEach()</code> method is used to iterate over those properties. The property descriptor for each property on <code class="literal">supplier</code> is retrieved and then added to <code class="literal">receiver</code> via <code class="literal">Object.defineProperty()</code> ❷. This ensures that all of the relevant property information is transferred to <code class="literal">receiver</code>, not just the value. That means the <code class="literal">person</code> object has an accessor property called <code class="literal">name</code>, so it cannot be overwritten.</p><p><a id="iddle1064" class="indexterm"/><a id="iddle1196" class="indexterm"/><a id="iddle1326" class="indexterm"/>Of course, this version of <code class="literal">mixin()</code> works only in ECMAScript 5 JavaScript engines. If your code needs to work for older engines, you should combine the two <code class="literal">mixin()</code> approaches into a single function:</p><a id="pro_id00129"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">mixin</code><code class="p">(</code><code class="nx">receiver</code><code class="p">,</code> <code class="nx">supplier</code><code class="p">)</code> <code class="p">{</code>

<code class="err">❶</code>     <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">getOwnPropertyDescriptor</code><code class="p">)</code> <code class="p">{</code>

          <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">keys</code><code class="p">(</code><code class="nx">supplier</code><code class="p">).</code><code class="nx">forEach</code><code class="p">(</code><span class="pd_green"><code class="kd">function</code></span><code class="p">(</code><code class="nx">property</code><code class="p">)</code> <code class="p">{</code>
              <span class="pd_green"><code class="kd">var</code></span> <code class="nx">descriptor</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">getOwnPropertyDescriptor</code><code class="p">(</code><code class="nx">supplier</code><code class="p">,</code> <code class="nx">property</code><code class="p">);</code>
              <span class="pd_green"><code class="nb">Object</code></span><code class="p">.</code><code class="nx">defineProperty</code><code class="p">(</code><code class="nx">receiver</code><code class="p">,</code> <code class="nx">property</code><code class="p">,</code> <code class="nx">descriptor</code><code class="p">);</code>
          <code class="p">});</code>

      <code class="p">}</code> <span class="pd_green"><code class="k">else</code></span> <code class="p">{</code>

<code class="err">❷</code>         <span class="pd_green"><code class="k">for</code></span> <code class="p">(</code><span class="pd_green"><code class="kd">var</code></span> <code class="nx">property</code> <span class="pd_green"><code class="k">in</code></span> <code class="nx">supplier</code><code class="p">)</code> <code class="p">{</code>
              <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><code class="nx">supplier</code><code class="p">.</code><code class="nx">hasOwnProperty</code><code class="p">(</code><code class="nx">property</code><code class="p">))</code> <code class="p">{</code>
                  <code class="nx">receiver</code><code class="p">[</code><code class="nx">property</code><code class="p">]</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">supplier</code><code class="p">[</code><code class="nx">property</code><code class="p">]</code>
              <code class="p">}</code>
          <code class="p">}</code>
      <code class="p">}</code>

      <span class="pd_green"><code class="k">return</code></span> <code class="nx">receiver</code><code class="p">;</code>
  <code class="p">}</code></pre><p>Here, <code class="literal">mixin()</code> checks whether <code class="literal">Object.getOwnPropertyDescriptor()</code> ❶ exists to determine whether the JavaScript engine supports ECMAScript 5. If so, it goes on to use the ECMAScript 5 version. Otherwise, the ECMAScript 3 version is used ❷. This function is safe to use in both modern and legacy JavaScript engines, as they will apply the most appropriate mixin strategy.</p><div class="note" title="Note"><h3 class="title"><a id="ch06note01"/>Note</h3><p><span class="emphasis"><em>Keep in mind that Object.keys() returns only enumerable properties. If you want to also copy over nonenumerable properties, use <code class="literal">Object.getOwnPropertyNames()</code> instead.</em></span></p></div></div><div class="sect1" title="Scope-Safe Constructors"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="scope-safe_constructors">Scope-Safe Constructors</h2></div></div></div><p>Because all constructors are just functions, you can call them without using the <code class="literal">new</code> operator and therefore affect the value of <code class="literal">this</code>. Doing so can yield unexpected results, as <code class="literal">this</code> ends up coerced to the global object in nonstrict mode, or the constructor throws an error in strict mode. In <a class="xref" href="ch04.html" title="Chapter 4. Constructors and Prototypes">Chapter 4</a>, you encountered this example:</p><a id="pro_id00130"/><pre class="programlisting">  <span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
      <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>
  <code class="p">}</code>

  <code class="nx">Person</code><code class="p">.</code><code class="nx">prototype</code><code class="p">.</code><code class="nx">sayName</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="kd">function</code></span><code class="p">()</code> <code class="p">{</code>
      <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code><code class="p">);</code>
  <code class="p">};</code>

<code class="err">❶</code> <span class="pd_green"><code class="kd">var</code></span> <code class="nx">person1</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>           <span class="pd_green1"><code class="c1">// note: missing "new"</code></span>

  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person1</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">);</code>     <span class="pd_green1"><code class="c1">// false</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><span class="pd_green"><code class="k">typeof</code></span> <code class="nx">person1</code><code class="p">);</code>                <span class="pd_green1"><code class="c1">// "undefined"</code></span>
  <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">name</code><code class="p">);</code>                          <span class="pd_green1"><code class="c1">// "Nicholas"</code></span></pre><p>In this case, <code class="literal">name</code> is created as a global variable because the <code class="literal">Person</code> constructor is called without <code class="literal">new</code> ❶. Keep in mind that this code is running in nonstrict mode, as leaving out <code class="literal">new</code> would throw an error in strict mode. The fact that the constructor begins with a capital letter usually indicates that it should be preceded by <code class="literal">new</code>, but what if you want to allow this use case and have the function work without <code class="literal">new</code>? Many built-in constructors, such as <code class="literal">Array</code> and <code class="literal">RegExp</code>, also work without <code class="literal">new</code> because they are written to be <span class="emphasis"><em>scope safe</em></span>. A scope-safe constructor can be called with or without <code class="literal">new</code> and returns the same type of object in either case.</p><p>When <code class="literal">new</code> is called with a function, the newly created object represented by <code class="literal">this</code> is already an instance of the custom type represented by the constructor. So you can use <code class="literal">instanceof</code> to determine whether <code class="literal">new</code> was used in the function call:</p><a id="pro_id00131"/><pre class="programlisting"><span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
    <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="k">this</code> <code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">)</code> <code class="p">{</code>
        <span class="pd_green1"><code class="c1">// called with "new"</code></span>
    <code class="p">}</code> <span class="pd_green"><code class="k">else</code></span> <code class="p">{</code>
        <span class="pd_green1"><code class="c1">// called without "new"</code></span>
    <code class="p">}</code>
<code class="p">}</code></pre><p>Using a pattern like this lets you control what a function does based on whether it’s called with <code class="literal">new</code> or without. You may want to treat each circumstance differently, but you’ll often want the function to behave the same way (frequently, to protect against accidental omission of <code class="literal">new</code>). A scope-safe version of <code class="literal">Person</code> looks like this:</p><a id="pro_id00132"/><pre class="programlisting"><span class="pd_green"><code class="kd">function</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">)</code> <code class="p">{</code>
    <span class="pd_green"><code class="k">if</code></span> <code class="p">(</code><span class="pd_green"><code class="k">this</code> <code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">)</code> <code class="p">{</code>
        <span class="pd_green"><code class="k">this</code></span><code class="p">.</code><code class="nx">name</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">name</code><code class="p">;</code>
    <code class="p">}</code> <span class="pd_green"><code class="k">else</code></span> <code class="p">{</code>
        <span class="pd_green"><code class="k">return</code> <code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><code class="nx">name</code><code class="p">);</code>
    <code class="p">}</code>
<code class="p">}</code></pre><p>For this constructor, the <code class="literal">name</code> property is assigned as always when <code class="literal">new</code> is used. If <code class="literal">new</code> isn’t used, the constructor is called recursively via <code class="literal">new</code> to create a proper instance of the object. In this way, the following are equivalent:</p><a id="pro_id00133"/><pre class="programlisting"><span class="pd_green"><code class="kd">var</code></span> <code class="nx">person1</code> <span class="pd_ash"><code class="o">=</code></span> <span class="pd_green"><code class="k">new</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>
<span class="pd_green"><code class="kd">var</code></span> <code class="nx">person2</code> <span class="pd_ash"><code class="o">=</code></span> <code class="nx">Person</code><code class="p">(</code><span class="pd_red"><code class="s2">"Nicholas"</code></span><code class="p">);</code>

<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person1</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">);</code>     <span class="pd_green1"><code class="c1">// true</code></span>
<code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">person2</code> <span class="pd_green"><code class="k">instanceof</code></span> <code class="nx">Person</code><code class="p">);</code>     <span class="pd_green1"><code class="c1">// true</code></span></pre><p>Creating new objects without using the <code class="literal">new</code> operator is becoming more common as an effort to curb errors caused by omitting <code class="literal">new</code>. JavaScript itself has several reference types with scope-safe constructors, such as <code class="literal">Object</code>, <code class="literal">Array</code>, <code class="literal">RegExp</code>, and <code class="literal">Error</code>.</p></div><div class="sect1" title="Summary"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="summary-id00007">Summary</h2></div></div></div><p>There are many different ways to create and compose objects in JavaScript. While JavaScript does not include the formal concept of private properties, you can create data or functions that are accessible only from within an object. For singleton objects, you can use the module pattern to hide data from the outside world. You can use an immediately invoked function expression (IIFE) to define local variables and functions that are accessible only by the newly created object. Privileged methods are methods on the object that have access to private data. You can also create constructors that have private data by either defining variables in the constructor function or by using an IIFE to create private data that is shared among all instances.</p><p>Mixins are a powerful way to add functionality to objects while avoiding inheritance. A mixin copies properties from one object to another so that the receiving object gains functionality without inheriting from the supplying object. Unlike inheritance, mixins do not allow you to identify where the capabilities came from after the object is created. For this reason, mixins are best used with data properties or small pieces of functionality. Inheritance is still preferable when you want to obtain more functionality and know where that functionality came from.</p><p>Scope-safe constructors are constructors that you can call with or without <code class="literal">new</code> to create a new object instance. This pattern takes advantage of the fact that <code class="literal">this</code> is an instance of the custom type as soon as the constructor begins to execute, which lets you alter the constructor’s behavior depending on whether or not you used the <code class="literal">new</code> operator.</p></div></section>
<section class="preface" title="&#xA0;" epub:type="preface" id="app01"><div class="titlepage"><div><div><h2 class="title"> </h2></div></div></div><p><span class="emphasis"><em>The Principles of Object-Oriented JavaScript</em></span> is set in New Baskerville, Futura, TheSansMono Condensed, and Dogma. The book was printed and bound by Lake Book Manufacturing in Melrose Park, Illinois. The paper is 60# Husky Opaque Offset Smooth, which is certified by the Sustainable Forestry Initiative (SFI).</p><div class="index" title="Index" epub:type="index" id="id574782"><div class="titlepage"><div><div><h2 class="title">Index</h2></div></div></div><div class="note" title="A note on the digital index"><h3 class="title">A note on the digital index</h3><p>A link in an index entry is displayed as the section title in which that entry appears. Because some sections have multiple index markers, it is not unusual for an entry to have several links to the same section. Clicking on any link will take you directly to the place in the text in which the marker appears.</p></div><div class="index"><div class="indexdiv"><h3>Symbols</h3><dl><dt>== (double equals operator), <a class="indexterm" href="ch01.html#iddle1003">Identifying Primitive Types</a></dt><dd/><dt>=== (triple equals operator), <a class="indexterm" href="ch01.html#iddle1004">Identifying Primitive Types</a></dt><dd/><dt>[ ] (square brackets)</dt><dd><dl><dt>for array literals, <a class="indexterm" href="ch01.html#iddle1005">Object and Array Literals</a></dt><dd/><dt>for property access, <a class="indexterm" href="ch01.html#iddle1006">Function Literals</a></dt><dd/></dl></dd><dt>[[ ]] (double-square-bracket notation), <a class="indexterm" href="ch02.html#iddle1007">Functions</a></dt><dd/><dt>[[Call]] property, <a class="indexterm" href="ch02.html#iddle1043">Functions</a></dt><dd/><dt>[[Configurable]] attribute, <a class="indexterm" href="ch03.html#iddle1051">Common Attributes</a>, <a class="indexterm" href="ch03.html#iddle1052">Accessor Property Attributes</a></dt><dd><dl><dt>for sealed object, <a class="indexterm" href="ch03.html#iddle1053">Sealing Objects</a></dt><dd/></dl></dd><dt>[[Delete]] operation, for object property, <a class="indexterm" href="ch03.html#iddle1087">Detecting Properties</a></dt><dd/><dt>[[Enumerable]] property attribute, <a class="indexterm" href="ch03.html#iddle1097">Common Attributes</a>, <a class="indexterm" href="ch03.html#iddle1098">Accessor Property Attributes</a></dt><dd/><dt>[[Extensible]] attribute, <a class="indexterm" href="ch03.html#iddle1106">Preventing Object Modification</a></dt><dd/><dt>[[Get]] attribute, <a class="indexterm" href="ch03.html#iddle1132">Data Property Attributes</a></dt><dd/><dt>[[Prototype]] property, <a class="indexterm" href="ch04.html#iddle1298">Prototypes</a>, <a class="indexterm" href="ch04.html#iddle1299">Using Prototypes with Constructors</a></dt><dd/><dt>[[Put]] method, <a class="indexterm" href="ch03.html#iddle1310">Defining Properties</a></dt><dd><dl><dt>for data properties, <a class="indexterm" href="ch03.html#iddle1311">Enumeration</a></dt><dd/></dl></dd><dt>[[Set]] attribute, <a class="indexterm" href="ch03.html#iddle1331">Defining Properties</a>, <a class="indexterm" href="ch03.html#iddle1332">Data Property Attributes</a></dt><dd/><dt>[[Value]] attribute, <a class="indexterm" href="ch03.html#iddle1379">Common Attributes</a></dt><dd/><dt>[[Writable]] attribute, <a class="indexterm" href="ch03.html#iddle1388">Common Attributes</a></dt><dd/><dt>_ (underscore), in property name prefix, <a class="indexterm" href="ch03.html#iddle1008">Types of Properties</a>, <a class="indexterm" href="ch06.html#iddle1009">Private and Privileged Members</a></dt><dd/><dt>_proto_ property, <a class="indexterm" href="ch04.html#iddle1288">The [[Prototype]] Property</a></dt><dd/><dt>{ } (braces)</dt><dd><dl><dt>and object properties, <a class="indexterm" href="ch01.html#iddle1002">Instantiating Built-in Types</a></dt><dd/><dt>for function contents, <a class="indexterm" href="ch02.html#iddle1001">Functions</a></dt><dd/></dl></dd></dl></div><div class="indexdiv"><h3>A</h3><dl><dt>accessor properties, <a class="indexterm" href="ch03.html#iddle1010">Enumeration</a></dt><dd><dl><dt>attributes, <a class="indexterm" href="ch03.html#iddle1011">Data Property Attributes</a></dt><dd/><dt>creating, <a class="indexterm" href="ch03.html#iddle1012">Accessor Property Attributes</a></dt><dd/></dl></dd><dt>adding properties, <a class="indexterm" href="ch01.html#iddle1013">Dereferencing Objects</a></dt><dd/><dt>anonymous functions, <a class="indexterm" href="ch02.html#iddle1014">Functions as Values</a>, <a class="indexterm" href="ch06.html#iddle1015">Private and Privileged Members</a></dt><dd/><dt>apply() method, <a class="indexterm" href="ch02.html#iddle1016">The call() Method</a>, <a class="indexterm" href="ch05.html#iddle1017">Constructor Inheritance</a></dt><dd/><dt>arguments object, <a class="indexterm" href="ch02.html#iddle1019">Functions as Values</a></dt><dd/><dt>arguments, functions as, <a class="indexterm" href="ch02.html#iddle1018">Functions as Values</a></dt><dd/><dt>arity, <a class="indexterm" href="ch02.html#iddle1020">Functions as Values</a></dt><dd/><dt>Array built-in type, <a class="indexterm" href="ch01.html#iddle1021">Dereferencing Objects</a></dt><dd/><dt>array literals, <a class="indexterm" href="ch01.html#iddle1023">Instantiating Built-in Types</a></dt><dd/><dt>Array.isArray() method, <a class="indexterm" href="ch01.html#iddle1022">Identifying Reference Types</a></dt><dd/><dt>Array.prototype, modifying, <a class="indexterm" href="ch04.html#iddle1024">Changing Prototypes</a></dt><dd/><dt>arrays</dt><dd><dl><dt>identifying, <a class="indexterm" href="ch01.html#iddle1025">Identifying Reference Types</a></dt><dd/><dt>passing to apply(), <a class="indexterm" href="ch02.html#iddle1026">The call() Method</a></dt><dd/></dl></dd><dt>assignment expressions, <a class="indexterm" href="ch02.html#iddle1027">Functions</a></dt><dd/><dt>attributes of properties, <a class="indexterm" href="ch03.html#iddle1028">Types of Properties</a></dt><dd><dl><dt>accessor properties, <a class="indexterm" href="ch03.html#iddle1029">Data Property Attributes</a></dt><dd/><dt>data properties, <a class="indexterm" href="ch03.html#iddle1030">Common Attributes</a></dt><dd/></dl></dd><dt>autoboxing, <a class="indexterm" href="ch01.html#iddle1031">Identifying Arrays</a></dt><dd/></dl></div><div class="indexdiv"><h3>B</h3><dl><dt>bind() method, <a class="indexterm" href="ch02.html#iddle1032">The bind() Method</a></dt><dd/><dt>Boolean object, <a class="indexterm" href="ch01.html#iddle1033">Primitive Types</a>, <a class="indexterm" href="ch01.html#iddle1034">Primitive Wrapper Types</a></dt><dd/><dt>Boolean primitive wrapper type, <a class="indexterm" href="ch01.html#iddle1035">Identifying Arrays</a></dt><dd/><dt>braces ({ })</dt><dd><dl><dt>and object properties, <a class="indexterm" href="ch01.html#iddle1037">Instantiating Built-in Types</a></dt><dd/><dt>for function contents, <a class="indexterm" href="ch02.html#iddle1036">Functions</a></dt><dd/></dl></dd><dt>bracket notation, for property access, <a class="indexterm" href="ch01.html#iddle1038">Function Literals</a></dt><dd/><dt>built-in object prototypes, <a class="indexterm" href="ch04.html#iddle1039">Changing Prototypes</a></dt><dd/><dt>built-in types, instantiating, <a class="indexterm" href="ch01.html#iddle1040">Dereferencing Objects</a></dt><dd/></dl></div><div class="indexdiv"><h3>C</h3><dl><dt>call() method, <a class="indexterm" href="ch02.html#iddle1041">The this Object</a>, <a class="indexterm" href="ch05.html#iddle1042">Constructor Inheritance</a></dt><dd/><dt>capitalization, of constructor names, <a class="indexterm" href="ch04.html#iddle1044">Constructors</a></dt><dd/><dt>capitalize() method, for strings, <a class="indexterm" href="ch04.html#iddle1045">Changing Prototypes</a></dt><dd/><dt>charAt() method, <a class="indexterm" href="ch01.html#iddle1046">Primitive Methods</a></dt><dd/><dt>classes, JavaScript lack of support for, <a class="indexterm" href="ch01.html#iddle1047">Primitive and Reference Types</a></dt><dd/><dt>closure functions, <a class="indexterm" href="ch06.html#iddle1048">The Module Pattern</a></dt><dd/><dt>comparison functions, <a class="indexterm" href="ch02.html#iddle1049">Functions as Values</a></dt><dd/><dt>comparison without coercion, <a class="indexterm" href="ch01.html#iddle1050">Identifying Primitive Types</a></dt><dd/><dt>console.log function, <a class="indexterm" href="ch04.html#iddle1054">Constructors</a></dt><dd/><dt>constructor property, <a class="indexterm" href="ch04.html#iddle1055">Constructors</a></dt><dd><dl><dt>changing by object literal notation, <a class="indexterm" href="ch04.html#iddle1056">Using Prototypes with Constructors</a></dt><dd/></dl></dd><dt>constructors, <a class="indexterm" href="ch01.html#iddle1057">Primitive Methods</a>, <a class="indexterm" href="ch04.html#iddle1058">Constructors and Prototypes</a></dt><dd><dl><dt>inheritance, <a class="indexterm" href="ch05.html#iddle1059">Object Inheritance</a></dt><dd/><dt>Object.defineProperty() method inside, <a class="indexterm" href="ch04.html#iddle1060">Constructors</a></dt><dd/><dt>private members for, <a class="indexterm" href="ch06.html#iddle1061">The Module Pattern</a></dt><dd/><dt>prototype use with, <a class="indexterm" href="ch04.html#iddle1062">Using Prototypes with Constructors</a></dt><dd/><dt>purpose of, <a class="indexterm" href="ch04.html#iddle1063">Constructors</a></dt><dd/><dt>scope-safe, <a class="indexterm" href="ch06.html#iddle1064">Mixins</a></dt><dd/><dt>stealing, <a class="indexterm" href="ch05.html#iddle1065">Constructor Inheritance</a></dt><dd/><dt>subtype, <a class="indexterm" href="ch05.html#iddle1066">Object Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1067">Constructor Inheritance</a></dt><dd/><dt>supertype, <a class="indexterm" href="ch05.html#iddle1068">Object Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1069">Constructor Inheritance</a></dt><dd/></dl></dd><dt>create() method, <a class="indexterm" href="ch05.html#iddle1070">Object Inheritance</a></dt><dd/><dt>creating</dt><dd><dl><dt>accessor properties, <a class="indexterm" href="ch03.html#iddle1071">Accessor Property Attributes</a></dt><dd/><dt>objects, <a class="indexterm" href="ch01.html#iddle1072">Primitive Methods</a></dt><dd/><dt>properties, on temporary objects, <a class="indexterm" href="ch01.html#iddle1073">Primitive Wrapper Types</a></dt><dd/></dl></dd><dt>Crockford, Douglas, <a class="indexterm" href="ch05.html#iddle1074">Modifying Object.prototype</a></dt><dd/></dl></div><div class="indexdiv"><h3>D</h3><dl><dt>data</dt><dd><dl><dt>sharing private, <a class="indexterm" href="ch06.html#iddle1075">Private Members for Constructors</a></dt><dd/><dt>storing on prototype, <a class="indexterm" href="ch04.html#iddle1076">Using Prototypes with Constructors</a></dt><dd/><dt>types (see primitive types; reference types; types)</dt><dd/></dl></dd><dt>data properties, <a class="indexterm" href="ch03.html#iddle1078">Enumeration</a></dt><dd><dl><dt>attributes, <a class="indexterm" href="ch03.html#iddle1079">Common Attributes</a></dt><dd/><dt>from mixins, <a class="indexterm" href="ch06.html#iddle1080">Mixins</a></dt><dd/></dl></dd><dt>Date built-in type, <a class="indexterm" href="ch01.html#iddle1081">Dereferencing Objects</a></dt><dd/><dt>Date object, valueOf() method, <a class="indexterm" href="ch05.html#iddle1082">valueOf()</a></dt><dd/><dt>declarations, vs. expressions, <a class="indexterm" href="ch02.html#iddle1083">Functions</a></dt><dd/><dt>defineProperties() method, <a class="indexterm" href="ch03.html#iddle1084">Accessor Property Attributes</a></dt><dd/><dt>defineProperty() method, <a class="indexterm" href="ch03.html#iddle1085">Common Attributes</a>, <a class="indexterm" href="ch04.html#iddle1086">Constructors</a></dt><dd/><dt>delete operator, <a class="indexterm" href="ch03.html#iddle1088">Detecting Properties</a>, <a class="indexterm" href="ch03.html#iddle1089">Summary</a></dt><dd/><dt>dereferencing, objects, <a class="indexterm" href="ch01.html#iddle1090">Creating Objects</a></dt><dd/><dt>detecting properties, <a class="indexterm" href="ch03.html#iddle1091">Defining Properties</a></dt><dd/><dt>dot notation, for property access, <a class="indexterm" href="ch01.html#iddle1092">Function Literals</a></dt><dd/><dt>double equals operator (==), <a class="indexterm" href="ch01.html#iddle1093">Identifying Primitive Types</a></dt><dd/><dt>double-square-bracket notation ([[ ]]), <a class="indexterm" href="ch02.html#iddle1094">Functions</a></dt><dd/></dl></div><div class="indexdiv"><h3>E</h3><dl><dt>enumerable properties</dt><dd><dl><dt>adding to Object.prototype, <a class="indexterm" href="ch05.html#iddle1095">Modifying Object.prototype</a></dt><dd/><dt>copying between supplier and receiver, <a class="indexterm" href="ch06.html#iddle1096">Private Members for Constructors</a></dt><dd/></dl></dd><dt>enumeration, <a class="indexterm" href="ch03.html#iddle1099">Enumeration</a></dt><dd/><dt>equals operators, double (==) and triple (===), <a class="indexterm" href="ch01.html#iddle1100">Identifying Primitive Types</a></dt><dd/><dt>Error built-in type, <a class="indexterm" href="ch01.html#iddle1101">Instantiating Built-in Types</a></dt><dd/><dt>errors</dt><dd><dl><dt>for primitive wrapper objects, <a class="indexterm" href="ch01.html#iddle1103">Primitive Wrapper Types</a></dt><dd/><dt>from constructors in strict mode, <a class="indexterm" href="ch04.html#iddle1102">Constructors</a></dt><dd/></dl></dd><dt>event support, adding to objects, <a class="indexterm" href="ch06.html#iddle1104">Mixins</a></dt><dd/><dt>expressions, vs. declarations, <a class="indexterm" href="ch02.html#iddle1105">Functions</a></dt><dd/><dt>extensions for objects, preventing, <a class="indexterm" href="ch03.html#iddle1107">Preventing Object Modification</a></dt><dd/></dl></div><div class="indexdiv"><h3>F</h3><dl><dt>falsy values, <a class="indexterm" href="ch03.html#iddle1108">Defining Properties</a></dt><dd/><dt>first-class functions, <a class="indexterm" href="ch01.html#iddle1109">Primitive and Reference Types</a></dt><dd/><dt>flexibility of JavaScript, <a class="indexterm" href="ch01.html#iddle1110">Primitive and Reference Types</a></dt><dd/><dt>for-in loops, <a class="indexterm" href="ch03.html#iddle1111">Enumeration</a>, <a class="indexterm" href="ch05.html#iddle1112">Modifying Object.prototype</a>, <a class="indexterm" href="ch06.html#iddle1113">Private Members for Constructors</a></dt><dd/><dt>frames of web pages, passing values between, <a class="indexterm" href="ch01.html#iddle1114">Identifying Reference Types</a></dt><dd/><dt>freeze() method, <a class="indexterm" href="ch03.html#iddle1115">Freezing Objects</a>, <a class="indexterm" href="ch04.html#iddle1116">Changing Prototypes</a></dt><dd/><dt>freezing objects, <a class="indexterm" href="ch03.html#iddle1117">Freezing Objects</a></dt><dd/><dt>frozen objects, prototype modification and, <a class="indexterm" href="ch04.html#iddle1118">Changing Prototypes</a></dt><dd/><dt>Function constructor, <a class="indexterm" href="ch01.html#iddle1119">Instantiating Built-in Types</a>, <a class="indexterm" href="ch01.html#iddle1120">Object and Array Literals</a>, <a class="indexterm" href="ch02.html#iddle1121">Functions as Values</a></dt><dd/><dt>function keyword, <a class="indexterm" href="ch02.html#iddle1122">Functions</a></dt><dd/><dt>function literals, <a class="indexterm" href="ch01.html#iddle1123">Object and Array Literals</a></dt><dd/><dt>functions, <a class="indexterm" href="ch01.html#iddle1124">Primitive and Reference Types</a>, <a class="indexterm" href="ch02.html#iddle1125">Functions</a></dt><dd><dl><dt>as values, <a class="indexterm" href="ch02.html#iddle1130">Declarations vs. Expressions</a></dt><dd/><dt>declarations vs. expressions, <a class="indexterm" href="ch02.html#iddle1126">Functions</a></dt><dd/><dt>hoisting, <a class="indexterm" href="ch02.html#iddle1127">Functions</a></dt><dd/><dt>overloading, <a class="indexterm" href="ch02.html#iddle1128">Overloading</a></dt><dd/><dt>parameters, <a class="indexterm" href="ch02.html#iddle1129">Functions as Values</a></dt><dd/></dl></dd></dl></div><div class="indexdiv"><h3>G</h3><dl><dt>garbage-collection language, JavaScript as, <a class="indexterm" href="ch01.html#iddle1131">Creating Objects</a></dt><dd/><dt>getOwnPropertyDescriptor() method, <a class="indexterm" href="ch03.html#iddle1133">Defining Multiple Properties</a></dt><dd/><dt>getPrototypeOf() method, <a class="indexterm" href="ch04.html#iddle1134">The [[Prototype]] Property</a></dt><dd/><dt>getter functions, <a class="indexterm" href="ch03.html#iddle1135">Enumeration</a></dt><dd/><dt>global object, this to represent, <a class="indexterm" href="ch02.html#iddle1136">The this Object</a></dt><dd/></dl></div><div class="indexdiv"><h3>H</h3><dl><dt>hash maps, JavaScript objects as, <a class="indexterm" href="ch03.html#iddle1137">Summary</a></dt><dd/><dt>hasOwnProperty() method, <a class="indexterm" href="ch03.html#iddle1138">Detecting Properties</a>, <a class="indexterm" href="ch04.html#iddle1139">Constructors</a>, <a class="indexterm" href="ch05.html#iddle1140">Prototype Chaining and Object.prototype</a>, <a class="indexterm" href="ch05.html#iddle1141">Modifying Object.prototype</a></dt><dd/><dt>hoisting functions, <a class="indexterm" href="ch02.html#iddle1142">Functions</a></dt><dd/></dl></div><div class="indexdiv"><h3>I</h3><dl><dt>if condition, <a class="indexterm" href="ch03.html#iddle1143">Defining Properties</a></dt><dd/><dt>immediately invoked function expression (IIFE), <a class="indexterm" href="ch06.html#iddle1144">Private and Privileged Members</a></dt><dd/><dt>in operator, <a class="indexterm" href="ch04.html#iddle1152">Constructors</a></dt><dd><dl><dt>testing for property instance with, <a class="indexterm" href="ch03.html#iddle1153">Defining Properties</a></dt><dd/></dl></dd><dt>inheritance, <a class="indexterm" href="ch05.html#iddle1145">Inheritance</a></dt><dd><dl><dt>between objects, <a class="indexterm" href="ch05.html#iddle1148">Modifying Object.prototype</a></dt><dd/><dt>constructor, <a class="indexterm" href="ch05.html#iddle1146">Object Inheritance</a></dt><dd/><dt>methods from Object.prototype, <a class="indexterm" href="ch05.html#iddle1147">Prototype Chaining and Object.prototype</a></dt><dd/><dt>prototype chaining, <a class="indexterm" href="ch05.html#iddle1149">Inheritance</a></dt><dd/><dt>pseudoclassical, <a class="indexterm" href="ch05.html#iddle1150">Constructor Stealing</a>, <a class="indexterm" href="ch06.html#iddle1151">Mixins</a></dt><dd/></dl></dd><dt>instanceof operator, <a class="indexterm" href="ch01.html#iddle1154">Property Access</a></dt><dd><dl><dt>temporary objects and, <a class="indexterm" href="ch01.html#iddle1155">Primitive Wrapper Types</a></dt><dd/></dl></dd><dt>instances, <a class="indexterm" href="ch01.html#iddle1156">Primitive and Reference Types</a></dt><dd><dl><dt>(see also objects)</dt><dd/><dt>checking type of, <a class="indexterm" href="ch04.html#iddle1157">Constructors</a></dt><dd/><dt>of reference types, <a class="indexterm" href="ch01.html#iddle1159">Primitive Methods</a></dt><dd/><dt>prototype link to constructor, <a class="indexterm" href="ch04.html#iddle1158">Using Prototypes with Constructors</a></dt><dd/></dl></dd><dt>instantiating</dt><dd><dl><dt>built-in types, <a class="indexterm" href="ch01.html#iddle1160">Dereferencing Objects</a></dt><dd/><dt>objects, <a class="indexterm" href="ch01.html#iddle1161">Primitive Methods</a></dt><dd/><dt>primitive wrappers, <a class="indexterm" href="ch01.html#iddle1162">Primitive Wrapper Types</a></dt><dd/></dl></dd><dt>internal property, of functions, <a class="indexterm" href="ch02.html#iddle1163">Functions</a></dt><dd/><dt>isArray() method, <a class="indexterm" href="ch01.html#iddle1164">Identifying Reference Types</a></dt><dd/><dt>isExtensible() method, <a class="indexterm" href="ch03.html#iddle1165">Preventing Object Modification</a>, <a class="indexterm" href="ch03.html#iddle1166">Sealing Objects</a></dt><dd/><dt>isFrozen() method, <a class="indexterm" href="ch03.html#iddle1167">Freezing Objects</a></dt><dd/><dt>isPrototypeOf() method, <a class="indexterm" href="ch04.html#iddle1168">The [[Prototype]] Property</a>, <a class="indexterm" href="ch05.html#iddle1169">Prototype Chaining and Object.prototype</a></dt><dd/><dt>isSealed() method, <a class="indexterm" href="ch03.html#iddle1170">Sealing Objects</a></dt><dd/></dl></div><div class="indexdiv"><h3>K</h3><dl><dt>key/value pairs, <a class="indexterm" href="ch03.html#iddle1173">Summary</a></dt><dd/><dt>keys() method, <a class="indexterm" href="ch03.html#iddle1171">Enumeration</a>, <a class="indexterm" href="ch06.html#iddle1172">Mixins</a></dt><dd/></dl></div><div class="indexdiv"><h3>L</h3><dl><dt>length property, of functions, <a class="indexterm" href="ch02.html#iddle1174">Functions as Values</a></dt><dd/><dt>literals, <a class="indexterm" href="ch01.html#iddle1175">Primitive Types</a>, <a class="indexterm" href="ch01.html#iddle1176">Instantiating Built-in Types</a></dt><dd><dl><dt>array, <a class="indexterm" href="ch01.html#iddle1177">Object and Array Literals</a></dt><dd/><dt>function, <a class="indexterm" href="ch01.html#iddle1178">Object and Array Literals</a></dt><dd/><dt>object, <a class="indexterm" href="ch01.html#iddle1179">Instantiating Built-in Types</a></dt><dd/><dt>regular expression, <a class="indexterm" href="ch01.html#iddle1180">Function Literals</a></dt><dd/></dl></dd></dl></div><div class="indexdiv"><h3>M</h3><dl><dt>memory location, pointer to, <a class="indexterm" href="ch01.html#iddle1181">Creating Objects</a></dt><dd/><dt>methods, <a class="indexterm" href="ch01.html#iddle1182">Primitive Methods</a>, <a class="indexterm" href="ch02.html#iddle1183">Overloading</a></dt><dd><dl><dt>adding to arrays, <a class="indexterm" href="ch04.html#iddle1184">Changing Prototypes</a></dt><dd/><dt>for supertypes, accessing, <a class="indexterm" href="ch05.html#iddle1188">Accessing Supertype Methods</a></dt><dd/><dt>primitive, <a class="indexterm" href="ch01.html#iddle1185">Primitive Methods</a></dt><dd/><dt>privileged, <a class="indexterm" href="ch06.html#iddle1186">Private and Privileged Members</a></dt><dd/><dt>prototypes for defining, <a class="indexterm" href="ch04.html#iddle1187">Using Prototypes with Constructors</a></dt><dd/></dl></dd><dt>mixins, <a class="indexterm" href="ch06.html#iddle1189">Private Members for Constructors</a></dt><dd><dl><dt>data properties from, <a class="indexterm" href="ch06.html#iddle1190">Mixins</a></dt><dd/></dl></dd><dt>module patterns, <a class="indexterm" href="ch06.html#iddle1191">Private and Privileged Members</a></dt><dd/></dl></div><div class="indexdiv"><h3>N</h3><dl><dt>names</dt><dd><dl><dt>for constructors, capitalization of, <a class="indexterm" href="ch04.html#iddle1192">Constructors</a></dt><dd/><dt>for properties, <a class="indexterm" href="ch06.html#iddle1194">Private and Privileged Members</a></dt><dd/><dt>multiple functions with same, <a class="indexterm" href="ch02.html#iddle1193">Overloading</a></dt><dd/></dl></dd><dt>new operator, <a class="indexterm" href="ch01.html#iddle1195">Primitive Methods</a>, <a class="indexterm" href="ch06.html#iddle1196">Mixins</a></dt><dd><dl><dt>constructors and, <a class="indexterm" href="ch04.html#iddle1197">Constructors and Prototypes</a>, <a class="indexterm" href="ch04.html#iddle1198">Constructors</a>, <a class="indexterm" href="ch04.html#iddle1199">Constructors</a></dt><dd/><dt>instantiating reference types with, <a class="indexterm" href="ch01.html#iddle1200">Instantiating Built-in Types</a></dt><dd/><dt>this object created with, <a class="indexterm" href="ch04.html#iddle1201">Constructors</a></dt><dd/></dl></dd><dt>null value, <a class="indexterm" href="ch01.html#iddle1202">Primitive Types</a></dt><dd><dl><dt>determining if a value is, <a class="indexterm" href="ch01.html#iddle1203">Identifying Primitive Types</a></dt><dd/><dt>setting object variable to, <a class="indexterm" href="ch01.html#iddle1204">Creating Objects</a></dt><dd/><dt>setting property to, <a class="indexterm" href="ch03.html#iddle1205">Detecting Properties</a></dt><dd/><dt>typeof operator and, <a class="indexterm" href="ch01.html#iddle1206">Identifying Primitive Types</a></dt><dd/></dl></dd><dt>Number primitive wrapper type, <a class="indexterm" href="ch01.html#iddle1207">Identifying Arrays</a></dt><dd/><dt>number type, <a class="indexterm" href="ch01.html#iddle1208">Primitive Types</a></dt><dd/></dl></div><div class="indexdiv"><h3>O</h3><dl><dt>Object built-in type, <a class="indexterm" href="ch01.html#iddle1209">Instantiating Built-in Types</a></dt><dd/><dt>Object constructor, <a class="indexterm" href="ch03.html#iddle1210">Defining Properties</a></dt><dd/><dt>object literals, <a class="indexterm" href="ch01.html#iddle1225">Instantiating Built-in Types</a></dt><dd/><dt>object patterns, <a class="indexterm" href="ch06.html#iddle1226">Object Patterns</a></dt><dd><dl><dt>private and privileged members, <a class="indexterm" href="ch06.html#iddle1227">Private and Privileged Members</a></dt><dd/></dl></dd><dt>Object.create() method, <a class="indexterm" href="ch05.html#iddle1211">Object Inheritance</a></dt><dd/><dt>Object.defineProperties() method, <a class="indexterm" href="ch03.html#iddle1212">Accessor Property Attributes</a></dt><dd/><dt>Object.defineProperty() method, <a class="indexterm" href="ch03.html#iddle1213">Common Attributes</a>, <a class="indexterm" href="ch04.html#iddle1214">Constructors</a></dt><dd/><dt>Object.freeze() method, <a class="indexterm" href="ch03.html#iddle1215">Freezing Objects</a>, <a class="indexterm" href="ch04.html#iddle1216">Changing Prototypes</a></dt><dd/><dt>Object.getOwnPropertyDescriptor() method, <a class="indexterm" href="ch03.html#iddle1217">Defining Multiple Properties</a></dt><dd/><dt>Object.getPrototypeOf() method, <a class="indexterm" href="ch04.html#iddle1218">The [[Prototype]] Property</a></dt><dd/><dt>Object.isExtensible() method, <a class="indexterm" href="ch03.html#iddle1219">Preventing Object Modification</a>, <a class="indexterm" href="ch03.html#iddle1220">Sealing Objects</a></dt><dd/><dt>Object.isFrozen() method, <a class="indexterm" href="ch03.html#iddle1221">Freezing Objects</a></dt><dd/><dt>Object.isSealed() method, <a class="indexterm" href="ch03.html#iddle1222">Sealing Objects</a></dt><dd/><dt>Object.keys() method, <a class="indexterm" href="ch03.html#iddle1223">Enumeration</a>, <a class="indexterm" href="ch06.html#iddle1224">Mixins</a></dt><dd/><dt>Object.preventExtensions() method, <a class="indexterm" href="ch03.html#iddle1228">Preventing Object Modification</a></dt><dd/><dt>Object.prototype prototype</dt><dd><dl><dt>methods inherited from, <a class="indexterm" href="ch05.html#iddle1231">Prototype Chaining and Object.prototype</a></dt><dd/><dt>modifying, <a class="indexterm" href="ch05.html#iddle1232">toString()</a></dt><dd/></dl></dd><dt>Object.prototype.isPrototypeOf() method, <a class="indexterm" href="ch04.html#iddle1229">The [[Prototype]] Property</a>, <a class="indexterm" href="ch05.html#iddle1230">Prototype Chaining and Object.prototype</a></dt><dd/><dt>Object.seal() method, <a class="indexterm" href="ch03.html#iddle1246">Preventing Object Modification</a>, <a class="indexterm" href="ch04.html#iddle1247">Changing Prototypes</a></dt><dd/><dt>objects, <a class="indexterm" href="ch01.html#iddle1233">Primitive and Reference Types</a>, <a class="indexterm" href="ch01.html#iddle1234">Primitive Methods</a>, <a class="indexterm" href="ch03.html#iddle1235">Understanding Objects</a></dt><dd><dl><dt>creating, <a class="indexterm" href="ch01.html#iddle1236">Primitive Methods</a></dt><dd/><dt>dereferencing, <a class="indexterm" href="ch01.html#iddle1237">Creating Objects</a></dt><dd/><dt>freezing, <a class="indexterm" href="ch03.html#iddle1238">Freezing Objects</a></dt><dd/><dt>inheritance, <a class="indexterm" href="ch05.html#iddle1239">Modifying Object.prototype</a></dt><dd/><dt>methods, <a class="indexterm" href="ch02.html#iddle1240">Overloading</a></dt><dd/><dt>modification, preventing, <a class="indexterm" href="ch03.html#iddle1241">Preventing Object Modification</a></dt><dd/><dt>properties, defining, <a class="indexterm" href="ch03.html#iddle1242">Defining Properties</a></dt><dd/><dt>property inheritance from prototype, <a class="indexterm" href="ch05.html#iddle1243">Inheritance</a></dt><dd/><dt>reference types as, <a class="indexterm" href="ch01.html#iddle1244">Primitive and Reference Types</a></dt><dd/><dt>sealing, <a class="indexterm" href="ch03.html#iddle1245">Preventing Object Modification</a></dt><dd/></dl></dd><dt>overloading functions, <a class="indexterm" href="ch02.html#iddle1248">Overloading</a></dt><dd/><dt>own properties</dt><dd><dl><dt>determining existence of, <a class="indexterm" href="ch05.html#iddle1249">Prototype Chaining and Object.prototype</a></dt><dd/><dt>determining whether enumerable, <a class="indexterm" href="ch05.html#iddle1250">Prototype Chaining and Object.prototype</a></dt><dd/><dt>for objects, <a class="indexterm" href="ch03.html#iddle1252">Defining Properties</a></dt><dd/><dt>in operator to check for, <a class="indexterm" href="ch03.html#iddle1251">Detecting Properties</a></dt><dd/><dt>vs. prototype properties, <a class="indexterm" href="ch04.html#iddle1253">The [[Prototype]] Property</a></dt><dd/></dl></dd></dl></div><div class="indexdiv"><h3>P</h3><dl><dt>parameters, <a class="indexterm" href="ch02.html#iddle1254">Functions as Values</a></dt><dd/><dt>person object, module pattern for creating, <a class="indexterm" href="ch06.html#iddle1255">The Module Pattern</a></dt><dd/><dt>pointer to memory location, <a class="indexterm" href="ch01.html#iddle1256">Creating Objects</a></dt><dd/><dt>preventExtensions() method, <a class="indexterm" href="ch03.html#iddle1257">Preventing Object Modification</a></dt><dd/><dt>preventing object modifications, <a class="indexterm" href="ch03.html#iddle1258">Preventing Object Modification</a></dt><dd/><dt>primitive methods, <a class="indexterm" href="ch01.html#iddle1259">Primitive Methods</a></dt><dd/><dt>primitive types, <a class="indexterm" href="ch01.html#iddle1260">Primitive and Reference Types</a>, <a class="indexterm" href="ch01.html#iddle1261">Primitive Types</a></dt><dd/><dt>primitive wrapper types, <a class="indexterm" href="ch01.html#iddle1262">Identifying Arrays</a></dt><dd/><dt>private data, sharing, <a class="indexterm" href="ch06.html#iddle1263">Private Members for Constructors</a></dt><dd/><dt>private members, <a class="indexterm" href="ch06.html#iddle1264">Private and Privileged Members</a></dt><dd><dl><dt>for constructors, <a class="indexterm" href="ch06.html#iddle1265">The Module Pattern</a></dt><dd/></dl></dd><dt>privileged members, <a class="indexterm" href="ch06.html#iddle1266">Private and Privileged Members</a></dt><dd/><dt>properties, <a class="indexterm" href="ch01.html#iddle1267">Primitive Methods</a>, <a class="indexterm" href="ch01.html#iddle1268">Function Literals</a>, <a class="indexterm" href="ch06.html#iddle1269">Private and Privileged Members</a></dt><dd><dl><dt>adding or removing, <a class="indexterm" href="ch01.html#iddle1270">Dereferencing Objects</a></dt><dd/><dt>copying enumerable, between receiver and supplier, <a class="indexterm" href="ch06.html#iddle1271">Private Members for Constructors</a></dt><dd/><dt>creating on temporary objects, <a class="indexterm" href="ch01.html#iddle1272">Primitive Wrapper Types</a></dt><dd/><dt>defining, <a class="indexterm" href="ch03.html#iddle1273">Defining Properties</a></dt><dd/><dt>defining multiple, <a class="indexterm" href="ch03.html#iddle1274">Accessor Property Attributes</a></dt><dd/><dt>detecting, <a class="indexterm" href="ch03.html#iddle1275">Defining Properties</a></dt><dd/><dt>enumerable, adding to Object.prototype, <a class="indexterm" href="ch05.html#iddle1276">Modifying Object.prototype</a></dt><dd/><dt>enumeration, <a class="indexterm" href="ch03.html#iddle1277">Enumeration</a></dt><dd/><dt>identifying on prototype, <a class="indexterm" href="ch04.html#iddle1278">Prototypes</a></dt><dd/><dt>removing, <a class="indexterm" href="ch03.html#iddle1279">Detecting Properties</a></dt><dd/><dt>string literals for names, <a class="indexterm" href="ch01.html#iddle1280">Instantiating Built-in Types</a></dt><dd/><dt>types, <a class="indexterm" href="ch03.html#iddle1281">Enumeration</a></dt><dd/></dl></dd><dt>property attributes, <a class="indexterm" href="ch03.html#iddle1282">Types of Properties</a></dt><dd><dl><dt>changing, <a class="indexterm" href="ch03.html#iddle1283">Common Attributes</a></dt><dd/><dt>retrieving, <a class="indexterm" href="ch03.html#iddle1284">Defining Multiple Properties</a></dt><dd/></dl></dd><dt>propertyIsEnumerable() method, <a class="indexterm" href="ch03.html#iddle1285">Enumeration</a>, <a class="indexterm" href="ch03.html#iddle1286">Common Attributes</a>, <a class="indexterm" href="ch05.html#iddle1287">Prototype Chaining and Object.prototype</a></dt><dd/><dt>prototype chaining, <a class="indexterm" href="ch05.html#iddle1289">Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1290">Object Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1291">Constructor Inheritance</a></dt><dd><dl><dt>object without, <a class="indexterm" href="ch05.html#iddle1292">Object Inheritance</a></dt><dd/><dt>overwriting, <a class="indexterm" href="ch05.html#iddle1293">Constructor Inheritance</a></dt><dd/></dl></dd><dt>prototype properties</dt><dd><dl><dt>identifying, <a class="indexterm" href="ch04.html#iddle1294">Prototypes</a></dt><dd/><dt>vs. own properties, <a class="indexterm" href="ch04.html#iddle1295">The [[Prototype]] Property</a></dt><dd/></dl></dd><dt>prototype property, of functions, <a class="indexterm" href="ch04.html#iddle1296">Constructors</a>, <a class="indexterm" href="ch05.html#iddle1297">Object Inheritance</a></dt><dd/><dt>prototypes, <a class="indexterm" href="ch04.html#iddle1300">Constructors</a></dt><dd><dl><dt>built-in object, <a class="indexterm" href="ch04.html#iddle1301">Changing Prototypes</a></dt><dd/><dt>changing, <a class="indexterm" href="ch04.html#iddle1302">Using Prototypes with Constructors</a></dt><dd/><dt>identifying properties, <a class="indexterm" href="ch04.html#iddle1303">Prototypes</a></dt><dd/><dt>overwriting, <a class="indexterm" href="ch04.html#iddle1304">Using Prototypes with Constructors</a></dt><dd/><dt>property inheritance from, <a class="indexterm" href="ch05.html#iddle1305">Inheritance</a></dt><dd/><dt>use with constructors, <a class="indexterm" href="ch04.html#iddle1306">Using Prototypes with Constructors</a></dt><dd/></dl></dd><dt>pseudoclassical inheritance, <a class="indexterm" href="ch05.html#iddle1307">Constructor Stealing</a>, <a class="indexterm" href="ch06.html#iddle1308">Mixins</a></dt><dd/><dt>pseudoinheritance, mixins for, <a class="indexterm" href="ch06.html#iddle1309">Private Members for Constructors</a></dt><dd/></dl></div><div class="indexdiv"><h3>R</h3><dl><dt>read-only property, <a class="indexterm" href="ch03.html#iddle1312">Types of Properties</a></dt><dd/><dt>receiver, copying enumerable properties between supplier and, <a class="indexterm" href="ch06.html#iddle1313">Private Members for Constructors</a></dt><dd/><dt>Rectangle constructor, <a class="indexterm" href="ch05.html#iddle1314">Constructor Inheritance</a></dt><dd/><dt>reference types, <a class="indexterm" href="ch01.html#iddle1315">Primitive and Reference Types</a>, <a class="indexterm" href="ch01.html#iddle1316">Primitive Methods</a></dt><dd><dl><dt>identifying, <a class="indexterm" href="ch01.html#iddle1317">Property Access</a></dt><dd/></dl></dd><dt>reference values, storing on prototype, <a class="indexterm" href="ch04.html#iddle1318">Using Prototypes with Constructors</a></dt><dd/><dt>RegExp built-in type, <a class="indexterm" href="ch01.html#iddle1319">Instantiating Built-in Types</a></dt><dd/><dt>RegExp constructor, <a class="indexterm" href="ch01.html#iddle1320">Function Literals</a></dt><dd/><dt>regular expression literals, <a class="indexterm" href="ch01.html#iddle1321">Function Literals</a></dt><dd/><dt>removing properties, <a class="indexterm" href="ch01.html#iddle1322">Dereferencing Objects</a>, <a class="indexterm" href="ch03.html#iddle1323">Detecting Properties</a></dt><dd/><dt>retrieving property attributes, <a class="indexterm" href="ch03.html#iddle1324">Defining Multiple Properties</a></dt><dd/><dt>revealing module pattern, <a class="indexterm" href="ch06.html#iddle1325">The Module Pattern</a></dt><dd/></dl></div><div class="indexdiv"><h3>S</h3><dl><dt>scope-safe constructors, <a class="indexterm" href="ch06.html#iddle1326">Mixins</a></dt><dd/><dt>seal() method, <a class="indexterm" href="ch03.html#iddle1329">Preventing Object Modification</a>, <a class="indexterm" href="ch04.html#iddle1330">Changing Prototypes</a></dt><dd/><dt>sealed objects, prototype modification and, <a class="indexterm" href="ch04.html#iddle1327">Changing Prototypes</a></dt><dd/><dt>sealing objects, <a class="indexterm" href="ch03.html#iddle1328">Preventing Object Modification</a></dt><dd/><dt>setter functions, <a class="indexterm" href="ch03.html#iddle1333">Enumeration</a></dt><dd/><dt>sharing private data, <a class="indexterm" href="ch06.html#iddle1334">Private Members for Constructors</a></dt><dd/><dt>signatures, function with multiple, <a class="indexterm" href="ch02.html#iddle1335">Overloading</a></dt><dd/><dt>sort() method, <a class="indexterm" href="ch02.html#iddle1336">Functions as Values</a></dt><dd/><dt>square brackets ([ ])</dt><dd><dl><dt>for array literals, <a class="indexterm" href="ch01.html#iddle1337">Object and Array Literals</a></dt><dd/><dt>for property access, <a class="indexterm" href="ch01.html#iddle1338">Function Literals</a></dt><dd/></dl></dd><dt>Square constructor, <a class="indexterm" href="ch05.html#iddle1339">Constructor Inheritance</a></dt><dd/><dt>stealing constructors, <a class="indexterm" href="ch05.html#iddle1340">Constructor Inheritance</a></dt><dd/><dt>strict mode</dt><dd><dl><dt>for nonextensible objects, <a class="indexterm" href="ch03.html#iddle1341">Preventing Object Modification</a></dt><dd/><dt>for sealed objects, <a class="indexterm" href="ch03.html#iddle1342">Sealing Objects</a></dt><dd/></dl></dd><dt>string literals, as property names, <a class="indexterm" href="ch01.html#iddle1343">Instantiating Built-in Types</a></dt><dd/><dt>String primitive wrapper type, <a class="indexterm" href="ch01.html#iddle1344">Identifying Arrays</a></dt><dd/><dt>string type, <a class="indexterm" href="ch01.html#iddle1348">Primitive Types</a></dt><dd/><dt>strings</dt><dd><dl><dt>capitalize() method, <a class="indexterm" href="ch04.html#iddle1345">Changing Prototypes</a></dt><dd/><dt>conversion of values to, for comparison, <a class="indexterm" href="ch02.html#iddle1346">Functions as Values</a></dt><dd/><dt>methods, <a class="indexterm" href="ch01.html#iddle1347">Primitive Methods</a></dt><dd/></dl></dd><dt>substring() method, <a class="indexterm" href="ch01.html#iddle1349">Primitive Methods</a></dt><dd/><dt>subtype constructors, <a class="indexterm" href="ch05.html#iddle1350">Object Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1351">Constructor Inheritance</a></dt><dd/><dt>sum() function, <a class="indexterm" href="ch02.html#iddle1352">Functions as Values</a></dt><dd/><dt>supertype</dt><dd><dl><dt>constructors, <a class="indexterm" href="ch05.html#iddle1353">Object Inheritance</a>, <a class="indexterm" href="ch05.html#iddle1354">Constructor Inheritance</a></dt><dd/><dt>methods, accessing, <a class="indexterm" href="ch05.html#iddle1355">Accessing Supertype Methods</a></dt><dd/></dl></dd><dt>supplier, copying enumerable properties between receiver and, <a class="indexterm" href="ch06.html#iddle1356">Private Members for Constructors</a></dt><dd/></dl></div><div class="indexdiv"><h3>T</h3><dl><dt>temporary objects, creating properties on, <a class="indexterm" href="ch01.html#iddle1357">Primitive Wrapper Types</a></dt><dd/><dt>this object, <a class="indexterm" href="ch02.html#iddle1358">The this Object</a></dt><dd><dl><dt>changing value of, <a class="indexterm" href="ch02.html#iddle1359">The this Object</a></dt><dd/><dt>creating with new, <a class="indexterm" href="ch04.html#iddle1361">Constructors</a></dt><dd/><dt>to create length and width properties, <a class="indexterm" href="ch05.html#iddle1360">Constructor Stealing</a></dt><dd/></dl></dd><dt>toFixed() method, <a class="indexterm" href="ch01.html#iddle1362">Primitive Methods</a></dt><dd/><dt>toLowerCase() method, <a class="indexterm" href="ch01.html#iddle1363">Primitive Methods</a></dt><dd/><dt>toString() method, <a class="indexterm" href="ch01.html#iddle1364">Primitive Methods</a>, <a class="indexterm" href="ch03.html#iddle1365">Detecting Properties</a>, <a class="indexterm" href="ch05.html#iddle1366">Prototype Chaining and Object.prototype</a>, <a class="indexterm" href="ch05.html#iddle1367">valueOf()</a></dt><dd/><dt>triple equals operator (===), <a class="indexterm" href="ch01.html#iddle1368">Identifying Primitive Types</a></dt><dd/><dt>truthy values, <a class="indexterm" href="ch03.html#iddle1369">Defining Properties</a></dt><dd/><dt>typeof operator, <a class="indexterm" href="ch01.html#iddle1370">Primitive Types</a>, <a class="indexterm" href="ch01.html#iddle1371">Property Access</a></dt><dd/><dt>types, <a class="indexterm" href="ch01.html#iddle1372">Primitive and Reference Types</a></dt><dd><dl><dt>(see also primitive types; reference types)</dt><dd/><dt>checking for different, <a class="indexterm" href="ch02.html#iddle1373">Overloading</a></dt><dd/><dt>checking instance for, <a class="indexterm" href="ch04.html#iddle1374">Constructors</a></dt><dd/><dt>instantiating built-in, <a class="indexterm" href="ch01.html#iddle1375">Dereferencing Objects</a></dt><dd/></dl></dd></dl></div><div class="indexdiv"><h3>U</h3><dl><dt>undefined type, <a class="indexterm" href="ch01.html#iddle1376">Primitive Types</a></dt><dd/><dt>underscore (_), in property name prefix, <a class="indexterm" href="ch03.html#iddle1377">Types of Properties</a>, <a class="indexterm" href="ch06.html#iddle1378">Private and Privileged Members</a></dt><dd/></dl></div><div class="indexdiv"><h3>V</h3><dl><dt>valueOf() method, <a class="indexterm" href="ch05.html#iddle1380">Prototype Chaining and Object.prototype</a>, <a class="indexterm" href="ch05.html#iddle1381">valueOf()</a></dt><dd/><dt>values</dt><dd><dl><dt>functions as, <a class="indexterm" href="ch02.html#iddle1382">Declarations vs. Expressions</a></dt><dd/><dt>passing, between web page frames, <a class="indexterm" href="ch01.html#iddle1383">Identifying Reference Types</a></dt><dd/></dl></dd><dt>variable object, <a class="indexterm" href="ch01.html#iddle1384">Primitive and Reference Types</a></dt><dd/><dt>variables, for primitive types, <a class="indexterm" href="ch01.html#iddle1385">Primitive Types</a></dt><dd/></dl></div><div class="indexdiv"><h3>W</h3><dl><dt>web pages, passing values between frames, <a class="indexterm" href="ch01.html#iddle1386">Identifying Reference Types</a></dt><dd/><dt>wrapper types, primitive, <a class="indexterm" href="ch01.html#iddle1387">Identifying Arrays</a></dt><dd/><dt>write-only properties, <a class="indexterm" href="ch03.html#iddle1389">Types of Properties</a></dt><dd/></dl></div></div></div></section></body></html>