- en: Chapter 6. Animation
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Although GIMP wasn’t designed to build animations, it does have some video-editing
    capabilities that you can use to animate a logo, for instance, or decorate a web
    page. In this chapter, we first introduce some simple animations, and then, in
    subsequent sections of this chapter as well as in [Chapter 18](ch18.html "Chapter 18. Animation
    Tools"), we demonstrate more complex animations and show how to manipulate existing
    video sequences in GIMP.
  prefs: []
  type: TYPE_NORMAL
- en: '6.1 Tutorial: Animated Text'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Suppose, for the purposes of this tutorial, that your first name is Carol, a
    respectable, non-gender-specific name. Suppose you, Carol, want to decorate an
    online photo album with an animated logo of your first name. The letters of your
    name will appear progressively and then move into position. Once your entire name
    has appeared, the animation stops.
  prefs: []
  type: TYPE_NORMAL
- en: In [Chapter 4](ch04.html "Chapter 4. Logos and Textures"), you learned how to
    build a complex logo. Because the focus of this tutorial is the animation, the
    logo will be very simple. If you like, you can combine these animation techniques
    with more advanced logo designs, but be advised that such combinations often result
    in an awkward mess.
  prefs: []
  type: TYPE_NORMAL
- en: As you’ll see in [18.1 Principles of Animation](ch18s01.html "18.1 Principles
    of Animation"), an animation is made from successive image frames. One of the
    ways to create an animation is to build a multilayer image in which each layer
    is one frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'Method One: Frame by Frame'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The simplest way to create the frames is to build each one in turn by hand.
    Of course, this method is also the most cumbersome and feasible only for very
    simple animations.
  prefs: []
  type: TYPE_NORMAL
- en: In this tutorial, we use the background layer as the animation background and
    move only the letters of the name in successive image layers.
  prefs: []
  type: TYPE_NORMAL
- en: To begin, create a new 600 × 400 image (![](httpatomoreillycomsourcenostarchimages1454498.png.jpg)).
    Fill the background with the color of your choice. To do this, click the Color
    chooser in the Toolbox (see [Figure 3-3](ch03s01.html#foreground_and_background_colors
    "Figure 3-3. The foreground and background colors")), choose your color, and then
    press ![](httpatomoreillycomsourcenostarchimages1454534.png.jpg) to fill the layer
    with the foreground color. Alternatively, you could choose the Bucket Fill tool
    (![](httpatomoreillycomsourcenostarchimages1454242.png.jpg)) and click to fill
    the area.
  prefs: []
  type: TYPE_NORMAL
- en: Now select the Text tool (![](httpatomoreillycomsourcenostarchimages1454520.png.jpg)).
    Pick a bold font (in our case, we selected `DejaVu Sans Bold Semicondensed`),
    and set the size to 100\. Select a text color that shows up clearly against your
    background color.
  prefs: []
  type: TYPE_NORMAL
- en: '![Typing the letters](httpatomoreillycomsourcenostarchimages1454824.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-1. Typing the letters
  prefs: []
  type: TYPE_NORMAL
- en: The first click corresponds to the upper-left corner of the box containing the
    first letter. If you click elsewhere in the image after typing the first letter,
    a new layer is automatically created for the next letter, which is exactly what
    you want. After adding all the letters, your image should look like [Figure 6-1](ch06s01.html#typing_the_letters
    "Figure 6-1. Typing the letters"). The colors we chose for the logo are `2f91dc`
    and `f6ee11` in HTML notation.
  prefs: []
  type: TYPE_NORMAL
- en: 'This image is already a simple animation. To test it, select **Image: Filters
    > Animation > Playback**. In the window that opens, simply click the PLAY button,
    and you see the animation playing.'
  prefs: []
  type: TYPE_NORMAL
- en: Why does it work? When you click PLAY, GIMP reveals the layers one by one, and
    because text layers have transparent backgrounds, the letters don’t cover up the
    background, or the rest of the logo, when they appear.
  prefs: []
  type: TYPE_NORMAL
- en: To complete this logo, press (![](httpatomoreillycomsourcenostarchimages1453856.png.jpg))
    and export it as a GIF image. In the dialog that opens, check SAVE AS ANIMATION
    and uncheck LOOP FOREVER.
  prefs: []
  type: TYPE_NORMAL
- en: As explained in [Output Formats](ch18s01.html#output_formats "Output Formats"),
    this produces a file that you can display in a browser. After exporting your logo
    as a GIF, you can use it at the top of your web page, for example.
  prefs: []
  type: TYPE_NORMAL
- en: Test your animation by opening it in your browser, generally by selecting **File
    > Open** or pressing ![](httpatomoreillycomsourcenostarchimages1453822.png.jpg).
    You can also include the animation in an HTML page with the `<img src='...' />`
    tag.
  prefs: []
  type: TYPE_NORMAL
- en: 'Method Two: Filtering All Layers'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The previous animation was simple. Suppose you want something more complicated.
    Building all the frames by hand would be time consuming and boring—especially
    if you want to create a smooth animation, which requires many frames. To make
    such animations in a practical way, you need a program that automatically generates
    frames from an initial image. The GIMP Animation Package (GAP) does just that.
    You install it separately from GIMP, but the process is simple (see [Appendix E](ape.html
    "Appendix E. Installing GIMP") for help installing GAP).
  prefs: []
  type: TYPE_NORMAL
- en: 'When GAP is installed, a menu called VIDEO appears in the Image window, and
    two additional entries appear in the FILTERS menu: FILTER ALL LAYERS and FILTERMACRO.
    Another tool installed with GAP is **Image: Filters > Animation > Selection to
    AnimImage**, which is similar to Filter all Layers.'
  prefs: []
  type: TYPE_NORMAL
- en: Create a new image that’s the same size and background color as used in the
    last exercise. As before, use the Text tool to create the logo in the same color,
    size, and font, but this time type the name as a single layer. Our result is shown
    in [Figure 6-2](ch06s01.html#initial_logo "Figure 6-2. The initial logo").
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial logo](httpatomoreillycomsourcenostarchimages1454826.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-2. The initial logo
  prefs: []
  type: TYPE_NORMAL
- en: '![The duplicate layer button](httpatomoreillycomsourcenostarchimages1454828.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-3. The duplicate layer button
  prefs: []
  type: TYPE_NORMAL
- en: '![The Layers dialog](httpatomoreillycomsourcenostarchimages1454830.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-4. The Layers dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'For this animation, the text layers must be opaque. Merge the text layer with
    the background by selecting **Image: Layer > Merge Down** or right-clicking on
    the text layer in the Layers dialog and selecting Merge Down.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The animation has 20 layers, which begin as identical copies of the initial
    logo image. After you’ve merged the text with the background, change the name
    of the layer, for example, to `CAROL #1`, by double-clicking in the layer name.
    Then click the DUPLICATE LAYER button 19 times ([Figure 6-3](ch06s01.html#duplicate_layer_button
    "Figure 6-3. The duplicate layer button")) in the Layers dialog (see [Figure 6-4](ch06s01.html#layers_dialog-id00067
    "Figure 6-4. The Layers dialog")).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now select **Image: Filters > Filter all Layers**. This tool applies a filter
    to all the layers of an image. You choose the parameters of the filter for the
    first and last layers, and the tool interpolates the values for the layers in
    between.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Parameters for the first layer](httpatomoreillycomsourcenostarchimages1454832.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-5. Parameters for the first layer
  prefs: []
  type: TYPE_NORMAL
- en: '![Intermediary step](httpatomoreillycomsourcenostarchimages1454834.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-6. Intermediary step
  prefs: []
  type: TYPE_NORMAL
- en: '![The final dialog](httpatomoreillycomsourcenostarchimages1454836.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-7. The final dialog
  prefs: []
  type: TYPE_NORMAL
- en: For our logo, we apply a blurring filter. Type the word `blur` in the Search
    field and click SEARCH BY BLURB.
  prefs: []
  type: TYPE_NORMAL
- en: 'Choose `plug-in-gauss`, and click APPLY. The numeric field and the small curve
    next to APPLY allow you to change the speed of the progression: It can be uniform
    or slow at the beginning and faster at the end (for this example, choose 4), or
    vice versa (a negative number would reverse the speed). When the next dialog appears,
    set a large blur radius, such as 50 pixels, as shown in [Figure 6-5](ch06s01.html#parameters_for_the_first_layer
    "Figure 6-5. Parameters for the first layer").'
  prefs: []
  type: TYPE_NORMAL
- en: Click CONTINUE. The dialog shown in [Figure 6-6](ch06s01.html#intermediary_step
    "Figure 6-6. Intermediary step") appears. Click CONTINUE again, and another dialog
    similar to [Figure 6-5](ch06s01.html#parameters_for_the_first_layer "Figure 6-5. Parameters
    for the first layer") appears. This time, set the blur to 0 for the final frame.
    Click OK. Now the dialog shown in [Figure 6-7](ch06s01.html#final_dialog "Figure 6-7. The
    final dialog") appears.
  prefs: []
  type: TYPE_NORMAL
- en: Next you need to name a temporary file where the animation will be stored. Choose
    a directory, type `caroltemp.xcf` (or any name you like), and then click CONTINUE
    once more. The process takes some time because GIMP is applying the Gaussian Blur
    filter to 20 layers.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once this process finishes, the animation is ready. Test it by selecting **Image:
    Filters > Animation > Playback**. When the animation finishes playing, it returns
    to the beginning.'
  prefs: []
  type: TYPE_NORMAL
- en: 'You can change this in several ways :'
  prefs: []
  type: TYPE_NORMAL
- en: Export the animation as a GIF image, and uncheck the LOOP FOREVER option.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Change the duration of the last frame (i.e., the topmost layer); to do this,
    double-click the layer name in the Layers dialog and type `(1000ms)` after the
    name. Be sure to include the parentheses and a space between the name and the
    duration. The final frame now displays for a full second while the others last
    for only 100 milliseconds.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Duplicate the top layer as many times as you’d like.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Method Three: Moving Along a Path'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: When using FILTER ALL LAYERS, you can only control what is done to the first
    and the last frame. Additionally, because frames are represented by layers, you
    can’t have multilayer frames. GAP provides tools that you can use to build animations
    with much more control.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the **Image: Video** menu that was added when you installed the GAP plug-in,
    you’ll find tools for creating animations with frames stored as separate image
    files.'
  prefs: []
  type: TYPE_NORMAL
- en: The names of these image files must be of the form *namexxxx*`.xcf`, where *name*
    is the name you give to the animation and *xxxx* is a number beginning with *0001*
    and increasing consecutively until the last frame. The number of digits can vary
    depending on the length of the animation.
  prefs: []
  type: TYPE_NORMAL
- en: '![Model of the intended animation](httpatomoreillycomsourcenostarchimages1454838.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-8. Model of the intended animation
  prefs: []
  type: TYPE_NORMAL
- en: '![The Image: Video > Duplicate Frames dialog](httpatomoreillycomsourcenostarchimages1454840.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 6-9. The Image: Video > Duplicate Frames dialog'
  prefs: []
  type: TYPE_NORMAL
- en: The first frame of a very short animation might be named *01*. Longer animations
    can have 6, or even 10, digits.
  prefs: []
  type: TYPE_NORMAL
- en: For this example, imagine you want to build a new animation, similar to the
    last two but a bit more complex. This time, the name `CAROL` will grow progressively
    larger and become increasingly opaque. Simultaneously, a rectangular frame will
    grow and become opaque and then rotate from a vertical position, perpendicular
    to the text, to its horizontal position, neatly framing the text.
  prefs: []
  type: TYPE_NORMAL
- en: 'First, build a model for the animation, which is a three-layer image. Create
    a new 300*×*150 image (![](httpatomoreillycomsourcenostarchimages1454498.png.jpg))
    with the same blue background color. Once again, add the text layer with the name
    `CAROL`. Finally, build the frame in the same color as the text:'
  prefs: []
  type: TYPE_NORMAL
- en: Create a new transparent layer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using the Rectangle Select tool, select the frame of the text layer.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Apply **Image: Select > Border** to this selection; choose a width of 5 for
    the border.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Fill the selection with the foreground color (for example, ![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)
    ), and cancel the selection (![](httpatomoreillycomsourcenostarchimages1454172.png.jpg)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![The Move Path dialog](httpatomoreillycomsourcenostarchimages1454842.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-10. The Move Path dialog
  prefs: []
  type: TYPE_NORMAL
- en: The result is shown in [Figure 6-8](ch06s01.html#model_of_the_intended_animation
    "Figure 6-8. Model of the intended animation"). Keep this image opened in GIMP.
  prefs: []
  type: TYPE_NORMAL
- en: To better organize your workspace, create a new folder called `Carol` in whatever
    directory you use to store images. You’ll store all of the animation frames in
    that new folder.
  prefs: []
  type: TYPE_NORMAL
- en: Create the first frame by clicking and dragging the background layer thumbnail
    of your model image from the Layers dialog to the Toolbox. Save this image (![](httpatomoreillycomsourcenostarchimages1453852.png.jpg))
    in the new folder, and name it `carol-0001.xcf`. This is the background of the
    first frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next duplicate this frame. The simplest method is to use **Image: Video > Duplicate
    Frames**. The dialog shown in [Figure 6-9](ch06s01.html#image_video_greater_than_duplicate_frame
    "Figure 6-9. The Image: Video > Duplicate Frames dialog") appears. Move the N
    TIMES slider to 20 and click OK. After GIMP finishes working, nothing seems to
    have happened, but if you check, you’ll see the new frames are in the `Carol`
    folder. We’ll be working on the first frame only, so ignore the new frames for
    now.'
  prefs: []
  type: TYPE_NORMAL
- en: 'One of the most useful tools in the GAP plug-in is **Image: Video > Move Path**.
    Open the first frame, `carol-0001.xcf`, and then call the Move Path tool. As shown
    in [Figure 6-10](ch06s01.html#move_path_dialog "Figure 6-10. The Move Path dialog"),
    the dialog that appears is quite large, but don’t panic—in this tutorial, we focus
    on just a few of its features.'
  prefs: []
  type: TYPE_NORMAL
- en: Use the MOVE PATH tool to add layers, which are taken from an open image (the
    model image in our case), to the animation frames. The move is applied along a
    path defined with points. At each point, you can apply transformations such as
    blending modes, scaling, opacity, rotation, and perspective to the added layer.
    If you add several layers at the same time, you can choose how they are taken
    from the model image.
  prefs: []
  type: TYPE_NORMAL
- en: We’ve added numbers to [Figure 6-10](ch06s01.html#move_path_dialog "Figure 6-10. The
    Move Path dialog") that correspond to numbers in the text to guide you through
    the following steps. Select the layer in the SOURCE IMAGE/LAYER menu from among
    those in the currently open images (1). First, choose the frame layer. Because
    there is only one layer, choose NONE from the STEPMODE menu (2).
  prefs: []
  type: TYPE_NORMAL
- en: The coordinates of the path’s points are taken according to the origin selected
    in the HANDLE menu. Choose CENTER (3), and then set the X and Y coordinates (4)
    to 150 and 75, respectively. A red crosshair appears in the background frame.
    To see the frame, check the INSTANT APPLY box (5) at the bottom of the dialog.
  prefs: []
  type: TYPE_NORMAL
- en: '![After adding the rectangle to the first frame](httpatomoreillycomsourcenostarchimages1454844.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-11. After adding the rectangle to the first frame
  prefs: []
  type: TYPE_NORMAL
- en: The original characteristics of the frame layer are 20.0% for scaling (6), 20.0%
    for opacity (7), and –90° for rotation (8).
  prefs: []
  type: TYPE_NORMAL
- en: Now you’ve set the first point, which applies to the first frame. Add another
    point by clicking the ADD POINT button. Note that the point number has changed
    (9). For this point, which will be the last frame, the layer’s position and opacity
    change, but the point coordinates should remain the same. change WIDTH, HEIGHT,
    and OPACITY to 100% and ROTATE to 0.0\. The first layer of the animation is now
    complete.
  prefs: []
  type: TYPE_NORMAL
- en: 'Click OK, and GIMP processes the frames. This process can take a while, depending
    on the size and number of frames. When GIMP finishes, you’ll see the first frame
    with an additional layer: the logo’s rectangular frame in its initial position,
    as seen in [Figure 6-11](ch06s01.html#after_adding_the_rectangle_to_the_first
    "Figure 6-11. After adding the rectangle to the first frame").'
  prefs: []
  type: TYPE_NORMAL
- en: To add the second layer (the text), use the MOVE PATH tool again. This time,
    select the text layer in the model image. Select the same values for STEPMODE,
    HANDLE, the X and Y coordinates, WIDTH and HEIGHT, and OPACITY, as you used for
    the previous layer. Check INSTANT APPLY to see the result.
  prefs: []
  type: TYPE_NORMAL
- en: Add a new point, and set WIDTH, HEIGHT, and OPACITY to 100%, but don’t change
    the coordinates. The animation is finished! To check it before saving, click ANIM
    PREVIEW (10). The dialog shown in [Figure 6-12](ch06s01.html#anim_preview_dialog
    "Figure 6-12. The Anim Preview dialog") appears. Click OK. GIMP builds a reduced
    version of the animation as a multilayer image, with the Playback window already
    open. Although previewing the new animation is exciting, it not only takes a while
    but also builds an unnecessary image that clutters up your workspace. We recommend
    skipping this feature and simply clicking OK (11) in the Move Path dialog.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Anim Preview dialog](httpatomoreillycomsourcenostarchimages1454846.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-12. The Anim Preview dialog
  prefs: []
  type: TYPE_NORMAL
- en: 'Once GIMP finishes processing, all the frames of the animation contain the
    same three layers as the model image but with progressive changes to the frame
    and text layers. You can view this animation by selecting **Image: Video > VCR
    Navigator** and clicking the PLAYBACK button.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Suppose you want to export this video as a GIF animation. To do this, you need
    to transform this multi-image animation to a multilayer one and merge the layers
    in each frame. You can do this automatically using **Image: Video > Frames to
    Image**, which brings up the dialog shown in [Figure 6-13](ch06s02.html#frames_to_image_dialog
    "Figure 6-13. The Frames to Image dialog"). Leave everything as is and click OK.
    Once again, GIMP works for a while, eventually creating a new multilayer image.
    Change the duration of the last frame (the topmost layer) to 1000 ms by typing
    `(1000ms)` after the layer name. You can then check your animation with **Image:
    Filters > Animation > Playback** or export it as a GIF file.'
  prefs: []
  type: TYPE_NORMAL
- en: 6.2 Building an Animated GIF by Hand
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'At the beginning of this chapter, we built an animation frame by frame as layers
    in one image. Here is a general list of the steps to use as a guide for building
    similar animations:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Frames to Image dialog](httpatomoreillycomsourcenostarchimages1454848.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-13. The Frames to Image dialog
  prefs: []
  type: TYPE_NORMAL
- en: Create a stationary background for the animation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create another layer with the object that will move; it may be cut from a photograph,
    drawn using paint tools, or typed in as text.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'For each new position of the object, duplicate the preceding layer and apply
    some transformation to the new layer: Move, rotate, or deform the object, zoom
    in or out, and so on. Take care when doing this, or the animation will be choppy.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Because each new layer must replace the preceding one, duplicate the background
    layer once per object layer, intersperse these copies between the object layers,
    and then merge each object layer with a background layer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The animation is finished!
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You’ve just created a simple animation in which a single object moves along
    a fixed background. While you can use this technique to animate multiple objects,
    the process is awkward and repetitive. Remember that if you’re doing a repetitive
    task on a computer, you’re not using the computer in a clever way.
  prefs: []
  type: TYPE_NORMAL
- en: '![The background image](httpatomoreillycomsourcenostarchimages1454850.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-14. The background image
  prefs: []
  type: TYPE_NORMAL
- en: '![Parameters for the first color](httpatomoreillycomsourcenostarchimages1454852.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-15. Parameters for the first color
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we demonstrate some other ways to create simple animations.
  prefs: []
  type: TYPE_NORMAL
- en: Drawing a Rainbow Daisy
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The first example is so simple that duplicating the background is not necessary:
    Layers are progressively added to draw the petals of the daisy.'
  prefs: []
  type: TYPE_NORMAL
- en: Begin with the background image shown in [Figure 6-14](ch06s02.html#background_image
    "Figure 6-14. The background image").
  prefs: []
  type: TYPE_NORMAL
- en: Then we draw the petals by hand with the Paintbrush tool. We draw one petal
    at a time, using different colors for each petal. To change the color, we change
    only the hue by a set amount from petal to petal. The background is rather dark,
    so we choose a bright, saturated color, beginning at one end of the hue scale,
    as shown in [Figure 6-15](ch06s02.html#parameters_for_the_first_color "Figure 6-15. Parameters
    for the first color").
  prefs: []
  type: TYPE_NORMAL
- en: '![Workspace after the petals have been added](httpatomoreillycomsourcenostarchimages1454854.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-16. Workspace after the petals have been added
  prefs: []
  type: TYPE_NORMAL
- en: Every petal has its own layer. First create a new layer. In the dialog that
    appears, add a number to the layer name. With the `Hardness 100` brush set to
    a small size, draw the first petal in the upper-left corner of the image.
  prefs: []
  type: TYPE_NORMAL
- en: For the second petal, choose a color with the same saturation and value as the
    first one but with a different hue. To change the hue, set the new value in the
    field to the right of the radio button labeled H. The hue values range from 0
    to 360\. Because the daisy has seven petals, plus its stem, we need eight different
    hues. So we add 40 to the preceding hue value for each new petal, create the new
    layer, name it, and draw the petal in the proper place until the daisy is finished.
  prefs: []
  type: TYPE_NORMAL
- en: When the daisy is finished, we have nine layers, and the animation is almost
    complete. The animation will look better if it pauses at the beginning and at
    the end, so add an explicit duration of 1000 ms to the first and last layers by
    typing `(1000ms)` after the layer name.
  prefs: []
  type: TYPE_NORMAL
- en: 'To test the animation, go to **Image: Filters > Animation > Playback**. [Figure 6-16](ch06s02.html#workspace_after_the_petals_have_been_add
    "Figure 6-16. Workspace after the petals have been added") shows the final image
    with the Layers dialog.'
  prefs: []
  type: TYPE_NORMAL
- en: Notice that the Playback window always displays the image at its actual size—this
    can be problematic if you build an animation with an image that’s larger than
    your screen. When an animation takes up most of the screen, detach it from the
    Playback window by clicking the fourth button from the left at the top of the
    window.
  prefs: []
  type: TYPE_NORMAL
- en: 'When you’re satisfied with the animation, you can export it as an animated
    GIF, as shown in [Method One: Frame by Frame](ch06s01.html#method_one_frame_by_frame
    "Method One: Frame by Frame").'
  prefs: []
  type: TYPE_NORMAL
- en: Zooming Toward the Viewer
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The second animation is slightly more complicated to build. This time, we want
    to make a word zoom toward the viewer.
  prefs: []
  type: TYPE_NORMAL
- en: We begin with a new background image. Select the Text tool, choose your favorite
    font, in a large size and a bright color, and write “Hello!” on the image. [Figure 6-17](ch06s02.html#adding_text_to_an_image
    "Figure 6-17. Adding text to an image") shows the result, with a `FreeSans Bold`
    font in size 140 in a bright red.
  prefs: []
  type: TYPE_NORMAL
- en: '![Adding text to an image](httpatomoreillycomsourcenostarchimages1454856.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-17. Adding text to an image
  prefs: []
  type: TYPE_NORMAL
- en: '![Scaling the layer](httpatomoreillycomsourcenostarchimages1454858.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-18. Scaling the layer
  prefs: []
  type: TYPE_NORMAL
- en: Next, we build several copies of this layer, each with a smaller and smaller
    zoom factor and an increasing blur. We build the layers in reverse order, so the
    last built is the first to display. To build a smooth animation, we change the
    height of the layer by the same amount each time, and we use the same blurring
    factor.
  prefs: []
  type: TYPE_NORMAL
- en: 'Duplicate the text layer, and work on the lower copy. Using **Image: Layer
    > Scale Layer**, reduce the layer height by 20 pixels (see [Figure 6-18](ch06s02.html#scaling_the_layer
    "Figure 6-18. Scaling the layer")). Then select **Image: Filters > Blur > Gaussian
    Blur** and apply a blur with the default parameters. If you’re not sure whether
    the parameters are set to their default values, reset all the filters via **Image:
    Filters > Reset all Filters**.'
  prefs: []
  type: TYPE_NORMAL
- en: Repeat this process four more times, always working on the lower text layer
    (the one that has just been transformed). You can speed up the process by pressing
    ![](httpatomoreillycomsourcenostarchimages1453888.png.jpg) to repeat the last
    filter used.
  prefs: []
  type: TYPE_NORMAL
- en: '![The Layers dialog with text and background layers](httpatomoreillycomsourcenostarchimages1454860.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-19. The Layers dialog with text and background layers
  prefs: []
  type: TYPE_NORMAL
- en: At the end, you should have six text layers. As it stands now, however, you
    can’t use this image as an animation because all the layers are visible. The solution
    is to duplicate the background layer so you have one background layer per text
    layer. By alternatively clicking the DUPLICATE button and the RAISE button at
    the bottom of the Layers dialog, you can quickly create the sequence of layers
    shown in [Figure 6-19](ch06s02.html#layers_dialog_with_text_and_background_l "Figure 6-19. The
    Layers dialog with text and background layers").
  prefs: []
  type: TYPE_NORMAL
- en: 'Then merge each text layer with the underlying background layer by selecting
    **Layer: right-click > Merge Down**. Keep one more version of the background at
    the bottom of the layer stack so the animation begins with the original background.
    The resulting sequence of layers is shown in [Figure 6-20](ch06s02.html#layers_dialog_after_merging_text_and_bac
    "Figure 6-20. The Layers dialog after merging text and background layers").'
  prefs: []
  type: TYPE_NORMAL
- en: Our animation is almost ready. Because we duplicated the background layer so
    many times, the file is 12MB, which is quite large. But much of the background
    actually remains the same, creating redundancy, so we can reduce the size without
    losing valuable information.
  prefs: []
  type: TYPE_NORMAL
- en: 'GIMP provides a way to reduce the size: Apply **Image: Filters > Animation
    > Optimize (for GIF)**. The filter has no dialog and does its job immediately.
    It generates another, smaller image file: In our case, the file is 362KB. The
    filter replaces parts of the image that don’t change with transparency, as shown
    in [Figure 6-21](ch06s02.html#first_layer_after_optimization_for_gif "Figure 6-21. The
    first layer after optimization for GIF"). Because the animated word doesn’t move
    across the background, most of the background remains unchanged, and, as a result,
    the size is reduced significantly.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Layers dialog after merging text and background layers](httpatomoreillycomsourcenostarchimages1454862.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-20. The Layers dialog after merging text and background layers
  prefs: []
  type: TYPE_NORMAL
- en: '![The first layer after optimization for GIF](httpatomoreillycomsourcenostarchimages1454864.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-21. The first layer after optimization for GIF
  prefs: []
  type: TYPE_NORMAL
- en: The optimization tool also adds the layer replacement mode `(combine)` to every
    layer except the bottom one. Therefore, the new layer does not replace the previous
    one but is *combined* with it. In the previous animation, we used the `(replace)`
    combination mode, which is the default.
  prefs: []
  type: TYPE_NORMAL
- en: We still need to do two things before this animation is complete. First, we
    need to change the timing of the first and last frames (bottom and top layers)
    to make the animation smoother. Because the optimization process automatically
    added a duration of 100 ms, we have to change the timing already specified for
    these two layers by adding another zero to the duration, so it becomes `(1000ms)`.
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454866.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-22. The initial image
  prefs: []
  type: TYPE_NORMAL
- en: '![Building the layer](httpatomoreillycomsourcenostarchimages1454868.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-23. Building the layer
  prefs: []
  type: TYPE_NORMAL
- en: Finally, we export the completed animation as a GIF.
  prefs: []
  type: TYPE_NORMAL
- en: Adding Rain to a Landscape
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This animation is easy to build and takes less than 10 minutes. Those of you
    with a little programming knowledge could even automate this process by creating
    a script.
  prefs: []
  type: TYPE_NORMAL
- en: As a background, we use the photograph in [Figure 6-22](ch06s02.html#initial_image-id00068
    "Figure 6-22. The initial image"), a sandy beach on the North Coast of New South
    Wales, Australia. We want to add some rain falling on this landscape.
  prefs: []
  type: TYPE_NORMAL
- en: '![The resulting Layers dialog](httpatomoreillycomsourcenostarchimages1454870.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-24. The resulting Layers dialog
  prefs: []
  type: TYPE_NORMAL
- en: Duplicate the background image three times. Now you have four layers. Next,
    add a new, white layer above each background layer (see [Figure 6-23](ch06s02.html#building_the_layer
    "Figure 6-23. Building the layer")). The resulting Layers dialog is shown in [Figure 6-24](ch06s02.html#resulting_layers_dialog
    "Figure 6-24. The resulting Layers dialog").
  prefs: []
  type: TYPE_NORMAL
- en: 'Use the white layers for the rain. First, add noise to the white layers with
    **Image: Filters > Noise > RGB Noise**, using the parameters shown in [Figure 6-25](ch06s02.html#creating_the_rain_adding_noise
    "Figure 6-25. Creating the rain: adding noise"). Do this for each white layer
    by selecting it and pressing ![](httpatomoreillycomsourcenostarchimages1453888.png.jpg).
    Change this noise into rain by applying **Image: Filters > Blur > Motion Blur**,
    using the parameters shown in [Figure 6-26](ch06s02.html#creating_the_rain_adding_motion_blur
    "Figure 6-26. Creating the rain: adding motion blur"). Repeat this process for
    each white layer.'
  prefs: []
  type: TYPE_NORMAL
- en: 'The animation is almost finished. Here are the remaining steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Change the blend mode of every rain layer to Multiply; note that other blend
    modes work too, for example, Screen or even Grain Merge.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Merge each rain layer with the underlying background layer (use **Layers: right-click
    > Merge Down**).'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Creating the rain: adding noise](httpatomoreillycomsourcenostarchimages1454872.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6-25. Creating the rain: adding noise'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Creating the rain: adding motion blur](httpatomoreillycomsourcenostarchimages1454874.png.jpg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Figure 6-26. Creating the rain: adding motion blur'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Test the animation with **Image: Filters > Animation > Playback**.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Optimize the animation for GIF, and export it as an animated GIF.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![The final image](httpatomoreillycomsourcenostarchimages1454876.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-27. The final image
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454878.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-28. The initial image
  prefs: []
  type: TYPE_NORMAL
- en: The final result appears in [Figure 6-27](ch06s02.html#final_image-id00069 "Figure 6-27. The
    final image"). Of course, the actual animation is a lot more interesting than
    the still image shown. To see it, visit the book’s website (*[http://the-book-ofgimp.blogspot.com](http://the-book-ofgimp.blogspot.com)*).
  prefs: []
  type: TYPE_NORMAL
- en: Adding Snow to a Landscape
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: You can use a similar process to add snow to a picture. To demonstrate more
    of the tools available, in this example, we apply some alternative methods to
    arrive at the result. In GIMP, you’ll generally discover many different ways to
    complete a given task.
  prefs: []
  type: TYPE_NORMAL
- en: 'We begin with the image shown in [Figure 6-28](ch06s02.html#initial_image-id00070
    "Figure 6-28. The initial image"), a photograph taken in the northern French Alps.
    We create snow by again applying **Image: Filters > Noise > RGB Noise** but this
    time on a new, transparent layer. To apply the noise to a transparent layer, make
    sure Correlated noise is unchecked and then move the ALPHA cursor to 100.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Applying the noise filter](httpatomoreillycomsourcenostarchimages1454880.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-29. Applying the noise filter
  prefs: []
  type: TYPE_NORMAL
- en: '![Inverting the layer](httpatomoreillycomsourcenostarchimages1454882.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-30. Inverting the layer
  prefs: []
  type: TYPE_NORMAL
- en: 'The snow is black, as shown in [Figure 6-29](ch06s02.html#applying_the_noise_filter
    "Figure 6-29. Applying the noise filter"). In the previous example, we adjusted
    the color of the rain when we changed the blending mode to Multiply. This time
    we use **Image: Color > Invert** to make the snow white, as it should be (see
    [Figure 6-30](ch06s02.html#inverting_the_layer "Figure 6-30. Inverting the layer")).'
  prefs: []
  type: TYPE_NORMAL
- en: 'Now we want to make the snow fall slowly over the landscape. First, duplicate
    the snow layer and then apply the Offset tool: Select **Image: Layer > Transform
    > Offset** or press ![](httpatomoreillycomsourcenostarchimages1454634.png.jpg).
    Set a small, positive Y offset— around 10\. Check the WRAP AROUND box, or the
    snow will disappear from the top of the image (see [Figure 6-31](ch06s02.html#offset_dialog
    "Figure 6-31. The Offset dialog")).'
  prefs: []
  type: TYPE_NORMAL
- en: Duplicate this offset copy, and apply the tool again on the copy of the copy.
    Repeat this process several times.
  prefs: []
  type: TYPE_NORMAL
- en: 'As shown in [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers"), duplicate the background, add copies under
    every snow layer, and merge each snow layer with the underlying background copy.
    The result is a working animation.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The Offset dialog](httpatomoreillycomsourcenostarchimages1454884.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-31. The Offset dialog
  prefs: []
  type: TYPE_NORMAL
- en: To make the snow fall gracefully, we have to generate many layers, and we have
    to apply the same Y offset relative to the preceding snow layer. A smooth animation
    would require at least 30 frames. In [Animating a Still Image](ch06s03.html#animating_a_still_image
    "Animating a Still Image") and [18.4 The Move Path Tool](ch18s04.html "18.4 The
    Move Path Tool") we show you two different methods for generating these layers
    automatically, saving a lot of time.
  prefs: []
  type: TYPE_NORMAL
- en: 6.3 Using Animation Tools
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: GIMP offers numerous tools and filters for creating animations. In this section,
    we show you some of those tools.
  prefs: []
  type: TYPE_NORMAL
- en: Interactive Deformation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With this tool and little work, you can create an impressive, or at least amusing,
    animation.
  prefs: []
  type: TYPE_NORMAL
- en: Basically, we’ll warp an existing image and then automatically generate the
    intermediate layers of the animation. To do this, we need to introduce an additional
    capability of a tool used previously to distort still images.
  prefs: []
  type: TYPE_NORMAL
- en: We start with a picture of a rather serious girl, the first one in [Figure 5-1](ch05s01.html#four_source_portraits
    "Figure 5-1. The four source portraits"). Our animation will make her smile in
    a silly, exaggerated way. First, select the face with the Fuzzy Select tool.
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the IWarp tool: **Image: Filters > Distorts > IWarp**. The dialog shown
    in [Figure 6-32](ch06s03.html#iwarp_dialog-id00071 "Figure 6-32. The IWarp dialog")
    pops up. Select the MOVE Deform Mode, and choose a small DEFORM RADIUS, such as
    10 pixels. With the mouse pointer, or a tablet stylus if you have one, click and
    drag both sides of the mouth up and out with small, careful strokes. Increase
    the deform radius and move the lower lip down slightly and the upper lip up slightly.
    You can also move the lower eyelids down a little and pull the corners of the
    eyes out just a tiny bit. This tool has no real undo capability, but if you make
    a mistake, you can use the REMOVE Deform Mode to correct what you just did.'
  prefs: []
  type: TYPE_NORMAL
- en: We could use this tool to change the still image. If we click the ANIMATE tab,
    however, we can automatically generate an animation. Set the NUMBER OF FRAMES
    to 20 and check the PING PONG box. The additional layers of the animation are
    built by GIMP after you click OK.
  prefs: []
  type: TYPE_NORMAL
- en: As with the preceding animations, adjust the timing of layers, optimize the
    image for GIF, and then export the image as a GIF.
  prefs: []
  type: TYPE_NORMAL
- en: Animating a Still Image
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Earlier in this chapter, we used the Filter all Layers tool to make an animation
    from a multilayer image (see [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers")). Filter all Layers can also be used to apply
    systematic changes to all the frames of an existing animation. The tool works
    by applying a filter to all the layers. You can set the initial and final values
    of the filter parameters, and if those values are different, the tool filters
    each layer by varying the parameters progressively from the beginning value to
    the final one.'
  prefs: []
  type: TYPE_NORMAL
- en: Most of the filters available in GIMP can be applied progressively to the layers
    of an image. You can even use the Filter all Layers tool with several different
    filters, one after the other.
  prefs: []
  type: TYPE_NORMAL
- en: 'To demonstrate, we’ll animate the image of Olivier’s Siamese cat shown in [Figure 6-33](ch06s03.html#initial_image-id00072
    "Figure 6-33. The initial image"). Because her name is Aria, change the first
    layer name to `Aria #1`. Duplicate the layer 39 times, and the successive layers
    are automatically named and numbered from 1 to 40.'
  prefs: []
  type: TYPE_NORMAL
- en: '![The IWarp dialog](httpatomoreillycomsourcenostarchimages1454886.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-32. The IWarp dialog
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial image](httpatomoreillycomsourcenostarchimages1454888.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-33. The initial image
  prefs: []
  type: TYPE_NORMAL
- en: To choose among the mapping filters in the Filter all Layers tool, type the
    word `map` in the Search box and click SEARCH BY NAME. Choose the `plug-in-map-object`
    filter, and click APPLY.
  prefs: []
  type: TYPE_NORMAL
- en: Map the image on a plane and then change the Y value on the `Orientation` tab.
    We want the image to rotate on a vertical axis and make a full 360-degree rotation,
    so we change the value of Y to –180, as shown in [Figure 6-34](ch06s03.html#parameters_for_the_first_filter
    "Figure 6-34. Parameters for the first filter") (taken after we clicked PREVIEW!).
    Click OK, and after the first layer is transformed, a small dialog appears.
  prefs: []
  type: TYPE_NORMAL
- en: Click CONTINUE. As shown in [Figure 6-35](ch06s03.html#parameters_for_the_second_filter
    "Figure 6-35. Parameters for the second filter"), change the Y rotation to +180\.
    Click OK, type some filename in the continuation dialog, and click CONTINUE. The
    process takes a long time to run because of the number of layers. In the resulting
    animation, Aria rotates around the vertical axis, as shown in [Figure 6-36](ch06s03.html#first_animation
    "Figure 6-36. The first animation").
  prefs: []
  type: TYPE_NORMAL
- en: '![Parameters for the first filter](httpatomoreillycomsourcenostarchimages1454890.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-34. Parameters for the first filter
  prefs: []
  type: TYPE_NORMAL
- en: Now we want to apply a second filter to all of the layers. We apply the filter
    PLUG-INAPPLYLENS, using the same parameters for every layer. Apply the filter
    via Filter all Layers and click the APPLY button to get [Figure 6-37](ch06s03.html#parameters_for_the_second_global_filter
    "Figure 6-37. Parameters for the second global filter"). Leave the parameters
    as they are and click OK. The same dialogs as shown previously appear, but this
    time leave the parameters unchanged. The result appears in [Figure 6-38](ch06s03.html#final_animation
    "Figure 6-38. The final animation").
  prefs: []
  type: TYPE_NORMAL
- en: '![Parameters for the second filter](httpatomoreillycomsourcenostarchimages1454892.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-35. Parameters for the second filter
  prefs: []
  type: TYPE_NORMAL
- en: '![The first animation](httpatomoreillycomsourcenostarchimages1454894.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-36. The first animation
  prefs: []
  type: TYPE_NORMAL
- en: 'You can use the Filter all Layers tool with more than a hundred filters. But
    the tool does have some limitations:'
  prefs: []
  type: TYPE_NORMAL
- en: Although the tool interface lists all the filters, from time to time, we encounter
    a filter that does not work correctly. A filter isn’t working if you don’t see
    the successive dialogs that usually appear. This discrepancy happens because each
    filter must be adapted by the programmer to work with Filter all Layers, and sometimes
    filters are released without the necessary adaptation. If you run into this problem,
    all you can do is be patient and hope for an update. In the meantime, you can
    probably find another, similar filter that does work with the tool.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Although Filter all Layers can be used with a variety of filters, the tool
    itself is fairly straightforward and performs one basic function: It generates
    a smooth transition between the initial image and the filter-transformed image.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Parameters for the second global filter](httpatomoreillycomsourcenostarchimages1454896.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-37. Parameters for the second global filter
  prefs: []
  type: TYPE_NORMAL
- en: '![The final animation](httpatomoreillycomsourcenostarchimages1454898.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-38. The final animation
  prefs: []
  type: TYPE_NORMAL
- en: Morphing
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The next tool is simple to use, but it produces a very interesting effect if
    the parameters are set correctly. The main function of the Morphing tool, found
    in the **Image: Video > Morph > Morph** menu, is to progressively transform a
    given image into another one. Generally, this works best if the images have something
    in common. Note that this tool is also a part of GAP, so you need to install this
    set of plug-ins to use it.'
  prefs: []
  type: TYPE_NORMAL
- en: To demonstrate this tool, we’ll morph one portrait into another. The two portraits
    were taken on the same day and under the same conditions. As [Figure 6-39](ch06s03.html#first_portrait
    "Figure 6-39. The first portrait") and [Figure 6-40](ch06s03.html#second_portrait
    "Figure 6-40. The second portrait") show, these girls are of the same age, both
    are blond with blue eyes, both are wearing black clothes, and both were photographed
    in front of the same background. But their faces, hair and clothing styles, and
    head tilts are different.
  prefs: []
  type: TYPE_NORMAL
- en: '![The first portrait](httpatomoreillycomsourcenostarchimages1454900.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-39. The first portrait
  prefs: []
  type: TYPE_NORMAL
- en: '![The second portrait](httpatomoreillycomsourcenostarchimages1454902.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-40. The second portrait
  prefs: []
  type: TYPE_NORMAL
- en: Open both images as layers in a new image, for example, by dragging the thumbnail
    of one portrait to the Toolbox to create a new image and then dragging the thumbnail
    of the second portrait into the new image you just created. Make the top layer
    semitransparent by adjusting the opacity and then move it slightly to align the
    shoulders and faces of the two girls. Crop the layers so they’re the same size.
    [Figure 6-41](ch06s03.html#portraits_as_layers "Figure 6-41. The portraits as
    layers") shows the result, with the top layer still semitransparent.
  prefs: []
  type: TYPE_NORMAL
- en: '![The portraits as layers](httpatomoreillycomsourcenostarchimages1454904.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-41. The portraits as layers
  prefs: []
  type: TYPE_NORMAL
- en: 'Before you use the Morphing tool, both layers *must* have an alpha channel:
    **Layers: right-click > Add Alpha Channel**. After you add an Alpha channel, the
    layer name is no longer in boldface in the Layers dialog.'
  prefs: []
  type: TYPE_NORMAL
- en: Now select the Morphing tool. Its large dialog has many components, but you
    need to use only a few of them. The purpose of the Morphing tool is to progressively
    transform the source image (which appears on the left side of the dialog) to the
    destination image (which appears on the right side of the dialog). Here the lower
    layer serves as the source, but you may change that if you prefer. Choose images
    of a moderate size, so they appear in the preview windows in a correct scale.
  prefs: []
  type: TYPE_NORMAL
- en: The morphing process uses points placed on the source image and corresponding
    points placed on the destination image. The source image is transformed by the
    animation to move each point, as well as its neighboring pixels, to the position
    of the corresponding point.
  prefs: []
  type: TYPE_NORMAL
- en: First, place *shapepoints* around the border of both images to prevent weird
    deformations of the image frame. Leave the default number, 64, un changed, and
    click the SHAPE button. Now the outlines of the images correspond.
  prefs: []
  type: TYPE_NORMAL
- en: Next we add shapepoints to the source image and move the corresponding points
    on the destination image. Click some characteristic feature in the first image.
    A yellow point appears, and a corresponding yellow point appears on the destination
    image. We add points on the tip of the nose, at the corners of the eyes, around
    the mouth, along the chin and hair, and so on. You can experiment with the Edit
    modes while adding shapepoints. For example, you can move existing shapepoints
    or delete them or zoom in or out to place difficult shapepoints.
  prefs: []
  type: TYPE_NORMAL
- en: After adding the shapepoints, the only parameter we change from its default
    value is the number of steps. This value is the number of layers that will be
    built as intermediate layers between the source and the destination. We recommend
    at least 20 steps—or more if the two images being morphed are very different.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, click OK. The large dialog disappears, and GIMP begins to create the
    new layers. This process may take a while, depending on the size of the images
    and on the number of steps. When GIMP is done, the image is ready to be tested
    with **Image: Filters > Animation > Playback**. We recommend you increase the
    duration of the first and last frames.'
  prefs: []
  type: TYPE_NORMAL
- en: The best results are obtained when the images are fairly similar and the shapepoints
    have been carefully placed. [Figure 6-42](ch06s04.html#frame_7_of_the_animation
    "Figure 6-42. Frame 7 of the animation") and [Figure 6-43](ch06s04.html#frame_14_of_the_animation
    "Figure 6-43. Frame 14 of the animation") show frames 7 and 14 of our 22-frame
    animation, respectively. Because the hair and clothing styles were different,
    the morphing is unnatural for these features, but the faces morphed smoothly.
  prefs: []
  type: TYPE_NORMAL
- en: To finish the animation, optimize for GIF, and then export the image as an animated
    GIF.
  prefs: []
  type: TYPE_NORMAL
- en: 6.4 Using GAP
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The two simple GAP examples demonstrated on [Method Two: Filtering All Layers](ch06s01.html#method_two_filtering_all_layers
    "Method Two: Filtering All Layers") and [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path") are only a brief introduction to this complex
    and powerful plug-in. In fact, GAP isn’t a plug-in at all, but rather a diverse
    collection of animation-related plug-ins. Most, but not all, are found in the
    **Image: Video** menu.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Frame 7 of the animation](httpatomoreillycomsourcenostarchimages1454906.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-42. Frame 7 of the animation
  prefs: []
  type: TYPE_NORMAL
- en: '![Frame 14 of the animation](httpatomoreillycomsourcenostarchimages1454908.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-43. Frame 14 of the animation
  prefs: []
  type: TYPE_NORMAL
- en: 'In this section, we consider only the plug-ins that are found on this menu.
    All of these plug-ins (except the ones in the Morph submenu) deal with multi-image
    animations rather than multilayer animations, which we’ve created in all but one
    of the preceding examples (see [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path")).'
  prefs: []
  type: TYPE_NORMAL
- en: The multi-image format is ideal for building and manipulating large and complex
    animations. It allows you to convert to and from popular video formats like MPEG.
    When necessary, GAP also converts between multi-image and multilayer animation
    formats. All these benefits take this set of plug-ins a long way toward being
    a complete video manipulation tool embedded within GIMP.
  prefs: []
  type: TYPE_NORMAL
- en: The Move Path Tool
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The Move Path tool (**Image: Video > Move Path**) is the main interface for
    GAP. As you learned in [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), you first need to follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Open at least one multilayered or multi-image animation in GIMP. This image
    will serve as the source of the layers you’ll add to your animation; you may choose
    to open several images.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create a new folder to contain the new animation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Place a background image for the new animation in this folder. Call it something
    like *name*`-00001.xcf`.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Open this background image in GIMP, and duplicate it using **Image: Video >
    Duplicate Frames**. The number of copies should equal the desired number of frames.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once you have the source and background files open, select the Move Path tool
    from the animation’s source image.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If you haven’t set up the environment properly before opening the Move Path
    tool, the tool complains and refuses to work. Note that you can use an existing
    multi-image animation as the background, rather than creating one as we’ve done.
    In this case, simply open the source animation (Step 1 ) and then open the background
    animation, and you’re ready to open the Move Path tool.
  prefs: []
  type: TYPE_NORMAL
- en: 'The Move Path tool adds layers from the source image to a sequence of frames
    in the target animation. You define how layers are added to the frames by modifying
    several parameters. Basically, you define *positions* (i.e., relative locations)
    in the target animation; for each position, define these values for the following
    parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: '![The initial landscape](httpatomoreillycomsourcenostarchimages1454910.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-44. The initial landscape
  prefs: []
  type: TYPE_NORMAL
- en: Position
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Orientation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scale in X and Y
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Opacity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Perspective
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If the source image has an active selection, however, you can choose to add
    just the selection to the new animation.
  prefs: []
  type: TYPE_NORMAL
- en: You can use the Move Path tool to build an animation with several scenes by
    building a complex path for the layers in the successive frames and applying changes
    to only a subset of the frames that correspond to a specific scene.
  prefs: []
  type: TYPE_NORMAL
- en: Finally, and this point is important, to add several layers to the target frames,
    apply the Move Path tool multiple times—once for each layer.
  prefs: []
  type: TYPE_NORMAL
- en: We’ll walk you through two new examples to demonstrate some nifty things this
    tool can do.
  prefs: []
  type: TYPE_NORMAL
- en: Binocular Animation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: First, we make an animation that simulates somebody looking at a scene through
    binoculars and moving the binoculars in search of a target. The scene is a village
    surrounded by mountains, as shown in [Figure 6-44](ch06s04.html#initial_landscape
    "Figure 6-44. The initial landscape").
  prefs: []
  type: TYPE_NORMAL
- en: 'We add the binoculars as a new layer that’s completely black except for two
    overlapping circles that are transparent. Here are the steps to create the binoculars:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Adding the binoculars](httpatomoreillycomsourcenostarchimages1454912.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-45. Adding the binoculars
  prefs: []
  type: TYPE_NORMAL
- en: '![Moving the binoculars](httpatomoreillycomsourcenostarchimages1454914.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-46. Moving the binoculars
  prefs: []
  type: TYPE_NORMAL
- en: Create a new transparent layer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Build a circular selection.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Save it to a channel (**Image: Select > Save to Channel**) and then select
    the layer again.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Move the selection a horizontal distance equal to about two-thirds its diameter.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Channels dialog, add the saved channel to the current selection.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the new binocular selection as a channel.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the top layer on the Layers tab, invert the selection, and fill it with
    black.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The result should look like [Figure 6-45](ch06s04.html#adding_the_binoculars
    "Figure 6-45. Adding the binoculars").
  prefs: []
  type: TYPE_NORMAL
- en: In our animation, we move the binoculars around the landscape. But both layers
    are currently the same size, so as the binoculars move, the black won’t fully
    cover the background, resulting in something like [Figure 6-46](ch06s04.html#moving_the_binoculars
    "Figure 6-46. Moving the binoculars"). To avoid this, we need to enlarge the top
    layer to cover the landscape.
  prefs: []
  type: TYPE_NORMAL
- en: '![Enlarging the upper layer](httpatomoreillycomsourcenostarchimages1454916.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-47. Enlarging the upper layer
  prefs: []
  type: TYPE_NORMAL
- en: 'Select **Image: Layer > Layer Boundary Size**, increase the size in both directions,
    and center the canvas around the enlarged layer, as shown in [Figure 6-47](ch06s04.html#enlarging_the_upper_layer
    "Figure 6-47. Enlarging the upper layer"). Then make this entire layer black,
    except for the binocular window. Because this layer is now larger than the canvas,
    this step is somewhat tricky. Here’s one way to do it:'
  prefs: []
  type: TYPE_NORMAL
- en: Save the binocular selection in a channel, if you haven’t already, and then
    return to the layer and cancel the selection.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Select **Image: Image > Fit Canvas to Layers**.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Fill the layer with the foreground color (![](httpatomoreillycomsourcenostarchimages1454534.png.jpg)).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Restore the selection saved in a channel, return to the layer, and clear the
    selection contents (![](httpatomoreillycomsourcenostarchimages1454482.png.jpg)).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Cancel the selection.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Because we enlarged the image, we need to crop it at the end of the process.
  prefs: []
  type: TYPE_NORMAL
- en: Now create a new folder for the animation; call it `Binoculars`. Drag the background
    layer thumbnail from the Layers dialog to the Toolbox, and save the image as `bin-0001.xcf`
    in the new folder `Binoculars`.
  prefs: []
  type: TYPE_NORMAL
- en: 'Duplicate this frame 59 times, using **Image: Video > Duplicate Frames**. The
    animation now has 60 frames. We use a path to move the binoculars around the landscape.
    Choose the Path tool in the Toolbox (![](httpatomoreillycomsourcenostarchimages1454490.png.jpg))
    and click to add points to the background image you just saved, as shown in [Figure 6-48](ch06s04.html#binocular_path_across_the_landscape
    "Figure 6-48. The binocular path across the landscape").'
  prefs: []
  type: TYPE_NORMAL
- en: '![The binocular path across the landscape](httpatomoreillycomsourcenostarchimages1454918.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-48. The binocular path across the landscape
  prefs: []
  type: TYPE_NORMAL
- en: '![Importing the path as a sequence of controlpoints](httpatomoreillycomsourcenostarchimages1454920.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-49. Importing the path as a sequence of controlpoints
  prefs: []
  type: TYPE_NORMAL
- en: 'Select the Move Path tool (**Image: Video > Move Path. . .** ). In the dialog,
    check that the selected layer is the top layer of the source image, which appears
    mostly black in the thumbnail. Choose None for the STEPMODE and Center for the
    HANDLE.'
  prefs: []
  type: TYPE_NORMAL
- en: Click the GRAB PATH button in the EDIT CONTROLPOINTS area of the dialog to import
    the path we just built as a sequence of control-points, which are equally placed
    across the 60 frames. Then the dialog should look similar to [Figure 6-49](ch06s04.html#importing_the_path_as_a_sequence_of_cont
    "Figure 6-49. Importing the path as a sequence of controlpoints").
  prefs: []
  type: TYPE_NORMAL
- en: The GAP plug-ins lack the capability to undo, so check the animation you just
    built by clicking ANIM PREVIEW. If everything is correct, click OK to generate
    the final animation. Discard the multilayer image that was created for the preview.
  prefs: []
  type: TYPE_NORMAL
- en: Improving the Binocular Animation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Although it did serve as a basic introduction to using paths with the Move Path
    tool, the animation we just created isn’t very realistic. If you are looking through
    binoculars, it’s the landscape that appears to be moving, not you.
  prefs: []
  type: TYPE_NORMAL
- en: 'If you closed it, open the binocular animation that you just made. Create a
    new folder for the next version of the animation and then create a new blank image
    that’s much smaller than the landscape in the source image. For this example,
    we create a 521 × 338 image, and our landscape image is 1042*×*676\. Save this
    image into the new folder with name `bin-0001.xcf`, and duplicate it 59 times
    with **Image: Video > Duplicate Frames**.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the Move Path tool dialog (**Image: Video > Move Path**). Choose the landscape
    layer of the previous animation as the source layer (top left of the dialog),
    None for STEPMODE (below SOURCE IMAGE/LAYER), and Center for HANDLE (to the right
    of STEPMODE), and check INSTANT APPLY at the bottom of the dialog. This time,
    let’s build the path within the Move Path tool dialog by clicking in the preview
    to place points. Click ADD POINT and then click in the preview to add a new point.
    If you click close to an existing point in the preview, you end up moving that
    point rather than adding a new one, so click the last point and drag it to add
    a new one instead. Note that the source image moves around as you place the points.
    Our result is shown in [Figure 6-50](ch06s04.html#creating_the_path_by_hand "Figure 6-50. Creating
    the path by hand").'
  prefs: []
  type: TYPE_NORMAL
- en: 'Before finalizing this animation, check the CLIP TO FRAME checkbox and then
    click OK. GIMP processes for a while as it builds the first part of the animation,
    with the landscape moving in the smaller image. You can test the result by selecting
    **Image: Video > Playback**.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating the path by hand](httpatomoreillycomsourcenostarchimages1454922.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-50. Creating the path by hand
  prefs: []
  type: TYPE_NORMAL
- en: '![Placing the second layer](httpatomoreillycomsourcenostarchimages1454924.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-51. Placing the second layer
  prefs: []
  type: TYPE_NORMAL
- en: Now place the binoculars above these landscape frames. Use a layer mask. Add
    the mask as a new layer to all the frames with the Move Path tool again. [Figure 6-51](ch06s04.html#placing_the_second_layer
    "Figure 6-51. Placing the second layer") shows the settings we used. The binocular
    layer is chosen as source layer and placed in the center of the image.
  prefs: []
  type: TYPE_NORMAL
- en: 'Simply click OK to get the new animation. Each frame contains three layers—from
    top to bottom: the binocular image, the landscape, and a white background. We
    want to merge the topmost layer with the background and use the resulting layer
    as a mask for the landscape layer. This reduces the number of layers and demonstrates
    the **Image: Video > Frames Modify** tool at the same time.'
  prefs: []
  type: TYPE_NORMAL
- en: '![Lowering the topmost layer](httpatomoreillycomsourcenostarchimages1454926.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-52. Lowering the topmost layer
  prefs: []
  type: TYPE_NORMAL
- en: '![Merging the two bottom layers](httpatomoreillycomsourcenostarchimages1454928.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-53. Merging the two bottom layers
  prefs: []
  type: TYPE_NORMAL
- en: The Frames Modify tool is handy for modifying a set of layers across all the
    frames in a multi-image animation. The dialog appears in [Figure 6-52](ch06s04.html#lowering_the_topmost_layer
    "Figure 6-52. Lowering the topmost layer"), showing our first selections. Click
    the FUNCTION menu (at the top of the dialog) and select LAYER STACKPOSITION >LOWER
    LAYER(S). Leave PATTERN IS A LIST OF LAYER STACK NUMBERS checked, and enter 0
    for LAYER PATTERN. Click OK.
  prefs: []
  type: TYPE_NORMAL
- en: '![Using the bottom layer as a layer mask](httpatomoreillycomsourcenostarchimages1454930.png.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 6-54. Using the bottom layer as a layer mask
  prefs: []
  type: TYPE_NORMAL
- en: Next we merge the two bottom layers. Select the Modify Frames tool again, and
    this time choose the settings shown in [Figure 6-53](ch06s04.html#merging_the_two_bottom_layers
    "Figure 6-53. Merging the two bottom layers"). Because the layers are numbered
    from top to bottom beginning at 0, the layer pattern is “1 2.” The resulting composite
    layer is named `Background`.
  prefs: []
  type: TYPE_NORMAL
- en: The final step is shown in [Figure 6-54](ch06s04.html#using_the_bottom_layer_as_a_layer_mask
    "Figure 6-54. Using the bottom layer as a layer mask"). The bottom layer acts
    as a mask for the landscape layer.
  prefs: []
  type: TYPE_NORMAL
- en: 6.5 Exercises
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Exercise 6.1.** You know those exasperating advertisements that flash tirelessly
    on some web pages? Build one in which the logo progressively fades in and out.
    Do it entirely by hand.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.2.** Make the same flashing logo as in the preceding exercise,
    but this time use the Filter all Layers tool.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.3.** If you have two multilayer animations with the same background,
    creating an animation that combines all these layers is easy. Use this idea to
    build an animation in which the logo first appears progressively from the background
    and then flashes in the foreground. You can do it by hand or by using the Filter
    all Layers tool.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.4.** Use the IWarp tool to animate a photographic portrait. You
    can get an aesthetic result, but more likely you’ll get a funny result. So use
    the tool on the portrait of somebody you know extremely well, for example, yourself.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.5.** Use the Morphing tool to build an animation in which a logo
    progressively changes to another one. Both logos should be the same size.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.6.** Use the Move Path tool to build an animation in which a logo
    moves horizontally across the background.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.7.** You can use the Move Path tool to add successive layers from
    a multilayer animation to an animation that you’re building, in effect merging
    the contents of two different animations using LOOP as a Stepmode. Use this idea
    to create a logo that moves horizontally while flashing.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Exercise 6.8.** Re-create the animation from the third exercise in this chapter,
    [Method Three: Moving Along a Path](ch06s01.html#method_three_moving_along_a_path
    "Method Three: Moving Along a Path"), but this time use the tools found in the
    **Image: Video** menu. First, you must build the two multilayer animations, using
    the Filter all Layers tool, and then convert these animations from multilayer
    to multi-image. Edit them to produce the final animation.'
  prefs: []
  type: TYPE_NORMAL
