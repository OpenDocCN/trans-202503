["```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      var curBubble;\n      var board;\n      var numBubbles;\n      var bubbles = [];\n      var MAX_BUBBLES = 70;\n➊    **var POINTS_PER_BUBBLE = 50;**\n➋    **var level = 0;**\n➌    **var score = 0;**\n➍    **var highScore = 0;**\n      var requestAnimationID;\n      this.init = function(){\n        --*snip*--\n      };\n      var startGame = function(){\n        $(\".but_start_game\").unbind(\"click\");\n        BubbleShoot.ui.hideDialog();\n➎      numBubbles = MAX_BUBBLES **- level * 5;**\n        board = new BubbleShoot.Board();\n        bubbles = board.getBubbles();\n        if(BubbleShoot.Renderer)\n        {\n          if(!requestAnimationID)\n            requestAnimationID = setTimeout(renderFrame,40);\n        }else{\n          BubbleShoot.ui.drawBoard(board);\n        };\n        curBubble = getNextBubble();\n        $(\"#game\").bind(\"click\",clickGameScreen);\n      };\n      --*snip*--\n    };\n    return Game;\n  })(jQuery);\n```", "```\n  <!DOCTYPE HTML>\n  <html lang=\"en-US\">\n  <head>\n    --*snip*--\n  </head>\n  <body>\n  <div id=\"page\">\n    <div id=\"top_bar\">\n➊    **<div id=\"top_level_box\" class=\"top_bar_box\">**\n        **<div id=\"top_level_label\">Level:</div>**\n        **<div id=\"level\">1</div>**\n      **</div>**\n➋    **<div class=\"top_bar_box\">**\n        **<div id=\"top_score_label\">Score:</div>**\n        **<div id=\"score\">0</div>**\n      **</div>**\n➌    **<div class=\"top_bar_box\">**\n        **<div id=\"top_score_label\">High Score:</div>**\n        **<div id=\"high_score\">0</div>**\n      **</div>**\n    </div>\n    --*snip*--\n  </div>\n  </body>\n  </html>\n```", "```\n  body\n  {\n    margin: 0;\n  }\n  #page\n  {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 1000px;\n    height: 738px;\n  }\n    #top_bar\n    {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 1000px;\n      height: 70px;\n      background-color: #369;\n      color: #fff;\n    }\n➊    **.top_bar_box**\n      **{**\n        **font-size: 24px;**\n        **line-height: 60px;**\n        **float: left;**\n        **margin-left:20px;**\n        **width: 250px;**\n      **}**\n➋      **.top_bar_box div**\n        **{**\n          **float: left;**\n          **margin-right: 20px;**\n        **}**\n  --*snip*--\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.ui = (function($){\n    --*snip*--\n    var ui = {\n      --*snip*--\n➊    **drawScore : function(score){**\n        **$(\"#score\").text(score);**\n      **},**\n➋    **drawHighScore : function(highScore){**\n        **$(\"#high_score\").text(highScore);**\n      **},**\n➌    **drawLevel : function(level){**\n        **$(\"#level\").text(level+1);**\n      **}**\n    };\n    --*snip*--\n    return ui;\n  } )(jQuery);\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      --*snip*--\n      var startGame = function(){\n        $(\".but_start_game\").unbind(\"click\");\n        BubbleShoot.ui.hideDialog();\n        numBubbles = MAX_BUBBLES;\n        board = new BubbleShoot.Board();\n        bubbles = board.getBubbles();\n        if(BubbleShoot.Renderer)\n        {\n          if(!requestAnimationID)\n            requestAnimationID = setTimeout(renderFrame,40);\n        }else{\n          BubbleShoot.ui.drawBoard(board);\n        };\n        curBubble = getNextBubble();\n        $(\"#game\").bind(\"click\",clickGameScreen);\n➊      **BubbleShoot.ui.drawScore(score);**\n        **BubbleShoot.ui.drawLevel(level);**\n      };\n      var clickGameScreen = function(e){\n        var angle = BubbleShoot.ui.getBubbleAngle(curBubble.getSprite(),e,board.\n          calculateTop());\n        var duration = 750;\n        var distance = 1000;\n        var collision = BubbleShoot.CollisionDetector.findIntersection(curBubble,\n          board,angle);\n        if(collision){\n          var coords = collision.coords;\n          duration = Math.round(duration * collision.distToCollision / distance);\n          board.addBubble(curBubble,coords);\n          var group = board.getGroup(curBubble,{});\n          if(group.list.length >= 3){\n            popBubbles(group.list,duration);\n            var orphans = board.findOrphans();\n            var delay = duration + 200 + 30 * group.list.length;\n            dropBubbles(orphans,delay);\n➋          **var popped = [].concat(group.list,orphans);**\n➌          **var points = popped.length * POINTS_PER_BUBBLE;**\n➍          **score += points;**\n➎          **setTimeout(function(){**\n              **BubbleShoot.ui.drawScore(score);**\n            **},delay);**\n          };\n        }else{\n          --*snip*--\n        };\n        --*snip*--\n      };\n      --*snip*--\n    };\n    return Game;\n  })(jQuery);\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      --*snip*--\n      var clickGameScreen = function(e){\n        --*snip*--\n        BubbleShoot.ui.fireBubble(curBubble,coords,duration);\n➊      **if(numBubbles == 0){**\n          **endGame(false);**\n➋      **}else if(board.isEmpty()){**\n          **endGame(true);**\n➌      **}else{**\n          curBubble = getNextBubble(board);\n        **}**\n      };\n      --*snip*--\n    };\n    return Game;\n  })(jQuery);\n```", "```\nvar BubbleShoot = window.BubbleShoot || {};\nBubbleShoot.Board = (function($){\n  var NUM_ROWS = 9;\n  var NUM_COLS = 32;\n  var Board = function(){\n    var that = this;\n    --*snip*--\n    **this.isEmpty = function(){**\n      **return this.getBubbles().length == 0;**\n    **};**\n    return this;\n  };\n  --*snip*--\n  return Board;\n})(jQuery);\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n    var curBubble;\n    var board;\n    var numBubbles;\n    var bubbles = [];\n    var MAX_BUBBLES = 70;\n    var POINTS_PER_BUBBLE = 50;\n➊  **var MAX_ROWS = 11;**\n      --*snip*--\n      var clickGameScreen = function(e){\n        --*snip*--\n        BubbleShoot.ui.fireBubble(curBubble,coords,duration);\n➋      **if(board.getRows().length > MAX_ROWS){**\n          **endGame(false);**\n        **}else** if(numBubbles == 0){\n          endGame(false);\n        }else if(board.isEmpty()){\n          endGame(true);\n        }else{\n          curBubble = getNextBubble(board);\n        }\n      };\n      --*snip*--\n    };\n    return Game;\n  })(jQuery);\n```", "```\n  <!DOCTYPE HTML>\n  <html lang=\"en-US\">\n  <head>\n    --*snip*--\n  </head>\n  <body>\n  <div id=\"page\">\n    --*snip*--\n    <div id=\"start_game\" class=\"dialog\">\n      <div id=\"start_game_message\">\n        <h2>Start a new game</h2>\n      </div>\n      <div class=\"but_start_game button\">\n        New Game\n      </div>\n    </div>\n➊  **<div id=\"end_game\" class=\"dialog\">**\n      **<div id=\"end_game_message\">**\n        **<h2>Game Over</h2>**\n➋      **<div id=\"final_score\">**\n          **<span>Final Score:</span>**\n          **<span id=\"final_score_value\"></span>**\n        **</div>**\n➌      **<div id=\"new_high_score\">New High Score!</div>**\n➍      **<div id=\"level_failed\" class=\"level_failed\">Level Failed!</div>**\n➎      **<div id=\"level_complete\" class=\"level_complete\">Level Complete!</div>**\n      **</div>**\n➏    **<div class=\"but_start_game button\">**\n➐      **<span class=\"level_complete\">Next Level</span>**\n➑      **<span class=\"level_failed\">New Game</span>**\n      **</div>**\n    **</div>**\n  </div>\n  </body>\n  </html>\n```", "```\n$(\".level_failed\").hide();\n```", "```\n#final_score\n{\n  margin: 26px 0;\n}\n  #end_game_message span\n  {\n    margin-right: 20px;\n    font-size: 24px;\n  }\n  #level_complete,#level_failed,#new_high_score\n  {\n    font-size: 36px;\n    color: #fff;\n  }\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      --*snip*--\n      var renderFrame = function(){\n        --*snip*--\n      };\n      **var endGame = function(hasWon){**\n➊      **if(score > highScore){**\n➋       **highScore = score;**\n➌       **$(\"#new_high_score\").show();**\n➍       **BubbleShoot.ui.drawHighScore(highScore);**\n        **}else{**\n➎        **$(\"#new_high_score\").hide();**\n        **};**\n➏      **if(hasWon){**\n          **level++;**\n➐     **}else{**\n          **score = 0;**\n          **level = 0;**\n        **};**\n➑      **$(\".but_start_game\").click(\"click\",startGame);**\n➒      **$(\"#board .bubble\").remove();**\n        **BubbleShoot.ui.endGame(hasWon,score);**\n      **};**\n    };\n    return Game;\n  })(jQuery);\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.ui = (function($){\n    --*snip*--\n    var ui = {\n      --*snip*--\n      **endGame : function(hasWon,score){**\n➊      **$(\"#game\").unbind(\"click\");**\n➋      **BubbleShoot.ui.drawBubblesRemaining(0);**\n➌      **if(hasWon){**\n          **$(\".level_complete\").show();**\n          **$(\".level_failed\").hide();**\n        **}else{**\n          **$(\".level_complete\").hide();**\n          **$(\".level_failed\").show();**\n        **};**\n➍      **$(\"#end_game\").fadeIn(500);**\n        **$(\"#final_score_value\").text(score);**\n      **}**\n    };\n    --*snip*--\n    return ui;\n  } )(jQuery);\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      --*snip*--\n      var clickGameScreen = function(e){\n        --*snip*--\n        if(collision){\n          var coords = collision.coords;\n          duration = Math.round(duration * collision.distToCollision /\n            distance);\n          board.addBubble(curBubble,coords);\n          var group = board.getGroup(curBubble,{});\n          if(group.list.length >= 3){\n            popBubbles(group.list,duration);\n➊          **var topRow = board.getRows()[0];**\n➋          **var topRowBubbles = [];**\n            **for(var i=0;i<topRow.length;i++){**\n              **if(topRow[i])**\n                **topRowBubbles.push(topRow[i]);**\n            **};**\n➌          **if(topRowBubbles.length <= 5){**\n➍            **popBubbles(topRowBubbles,duration);**\n➎            **group.list.concat(topRowBubbles);**\n            **};**\n            var orphans = board.findOrphans();\n            var delay = duration + 200 + 30 * group.list.length;\n            dropBubbles(orphans,delay);\n➏          var popped = [].concat(group.list,orphans);\n            var points = popped.length * POINTS_PER_BUBBLE;\n            score += points;\n            setTimeout(function(){\n              BubbleShoot.ui.drawScore(score);\n            },delay);\n          };\n        }else{\n          --*snip*--\n        };\n        --*snip*--\n      };\n      --*snip*--\n    };\n    return Game;\n  })(jQuery);\n```", "```\nlocalStorage.setItem(key,value);\n```", "```\nvar value = localStorage.getItem(key);\n```", "```\nlocalStorage.setItem(\"high_score\",highScore);\nlocalStorage.setItem(\"level\",level);\n```", "```\nvar gameData = {high_score : highScore, level : level};\nlocalStorage.setItem(\"bubbleshoot_data\",JSON.stringify(gameData));\n```", "```\nvar gameData = JSON.parse(localStorage.getItem(\"bubbleshoot_data\"));\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n    BubbleShoot.Game = (function($){\n    var Game = function(){\n      --*snip*--\n      this.init = function(){\n        if(BubbleShoot.Renderer){\n          BubbleShoot.Renderer.init(function(){\n            $(\".but_start_game\").click(\"click\",startGame);\n          });\n        }else{\n          $(\".but_start_game\").click(\"click\",startGame);\n        };\n➊      **if(window.localStorage && localStorage.getItem(\"high_score\")){**\n➋        **highScore = parseInt(localStorage.getItem(\"high_score\"));**\n        **}**\n➌      **BubbleShoot.ui.drawHighScore(highScore);**\n      };\n      --*snip*--\n      var endGame = function(hasWon){\n        if(score > highScore){\n          highScore = score;\n          $(\"#new_high_score\").show();\n          BubbleShoot.ui.drawHighScore(highScore);\n➍        **if(window.localStorage){**\n➎          **localStorage.setItem(\"high_score\",highScore);**\n          **}**\n        }else{\n          $(\"#new_high_score\").hide();\n        };\n        if(hasWon){\n          level++;\n        }else{\n          score = 0;\n          level = 0;\n        };\n        $(\".but_start_game\").click(\"click\",startGame);\n        $(\"#board .bubble\").remove();\n        BubbleShoot.ui.endGame(hasWon,score);\n      };\n    };\n    return Game;\n  })(jQuery);\n```", "```\nsetTimeout(moveAll,40);\n```", "```\nvar BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.Game = (function($){\n  var Game = function(){\n    --*snip*--\n  };\n  **window.requestAnimationFrame = Modernizr.prefixed(\"requestAnimationFrame\",**\n    **window) || function(callback){**\n    **window.setTimeout(function(){**\n      **callback();**\n    **}, 40);**\n  **};**\n  return Game;\n})(jQuery);\n```", "```\nvar BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.Game = (function($){\n  var Game = function(){\n    --*snip*--\n    var startGame = function(){\n      --*snip*--\n      if(BubbleShoot.Renderer)\n      {\n        if(!requestAnimationID)\n          requestAnimationID = **requestAnimationFrame(renderFrame);**\n      }else{\n        BubbleShoot.ui.drawBoard(board);\n      };\n      --*snip*--\n    };\n    --*snip*--\n  var renderFrame = function(){\n    $.each(bubbles,function(){\n      if(this.getSprite().updateFrame)\n        this.getSprite().updateFrame();\n    });\n      BubbleShoot.Renderer.render(bubbles,board.calculateTop());\n      requestAnimationID = **requestAnimationFrame(renderFrame);**\n    };\n    --*snip*--\n  };\n  --*snip*--\n  return Game;\n})(jQuery);\n```", "```\n  (function(jQuery){\n    var defaults = {\n      gravity : 1.3,\n      maxY : 800\n    };\n    var toMove = [];\n➊  **var prevTime;**\n    var moveAll = function(){\n➋    **var newTime = Date.now();**\n➌    **var elapsed = newTime - prevTime;**\n➍    **var frameProportion = elapsed / 25;**\n➎    **prevTime = newTime;**\n      var stillToMove = [];\n      for(var i=0;i<toMove.length;i++){\n        var obj = toMove[i];\n        obj.x += obj.dx * frameProportion;\n        obj.y -= obj.dy * frameProportion;\n        obj.dy -= obj.config.gravity * frameProportion;\n        if(obj.y < obj.config.maxY){\n          obj.elm.css({\n            top : Math.round(obj.y),\n            left : Math.round(obj.x)\n          });\n          stillToMove.push(obj);\n        }else if(obj.config.callback){\n          obj.config.callback();\n        }\n      };\n      toMove = stillToMove;\n      if(toMove.length > 0)\n➏      **requestAnimationFrame(moveAll);**\n    };\n    jQuery.fn.kaboom = function(settings)\n  {\n    var elm = this;\n    var config = $.extend({}, defaults, settings);\n    if(toMove.length == 0){\n      **prevTime = Date.now();**\n➐    **requestAnimationFrame(moveAll);**\n    };\n    var dx = Math.round(Math.random() * 10) - 5;\n    var dy = Math.round(Math.random() * 5) + 5;\n    toMove.push({\n      elm : this,\n      dx : dx,\n      dy : dy,\n      x : this.position().left,\n      y : this.position().top,\n      config : config\n    });\n  };\n})(jQuery);\n```", "```\n<audio src=\"sounds.mp3\" autoplay></autoplay>\n```", "```\nvar sound = new Audio(\"sounds.mp3\");\nsound.play();\n```", "```\nsound.stop()\n```", "```\nvar sound1 = new Audio(\"sounds.mp3\");\nvar sound2 = new Audio(\"sounds.mp3\");\nsound1.play();\nsound2.play();\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.Sounds = (function(){\n➊  var soundObjects = [];\n➋  for(var i=0;i<10;i++){\n      soundObjects.push(new Audio());\n    }\n➌  var curSoundNum = 0;\n➍  var Sounds = {\n➎    play : function(url,volume){\n        if(Modernizr.audio){\n➏        var sound = soundObjects[curSoundNum];\n➐        sound.src = url;\n➑        sound.volume = volume;\n➒        sound.play();\n➓        curSoundNum++\n          if(curSoundNum >= soundObjects.length){\n            curSoundNum = curSoundNum % soundObjects.length;\n          }\n        }\n      }\n    };\n    return Sounds;\n  })();\n```", "```\n  var BubbleShoot = window.BubbleShoot || {};\n  BubbleShoot.Game = (function($){\n    var popBubbles = function(bubbles,delay){\n      $.each(bubbles,function(){\n          var bubble = this;\n          setTimeout(function(){\n            bubble.setState(BubbleShoot.BubbleState.POPPING);\n            bubble.animatePop();\n            setTimeout(function(){\n              bubble.setState(BubbleShoot.BubbleState.POPPED);\n            },200);\n➊          **BubbleShoot.Sounds.play(\"_mp3/pop.mp3\"**➋**,Math.random()*.5 + .5**➌**);**\n          },delay);\n          board.popBubbleAt(bubble.getRow(),bubble.getCol());\n          setTimeout(function(){\n            bubble.getSprite().remove();\n          },delay + 200);\n          delay += 60;\n        });\n      };\n      --*snip*--\n    };\n    --*snip*--\n    return Game;\n  })(jQuery);\n```"]