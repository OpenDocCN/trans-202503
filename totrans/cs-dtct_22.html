<html><head></head><body>
<h2 class="h2" id="ch23"><span epub:type="pagebreak" id="page_183"/>—23—<br/>Best-First Search: A Detective’s Most Trusted Tool</h2>&#13;
<p class="noindent">Captain Donovan’s office hadn’t changed much in the last five years. The same desk sat in the center of the room, its surface clear aside from four baskets labeled “In,” “Out,” “To File,” and “To Burn.” A handful of new commendations adorned the wall, in addition to the large number Frank already recognized. Only the family pictures—charcoal sketches of the captain’s two kids and a family portrait—gave any indication of the passage of time.</p>&#13;
<p class="indent">“Have a seat, Frank,” said the captain without looking up from his paperwork.</p>&#13;
<p class="indent">Frank looked at the chairs in front of the captain’s desk and thought back to the last time he’d sat in this office—his last day as a cop. He’d finally assembled enough evidence to go after Rebecca Vinettee yet again, even if some of his methods <em>had</em> bordered on dangerously randomized. The captain hadn’t seen it the same way, though. His focus has been on Frank’s blatant disregard for protocol rather than the new evidence. Pushing back the memory, Frank slumped into the right-hand chair and waited.</p>&#13;
<p class="indent">Finally, the captain signed the form, placed it in the “Out” basket, and met Frank’s stare. “What’ve you found?”</p>&#13;
<p class="indent">“It’s much bigger than a few missing files,” Frank replied.</p>&#13;
<div class="image"><span epub:type="pagebreak" id="page_184"/><img src="../images/f0184-01.jpg" alt="image"/></div>&#13;
<p class="indent">The captain looked unsurprised. “How big?”</p>&#13;
<p class="indent">Frank had spent the last hour playing out different versions of this meeting, weighing possible approaches. Ultimately he had decided to play to his strengths—and tact wasn’t one of them.</p>&#13;
<p class="indent">“Why don’t you start by telling me what you know?” said Frank. “What you really know, that is. No more lies. No more omissions.”</p>&#13;
<p class="indent">The captain looked unfazed. “I never lied to you, Frank,” he said. “I told you everything I knew when I came to see you.” Frank started to object, but the captain held up his hand. “However, there have been additional developments since we spoke,” he continued. “The most recent news reached me this morning.”</p>&#13;
<p class="indent">“The other thefts?” asked Frank.</p>&#13;
<p class="indent">“Among other things,” the captain said.</p>&#13;
<p class="indent">The captain leafed through his “Out” basket, retrieved a envelope labeled “Deliver to Frank Runtime,” and handed it to Frank. “Here,” he said. “We can save a runner the trip.”</p>&#13;
<p class="indent">Frank opened the envelope and skimmed the papers. He found four incident reports—three detailing thefts at other police stations and a fourth detailing the attack on the military convoy. He’d known about the incidents, but the details took him by surprise.</p>&#13;
<p class="indent">“The Spell of Accelerated Rotting?” he asked.</p>&#13;
<p class="indent">“We called in wizards to confirm,” said the captain. “The thieves rotted doors to the record rooms and pushed through.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_185"/>“And the convoy?”</p>&#13;
<p class="indent">“Rotten crossbows,” said the captain. “And one of the cart wheels—back left, I think. It should be in the report.”</p>&#13;
<p class="indent">“What about the swords? The axes?”</p>&#13;
<p class="indent">“You never did bother to read the reports. The thieves also used the Spell of Accelerated Rusting. It’s not particularly advanced magic, but it is effective.”</p>&#13;
<p class="indent">“It doesn’t say what they stole,” Frank noted. “No mention of the mask.”</p>&#13;
<p class="indent">The captain raised his eyebrows. “You know about the mask? That’s highly classified.”</p>&#13;
<p class="indent">Frank shrugged. “You’re paying me to find information,” he said, leaving out the fact that Socks had let this information slip only by accident. It never paid to let your clients know how much of your success was due to other people’s stupidity.</p>&#13;
<p class="indent">“It’s worrying, Frank,” said the captain. “That’s a powerful artifact. Add in the anonymous tip we received about a possible attack on the castle, and the whole force is on alert. We’ve had to pull people off other posts to step up security.”</p>&#13;
<p class="indent">“I’ve heard the same thing about the castle,” Frank admitted. He flipped through the documents once more. “No leads on the attackers?”</p>&#13;
<p class="indent">“We’ve heard some rumors, but nothing solid. At least nothing firm enough to put in a report.”</p>&#13;
<p class="indent">“What about your officers?” asked Frank. “Do you have any suspects there?”</p>&#13;
<p class="indent">The captain studied him before responding. Frank knew the captain would never have come to him if he didn’t suspect an inside job. But there was a substantial gap between a general flicker of suspicion and a short list of names.</p>&#13;
<p class="indent">“No,” said the captain. “I haven’t found anything yet. There’s no common thread running through the thefts. Different stations. Different officers on duty. Even different departments.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_186"/>Frank nodded silently while he turned the thefts over in his mind. He had hit the same dead end with the internal transfers. There had been at least one new transfer on duty for each incident, but never the same officer twice. Frank had briefly considered the possibility of a broad conspiracy throughout the entire rookie class, but discarded it immediately. Anyone capable of coordinating such a massive betrayal would likely have been able to orchestrate more subtle thefts, at least something that didn’t involve alerting every station within a hundred miles.</p>&#13;
<p class="indent">“And Officer Notation?” Frank asked.</p>&#13;
<p class="indent">The captain looked genuinely taken aback. “What about her?”</p>&#13;
<p class="indent">“Is she on your list?” asked Frank.</p>&#13;
<p class="indent">“She was on duty that night, so she’s on my list,” he said. “But she’s near the bottom. Notation’s a good kid. She’s green, but she’s dedicated to the force.”</p>&#13;
<p class="indent">“Did you know she’s been investigating the theft herself?”</p>&#13;
<p class="indent">The captain frowned. “I suppose it shouldn’t surprise me. As I said, she’s dedicated. Where did you run into her?”</p>&#13;
<p class="indent">“Crannock’s farm,” said Frank. “She tagged along for a while after that.”</p>&#13;
<p class="indent">“Did she now? And?”</p>&#13;
<p class="indent">“I don’t trust her,” said Frank.</p>&#13;
<p class="indent">“You don’t trust anyone, Frank.”</p>&#13;
<p class="indent">Frank sighed. “It’s more than that,” he said. “Just let me know if you notice anything strange.”</p>&#13;
<p class="indent">“What about you?” prompted the captain. “What have you found?”</p>&#13;
<p class="indent">Frank proceeded to give him a quick summary. He told the captain how he had followed a tip to Crannock’s farm and picked up a trail of clues that led him to Usb, the Vinettees ship, and Rebecca Vinettee.</p>&#13;
<p class="indent">At this news, the captain interrupted him with a chuckle. “Another run-in with the Vinettees, Frank? Rebecca too. I’m <span epub:type="pagebreak" id="page_187"/>surprised you’re still walking around. How many of them have you put behind bars?”</p>&#13;
<p class="indent">“Not enough,” Frank said.</p>&#13;
<p class="indent">“Fair,” conceded the captain. “How’d you get out of there?”</p>&#13;
<p class="indent">“A wizard showed up and started flinging barrels of pickled eels,” Frank said as though this were a perfectly normal occurrence.</p>&#13;
<p class="indent">The captain gaped at him. “What?”</p>&#13;
<p class="indent">“A junior wizard by the name of Socks,” Frank explained. “He’s an apprentice to a wizard named Gretchen. Apparently the king brought in a few senior wizards to help with the case.”</p>&#13;
<p class="indent">“I can’t say that I’ve ever heard of Gretchen, but it doesn’t surprise me that the king brought the wizards in,” said the captain. “After the attack on the convoy, the king has mobilized everyone he can. Even Princess Ann is returning from her latest quest. She arrives back at the castle tomorrow.”</p>&#13;
<p class="indent">That single sentence spoke volumes as to the severity of the situation. Princess Ann was almost constantly away leading missions, quests, or critical negotiations. For her to return, the situation must be bad.</p>&#13;
<p class="indent">“Princess Ann is coming back?” asked Frank.</p>&#13;
<p class="indent">“She thinks this recent attack might be related to the League of Unnecessary Complexity.”</p>&#13;
<p class="indent">“The League of Unnecessary Complexity?”</p>&#13;
<p class="indent">“It all comes back to the evil wizard, Exponentious,” explained the captain. “You know, the one who tried to destroy the kingdom.”</p>&#13;
<p class="indent">Frank nodded. He clearly remembered the terror that had swept through the kingdom when Exponentious attacked. These days, the tale of his campaign was told in hushed voices around the campfire to scare junior wizards and knights.</p>&#13;
<p class="indent">The captain continued, “He’s been safely locked away in the royal prison since then, but Princess Ann is worried that he wasn’t acting alone. That maybe he had followers, accomplices, admirers, something like that. She’s been tracking clues about this mysterious new <span epub:type="pagebreak" id="page_188"/>league of wizards apparently bent on destroying the kingdom. So far they’ve been staying in the shadows, conducting only small attacks. But the royal family is worried.”</p>&#13;
<p class="indent">Frank stared blankly at the captain. Could this be the same league mentioned by the Vinettee thug on the <em>Retry Loop</em>? If so, what had he gotten himself into? Then another thought struck him.</p>&#13;
<p class="indent">“The attack on the castle! Could it have anything to do with Princess Ann’s return?” Frank asked. “If she’s been out hunting this League of Unnecessary Complexity, they could be looking to strike back.”</p>&#13;
<p class="indent">“We’ve thought about that,” agreed the captain. “We’ll be pulling another hundred officers into guard duty when she returns. It’ll leave the armory, prison, and police stations low. But we can’t take a chance.”</p>&#13;
<p class="indent">“What about the mask? Someone could use that to infiltrate the guards.”</p>&#13;
<p class="indent">“Yes, it’s a perfect opportunity to sneak into the castle,” the captain acknowledged. “Even without the mask, adding a hundred new guards makes it almost impossible to recognize everyone. But we’re taking precautions. The royal wizard Marcus created magic identification badges for the castle guards. They are almost impossible to fake, and they flash bright red if the wearer doesn’t match the name or the picture.”</p>&#13;
<p class="indent">Frank’s mind raced as he searched for another hole in the security.</p>&#13;
<p class="indent">“Go on,” prompted the captain. “What else did you find?”</p>&#13;
<p class="indent">Frank sped up, racing through their day on the <em>TCP Flyer</em> and their search of Mudwall and Frayed Cable Island. He described the attack in the prison and the loss of the documents. Finally, he detailed the recent leads from the threads and transfer logs.</p>&#13;
<p class="indent">“Which is why you want to know about Notation,” said the captain. “She’s a recent transfer from the academy.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_189"/>“It’s one of the reasons,” admitted Frank. “Her name came up in my range search.”</p>&#13;
<p class="indent">The captain thought about this for a moment, then said, “I don’t think she’s the type. My gut says she’s a good officer. But I’m not sure who to trust right now. She shouldn’t be working the case anyway. It’s not her assignment.”</p>&#13;
<p class="indent">“Thank you,” Frank said.</p>&#13;
<p class="indent">“Any other transfers I should look into?”</p>&#13;
<p class="indent">Frank shook his head. “Some of the rookies were at the various crime scenes, but there’s no common thread. No one could have been involved in more than one theft. So unless you have a whole class of traitors, I think it’s a dead end.”</p>&#13;
<p class="indent">“That’s good work, Frank,” said the captain. “One of the nicest examples of best-first search I’ve seen in years.”</p>&#13;
<p class="indent">Frank smiled. Even within the force, few people would bother to refer to this type of investigation as best-first search. More often, a person would say “I’m looking into things” or “I’m following up on some leads.”</p>&#13;
<p class="indent">Despite this lack of recognition, best-first search was a staple for every police officer, ranking up there with other vital tools like a notebook and a pair of comfortable shoes. In best-first search, you kept a list of current leads, picked the most promising one to follow, and followed it. Once you had followed that lead, you simply picked the next best one to follow. Any new clues found along the way were added to the list. It was the single best tool to solve many cases.</p>&#13;
<p class="indent">“Anything else?” asked the captain.</p>&#13;
<p class="indent">Frank shook his head.</p>&#13;
<p class="indent">“All right,” said the captain. “Keep at it then. If the League of Unnecessary Complexity really does exist and is behind this, then we’re in a lot deeper than I thought. You better watch your back, Frank.”</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_190"/>“I always do,” Frank replied. He started to stand, but paused. “One more question. Do you know how Notation knew about the ArrayCart?”</p>&#13;
<p class="indent">“I don’t,” said the captain, now looking past Frank. “Why don’t we ask her? It looks like she’s standing outside my office at this very moment.”</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><strong>POLICE ALGORITHMS 101: BEST-FIRST SEARCH</strong></p>&#13;
<p class="sbsub"><em><strong>Excerpt from Professor Drecker’s Lecture</strong></em></p>&#13;
<p class="noindent">If you remember only one algorithm from this course, it should be best-first search. This algorithm will be your best tool on the force. You will need it on every case. And, of course, it will be on the final.</p>&#13;
<p class="indent">Best-first search is an algorithm that chooses the next state to explore based on a score or score function. Each newly discovered search state is given a score that corresponds to how good the algorithm believes it to be. For example, you might label states by their probability of containing the target value (if you can estimate it) or the quality of a lead in an investigation. At each step, the algorithm chooses to explore the state with the highest score. You can visualize the operation of best-first search as keeping a <em>sorted</em> list of states to try next.</p>&#13;
<p class="indent">Best-first search can also be used to minimize the costs associated with each state, such as the estimated distance of the state to the goal. In this case, the algorithm chooses the next state by which one most minimizes the cost.</p>&#13;
<p class="indent">Consider a very simple maze where you know the coordinates of the start and the goal locations. You can label each <span epub:type="pagebreak" id="page_191"/>state in the search space with a cost equal to the distance from that state to the goal. For example, you could use the <em>Manhattan distance</em>—the total vertical distance to the goal plus the total horizontal distance to the goal. This label doesn’t necessarily mean that this state will get you there, but it does provide a signal for the search algorithm.</p>&#13;
<div class="image"><img src="../images/f0191-01.jpg" alt="image"/></div>&#13;
<p class="indent">As the search progresses, it will explore different states (shown as shaded circles), find new unexplored states, and add the unexplored states to the list of states to try (enclosed in dashed circles). In each iteration, the search selects the best unexplored state according to the score or cost. In this example, this means selecting the state with the smallest cost.</p>&#13;
<div class="image"><img src="../images/f0191-02.jpg" alt="image"/></div>&#13;
<div class="image"><span epub:type="pagebreak" id="page_192"/><img src="../images/f0192-01.jpg" alt="image"/></div>&#13;
<p class="indent">We can terminate the search as soon as we find the end state. In this example, we only need to explore a little over half the states. For example, we never chose to explore the second state of distance 4, because we always had a better option to try first.</p>&#13;
<div class="image"><img src="../images/f0192-02.jpg" alt="image"/></div>&#13;
<p class="indent">When you’re in the field, you’ll have to determine how to prioritize leads. Depending on the case, you might want to start with the freshest leads or the most concrete information. Regardless, you should always be prioritizing your search.</p>&#13;
</div>&#13;
</body></html>