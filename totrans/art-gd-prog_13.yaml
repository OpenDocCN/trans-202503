- en: '13'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Making Your Work Public
  prefs: []
  type: TYPE_NORMAL
- en: '![](Images/chapterart.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Sketch 100: Processing on the Web'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Processing sketches can usually execute within a browser, requiring little to
    no modification to make dynamic and interactive web objects. The system that allows
    this is *Processing.js*; it converts the Processing sketch into JavaScript before
    running it and displays the result in an HTML5 canvas.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are four steps in running a sketch from the web:'
  prefs: []
  type: TYPE_NORMAL
- en: Download Processing.js. This means going to a site like [https://processingjs.org/download/](https://processingjs.org/download/)
    and getting the files *processing.js* and *processing.min.js*.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create the Processing sketch. We’ll use Sketch 91, the aurora simulation, as
    our example. This sketch will be named *sketch100.pde*.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Create a web page within which you’ll embed the sketch. It must load *processing.min.js*
    as a script in the header of the page 2:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Create a canvas, specifying *sketch100.pde* as a data processing source 3:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This will only work properly on a web server, so you need to upload all files
    to a server and display the page from the internet, or install a server on your
    computer.
  prefs: []
  type: TYPE_NORMAL
- en: All three files—the HTML source, the sketch, and *processing.min.js*—should
    be in the same directory on the web server. When the page is loaded, the sketch
    should run and display results in the canvas.
  prefs: []
  type: TYPE_NORMAL
- en: 'There may be some other issues depending on the sketch. First, if the sketch
    uses images, these must be preloaded so that their size and other properties are
    available when the sketch runs. A `preload` directive must appear in a comment
    at the beginning of the sketch. For example, in this case, the files `trees.gif`
    and `stars.jpg` are used 1:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Next, be careful if the sketch uses integers. The Processing code is translated
    into JavaScript, which has no integer type. Integers will become floating-point
    values. Any program that depends on integer arithmetic (like 5/2 = 2) will not
    work properly.
  prefs: []
  type: TYPE_NORMAL
- en: Any program that requires a Java library won’t work either. Minim is a Java
    library, and so are the video classes. There are JavaScript variations of these,
    but using them will require learning how JavaScript works and how to access JavaScript
    from Processing and vice versa.
  prefs: []
  type: TYPE_NORMAL
- en: The HTML code for the web page follows the code for the sketch on the next page.
  prefs: []
  type: TYPE_NORMAL
