<html><head></head><body>
<div id="sbo-rt-content" class="calibre1"><section aria-labelledby="ch5" epub:type="chapter" role="doc-chapter">
<hgroup>
<h2 class="title" id="ch5">
<span class="cn"><span aria-label=" Page 47. " epub:type="pagebreak" id="pg_47" role="doc-pagebreak" class="calibre2"/><span class="sans_dogma_ot_bold_b_">5</span></span>
<span class="ct1"><span class="sans_dogma_ot_bold_b_">STRING AND BOOLEAN DATA TYPES</span></span>
</h2>
</hgroup>
<figure class="opener"><img alt="" class="opener1" height="407" src="../images/chapter.jpg" width="408"/>
</figure>
<p class="chapterintro">The first thing to learn about assigning data types in Batch is that Batch doesn’t allow for the assignment of data types. There’s no underlying egalitarian ethos at play, but all Batch variables are created equal. Intrinsically, there’s no difference between a variable holding a number, text, or even a boolean. However, a variable set to a number can be treated as numeric, and I’ll focus on those data types in the next chapter.</p>
<p class="tx">In this chapter, after an overview of all Batch data types, you’ll learn about string and character variables. You’ll also explore strings further with methods for substringing and text replacement. Booleans were not devised by the creators of Batch, but I’ll show you how to build and use this useful data type.</p>
<section aria-labelledby="sec1" epub:type="division">
<h3 class="h" id="sec1"><span id="h1-36"/><span aria-label=" Page 48. " epub:type="pagebreak" id="pg_48" role="doc-pagebreak"/><span class="sans_futura_std_bold_b_">Common Data Types</span></h3>
<p class="tni">Many if not most programming languages not only allow but also require every variable to be declared as a specific data type before it can be assigned a value or used in any fashion. There are variations from language to language, but here’s a general list of data types:</p>
<p class="runinpara"><b class="calibre10">Character</b>    Single alphanumeric character</p>
<p class="runinpara1"><b class="calibre10">String</b>    Zero to many alphanumeric characters</p>
<p class="runinpara1"><b class="calibre10">Integer</b>    Positive and negative whole numbers</p>
<p class="runinpara1"><b class="calibre10">Floating-point</b>    Numbers with a decimal place</p>
<p class="runinpara2"><b class="calibre10">Boolean</b>    True or false</p>
<p class="tx">For better or worse, Batch variables aren’t declared. One comes into being ex nihilo the first time the interpreter discovers a new variable name. This practice does allow for a great deal of flexibility, but it can be tricky and dangerous. One misspelled instance of a variable name used a dozen times is considered to be an entirely different variable by the interpreter, and the mistake will not be caught by the guiding hand of a compiler. Instead, it’s treated as a new variable that’ll likely resolve to nothing.</p>
<p class="tx">A variable can be assigned an integer, and arithmetic can be performed on it. That same variable can then be assigned text and treated like a string. That also means that arithmetic can inadvertently be performed on a variable containing a string, but on the upside, a number can easily be treated as a string without any type of conversion when written to the console or a report. It’s pure digital anarchy, a coding language for nihilists, and somehow it works.</p>
<p class="tx">Even though you can’t assign data types, you can create variables and treat them as one of the types, but—and I cannot stress this enough—the underlying structure of every Batch variable is really just a few nondescript bytes of memory.</p>
</section>
<section aria-labelledby="sec2" epub:type="division">
<h3 class="h" id="sec2"><span id="h1-37"/><span class="sans_futura_std_bold_b_">Characters</span></h3>
<p class="tni">A character is merely a single byte of text; in the world of Batch, think of it as a very short string, as it’s treated exactly like any other single-character string. I’ll keep this section short and move on to strings.</p>
</section>
<section aria-labelledby="sec3" epub:type="division">
<h3 class="h" id="sec3"><span id="h1-38"/><span class="sans_futura_std_bold_b_">Strings</span></h3>
<p class="tni">A string is text of any length, containing alphabetic characters, numbers, and/or special characters. The following command sets the <span class="sans_thesansmonocd_w5regular_">aString</span> variable to a five-word string:</p>
<pre class="pre"><code class="calibre11">set aString=Awesome Batch Code Dares Excellence</code></pre>
<p class="tni"><span aria-label=" Page 49. " epub:type="pagebreak" id="pg_49" role="doc-pagebreak"/>Including embedded spaces, its length totals 35 characters or, in the parlance of coders, bytes.</p>
<p class="tx">Many special characters, such as the dollar and pound signs, can be explicitly included in the string, but others, such as the percent sign, cannot, because they have specific uses in Batch. In <span class="xref"><a href="chapter14.xhtml" class="calibre3">Chapter 14</a></span>, I’ll address how escaping allows for the inclusion of all characters in a string, but for now, understand that the interpreter won’t abort when it comes upon an exclamation mark in a string, but you might not see your expected result. For instance, the last character in the value being assigned to this variable is an exclamation mark:</p>
<pre class="pre"><code class="calibre11">set aString=Awesome Batch Code Dares Excellence!
&gt; con echo A String is "%aString%"
</code></pre>
<p class="tni">Here’s the result of the <span class="sans_thesansmonocd_w5regular_">echo</span> command:</p>
<pre class="pre"><code class="calibre11">A String is "Awesome Batch Code Dares Excellence"</code></pre>
<p class="tni">The punctuation mark isn’t written to the console because it wasn’t included in the string variable.</p>
<blockquote class="calibre8">
<p class="warning"><span class="sans_dogma_ot_bold_b_1">NOTE</span></p>
</blockquote>
<p class="warning-txt"><i class="calibre6">As mentioned in <a href="chapter3.xhtml" class="calibre3">Chapter 3</a>, I’m assuming that delayed expansion is enabled throughout this book. This example is a great case in point, because if delayed expansion had been disabled, the exclamation mark would’ve been just another character, not a delimiter used to resolve a variable. The character would’ve been included as part of the value and would’ve been written to the console with the rest of the text. Being able to treat an exclamation mark as simple text might be the only advantage of disabling delayed expansion. This trivial advantage pales in comparison to the functionality afforded by delayed expansion, which is why I recommend its universal use.</i></p>
<p class="tx">In later chapters, I’ll discuss how to write strings and other data types to files, but here I’ll explain how to build, concatenate, substring, and manipulate strings.</p>
<section aria-labelledby="sec4" epub:type="division">
<h4 class="h1" id="sec4"><span id="h2-17"/><span class="sans_futura_std_heavy_oblique_bi_">Build and Concatenate</span></h4>
<p class="tni">The previous example used a single <span class="sans_thesansmonocd_w5regular_">set</span> command to assign the value <span class="sans_thesansmonocd_w5regular_">Awesome Batch Code Dares Excellence</span> to a variable. The following six lines perform the same task:</p>
<pre class="pre"><code class="calibre11">set a=Awesome
set b=Batch &amp;
set c=Code
set d=Dares
set e= Excellence
set aString=%a% %b%%c% %d%%e%
</code></pre>
<p class="tni">In practice, this method would be horribly inefficient for building a string, but it nicely demonstrates the principle of concatenation.</p>
<p class="tx"><span aria-label=" Page 50. " epub:type="pagebreak" id="pg_50" role="doc-pagebreak"/>The variables defined by the first five letters of the alphabet are each set to a single word. Then on the last line all five variables are resolved and concatenated together to create <span class="sans_thesansmonocd_w5regular_">aString</span>. Take note of the four embedded spaces in the result. One is from the trailing space after <span class="sans_thesansmonocd_w5regular_">Batch</span>, another is from the leading space before <span class="sans_thesansmonocd_w5regular_">Excellence</span>, and the other two are embedded in the last <span class="sans_thesansmonocd_w5regular_">set</span> command.</p>
<p class="tx">The previous example shows how to create a string by concatenating other strings, but you can also append or prepend an existing string with other text:</p>
<pre class="pre"><code class="calibre11">set longText=This field contains a brutal run-on sentence and if its prose 
set longText=%longText% were to be typed into a single line the reader would
set longText=%longText% be forced to scroll way over to the right to read what
set longText=%longText% you are reading now and then scroll way back to the
set longText=%longText% left after mercifully getting to this period.
</code></pre>
<p class="tni">Here a string is being appended with additional text four times to create a very long string.</p>
<p class="tx">This method is my preference for creating long string variables, but you can do the same task with the “continuation character” or caret (<span class="sans_thesansmonocd_w5regular_">^</span>). When the interpreter comes to a caret at the end of a line, it appends to that line the next line:</p>
<pre class="pre"><code class="calibre11">  set longText=This field contains a brutal run-on sentence and if its prose ^
were to be typed into a single line the reader would be forced to scroll way^
 over to the right to read what you are reading now and then scroll way back ^
to the left after mercifully getting to this period.
</code></pre>
<p class="tni">In this example, three carets are used to make a four-line <span class="sans_thesansmonocd_w5regular_">set</span> command. The first and third lines have a space in front of the caret, and their following lines start in the first byte, resulting in a space between the words. To demonstrate a different means of doing the same thing, the second caret immediately follows the word <span class="sans_thesansmonocd_w5regular_">way</span>, and the next line has a space prior to the next word, <span class="sans_thesansmonocd_w5regular_">over</span>. The upshot is a long string of words, all separated by a single space.</p>
<p class="tx">I am not a fan of this technique for the simple reason that it plays havoc with my indentation scheme. I indent most commands two or more spaces, as the first line of the <span class="sans_thesansmonocd_w5regular_">set</span> command shows, but any spaces at the beginning of the subsequent line are considered part of the appended text. This effectively means that these lines must be left-justified. I’ll delve into indenting schemes further in <span class="xref"><a href="chapter9.xhtml" class="calibre3">Chapter 9</a></span>. For now, just understand that it works—but it’s ugly.</p>
<blockquote class="calibre8">
<p class="warning"><span class="sans_dogma_ot_bold_b_1">NOTE</span></p>
</blockquote>
<p class="warning-txt"><i class="calibre6">I put “continuation character” in quotes because this is a gross simplification. The caret is really an escape character. In <a href="chapter14.xhtml" class="calibre3">Chapter 14</a>, I’ll explain why that matters, but many Batch coders simply refer to it as the</i> <span class="copyright_accent">continuation character</span><i class="calibre6">.</i></p>
</section>
<section aria-labelledby="sec5" epub:type="division">
<h4 class="h1" id="sec5"><span id="h2-18"/><span aria-label=" Page 51. " epub:type="pagebreak" id="pg_51" role="doc-pagebreak"/><span class="sans_futura_std_heavy_oblique_bi_">Substrings</span></h4>
<p class="tni">Any language worth its salt will support a substringing function that retrieves a portion of a string, and Batch is up to the task. For the next few examples, let’s consider the <span class="sans_thesansmonocd_w5regular_">aString</span> variable being set just as it was earlier:</p>
<pre class="pre"><code class="calibre11">set aString=Awesome Batch Code Dares Excellence</code></pre>
<p class="tx">A <i class="calibre6">substringing function</i> needs two numbers, the offset or starting position and the length of the desired text. Surprisingly, Batch uses the zero-offset that predominates more modern languages and not the one-offset more common of 20th-century languages. This means the first byte is position 0 (not 1), the second byte is position 1, the 100th byte is position 99, and so on.</p>
<p class="tx">The syntax to substring is a bit clunky. The variable is resolved with percent signs as is typical, but the closing percent sign is preceded with a colon, a tilde, the offset, a comma, and ultimately the length. Hence, the following syntax returns the first three characters of the <span class="sans_thesansmonocd_w5regular_">aString</span> variable:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~0,3%</code></pre>
<p class="tni">The offset of <span class="sans_thesansmonocd_w5regular_">0</span> tells the interpreter to start with the first byte and the length is defined as <span class="sans_thesansmonocd_w5regular_">3</span>, resulting in the text <span class="sans_thesansmonocd_w5regular_">Awe</span> being assigned to <span class="sans_thesansmonocd_w5regular_">subString</span>.</p>
<p class="tx">The following extracts the text <span class="sans_thesansmonocd_w5regular_">some</span> out of the first word of the same string:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~3,4%</code></pre>
<p class="tni">We need to start in the fourth byte, which is a zero-offset of <span class="sans_thesansmonocd_w5regular_">3</span>. If you find the zero-offset confusing, think of the offset as the number of bytes <i class="calibre6">before</i> the substring. More obviously, the length is <span class="sans_thesansmonocd_w5regular_">4</span>.</p>
<p class="tx">Here are two substrings put together with a hardcoded <span class="sans_thesansmonocd_w5regular_">to</span> and a couple spaces:</p>
<pre class="pre"><code class="calibre11">set phrase=%aString:~15,3% to %aString:~8,5%</code></pre>
<p class="tni">The 15th byte is the capital <span class="sans_thesansmonocd_w5regular_">C</span> in <span class="sans_thesansmonocd_w5regular_">Code</span>, so the first substring is the remaining three bytes of the word. The eighth byte is the space before <span class="sans_thesansmonocd_w5regular_">Batch</span>, so the next five bytes encompass that entire word. The result is an apt, if not corny, reinterpretation of the original string: <span class="sans_thesansmonocd_w5regular_">ode to Batch</span>.</p>
<p class="tx">If the length isn’t defined, the interpreter returns the remainder of the string. To demonstrate, the following substring has no length and no preceding comma. The offset corresponds to the 25 bytes preceding the last word in the 35-byte variable:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~25%</code></pre>
<p class="tni">The upshot is that <span class="sans_thesansmonocd_w5regular_">subString</span> is assigned the string <span class="sans_thesansmonocd_w5regular_">Excellence</span>, the last 10 bytes of the original string.</p>
<section aria-labelledby="sec6" epub:type="division">
<h5 class="h2" id="sec6"><span aria-label=" Page 52. " epub:type="pagebreak" id="pg_52" role="doc-pagebreak"/><span class="sans_futura_std_bold_b_">Negative Offsets</span></h5>
<p class="tni">Notice the negative offset in the following example. Interestingly, this also assigns <span class="sans_thesansmonocd_w5regular_">Excellence</span> to the variable:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~-10%</code></pre>
<p class="tx">A <i class="calibre6">negative offset</i> indicates that the starting position is relative to the end of the string, not the beginning, which means <span class="sans_thesansmonocd_w5regular_">-10</span> tells the interpreter that the substring is to start 10 bytes from the end of the string. Since no length is given, it returns the remainder of the text. As long as the variable is populated, <span class="sans_thesansmonocd_w5regular_">%aString:~-1%</span> is an easy way to inspect its last byte.</p>
<p class="tx">Both of these commands result in the same <span class="sans_thesansmonocd_w5regular_">ode</span> substring:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~15,3%
set subString=%aString:~-20,3%
</code></pre>
<p class="tni">The first command’s offset is 15 bytes from the start of the original string, while the second command finds the same position by counting 20 bytes from the end of the 35-byte variable.</p>
</section>
<section aria-labelledby="sec7" epub:type="division">
<h5 class="h2" id="sec7"><span class="sans_futura_std_bold_b_">Negative Lengths</span></h5>
<p class="tni">A negative length works in a similar fashion. Don’t think of it as a <i class="calibre6">length</i>; think of it as the number of bytes at the end of the string <i class="calibre6">not</i> in the substring. For instance, the following returns a string with the first and last bytes stripped off:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~1,-1%</code></pre>
<p class="tx">You can even use negative offsets with negative lengths. The following extracts the penultimate byte of the string:</p>
<pre class="pre"><code class="calibre11">set subString=%aString:~-2,-1%</code></pre>
<p class="tni">The offset of <span class="sans_thesansmonocd_w5regular_">-2</span> tells the interpreter to start with the second to last byte, and the length of <span class="sans_thesansmonocd_w5regular_">-1</span> indicates that the last byte is dropped.</p>
</section>
<section aria-labelledby="sec8" epub:type="division">
<h5 class="h2" id="sec8"><span class="sans_futura_std_bold_b_">Substring in Practice</span></h5>
<p class="tni">One nice feature of retrieving a substring in Batch is that a null is simply returned if calling for a substring beyond the length of the string. Thus, the interpreter won’t crash when it comes upon <span class="sans_thesansmonocd_w5regular_">%aString:~99,1%</span> for the 35-byte string, nor will it return a space. Instead, it returns only an empty string. It’s a handy way of determining the length of a string with no fear of the null pointer exceptions prevalent in compiled code. If the 36th byte equals null (that is, <span class="sans_thesansmonocd_w5regular_">"%aString:~35,1%" equ ""</span>) but the 35th byte is populated, the string is exactly 35 bytes in length.</p>
<p class="tx">However, this syntax works only when substringing a populated string. As I just mentioned, the resolution of <span class="sans_thesansmonocd_w5regular_">%aString:~35,1%</span> is null if the string is <span aria-label=" Page 53. " epub:type="pagebreak" id="pg_53" role="doc-pagebreak"/>between 1 and 35 bytes in length, and of course, it resolves to the 36th byte if the string is 36 bytes or longer. But if the string is empty or set to null, <span class="sans_thesansmonocd_w5regular_">%aString:~35,1%</span> resolves to <span class="sans_thesansmonocd_w5regular_">~35,1</span>, or everything between the colon and trailing delimiter. Likewise due to this batveat, when trying to inspect the last byte of an empty string, <span class="sans_thesansmonocd_w5regular_">%aString:~-1%</span> resolves to <span class="sans_thesansmonocd_w5regular_">~-1</span>, not the null you may have expected.</p>
<p class="tx">You now know how to extract any portion of a string from another string, but all of the offsets and lengths are hardcoded in the earlier examples. Often, if not most of the time, those two numbers will be variables. In the following example, the offset and length are defined as obviously named variables and used in the third command:</p>
<pre class="pre"><code class="calibre11">set offset=15
set length=3
set subString=!aString:~%offset%,%length%!
</code></pre>
<p class="tni">The percent signs encasing <span class="sans_thesansmonocd_w5regular_">offset</span> and <span class="sans_thesansmonocd_w5regular_">length</span> first resolve these variables to their numeric values. Then the exclamation marks kick in so that <span class="sans_thesansmonocd_w5regular_">!aString:~15,3!</span> resolves to our familiar <span class="sans_thesansmonocd_w5regular_">ode</span>, which is yet another victory for enabling delayed expansion.</p>
<p class="tx">After finishing the next chapter, where I discuss arithmetic, you’ll be able to calculate variables holding integer values to be used as offsets and lengths to find a substring.</p>
</section>
</section>
<section aria-labelledby="sec9" epub:type="division">
<h4 class="h1" id="sec9"><span id="h2-19"/><span class="sans_futura_std_heavy_oblique_bi_">Text Replacement</span></h4>
<p class="tni">Batch also has a handy mechanism for replacing all or part of a string with other text. For example, assume that the following variable contains this awkward filename:</p>
<pre class="pre"><code class="calibre11">set filNm=File_Name_With_Underscores.docx</code></pre>
<p class="tni">If you aren’t fond of this filename, you could change the underscores to dashes. In <span class="xref"><a href="chapter7.xhtml" class="calibre3">Chapter 7</a></span>, I’ll introduce the ideal command for renaming a file, but here I’ll discuss how to build a variable containing the new filename.</p>
<p class="tx">The text replacement syntax is similar to what was used for substringing. The variable and a colon are surrounded by percent signs as before, but now there’s no tilde. Instead, after the colon comes the text to search for and change, followed by an equal sign delimiter, and finally the replacement text:</p>
<pre class="pre"><code class="calibre11">set newFilNm=%filNm:_=-%</code></pre>
<p class="tni">Each and every underscore character (<span class="sans_thesansmonocd_w5regular_">_</span>), not just the first one encountered, is changed to a dash (<span class="sans_thesansmonocd_w5regular_">-</span>), resulting in <span class="sans_thesansmonocd_w5regular_">File-Name-With-Underscores.docx</span>. Be careful not to change more text than you intend.</p>
<p class="tx">Looking at this filename, it also would make sense to change the word <span class="sans_thesansmonocd_w5regular_">Underscores</span> to <span class="sans_thesansmonocd_w5regular_">Dashes</span>. Fortunately, Batch doesn’t require that the target and <span aria-label=" Page 54. " epub:type="pagebreak" id="pg_54" role="doc-pagebreak"/>replacement text be the same length, so this additional command further updates the value of this variable to <span class="sans_thesansmonocd_w5regular_">File-Name-With-Dashes.docx</span>:</p>
<pre class="pre"><code class="calibre11">set newFilNm=%newFilNm:underscor=Dash%</code></pre>
<p class="tni">Since both words end in <span class="sans_thesansmonocd_w5regular_">es</span>, I’m using the singular <span class="sans_thesansmonocd_w5regular_">Dash</span> as the replacement text, and the target text is <span class="sans_thesansmonocd_w5regular_">underscor</span>, which isn’t even a real word. Also, notice that <span class="sans_thesansmonocd_w5regular_">Underscores</span> is capitalized in the variable’s value, but <span class="sans_thesansmonocd_w5regular_">underscor</span> is lowercase in the replace syntax. Very important, Batch does a case-insensitive replacement. The target text can be whichever case or even mixed case with no effect on the outcome, but the replacement text will be used exactly as it is entered in the command. Hence, <span class="sans_thesansmonocd_w5regular_">%newFilNm:UNDERscor=Dash%</span> is functionally identical to the variable resolution in the previous command, but <span class="sans_thesansmonocd_w5regular_">%newFilNm:underscor=DASH%</span> would result in a new filename of <span class="sans_thesansmonocd_w5regular_">File-Name-With -DASHes.docx</span>.</p>
<p class="tx">It’s subtle, but the prior two commands show two distinct methods of assignment. The first assigns the modified value of <span class="sans_thesansmonocd_w5regular_">filNm</span> to <span class="sans_thesansmonocd_w5regular_">newFilNm</span>, leaving <span class="sans_thesansmonocd_w5regular_">filNm</span> unchanged. The second command reassigns <span class="sans_thesansmonocd_w5regular_">newFilNm</span> to itself so that its ultimate value reflects both text replacements. These two methods give you the flexibility to either alter a variable’s value in place or maintain two variables, one with the old and one with the new text.</p>
<p class="tx">You can also use delayed expansion to turn the target text, <span class="sans_thesansmonocd_w5regular_">targ</span>, and the replacement text, <span class="sans_thesansmonocd_w5regular_">repl</span>, into variables. Here’s an example:</p>
<pre class="pre"><code class="calibre11">set targ=Love
set repl=Hate
set aString=I Love Broccoli
set aString=!aString:%targ%=%repl%!
</code></pre>
<p class="tni">The result is the far more honest string <span class="sans_thesansmonocd_w5regular_">I Hate Broccoli</span>.</p>
<p class="tx">A text search is one wonderful application of the text replacement syntax. In <span class="xref"><a href="chapter24.xhtml" class="calibre3">Chapter 24</a></span>, I’ll compare and contrast two methods of determining whether one string is part of another string. The <span class="sans_thesansmonocd_w5regular_">findstr</span> command works well, but the method based on the previous syntax executes in a fraction of the time. Spoiler alert: the text search logic replaces the searched for text with null, and the result is compared to the original text. If they differ, the text was found.</p>
</section>
</section>
<section aria-labelledby="sec10" epub:type="division">
<h3 class="h" id="sec10"><span id="h1-39"/><span class="sans_futura_std_bold_b_">Booleans</span></h3>
<p class="tni">Booleans are ever-present in compiled languages having two, and <i class="calibre6">only</i> two, possible states: true or false. Once set, you can use them alone as the conditional clause in an <span class="sans_thesansmonocd_w5regular_">if</span> command to be evaluated as true or false, thus determining whether a block of code should be executed. Batch doesn’t support booleans explicitly, but with a little ingenuity, you can create them.</p>
<p class="tx">Much ink has been spilled exploring the question, “Does God exist?” This isn’t one of those books, but we can answer a far easier question, “Does <span aria-label=" Page 55. " epub:type="pagebreak" id="pg_55" role="doc-pagebreak"/><i class="calibre6">God.txt</i> exist?” In <span class="xref"><a href="chapter4.xhtml" class="calibre3">Chapter 4</a></span>, I showed how to use an <span class="sans_thesansmonocd_w5regular_">if</span> command to determine the existence or nonexistence of a text file:</p>
<pre class="pre"><code class="calibre11">if exist C:\Batch\God.txt (
   set god=Found
) else (
   set god=NotFound
)
</code></pre>
<p class="tni">A variable is being set to <span class="sans_thesansmonocd_w5regular_">Found</span> or <span class="sans_thesansmonocd_w5regular_">NotFound</span> based on the status of the file at a certain instant in time. The <span class="sans_thesansmonocd_w5regular_">god</span> variable can then be interrogated in the future to determine whether <i class="calibre6">God.txt</i> existed at that earlier time. It works, but it’s a bit clunky; a boolean would provide a more elegant solution. You could then easily reference the boolean as many times as is necessary throughout the code and maybe even reset it.</p>
<section aria-labelledby="sec11" epub:type="division">
<h4 class="h1" id="sec11"><span id="h2-20"/><span class="sans_futura_std_heavy_oblique_bi_">Setting and Evaluating Booleans</span></h4>
<p class="tni">In Batch, a boolean, like all variables, is really just some text, but text that can be evaluated as true or false. As a convention, I always prefix boolean variable names with a lowercase <span class="sans_thesansmonocd_w5regular_">b</span> followed by an uppercase character to make it stand out as a boolean. (A more verbose and descriptive option is to lead with the <span class="sans_thesansmonocd_w5regular_">bool</span> text.) Let’s duplicate the logic in the previous example with the only difference being that the clunky variable <span class="sans_thesansmonocd_w5regular_">god</span> is replaced with the boolean, <span class="sans_thesansmonocd_w5regular_">bGod</span>, which gets set to true if <i class="calibre6">God.txt</i> is found and false if it isn’t:</p>
<pre class="pre"><code class="calibre11">if exist C:\Batch\God.txt (
   set bGod=true==true
) else (
   set bGod=false==x
)
</code></pre>
<p class="tx">In other languages, a boolean is explicitly set to true or false. For instance, a valid Java command is <span class="sans_thesansmonocd_w5regular_">bGod = true;</span>. But the previous <span class="sans_thesansmonocd_w5regular_">set</span> commands for the Batch boolean look a bit different; in particular, each has three equal signs. The first is simply for the assignment; the other two are a portion of the assigned value. When the conditional clause of the <span class="sans_thesansmonocd_w5regular_">if</span> command is true, we set <span class="sans_thesansmonocd_w5regular_">bGod</span> to <span class="sans_thesansmonocd_w5regular_">true==true</span>; if not, <span class="sans_thesansmonocd_w5regular_">false==x</span> is the value. That certainly looks odd, but now the variable, while still technically nothing but text, can be evaluated as the conditional clause of another <span class="sans_thesansmonocd_w5regular_">if</span> command like so:</p>
<pre class="pre"><code class="calibre11">if %bGod%  &gt; con echo Let us pray.</code></pre>
<p class="tni">But how? If <span class="sans_thesansmonocd_w5regular_">bGod</span> had been set to what we consider true, the interpreter resolves <span class="sans_thesansmonocd_w5regular_">if %bGod%</span> to <span class="sans_thesansmonocd_w5regular_">if true == true</span>. The variable contains an equality operator, double equal signs, with identical values on either side. (Don’t ask about the spaces around the operator, but this is what the interpreter sees.) Put all of this after an <span class="sans_thesansmonocd_w5regular_">if</span> command, and it evaluates to true.</p>
<p class="tx"><span aria-label=" Page 56. " epub:type="pagebreak" id="pg_56" role="doc-pagebreak"/>If the variable had been set to what we consider false, however, the command would’ve been resolved to <span class="sans_thesansmonocd_w5regular_">if false == x</span>, which compares two values that clearly differ, resulting in the code after the <span class="sans_thesansmonocd_w5regular_">if</span> command not to be executed.</p>
<p class="tx">The <span class="sans_thesansmonocd_w5regular_">if</span> command with a boolean can also be used with the <span class="sans_thesansmonocd_w5regular_">not</span> clause:</p>
<pre class="pre"><code class="calibre11">if not %bGod%  &gt; con echo Live every day to the fullest.</code></pre>
<p class="tni">If the text, <span class="sans_thesansmonocd_w5regular_">if not %bGod%</span>, resolves to <span class="sans_thesansmonocd_w5regular_">if not true == true</span>, the result of the evaluation is <i class="calibre6">not true</i> or false. But when the text resolves to the double negative <span class="sans_thesansmonocd_w5regular_">if not false == x</span>, it evaluates to <i class="calibre6">not false</i> or true, and the text is written to the console.</p>
</section>
<section aria-labelledby="sec12" epub:type="division">
<h4 class="h1" id="sec12"><span id="h2-21"/><span class="sans_futura_std_heavy_oblique_bi_">Converting Booleans to Strings</span></h4>
<p class="tni">I’ve chosen <span class="sans_thesansmonocd_w5regular_">true==true</span> as the value for true, but <span class="sans_thesansmonocd_w5regular_">x==x</span> or <span class="sans_thesansmonocd_w5regular_">0 == 0</span> would’ve worked and required fewer keystrokes. Even <span class="sans_thesansmonocd_w5regular_">false==false</span> would evaluate to true, but let’s not be difficult. Likewise, <span class="sans_thesansmonocd_w5regular_">false==x</span> could’ve contained any two differing strings, but I chose these values so that either the text <span class="sans_thesansmonocd_w5regular_">true</span> or <span class="sans_thesansmonocd_w5regular_">false</span> is at the forefront of the boolean value. The structure of the boolean variable allows you to mimic another feature of booleans in compiled code—the conversion of the boolean to a string.</p>
<p class="tx">As structured, you can convert Batch booleans to the string <span class="sans_thesansmonocd_w5regular_">true</span> or <span class="sans_thesansmonocd_w5regular_">false</span> by simply stripping off everything after and including the two equal signs. When we get to the <span class="sans_thesansmonocd_w5regular_">for</span> command in <span class="xref"><a href="chapter19.xhtml" class="calibre3">Chapter 19</a></span>, I’ll show exactly how that works, but for now, the following line of code truncates the extraneous text:</p>
<pre class="pre"><code class="calibre11">for /F "delims==" %%b in ("%bGod%") do  set bStrGod=%%b</code></pre>
<p class="tni">After this executes against a valid boolean, the <i class="calibre6">boolean string</i> variable named <span class="sans_thesansmonocd_w5regular_">bStrGod</span> will contain either <span class="sans_thesansmonocd_w5regular_">true</span> or <span class="sans_thesansmonocd_w5regular_">false</span>.</p>
<p class="tx">(If boolean variables are prefixed with <span class="sans_thesansmonocd_w5regular_">b</span>, it might make sense to prefix boolean string variables with <span class="sans_thesansmonocd_w5regular_">bs</span>, but the convention that I’ve settled on heads off accusations of my code being full of BS.)</p>
</section>
</section>
<section aria-labelledby="sec13" epub:type="division">
<h3 class="h" id="sec13"><span id="h1-40"/><span class="sans_futura_std_bold_b_">Summary</span></h3>
<p class="tni">Strings are ubiquitous in Batch, and in this chapter, I detailed how to build and concatenate them. Substringing and text replacement are two powerful and useful tools that all Batch coders should master, despite their esoteric syntaxes. Booleans are not so ubiquitous, but I hope that I demonstrated the usefulness of this underused data type.</p>
<p class="tx">In the next chapter, I’ll continue the discussion on data types, delving into the numeric data types. I’ll detail integers of three different bases and floating-point numbers, providing a great opportunity to explore how arithmetic is tackled in Batch.</p>
</section>
</section>
</div></body></html>