- en: '9'
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: THE LED MARQUEE
  prefs: []
  type: TYPE_NORMAL
- en: THIS CIRCUIT CREATES A RUNNING LIGHT, LIKE AN OLD THEATER MARQUEE.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0059-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**THE CIRCUIT DIAGRAM**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '![image](../images/f0060-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**THE PARTS LIST**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '| **PART** | **VALUE** | **DESCRIPTION** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| R1, R2 | 10 kΩ | Two standard resistors |'
  prefs: []
  type: TYPE_TB
- en: '| R3 | 470 Ω | Standard resistor |'
  prefs: []
  type: TYPE_TB
- en: '| C1 | 4.7 μF | Polarized capacitor |'
  prefs: []
  type: TYPE_TB
- en: '| L1 to L10 | LED | Standard light-emitting diodes |'
  prefs: []
  type: TYPE_TB
- en: '| U1 | NE555 | 555 timer IC |'
  prefs: []
  type: TYPE_TB
- en: '| U2 | CD4017B | 4017 decade counter IC |'
  prefs: []
  type: TYPE_TB
- en: '**ABOUT THE CIRCUIT**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This circuit uses a 555 timer and a 4017 decade counter, both integrated circuits.
    The voltage of the 555 timer’s pin 3 switches between high and low repeatedly,
    as you saw in [Project 8](ch08.xhtml#ch08). You connect this signal to pin 14
    of the 4017 IC, and the 4017 counts the number of times the voltage on pin 14
    goes from low to high. The 4017 has 10 outputs—marked Q0 to Q9—that represent
    this count. For example, after three counts, output Q3 is high, while the others
    are low. On the 10th count, the counter starts from Q0 again. [Figure 9-1](ch09.xhtml#ch09fig1)
    shows the pinout for the 4017 IC.
  prefs: []
  type: TYPE_NORMAL
- en: '![image](../images/f0061-01.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '**FIGURE 9-1** The pinout for the 4017 IC'
  prefs: []
  type: TYPE_NORMAL
- en: The running speed is set by R1, R2, and C1\. Change one of the values, and the
    lights’ running speed will change. Larger values slow it down, and smaller values
    speed it up.
  prefs: []
  type: TYPE_NORMAL
- en: This is a large circuit, so it’s pretty easy to connect a wire or a component
    in the wrong place. I suggest you connect only the 555 timer part first. After
    that, add a 470 Ω resistor in series with an LED between the 555 output on pin
    3 and the negative terminal of the battery. You should see the LED blink really
    fast. When you do, you can disconnect the LED and resistor and continue connecting
    the rest of the circuit.
  prefs: []
  type: TYPE_NORMAL
- en: This circuit includes a lot of connections in a small area, so you’ll need to
    be creative with the way you use your space. I recommend you use one of the columns
    of the left supply area to connect the negative side of the LEDs. This will save
    you some space.
  prefs: []
  type: TYPE_NORMAL
- en: '**COMMON MISTAKES**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'If your circuit isn’t working correctly, check that you haven’t made any of
    these common mistakes:'
  prefs: []
  type: TYPE_NORMAL
- en: Connecting one or both of the ICs the wrong way
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mixing up the pin numbers of the ICs and connecting components to the wrong
    pin
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Connecting one or more of the LEDs in the wrong way
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Connecting the capacitor the wrong way around
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Connecting a wire or component one row above or below where it should be connected
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If you’re struggling with this circuit, you can find more resources through
    the book’s website at *[https://nostarch.com/circuits/](https://nostarch.com/circuits/)*.
  prefs: []
  type: TYPE_NORMAL
- en: '**HOW THIS CIRCUIT WORKS**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: This circuit uses a 555 timer to generate a continuous series of pulses (called
    *clock pulses*) and a 4017 decade counter to count the number of pulses it receives.
    LEDs on outputs Q0 to Q9 indicate the count. When the counter reaches 10, it automatically
    starts from 0 again. This way, it appears as if the LEDs are running from one
    side to the other, without stopping.
  prefs: []
  type: TYPE_NORMAL
- en: The 4017 IC is easy to use. To get it up and running, just connect the V[DD]
    and GND pins to a voltage source. A voltage between 5 V and 15 V will usually
    work. With the voltage connected, the chip is running and will count any transition
    from low to high voltage on its CLK (clock) input pin.
  prefs: []
  type: TYPE_NORMAL
- en: Note that each output can provide only about 10 mA of current. If you try to
    get more current out of each output—for example, by using a smaller resistor value
    for R3—you risk strange behavior or even chip damage.
  prefs: []
  type: TYPE_NORMAL
- en: The following table provides an overview of each pin’s function.
  prefs: []
  type: TYPE_NORMAL
- en: '| **PIN #** | **NAME** | **DESCRIPTION** |'
  prefs: []
  type: TYPE_TB
- en: '| --- | --- | --- |'
  prefs: []
  type: TYPE_TB
- en: '| 1 | Q5 | Goes high when the count is 5 |'
  prefs: []
  type: TYPE_TB
- en: '| 2 | Q1 | Goes high when the count is 1 |'
  prefs: []
  type: TYPE_TB
- en: '| 3 | Q0 | Goes high when the count is 0 |'
  prefs: []
  type: TYPE_TB
- en: '| 4 | Q2 | Goes high when the count is 2 |'
  prefs: []
  type: TYPE_TB
- en: '| 5 | Q6 | Goes high when the count is 6 |'
  prefs: []
  type: TYPE_TB
- en: '| 6 | Q7 | Goes high when the count is 7 |'
  prefs: []
  type: TYPE_TB
- en: '| 7 | Q3 | Goes high when the count is 3 |'
  prefs: []
  type: TYPE_TB
- en: '| 8 | GND | Ground (0 V) connection |'
  prefs: []
  type: TYPE_TB
- en: '| 9 | Q8 | Goes high when the count is 8 |'
  prefs: []
  type: TYPE_TB
- en: '| 10 | Q4 | Goes high when the count is 4 |'
  prefs: []
  type: TYPE_TB
- en: '| 11 | Q9 | Goes high when the count is 9 |'
  prefs: []
  type: TYPE_TB
- en: '| 12 | Carry Out | High output for counts 0 to 4 |'
  prefs: []
  type: TYPE_TB
- en: '| 13 | Clock Inhibit | Counter does not count any clock pulses when this input
    is high |'
  prefs: []
  type: TYPE_TB
- en: '| 14 | CLK | Input for pulses to be counted |'
  prefs: []
  type: TYPE_TB
- en: '| 15 | Reset | Resets the the count to 0 when high; must be low to count |'
  prefs: []
  type: TYPE_TB
- en: '| 16 | V[DD] | Positive voltage supply |'
  prefs: []
  type: TYPE_TB
