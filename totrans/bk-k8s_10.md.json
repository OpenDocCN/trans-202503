["```\nroot@host01:~# ls /etc/cni/net.d\n10-calico.conflist  calico-kubeconfig\n```", "```\nroot@host01:~# cat /etc/cni/net.d/10-calico.conflist \n{\n  \"name\": \"k8s-pod-network\",\n  \"cniVersion\": \"0.3.1\",\n  \"plugins\": [\n    {\n      \"type\": \"calico\",\n...\n    },\n    {\n      \"type\": \"bandwidth\",\n      \"capabilities\": {\"bandwidth\": true}\n    },\n    {\"type\": \"portmap\", \"snat\": true, \"capabilities\": {\"portMappings\": true}}\n  ]\n}\n```", "```\nroot@host01:~# ls /opt/cni/bin\nbandwidth  calico-ipam  flannel      install   macvlan  sbr     vlan\nbridge     dhcp         host-device  ipvlan    portmap  static\ncalico     firewall     host-local   loopback  ptp      tuning\n```", "```\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod\nspec:\n  containers:\n  - name: pod\n    image: busybox\n    command: \n      - \"sleep\"\n      - \"infinity\"\n  nodeName: host01\n```", "```\nroot@host01:~# kubectl apply -f /opt/pod.yaml\npod/pod created\n```", "```\nroot@host01:~# kubectl get pods\nNAME   READY   STATUS    RESTARTS   AGE\npod    1/1     Running   0          2m32s\n```", "```\nroot@host01:~# POD_ID=$(crictl pods --name pod -q)\nroot@host01:~# echo $POD_ID\nb7d2391320e07f97add7ccad2ad1a664393348f1dcb6f803f701318999ed0295\n```", "```\nroot@host01:~# NETNS_PATH=$(crictl inspectp $POD_ID |\n  jq -r '.info.runtimeSpec.linux.namespaces[]|select(.type==\"network\").path')\nroot@host01:~# echo $NETNS_PATH\n/var/run/netns/cni-7cffed61-fb56-9be1-0548-4813d4a8f996\nroot@host01:~# NETNS=$(basename $NETNS_PATH)\nroot@host01:~# echo $NETNS\ncni-7cffed61-fb56-9be1-0548-4813d4a8f996\n```", "```\nroot@host01:~# ps $(ip netns pids $NETNS)\n    PID TTY      STAT   TIME COMMAND\n  35574 ?        Ss     0:00 /pause\n  35638 ?        Ss     0:00 sleep infinity\n```", "```\nroot@host03:~# ip netns exec $NETNS ip addr\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN ...\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n3: ➊ eth0@if16: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 ... state UP ...\n    link/ether 7a:9e:6c:e2:30:47 brd ff:ff:ff:ff:ff:ff link-netnsid 0\n    inet ➋ 172.31.239.205/32 brd 172.31.25.202 scope global eth0\n       valid_lft forever preferred_lft forever\n    inet6 fe80::789e:6cff:fee2:3047/64 scope link \n       valid_lft forever preferred_lft forever\n```", "```\nroot@host01:~# kubectl get pods -o wide\nNAME   READY   STATUS    RESTARTS   AGE   IP                NODE    ...\npod    1/1     Running   0          16m   172.31.239.205   host01   ...\n```", "```\nroot@host01:~# ip netns exec $NETNS ip link\n...\n3: eth0@if13: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 qdisc noqueue ... \n    link/ether 6e:4c:3a:41:d0:54 brd ff:ff:ff:ff:ff:ff link-netnsid 0\nroot@host01:~# ip link | grep -B 1 $NETNS\n13: cali9381c30abed@if3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1450 ... \n    link/ether ee:ee:ee:ee:ee:ee ... link-netns cni-7cffed61-fb56-9be1-0548-4813d4a8f996\n```", "```\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod1\nspec:\n  containers:\n  - name: pod1\n    image: busybox\n    command: \n      - \"sleep\"\n      - \"infinity\"\n  nodeName: host01\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod2\nspec:\n  containers:\n  - name: pod2\n    image: busybox\n    command: \n      - \"sleep\"\n      - \"infinity\"\n  nodeName: host02\n```", "```\nroot@host01:~# kubectl delete -f /opt/pod.yaml\npod \"pod\" deleted\nroot@host01:~# kubectl apply -f /opt/two-pods.yaml \npod/pod1 created\npod/pod2 created\n```", "```\nroot@host01:~# IP1=$(kubectl get po pod1 -o json | jq -r '.status.podIP')\nroot@host01:~# IP2=$(kubectl get po pod2 -o json | jq -r '.status.podIP')\nroot@host01:~# echo $IP1\n172.31.239.216\nroot@host01:~# echo $IP2\n172.31.89.197\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 $IP2\nPING 172.31.89.197 (172.31.89.197): 56 data bytes\n64 bytes from 172.31.89.197: seq=0 ttl=62 time=2.867 ms\n64 bytes from 172.31.89.197: seq=1 ttl=62 time=0.916 ms\n64 bytes from 172.31.89.197: seq=2 ttl=62 time=1.463 ms\n\n--- 172.31.89.197 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.916/1.748/2.867 ms\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ip addr\n...\n3: eth0@if17: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1450 qdisc noqueue \n    link/ether f2:ed:e8:04:00:cc brd ff:ff:ff:ff:ff:ff\n    inet 172.31.239.216/32 brd 172.31.239.216 scope global eth0\n...\nroot@host01:~# kubectl exec -ti pod1 -- ip route\ndefault via 169.254.1.1 dev eth0 \n169.254.1.1 dev eth0 scope link\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- arp -n\n? (169.254.1.1) at ee:ee:ee:ee:ee:ee [ether]  on eth0\n...\n```", "```\nroot@host01:~# ip route\n...\n172.31.25.192/26 via 192.168.61.13 dev enp0s8 proto 80 onlink \n172.31.89.192/26 via 192.168.61.12 dev enp0s8 proto 80 onlink \n172.31.239.216 dev calice0906292e2 scope link \n...\n```", "```\nroot@host02:~# ip route\n...\n172.31.239.192/26 via 192.168.61.11 dev enp0s8 proto 80 onlink \n172.31.25.192/26 via 192.168.61.13 dev enp0s8 proto 80 onlink \n172.31.89.197 dev calibd2348b4f67 scope link \n...\n```", "```\nroot@host01:~# tcpdump -n -w pings.pcap -i any icmp &\n[1] 70949\ntcpdump: listening on any ...\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 $IP2\n...\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.928/0.991/1.115 ms\n```", "```\nroot@host01:~# killall tcpdump\n12 packets captured\n12 packets received by filter\n0 packets dropped by kernel\n```", "```\nroot@host01:~# tcpdump -enr pings.pcap\nreading from file pings.pcap, link-type LINUX_SLL (Linux cooked v1)\n00:16:23...  In f2:ed:e8:04:00:cc ➊ ... 172.31.239.216 > 172.31.89.197: ICMP echo request ...\n00:16:23... Out 08:00:27:b7:ef:ef ➋ ... 172.31.239.216 > 172.31.89.197: ICMP echo request ...\n00:16:23...  In 08:00:27:fc:d2:36 ➌ ... 172.31.89.197 > 172.31.239.216: ICMP echo reply ...\n00:16:23... Out ee:ee:ee:ee:ee:ee ➍ ... 172.31.89.197 > 172.31.239.216: ICMP echo reply ...\n...\n```", "```\nroot@host01:~# kubectl delete -f /opt/two-pods.yaml\npod \"pod1\" deleted\npod \"pod2\" deleted\n```", "```\nroot@host01:~# kubectl apply -f /opt/two-pods.yaml\npod/pod1 created\npod/pod2 created\n```", "```\nroot@host01:~# kubectl get po -o wide\nNAME   READY   STATUS    ... IP           NODE     ...\npod1   1/1     Running   ... 10.46.0.8    host01   ...\npod2   1/1     Running   ... 10.40.0.21   host02   ...\n```", "```\nroot@host01:~# IP1=$(kubectl get po pod1 -o json | jq -r '.status.podIP')\nroot@host01:~# IP2=$(kubectl get po pod2 -o json | jq -r '.status.podIP')\nroot@host01:~# echo $IP1\n10.46.0.8\nroot@host01:~# echo $IP2\n10.40.0.21\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ip addr\n...\n25: eth0@if26: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1376 qdisc noqueue \n    link/ether e6:78:69:44:3d:a4 brd ff:ff:ff:ff:ff:ff\n    inet 10.46.0.8/12 brd 10.47.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n...\nroot@host01:~# kubectl exec -ti pod1 -- ip route\ndefault via 10.46.0.0 dev eth0 \n10.32.0.0/12 dev eth0 scope link  src 10.46.0.8\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 $IP2\nPING 10.40.0.21 (10.40.0.21): 56 data bytes\n64 bytes from 10.40.0.21: seq=0 ttl=64 time=0.981 ms\n64 bytes from 10.40.0.21: seq=1 ttl=64 time=0.963 ms\n64 bytes from 10.40.0.21: seq=2 ttl=64 time=0.871 ms\n--- 10.40.0.21 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.871/0.938/0.981 ms\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- arp -n\n? (10.40.0.21) at ba:75:e6:db:7c:c6 [ether]  on eth0\n? (10.46.0.0) at 1a:72:78:64:36:c6 [ether]  on eth0\n```", "```\nroot@host01:~# kubectl exec -ti pod2 -- ip addr\n...\n53: eth0@if54: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1376 qdisc noqueue \n    link/ether ➊ ba:75:e6:db:7c:c6 brd ff:ff:ff:ff:ff:ff\n    inet 10.40.0.21/12 brd 10.47.255.255 scope global eth0\n       valid_lft forever preferred_lft forever\n...\n```", "```\nroot@host01:~# tcpdump -w pings.pcap -i any icmp &\n[1] 55999\ntcpdump: listening on any, link-type LINUX_SLL (Linux cooked v1) ...\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 $IP2\n...\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.824/1.691/3.053 ms\nroot@host01:~# killall tcpdump\n24 packets captured\n24 packets received by filter\n0 packets dropped by kernel\n```", "```\nroot@host01:~# tcpdump -enr pings.pcap\nreading from file pings.pcap, link-type LINUX_SLL (Linux cooked v1)\n16:22:08.211499   P e6:78:69:44:3d:a4 ... 10.46.0.8 > 10.40.0.21: ICMP echo request ...\n16:22:08.211551 Out e6:78:69:44:3d:a4 ... 10.46.0.8 > 10.40.0.21: ICMP echo request ...\n16:22:08.211553   P e6:78:69:44:3d:a4 ... 10.46.0.8 > 10.40.0.21: ICMP echo request ...\n16:22:08.211745 Out e6:78:69:44:3d:a4 ... 10.46.0.8 > 10.40.0.21: ICMP echo request ...\n16:22:08.212917   P ba:75:e6:db:7c:c6 ... 10.40.0.21 > 10.46.0.8: ICMP echo reply ...\n16:22:08.213704 Out ba:75:e6:db:7c:c6 ... 10.40.0.21 > 10.46.0.8: ICMP echo reply ...\n16:22:08.213708   P ba:75:e6:db:7c:c6 ... 10.40.0.21 > 10.46.0.8: ICMP echo reply ...\n16:22:08.213724 Out ba:75:e6:db:7c:c6 ... 10.40.0.21 > 10.46.0.8: ICMP echo reply ...\n...\n```", "```\nroot@host01:~# tcpdump -w vxlan.pcap -i any udp &\n...\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 $IP2\n...\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 1.139/1.364/1.545 ms\nroot@host01:~# killall tcpdump\n22 packets captured\n24 packets received by filter\n0 packets dropped by kernel\n```", "```\nroot@host01:~# tcpdump -enr vxlan.pcap -T vxlan | grep -B 1 ICMP\nreading from file vxlan.pcap, link-type LINUX_SLL (Linux cooked v1)\n16:45:47.307949 Out 08:00:27:32:a0:28 ... \n  length 150: 192.168.61.11.50200 > 192.168.61.12.6784: VXLAN ...\ne6:78:69:44:3d:a4 > ba:75:e6:db:7c:c6 ... \n  length 98: 10.46.0.8 > 10.40.0.21: ICMP echo request ...\n16:45:47.308699  In 08:00:27:67:b9:da ... \n  length 150: 192.168.61.12.43489 > 192.168.61.11.6784: VXLAN ... \nba:75:e6:db:7c:c6 > e6:78:69:44:3d:a4 ... \n  length 98: 10.40.0.21 > 10.46.0.8: ICMP echo reply ...\n16:45:48.308240 Out 08:00:27:32:a0:28 ... \n  length 150: 192.168.61.11.50200 > 192.168.61.12.6784: VXLAN ... \n...\n```", "```\nroot@host01:~# kubectl apply -f /opt/multus-daemonset.yaml\ncustomresourcedefinition.../network-attachment-definitions... created\nclusterrole.rbac.authorization.k8s.io/multus created\nclusterrolebinding.rbac.authorization.k8s.io/multus created\nserviceaccount/multus created\nconfigmap/multus-cni-config created\ndaemonset.apps/kube-multus-ds created\n```", "```\n---\napiVersion: k8s.cni.cncf.io/v1\nkind: NetworkAttachmentDefinition\nmetadata:\n  name: macvlan-conf\nspec:\n  config: '{\n      \"cniVersion\": \"0.3.0\",\n      \"type\": \"macvlan\",\n      \"mode\": \"bridge\",\n      \"ipam\": {\n        \"type\": \"host-local\",\n        \"subnet\": \"10.244.0.0/24\",\n        \"rangeStart\": \"10.244.0.1\",\n        \"rangeEnd\": \"10.244.0.254\"\n      }\n    }'\n```", "```\nroot@host01:~# kubectl apply -f /opt/netattach.yaml \nnetworkattachmentdefinition.k8s.cni.cncf.io/macvlan-conf created\n```", "```\nroot@host01:~# ls /etc/cni/net.d\n00-multus.conf  10-calico.conflist  calico-kubeconfig  multus.d\n```", "```\n{\n  \"cniVersion\": \"0.3.1\",\n  \"name\": \"multus-cni-network\",\n  \"type\": \"multus\",\n  \"capabilities\": {\n    \"portMappings\": true,\n    \"bandwidth\": true\n  },\n  \"kubeconfig\": \"/etc/cni/net.d/multus.d/multus.kubeconfig\",\n  \"delegates\": [\n    {\n      \"name\": \"k8s-pod-network\",\n      \"cniVersion\": \"0.3.1\",\n      \"plugins\": [\n        {\n          \"type\": \"calico\",\n...\n          }\n        },\n        {\n          \"type\": \"bandwidth\",\n...\n        },\n        {\n          \"type\": \"portmap\",\n...\n        }\n      ]\n    }\n  ]\n}\n```", "```\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod1\n  annotations:\n    k8s.v1.cni.cncf.io/networks: macvlan-conf\nspec:\n  containers:\n  - name: pod1\n    image: busybox\n    command: \n      - \"sleep\"\n      - \"infinity\"\n  nodeName: host01\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: pod2\n  annotations:\n    k8s.v1.cni.cncf.io/networks: macvlan-conf\nspec:\n  containers:\n  - name: pod2\n    image: busybox\n    command: \n      - \"sleep\"\n      - \"infinity\"\n  nodeName: host01\n```", "```\nroot@host01:~# kubectl apply -f /opt/local-pods.yaml\npod/pod1 created\npod/pod2 created\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ip addr\n...\n3: eth0@if12: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1450 qdisc noqueue \n    link/ether 9a:a1:db:ec:c7:91 brd ff:ff:ff:ff:ff:ff\n    inet 172.31.239.198/32 brd 172.31.239.198 scope global eth0\n       valid_lft forever preferred_lft forever\n...\n4: net1@if2: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc noqueue \n    link/ether 9e:4f:c4:47:40:07 brd ff:ff:ff:ff:ff:ff\n    inet 10.244.0.2/24 brd 10.244.0.255 scope global net1\n       valid_lft forever preferred_lft forever\n...\nroot@host01:~# kubectl exec -ti pod2 -- ip addr\n...\n3: eth0@if13: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1450 qdisc noqueue \n    link/ether 52:08:99:a7:d2:bc brd ff:ff:ff:ff:ff:ff\n    inet 172.31.239.199/32 brd 172.31.239.199 scope global eth0\n       valid_lft forever preferred_lft forever\n...\n4: net1@if2: <BROADCAST,MULTICAST,UP,LOWER_UP,M-DOWN> mtu 1500 qdisc noqueue \n    link/ether a6:e5:01:82:81:82 brd ff:ff:ff:ff:ff:ff\n    inet 10.244.0.3/24 brd 10.244.0.255 scope global net1\n       valid_lft forever preferred_lft forever\n...\n```", "```\nroot@host01:~# kubectl exec -ti pod1 -- ping -c 3 10.244.0.3\nPING 10.244.0.3 (10.244.0.3): 56 data bytes\n64 bytes from 10.244.0.3: seq=0 ttl=64 time=3.125 ms\n64 bytes from 10.244.0.3: seq=1 ttl=64 time=0.192 ms\n64 bytes from 10.244.0.3: seq=2 ttl=64 time=0.085 ms\n\n--- 10.244.0.3 ping statistics ---\n3 packets transmitted, 3 packets received, 0% packet loss\nround-trip min/avg/max = 0.085/1.134/3.125 ms\n```"]