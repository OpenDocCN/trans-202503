<html><head></head><body>
<h2 class="h2" id="ch18"><span epub:type="pagebreak" id="page_145"/>—18—<br/>Building Binary Search Ladders</h2>&#13;
<p class="noindent">You didn’t think we would change the password, Mr. Runtime?” asked a voice behind Frank.</p>&#13;
<p class="indent">Frank whipped his head around. The spy was strolling toward him, calm and unhurried. Frank tried to stand, but his left foot protested with a burst of pain. He settled for scooting around on his butt until he faced her.</p>&#13;
<p class="indent">“I didn’t think the Vinettees would have the ability to change it,” Frank admitted. “It’s hard to find an evil wizard these days. I hear their last wizard is selling coconuts now.”</p>&#13;
<p class="indent">“Difficult, yes. So many of the best evil wizards fled or took positions of commercially viable neutrality. However, it is not impossible to find help. Let’s just say the Vinettees were able to make a suitable arrangement. They have found a wizard who is willing to provide certain magical assistance in exchange for their services in other areas.”</p>&#13;
<p class="indent">She waved toward the ladders. “Admittedly, he isn’t as talented as Katia when it comes to binary search tree traps. She was a true artist. But his work is sufficient.</p>&#13;
<p class="indent">“Believe it or not, you almost made it down. You were one ladder off. The password is 26. We obviously didn’t want him changing too <span epub:type="pagebreak" id="page_146"/>many ladders—just enough to trap anyone who tried to reuse an old password. So close.”</p>&#13;
<div class="image"><img src="../images/f0146-01.jpg" alt="image"/></div>&#13;
<p class="indent">Frank remained silent, but when she didn’t continue, he asked, “Who are you?”</p>&#13;
<p class="indent">“My name is not important. I work for the Vinettees.”</p>&#13;
<p class="indent">“A spy?”</p>&#13;
<p class="indent">She shrugged. “I collect information. Call it what you want.”</p>&#13;
<p class="indent">“What do you want with me?”</p>&#13;
<p class="indent">“We want you out of the way, obviously.”</p>&#13;
<p class="indent">Frank considered the implications. It would take more than a bitten foot to sideline him, and the spy had to know this. Which meant that she planned to either kill him or keep him captive. While neither option appealed to Frank, he always preferred the one that didn’t involved getting killed.</p>&#13;
<div class="image"><img src="../images/f0146-02.jpg" alt="image"/></div>&#13;
<p class="indent">As though reading his thoughts, the spy responded, “I had hoped the binary search ladder trap would do the job, but no. Not yet, at least.” She walked over to another ladder just past 26 and struck a rung with the palm of her hand. A dull <span epub:type="pagebreak" id="page_147"/>gonging sound filled the room. Then she struck again twice more. <em>Gong</em>. <em>Gong</em>.</p>&#13;
<p class="indent">“Goodbye, Mr. Runtime,” she said. And, without so much as a backward glance, she strode from the room.</p>&#13;
<p class="indent">Confused, Frank watched her go. Then movement out of the corner of his eye caught his attention. As he watched, three rungs detached themselves and dropped to the floor. After a moment, they started wriggling toward him, hissing quietly. Snake rungs.</p>&#13;
<p class="indent">Frank moved quickly. The snake rungs were dangerous but slow. If he could make it to ladder 26, he still had a chance. He crawled on his hands and knees, not trusting his foot yet. He used the ladder to pull himself to his feet and leaned heavily against the metal. There was no doubt about it, this climb was going to hurt.</p>&#13;
<p class="indent">The snake rungs were just a few feet away now.</p>&#13;
<p class="indent">With a groan of annoyance, Frank reached up and started to climb the ladder. It was more of a hop than a climb; he had to jump off his good foot and pull himself to the next rung. His left foot throbbed with each movement.</p>&#13;
<p class="indent">Frank hauled himself up to the top and collapsed onto platform 25, lying back to catch his breath and curse binary search ladders. To think that he had once thought these structures beautiful, elegant even. He had been to several of Alena’s exhibits during his police academy days and had even attended the world’s one and only instance of binary search tree performance art.</p>&#13;
<p class="indent">The exhibit had been called <em>Raise the Pears</em>. Alena had contracted three wizards to magically raise a binary search ladder in real time, organizing a collection of paintings by the number of pears they depicted. Pear-centric still life had been a craze that year, a phenomenon later blamed on the poor quality of the apple crop. While not as embarrassing as the following year’s obsession with toast sculptures, the pear craze is still only ever discussed in art history classes, and even there only in hushed tones, with the appropriate expression of disgust.</p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_148"/>Seven assistants, each carrying a crude painting containing pears, had paraded into the gallery. They stood in sorted order from 1 to 23 pears, the paintings held in front of their faces to hide their shame at the absurd spectacle.</p>&#13;
<div class="image"><img src="../images/f0148-01.jpg" alt="image"/></div>&#13;
<p class="indent">The first wizard stepped forward. He counted out the pictures, finding the middle element. The painting depicted eight pears and a cup of milk on a wooden table.</p>&#13;
<p class="indent">“Tree root ascend,” the wizard shouted. Immediately the line of paintings split into three groups. On the left were the paintings with fewer than eight pears. On the right were the paintings with more than eight pears. And floating above them was the new root of the binary search tree. He had made the first branch.</p>&#13;
<div class="image"><img src="../images/f0148-02.jpg" alt="image"/></div>&#13;
<p class="indent">After that, the other two wizards recursively divided the paintings on each side, first left and then right. The process was always the same. The wizard selected the middle element and partitioned the paintings based on that element. As they worked, the tree rose into the air and branched out below the root node.</p>&#13;
<div class="image"><img src="../images/f0148-03.jpg" alt="image"/></div>&#13;
<div class="image"><span epub:type="pagebreak" id="page_149"/><img src="../images/f0149-01.jpg" alt="image"/></div>&#13;
<p class="indent">At the time, the demonstration had seemed amazing. Now, sitting on the weaponized form of the data structure, Frank found the whole concept rather idiotic. He wondered how he could have ever thought the recursive division of paintings was beautiful.</p>&#13;
<p class="indent">The sound of hissing brought Frank back to the moment. The end of a snake rung poked up onto the platform and swiveled around, searching for Frank. Given that it was little more than an animated piece of metal, Frank wasn’t exactly sure how the snake rung searched. It didn’t have any eyes, nose, or mouth. Maybe it sensed vibrations.</p>&#13;
<p class="indent">He considered kicking the snake rung down, but decided against it. Snake rungs were inexplicably poisonous, considering their lack of a mouth.</p>&#13;
<p class="indent">Instead, Frank decided to continue his retreat. He scooted over to the upward ladder and hoisted himself into a standing position. The pain in his ankle had subsided enough to make the next climb more of a traditional ladder experience and less a frantic hopping motion.</p>&#13;
<p class="indent">Frank continued directly up the next level, returning to the top root-node platform with the little brass tag reading 50.</p>&#13;
<p class="indent">He paused to mutter yet another curse against binary search ladders. They were, as he saw it now, quite stupid contraptions. Despite not having any actual reasoning behind it, Frank felt confident in his assessment. With a satisfied nod, he pulled himself back onto the street and away from the snake rungs.</p>&#13;
<div class="sidebar">&#13;
<p class="sidebart"><span epub:type="pagebreak" id="page_150"/><strong>POLICE ALGORITHMS 101: BINARY SEARCH TREES</strong></p>&#13;
<p class="sbsub"><em><strong>Excerpt from Professor Drecker’s Lecture</strong></em></p>&#13;
<p class="noindent">You can create binary search trees from a sorted array by recursively dividing the elements into smaller subsets. At each level, the middle value is chosen as the node at that level. If there is an even number of elements, you can use either of the two middle elements.</p>&#13;
<div class="image"><img src="../images/f0150-01.jpg" alt="image"/></div>&#13;
<p class="indent">Once the root node has been created, both the left and right subsets will then independently split in the same way. Conceptually, we split the sorted array into left and right arrays and apply the same algorithm on each of those arrays.</p>&#13;
<div class="image"><img src="../images/f0150-02.jpg" alt="image"/></div>&#13;
<p class="indent">Note that during construction, it is not actually necessary to split or copy the array. The algorithm can use a single array by simply tracking the indexes of the lowest and highest value in the current branch.</p>&#13;
<div class="image"><img src="../images/f0150-03.jpg" alt="image"/></div>&#13;
</div>&#13;
</body></html>