<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en" xml:lang="en">
<head>
<title>JavaScript Crash Course</title>
<meta content="text/html; charset=utf-8" http-equiv="default-style"/>
<link href="../styles/stylesheet.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:26ab05bf-a247-42ca-b08d-ede069333d2b" name="Adept.expected.resource"/>
</head>
<body epub:type="bodymatter">
<section aria-labelledby="ch4" epub:type="chapter" role="doc-chapter">
<hgroup>
<h2 class="CHAPTER" id="ch4">
<span class="CN"><span aria-label=" Page 57. " epub:type="pagebreak" id="pg_57" role="doc-pagebreak"/><samp class="SANS_Futura_Std_Bold_Condensed_B_11">4</samp></span>
<span class="CT"><samp class="SANS_Dogma_OT_Bold_B_11">CONDITIONALS AND LOOPS</samp></span>
</h2>
</hgroup>
<figure class="opener"><img alt="" class="opener" src="../images/opener.png"/>
</figure>
<p class="INTROTNI2"><i>Conditionals</i> and <i>loops</i> are essential elements in programming. They add logic and structure to your programs by allowing your code to make decisions based on specific conditions. Together, conditionals and loops are known as <i>control structures</i> because they give you control over when and how often parts of your code should run. With conditionals, you can run a particular piece of code only if a certain condition is true. Meanwhile, loops enable you to repeatedly run a piece of code for as long as a condition remains true.</p>
<p class="TX">In this chapter you’ll learn how to conditionally execute code with <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statements and how to loop code with <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> statements. You’ll also learn techniques for looping over the elements within a compound data <span aria-label=" Page 58. " epub:type="pagebreak" id="pg_58" role="doc-pagebreak"/>type. This is especially useful if you need to perform an operation on every element of an array or object.</p>
<p class="TX">As we start to work with control structures, we’ll begin writing more elaborate scripts that are less practical to enter directly into the console, where each statement executes as soon as you enter it. For this reason, we’ll switch in this chapter to embedding JavaScript code in HTML files and then opening those files in the browser. This enables you to run an entire program at once, and lets you easily make changes and re-run the whole thing. To review how to do this, see “Using a Text Editor” in <a href="chapter1.xhtml">Chapter 1</a>.</p>
<section aria-labelledby="sec1" epub:type="division">
<h3 class="H1" id="sec1"><span id="h1-23"/><samp class="SANS_Futura_Std_Bold_B_11">Making Decisions with Conditionals</samp></h3>
<p class="TNI1">Conditionals let you run a block of code when some condition you set is found to be true. For example, you might want to display a warning message only when your bank balance is below a certain threshold, or make the player in a game lose a life when they get hit by an enemy. You typically create these conditions using the comparison operators, like <span class="SANS_TheSansMonoCd_W5Regular_11">===</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">&gt;</span>, that we discussed in <a href="chapter2.xhtml">Chapter 2</a>. You can also combine multiple conditions with logical operators like <span class="SANS_TheSansMonoCd_W5Regular_11">&amp;&amp;</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">||</span>. The key is that the overall condition should evaluate to <span class="SANS_TheSansMonoCd_W5Regular_11">true</span> or <span class="SANS_TheSansMonoCd_W5Regular_11">false</span>.</p>
<p class="TX">There are two main kinds of conditional statement: <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statements and <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statements. We’ll consider each type in turn.</p>
<section aria-labelledby="sec2" epub:type="division">
<h4 class="H2" id="sec2"><span id="h2-30"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">if Statements</samp></h4>
<p class="TNI1">An <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement runs code if some condition is true, or skips that code if the condition is false. For example, let’s create a program that logs a message to the console if a value is greater than a certain threshold. Open VS Code, create a new file called <i>if.html</i>, and enter the contents of <a href="#Lis4-1">Listing 4-1</a>.</p>
<span id="Lis4-1"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let speed = 30;
console.log(`Your current speed is ${speed} mph.`);
<span aria-label="annotation1" class="CodeAnnotationHang">❶</span> if (speed &gt; 25) {
  console.log("Slow down!");
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-1: An if statement</samp></p>
<p class="TX">This code begins and ends with the same tags we used in <a href="chapter1.xhtml">Chapter 1</a> to embed JavaScript code in an HTML file. The JavaScript itself first initializes the <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> variable to <span class="SANS_TheSansMonoCd_W5Regular_11">30</span> and prints that value to the console using <span class="SANS_TheSansMonoCd_W5Regular_11">console.log</span>. Then we use an <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement <span aria-label="annotation1" class="CodeAnnotationCode">❶</span> to check the value of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> and print another message if the value is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>.</p>
<p class="TX">The <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement begins with the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> keyword and has two main parts: the <i>condition</i>, which is written inside parentheses, and the code to run <span aria-label=" Page 59. " epub:type="pagebreak" id="pg_59" role="doc-pagebreak"/>if the condition is true, called the <i>body</i>, which is written between a set of braces. Here, the condition is <span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span> and the code to run if that’s true is <span class="SANS_TheSansMonoCd_W5Regular_11">console.log("Slow down!")</span>. Because we’ve set <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to be greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>, the condition is true, so the code in the body will run. Therefore, if you open <i>if.html</i> in your browser, you should see the following output in the JavaScript console:</p>

<pre><code>Your current speed is 30 mph.
Slow down!
</code></pre>
<p class="TX">Our condition passed, so the <span class="SANS_TheSansMonoCd_W5Regular_11">Slow down!</span> message was logged to the console. If the condition had been false, however, the code in the body of the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement wouldn’t have run. To see this for yourself, try updating <i>if.html</i> by initializing <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">20</span> rather than <span class="SANS_TheSansMonoCd_W5Regular_11">30</span>. Then resave the file and reload the page. This time, you should just see the following output:</p>

<pre><code>Your current speed is 20 mph.</code></pre>
<p class="TX">Because <span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span> now evaluates to <span class="SANS_TheSansMonoCd_W5Regular_11">false</span>, the code inside the braces doesn’t run. The code outside the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement body does still run, however, so we still see the value of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> printed out thanks to the first <span class="SANS_TheSansMonoCd_W5Regular_11">console .log</span> call.</p>
</section>
<section aria-labelledby="sec3" epub:type="division">
<h4 class="H2" id="sec3"><span id="h2-31"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">if…else Statements</samp></h4>
<p class="TNI1">Often you’ll want to run one piece of code when a condition is true, or another piece of code when that condition is false. For this, we use an <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statement. To try it out, create a new file called <i>ifElse.html</i> and enter the contents of <a href="#Lis4-2">Listing 4-2</a>.</p>
<span id="Lis4-2"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let speed = 20;
console.log(`Your current speed is ${speed} mph.`);
if (speed &gt; 25) {
<span aria-label="annotation1" class="CodeAnnotationCode">❶</span> console.log("Slow down!");
} else {
<span aria-label="annotation2" class="CodeAnnotationCode">❷</span> console.log("You're obeying the speed limit.");
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-2: An if…else statement</samp></p>
<p class="TX">This code uses an <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statement to check if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>. As in <a href="#Lis4-1">Listing 4-1</a>, the conditional begins with the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> keyword followed by the condition in parentheses. Unlike in <a href="#Lis4-1">Listing 4-1</a>, however, the <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statement has two bodies instead of just one, with the <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> keyword between them. The first body <span aria-label="annotation1" class="CodeAnnotationCode">❶</span> runs if the condition is true, and the second body <span aria-label="annotation2" class="CodeAnnotationCode">❷</span> runs if the condition is false. Each body is enclosed in its own set of braces. In this case, because <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is <span class="SANS_TheSansMonoCd_W5Regular_11">20</span>, the condition evaluates to <span class="SANS_TheSansMonoCd_W5Regular_11">false</span>, so the second <span aria-label=" Page 60. " epub:type="pagebreak" id="pg_60" role="doc-pagebreak"/>body runs. When you open the file in Chrome, you should see the following output:</p>

<pre><code>Your current speed is 20 mph.
You're obeying the speed limit.
</code></pre>
<p class="TX">The message from the <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> body has been logged to the console. However, if you try setting <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to a higher value, like <span class="SANS_TheSansMonoCd_W5Regular_11">30</span>, the message from the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> body will be logged instead.</p>
</section>
<section aria-labelledby="sec4" epub:type="division">
<aside aria-label="box-10" class="box" id="sec4">
<h4 class="BH" id="box-10"><samp class="SANS_Dogma_OT_Bold_B_11">TRY IT YOURSELF</samp></h4>
<p class="BoxListNumber"><samp class="SANS_Futura_Std_Bold_B_11">  4-1.</samp><samp class="SANS_Futura_Std_Book_11">  Create a new file called</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">cointoss.html</samp> <samp class="SANS_Futura_Std_Book_11">with the usual HTML setup code, then add some JavaScript to simulate a coin toss. Generate a random number between 0 and 1 with</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">Math.random()</span><samp class="SANS_Futura_Std_Book_11">, and write an</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> <samp class="SANS_Futura_Std_Book_11">statement that will log</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">"heads"</span> <samp class="SANS_Futura_Std_Book_11">if the number is less than 0.5 or</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">"tails"</span> <samp class="SANS_Futura_Std_Book_11">otherwise. Every time you reload this file, you’ll get a new random heads or tails value.</samp></p>
</aside>
</section>
<section aria-labelledby="sec5" epub:type="division">
<h4 class="H2" id="sec5"><span id="h2-32"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">More Complex Conditions</samp></h4>
<p class="TNI1">It’s possible to use more complex Boolean expressions as conditions by incorporating logical operators. For example, say you only wanted to check a driver’s speed during school hours. Assuming you have an <span class="SANS_TheSansMonoCd_W5Regular_11">hour</span> variable that contains the current hour (using 24-hour time), you could do something like this:</p>

<pre><code>if (speed &gt; 25 &amp;&amp; hour &gt; 7 &amp;&amp; hour &lt; 16) {</code></pre>
<p class="BodyContinued">The body of this <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement will run only if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">hour</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">7</span> but less than <span class="SANS_TheSansMonoCd_W5Regular_11">16</span>. In other words, a <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> above <span class="SANS_TheSansMonoCd_W5Regular_11">25</span> won’t cause the body of the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement to execute if it’s outside school hours.</p>
<p class="TX">If your conditions get too complex, it can become hard to read your <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statements. In that case, it’s often best to write the Boolean expression separately and assign it to a new variable. Then you can use this variable as the condition for the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement. For example, the previous conditional could be rewritten as:</p>

<pre><code>let tooFastForSchool = speed &gt; 25 &amp;&amp; hour &gt; 7 &amp;&amp; hour &lt; 16;
if (tooFastForSchool) {
</code></pre>
<p class="BodyContinued">Here we’ve assigned the same complex Boolean expression to the <span class="SANS_TheSansMonoCd_W5Regular_11">tooFastFor School</span> variable, then provided that variable to the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement. Thanks to the meaningful variable name, the conditional now almost reads like a sentence: “If too fast for school, [do something].”</p>
<p class="TX"><span aria-label=" Page 61. " epub:type="pagebreak" id="pg_61" role="doc-pagebreak"/>If it seems odd to lump the <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">hour</span> tests into a single Boolean variable, a middle ground could be to put just the <span class="SANS_TheSansMonoCd_W5Regular_11">hour</span> checks into a variable, like so:</p>

<pre><code>let schoolHours = hour &gt; 7 &amp;&amp; hour &lt; 16;
if (speed &gt; 25 &amp;&amp; schoolHours) {
</code></pre>
<p class="BodyContinued">Now the <span class="SANS_TheSansMonoCd_W5Regular_11">schoolHours</span> variable holds <span class="SANS_TheSansMonoCd_W5Regular_11">true</span> or <span class="SANS_TheSansMonoCd_W5Regular_11">false</span> based on whether or not it’s during school hours, and the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement combines this variable with the <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> test. In the end, the approach you choose comes down to the subjective question of how easy you find the code to read.</p>
</section>
<section aria-labelledby="sec6" epub:type="division">
<h4 class="H2" id="sec6"><span id="h2-33"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">Chained if…else Statements</samp></h4>
<p class="TNI1">If you need your code to decide between three or more possible branches, you can chain together multiple <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statements. For example, you can use this technique to log one of three possible messages depending on the value of the <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> variable. Create a new file called <i>ifElseIf.html</i> with the code shown in <a href="#Lis4-3">Listing 4-3</a>.</p>
<span id="Lis4-3"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let speed = 20;
console.log(`Your current speed is ${speed} mph.`);
if (speed &gt; 25) {
  console.log("Slow down!");
} else if (speed &gt; 15) {
  console.log("You're driving at a good speed.");
} else {
  console.log("You're driving too slowly.");
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-3: A chained if…else statement with three bodies</samp></p>
<p class="TX">This script is very similar to the <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statement in <a href="#Lis4-2">Listing 4-2</a>, except now there are three sections, each with its own body: <span class="SANS_TheSansMonoCd_W5Regular_11">if</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">else if</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">else</span>. Only one of the bodies—the first body whose condition is true—will run. Here’s how it works:</p>
<div class="top">
<p class="NL">  1.  First, we use <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> to check if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>. If it is, the first body runs, logging <span class="SANS_TheSansMonoCd_W5Regular_11">"Slow down!"</span> to the console, and the remaining conditions are skipped.</p>
<p class="NL">  2.  Next, we use <span class="SANS_TheSansMonoCd_W5Regular_11">else if</span> to add a second condition, testing if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">15</span> and logging a different message if it is. If the code gets to this point, it’ll be because <span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span> was already found to be false, so essentially <span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 15</span> is testing if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is between <span class="SANS_TheSansMonoCd_W5Regular_11">15</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>. We could make this explicit by writing <span class="SANS_TheSansMonoCd_W5Regular_11">else if (speed &gt; 15 &amp;&amp; speed &lt;= 25)</span>, but since we already know <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> can’t be greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>, we don’t need to specify the <span class="SANS_TheSansMonoCd_W5Regular_11">&amp;&amp; speed &lt;= 25</span> part.</p>
<p class="NL">  3.  Finally, we use <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> to log a third possible message if neither of the previous conditions was true.</p>
</div>
<p class="TX"><span aria-label=" Page 62. " epub:type="pagebreak" id="pg_62" role="doc-pagebreak"/>In this case, we’ve set <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">20</span>, so only the <span class="SANS_TheSansMonoCd_W5Regular_11">else if</span> branch should run, producing the following output:</p>

<pre><code>Your current speed is 20 mph.
You're driving at a good speed.
</code></pre>
<p class="BodyContinued">Try experimenting with different values of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to trigger the <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> branches instead.</p>
<p class="TX">You can chain as many <span class="SANS_TheSansMonoCd_W5Regular_11">else if</span> clauses as you want between the initial <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> and the final <span class="SANS_TheSansMonoCd_W5Regular_11">else</span>, as shown in <a href="#Lis4-4">Listing 4-4</a>, to create any number of possible branches in your conditional structure.</p>
<span id="Lis4-4"/>
<pre><code>if (speed &gt; 25) {
  console.log("Slow down!");
} else if (speed &gt; 20) {
  console.log("You're driving at a good speed.");
} else if (speed &gt; 15) {
  console.log("You're driving a little bit too slowly.");
} else if (speed &gt; 10) {
  console.log("You're driving too slowly.");
} else {
  console.log("You're driving far too slowly!");
}
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-4: A chained if…else</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">statement with five bodies</samp></p>
<p class="TX">This chained <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statement has five possible bodies, depending on whether <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">20</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">15</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">10</span>, or none of these. As with the previous example, the order of conditions matters here. Making the comparisons in order from greatest to least allows us to define five ranges of possible values for <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span>, without having to explicitly define the upper bounds of the ranges. For example, we can write <span class="SANS_TheSansMonoCd_W5Regular_11">else if (speed &gt; 15)</span> rather than <span class="SANS_TheSansMonoCd_W5Regular_11">else if (speed &gt; 15 &amp;&amp; speed &lt;= 20)</span> for the third branch, since we’ve already confirmed by then that <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> isn’t greater than <span class="SANS_TheSansMonoCd_W5Regular_11">20</span>. <a href="chapter4.xhtml#tab4-1">Table 4-1</a> shows the full conditions for each branch in <a href="#Lis4-4">Listing 4-4</a>.</p>
<table class="table">
<thead>
<tr>
<th class="TT" colspan="2" scope="colgroup"><p class="TableTitle" id="tab4-1"><samp class="SANS_Futura_Std_Heavy_B_11">Table 4-1:</samp> <samp class="SANS_Futura_Std_Book_11">Full Conditions and Outputs for <a href="#Lis4-4">Listing 4-4</a></samp></p></th>
</tr>
</thead>
<tbody>
<tr>
<td class="TCH"><p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">Condition</samp></p></td>
<td class="TCH"><p class="TableHeader"><samp class="SANS_Futura_Std_Heavy_B_11">Output</samp></p></td>
</tr>
<tr>
<td class="TBF"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span></p></td>
<td class="TBF"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">Slow down!</span></p></td>
</tr>
<tr>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 20 &amp;&amp; speed &lt;= 25</span></p></td>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">You're driving at a good speed.</span></p></td>
</tr>
<tr>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 15 &amp;&amp; speed &lt;= 20</span></p></td>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">You're driving a little bit too slowly.</span></p></td>
</tr>
<tr>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 10 &amp;&amp; speed &lt;= 15</span></p></td>
<td class="TB"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">You're driving too slowly.</span></p></td>
</tr>
<tr>
<td class="TBL"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">speed &lt;= 10</span></p></td>
<td class="TBL"><p class="TableBody"><span class="SANS_TheSansMonoCd_W5Regular_11">You're driving far too slowly!</span></p></td>
</tr>
</tbody>
</table>
<p class="TX">Note that we could reverse the order of the conditions and bodies and end up with the same effect. Reversed, the conditions would be <span class="SANS_TheSansMonoCd_W5Regular_11">speed &lt;= 10</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">speed &lt;= 15</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">speed &lt;= 20</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">speed &lt;= 25</span>. The <span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span> case would be handled in the <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> block. The important thing to recognize is that the conditions <span aria-label=" Page 63. " epub:type="pagebreak" id="pg_63" role="doc-pagebreak"/>are checked one by one, in sequence, so checking the second condition implies that the first condition was false. Also, notice that the opposite of <span class="SANS_TheSansMonoCd_W5Regular_11">&gt;</span> is <span class="SANS_TheSansMonoCd_W5Regular_11">&lt;=</span> (think which case would be hit if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> were exactly <span class="SANS_TheSansMonoCd_W5Regular_11">10</span>).</p>
</section>
<section aria-labelledby="sec7" epub:type="division">
<aside aria-label="box-11" class="box" id="sec7">
<h4 class="BH" id="box-11"><samp class="SANS_Dogma_OT_Bold_B_11">DO YOU NEED BRACES?</samp></h4>
<p class="BoxBodyFirst"><samp class="SANS_Futura_Std_Book_11">It’s possible to write</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">and</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> <samp class="SANS_Futura_Std_Book_11">statements without braces, as long as the body consists of a single statement. For example:</samp></p>

<pre><code>if (speed &gt; 25)
 console.log("Slow down!");
else
 console.log("You're driving under the speed limit.");
</code></pre>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">Omitting the braces from the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">and</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> <samp class="SANS_Futura_Std_Book_11">bodies is valid here, since each body contains only one statement. We’ve still put each body on a separate line and indented it for clarity, but this, too, isn’t strictly necessary. The bodies can go on the same lines as the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">and</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">else</span> <samp class="SANS_Futura_Std_Book_11">keywords, as shown here:</samp></p>

<pre><code>if (speed &gt; 25) console.log("Slow down!");
else console.log("You're driving under the speed limit.");
</code></pre>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">These examples work fine, but if you have more than one line in the body, you need to include the braces to specify where the body of the conditional ends and the code after the conditional begins. It’s also good coding style to indent the body. In this book, we’ll always use braces and indentation, for consistency.</samp></p>
</aside>
</section>
</section>
<section aria-labelledby="sec8" epub:type="division">
<h3 class="H1" id="sec8"><span id="h1-24"/><samp class="SANS_Futura_Std_Bold_B_11">Repeating Code with Loops</samp></h3>
<p class="TNI1">Loops are another form of control structure in JavaScript that let you repeatedly run the same code as many times as necessary. For example, you could use a loop to print out each item on a shopping list. Without a loop, this wouldn’t be possible because you don’t necessarily know ahead of time how many items there are on the list. Loops are also useful when you want to keep running the same piece of code until some condition becomes true; for example, repeatedly asking a user to enter their date of birth until they provide a valid date.</p>
<p class="TX">You’ll learn about four kinds of loops in this chapter: <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loops, <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loops, <span class="SANS_TheSansMonoCd_W5Regular_11">for…in</span> loops, and <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loops. Let’s start with <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loops.</p>
<section aria-labelledby="sec9" epub:type="division">
<h4 class="H2" id="sec9"><span id="h2-34"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">while Loops</samp></h4>
<p class="TNI1">Similar to an <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement, a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop depends on a conditional test. Just like an <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement, a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop will skip executing its code altogether if the condition is initially found to be false. Unlike an <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement, however, <span aria-label=" Page 64. " epub:type="pagebreak" id="pg_64" role="doc-pagebreak"/>a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop will keep running the code in its body as long as the condition is true, rechecking the condition before each new repetition. In other words, it repeatedly runs a block of code <i>while</i> some condition is true. This is useful when you need to execute a piece of code multiple times, allowing your program to keep running as long as it’s needed, instead of just running through once and stopping.</p>
<p class="TX">To see how a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop works, create a new file called <i>while.html</i> and enter the contents of <a href="#Lis4-5">Listing 4-5</a>.</p>
<span id="Lis4-5"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let speed = 30;
<span aria-label="annotation1" class="CodeAnnotationHang">❶</span> while (speed &gt; 25) {
  console.log(`Your current speed is ${speed} mph.`);
  speed--;
}
<span aria-label="annotation2" class="CodeAnnotationHang">❷</span> console.log(`Now your speed is ${speed} mph.`);
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-5: A while loop</samp></p>
<p class="TX">This script sets <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">30</span>, then uses a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop <span aria-label="annotation1" class="CodeAnnotationCode">❶</span> to bring that speed within the limit. We write the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop using the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> keyword, followed by a condition in parentheses and a body in braces, much like an <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> statement. Here, our condition checks if <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>. Our body logs the value of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to the console, then uses the decrement operator (<span class="SANS_TheSansMonoCd_W5Regular_11">--</span>) to decrease <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> by one. This gives us a new value of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to test the next time through the loop. The <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop will keep repeating the body until the condition is false, producing the following output:</p>

<pre><code>Your current speed is 30 mph.
Your current speed is 29 mph.
Your current speed is 28 mph.
Your current speed is 27 mph.
Your current speed is 26 mph.
Now your speed is 25 mph.
</code></pre>
<p class="TX">Let’s think about what happens when this code runs. The first time we hit the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop, <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is <span class="SANS_TheSansMonoCd_W5Regular_11">30</span>, so the condition (<span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span>) is true. This means the body of the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop runs once, outputting <span class="SANS_TheSansMonoCd_W5Regular_11">Your current speed is 30 mph.</span> and decrementing <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> from <span class="SANS_TheSansMonoCd_W5Regular_11">30</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">29</span>. At the end of the loop body, we go back to the start and check the condition again. Since <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is now <span class="SANS_TheSansMonoCd_W5Regular_11">29</span>, the condition is still true, so we run the body again, printing <span class="SANS_TheSansMonoCd_W5Regular_11">Your current speed is 29 mph.</span> and decrementing <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">28</span>. Then we go back to the start and check the condition yet again, and so on. Finally, the fifth time through the loop, <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> decrements from <span class="SANS_TheSansMonoCd_W5Regular_11">26</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>. When we then check the condition for a sixth time, it evaluates to <span class="SANS_TheSansMonoCd_W5Regular_11">false</span> (<span class="SANS_TheSansMonoCd_W5Regular_11">25</span> isn’t greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>). This causes JavaScript to stop looping and jump to the first line of code following the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop <span aria-label="annotation2" class="CodeAnnotationCode">❷</span>, which outputs the final line of text.</p>
</section>
<section aria-labelledby="sec10" epub:type="division">
<aside aria-label="box-12" class="box" id="sec10">
<h4 class="BH" id="box-12"><span aria-label=" Page 65. " epub:type="pagebreak" id="pg_65" role="doc-pagebreak"/><samp class="SANS_Dogma_OT_Bold_B_11">BEWARE OF INFINITE LOOPS!</samp></h4>
<p class="BoxBodyFirst"><samp class="SANS_Futura_Std_Book_11">It’s very easy to accidentally end up in an</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">infinite loop</samp><samp class="SANS_Futura_Std_Book_11">, where the looping condition will always be true. In this case, your loop will never stop repeating until you close the browser tab. If you’re unlucky, you might even cause your browser to crash!</samp></p>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">For example, if you changed <a href="#Lis4-5">Listing 4-5</a> to use</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">speed++</span> <samp class="SANS_Futura_Std_Book_11">instead of</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">speed--</span> <samp class="SANS_Futura_Std_Book_11">at the end of the body, you’d end up in an infinite loop. The output would look something like this:</samp></p>

<pre><code>Your current speed is 30 mph.
Your current speed is 31 mph.
Your current speed is 32 mph.
Your current speed is 33 mph.
Your current speed is 34 mph.
Your current speed is 35 mph.
Your current speed is 36 mph.
<var>--snip--</var>
</code></pre>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">The value of</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> <samp class="SANS_Futura_Std_Book_11">would keep increasing until you closed the browser tab, because the condition would never not be met;</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> <samp class="SANS_Futura_Std_Book_11">would always be greater than</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">25</span><samp class="SANS_Futura_Std_Book_11">. If you ever end up in a situation like this, read your code through carefully and make sure that the condition will eventually become false.</samp></p>
</aside>
</section>
<section aria-labelledby="sec11" epub:type="division">
<h4 class="H2" id="sec11"><span id="h2-35"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">for Loops</samp></h4>
<p class="TNI1">A <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop is another, more structured style of JavaScript loop. Like a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop, a <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop keeps repeating as long as some condition is true. But unlike in a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop, in a <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop the code for managing the repetitions appears at the start of the loop, separate from the loop body.</p>
<p class="TX">Often, loops have a particular <i>looping variable</i> that keeps track of the state of the loop. A common pattern is to set the looping variable to a starting value, update it somehow, and check some condition based on the looping variable to decide whether the repetition should stop. For example, our <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop in <a href="#Lis4-5">Listing 4-5</a> follows this pattern, with <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> serving as the looping variable. We set <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">30</span> before entering the loop, decrement <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> each time through the loop, and keep looping until <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is no longer greater than <span class="SANS_TheSansMonoCd_W5Regular_11">25</span>.</p>
<p class="TX">A <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop is just a more convenient way to write this pattern. With <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loops, we move the code to set up and update the looping variable into the first line of the loop, within the same set of parentheses where we write the loop condition. To illustrate, let’s rewrite the previous example to use a <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop instead of a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop. Save the contents of <a href="#Lis4-6">Listing 4-6</a> in <i>for.html</i>.</p>
<span id="Lis4-6"/>
<pre><code><span aria-label=" Page 66. " epub:type="pagebreak" id="pg_66" role="doc-pagebreak"/>&lt;html&gt;&lt;body&gt;&lt;script&gt;
for (let speed = 30; speed &gt; 25; speed--) {
  console.log(`Your current speed is ${speed} mph.`);
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-6: A for loop</samp></p>
<p class="TX">We declare the <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop with the <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> keyword, followed by a set of parentheses containing three components, each with its own loop management task:</p>
<div class="top">
<p class="NL">  1.  Initialize the looping variable (<span class="SANS_TheSansMonoCd_W5Regular_11">let speed = 30</span>).</p>
<p class="NL">  2.  Set the looping condition (<span class="SANS_TheSansMonoCd_W5Regular_11">speed &gt; 25</span>).</p>
<p class="NL">  3.  Update the looping variable (<span class="SANS_TheSansMonoCd_W5Regular_11">speed--</span>). The update will occur after each repetition of the loop.</p>
</div>
<p class="BodyContinued">These three components are separated by semicolons.</p>
<p class="TX">Inside the loop body, we have a single statement logging the value of <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> to the console. Notice that we no longer have to decrement <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> as part of the loop body, as we did in the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop; this is covered by the third part of the loop management code in parentheses. Likewise, we no longer have to initialize <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> before declaring the loop; that, too, is handled inside the parentheses.</p>
<p class="TX">Running this script will produce mostly the same output as the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop from <a href="#Lis4-5">Listing 4-5</a>:</p>

<pre><code>Your current speed is 30 mph.
Your current speed is 29 mph.
Your current speed is 28 mph.
Your current speed is 27 mph.
Your current speed is 26 mph.
</code></pre>
<p class="TX">The only difference is that we can’t log the final speed after the loop ends, as we did with the <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop. This is because the <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> variable is declared as part of the code for the loop itself, rather than before the loop. As such, <span class="SANS_TheSansMonoCd_W5Regular_11">speed</span> is confined to the <i>scope</i> of the loop, meaning code outside the loop doesn’t have access to it. This is actually one of the advantages of <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loops: the looping variable exists just for the loop and can’t be accidentally used or changed in other parts of the code.</p>
<p class="TX">There’s nothing you can do with a <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop that you can’t do with a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop, but most programmers find <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loops easier to read than the equivalent <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loops, because all the looping logic is gathered in one place.</p>
</section>
<section aria-labelledby="sec12" epub:type="division">
<aside aria-label="box-13" class="box" id="sec12">
<h4 class="BH" id="box-13"><span aria-label=" Page 67. " epub:type="pagebreak" id="pg_67" role="doc-pagebreak"/><samp class="SANS_Dogma_OT_Bold_B_11">WHAT IS SCOPE?</samp></h4>
<p class="BoxBodyFirst"><samp class="SANS_Futura_Std_Book_11">All bindings in JavaScript have</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">scope</samp><samp class="SANS_Futura_Std_Book_11">, which is the area of code in which they’re accessible. For example, if you declare a variable with</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">let</span> <samp class="SANS_Futura_Std_Book_11">inside a</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> <samp class="SANS_Futura_Std_Book_11">loop, that variable can’t be used outside of the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> <samp class="SANS_Futura_Std_Book_11">loop. If, however, you declare the variable outside of the loop, it can be used inside the loop. The same goes for variables declared in the body of an</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">statement. Each nesting of control structure (or function definition, as you’ll see in <a href="chapter5.xhtml">Chapter 5</a>) adds a new layer of scope. Bindings defined in the outer layers can be accessed by the inner layers, but not vice versa. Consider this example:</samp></p>

<pre><code>let name <span class="SANS_TheSansMonoCd_W5Regular_11">= "Philadelphia";</span>

if (name.length &gt; 10) {
  let message = `Hi ${name}, you have a really long name!`;
}

console.log(message);
</code></pre>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">The body of this</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">statement can access</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">name</span> <samp class="SANS_Futura_Std_Book_11">and incorporate it into a template literal to generate a message, since</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">name</span> <samp class="SANS_Futura_Std_Book_11">was declared outside the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">statement. However, trying to access</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">message</span> <samp class="SANS_Futura_Std_Book_11">outside the conditional won’t work, since</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">message</span> <samp class="SANS_Futura_Std_Book_11">doesn’t have scope beyond the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">statement in which it’s declared. If you run this code, it’ll produce an</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">Uncaught ReferenceError</span> <samp class="SANS_Futura_Std_Book_11">when it gets to the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">console.log</span> <samp class="SANS_Futura_Std_Book_11">call, saying that the variable</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">message</span> <samp class="SANS_Futura_Std_Book_11">hasn’t been defined. To successfully print the message, we’d need to move the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">console.log</span> <samp class="SANS_Futura_Std_Book_11">call to within the body of the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> <samp class="SANS_Futura_Std_Book_11">statement, where</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">message</span> <samp class="SANS_Futura_Std_Book_11">has scope.</samp></p>
<p class="BoxBody"><samp class="SANS_Futura_Std_Book_11">Similarly, variables defined in the initialization segment of a</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> <samp class="SANS_Futura_Std_Book_11">loop have scope only within the loop. In this example, we can access and log the looping variable</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">i</span> <samp class="SANS_Futura_Std_Book_11">within the body of the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> <samp class="SANS_Futura_Std_Book_11">loop:</samp></p>

<pre><code>for (let i = 0; i &lt; 10; i++) {
  console.log(`This is repetition ${i}`);
}
console.log(i);
</code></pre>
<p class="BoxBodyContinued"><samp class="SANS_Futura_Std_Book_11">However, calling</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">console.log(i)</span> <samp class="SANS_Futura_Std_Book_11">after the loop ends will trigger another</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">Uncaught ReferenceError</span><samp class="SANS_Futura_Std_Book_11">, since</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">i</span> <samp class="SANS_Futura_Std_Book_11">is no longer in scope.</samp></p>
</aside>
</section>
<section aria-labelledby="sec13" epub:type="division">
<h4 class="H2" id="sec13"><span id="h2-36"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">for…of Loops</samp></h4>
<p class="TNI1">A <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop cycles through the items in an array. Whereas a <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> loop or <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop keeps looping as long as some condition is true, a <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop goes over each item in an array, one at a time, and stops when it runs out of items. This is quite useful, as it’s common to have to apply the same action to each member of an array. For example, if you had an array of numbers, you could create a bar chart by looping over those numbers and drawing a rectangle to the screen for each one, using the number to set the rectangle’s <span aria-label=" Page 68. " epub:type="pagebreak" id="pg_68" role="doc-pagebreak"/>height in pixels. Similarly, if you had an array of objects about movies, you could loop over the movies and print their titles.</p>
<p class="TX">Let’s have a look at a <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop in action. Create a new file called <i>forOf.html</i> containing the contents of <a href="#Lis4-7">Listing 4-7</a>.</p>
<span id="Lis4-7"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let colors = ["Red", "Green", "Blue"];

for (let color of colors) {
  console.log(`${color} is a color.`);
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-7: Looping over an array with a</samp> <samp class="SANS_Futura_Std_Book_Oblique_I_11">for…of loop</samp></p>
<p class="TX">This code logs a sentence for each color in the array <span class="SANS_TheSansMonoCd_W5Regular_11">colors</span>, then stops. We first create the array, containing the strings <span class="SANS_TheSansMonoCd_W5Regular_11">"Red"</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">"Green"</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">"Blue"</span>. We then use the statement <span class="SANS_TheSansMonoCd_W5Regular_11">for (let color of colors)</span> to set the looping variable <span class="SANS_TheSansMonoCd_W5Regular_11">color</span> to each element in <span class="SANS_TheSansMonoCd_W5Regular_11">colors</span>, one at a time. The first time through the loop, <span class="SANS_TheSansMonoCd_W5Regular_11">color</span> will be set to <span class="SANS_TheSansMonoCd_W5Regular_11">"Red"</span>. The second time, it will be set to <span class="SANS_TheSansMonoCd_W5Regular_11">"Green"</span>. Finally, the third time around, it will be set to <span class="SANS_TheSansMonoCd_W5Regular_11">"Blue"</span>. When the array runs out of items, the loop ends. This script should output the following:</p>

<pre><code>Red is a color.
Green is a color.
Blue is a color.
</code></pre>
<p class="TX">It’s also possible to use a regular <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop to loop over the items in an array, as in <a href="#Lis4-8">Listing 4-8</a>.</p>
<span id="Lis4-8"/>
<pre><code>for (let index = 0; index &lt; colors.length; index++) {
  console.log(`${colors[index]} is a color.`);
}
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-8: Using a for loop instead of a for…of loop to loop over an array</samp></p>
<p class="TX">Here, the looping variable <span class="SANS_TheSansMonoCd_W5Regular_11">index</span> represents the index of each item in the array. Our loop setup code initializes <span class="SANS_TheSansMonoCd_W5Regular_11">index</span> to <span class="SANS_TheSansMonoCd_W5Regular_11">0</span> and increments it until it’s no longer less than the length of the <span class="SANS_TheSansMonoCd_W5Regular_11">colors</span> array (remember that the highest index in an array of length <i>N</i> will be <i>N</i> – 1). Within the body of the loop, we access the current color using <span class="SANS_TheSansMonoCd_W5Regular_11">colors[index]</span>.</p>
<p class="TX">For a long time, this <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop style was the only way to loop over an array in JavaScript. It’s worth being able to recognize it, as you may see it in a lot of older code. These days, the <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> style is more common. However, one benefit of the old <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> loop technique is that it gives you access to the array indices. This is helpful because it’s sometimes important to know which element of the array you’re currently working with. For example, you might want to do something different with even and odd elements, or you might just want to print out the indices along with the elements’ values to make a numbered list. You can do that with a <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop, too, by using the <span class="SANS_TheSansMonoCd_W5Regular_11">entries</span> method on the array. To see how it works, create a new <i>forOfEntries.html</i> file and enter the contents of <a href="#Lis4-9">Listing 4-9</a>.</p>
<span id="Lis4-9"/>
<pre><code><span aria-label=" Page 69. " epub:type="pagebreak" id="pg_69" role="doc-pagebreak"/>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let colors = ["Red", "Green", "Blue"];
for (let [index, item] of colors.entries()) {
  console.log(`${index}: ${item} is a color.`);
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-9: Using a for…of loop with entries to access the indices in an array</samp></p>
<p class="TX">In the previous chapter you saw how applying the <span class="SANS_TheSansMonoCd_W5Regular_11">Object.entries</span> method to an object gives you an array of arrays, where each inner array contains one of the object’s keys and its associated value. Here, calling <span class="SANS_TheSansMonoCd_W5Regular_11">entries</span> on the <span class="SANS_TheSansMonoCd_W5Regular_11">colors</span> array does a similar thing, giving the array <span class="SANS_TheSansMonoCd_W5Regular_11">[[0, "Red"], [1, "Green"], [2, "Blue"]]</span>. The syntax <span class="SANS_TheSansMonoCd_W5Regular_11">let [index, item]</span> is called <i>destructuring assignment</i>. It splits each two-element array from <span class="SANS_TheSansMonoCd_W5Regular_11">colors.entries</span> (for example, <span class="SANS_TheSansMonoCd_W5Regular_11">[0, "Red"]</span>) into two separate variables, <span class="SANS_TheSansMonoCd_W5Regular_11">index</span> for the index number and <span class="SANS_TheSansMonoCd_W5Regular_11">item</span> for the corresponding value. This way we can incorporate the indices into the logged messages, creating the following output:</p>

<pre><code>0: Red is a color.
1: Green is a color.
2: Blue is a color.
</code></pre>
<p class="TX">Note that it’s also possible to use destructuring assignment in regular assignment statements, outside <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loops, to break up an array into separate variables. For example, you could turn an array of three numbers representing RGB color values into individual <span class="SANS_TheSansMonoCd_W5Regular_11">r</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">g</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">b</span> variables like this:</p>

<pre><code>let rgbcolor = [125, 100, 0];
let [r, g, b] = rgbcolor;
</code></pre>
<p class="BodyContinued">Thanks to the destructuring assignment, <span class="SANS_TheSansMonoCd_W5Regular_11">r</span> now has the value <span class="SANS_TheSansMonoCd_W5Regular_11">125</span>, <span class="SANS_TheSansMonoCd_W5Regular_11">g</span> has the value <span class="SANS_TheSansMonoCd_W5Regular_11">100</span>, and <span class="SANS_TheSansMonoCd_W5Regular_11">b</span> has the value <span class="SANS_TheSansMonoCd_W5Regular_11">0</span>. We won’t be using this syntax much in this book, but it’s good to be able to recognize it.</p>
</section>
<section aria-labelledby="sec14" epub:type="division">
<aside aria-label="box-14" class="box" id="sec14">
<h4 class="BH" id="box-14"><samp class="SANS_Dogma_OT_Bold_B_11">TRY IT YOURSELF</samp></h4>
<p class="BoxListNumber"><samp class="SANS_Futura_Std_Bold_B_11">  4-2.</samp><samp class="SANS_Futura_Std_Book_11">  Much like looping over the elements in an array, it’s also possible to use</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> <samp class="SANS_Futura_Std_Book_11">to loop over the letters in a string. Write a</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> <samp class="SANS_Futura_Std_Book_11">loop that will loop over your name, printing each letter on a separate line, like this:</samp></p>

<pre><code>N 
i
c
k
</code></pre>
<p class="BoxListNumber"><span aria-label=" Page 70. " epub:type="pagebreak" id="pg_70" role="doc-pagebreak"/><samp class="SANS_Futura_Std_Bold_B_11">  4-3.</samp><samp class="SANS_Futura_Std_Book_11">  Use the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">entries</span> <samp class="SANS_Futura_Std_Book_11">method with a</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> <samp class="SANS_Futura_Std_Book_11">loop to print something like the following based on a string of your name:</samp></p>

<pre><code>N 0
i 1
c 2
k 3
</code></pre>
<p class="BoxListBody"><samp class="SANS_Futura_Std_Book_11">Hint: to use the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">entries</span> <samp class="SANS_Futura_Std_Book_11">technique, you’ll first have to convert the string to an array. To do that, use the</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">split</span> <samp class="SANS_Futura_Std_Book_11">method:</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">name.split(" ").entries()</span><samp class="SANS_Futura_Std_Book_11">.</samp></p>
<p class="BoxListNumber"><samp class="SANS_Futura_Std_Bold_B_11">  4-4.</samp><samp class="SANS_Futura_Std_Book_11">  Rewrite the code from the previous problem using a standard</samp> <span class="SANS_TheSansMonoCd_W5Regular_11">for</span> <samp class="SANS_Futura_Std_Book_11">loop. Which version do you prefer? Think about efficiency and readability.</samp></p>
</aside>
</section>
<section aria-labelledby="sec15" epub:type="division">
<h4 class="H2" id="sec15"><span id="h2-37"/><samp class="SANS_Futura_Std_Bold_Condensed_Oblique_BI_11">for…in Loops</samp></h4>
<p class="TNI1">A <span class="SANS_TheSansMonoCd_W5Regular_11">for…in</span> loop cycles through the keys in an object. It works similarly to a <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop, picking out each key in turn and stopping when there are no more keys. The difference is that <span class="SANS_TheSansMonoCd_W5Regular_11">for…in</span> loops apply to objects instead of arrays, looping over the keys, not the values. Save the contents of <a href="#Lis4-10">Listing 4-10</a> as <i>forIn.html</i> to try it out.</p>
<span id="Lis4-10"/>
<pre><code>&lt;html&gt;&lt;body&gt;&lt;script&gt;
let me = {
  "first name": "Nick",
  "last name": "Morgan",
  "age": 39
};

for (let key in me) {
  console.log(`My ${key} is ${me[key]}.`);
}
&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p class="CodeListingCaption"><samp class="SANS_Futura_Std_Book_Oblique_I_11">Listing 4-10: Looping over the keys in an object with a for…in loop</samp></p>
<p class="TX">Here we create a <span class="SANS_TheSansMonoCd_W5Regular_11">me</span> object with three key-value pairs (feel free to fill in your own name and age). Then we use a <span class="SANS_TheSansMonoCd_W5Regular_11">for…in</span> loop to loop over the keys. Similar to <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop syntax, writing <span class="SANS_TheSansMonoCd_W5Regular_11">for (let key in me)</span> creates a looping variable <span class="SANS_TheSansMonoCd_W5Regular_11">key</span> and sets it to each key from the <span class="SANS_TheSansMonoCd_W5Regular_11">me</span> object, one at a time. The first time through the loop <span class="SANS_TheSansMonoCd_W5Regular_11">key</span> is set to <span class="SANS_TheSansMonoCd_W5Regular_11">"first name"</span>, the second time through it’s set to <span class="SANS_TheSansMonoCd_W5Regular_11">"last name"</span>, and so on. Within the loop body, we use the notation <span class="SANS_TheSansMonoCd_W5Regular_11">me[key]</span> to access the value associated with the current key, incorporating it into a message, along with the key itself. The output should look something like this:</p>

<pre><code>My first name is Nick.
My last name is Morgan.
My age is 39.
</code></pre>
<p class="TX"><span aria-label=" Page 71. " epub:type="pagebreak" id="pg_71" role="doc-pagebreak"/>We could have achieved the same result using <span class="SANS_TheSansMonoCd_W5Regular_11">Object.entries(me)</span> to get an array of pairs of keys and values, and a <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> loop to loop over those. As usual, the choice is mostly a personal one.</p>
</section>
</section>
<section aria-labelledby="sec16" epub:type="division">
<h3 class="H1" id="sec16"><span id="h1-25"/><samp class="SANS_Futura_Std_Bold_B_11">Summary</samp></h3>
<p class="TNI1">This chapter showed you how to add logic and structure to your code using conditionals and loops. These control structures let you determine when and how often your code should run. Conditionals like <span class="SANS_TheSansMonoCd_W5Regular_11">if</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">if…else</span> statements run code based on whether or not a certain condition is true. Some loops, like <span class="SANS_TheSansMonoCd_W5Regular_11">while</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">for</span>, repeat the same code multiple times until a certain condition is met. Other loops, like <span class="SANS_TheSansMonoCd_W5Regular_11">for…of</span> and <span class="SANS_TheSansMonoCd_W5Regular_11">for…in</span>, are for cycling through the elements of an array or object.</p>
</section>
</section>
</body>
</html>