<html><head></head><body>
<h2 class="h2fm" id="app"><span epub:type="pagebreak" id="page_273"/><strong>DEBUGGING AND AVOIDING COMMON ERRORS IN JAVA</strong></h2>&#13;
<div class="image21"><img src="../images/circle.jpg" alt="Image"/></div>&#13;
<p class="noindent">While working through this book, you’ve probably made a few typos or mistakes along the way. In this appendix, I’ll go over a few common programming pitfalls to avoid. One nice feature of both Eclipse and Android Studio that is helpful when debugging is <em>syntax coloring</em>. Class names, functions, variable types, strings, comments, and so on are each colored differently in the IDE based on their syntax.</p>&#13;
<p class="indent">Syntax coloring can help you spot typos and other problems quickly. For example, if you forget to close a string with a second pair of double quotes, the semicolon at the end of that line will be colored differently from the other semicolons on the screen. As we go through these common errors, try introducing them into one of the apps you’ve written and look <span epub:type="pagebreak" id="page_274"/>for the warnings given by Eclipse and Android Studio. It’s okay if you break an app—you can always go back and fix it, either by using the original code listing in the book or by pressing <small>CTRL</small>-Z (<img class="inline" src="../images/symbol.jpg" alt="Image"/>-Z) or clicking <strong>Edit</strong> <span class="ent">▸</span> <strong>Undo</strong>.</p>&#13;
<h3 class="h3"><a id="toc_lev214"/>Spelling and Case</h3>&#13;
<p class="noindent">Spelling is important in any programming language, but in Java, case matters, too. For example, if you use a lowercase <code>s</code> to make a scanner or string, the text editor in Eclipse will underline the class name in red, and Android Studio will color the text red. It might seem silly, but Java only understands <code>String</code>, not <code>string</code>.</p>&#13;
<p class="indent">The same goes for variable names, such as <code>playAgain</code> or <code>theNumber</code>. For example, if we accidentally capitalize the <code>P</code> and use a lowercase <code>a</code>, spelling <code>Playagain</code>, Java doesn’t understand that we mean the variable <code>playAgain</code>. Let’s take a look at how each IDE helps us find and fix typographical errors like these, first in Eclipse and then in Android Studio.</p>&#13;
<h4 class="h4"><em><a id="toc_lev215"/>Correcting Typos in Eclipse</em></h4>&#13;
<p class="noindent">Eclipse will alert us to an error by underlining the misspelled word in red, and Android will color the text. <a href="app.xhtml#chAfig1">Figure A-1</a> shows how Eclipse highlights two errors I’ve introduced into the Hi-Lo guessing game from <a href="ch2.xhtml#ch2">Chapter 2</a>.</p>&#13;
<div class="image"><img src="../images/f0274-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig1"/>Figure A-1: Eclipse helps us find misspellings and errors in capitalization.</em></p>&#13;
<p class="indent">Where I’ve used a lowercase <code>s</code> in <code>system</code>, Eclipse underlines the misspelling and adds an error alert along the left border of the screen that you can see by mousing over that line. The Java compiler issues the error <code>"system cannot be resolved"</code>. That means Java can’t figure out what <code>system</code> is supposed to be because it only understands <code>System</code> with a capital <code>S</code>. Eclipse does the same with <code>playagain</code> on the next line—it should be <code>playAgain</code>.</p>&#13;
<p class="indent">Remember that you can use the content assist feature in Eclipse to fix many errors like these. Click one of the misspelled words from <a href="app.xhtml#chAfig1">Figure A-1</a>, and you’ll see a content assist menu like the ones shown in <a href="app.xhtml#chAfig2">Figure A-2</a>.</p>&#13;
<div class="image"><img src="../images/f0274-02.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig2"/>Figure A-2: Eclipse’s content assist feature provides information about errors and offers possible fixes.</em></p>&#13;
<p class="indent"><span epub:type="pagebreak" id="page_275"/>For the first misspelling, Eclipse not only tells us that it can’t resolve or understand <code>system</code> but also offers several possible corrections, including, fourth from the bottom in <a href="app.xhtml#chAfig2">Figure A-2</a>, <code>Change to 'System' (java.lang)</code>. The content assist feature doesn’t always have the right answer, but in this case, one of the 11 quick fixes offered is the correct capitalization of <code>System</code>. For the second misspelling, the first quick fix Eclipse offers is the right answer, <code>Change to 'playAgain'</code>. If Eclipse’s content assist offers the right fix, click the correct entry, and your spelling or capitalization error will be replaced by the correct code.</p>&#13;
<h4 class="h4"><em><a id="toc_lev216"/>Correcting Typos in Android Studio</em></h4>&#13;
<p class="noindent">Android Studio tries to help us find errors by coloring the suspected problem in red. In the example shown in <a href="app.xhtml#chAfig3">Figure A-3</a>, I’ve misspelled the keyword <code>public</code> by typing <code>Public</code> with a capital <code>P</code>.</p>&#13;
<div class="image"><img src="../images/f0275-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig3"/>Figure A-3: Android Studio alerts us to an incorrectly capitalized keyword.</em></p>&#13;
<p class="indent">Notice that the error is similar to the one we saw in Eclipse earlier: Java is telling us that it can’t resolve or understand the symbol <code>'Public'</code>. However, Android Studio may not always provide the same level of support in fixing errors, as shown in <a href="app.xhtml#chAfig4">Figure A-4</a>.</p>&#13;
<div class="image"><img src="../images/f0275-02.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig4"/>Figure A-4: Pressing <small>ALT-ENTER</small>(or <small>OPTION-ENTER</small>) in Android Studio offers a quick fix, but not quite the right fix for this error.</em></p>&#13;
<p class="indent">In <a href="app.xhtml#chAfig4">Figure A-4</a>, I’ve incorrectly typed <code>newGame()</code> as <code>NewGame()</code> with a capital <code>N</code>. Android Studio correctly colored the code red to let me know there’s an error, but notice what happens when I click the code and press <small>ALT-ENTER</small> to attempt a quick fix. Instead of suggesting <code>newGame</code> as the correct spelling, Android Studio offers to create another method with the name <code>NewGame</code>. This isn’t the right fix for the mistyped method name, so you’ll need to find the correct spelling where the method <code>public void newGame()</code> was defined and manually fix the typo.</p>&#13;
<p class="indent">Both Android Studio and Eclipse will do their best to help you find errors, and they’ll often provide possible quick fixes, but knowing that spelling and capitalization are common issues can help you avoid and quickly correct errors as they pop up in your code.</p>&#13;
<h4 class="h4"><span epub:type="pagebreak" id="page_276"/><em><a id="toc_lev217"/>Avoiding Other Common Spelling Errors</em></h4>&#13;
<p class="noindent">One error that is particularly difficult to debug is when the name of an event handler or other overridden method is mistyped. These typos can range from typing <code>OnCreate()</code> or <code>OnDraw()</code> instead of the correct <code>onCreate()</code> and <code>onDraw()</code>, to mistyping <code>public void actionPerformed(ActionEvent e)</code> inside an <code>ActionListener</code> for a button in a Java GUI app, or leaving off the “ed” in the <code>mousePressed()</code>, <code>mouseClicked()</code>, or <code>mouseDragged()</code> event handlers.</p>&#13;
<p class="indent">We have programming conventions in order to avoid these types of errors. Forgetting to use lowercase to start method or variable names but uppercase to start class names may not necessarily be an error, but it’s bad form in Java. If you get into the habit of using Java conventions like these from the beginning, you’ll save time and avoid frustration in the future.</p>&#13;
<h3 class="h3"><a id="toc_lev218"/>Comparison Trouble</h3>&#13;
<p class="noindent">Remember that the double equal sign (<code>==</code>) is the comparison operator for “is equal to.” Don’t confuse it with the assignment operator (<code>=</code>). For example, to assign the value <code>5</code> to a variable named <code>number</code>, you would enter:</p>&#13;
<p class="pre">int number = 5; // Assigns the value 5 to number</p>&#13;
<p class="indent">But, to compare the value of the variable, you use the double equal sign:</p>&#13;
<p class="pre">if (number == 5) // If number "is equal to" 5</p>&#13;
<p class="indent">Also, remember that we check strings using the <code>equals()</code> method instead of the <code>==</code> operator. For example, the condition <code>if (playAgain == "y")</code> would always evaluate to <code>false</code>. The correct <code>if</code> statement would be this:</p>&#13;
<p class="pre">if (playAgain.equals("y"))</p>&#13;
<p class="indent">The <code>equals()</code> method of the <code>String</code> class checks whether the <em>contents</em> of the strings match, which is usually what we want when we compare strings. The <code>equals()</code> method is also what we use whenever we compare two objects, as in <code>if (bubble1.equals(bubble2))</code> to see whether two <code>Bubble</code> variables refer to the same <code>Bubble</code> object in the BubbleDraw app, for example.</p>&#13;
<h3 class="h3"><a id="toc_lev219"/>Grouping Symbols</h3>&#13;
<p class="noindent">When coding in Java, it’s also important to keep your parentheses, brackets, and braces balanced. We call these <em>grouping symbols</em> because they group other programming elements together and because you should never have an opening grouping symbol without a closing grouping symbol. Both Eclipse and Android Studio offer different ways to spot and fix unclosed grouping symbols.</p>&#13;
<h4 class="h4"><span epub:type="pagebreak" id="page_277"/><em><a id="toc_lev220"/>Quick Fixes in Eclipse</em></h4>&#13;
<p class="noindent">Eclipse can help us with grouping symbols in a couple of ways. If you leave out a parenthesis from a condition or function, Eclipse will indicate the error with a red underline beneath the word closest to the missing parenthesis, as shown in <a href="app.xhtml#chAfig5">Figure A-5</a>.</p>&#13;
<div class="image"><img src="../images/f0277-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig5"/>Figure A-5: Eclipse helps find errors with parentheses and sometimes offers a fix.</em></p>&#13;
<p class="indent">Again, Eclipse will do its best to help you spot errors while you type. In <a href="app.xhtml#chAfig5">Figure A-5</a>, I left out closing parentheses at the ends of two lines, which Eclipse marked with a red error symbol. Clicking the red error marker on the left margin of the editor for the first line offers the suggestion to insert a closing parenthesis.</p>&#13;
<p class="indent">If you place the cursor beside a closing or opening brace, Eclipse will outline the corresponding brace that either opens or closes that block of text. Try it out by clicking the cursor next to a brace in any of your programs.</p>&#13;
<p class="indent">Also, remember that Eclipse can correct indentation for us if we highlight the code to indent and press <small>CTRL</small>-I. For short programs, this may just be a nice convenience, but for longer programs that span multiple pages, correct indentation can be very helpful in avoiding errors due to missing or misplaced braces.</p>&#13;
<h4 class="h4"><em><a id="toc_lev221"/>Code Completion in Android Studio</em></h4>&#13;
<p class="noindent">Android Studio offers even more help for missing grouping symbols. The code completion feature in Android Studio can automatically fill in both opening and closing parentheses, brackets, or braces.</p>&#13;
<p class="indent">For example, open the GuessingGame project from <a href="ch4.xhtml#ch4">Chapter 4</a> and, inside the <code>onCreate()</code> function, find the line that calls a new game:</p>&#13;
<p class="pre"><span class="gray">lblOutput = (TextView) findViewById(R.id.<span class="codeitalic">lblOutput</span>);</span><br/>&#13;
newGame();<br/>&#13;
<span class="gray">btnGuess.setOnClickListener(new View.OnClickListener() {</span></p>&#13;
<p class="indent">Delete the parentheses and the semicolon at the end of the line:</p>&#13;
<p class="pre"><span class="gray">lblOutput = (TextView) findViewById(R.id.<span class="codeitalic">lblOutput</span>);</span><br/>&#13;
newGame<br/>&#13;
<span class="gray">btnGuess.setOnClickListener(new View.OnClickListener() {</span></p>&#13;
<p class="indent">Android Studio will color the text red to let you know there’s an error, and then you can use code completion to fill in the missing parentheses <span epub:type="pagebreak" id="page_278"/> and semicolon. To complete the statement automatically, position the cursor just after <code>newGame</code>, as shown in <a href="app.xhtml#chAfig6">Figure A-6</a>, and press <small>CTRL</small>-space to perform basic code completion.</p>&#13;
<div class="image"><img src="../images/f0278-01.jpg" alt="Image"/></div>&#13;
<p class="fig-cap"><em><a id="chAfig6"/>Figure A-6: Place the cursor next to a line with missing parentheses (top) and press <small>CTRL</small>-space to finish the statement using Android Studio’s code completion (bottom).</em></p>&#13;
<p class="indent">Notice that code completion filled in both the missing parentheses and the semicolon to end the line. The <small>CTRL</small>-space combination is just the first of three code completion shortcuts in Android Studio. The second one, <small>CTRL-SHIFT</small>-space, is called <em>smart completion</em> and displays relevant options in a pop-up window. Press the keyboard shortcut twice to expand the list of code completion options. Finally, <em>statement completion</em> (<small>CTRL-SHIFT-ENTER</small> on Windows and Linux, <img class="inline" src="../images/symbol.jpg" alt="Image"/>-<small>SHIFT-ENTER</small> on macOS) will add closing parentheses/brackets/braces and a finishing semicolon if needed. Try statement completion by deleting just the closing parenthesis from a method, <code>if</code> statement, or <code>for</code> loop and pressing <small>CTRL-SHIFT-ENTER</small>. The statement completion feature in Android Studio will often close your grouping symbols and add semicolons or braces wherever they’re needed, making your job easier and faster and helping you avoid errors while you code.</p>&#13;
<h3 class="h3"><a id="toc_lev222"/>Summary</h3>&#13;
<p class="noindent">These are far from the only errors you’ll run across while programming in Java, but you can see that both Eclipse and Android Studio offer very helpful tools for beginners and experienced professionals alike. You’ll get better at spotting and correcting errors the more you code in Java, but your code will probably never be completely error-free. I’ve been programming for over 30 years, and I still have to debug my code. To avoid, find, and fix errors in your code as you go, it’s important to learn good programming practices from the beginning and to take advantage of the support built into professional tools such as Eclipse and Android Studio.</p>&#13;
</body></html>