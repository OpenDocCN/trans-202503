<html><head></head><body><section epub:type="chapter" id="variables" title="Chapter&#xA0;5.&#xA0;Variables"><div class="titlepage"><div class="book"><div class="book"><h2 class="title1">Chapter 5. Variables</h2></div></div></div><p class="calibre3"><a class="calibre" id="iddle1271"/><a class="calibre" id="iddle2061"/>This chapter explains how to create scripts that can read in and remember values. When
you use variables, you can write applications that interact with users and respond to their input.
Here’s what we’ll cover in this chapter:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3">The data types supported by Scratch</p></li><li class="listitem1"><p class="calibre3">How to create variables and manipulate them</p></li><li class="listitem1"><p class="calibre3">How to obtain input from users and write interactive programs</p></li></ul></div><p class="calibre3">Though the scripts you wrote in the last four chapters helped you learn important Scratch
programming skills, they lacked many key elements of a large-scale application. More complex
programs can remember values and decide to take an action based on certain conditions. This chapter
will address the first of these two deficiencies, and decision making will be covered in the next
chapter.</p><p class="calibre3"><a class="calibre" id="iddle1092"/><a class="calibre" id="iddle1102"/><a class="calibre" id="iddle1268"/><a class="calibre" id="iddle1270"/><a class="calibre" id="iddle1435"/><a class="calibre" id="iddle1621"/><a class="calibre" id="iddle1622"/><a class="calibre" id="iddle1633"/><a class="calibre" id="iddle1674"/><a class="calibre" id="iddle2014"/>As you may have learned by now, scripts process and manipulate different types of data
during their execution. These data can be input to command blocks (for example, the number 10 in the
<span class="calibre"><strong class="calibre5">move 10 steps</strong></span> command and the “Hello!” string in the
<span class="calibre"><strong class="calibre5">say Hello!</strong></span> command) or output from function blocks (like
<span class="calibre"><strong class="calibre5">mouse x, y position</strong></span> and <span class="calibre"><strong class="calibre5">pick
random</strong></span>), or data can be entered by the user in response to the <span class="calibre"><strong class="calibre5">ask and wait</strong></span> command. For more complex programs, you’ll often need to store and
modify data to accomplish certain tasks. Data management in Scratch can be done using
<span class="calibre"><em class="calibre6">variables</em></span> and <span class="calibre"><em class="calibre6">lists</em></span>. This chapter will explore variables
in detail. Lists will be explored in <a class="xref" href="ch09.html" title="Chapter 9. Lists">Chapter 9</a>.</p><p class="calibre3">This chapter begins with an overview of the data types supported in Scratch. It continues with
an introduction to variables and a discussion of how to create and use them in your programs.
Variable monitors will then be explained and used in several interesting applications. After
mastering the basic concepts, you’ll learn how to use the <span class="calibre"><strong class="calibre5">ask and
wait</strong></span> command to get inputs from the user.</p><div class="book" title="Data Types in Scratch"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="data_types_in_scratch">Data Types in Scratch</h2></div></div></div><p class="calibre3">Many computer programs manipulate different kinds of data, including numbers, text, images,
and so on, to produce useful information. This is an important programming task, so you’ll
need to know the data types and operations supported in Scratch. Scratch has built-in support for
three data types that you can use in blocks: Booleans, numbers, and strings.</p><p class="calibre3">A <span class="calibre"><em class="calibre6">Boolean</em></span> can have only one of two values: true or false. You can use
this data type to test one or more conditions and, based on the result, have your program choose a
different execution path. We’ll discuss Booleans in detail in the next chapter.</p><p class="calibre3">A <span class="calibre"><em class="calibre6">number</em></span> variable can hold both integers and decimal values. Scratch
doesn’t distinguish between the two; they’re both classified as “numbers.”
You can round decimal numbers to the nearest whole number using the <span class="calibre"><strong class="calibre5">round</strong></span> block from the <span class="calibre"><em class="calibre6">Operators</em></span> palette. You can also use the
<span class="calibre"><strong class="calibre5">floor of</strong></span> (or <span class="calibre"><strong class="calibre5">ceiling of</strong></span>)
functions, available from the <span class="calibre"><strong class="calibre5">sqrt of</strong></span> block in the
<span class="calibre"><em class="calibre6">Operators</em></span> palette, to get an integer from a specified decimal number. For
example, <span class="calibre"><strong class="calibre5">floor of 3.9</strong></span> is 3 and <span class="calibre"><strong class="calibre5">ceiling of
3.1</strong></span> is 4.</p><p class="calibre3">A <span class="calibre"><em class="calibre6">string</em></span> is a sequence of characters, which can include letters (both
upper- and lowercase), numbers (0 to 9), and other symbols that you can type on your keyboard (+,
–, &amp;, @, and so on). You’d use a string data type to store names, addresses, book
titles, and so on.</p><div class="book" title="What’s in the Shape?"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="whatapostrophes_in_the_shapequestion_mar">What’s in the Shape?</h3></div></div></div><p class="calibre3">Have you noticed that Scratch blocks and their parameter slots each have particular geometric
shapes? For example, the parameter slot in the <span class="calibre"><strong class="calibre5">move 10 steps</strong></span>
block is a rectangle with rounded corners, while the one in the <span class="calibre"><strong class="calibre5">say
Hello!</strong></span> block is a rectangle with sharp corners. The shape of the <a class="calibre" id="iddle1080"/><a class="calibre" id="iddle1106"/><a class="calibre" id="iddle1108"/><a class="calibre" id="iddle1393"/>parameter slot is related to the data type it accepts. Try entering your name (or any
other text) in the <span class="calibre"><strong class="calibre5">move 10 steps</strong></span> block; you’ll find that
Scratch allows you to enter only numbers into the rounded-rectangle slot.</p><p class="calibre3">Similarly, the shape of a function block indicates the data type it returns. The meanings of
the different shapes are illustrated in <a class="xref" href="ch05.html#what_the_shapes_of_command_and_function" title="Figure 5-1. What the shapes of command and function blocks mean">Figure 5-1</a>.</p><div class="figure"><a id="what_the_shapes_of_command_and_function" class="calibre"/><div class="book"><div class="book"><a id="med_id00139" class="calibre"/><img alt="What the shapes of command and function blocks mean" src="httpatomoreillycomsourcenostarchimages2134559.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-1. What the shapes of command and function blocks mean</div></div><p class="calibre3">Parameter slots have three shapes (hexagon, rectangle, and rounded rectangle), while function
blocks have only two shapes (hexagon and rounded rectangle). Each shape is associated with a
particular data type, though you should note that a rounded-rectangle function block can report
either a number or a string.</p><p class="calibre3">Hexagon and rounded-rectangle slots take only function blocks of the same shape, while a
rectangular slot will accept any function block. The good news is that Scratch prevents you from
mismatching types, so you don’t have to memorize this rule. Try dragging a hexagon-shaped
block into a rounded-rectangle slot; you won’t be able to drop it there because the types are
incompatible.</p></div><div class="book" title="Automatic Data Type Conversion"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="automatic_data_type_conversion">Automatic Data Type Conversion</h3></div></div></div><p class="calibre3">As I mentioned above, a number parameter slot only accepts a rounded-rectangle function block.
All of the rounded-rectangle function blocks you’ve dealt with so far—including
<span class="calibre"><strong class="calibre5">x position</strong></span>, <span class="calibre"><strong class="calibre5">y position</strong></span>,
<span class="calibre"><strong class="calibre5">direction</strong></span>, <span class="calibre"><strong class="calibre5">costume #</strong></span>,
<span class="calibre"><strong class="calibre5">size</strong></span>, <span class="calibre"><strong class="calibre5">volume</strong></span>, <span class="calibre"><strong class="calibre5">tempo</strong></span>, and so on—report numbers. Therefore, using them inside a
number slot (like the <span class="calibre"><strong class="calibre5">move 10 steps</strong></span> block) isn’t a problem.
However, some rounded-rectangle function blocks, such as the <span class="calibre"><strong class="calibre5">answer</strong></span> block from the <span class="calibre"><em class="calibre6">Sensing</em></span> palette or the <span class="calibre"><strong class="calibre5">join</strong></span> block from the <span class="calibre"><em class="calibre6">Operators</em></span> palette, can hold either
a number or a string. This brings up an important question: What happens if we, for example, insert
an <span class="calibre"><strong class="calibre5">answer</strong></span> block containing a string into a number slot?
Fortunately, Scratch automatically tries to convert between data types as needed, as illustrated in
<a class="xref" href="ch05.html#scratch_automatically_converts_between_d" title="Figure 5-2. Scratch automatically converts between data types based on context.">Figure 5-2</a>.</p><p class="calibre3">In this example, the user enters <code class="literal">125</code> in response to the Enter a number
prompt. The user’s input is saved in the <span class="calibre"><strong class="calibre5">answer</strong></span> function
block. When this input is passed to the <span class="calibre"><strong class="calibre5">say</strong></span> command, it is
automatically converted to a string. When the same answer is passed to the addition operation (which
expects a number), it is converted to the number 125. When the addition operation is performed, the
result (25 + 125 = 150) is converted back to a string, and “150” is passed to the
<span class="calibre"><strong class="calibre5">say</strong></span> block. Scratch automatically attempts to take care of these
conversions for you.</p><div class="figure"><a id="scratch_automatically_converts_between_d" class="calibre"/><div class="book"><div class="book"><a id="med_id00140" class="calibre"/><img alt="Scratch automatically converts between data types based on context." src="httpatomoreillycomsourcenostarchimages2134561.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-2. Scratch automatically converts between data types based on context.</div></div><p class="calibre3"><a class="calibre" id="iddle1798"/><a class="calibre" id="iddle2067"/><a class="calibre" id="iddle2071"/><a class="calibre" id="iddle2085"/>Understanding the data types available in Scratch, the operations permitted on these
types, and how Scratch converts between them will help you understand why things work the way they
do. In the next section, you’ll learn about variables and how to use them to store and
manipulate data in your programs.</p></div></div><div class="book" title="Introduction to Variables"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="introduction_to_variables">Introduction to Variables</h2></div></div></div><p class="calibre3">Let’s say we want to create a software version of the game Whac-a-Mole. The original
game has a flat surface with several holes. The player uses a mallet to smack moles as they pop out
of these holes. In our version, a sprite appears at a random location on the Stage, stays visible
for a short time, and disappears. It waits a bit, and then appears again at a different location.
The player needs to click on the sprite as soon as it appears. Every time he clicks on the sprite,
he gains one point. The question for you as a programmer is, how do you keep track of the
player’s score? Welcome to the world of variables!</p><p class="calibre3">In this section, I’ll introduce variables, one of the most important elements of any
programming language. You’ll learn how to create variables in Scratch and how to use them to
remember (or store) different types of data. You’ll also explore the available blocks for
setting and changing the values of variables in your programs.</p><div class="book" title="What Is a Variable?"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="what_is_a_variablequestion_mark">What Is a Variable?</h3></div></div></div><p class="calibre3">A <span class="calibre"><em class="calibre6">variable</em></span> is a named area of computer memory. You can think of it as a
box that stores data, including numbers and text, for a program to access as needed. In <a class="xref" href="ch05.html#variable_is_like_a_named_box_that_contai" title="Figure 5-3. A variable is like a named box that contains some value.">Figure 5-3</a>, for example, we depict a variable named
<code class="literal">side</code> whose current value is 50.</p><div class="figure"><a id="variable_is_like_a_named_box_that_contai" class="calibre"/><div class="book"><div class="book"><a id="med_id00141" class="calibre"/><img alt="A variable is like a named box that contains some value." src="httpatomoreillycomsourcenostarchimages2134563.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-3. A variable is like a named box that contains some value.</div></div><p class="calibre3">When you create a variable, your program sets aside enough memory to hold the value of the
variable and tags the allocated memory with that variable’s name. After creating a variable,
you can use its name in your program to refer to the value <a class="calibre" id="iddle1013"/><a class="calibre" id="iddle1799"/><a class="calibre" id="iddle2086"/>it represents. For example, if we have a box (that is, a variable) named
<code class="literal">side</code> that contains the number 50, we can construct a command such as <span class="calibre"><strong class="calibre5">move (3*side) steps</strong></span>. When Scratch executes this command, it will locate the
box named <code class="literal">side</code> in computer memory, grab its contents (in this case, the number
50), and use that value to replace the <code class="literal">side</code> label inside the <span class="calibre"><strong class="calibre5">move (3*side) steps</strong></span> block. As a result, the sprite will move 150 (that is,
3 × 50) steps.</p><p class="calibre3">In our Whac-a-Mole game, we need a way to remember the player’s score. To do that, we
can reserve some space in the computer’s memory (like a box) to store the score. We also need
to give that box a unique label, let’s say <code class="literal">score</code>, which will let us find it
whenever we need to know or change what’s inside.</p><p class="calibre3">When the game starts, we’ll tell Scratch to “set <code class="literal">score</code> to
0,” and Scratch will look for the box labeled <code class="literal">score</code> and put the value 0
inside it. We’ll also tell Scratch to “increase <code class="literal">score</code> by 1” any
time the player clicks on the sprite. In response to the first click, Scratch will look inside the
<code class="literal">score</code> box again, find our 0, add 1 to it, and put the result (which is 1) back in
the box. The next time the player clicks on the sprite, Scratch will again follow our
“increase <code class="literal">score</code> by 1” command to increment <code class="literal">score</code>
and store the resulting value of 2 in the box.</p><p class="calibre3">You’ll see the actual Scratch blocks for these operations in a moment. For now, notice
that the value of <code class="literal">score</code> changes throughout the program. This is why we call it a
<span class="calibre"><em class="calibre6">variable</em></span>—its value varies.</p><p class="calibre3">One important use of variables is to store the intermediary results of evaluating an algebraic
expression. This is similar to the way you do mental math. For example, if you were asked to find 2
+ 4 + 5 + 7, you might start by adding 2 + 4 and memorizing the answer (6). You’d then add 5
to the previous answer (which is stored in your memory) and memorize the new answer, which is 11.
Finally, you’d add 7 to the previous result to get the final answer of 18.</p><p class="calibre3">To illustrate how variables can be used for temporary storage, let’s say that you want
to write a program to compute the following expression:</p><div class="informalfigure"><a id="med_id00142a" class="calibre"/><div class="book"><a id="med_id00142" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134565.png.jpg" class="calibre7"/></div></div><p class="calibre3">You could evaluate the whole thing with one command, but cramming everything into one
statement makes it hard to read, as shown below:</p><div class="informalfigure"><a id="med_id00143a" class="calibre"/><div class="book"><a id="med_id00143" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134567.png.jpg" class="calibre7"/></div></div><p class="calibre3">Another way to write the program is to evaluate the numerator and denominator individually and
then use the <span class="calibre"><strong class="calibre5">say</strong></span> block to display the result of their division.
We can do that by creating two variables called <code class="literal">num</code> (for numerator) and
<code class="literal">den</code> (for denominator) and setting their values as shown in <a class="xref" href="ch05.html#two_variables_left_parenthesisnum_and_de" title="Figure 5-4. Two variables (num and den) hold the value of the expression’s numerator and denominator, respectively.">Figure 5-4</a>.</p><div class="figure"><a id="two_variables_left_parenthesisnum_and_de" class="calibre"/><div class="book"><div class="book"><a id="med_id00144" class="calibre"/><img alt="Two variables (num and den) hold the value of the expression’s numerator and denominator, respectively." src="httpatomoreillycomsourcenostarchimages2134569.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-4. Two variables (<span class="calibre"><em class="calibre6"><code class="literal1">num</code></em></span> and
<span class="calibre"><em class="calibre6"><code class="literal1">den</code></em></span>) hold the value of the expression’s numerator and
denominator, respectively.</div></div><p class="calibre3">Take a look at how our variables are arranged in computer memory. Here, <code class="literal">num</code>
is like a tag referring to the location in memory where the result of evaluating (1 / 5 + 5 / 7) is
stored. Similarly, <code class="literal">den</code> refers to where (7 / 8 – 2 / 3) is stored. When the
<span class="calibre"><strong class="calibre5">say</strong></span> command is executed, Scratch grabs the contents of memory
labeled <code class="literal">num</code> and <code class="literal">den</code>. It then divides the two numbers and
passes the result to the <span class="calibre"><strong class="calibre5">say</strong></span> command for display.</p><p class="calibre3">We could break this expression down even further by evaluating each fraction individually
before displaying the result of the total expression, as shown in <a class="xref" href="ch05.html#using_four_variables_left_parenthesisaco" title="Figure 5-5. Using four variables (a, b, c, and d) to hold the four fractions in the expression">Figure 5-5</a>.</p><div class="figure"><a id="using_four_variables_left_parenthesisaco" class="calibre"/><div class="book"><div class="book"><a id="med_id00145" class="calibre"/><img alt="Using four variables (a, b, c, and d) to hold the four fractions in the expression" src="httpatomoreillycomsourcenostarchimages2134571.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-5. Using four variables (<span class="calibre"><em class="calibre6"><code class="literal1">a</code>, <code class="literal1">b</code>,
<code class="literal1">c</code></em></span>, and <span class="calibre"><em class="calibre6"><code class="literal1">d</code></em></span>) to hold the four
fractions in the expression</div></div><p class="calibre3">Here, we use four variables (named <code class="literal">a</code>, <code class="literal">b</code>,
<code class="literal">c</code>, and <code class="literal">d</code>) to hold the four fractions in our mathematical
expression. The figure also depicts the memory allocation; this time, you can see four variables and
their contents.</p><p class="calibre3">Although these three programs give the same answer, each implementation follows a different
style. The first program puts everything in one statement, which is tough to read. The third program
breaks things down to a greater level of detail, but that can be hard to read, too. The second
solution breaks the expression down to a reasonable level and uses variables to both make the
program easier to understand and clearly show the major parts of the expression (the numerator and
the denominator). As Goldilocks would say, this one is just right.</p><p class="calibre3">This simple example demonstrates how a problem can have multiple solutions. Sometimes you
might be concerned about a program’s speed or size, and other times your goal might be
readability. Since this is an introductory programming book, the scripts in this book are written to
emphasize readability.</p><p class="calibre3">Now that you understand what variables are and why you’d want to use them, let’s
make some variables and take our Scratch applications a step further.</p></div><div class="book" title="Creating and Using Variables"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="creating_and_using_variables">Creating and Using Variables</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1266"/><a class="calibre" id="iddle1276"/><a class="calibre" id="iddle1277"/><a class="calibre" id="iddle1374"/><a class="calibre" id="iddle1509"/><a class="calibre" id="iddle1590"/><a class="calibre" id="iddle1652"/><a class="calibre" id="iddle1750"/><a class="calibre" id="iddle1851"/><a class="calibre" id="iddle2065"/><a class="calibre" id="iddle2076"/><span class="calibre"><em class="calibre6">DiceSimulator_NoCode.sb2</em></span></p><p class="calibre3">In this section, we’ll explore how to create and use variables through a simple
application that simulates rolling a pair of dice and displays their sum, as illustrated in <a class="xref" href="ch05.html#user_interface_of_the_dice_simulator" title="Figure 5-6. The user interface of the dice simulator">Figure 5-6</a>.</p><div class="figure"><a id="user_interface_of_the_dice_simulator" class="calibre"/><div class="book"><div class="book"><a id="med_id00146" class="calibre"/><img alt="The user interface of the dice simulator" src="httpatomoreillycomsourcenostarchimages2134573.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-6. The user interface of the dice simulator</div></div><p class="calibre3">Our dice simulator contains three sprites: <code class="literal">Player</code>, <code class="literal">Die1</code>,
and <code class="literal">Die2</code>. The <code class="literal">Player</code> sprite manages the simulation. When the
green flag icon is pressed, this sprite generates two random numbers between 1 and 6 and saves those
values in two variables named <code class="literal">rand1</code> and <code class="literal">rand2</code>, respectively.
It then broadcasts a message to the other two sprites (<code class="literal">Die1</code> and
<code class="literal">Die2</code>) to show the randomly generated values; <code class="literal">Die1</code> will show
the value of <code class="literal">rand1</code>, and <code class="literal">Die2</code> will show
<code class="literal">rand2</code>. After that, the <code class="literal">Player</code> sprite adds
<code class="literal">rand1</code> to <code class="literal">rand2</code> and displays the sum using the <span class="calibre"><strong class="calibre5">say</strong></span> block.</p><p class="calibre3">Let’s build this application from the ground up. Open the file
<span class="calibre"><em class="calibre6">DiceSimulator_NoCode.sb2</em></span>. This file contains the background image for the Stage
as well as the three sprites used in the application. We’ll create all the scripts we need one
at a time.</p><p class="calibre3">First, click the thumbnail of the <code class="literal">Player</code> sprite to select it. Select the
<span class="calibre"><em class="calibre6">Data</em></span> palette and click <span class="calibre"><strong class="calibre5">Make a Variable</strong></span>, as
shown in <a class="xref" href="ch05.html#creating_a_variablecomma_naming_itcomma" title="Figure 5-7. Creating a variable, naming it, and specifying its scope">Figure 5-7</a> (left). In the dialog that
appears, as shown in <a class="xref" href="ch05.html#creating_a_variablecomma_naming_itcomma" title="Figure 5-7. Creating a variable, naming it, and specifying its scope">Figure 5-7</a> (right), type the
name of the variable and select its scope. A variable’s <span class="calibre"><em class="calibre6">scope</em></span> determines
which sprites can write to (or change the value of) that variable, as I will explain in more detail
in the next section. For this example, enter <code class="literal">rand1</code> for the variable’s name
and select the <span class="calibre"><strong class="calibre5">For all sprites</strong></span> option for the variable’s
scope. Click <span class="calibre"><strong class="calibre5">OK</strong></span> when done.</p><div class="figure"><a id="creating_a_variablecomma_naming_itcomma" class="calibre"/><div class="book"><div class="book"><a id="med_id00147" class="calibre"/><img alt="Creating a variable, naming it, and specifying its scope" src="httpatomoreillycomsourcenostarchimages2134575.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-7. Creating a variable, naming it, and specifying its scope</div></div><p class="calibre3"><a class="calibre" id="iddle1178"/><a class="calibre" id="iddle1247"/><a class="calibre" id="iddle1251"/><a class="calibre" id="iddle1259"/><a class="calibre" id="iddle1261"/><a class="calibre" id="iddle1263"/><a class="calibre" id="iddle1591"/><a class="calibre" id="iddle2073"/><a class="calibre" id="iddle2075"/>After you create the variable, several new blocks related to it will appear in the
<span class="calibre"><em class="calibre6">Data</em></span> palette, as illustrated in <a class="xref" href="ch05.html#new_blocks_that_appear_when_you_create_t" title="Figure 5-8. The new blocks that appear when you create the rand1 variable">Figure 5-8</a>.</p><div class="figure"><a id="new_blocks_that_appear_when_you_create_t" class="calibre"/><div class="book"><div class="book"><a id="med_id00148" class="calibre"/><img alt="The new blocks that appear when you create the rand1 variable" src="httpatomoreillycomsourcenostarchimages2134577.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-8. The new blocks that appear when you create the <span class="calibre"><em class="calibre6"><code class="literal1">rand1</code></em></span>
variable</div></div><p class="calibre3">You can use these blocks to set a variable to a specific value, change it by a fixed amount,
and show (or hide) its monitor on the Stage. A variable’s <span class="calibre"><em class="calibre6">monitor</em></span>, as
you’ll learn in <a class="xref" href="ch05.html#displaying_variable_monitors" title="Displaying Variable Monitors">Displaying Variable Monitors</a>, displays the current value
stored in that variable.</p><div class="sidebar"><a id="naming_variables" class="calibre"/><div class="sidebar-title">Naming Variables</div><p class="calibre3">Over the years, people have come up with different ways to name the variables in their
programs. One popular convention is to start the name with a lowercase letter and capitalize the
first letter of each additional word, such as in <code class="literal">sideLength</code>,
<code class="literal">firstName</code>, and <code class="literal">interestRate</code>.</p><p class="calibre3">Although Scratch allows variable names to start with numbers and contain white spaces (for
example, <code class="literal">123Side</code> or <code class="literal">side length</code>), most programming languages
don’t, so I recommend that you avoid these unusual names for your variables. And while you can
name a variable anything you want, I highly recommend using descriptive and meaningful names.
Single-letter variables like <code class="literal">w</code> and <code class="literal">z</code> should be kept to a
minimum unless their meaning is very clear. On the other hand, names that are too long can make your
script harder to read.</p><p class="calibre3">Also, note that variable names in Scratch are case sensitive, meaning that
<code class="literal">side</code>, <code class="literal">SIDE</code>, and <code class="literal">siDE</code> are all unique
variables. To avoid confusion, try not to use variables in the same script whose names differ only
in case.</p></div><p class="calibre3">Repeat the procedure I outlined above to create another variable, named
<code class="literal">rand2</code>. The <span class="calibre"><em class="calibre6">Data</em></span> palette should now contain a second variable
block (named <code class="literal">rand2</code>), and the down arrows on the blocks of <a class="xref" href="ch05.html#new_blocks_that_appear_when_you_create_t" title="Figure 5-8. The new blocks that appear when you create the rand1 variable">Figure 5-8</a> should let you choose between
<code class="literal">rand1</code> and <code class="literal">rand2</code>. Now that we’ve created the two
variables, we can build the script for the <code class="literal">Player</code> sprite. The complete script is
shown in <a class="xref" href="ch05.html#script_for_the_player_sprite" title="Figure 5-9. The script for the Player sprite">Figure 5-9</a>.</p><div class="figure"><a id="script_for_the_player_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00149" class="calibre"/><img alt="The script for the Player sprite" src="httpatomoreillycomsourcenostarchimages2134579.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-9. The script for the <span class="calibre"><em class="calibre6"><code class="literal1">Player</code></em></span> sprite</div></div><p class="calibre3"><a class="calibre" id="iddle1264"/><a class="calibre" id="iddle1673"/>The first command sets <code class="literal">rand1</code> to a random number between 1 and 6.
Think back to our box analogy: This command causes the sprite to find the box labeled
<code class="literal">rand1</code> and put the generated random number inside it. The second command assigns
<code class="literal">rand2</code> another random value between 1 and 6. Next, the script broadcasts a message
called <code class="literal">Roll</code> to the other two sprites (<code class="literal">Die1</code> and
<code class="literal">Die2</code>) to notify them that they need to switch their costumes as specified by
<code class="literal">rand1</code> and <code class="literal">rand2</code>. Once the <code class="literal">Die1</code> and
<code class="literal">Die2</code> sprites have finished their job, the script resumes and displays the sum of
the numbers on the faces of the dice using the <span class="calibre"><strong class="calibre5">say</strong></span> block.
Let’s look at the <code class="literal">Roll</code> message handler for the <code class="literal">Die1</code>
sprite, shown in <a class="xref" href="ch05.html#to_use_a_variable_in_a_command_blockcomm" title="Figure 5-10. To use a variable in a command block, just drag that variable over the parameter slot of that block.">Figure 5-10</a>.</p><div class="figure"><a id="to_use_a_variable_in_a_command_blockcomm" class="calibre"/><div class="book"><div class="book"><a id="med_id00150" class="calibre"/><img alt="To use a variable in a command block, just drag that variable over the parameter slot of that block." src="httpatomoreillycomsourcenostarchimages2134581.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-10. To use a variable in a command block, just drag that variable over the parameter slot of that
block.</div></div><p class="calibre3">After creating the script shown at the top right of the figure, drag the
<code class="literal">rand1</code> block from the <span class="calibre"><em class="calibre6">Data</em></span> palette to the parameter slot of
the <span class="calibre"><strong class="calibre5">switch to costume</strong></span> block to form the complete script (bottom
right). In this script, the <span class="calibre"><strong class="calibre5">repeat</strong></span> block changes the costume of
the die randomly 20 times to simulate rolling the die (you can change this number if you want).
After that, the die sets its costume to the number specified by <code class="literal">rand1</code>. Recall
that each die has six costumes that correspond to numbers 1 through 6 in order. That means if
<code class="literal">rand1</code> were 5, the last <span class="calibre"><strong class="calibre5">switch to costume</strong></span>
command would display the costume that has five dots in it.</p><p class="calibre3">Now, we can create the script for the <code class="literal">Die2</code> sprite, which should be nearly
identical to the one we made for <code class="literal">Die1</code>. Since <code class="literal">Die2</code> changes its
costume based on <code class="literal">rand2</code>, all you need to do is duplicate the
<code class="literal">Die1</code> script for <code class="literal">Die2</code> and replace <code class="literal">rand1</code> with
<code class="literal">rand2</code>.</p><p class="calibre3">Our dice simulator is now complete, so let’s test it out. Click the green flag icon to
see the simulation in action. If the application doesn’t work, examine the file
<span class="calibre"><em class="calibre6">DiceSimulator.sb2</em></span>, which contains the correct implementation of the
program.</p><div class="sidebar"><a id="try_it_out_5-1" class="calibre"/><div class="sidebar-title">Try It Out 5-1</div><p class="calibre3"><a class="calibre" id="iddle1382"/><a class="calibre" id="iddle1466"/><a class="calibre" id="iddle1467"/><a class="calibre" id="iddle1850"/><a class="calibre" id="iddle1854"/><a class="calibre" id="iddle1857"/><a class="calibre" id="iddle1882"/><a class="calibre" id="iddle2072"/><a class="calibre" id="iddle2077"/>Select the <code class="literal">Player</code> sprite and create a new variable called
<code class="literal">sum</code>. Set the scope for this variable to For this sprite only. Modify the last
block of the <code class="literal">Player</code> script to use this new variable, like this:</p><div class="informalfigure"><a id="med_id00151a" class="calibre"/><div class="book"><a id="med_id00151" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134583.png.jpg" class="calibre7"/></div></div><p class="calibre3">Now select the <code class="literal">Die1</code> (or <code class="literal">Die2</code>) sprite and look under the
<span class="calibre"><em class="calibre6">Data</em></span> palette. Can you explain why you don’t see the
<code class="literal">sum</code> variable there?</p></div></div><div class="book" title="The Scope of Variables"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="scope_of_variables">The Scope of Variables</h3></div></div></div><p class="calibre3">Another important concept related to variables is <span class="calibre"><em class="calibre6">scope</em></span>. The scope of a
variable determines which sprites can write to (or change the value of) that variable.</p><p class="calibre3"><span class="calibre"><em class="calibre6">ScopeDemo.sb2</em></span></p><p class="calibre3">You can specify the scope of a variable when you create it by selecting one of the two options
you saw in <a class="xref" href="ch05.html#creating_a_variablecomma_naming_itcomma" title="Figure 5-7. Creating a variable, naming it, and specifying its scope">Figure 5-7</a>. Choosing For this sprite only
creates a variable that can be changed only by the sprite that owns it. Other sprites can still read
and use the variable’s value, but they can’t write to it. The example shown in <a class="xref" href="ch05.html#only_the_cat_sprite_can_write_to_countdo" title="Figure 5-11. Only the Cat sprite can write to count.">Figure 5-11</a> illustrates this point.</p><div class="figure"><a id="only_the_cat_sprite_can_write_to_countdo" class="calibre"/><div class="book"><div class="book"><a id="med_id00152" class="calibre"/><img alt="Only the Cat sprite can write to count." src="httpatomoreillycomsourcenostarchimages2134585.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-11. Only the <span class="calibre"><em class="calibre6"><code class="literal1">Cat</code></em></span> sprite can write to
<span class="calibre"><em class="calibre6"><code class="literal1">count</code></em></span>.</div></div><p class="calibre3">In this figure, the <code class="literal">Cat</code> sprite has a variable, named
<code class="literal">count</code>, with the scope For this sprite only. The <code class="literal">Penguin</code> sprite
can read <code class="literal">count</code> with the <span class="calibre"><strong class="calibre5">x position of Penguin</strong></span>
block from the <span class="calibre"><em class="calibre6">Sensing</em></span> palette. When you select <code class="literal">Cat</code> as the
second parameter of this block, the first parameter will let you choose an attribute of the
<code class="literal">Cat</code> sprite, including one of its variables.</p><p class="calibre3">Scratch, however, doesn’t provide a block that allows the <code class="literal">Penguin</code>
sprite to change the <code class="literal">count</code> variable. This way, the <code class="literal">Penguin</code>
sprite can’t tamper with <code class="literal">count</code> and cause undesirable effects for scripts
run by the <code class="literal">Cat</code> sprite. It’s good practice to use the For this sprite only
scope for variables that should only be updated by a single sprite.</p><p class="calibre3">Variables created with the For this sprite only scope are said to have <span class="calibre"><em class="calibre6">local
scope</em></span>, and they can be called <span class="calibre"><em class="calibre6">local variables</em></span>. Different sprites can
use the same name for their local variables without any conflict. For example, if <a class="calibre" id="iddle1375"/><a class="calibre" id="iddle1399"/><a class="calibre" id="iddle1852"/><a class="calibre" id="iddle2066"/><a class="calibre" id="iddle2069"/>you have two car sprites in a racing game, each might have a local variable named
<code class="literal">speed</code> that determines the car’s speed of motion on the Stage. Each car
sprite can change its <code class="literal">speed</code> variable independently of the other. This means that
if you set the <code class="literal">speed</code> of the first car to 10 and the <code class="literal">speed</code> of
the second to 20, the second car should move faster than the first.</p><div class="sidebar"><a id="data_type_of_a_variable" class="calibre"/><div class="sidebar-title">Data Type of a Variable</div><p class="calibre3">At this point, you might wonder, “How does Scratch know the data type of a
variable?” The answer is, it doesn’t! When you create a variable, Scratch has no idea
whether you intend to use that variable to store to a number, a string, or a Boolean. Any variable
can hold a value of any data type. For example, all of the following commands are valid in
Scratch.</p><div class="informalfigure"><a id="med_id00153a" class="calibre"/><div class="book"><a id="med_id00153" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134587.png.jpg" class="calibre7"/></div></div><p class="calibre3">It’s up to you to store the correct values in your variables. As I described earlier in
this chapter, however, Scratch will try to convert between data types depending on the context. To
see what happens when you store an incorrect data type in a variable, consider these two
examples:</p><div class="informalfigure"><a id="med_id00154a" class="calibre"/><div class="book"><a id="med_id00154" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134589.png.jpg" class="calibre7"/></div></div><p class="calibre3">Since the <span class="calibre"><strong class="calibre5">move</strong></span> command expects a number parameter, Scratch
will automatically try to convert the value stored in the <code class="literal">side</code> variable to a
number before passing it to the <span class="calibre"><strong class="calibre5">move</strong></span> command. In the first script
(left), Scratch can’t convert the string “Nonsense” to a number. Rather than
showing an error message, Scratch will silently set the result of the conversion to 0 and pass this
value to the <span class="calibre"><strong class="calibre5">move</strong></span> command. As a result, the sprite won’t
move. On the other hand, in the second script (right), Scratch ignores the whitespace in the string
and passes the resulting number to the <span class="calibre"><strong class="calibre5">move</strong></span> block, so the sprite
moves 100 steps forward. Note that if the target block had expected a string instead of a number,
Scratch would have passed the string as it was, whitespace included.</p></div><p class="calibre3">Variables with the scope For all sprites, on the other hand, can be read and changed by any
sprite in your application. These variables, often called <a class="calibre" id="iddle1179"/><a class="calibre" id="iddle1248"/><a class="calibre" id="iddle1954"/><a class="calibre" id="iddle2062"/><a class="calibre" id="iddle2064"/><span class="calibre"><em class="calibre6">global variables</em></span>, are useful for intersprite communication and
synchronization. For example, if a game has three buttons that allow the user to select a level to
play, you can create a global variable named <code class="literal">gameLevel</code> and have each button
sprite set this variable to a different number when clicked. Then you can easily find out the
user’s choice by examining <code class="literal">gameLevel</code>.</p><p class="calibre3">Selecting the For all sprites option also enables the Cloud variable check-box in <a class="xref" href="ch05.html#creating_a_variablecomma_naming_itcomma" title="Figure 5-7. Creating a variable, naming it, and specifying its scope">Figure 5-7</a>. This feature allows you to store your variables
on Scratch’s server (in the cloud). Blocks for cloud variables have a small square in front of
them to distinguish them from regular variables, like this:</p><div class="informalfigure"><a id="med_id00155a" class="calibre"/><div class="book"><a id="med_id00155" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134591.png.jpg" class="calibre7"/></div></div><p class="calibre3">Anyone who views a project you’ve shared on the Scratch website can read the cloud
variables in the project. For example, if you share a game, you can use a cloud variable to track
the highest score recorded among all the players. The <code class="literal">score</code> cloud variable should
update almost immediately for everyone interacting with your game. Because these variables are
stored on Scratch servers, they keep their value even if you exit your browser. Cloud variables make
it easy to create surveys and other projects that store numbers over time.</p><p class="calibre3">Now that you understand scope, it’s time to learn about updating variables—and
then use that knowledge to create more interesting programs.</p></div><div class="book" title="Changing Variables"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="changing_variables">Changing Variables</h3></div></div></div><p class="calibre3">Scratch provides two command blocks that allow you to alter variables. The <span class="calibre"><strong class="calibre5">set to</strong></span> command directly assigns a new value to a variable, regardless of
its current contents. The <span class="calibre"><strong class="calibre5">change by</strong></span> command, on the other hand,
is used to change the value of a variable by a specified amount relative to its current value. The
three scripts in <a class="xref" href="ch05.html#three_methods_for_changing_the_value_of" title="Figure 5-12. Three methods for changing the value of a variable">Figure 5-12</a> demonstrate how you could
use these commands in different ways to achieve the same outcome.</p><div class="figure"><a id="three_methods_for_changing_the_value_of" class="calibre"/><div class="book"><div class="book"><a id="med_id00156" class="calibre"/><img alt="Three methods for changing the value of a variable" src="httpatomoreillycomsourcenostarchimages2134593.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-12. Three methods for changing the value of a variable</div></div><p class="calibre3">All three scripts in the figure start by setting the values of two variables,
<code class="literal">sum</code> and <code class="literal">delta</code>, to 0 and 5, respectively. The first script uses
the <span class="calibre"><strong class="calibre5">change</strong></span> command to change the value of <code class="literal">sum</code>
by the value of <code class="literal">delta</code> (that is, from 0 to 5). The second script uses the
<span class="calibre"><strong class="calibre5">set</strong></span> command to add the current value of <code class="literal">sum</code> to
the value of <code class="literal">delta</code> (0 + 5) and store the result (5) back into
<code class="literal">sum</code>. The third script achieves the same result with the aid of a temporary
variable named <code class="literal">temp</code>. It adds the value of <code class="literal">sum</code> to
<code class="literal">delta</code>, stores the result in <code class="literal">temp</code>, and finally copies the value
of <code class="literal">temp</code> into <code class="literal">sum</code>.</p><p class="calibre3"><a class="calibre" id="iddle1298"/><a class="calibre" id="iddle1303"/><a class="calibre" id="iddle1309"/><a class="calibre" id="iddle1700"/><a class="calibre" id="iddle1701"/><a class="calibre" id="iddle1953"/>After executing any of the scripts in <a class="xref" href="ch05.html#three_methods_for_changing_the_value_of" title="Figure 5-12. Three methods for changing the value of a variable">Figure 5-12</a>, <code class="literal">sum</code> will contain the number
5, making these scripts functionally equivalent. Note that the method used in the second script is a
common programming practice, and I recommend that you study it for a moment to become comfortable
with it. Now let’s see the <span class="calibre"><strong class="calibre5">change</strong></span> command in action.</p><div class="book" title="Spider Web"><div class="titlepage1"><div class="book"><div class="book"><h4 class="title5" id="spider_web">Spider Web</h4></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">SpiderWeb.sb2</em></span></p><p class="calibre3">We can create a spider web by drawing several hexagons of increasing size, as shown in <a class="xref" href="ch05.html#creating_a_spider_web_by_drawing_several" title="Figure 5-13. Creating a spider web by drawing several hexagons of increasing size">Figure 5-13</a>. The <span class="calibre"><strong class="calibre5">Triangle</strong></span> procedure draws an equilateral triangle with a variable side length, while the
<span class="calibre"><strong class="calibre5">Hexagon</strong></span> procedure calls <span class="calibre"><strong class="calibre5">Triangle</strong></span> six times with a 60° (that is, 360° / 6) right turn after each call.
The figure clearly shows how the hexagon is made up of the six triangles.</p><div class="figure"><a id="creating_a_spider_web_by_drawing_several" class="calibre"/><div class="book"><div class="book"><a id="med_id00157" class="calibre"/><img alt="Creating a spider web by drawing several hexagons of increasing size" src="httpatomoreillycomsourcenostarchimages2134595.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-13. Creating a spider web by drawing several hexagons of increasing size</div></div><p class="calibre3">The <span class="calibre"><strong class="calibre5">SpiderWeb</strong></span> procedure simply calls <span class="calibre"><strong class="calibre5">Hexagon</strong></span> repeatedly with a different value of the
<code class="literal">sideLength</code> variable each time. This results in the concentric (that is, having
the same center) hexagons you see in the figure. Note how the <span class="calibre"><strong class="calibre5">change</strong></span> command is used to set the value of <code class="literal">sideLength</code> inside the
<span class="calibre"><strong class="calibre5">repeat</strong></span> loop. Reproduce the <span class="calibre"><strong class="calibre5">SpiderWeb</strong></span> procedure, run it, and see how it works.</p></div><div class="book" title="Pinwheel"><div class="titlepage1"><div class="book"><div class="book"><h4 class="title5" id="pinwheel">Pinwheel</h4></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">Pinwheel.sb2</em></span></p><p class="calibre3">This example is similar to the previous one except that this time, we’ll use a variable
to control the number of triangular repetitions. The resulting procedure (called <span class="calibre"><strong class="calibre5">Pins</strong></span>) is shown in <a class="xref" href="ch05.html#creating_a_pinwheel_by_rotating_an_equil" title="Figure 5-14. Creating a pinwheel by rotating an equilateral triangle several times">Figure 5-14</a>. The <span class="calibre"><strong class="calibre5">Pinwheel</strong></span> procedure in the same figure works like the
<span class="calibre"><strong class="calibre5">SpiderWeb</strong></span> procedure above, but we also change the pen’s
color each time through the loop for a fun rainbow effect. Some outputs of the <span class="calibre"><strong class="calibre5">Pinwheel</strong></span> procedure for different pin counts are shown in the figure.
Experiment with this procedure to see what else you can create.</p><div class="figure"><a id="creating_a_pinwheel_by_rotating_an_equil" class="calibre"/><div class="book"><div class="book"><a id="med_id00158" class="calibre"/><img alt="Creating a pinwheel by rotating an equilateral triangle several times" src="httpatomoreillycomsourcenostarchimages2134597.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-14. Creating a pinwheel by rotating an equilateral triangle several times</div></div><p class="calibre3"><a class="calibre" id="iddle1980"/><a class="calibre" id="iddle2063"/>Now that we’ve explored the fundamentals of variables, you might wonder what
happens to variables when you duplicate a sprite. Does the duplicate share the parent sprite’s
variables, or does it have its own copies? Do clones have access to global variables? We’ll
answer these questions in the next section.</p><div class="sidebar"><a id="try_it_out_5-2" class="calibre"/><div class="sidebar-title">Try It Out 5-2</div><p class="calibre3">Alter the Pinwheel program to hide the sprite. This should make it easier for you to watch the
drawing without the sprite getting in the way.</p></div></div></div><div class="book" title="Variables in Clones"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="variables_in_clones">Variables in Clones</h3></div></div></div><p class="calibre3">Every sprite has a list of properties associated with it, including its current
<span class="calibre"><em class="calibre6">x</em></span>-position, <span class="calibre"><em class="calibre6">y</em></span>-position, direction, and so on. You can
imagine that list as a backpack holding the current values of the sprite’s attributes, as
illustrated in <a class="xref" href="ch05.html#clones_inherit_copies_of_their_parentapo" title="Figure 5-15. Clones inherit copies of their parent’s variables">Figure 5-15</a>. When you create a
variable for a sprite with a scope of For this sprite only, that variable gets added to the
sprite’s backpack.</p><p class="calibre3">When you clone a sprite, the clone inherits copies of the parent sprite’s attributes,
including its variables. An inherited property starts out identical to the parent’s property
at the time the clone is created. But after that, if the clone’s attributes and variables
change, those changes don’t affect the parent. Subsequent changes to the parent sprite
don’t affect the clone’s properties, either.</p><div class="figure"><a id="clones_inherit_copies_of_their_parentapo" class="calibre"/><div class="book"><div class="book"><a id="med_id00159" class="calibre"/><img alt="Clones inherit copies of their parent’s variables" src="httpatomoreillycomsourcenostarchimages2134599.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-15. Clones inherit copies of their parent’s variables</div></div><p class="calibre3"><a class="calibre" id="iddle1167"/><a class="calibre" id="iddle1383"/><a class="calibre" id="iddle1855"/>To illustrate, let’s say the parent sprite owns a variable named
<code class="literal">speed</code> whose current value is 10. When you clone the parent, the new sprite will
also have a variable named <code class="literal">speed</code> with the value 10. After that, if the parent
sprite changes <code class="literal">speed</code> to 20, the value of <code class="literal">speed</code> in the clone
will stay at 10.</p><p class="calibre3"><span class="calibre"><em class="calibre6">CloneIDs.sb2</em></span></p><p class="calibre3">You can use this concept to distinguish between clones in your applications. For example,
let’s look at the program in <a class="xref" href="ch05.html#using_variables_to_distinguish_between_c" title="Figure 5-16. Using variables to distinguish between clones">Figure 5-16</a>.</p><div class="figure"><a id="using_variables_to_distinguish_between_c" class="calibre"/><div class="book"><div class="book"><a id="med_id00160" class="calibre"/><img alt="Using variables to distinguish between clones" src="httpatomoreillycomsourcenostarchimages2134601.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-16. Using variables to distinguish between clones</div></div><p class="calibre3"><a class="calibre" id="iddle1168"/><a class="calibre" id="iddle1180"/><a class="calibre" id="iddle1376"/><a class="calibre" id="iddle1400"/><a class="calibre" id="iddle1538"/><a class="calibre" id="iddle1543"/><a class="calibre" id="iddle1853"/><a class="calibre" id="iddle2070"/><a class="calibre" id="iddle2074"/>The parent sprite in this example owns a variable named <code class="literal">cloneID</code>. When
the green flag is clicked, it starts a loop to create three clones, and it sets
<code class="literal">cloneID</code> to a different value (1, 2, or 3 in this case) before creating a clone.
Each clone comes to life with its own copy of <code class="literal">cloneID</code> initialized to a different
value. You could now use an <span class="calibre"><strong class="calibre5">if</strong></span> block, which we’ll study in
depth in the next chapter, to check for the clone’s ID and have it perform a corresponding
action.</p><p class="calibre3"><span class="calibre"><em class="calibre6">ClonesAndGlobalVars.sb2</em></span></p><p class="calibre3">Now, let’s discuss how clones can interact with global variables. Recall from <a class="xref" href="ch05.html#clones_inherit_copies_of_their_parentapo" title="Figure 5-15. Clones inherit copies of their parent’s variables">Figure 5-15</a> that variables with scope For all sprites can
be read and written by the Stage and all sprites, including clones. As an example, the program in
<a class="xref" href="ch05.html#using_a_global_variable_to_track_when_cl" title="Figure 5-17. Using a global variable to track when clones are deleted">Figure 5-17</a> uses this fact to detect when all clones
of the parent sprite have disappeared.</p><div class="figure"><a id="using_a_global_variable_to_track_when_cl" class="calibre"/><div class="book"><div class="book"><a id="med_id00161" class="calibre"/><img alt="Using a global variable to track when clones are deleted" src="httpatomoreillycomsourcenostarchimages2134603.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-17. Using a global variable to track when clones are deleted</div></div><p class="calibre3">In this script, the parent sprite sets the global variable <code class="literal">numClones</code> to 5
and creates five clones. It then waits for <code class="literal">numClones</code> to become 0 before
announcing the end of the game. The clones appear at random times and locations on the Stage, say
“Hello!” for two seconds, and then disappear. Before a clone is deleted, it decreases
<code class="literal">numClones</code> by 1. When all five clones are gone, <code class="literal">numClones</code>
reaches 0, the main script stops waiting, and the original sprite says “Game
Over!”</p><p class="calibre3">In the following section, you’ll learn about variables’ monitors, which allow you
to see, and even change, the current values stored in variables. The ability to view and change a
variable on the Stage will open the door to creating totally new kinds of applications.</p></div></div><div class="book" title="Displaying Variable Monitors"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="displaying_variable_monitors">Displaying Variable Monitors</h2></div></div></div><p class="calibre3">You’ll often find yourself wanting to see the current value stored in a variable. For
example, when one of your scripts doesn’t work as expected, you might want to track some of
its variables to see if they change correctly. Using variable monitors can help you with this
debugging task.</p><p class="calibre3">You can display a Scratch variable on the Stage as a <span class="calibre"><em class="calibre6">variable monitor</em></span>.
Checking or unchecking the box next to a variable’s name allows you to show or hide a
variable’s monitor on the Stage, as illustrated in <a class="xref" href="ch05.html#show_a_variableapostrophes_monitor_by_ch" title="Figure 5-18. Show a variable’s monitor by checking the box next to its name.">Figure 5-18</a>. You can also control a monitor’s
visibility from within your script with the <span class="calibre"><strong class="calibre5">show variable</strong></span> and
<span class="calibre"><strong class="calibre5">hide variable</strong></span> commands.</p><div class="figure"><a id="show_a_variableapostrophes_monitor_by_ch" class="calibre"/><div class="book"><div class="book"><a id="med_id00162" class="calibre"/><img alt="Show a variable’s monitor by checking the box next to its name." src="httpatomoreillycomsourcenostarchimages2134605.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-18. Show a variable’s monitor by checking the box next to its name.</div></div><p class="calibre3"><a class="calibre" id="iddle1084"/><a class="calibre" id="iddle1252"/><a class="calibre" id="iddle1262"/><a class="calibre" id="iddle1526"/><a class="calibre" id="iddle1537"/><a class="calibre" id="iddle1542"/><a class="calibre" id="iddle1920"/><a class="calibre" id="iddle2001"/>Monitors can be used as readouts or controls, which display or allow you to change a
variable’s contents, respectively. Double-click the monitor’s box on the Stage to choose
a normal readout (the default state), large readout, or slider control. When you choose to display a
slider, you can set its range by right-clicking the slider and selecting the set slider min and max
option from the pop-up menu, as shown in <a class="xref" href="ch05.html#setting_the_minimum_and_maximum_values_f" title="Figure 5-19. Setting the minimum and maximum values for a monitor in slider mode">Figure 5-19</a>.</p><div class="figure"><a id="setting_the_minimum_and_maximum_values_f" class="calibre"/><div class="book"><div class="book"><a id="med_id00163" class="calibre"/><img alt="Setting the minimum and maximum values for a monitor in slider mode" src="httpatomoreillycomsourcenostarchimages2134607.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-19. Setting the minimum and maximum values for a monitor in slider mode</div></div><p class="calibre3"><span class="calibre"><em class="calibre6">StageColor.sb2</em></span></p><p class="calibre3">Using a slider allows you to change the value of a variable while a script is running, which
is a convenient way for users to interact with your application. You can see a simple example of
using the slider control in <a class="xref" href="ch05.html#adjusting_stage_color_with_a_slider" title="Figure 5-20. Adjusting Stage color with a slider">Figure 5-20</a>.</p><div class="figure"><a id="adjusting_stage_color_with_a_slider" class="calibre"/><div class="book"><div class="book"><a id="med_id00164" class="calibre"/><img alt="Adjusting Stage color with a slider" src="httpatomoreillycomsourcenostarchimages2134609.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-20. Adjusting Stage color with a slider</div></div><p class="calibre3">In this example, dragging the slider’s handle changes the value of the
<code class="literal">stageColor</code> variable, which is a parameter in the <span class="calibre"><strong class="calibre5">set
color effect to</strong></span> command. Assuming this script belongs to the Stage, dragging the slider
should change the Stage’s background color.</p><div class="note" title="Note"><h3 class="title4"><a id="ch05note01" class="firstname"/>Note</h3><p class="calibre3"><a class="calibre" id="iddle1235"/><a class="calibre" id="iddle1541"/><a class="calibre" id="iddle1611"/><a class="calibre" id="iddle1612"/><a class="calibre" id="iddle1775"/><span class="calibre"><em class="calibre6">A variable’s monitor also indicates its scope. If a variable belongs to
one sprite, its monitor should show the sprite name before the variable name. For example, the
monitor</em></span>
<span class="calibre"><strong class="calibre5">Cat speed 0</strong></span>
<span class="calibre"><em class="calibre6">indicates that</em></span>
<code class="literal">speed</code>
<span class="calibre"><em class="calibre6">belongs to</em></span>
<code class="literal">Cat</code><span class="calibre"><em class="calibre6">. If the</em></span>
<code class="literal">speed</code>
<span class="calibre"><em class="calibre6">variable were a global variable, its monitor would only say</em></span>
<span class="calibre"><strong class="calibre5">speed 0</strong></span><span class="calibre"><em class="calibre6">. The difference between the two cases is
illustrated in the following figure.</em></span></p><div class="informalfigure"><a id="med_id00165a" class="calibre"/><div class="book"><a id="med_id00165" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134611.png.jpg" class="calibre7"/></div></div></div></div><div class="book" title="Using Variable Monitors in Applications"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="using_variable_monitors_in_applications">Using Variable Monitors in Applications</h2></div></div></div><p class="calibre3">Now that you know the basics behind variable monitors, I’ll show you some ways you could
use them to add some extra functionality to your Scratch applications.</p><p class="calibre3">The ability to use monitors as both displays and controls opens the door for a wide range of
applications, including games, simulations, and interactive programs. Let’s explore some
examples that make use of monitors in the following subsections.</p><div class="book" title="Simulating Ohm’s Law"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="simulating_ohmapostrophes_law">Simulating Ohm’s Law</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">OhmsLaw.sb2</em></span></p><p class="calibre3">Our first example is a simulation of Ohm’s law. When a voltage (<span class="calibre"><em class="calibre6">V</em></span>)
is applied across a resistor (<span class="calibre"><em class="calibre6">R</em></span>), a current (<span class="calibre"><em class="calibre6">I</em></span>) will flow
through that resistor. According to Ohm’s law, the amount of current is given by this
equation:</p><div class="informalfigure"><a id="med_id00166a" class="calibre"/><div class="book"><a id="med_id00166" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134613.png.jpg" class="calibre7"/></div></div><p class="calibre3">Our application allows the user to change the values of <span class="calibre"><em class="calibre6">V</em></span> and
<span class="calibre"><em class="calibre6">R</em></span> using slider controls. Then it calculates and displays the corresponding
value of the current, <span class="calibre"><em class="calibre6">I</em></span>. The user interface for this application is shown in
<a class="xref" href="ch05.html#user_interface_for_the_ohmapostrophes_la" title="Figure 5-21. User interface for the Ohm’s law application">Figure 5-21</a>.</p><div class="figure"><a id="user_interface_for_the_ohmapostrophes_la" class="calibre"/><div class="book"><div class="book"><a id="med_id00167" class="calibre"/><img alt="User interface for the Ohm’s law application" src="httpatomoreillycomsourcenostarchimages2134615.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-21. User interface for the Ohm’s law application</div></div><p class="calibre3">The slider for the battery voltage (<span class="calibre"><em class="calibre6">V)</em></span> has a range of [0, 10], and the
slider for the resistor (<span class="calibre"><em class="calibre6">R</em></span>) has a range of [1, 10]. When the user changes
<span class="calibre"><em class="calibre6">V</em></span> or <span class="calibre"><em class="calibre6">R</em></span> with the sliders, the application calculates the
corresponding value of the current (<span class="calibre"><em class="calibre6">I</em></span>) that flows in the circuit. The
brightness of the bulb changes in proportion to the value of the current passing through it: The
higher the current, the brighter the light bulb. The sizes of the <span class="calibre"><em class="calibre6">V</em></span>,
<span class="calibre"><em class="calibre6">I</em></span>, and <span class="calibre"><em class="calibre6">R</em></span> letters in the figure also change to indicate the
relative values of these quantities.</p><p class="calibre3">In total, the application has five sprites (named <code class="literal">Volt</code>,
<code class="literal">Current</code>, <code class="literal">Resistance</code>, <code class="literal">Equal</code>, and
<code class="literal">Light</code>) and three variables (named <code class="literal">V</code>, <code class="literal">I</code>, and
<code class="literal">R</code>). Everything else you see in <a class="xref" href="ch05.html#user_interface_for_the_ohmapostrophes_la" title="Figure 5-21. User interface for the Ohm’s law application">Figure 5-21</a> (the battery, wires, socket, and so on) is part
of the Stage’s backdrop image. The main script that drives the application, which belongs to
the Stage, is shown <a class="xref" href="ch05.html#main_script_of_ohmapostrophes_law_applic" title="Figure 5-22. Main script of Ohm’s law application">Figure 5-22</a>.</p><div class="figure"><a id="main_script_of_ohmapostrophes_law_applic" class="calibre"/><div class="book"><div class="book"><a id="med_id00168" class="calibre"/><img alt="Main script of Ohm’s law application" src="httpatomoreillycomsourcenostarchimages2134617.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-22. Main script of Ohm’s law application</div></div><p class="calibre3">The script initializes the values of <code class="literal">V</code> and <code class="literal">R</code> and then
enters an infinite loop. On each pass through the loop, it calculates <code class="literal">I</code> using the
present values of <code class="literal">V</code> and <code class="literal">R</code>, which are set by the user through
the slider controls. It then broadcasts a message to the other sprites in the application to update
their appearance in relation to the calculated values. <a class="xref" href="ch05.html#scripts_triggered_in_response_to_the_upd" title="Figure 5-23. Scripts triggered in response to the Update message">Figure 5-23</a> shows the response of the
<code class="literal">Volt</code>, <code class="literal">Current</code>, <code class="literal">Resistance</code>, and
<code class="literal">Light</code> sprites (which show the letters <span class="calibre"><em class="calibre6">V</em></span>,
<span class="calibre"><em class="calibre6">I</em></span>, <span class="calibre"><em class="calibre6">R</em></span>, and the light bulb, respectively) when they receive
the <code class="literal">Update</code> message.</p><div class="figure"><a id="scripts_triggered_in_response_to_the_upd" class="calibre"/><div class="book"><div class="book"><a id="med_id00169" class="calibre"/><img alt="Scripts triggered in response to the Update message" src="httpatomoreillycomsourcenostarchimages2134619.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-23. Scripts triggered in response to the <span class="calibre"><em class="calibre6"><code class="literal1">Update</code></em></span>
message</div></div><p class="calibre3">When the <code class="literal">Update</code> broadcast is received, the <code class="literal">Volt</code>,
<code class="literal">Current</code>, and <code class="literal">Resistance</code> sprites change their size (from 100
percent to 200 percent of their original size) in relation to the current values of their respective
variables. The <code class="literal">Light</code> sprite executes the <span class="calibre"><strong class="calibre5">set ghost effect
to</strong></span> command to change its transparency level in proportion to the value of
<code class="literal">I</code>. This gives the light bulb a realistic visual effect that simulates an actual
bulb.</p><div class="sidebar"><a id="try_it_out_5-3" class="calibre"/><div class="sidebar-title">Try It Out 5-3</div><p class="calibre3"><a class="calibre" id="iddle1786"/><a class="calibre" id="iddle1909"/><a class="calibre" id="iddle1910"/><a class="calibre" id="iddle1921"/>Open the Ohm’s law simulator to run it, and study the scripts to understand how it
works. What do you think would happen if you added the command <span class="calibre"><strong class="calibre5">change color
effect by 25</strong></span> at the end of the script for the <code class="literal">Light</code> sprite? Implement
this change to check your answer. What are some ways you could enhance this application?</p></div></div><div class="book" title="Demonstrating a Series Circuit"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="demonstrating_a_series_circuit">Demonstrating a Series Circuit</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">SeriesCircuit.sb2</em></span></p><p class="calibre3">Our second example simulates a circuit that contains a battery and three resistors connected
in series. The user can change the battery voltage as well as the resistor values using the sliders.
The current that flows through the resistors and the voltages across the three resistors are shown
using large display readouts. You can see the interface for the application in <a class="xref" href="ch05.html#application_that_demonstrates_a_series_c" title="Figure 5-24. An application that demonstrates a series circuit">Figure 5-24</a>. (Note that the color bands on the resistors do
not represent the actual values of the resistors.)</p><div class="figure"><a id="application_that_demonstrates_a_series_c" class="calibre"/><div class="book"><div class="book"><a id="med_id00170" class="calibre"/><img alt="An application that demonstrates a series circuit" src="httpatomoreillycomsourcenostarchimages2134621.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-24. An application that demonstrates a series circuit</div></div><p class="calibre3">The equations that govern the operation of this circuit are shown below. We can calculate the
current that flows in the circuit by dividing the battery voltage, <span class="calibre"><em class="calibre6">V</em></span>, by the
sum of the three resistances. After that, the voltage across each resistor is calculated by
multiplying the current by the value of that resistor:</p><div class="informaltable"><table class="calibre23"><colgroup class="calibre10"><col class="c"/></colgroup><tbody class="calibre15"><tr class="calibre24"><td class="calibre34"><p class="calibre3">Total Resistance: <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">tot</sub> =
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub> + <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub> +
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub></p></td></tr><tr class="calibre28"><td class="calibre34"><p class="calibre3">Current through the circuit: <span class="calibre"><em class="calibre6">I</em></span> =
<span class="calibre"><em class="calibre6">V</em></span> ÷ <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">tot</sub></p></td></tr><tr class="calibre24"><td class="calibre34"><p class="calibre3">Voltage across <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub>:
<span class="calibre"><em class="calibre6">V</em></span><sub class="calibre31">1</sub> = <span class="calibre"><em class="calibre6">I</em></span> ×
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub></p></td></tr><tr class="calibre28"><td class="calibre34"><p class="calibre3">Voltage across <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub>:
<span class="calibre"><em class="calibre6">V</em></span><sub class="calibre31">2</sub> = <span class="calibre"><em class="calibre6">I</em></span> ×
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub></p></td></tr><tr class="calibre24"><td class="calibre35"><p class="calibre3">Voltage across <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub>:
<span class="calibre"><em class="calibre6">V</em></span><sub class="calibre31">3</sub> = <span class="calibre"><em class="calibre6">I</em></span> ×
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub></p></td></tr></tbody></table></div><p class="calibre3"><a class="calibre" id="iddle1790"/><a class="calibre" id="iddle1883"/><a class="calibre" id="iddle1911"/><a class="calibre" id="iddle1951"/><a class="calibre" id="iddle1952"/>This application has no sprites, but when the green flag is clicked, the script shown in
<a class="xref" href="ch05.html#script_that_runs_when_the_green_flag_is" title="Figure 5-25. Script that runs when the green flag is clicked">Figure 5-25</a>, which belongs to the Stage, is
executed.</p><p class="calibre3">This script takes care of the math for us and displays the results in the readouts on the
Stage. Note that while the slider controls for resistors <code class="literal">R2</code> and
<code class="literal">R3</code> can change from 0 to 10, the minimum value for <code class="literal">R1</code> was
intentionally set to 1. This ensures that <code class="literal">Rtot</code> is always greater than 0 and lets
us avoid dividing by 0 when calculating the value of the current.</p><div class="figure"><a id="script_that_runs_when_the_green_flag_is" class="calibre"/><div class="book"><div class="book"><a id="med_id00171" class="calibre"/><img alt="Script that runs when the green flag is clicked" src="httpatomoreillycomsourcenostarchimages2134623.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-25. Script that runs when the green flag is clicked</div></div><p class="calibre3">Most of the work for this application went into designing the interface (that is, the
background of the Stage). After that, all we had to do was to position the displays and sliders at
the right locations on the Stage.</p><div class="sidebar"><a id="try_it_out_5-4" class="calibre"/><div class="sidebar-title">Try It Out 5-4</div><p class="calibre3"><span class="calibre"><em class="calibre6">SeriesCircuitWithSwitch.sb2</em></span></p><p class="calibre3">Open the series circuit simulator application and run it. Experiment with different values of
<code class="literal">R1</code>, <code class="literal">R2</code>, <code class="literal">R3</code>, and <code class="literal">V</code>. Watch
the calculated values of <code class="literal">V1</code>, <code class="literal">V2</code>, and <code class="literal">V3</code> as
you drag the slider controls. What is the relationship between the voltage sum
(<code class="literal">V1</code> + <code class="literal">V2</code> + <code class="literal">V3</code>) and the battery voltage?
What does this tell you about the voltage relation in series circuits? You can make an interesting
enhancement to the application by adding an image of a switch that opens or closes the circuit, as
shown below. When the switch is open, no current will flow in the circuit. Try to implement this
change using the hints given below.</p><div class="informalfigure"><a id="med_id00172a" class="calibre"/><div class="book"><a id="med_id00172" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134625.png.jpg" class="calibre7"/></div></div></div></div><div class="book" title="Visualizing a Sphere’s Volume and Surface Area"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="visualizing_a_sphereapostrophes_volume_a">Visualizing a Sphere’s Volume and Surface Area</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">Sphere.sb2</em></span></p><p class="calibre3">Our third example is an interactive application for calculating the volume and surface area of
a sphere. The user changes the sphere’s diameter by clicking some buttons on the user
interface, and the application automatically calculates and displays the corresponding volume and
surface area. <a class="calibre" id="iddle1474"/>To make the application more appealing, the size of the sphere displayed on the Stage is
also changed in proportion to the selected diameter. The user interface for the application is
illustrated in <a class="xref" href="ch05.html#user_interface_for_the_sphere_applicatio" title="Figure 5-26. User interface for the sphere application">Figure 5-26</a>.</p><div class="figure"><a id="user_interface_for_the_sphere_applicatio" class="calibre"/><div class="book"><div class="book"><a id="med_id00173" class="calibre"/><img alt="User interface for the sphere application" src="httpatomoreillycomsourcenostarchimages2134627.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-26. User interface for the sphere application</div></div><p class="calibre3">The application contains three sprites: the two arrow buttons (named <code class="literal">Up</code> and
<code class="literal">Down</code>) and the sphere image (named <code class="literal">Sphere</code>). The scripts
associated with the two buttons broadcast a message to indicate that they have been clicked, as
shown in <a class="xref" href="ch05.html#scripts_for_the_up_and_down_sprites" title="Figure 5-27. Scripts for the Up and Down sprites">Figure 5-27</a>.</p><div class="figure"><a id="scripts_for_the_up_and_down_sprites" class="calibre"/><div class="book"><div class="book"><a id="med_id00174" class="calibre"/><img alt="Scripts for the Up and Down sprites" src="httpatomoreillycomsourcenostarchimages2134629.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-27. Scripts for the <span class="calibre"><em class="calibre6"><code class="literal1">Up</code></em></span> and
<span class="calibre"><em class="calibre6"><code class="literal1">Down</code></em></span> sprites</div></div><p class="calibre3">The <code class="literal">Sphere</code> sprite has nine costumes that represent spheres with diameters
1, 1.25, 1.5, 1.75, ..., 3. When this sprite receives the <code class="literal">Up</code> or
<code class="literal">Down</code> broad-cast messages, it executes the scripts shown in <a class="xref" href="ch05.html#scripts_triggered_by_the_up_and_down_mes" title="Figure 5-28. Scripts triggered by the Up and Down messages">Figure 5-28</a>.</p><div class="figure"><a id="scripts_triggered_by_the_up_and_down_mes" class="calibre"/><div class="book"><div class="book"><a id="med_id00175" class="calibre"/><img alt="Scripts triggered by the Up and Down messages" src="httpatomoreillycomsourcenostarchimages2134631.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-28. Scripts triggered by the <span class="calibre"><em class="calibre6"><code class="literal1">Up</code></em></span> and
<span class="calibre"><em class="calibre6"><code class="literal1">Down</code></em></span> messages</div></div><p class="calibre3">The sprite switches its costume and then calls the <span class="calibre"><strong class="calibre5">Recalculate</strong></span> procedure to update the volume and surface area calculations. Note that
these scripts use the value of the current costume to determine whether the sphere has reached its
highest or lowest size, thus ensuring valid responses to the <code class="literal">Up</code> and
<code class="literal">Down</code> buttons. I’ll say more about the <span class="calibre"><strong class="calibre5">if</strong></span>
block in the next chapter, but for now, let’s discuss the sphere’s <span class="calibre"><strong class="calibre5">Recalculate</strong></span> procedure, shown in <a class="xref" href="ch05.html#recalculate_procedure" title="Figure 5-29. Recalculate procedure">Figure 5-29</a>.</p><div class="figure"><a id="recalculate_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00176" class="calibre"/><img alt="Recalculate procedure" src="httpatomoreillycomsourcenostarchimages2134633.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-29. <span class="calibre"><em class="calibre6"><span class="calibre">Recalculate</span></em></span> procedure</div></div><p class="calibre3">First, the value of the <code class="literal">diameter</code> variable is set according to this
formula:</p><p class="calibre3"><span class="calibre"><em class="calibre6">diameter</em></span> = 1 + 0.25 × (<span class="calibre"><em class="calibre6">costume number</em></span> –
1)</p><p class="calibre3">Since the costume number ranges from 1 to 9, the corresponding values of the
<code class="literal">diameter</code> variable will be 1, 1.25, 1.50, ..., 2.75, 3, which is what we
intended.</p><p class="calibre3">The script finds the radius, <code class="literal">r</code>, by dividing the diameter by 2. It then
calculates the volume and the surface area of the sphere using the formulas shown in <a class="xref" href="ch05.html#user_interface_for_the_sphere_applicatio" title="Figure 5-26. User interface for the sphere application">Figure 5-26</a>. The computed values will show up automatically
on the corresponding monitors on the Stage.</p><div class="sidebar"><a id="try_it_out_5-5" class="calibre"/><div class="sidebar-title">Try It Out 5-5</div><p class="calibre3">Open the application and run it. Study the scripts to understand how the application works.
Add a script to the <code class="literal">Sphere</code> sprite so it rotates and changes color as the
application runs. As another exercise, modify the original program to use a single costume for the
<code class="literal">Sphere</code> sprite and use the <span class="calibre"><strong class="calibre5">change size by</strong></span> block
to change the sphere’s size. The scaled image won’t look as nice, but otherwise, the
application should perform identically.</p></div></div><div class="book" title="Drawing an n-Leaved Rose"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="drawing_an_n-leaved_rose">Drawing an n-Leaved Rose</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1217"/><a class="calibre" id="iddle1300"/><a class="calibre" id="iddle1602"/><a class="calibre" id="iddle1603"/><a class="calibre" id="iddle1774"/><a class="calibre" id="iddle1922"/><span class="calibre"><em class="calibre6">N-LeavedRose.sb2</em></span></p><p class="calibre3">In this example, we’ll create an application that draws a rose with multiple leaves on
the Stage. The rose-drawing process can be broken down into the following steps:</p><div class="book"><ol class="orderedlist"><li class="listitem1"><p class="calibre3">Start at the origin of the Stage.</p></li><li class="listitem1"><p class="calibre3">Point the sprite in some direction. By convention, the Greek letter θ (pronounced
<span class="calibre"><em class="calibre6">theta</em></span>) represents an angle, so we’ll name the variable for the
sprite’s direction <code class="literal">theta</code>.</p></li><li class="listitem1"><p class="calibre3">Move the sprite <code class="literal">r</code> steps and draw a single point on the Stage. After that,
lift the pen up and return to the origin.</p></li><li class="listitem1"><p class="calibre3">Change the angle <code class="literal">theta</code> by some amount (we’ll use 1°) and repeat
steps 2–4.</p><p class="calibre3">The relation between the distance <code class="literal">r</code> and the angle <code class="literal">theta</code>
is given by</p><p class="calibre3"><span class="calibre"><em class="calibre6">r</em></span> = <span class="calibre"><em class="calibre6">a</em></span> × cos(<span class="calibre"><em class="calibre6">n</em></span> ×
θ)</p></li></ol></div><p class="calibre3">where <span class="calibre"><em class="calibre6">a</em></span> is a real number and <span class="calibre"><em class="calibre6">n</em></span> is an integer. This
equation produces a rose whose size and number of leaves are controlled by <code class="literal">a</code> and
<code class="literal">n</code>, respectively. This equation also involves the cosine trigonometric function
(<span class="calibre"><em class="calibre6">cos</em></span>), which you’ll find as a reporter block in the
<span class="calibre"><em class="calibre6">Operators</em></span> palette (check the <span class="calibre"><strong class="calibre5">sqrt</strong></span> block).
Given the values of <code class="literal">a</code> and <code class="literal">n</code>, all we have to do is choose
different values for <code class="literal">theta</code>, calculate the corresponding values of
<code class="literal">r</code>, and mark the resulting points on the Stage. The user interface for this
example is shown in <a class="xref" href="ch05.html#user_interface_for_the_n-leaved_rose_app" title="Figure 5-30. User interface for the n-leaved rose application">Figure 5-30</a>.</p><div class="figure"><a id="user_interface_for_the_n-leaved_rose_app" class="calibre"/><div class="book"><div class="book"><a id="med_id00177" class="calibre"/><img alt="User interface for the n-leaved rose application" src="httpatomoreillycomsourcenostarchimages2134635.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-30. User interface for the <span class="calibre"><em class="calibre6">n</em></span>-leaved rose application</div></div><p class="calibre3">The application contains two sprites: The first sprite has the <code class="literal">Redraw</code>
button costume, and the second sprite (called <code class="literal">Painter</code>) is a hidden sprite that
draws the rose. The user controls the number of desired leaves by changing <code class="literal">n</code> with
the slider control and then clicks the <code class="literal">Redraw</code> button to draw the rose. When the
user clicks that button, the button sprite simply broadcasts a <code class="literal">Redraw</code> message.
When the <code class="literal">Painter</code> sprite receives this message, it executes the script shown in
<a class="xref" href="ch05.html#redraw_procedure_for_drawing_an_n-leaved" title="Figure 5-31. The Redraw procedure for drawing an n-leaved rose on the Stage">Figure 5-31</a>.</p><div class="figure"><a id="redraw_procedure_for_drawing_an_n-leaved" class="calibre"/><div class="book"><div class="book"><a id="med_id00178" class="calibre"/><img alt="The Redraw procedure for drawing an n-leaved rose on the Stage" src="httpatomoreillycomsourcenostarchimages2134637.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-31. The <span class="calibre"><em class="calibre6"><span class="calibre">Redraw</span></em></span> procedure for drawing an
<span class="calibre"><em class="calibre6">n</em></span>-leaved rose on the Stage</div></div><p class="calibre3">The script first sets the pen’s color and size and clears the previous pen marks from
the Stage. It then sets the variable <code class="literal">a</code> to 100 and calls the <span class="calibre"><strong class="calibre5">Rose</strong></span> procedure, which will run through a loop 360 times to draw the rose on
the Stage. On each pass of the loop, the procedure points in the direction <code class="literal">theta</code>,
moves <code class="literal">r</code> steps, and draws a pen mark at that location. It then increments
<code class="literal">theta</code> by 1° to prepare for the next pass of the <span class="calibre"><strong class="calibre5">repeat</strong></span> loop.</p><p class="calibre3"><a class="xref" href="ch05.html#some_roses_created_by_the_rose_procedure" title="Figure 5-32. Some roses created by the Rose procedure">Figure 5-32</a> shows some of the roses created for
different values of <code class="literal">n</code>. Can you figure out the relation between the value of
<code class="literal">n</code> and the number of leaves?</p><div class="figure"><a id="some_roses_created_by_the_rose_procedure" class="calibre"/><div class="book"><div class="book"><a id="med_id00179" class="calibre"/><img alt="Some roses created by the Rose procedure" src="httpatomoreillycomsourcenostarchimages2134639.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-32. Some roses created by the <span class="calibre"><em class="calibre6"><span class="calibre">Rose</span></em></span>
procedure</div></div><div class="sidebar"><a id="try_it_out_5-6" class="calibre"/><div class="sidebar-title">Try It Out 5-6</div><p class="calibre3">Open the application and run it. Change the value of <code class="literal">n</code> to see what else you
can create with the <span class="calibre"><strong class="calibre5">Rose</strong></span> procedure. Add another slider to the
application to allow the user to change the value of <code class="literal">a</code> and modify the scripts as
needed. You can also modify the <span class="calibre"><strong class="calibre5">Rose</strong></span> procedure to take
<code class="literal">a</code> as a parameter. (See <a class="xref" href="ch04.html#passing_parameters_to_custom_blocks" title="Passing Parameters to Custom Blocks">Passing Parameters to Custom Blocks</a> for
a refresher on how to add parameters to procedures.)</p></div></div><div class="book" title="Modeling Sunflower Seed Distribution"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="modeling_sunflower_seed_distribution">Modeling Sunflower Seed Distribution</h3></div></div></div><p class="calibre3"><a class="calibre" id="iddle1397"/><a class="calibre" id="iddle1446"/><a class="calibre" id="iddle1791"/><a class="calibre" id="iddle1807"/><a class="calibre" id="iddle2023"/><a class="calibre" id="iddle2024"/><a class="calibre" id="iddle2025"/><span class="calibre"><em class="calibre6">Sunflower.sb2</em></span></p><p class="calibre3">Biologists and mathematicians have studied the arrangement of leaves on the stems of plants
extensively. Let’s delve into botany a bit ourselves by examining a geometric model for
representing flowers with spiral seed patterns. In particular, we’ll program two equations
that model the distribution of seeds in a sunflower. To draw the <span class="calibre"><em class="calibre6">n</em></span>th seed of
the sunflower, we’ll follow these steps:</p><div class="book"><ol class="orderedlist"><li class="listitem1"><p class="calibre3">Point the sprite in the direction of <span class="calibre"><em class="calibre6">n</em></span> × 137.5°.</p></li><li class="listitem1"><p class="calibre3">Move a distance <span class="inlinemediaobject"><a id="inline_id00013" class="calibre"/><img alt="" src="httpatomoreillycomsourcenostarchimages2134641.png.jpg" class="calibre8"/></span>, where <span class="calibre"><em class="calibre6">c</em></span> is a constant scaling factor (set to 5 in our
example).</p></li><li class="listitem1"><p class="calibre3">Draw a point on the Stage at the final location.</p></li></ol></div><p class="calibre3">We’ll repeat these steps for each seed we want to draw. For the first seed, we set
<span class="calibre"><em class="calibre6">n</em></span> = 1; for the second seed, we set <span class="calibre"><em class="calibre6">n</em></span> = 2; and so on. Using
angles other than 137.5° in the first step will result in different arrangements of seeds. If
you’re curious about these equations and want to learn more about sunflower seed patterns,
check out <span class="calibre"><em class="calibre6">The Algorithmic Beauty of Plants</em></span> by Przemyslaw Prusinkiewicz and
Aristid Lindenmayer (Springer-Verlag, 2004), specifically <a class="xref" href="ch04.html" title="Chapter 4. Procedures">Chapter 4</a>, which
you’ll find on the book’s website, <span class="calibre"><em class="calibre6"><a class="xref" href="http://algorithmicbotany.org/papers/#abop" target="_top">http://algorithmicbotany.org/papers/#abop</a></em></span>.</p><p class="calibre3">Our application will generate patterns similar to the ones described in that work, and you can
see some of those patterns in <a class="xref" href="ch05.html#some_sunflower_patterns_generated_using" title="Figure 5-33. Some sunflower patterns generated using different angles">Figure 5-33</a>.</p><div class="figure"><a id="some_sunflower_patterns_generated_using" class="calibre"/><div class="book"><div class="book"><a id="med_id00180" class="calibre"/><img alt="Some sunflower patterns generated using different angles" src="httpatomoreillycomsourcenostarchimages2134643.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-33. Some sunflower patterns generated using different angles</div></div><p class="calibre3">The interface for this example contains a slider control to change the value of the angle from
137° to 138° in increments of 0.01° and a button labeled <code class="literal">Redraw</code>.
When the user clicks that button, it broadcasts a message to the <code class="literal">Painter</code> sprite,
which executes the scripts shown in <a class="xref" href="ch05.html#scripts_for_the_painter_sprite" title="Figure 5-34. The scripts for the Painter sprite">Figure 5-34</a>.</p><p class="calibre3">The <span class="calibre"><strong class="calibre5">Sunflower</strong></span> procedure executes a loop that draws 420
seeds, though you can change this number if you like. On every iteration of the loop, the procedure
goes to the location of the <span class="calibre"><em class="calibre6">n</em></span>th seed (by calculating the seed’s angle
① and moving <span class="inlinemediaobject"><a id="inline_id00014" class="calibre"/><img alt="" src="httpatomoreillycomsourcenostarchimages2134645.png.jpg" class="calibre8"/></span> ② steps) and draws a pen mark at that location. The procedure then
increments <code class="literal">n</code>, which represents the seed number, to prepare to draw the next
seed.</p><div class="figure"><a id="scripts_for_the_painter_sprite" class="calibre"/><div class="book"><div class="book"><a id="med_id00181" class="calibre"/><img alt="The scripts for the Painter sprite" src="httpatomoreillycomsourcenostarchimages2134647.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-34. The scripts for the <span class="calibre"><em class="calibre6"><code class="literal1">Painter</code></em></span> sprite</div></div><p class="calibre3"><a class="calibre" id="iddle1048"/><a class="calibre" id="iddle1432"/><a class="calibre" id="iddle1665"/><a class="calibre" id="iddle1815"/><a class="calibre" id="iddle1881"/><a class="calibre" id="iddle1905"/><a class="calibre" id="iddle2054"/>The scripts I’ve presented in this section are just a few samples of the amazing
applications we can create by using variables and monitors. Letting the user interact with our
applications through the slider control is just the start of a new breed of interactive
applications. In the following section, you’ll learn to create scripts that directly prompt
users for input.</p><div class="sidebar"><a id="try_it_out_5-7" class="calibre"/><div class="sidebar-title">Try It Out 5-7</div><p class="calibre3">Open the application and run it. Change the value of the angle to see what else you can create
with the <span class="calibre"><strong class="calibre5">Sunflower</strong></span> procedure. Study the procedure to understand
how it works and then come up with some ways to enhance it.</p></div></div></div><div class="book" title="Getting Input from Users"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="getting_input_from_users">Getting Input from Users</h2></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">GettingUserInput.sb2</em></span></p><p class="calibre3">Imagine that you want to create a game that tutors children in basic arithmetic. Your game
would probably have a sprite that displays an addition problem and asks the player to enter an
answer. How would you read the player’s input to see whether the answer was correct?</p><p class="calibre3">Scratch’s <span class="calibre"><em class="calibre6">Sensing</em></span> palette provides one command block, <span class="calibre"><strong class="calibre5">ask and wait</strong></span>, that you can use to read user input. This block takes a
single parameter that specifies a string to show to the user, usually in the form of a question. As
illustrated in <a class="xref" href="ch05.html#ask_and_wait_block_may_produce_different" title="Figure 5-35. The ask and wait block may produce different outputs depending on whether the sprite that executes it is shown or hidden.">Figure 5-35</a>, the execution of this
block produces slightly different outputs depending on the visibility state of the sprite (that is,
whether the sprite is shown or hidden). The output shown in <a class="xref" href="ch05.html#ask_and_wait_block_may_produce_different" title="Figure 5-35. The ask and wait block may produce different outputs depending on whether the sprite that executes it is shown or hidden.">Figure 5-35</a> (right) also appears when the <span class="calibre"><strong class="calibre5">ask and wait</strong></span> command is called from a script that is owned by the
Stage.</p><div class="figure"><a id="ask_and_wait_block_may_produce_different" class="calibre"/><div class="book"><div class="book"><a id="med_id00182" class="calibre"/><img alt="The ask and wait block may produce different outputs depending on whether the sprite that executes it is shown or hidden." src="httpatomoreillycomsourcenostarchimages2134649.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-35. The <span class="calibre"><em class="calibre6"><span class="calibre">ask and wait</span></em></span> block may produce
different outputs depending on whether the sprite that executes it is shown or hidden.</div></div><p class="calibre3"><a class="calibre" id="iddle1045"/><a class="calibre" id="iddle1046"/><a class="calibre" id="iddle1047"/><a class="calibre" id="iddle1090"/><a class="calibre" id="iddle1188"/><a class="calibre" id="iddle1439"/><a class="calibre" id="iddle1623"/><a class="calibre" id="iddle1880"/><a class="calibre" id="iddle2011"/>After executing the <span class="calibre"><strong class="calibre5">ask and wait</strong></span> command, the calling
script waits for the user to press the <span class="smaller">ENTER</span> key or click the
check mark at the right side of the input box. When this happens, Scratch stores the user’s
input in the <span class="calibre"><strong class="calibre5">answer</strong></span> block and continues execution at the command
immediately after the <span class="calibre"><strong class="calibre5">ask and wait</strong></span> block. To see this command
block in action, take a look at the following examples illustrating how to use it.</p><div class="book" title="Reading a Number"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="reading_a_number">Reading a Number</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">AskAndWait.sb2</em></span></p><p class="calibre3">The script of <a class="xref" href="ch05.html#script_that_accepts_the_userapostrophes" title="Figure 5-36. A script that accepts the user’s age as input">Figure 5-36</a> asks the user for her
age, waits for an answer, and tells the user how old she will be in 10 years.</p><div class="figure"><a id="script_that_accepts_the_userapostrophes" class="calibre"/><div class="book"><div class="book"><a id="med_id00183" class="calibre"/><img alt="A script that accepts the user’s age as input" src="httpatomoreillycomsourcenostarchimages2134651.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-36. A script that accepts the user’s age as input</div></div><p class="calibre3">The figure shows the output of the program when the user types <code class="literal">18</code> and
presses <span class="smaller">ENTER</span> on the keyboard. Notice that the program uses the
<span class="calibre"><strong class="calibre5">join</strong></span> block (from the <span class="calibre"><em class="calibre6">Operators</em></span> palette) to
concatenate (that is, connect) two strings.</p></div><div class="book" title="Reading Characters"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="reading_characters">Reading Characters</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">AskAndWait2.sb2</em></span></p><p class="calibre3">The script of <a class="xref" href="ch05.html#script_that_uses_two_variables_to_read_i" title="Figure 5-37. A script that uses two variables to read in and store the user’s initials">Figure 5-37</a> asks the user for his
initials and then constructs and displays a greeting based on the user’s response.</p><div class="figure"><a id="script_that_uses_two_variables_to_read_i" class="calibre"/><div class="book"><div class="book"><a id="med_id00184" class="calibre"/><img alt="A script that uses two variables to read in and store the user’s initials" src="httpatomoreillycomsourcenostarchimages2134653.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-37. A script that uses two variables to read in and store the user’s initials</div></div><p class="calibre3"><a class="calibre" id="iddle1039"/><a class="calibre" id="iddle1595"/><a class="calibre" id="iddle1812"/>The program uses two variables (<code class="literal">firstInitial</code> and
<code class="literal">lastInitial</code>) to save the values entered by the user. You can see the final output
of the program when the user enters the letters <code class="literal">M</code> and <code class="literal">S</code> at the
two prompts, respectively. Notice that the program uses nested <span class="calibre"><strong class="calibre5">join</strong></span> blocks to construct the greeting. You can use this technique to create all sorts of
strings and display customized messages in your applications.</p></div><div class="book" title="Performing Arithmetic Operations"><div class="titlepage1"><div class="book"><div class="book"><h3 class="title3" id="performing_arithmetic_operations">Performing Arithmetic Operations</h3></div></div></div><p class="calibre3"><span class="calibre"><em class="calibre6">AskAndWait3.sb2</em></span></p><p class="calibre3">The script of <a class="xref" href="ch05.html#computing_a_value_based_on_user_input" title="Figure 5-38. Computing a value based on user input">Figure 5-38</a> asks the user to input
two numbers. It then computes the product of these two numbers and shows the answer in a voice
bubble using the <span class="calibre"><strong class="calibre5">say</strong></span> command. As in the previous example, the
script uses two variables (<code class="literal">num1</code> and <code class="literal">num2</code>) to store the values
entered by the user.</p><div class="figure"><a id="computing_a_value_based_on_user_input" class="calibre"/><div class="book"><div class="book"><a id="med_id00185" class="calibre"/><img alt="Computing a value based on user input" src="httpatomoreillycomsourcenostarchimages2134655.png.jpg" class="calibre7"/></div></div><div class="figure-title">Figure 5-38. Computing a value based on user input</div></div><p class="calibre3">The figure shows the output when the user enters 9 and 8, respectively, in response to the two
prompts. Again, notice that I’ve nested the <span class="calibre"><strong class="calibre5">join</strong></span> blocks to
construct the output string.</p><p class="calibre3">The examples I’ve presented in this section demonstrate several ways to use the
<span class="calibre"><strong class="calibre5">ask and wait</strong></span> block to write scripts that take in user input and
solve a variety of problems. You can, for example, write a program to find the roots of a quadratic
equation of the form <span class="calibre"><em class="calibre6">ax</em></span><sup class="calibre36">2</sup> + <span class="calibre"><em class="calibre6">bx</em></span> +
<span class="calibre"><em class="calibre6">c</em></span> = 0 for any values of <span class="calibre"><em class="calibre6">a</em></span>, <span class="calibre"><em class="calibre6">b</em></span>, and
<span class="calibre"><em class="calibre6">c</em></span> entered by the user. You could then use this program to check your own answer
to the equation. I hope this will give you some ideas of how to use this powerful block to solve any
math problem that may arise.</p></div></div><div class="book" title="Summary"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="summary-id00010">Summary</h2></div></div></div><p class="calibre3">Variables are one of the most important concepts in programming. A variable is the name of an
area in computer memory where we can store a single value, such as a number or a string.</p><p class="calibre3">In this chapter, you learned the basic data types supported in Scratch and the operations
permitted on these types. You then learned how to create variables and use them to store a piece of
data.</p><p class="calibre3">You also implemented several practical applications that used variables to demonstrate
different features. You explored variables’ monitors and used them to create different kinds
of interactive programs. Finally, you learned how to use the <span class="calibre"><strong class="calibre5">ask and
wait</strong></span> block to prompt the user for some input and process the user’s responses in
your program.</p><p class="calibre3">In the next chapter, you’ll learn more about the Boolean data type and the fundamental
role it plays in decision making. You’ll also learn about the <span class="calibre"><strong class="calibre5">if</strong></span> and the <span class="calibre"><strong class="calibre5">if/else</strong></span> blocks and use them to add another
level of intelligence to your Scratch programs. So roll up your sleeves and get ready for another
exciting chapter!</p></div><div class="book" title="Problems"><div class="titlepage1"><div class="book"><div class="book"><h2 class="title2" id="problems-id00011">Problems</h2></div></div></div><div class="book" title="Frequently Asked Questions"><a id="ch05qa1" class="calibre"/><table class="calibre21"><colgroup class="calibre10"><col class="calibre22"/><col class="c"/></colgroup><tbody class="calibre15"><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe1" class="calibre"/><a id="ch05qa1q1" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">1. Create a script that implements the following instructions:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3">Set the <code class="literal2">speed</code> variable to 60 (mph).</p></li><li class="listitem1"><p class="calibre3">Set the <code class="literal2">time</code> variable to 2.5 (hours).</p></li><li class="listitem1"><p class="calibre3">Calculate the distance traveled and save the answer in the <code class="literal2">distance</code>
variable.</p></li><li class="listitem1"><p class="calibre3">Display the calculated distance, with an appropriate message, to the user</p></li></ul></div></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch05qa1qe2" class="calibre"/><a id="ch05qa1q2" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">2. What is the output of each of the scripts shown below? Reproduce these scripts and run them
to test your answer.</p><div class="informalfigure"><a id="med_id00186a" class="calibre"/><div class="book"><a id="med_id00186" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134657.png.jpg" class="calibre7"/></div></div></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe3" class="calibre"/><a id="ch05qa1q3" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">3. What are the values of <code class="literal2">X</code> and <code class="literal2">Y</code> at the end of each
iteration of the repeat loop in the script to the right? Reproduce the script and run it to check
your answer.</p><div class="informalfigure"><a id="med_id00187a" class="calibre"/><div class="book"><a id="med_id00187" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134659.png.jpg" class="calibre7"/></div></div></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch05qa1qe4" class="calibre"/><a id="ch05qa1q4" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">4. Let <span class="calibre"><em class="calibre6">x</em></span> and <span class="calibre"><em class="calibre6">y</em></span> be two variables. Create function
blocks equivalent to the following statements:</p><div class="book"><ul class="itemizedlist"><li class="listitem1"><p class="calibre3">Add 5 to <span class="calibre"><em class="calibre6">x</em></span> and store the result in <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Multiply <span class="calibre"><em class="calibre6">x</em></span> by 3 and store the result in <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Divide <span class="calibre"><em class="calibre6">x</em></span> by 10 and store the result in <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Subtract 4 from <span class="calibre"><em class="calibre6">x</em></span> and store the result in <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Square <span class="calibre"><em class="calibre6">x</em></span>, add <span class="calibre"><em class="calibre6">y</em></span> to the result, and store the result
back in <span class="calibre"><em class="calibre6">x</em></span>.</p></li><li class="listitem1"><p class="calibre3">Set <span class="calibre"><em class="calibre6">x</em></span> equal to twice the value of <span class="calibre"><em class="calibre6">y</em></span> plus three times
the cube of <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Set <span class="calibre"><em class="calibre6">x</em></span> equal to minus the square of <span class="calibre"><em class="calibre6">y</em></span>.</p></li><li class="listitem1"><p class="calibre3">Set <span class="calibre"><em class="calibre6">x</em></span> equal to the result of dividing the sum of <span class="calibre"><em class="calibre6">x</em></span>
and <span class="calibre"><em class="calibre6">y</em></span> by the product of <span class="calibre"><em class="calibre6">x</em></span> and
<span class="calibre"><em class="calibre6">y</em></span>.</p></li></ul></div></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe5" class="calibre"/><a id="ch05qa1q5" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">5. Write a program that asks that user to enter an article, a noun, and a verb. The program
then creates a sentence of the form <span class="calibre"><em class="calibre6">article noun verb</em></span>.</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch05qa1qe6" class="calibre"/><a id="ch05qa1q6" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">6. Write a program that asks the user to enter a temperature in degrees Celsius. The program
will convert the temperature to degrees Fahrenheit and display the result to the user with an
appropriate message. (Hint: <span class="calibre"><em class="calibre6">F°</em></span> = (1.8 × <span class="calibre"><em class="calibre6">C°</em></span>)
+ 32.)</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe7" class="calibre"/><a id="ch05qa1q7" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">7. When a current <span class="calibre"><em class="calibre6">I</em></span> flows through a resistance <span class="calibre"><em class="calibre6">R</em></span>,
the power <span class="calibre"><em class="calibre6">P</em></span> dissipated by the resistance is <span class="calibre"><em class="calibre6">I</em></span>
<sup class="calibre32">2</sup>
<span class="calibre"><em class="calibre6">× R</em></span>. Write a program that reads <span class="calibre"><em class="calibre6">I</em></span> and
<span class="calibre"><em class="calibre6">R</em></span> and calculates <span class="calibre"><em class="calibre6">P</em></span>.</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch05qa1qe8" class="calibre"/><a id="ch05qa1q8" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">8. Write a program that reads the lengths of the two sides of a right triangle and calculates
the length of the hypotenuse.</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe9" class="calibre"/><a id="ch05qa1q9" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">9. Write a program that prompts the user to enter the length (<span class="calibre"><em class="calibre6">L</em></span>), width
(<span class="calibre"><em class="calibre6">W</em></span>), and height (<span class="calibre"><em class="calibre6">H</em></span>) of a box. The program will then
compute and display the volume and surface area of the box. (Hint: <span class="calibre"><em class="calibre6">Volume = L × W
× H</em></span>; <span class="calibre"><em class="calibre6">Surface area =</em></span> 2<span class="calibre"><em class="calibre6">×</em></span>[(<span class="calibre"><em class="calibre6">L
× W</em></span>) <span class="calibre"><em class="calibre6">+</em></span> (<span class="calibre"><em class="calibre6">L × H</em></span>) <span class="calibre"><em class="calibre6">+</em></span>
(<span class="calibre"><em class="calibre6">H × W</em></span>)].)</p></td></tr><tr class="calibre18" title="Q:"><td class="calibre20"><a id="ch05qa1qe10" class="calibre"/><a id="ch05qa1q10" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">10. The equivalent resistance <span class="calibre"><em class="calibre6">R</em></span> of three resistors
(<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub>, <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub>, and
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub>) connected in parallel is given by this
equation:</p><p class="calibre3">1/<span class="calibre"><em class="calibre6">R</em></span> = 1/<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub>
<span class="calibre"><em class="calibre6">+</em></span> 1/<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub>
<span class="calibre"><em class="calibre6">+</em></span> 1/<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub></p><p class="calibre3">Write a program that reads the values of <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">1</sub>,
<span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">2</sub>, and <span class="calibre"><em class="calibre6">R</em></span><sub class="calibre31">3</sub>
and calculates <span class="calibre"><em class="calibre6">R</em></span>.</p></td></tr><tr class="calibre12" title="Q:"><td class="calibre20"><a id="ch05qa1qe11" class="calibre"/><a id="ch05qa1q11" class="calibre"/><p class="calibre3"><strong class="calibre5">Q:</strong></p></td><td class="calibre20"><p class="calibre3">11. <a class="calibre" id="iddle1800"/><a class="calibre" id="iddle2087"/><a class="calibre" id="iddle2088"/>Complete the Whac-a-Mole game introduced earlier in the chapter. The file
<span class="calibre"><em class="calibre6">Whac-a-Mole.sb2</em></span> contains a partial implementation of this program. When the
green flag is clicked, the provided script starts a loop that moves the <code class="literal2">Cat</code>
sprite randomly over the holes. Add two scripts (one for the <code class="literal2">Cat</code> and the other
for the Stage) to change the values of the two variables (<code class="literal2">hits</code> and
<code class="literal2">misses</code>) appropriately. Try adding some sound effects to make the game more fun!
You could also add a condition that ends the game after a timer or the number of misses reaches a
certain value.</p><div class="informalfigure"><a id="med_id00188a" class="calibre"/><div class="book"><a id="med_id00188" class="calibre"/><img alt="image with no caption" src="httpatomoreillycomsourcenostarchimages2134661.png.jpg" class="calibre7"/></div></div></td></tr></tbody></table></div></div></section></body></html>