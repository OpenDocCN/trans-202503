<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="index: http://www.index.com/" lang="en" xml:lang="en">
	<head>
		<title>Chapter 14: Flip Flop</title>
		<link href="NSTemplate_v1.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:2773a57b-ca23-41a5-82c7-0359d25e4138" name="Adept.expected.resource"/>
	</head>
	<body epub:type="bodymatter chapter">
		<section>
			<header>
				<h1 class="chapter"><span class="ChapterNumber"><span epub:type="pagebreak" id="Page_141" title="141"/>14</span><br/><span class="ChapterTitle">Flip Flop</span></h1>
			</header>
			<p class="ChapterIntro"><span class="DropCap">F</span>lip Flop Bot is a prime example of a <em>state machine</em>, as it follows a specific routine and has different modes of operation. For instance, if the first set of switches is activated, the bot is in its first mode and travels in a forward direction. If the other set of switches is activated, the bot is in its second mode and travels in a backward direction. Essentially, this bot drives forward until it hits something, and then it reverses and goes the other way until it hits something else. If you put the bot in a door frame, it travels back and forth endlessly (or until the batteries run out).</p>
			<figure class="graphic">
				<img alt="f14001" src="image_fi/500235c14/f14001.png"/>
			</figure>
			<p><span epub:type="pagebreak" id="Page_142" title="142"/>If you want to create something a little more dynamic, swap out the round wheels for wheels of a different shape (oval perhaps). Then Flip Flop Bot will no longer travel back and forth in a straight line continuously.</p>
			<p>The beauty of this bot is that it can change its state and then stay in that new state until it receives new input.</p>
			<p class="ListHead"><b>Tools and Supplies</b></p>
			<ul>
				<li>Two continuous-rotation servo motors with the controllers removed</li>
				<li>
					A 4 <span class="NSSymbol">×</span> AA battery holder</li>
				<li>Four AA batteries</li>
				<li>Two 3-inch casters</li>
				<li>Two 3-inch round reflectors</li>
				<li>A 6 V 3PDT relay</li>
				<li>A 3PDT relay socket</li>
				<li>
					An 8 <span class="NSSymbol">×</span> 5 <span class="NSSymbol">×</span> 1-inch tray (or similar)</li>
				<li>Four snap-action lever switches</li>
				<li>Two 1/4-20 leveling mounts</li>
				<li>A 3/8-inch diameter shrink tube</li>
				<li>Four 8-inch zip ties</li>
				<li>Assorted zip ties</li>
				<li>Saw</li>
				<li>Drill</li>
				<li>A 1/8-inch drill bit</li>
				<li>A ¼-inch drill bit</li>
				<li>Wire stripper</li>
				<li>Diagonal cutting pliers</li>
				<li>Screwdriver</li>
				<li>Ruler</li>
				<li>Marker</li>
			</ul>
			<h2 id="h1-500235c14-0001">Flip Flop Overview</h2>
			<p class="BodyFirst">To make this bot, first modify two continuous-rotation servos for direct drive by removing their controller boards (Chapter 4) or use two geared motor alternatives, as outlined in Appendix A. You’ll drill the servo horns and attach them to the caster wheels. From there, you’ll mark and modify the tray to attach it to the servo motors. You’ll wire up each pair of switches, attaching them to the reflectors and attaching the reflectors to the tray. Then, you’ll wire up the whole circuit using a 3PDT relay. This is similar to a DPDT relay (or switch) but has an additional set of SPDT pins built in. You can learn more about this relay in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span> on page <span class="xref" itemid="xref_target_161">161</span>. Once that is wired, you’ll secure the relay and reattach the wheels. To complete the bot, you’ll add zip-tie antennae to the switches, and you’ll be ready to power up the bot.</p>
			<h2 id="h1-500235c14-0002"><span epub:type="pagebreak" id="Page_143" title="143"/>Constructing Flip Flop</h2>
			<ol class="none">
				<li><span class="RunInHead">Step 1.</span> Remove the center bolts to separate the wheels from the caster frames.</li>
				<li><span class="RunInHead">Step 2.</span> Widen the second-from-the-last hole in each end of the servo horn using a 1/8-inch drill bit. Repeat for the other servo horn.
					<figure class="figure">
						<img alt="f14002" src="image_fi/500235c14/f14002.png"/>
						<figcaption>
							<p class="figcaption">Step 1</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14003" src="image_fi/500235c14/f14003.png"/>
						<figcaption>
							<p class="figcaption">Step 2</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 3.</span> Undo the mounting screws to remove the servo horns from the servos.</li>
				<li><span class="RunInHead">Step 4.</span> Center a servo horn on each wheel and use a thin screwdriver to press marks into the frame of each wheel to use as drill guides.
					<figure class="figure">
						<img alt="f14004" src="image_fi/500235c14/f14004.png"/>
						<figcaption>
							<p class="figcaption">Step 3</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14005" src="image_fi/500235c14/f14005.png"/>
						<figcaption>
							<p class="figcaption">Step 4</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_144" title="144"/><span class="RunInHead">Step 5.</span> Use the indents you just made as guides to drill 1/8-inch holes straight down through the wheels.</li>
				<li><span class="RunInHead">Step 6.</span> Zip-tie the servo horns to the wheels and trim away the remaining tails.
					<figure class="figure">
						<img alt="f14006" src="image_fi/500235c14/f14006.png"/>
						<figcaption>
							<p class="figcaption">Step 5</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14007" src="image_fi/500235c14/f14007.png"/>
						<figcaption>
							<p class="figcaption">Step 6</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 7.</span> Make a mark centered on each of the long edges of the tray.
					<figure class="figure">
						<img alt="f14008" src="image_fi/500235c14/f14008.png"/>
						<figcaption>
							<p class="figcaption">Step 7</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 8.</span> Line up the servo shaft with the center marks and then trace two cut marks onto each long edge of the tray to outline the body of the servo.
					<figure class="figure">
						<img alt="f14009" src="image_fi/500235c14/f14009.png"/>
						<figcaption>
							<p class="figcaption">Step 8</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_145" title="145"/><span class="RunInHead">Step 9.</span> With the lines you drew in step 8 as a guide, use a saw to cut out a hole large enough to insert the motor into it on each long side of the tray. The motors should be resting along the bottom of the tray.
					<figure class="figure">
						<img alt="f14010" src="image_fi/500235c14/f14010.png"/>
						<figcaption>
							<p class="figcaption">Step 9</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 10.</span> Make marks to indicate the servo mounting holes along the edge of the tray. If only the bottommost holes line up with the edge of the tray, it’s okay.
					<figure class="figure">
						<img alt="f14011" src="image_fi/500235c14/f14011.png"/>
						<figcaption>
							<p class="figcaption">Step 10</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 11.</span> Drill through the marks on the sides of the tray using a 1/8-inch drill bit.</li>
				<li><span class="RunInHead">Step 12.</span> Zip-tie the motors to the edges of the tray.
					<figure class="figure">
						<img alt="f14012" src="image_fi/500235c14/f14012.png"/>
						<figcaption>
							<p class="figcaption">Step 11</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14013" src="image_fi/500235c14/f14013.png"/>
						<figcaption>
							<p class="figcaption">Step 12</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_146" title="146"/><span class="RunInHead">Step 13.</span> Stack two switches along the edge of each round reflector. Make marks on each reflector on both sides of the switch to serve as drill guides for a zip tie.</li>
				<li><span class="RunInHead">Step 14.</span> Make another mark roughly in the center of each reflector.
					<figure class="figure">
						<img alt="f14014" src="image_fi/500235c14/f14014.png"/>
						<figcaption>
							<p class="figcaption">Step 13</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14015" src="image_fi/500235c14/f14015.png"/>
						<figcaption>
							<p class="figcaption">Step 14</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 15.</span> Drill all the marks on the reflectors with a 1/8-inch drill bit.</li>
				<li><span class="RunInHead">Step 16.</span> Peel the adhesive back from each reflector and stick a switch along the edge between the 1/8-inch holes.
					<figure class="figure">
						<img alt="f14016" src="image_fi/500235c14/f14016.png"/>
						<figcaption>
							<p class="figcaption">Step 15</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14017" src="image_fi/500235c14/f14017.png"/>
						<figcaption>
							<p class="figcaption">Step 16</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_147" title="147"/><span class="RunInHead">Step 17.</span> Stack another switch on top of the one on the adhesive reflector and zip-tie it in place. Repeat this process with the remaining reflector and lever switches.
					<figure class="figure">
						<img alt="f14018" src="image_fi/500235c14/f14018.png"/>
						<figcaption>
							<p class="figcaption">Step 17</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 18.</span> One pair of switches should have their normally closed (NC) connections wired <em>in series</em>. This means you need to wire the common pins together, attach a long red wire to the NC pin on one switch, and attach a long black wire to the NC pin on the other switch.</li>
			</ol>
			<p>
				The other pair of switches should have their NO (normally open) connections wired <em>in parallel</em>. This means you need to wire the common pins together and then wire the NO pins together. Finally, attach a long red wire to the NO connections and a long black wire to the common connections.</p>
			<figure class="figure">
				<img alt="f14019" src="image_fi/500235c14/f14019.png"/>
				<figcaption>
					<p class="figcaption">Step 18</p>
				</figcaption>
			</figure>
			<ol class="none">
				<li><span epub:type="pagebreak" id="Page_148" title="148"/><span class="RunInHead">Step 19.</span> Stick one of the reflectors to the bottom of the tray such that the switch is right up against one of the short edges of the tray.</li>
				<li><span class="RunInHead">Step 20.</span> Attach the remaining adhesive reflector to the bottom of the tray along the other short edge.
					<figure class="figure">
						<img alt="f14020" src="image_fi/500235c14/f14020.png"/>
						<figcaption>
							<p class="figcaption">Step 19</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14021" src="image_fi/500235c14/f14021.png"/>
						<figcaption>
							<p class="figcaption">Step 20</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 21.</span> Drill through both the center of the reflector and the tray using a ¼-inch drill bit.
					<figure class="figure">
						<img alt="f14022" src="image_fi/500235c14/f14022.png"/>
						<figcaption>
							<p class="figcaption">Step 21</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_149" title="149"/><span class="RunInHead">Step 22.</span> Attach the leveling mounts directly below the reflectors and lock them in place with their mounting nuts.
					<figure class="figure">
						<img alt="f14023" src="image_fi/500235c14/f14023.png"/>
						<figcaption>
							<p class="figcaption">Step 22</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 23.</span> Place the relay socket on top of the tray and make two marks along both edges to indicate where its mounting holes will be.</li>
				<li><span class="RunInHead">Step 24.</span> Drill each of the four markings with a 1/8-inch drill bit.
					<figure class="figure">
						<img alt="f14024" src="image_fi/500235c14/f14024.png"/>
						<figcaption>
							<p class="figcaption">Step 23</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14025" src="image_fi/500235c14/f14025.png"/>
						<figcaption>
							<p class="figcaption">Step 24</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 25.</span> Build the circuit using the relay socket as outlined in the following wiring diagram. Go slow and make sure that all the correct connections to the relay socket terminals are made. You can learn more about how this circuit works in <span class="xref" itemid="xref_target_Appendix A">Appendix A</span> on page <span class="xref" itemid="xref_target_161">161</span>. When you are done building the circuit, the motors, switches, and battery holder should all be wired to the relay socket, as shown.</li>
			</ol>
			<figure>
				<img alt="f14026" src="image_fi/500235c14/f14026.png"/>
				<figcaption>
					<p>Step 25</p>
				</figcaption>
			</figure>
			<ol class="none">
				<li><span epub:type="pagebreak" id="Page_151" title="151"/><span class="RunInHead">Step 26.</span> Insert the 3PDT relay into the relay socket.</li>
				<li><span class="RunInHead">Step 27.</span> Attach the wheels to the servo hubs using the servo horns’ mounting screws.
					<figure class="figure">
						<img alt="f14028" src="image_fi/500235c14/f14028.png"/>
						<figcaption>
							<p class="figcaption">Step 26</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14029" src="image_fi/500235c14/f14029.png"/>
						<figcaption>
							<p class="figcaption">Step 27</p>
						</figcaption>
					</figure>
					</li>
				<li><span class="RunInHead">Step 28.</span> Zip-tie the relay socket firmly to the bottom of the tray. While you are at it, you can optionally clean up the wires using zip ties as well.</li>
				<li><span class="RunInHead">Step 29.</span> Slide the shrink tube all the way onto the 8-inch zip ties. Then slide the shrink tube and zip-tie assemblies onto each lever of the snap-action switches to create antennae. Once these are positioned, use a heat gun to shrink the tubing.
					<figure class="figure">
						<img alt="f14030" src="image_fi/500235c14/f14030.png"/>
						<figcaption>
							<p class="figcaption">Step 28</p>
						</figcaption>
					</figure>
					<figure class="figure">
						<img alt="f14031" src="image_fi/500235c14/f14031.png"/>
						<figcaption>
							<p class="figcaption">Step 29</p>
						</figcaption>
					</figure>
					</li>
				<li><span epub:type="pagebreak" id="Page_152" title="152"/><span class="RunInHead">Step 30.</span> Insert the batteries into the battery holder and let the bot go.
					<figure class="figure">
						<img alt="f14032" src="image_fi/500235c14/f14032.png"/>
						<figcaption>
							<p class="figcaption">Step 30</p>
						</figcaption>
					</figure>
					</li>
			</ol>
			<p>
				When the bot collides with an object, the switches should compress, and the bot should reverse. If it doesn’t behave as expected, check your wiring against the diagram. See <span class="xref" itemid="xref_target_Appendix A">Appendix A</span> for a more detailed description of this circuit.</p>
			<aside epub:type="sidebar">
				<div class="top hr">
					<hr/>
				</div>
				<section class="note">
					<h2><span class="NoteHead">NOTE</span></h2>
					<p>
							Be sure to remove the batteries to turn the bot off. See <span class="xref" itemid="xref_target_Appendix A">Appendix A</span> for instructions on adding a power switch.</p>
					<div class="bottom hr">
						<hr/>
					</div>
				</section>
			</aside>
		</section>
	</body>
</html>