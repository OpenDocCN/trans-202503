<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en">
  <head>
    <title>Project 3: The Cheater’s Dice Roller by John Baichtal</title>
    <link href="../styles/9781593278472.css" rel="stylesheet" type="text/css"/>
    <link href="../68851547a55f.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="sbo-rt-content"><h2 class="h2" id="ch03"><span epub:type="pagebreak" id="page_64"/><span class="big">3</span><br/>The Cheater’s Dice Roller by John Baichtal</h2>
<p class="ch-sub"><span epub:type="pagebreak" id="page_65"/>In this project, you’ll build a digital dice roller with a twist.</p>
<div class="image"><img src="../images/f0065-01.jpg" alt="image"/></div>
<p class="noindent"><span epub:type="pagebreak" id="page_66"/>Do you suffer from polyhedral dice elbow from playing too much <em>Dungeons &amp; Dragons</em> or other tabletop role-playing games? (I’m talking about the dice with lots of different shapes. A player might strain a ligament throwing those dice so often!) Or maybe you just want the convenience of generating your die rolls electronically? Either way, this dice roller is the solution, and then some.</p>
<p class="indent">You have the option to switch between a D&amp;D standard 20-sided die and the two 10-sided dice of <em>Warhammer Fantasy Roleplay</em> and other systems, though I’ll show you how to customize this to any two-digit variety. However, this is no ordinary dice roller: built-in cheats set it apart. I’ll show you how to trigger a high roll or a low roll without any of your hapless gaming friends ever knowing, using nothing but magnets, sensors, and some sleight of hand.</p>
<p class="indent">I built the project enclosure as a medieval castle made out of laser-cut wood. The last section of this chapter will talk more about the idea behind my enclosure and ways to make your own.</p>
<h3 class="h3" id="lev55"><strong>GET THE PARTS</strong></h3>
<p class="noindent">Grab the following parts to build your dice roller. I ordered most of the parts from Adafruit and SparkFun.</p>
<h4 class="h4" id="lev56"><strong>Components</strong></h4>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>See “<a href="intro.xhtml#lev17">Getting Started with the Arduino and the Arduino IDE</a>” on <a href="intro.xhtml#page_15">page 15</a> for setup instructions.</em></p>
</div>
<ul>
<li class="noindent">Arduino Uno (Adafruit P/N 50 or SparkFun P/N 11021)</li>
<li class="noindent">USB A-B cable (Adafruit P/N 62)</li>
<li class="noindent">Two 8 × 8 LED matrices with I<sup>2</sup>C backpacks (Adafruit P/N 872)</li>
<li class="noindent">Two reed switches (SparkFun P/N 8642)</li>
<li class="noindent">Large push button (for example, SparkFun P/N 9336)</li>
<li class="noindent">Double-throw switch (Adafruit P/N 805)</li>
<li class="noindent">Wall wart or 9 V battery clip (Adafruit P/N 63 or Adafruit P/N 80)</li>
<li class="noindent">Piezo buzzer (Adafruit P/N 1739)</li>
<li class="noindent">10 kΩ resistors (SparkFun P/N 10969 is a good multipack)</li>
<li class="noindent">Magnet, powerful enough to trigger the sensor reliably (for example, Adafruit P/N 9)</li>
<li class="noindent">(Optional) Breadboard (SparkFun P/N 12002)</li>
</ul>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>Power the project with either a 9 V wall wart (such as Adafruit P/N 63) or a 9 V jack adapter (such as Adafruit P/N 80) plugged into the power jack on the Arduino.</em></p>
</div>
<h4 class="h4" id="lev57"><strong>Tools</strong></h4>
<ul>
<li class="noindent">Laser cutter or saw (such as a jigsaw or band saw)</li>
<li class="noindent">Soldering iron</li>
<li class="noindent">Solder</li>
<li class="noindent"><span epub:type="pagebreak" id="page_67"/>Wire snips and pliers</li>
<li class="noindent">Wire</li>
<li class="noindent">Hot glue gun</li>
<li class="noindent">Wood glue</li>
<li class="noindent">Spray paint</li>
</ul>
<h3 class="h3" id="lev58"><strong>INTRODUCING THE LED MATRIX</strong></h3>
<p class="noindent">We’re using 8 × 8 LED matrices to display the results of the dice throws. Every pixel of an LED matrix is independent, and you selectively trigger them, lighting up or dimming each LED to make a pattern. The simplest way to do this is to store the status of each pixel in an array. For instance, <a href="ch03.xhtml#ch03fig1">Figure 3-1</a> shows an array of LEDs selectively lit to make a smiley face.</p>
<div class="image"><a id="ch03fig1"/><img src="../images/f0067-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-1:</strong> Use arrays to store smiles.</p>
<p class="indent">You can control your LED matrix with code on an Arduino. The Arduino sketch looks at the array to see the status of each LED, lighting or turning them off every time the sketch loops.</p>
<p class="indent">The following code snippet gives you a sense of how it works:</p>
<p class="programs">smile_bmp[] =<br/>{ B00111100,<br/>  B01000010,<br/>  B10100101,<br/>  B10000001,<br/>  B10100101,<br/>  B10011001,<br/>  B01000010,<br/>  B00111100 },</p>
<p class="indent">Each line represents a row on the matrix, and each digit represents one LED. When the LED value is set to <span class="literal">1</span>, it’s lit. When it’s set to <span class="literal">0</span>, it’s unlit. You can design any graphic you want with this method.</p>
<p class="indent">However, typing this out for every design can be tedious, so there’s a convenient database of shapes controlled by an Arduino <span epub:type="pagebreak" id="page_68"/>library for the matrix used in this project. The library stores functions that draw letters and numbers, as well as basic shapes like squares and circles, so you don’t need to design these shapes from scratch. In “<a href="ch03.xhtml#lev60">Code It</a>” on <a href="ch03.xhtml#page_71">page 71</a>, I’ll explain how the sketch interacts with the library to draw those default shapes.</p>
<div class="note">
<p class="notet"><strong>NOTE</strong></p>
<p class="notep"><em>If you need instructions on soldering, see the appendix.</em></p>
</div>
<h3 class="h3" id="lev59"><strong>BUILD IT</strong></h3>
<p class="noindent">Follow these steps to build a dice roller that can secretly do your bidding:</p>
<ol>
<li class="noindent"><p class="list"><strong>Solder the matrices to their boards.</strong> The matrices come with mini control boards known as <em>backpacks</em> that manage the complexity of running 64 LEDs with just a few wires. You need to solder these backpacks to your matrices: add the matrix to the backpack with the IC (<em>integrated circuit</em>, also known as a <em>microchip</em>) on the underside and solder the pins in place in the holes. The end result should look like <a href="ch03.xhtml#ch03fig2">Figure 3-2</a>. There is no up or down to the matrix, as long as you add it to the correct side of the board. If you need more guidance, refer to the page for this product (P/N 872) on <em><a href="http://www.adafruit.com/">http://www.adafruit.com/</a></em>.</p>
<div class="image"><a id="ch03fig2"/><img src="../images/f0068-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-2:</strong> Solder in one or two of these jumpers to change the matrix’s I<sup>2</sup>C address.</p></li>
<li class="noindent"><p class="list"><strong>Solder in pins or wires.</strong> There are four pins that connect the matrix to the rest of the project. If you plan to use the matrices with a breadboard, solder in the accompanying header pins. If you want to use wires instead, leave them off.</p></li>
<li class="noindent"><p class="list"><strong>Solder board pin A1.</strong> Of particular importance are the two A0 and A1 solder pads, seen in <a href="ch03.xhtml#ch03fig2">Figure 3-2</a>, which allow you to daisy-chain up to four matrices by selectively soldering the <span epub:type="pagebreak" id="page_69"/>pads. This is known as “changing the I<sup>2</sup>C address.” If you solder none of the pads, the I<sup>2</sup>C address for that matrix defaults to 0x70. Soldering A0 sets the value to 0x71, soldering A1 sets it to 0x72, and soldering both A0 and A1 identifies the matrix as 0x73. Giving each matrix its own address allows us to talk to one matrix without the other responding even though they share wires. You need to add solder to just one of these pins on one board, so add solder to pin A1.</p></li>
<li class="noindent"><p class="list"><strong>Connect the matrices to the Arduino.</strong> Add your matrices to a breadboard and connect the power and ground rails to 5V and GND, respectively, and then connect both power rails at either side of the board, as shown in <a href="ch03.xhtml#ch03fig3">Figure 3-3</a>. Connect power and ground of the first matrix to power and ground on the board, then connect up the ground and power pins of both matrices so they are both powered. You’ll also need to connect the data and clock wires. Connect pins A4 and A5 on the Arduino to the D and C pins, respectively, on one backpack, and with another pair of wires connect D and C of the first matrix to D and C of the second matrix. In <a href="ch03.xhtml#ch03fig3">Figure 3-3</a> the data and clock wires are yellow and green, respectively.</p>
<div class="image"><a id="ch03fig3"/><img src="../images/f0069-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-3:</strong> Attach the matrices.</p>
<p class="indent">Depending on your project, you may need to connect the matrices with wires rather than plugging them into the breadboard in order to make them fit. If this is the case, you can still attach the matrices as shown in <a href="ch03.xhtml#ch03fig3">Figure 3-3</a>.</p></li>
<li class="noindent"><p class="list"><strong>Attach the double-throw switch.</strong> Next, connect the double-throw switch, as shown in <a href="ch03.xhtml#ch03fig4">Figure 3-4</a>, with the middle lead connected to 5V (pink wire) and the left and right leads connected to digital pins 10 and 11 on the Arduino, respectively (brown wires). Also connect the left and right leads of the switch to ground via 10 kΩ resistors, shown in white in <a href="ch03.xhtml#ch03fig4">Figure 3-4</a>. This switch <span epub:type="pagebreak" id="page_70"/>will determine whether this is in D&amp;D d20 mode or Warhammer d100 mode: the Arduino can check the position of the switch by scanning pins 10 and 11.</p>
<div class="image"><a id="ch03fig4"/><img src="../images/f0070-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-4:</strong> Adding the double-throw switch</p></li>
<li class="noindent"><p class="list"><strong>Connect the reed switches.</strong> The reed switches come next. As shown in <a href="ch03.xhtml#ch03fig5">Figure 3-5</a>, connect the switches to pins 5 and 6 on the Arduino (purple wires) with the other leads going to ground (gray wires).</p>
<div class="image"><a id="ch03fig5"/><img src="../images/f0070-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-5:</strong> The reed switches tell the Arduino when a magnet is near.</p></li>
<li class="noindent"><p class="list"><strong>Add the reset button.</strong> The reset button isn’t for starting over when you mess up; it’s really your roll button. The project software dictates that the dice roll once and then stop, and you must cycle the power or reset the Arduino in order to reroll. <a href="ch03.xhtml#ch03fig6">Figure 3-6</a> shows the button installed. Connect one lead to Reset on the Arduino’s power bus (orange wire) and the other to GND (pink), soldering in wires to the button’s leads as needed. When the button is pressed, the Arduino restarts and automatically reruns the dice roller program.</p>
<div class="image"><span epub:type="pagebreak" id="page_71"/><a id="ch03fig6"/><img src="../images/f0071-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-6:</strong> Adding a button to reset the Arduino</p></li>
<li class="noindent"><p class="list"><strong>Install the buzzer.</strong> The buzzer completes the project. It makes a sound to signal the completed die roll. The buzzer I included in the parts list features breadboard-friendly leads and is attached as shown in <a href="ch03.xhtml#ch03fig7">Figure 3-7</a>: connect the positive lead to pin 9 on the Arduino and the negative lead to GND.</p>
<div class="image"><a id="ch03fig7"/><img src="../images/f0071-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-7:</strong> Wiring up the buzzer</p></li>
</ol>
<p class="indent">Now it’s time to add code!</p>
<h3 class="h3" id="lev60"><strong>CODE IT</strong></h3>
<p class="noindent">Now that the electronics are assembled, it’s time to test the project by uploading code to the Arduino.</p>
<p class="indent">The LEDBackpack library does most of the heavy lifting in this script. The backpack’s library has code for the full alphabet, as well as to draw shapes like lines, circles, and squares. You’ll need to <span epub:type="pagebreak" id="page_72"/>download the library from the Adafruit product page (<em><a href="https://learn.adafruit.com/adafruit-led-backpack/0-8-8x8-matrix">https://learn.adafruit.com/adafruit-led-backpack/0-8-8x8-matrix</a></em>) and save it to your Arduino libraries folder before you can make use of it. The product page also includes tutorials and tons of information if you want to learn more.</p>
<p class="indent">The code for the project is also in the book’s resources, so open that in the Arduino IDE now and let’s go through the code section by section.</p>
<p class="indent">The first part of the code consists of references to three libraries used in the sketch.</p>
<p class="programs"><span class="green">#include</span> &lt;<span class="orange">Wire</span>.h&gt;<br/><span class="green">#include</span> <span class="dark-teal">"Adafruit_LEDBackpack.h"</span><br/><span class="green">#include</span> <span class="dark-teal">"Adafruit_GFX.h"</span></p>
<p class="indent">Next, the backpacks are formally initialized:</p>
<p class="programs">Adafruit_8x8matrix matrix1 = Adafruit_8x8matrix();<br/>Adafruit_8x8matrix matrix2 = Adafruit_8x8matrix();</p>
<p class="indent">We name the backpacks <span class="literal">matrix1</span> and <span class="literal">matrix2</span>. We then enable serial communications for debugging purposes:</p>
<p class="programs"><span class="light-teal">void</span> <span class="green">setup</span>() {<br/><br/>  <span class="orange">Serial</span>.<span class="orange">begin</span>(9600);</p>
<p class="indent">This allows us to communicate with the Serial Monitor. Next, we initialize some pins:</p>
<p class="programs"><span class="orange">pinMode</span>(5, <span class="light-teal">INPUT_PULLUP</span>);<br/><span class="orange">pinMode</span>(6, <span class="light-teal">INPUT_PULLUP</span>);<br/><span class="orange">pinMode</span>(9, <span class="light-teal">OUTPUT</span>);<br/> <span class="orange">pinMode</span>(10, <span class="light-teal">INPUT</span>);<br/> <span class="orange">pinMode</span>(11, <span class="light-teal">INPUT</span>);</p>
<p class="indent">The pins interacting with the double-throw switch, the buzzer, and the reed switches are initialized. In the latter case the pins are initialized so as to use the Arduino’s built-in resistors, ensuring no false positives trigger the cheat mode.</p>
<p class="indent">This line seeds the random number:</p>
<p class="programs"><span class="orange">randomSeed</span>(<span class="orange">analogRead</span>(0));</p>
<p class="indent"><span epub:type="pagebreak" id="page_73"/>By taking a reading from pin A0, we seed the random number we’ll use as our dice throw. Then we need to start up the matrices:</p>
<p class="programs">matrix1.<span class="orange">begin</span>(0x70);  <span class="gray">// the default</span><br/>matrix2.<span class="orange">begin</span>(0x72);  <span class="gray">// with A1 soldered</span><br/><br/>matrix1.<span class="orange">clear</span>();<br/>matrix2.<span class="orange">clear</span>();</p>
<p class="indent">This lets the Arduino know to power up the matrices, and makes sure all of the LEDs begin as off. These are the pin declarations for the switches:</p>
<p class="programs"><span class="light-teal">int</span> reedLow = 5;<br/><span class="light-teal">int</span> reedHigh = 6;<br/><span class="light-teal">int</span> switch1 = 10;<br/><span class="light-teal">int</span> switch2 = 11;</p>
<p class="indent">Remember we have two settings for different types of dice. This is the number generation functionality for the d100 dice:</p>
<p class="programs"><span class="gray">// switch selection roll d100</span><br/><br/><span class="green">if</span> (<span class="orange">digitalRead</span>(switch1) == <span class="light-teal">HIGH</span>) {<br/><br/>  <span class="light-teal">int</span> tensDigit = <span class="orange">random</span>(0, 10);<br/>  <span class="light-teal">int</span> onesDigit = <span class="orange">random</span>(0, 10);<br/><br/>  <span class="orange">Serial</span>.<span class="orange">print</span>(tensDigit);<br/>  <span class="orange">Serial</span>.<span class="orange">println</span>(onesDigit);<br/>  <span class="orange">Serial</span>.<span class="orange">println</span>();</p>
<p class="indent">We’ll use the throw switch to switch between d100 mode and D&amp;D dice mode. Here, if the switch is set for d100, the Arduino rolls two random numbers, each between 0 and 9. Then it prints them to the Serial Monitor—but doesn’t print them to the matrices yet.</p>
<p class="indent">We then need to listen to the reed switches to see if they have been tripped by a magnet using two <span class="literal">if</span> statements—this is our cheat.</p>
<p class="programs"><span class="green">if</span> (<span class="orange">digitalRead</span>(reedLow) == <span class="light-teal">LOW</span>) {<br/>  tensDigit = 0;<br/>  onesDigit = 1;<br/>}<br/><br/><span class="green">if</span> (<span class="orange">digitalRead</span>(reedHigh) == <span class="light-teal">LOW</span>) {<br/>  tensDigit = 0;<br/><span epub:type="pagebreak" id="page_74"/>  onesDigit = 0;<br/>}</p>
<p class="indent">If a reed switch is tripped, the random value rolled up is superseded by either a maximum or minimum roll, depending which reed switch has been tripped. The two numbers are written to <span class="literal">matrix1</span> and <span class="literal">matrix2</span>:</p>
<p class="programs">  <span class="gray">// write result</span><br/>  matrix1.setTextSize(1);<br/>  matrix1.setTextWrap(<span class="light-teal">true</span>);<br/>  matrix1.setTextColor(LED_ON);<br/>  matrix1.<span class="orange">print</span>(tensDigit);<br/>  matrix1.writeDisplay();<br/><br/>  matrix2.setTextSize(1);<br/>  matrix2.setTextWrap(<span class="light-teal">true</span>);<br/>  matrix2.setTextColor(LED_ON);<br/>  matrix2.<span class="orange">print</span>(onesDigit);<br/>  matrix2.writeDisplay();<br/>}</p>
<p class="indent">Then we have the random number generator for the d20:</p>
<p class="programs"><span class="gray">// switch selection roll d20</span><br/><br/><span class="green">if</span> (<span class="orange">digitalRead</span>(switch2) == <span class="light-teal">HIGH</span>) {<br/>  <span class="light-teal">int</span> d20result = <span class="orange">random</span>(0, 20);<br/><br/>  <span class="orange">Serial</span>.<span class="orange">print</span>(<span class="dark-teal">"d20 result: "</span>);<br/>  <span class="orange">Serial</span>.<span class="orange">println</span>(d20result + 1);<br/>  <span class="orange">Serial</span>.<span class="orange">println</span>();</p>
<p class="indent">If the switch is set to d20, the classic D&amp;D die, the Arduino generates a random number between 0 and 19, adds 1, then sends the result to the Serial Monitor. The following series of <span class="literal">if</span> statements allows the sketch to supersede the rolled number with the cheats if a reed switch is tripped:</p>
<p class="programs">  <span class="green">if</span> (reedLow == <span class="light-teal">LOW</span>) {<br/>    d20result = 0;<br/>  }<br/><br/>  <span class="green">if</span> (reedHigh == <span class="light-teal">LOW</span>) {<br/>    d20result = 19;<br/>  }<br/><br/><span epub:type="pagebreak" id="page_75"/>  <span class="green">if</span> (d20result == 19) {<br/>    tensDigit = 2;<br/>    onesDigit = 0;<br/>  }<br/><br/>  <span class="green">else if</span> (d20result &gt; 9) {<br/>    tensDigit = 1;<br/>    onesDigit = d20result - 9;<br/>  }<br/><br/>  <span class="green">else if</span> (d20result == 9) {<br/>    tensDigit = 1;<br/>    onesDigit = 0;<br/>  }<br/><br/>  <span class="green">else if</span> (d20result &lt; 9) {<br/>    tensDigit = 0;<br/>    onesDigit = d20result + 1;<br/>  }<br/><br/>}</p>
<p class="indent">Whatever the outcome, the number rolled needs to be displayed on the matrices:</p>
<p class="programs"><span class="gray">// write result</span><br/>matrix1.setTextSize(1);<br/>matrix1.setTextWrap(<span class="light-teal">true</span>);<br/>matrix1.setTextColor(LED_ON);<br/>matrix1.<span class="orange">print</span>(tensDigit);<br/>matrix1.writeDisplay();<br/><br/>matrix2.setTextSize(1);<br/>matrix2.setTextWrap(<span class="light-teal">true</span>);<br/>matrix2.setTextColor(LED_ON);<br/>matrix2.<span class="orange">print</span>(onesDigit);<br/>matrix2.writeDisplay();</p>
<p class="indent">This displays the result. The program runs once and then stops.</p>
<p class="programs">}<br/><br/><span class="light-teal">void</span> <span class="green">loop</span>() {<br/>}</p>
<p class="indent">Because we only want the code to run once, there is no need for a loop and it goes unused! The sketch is complete.</p>
<h3 class="h3" id="lev61"><span epub:type="pagebreak" id="page_76"/><strong>ASSEMBLE IT</strong></h3>
<p class="noindent">Next, you’ll need a box of some sort that will enclose your project. You can approach this step in a few different ways.</p>
<h4 class="h4" id="lev62"><strong>Laser-Cut Your Own Enclosure</strong></h4>
<p class="noindent">My first suggestion for anything usually involves designing and creating it yourself. My design resembles a small castle (see <a href="ch03.xhtml#ch03fig8">Figure 3-8</a>), and this not only gets you in the mood for swordplay and magic spells, but also helps disguise the way you trigger the reed switches to swing the game your way. (More on that last bit after this section.) Here I’ll show you how I went about building my castle enclosure.</p>
<div class="image"><a id="ch03fig8"/><img src="../images/f0076-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-8:</strong> My castle-slash-dice roller, ready for action</p>
<ol>
<li class="noindent"><p class="list"><strong>Design the case.</strong> Design your case, using either a vector art program like Inkscape (<em><a href="https://inkscape.org/">https://inkscape.org/</a></em>) or an online tool like MakerCase (<em><a href="http://www.makercase.com/">http://www.makercase.com/</a></em>) that designs the case for you. You can also download my castle design in the book’s resources (<em><a href="https://nostarch.com/LEDHandbook/">https://nostarch.com/LEDHandbook/</a></em>) and re-create or modify it as you see fit. <a href="ch03.xhtml#ch03fig9">Figure 3-9</a> shows my case in Inkscape. Cut it out of quarter-inch plywood or the equivalent—I used a double-layer of eighth-inch plywood.</p></li>
<li class="noindent"><p class="list"><strong>Output the design.</strong> Cut out the design on a CNC router or laser cutter. <a href="ch03.xhtml#ch03fig10">Figure 3-10</a> shows my design fresh from the laser cutter.</p>
<div class="image"><span epub:type="pagebreak" id="page_77"/><a id="ch03fig9"/><img src="../images/f0077-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-9:</strong> I designed my castle design in Inkscape with help from <em><a href="http://makercase.com">makercase.com</a></em>.</p>
<div class="image"><a id="ch03fig10"/><img src="../images/f0077-02.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-10:</strong> My design, freshly lasered</p></li>
<li class="noindent"><p class="list"><strong>Assemble the castle.</strong> Clean up and assemble the castle, as shown in <a href="ch03.xhtml#ch03fig11">Figure 3-11</a>. Few designs come out of the machine ready to assemble, so you should plan to work on the cut parts with files and sandpaper to get them to fit together. When you’re ready, glue the parts together.</p>
<div class="image"><a id="ch03fig11"/><img src="../images/f0077-03.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-11:</strong> Assemble the lasered parts.</p></li>
<li class="noindent"><p class="list"><span epub:type="pagebreak" id="page_78"/><strong>Paint and decorate the castle.</strong> Paint the castle, as shown in <a href="ch03.xhtml#ch03fig12">Figure 3-12</a>. I suggest glossy spray paint to ward off dirt and fingerprints. Another good source of paint (given the subject matter) is your local hobby store, which doubtlessly offers innumerable shades of “dungeon gray” and “slime green” for adding details. What’s a proper dice roller without bloodstains and moss?</p>
<div class="image"><a id="ch03fig12"/><img src="../images/f0078-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-12:</strong> A coat of silver paint adds sparkle to the castle.</p></li>
<li class="noindent"><p class="list"><strong>Add electronics.</strong> Place your project inside the enclosure, making sure the button is accessible. The arcade button has a deep footprint and may interfere with the Arduino’s placement. You also need to be mindful of the placement of the reed switches. Be sure to test the switches’ placement with a magnet before securing them to determine where you need to place the magnet so they can sense it.</p></li>
</ol>
<h4 class="h4" id="lev63"><strong>Alternate Enclosures</strong></h4>
<p class="noindent">If you don’t have access to a laser or mill, you’ll have to find something else to contain your project. Here are a couple of suggestions:</p>
<ul>
<li class="noindent"><strong>Repurpose another box.</strong> Simply find a sturdy box the right size to hold the components, and put them inside. Cut holes so the button, switch, and matrices can be installed.</li>
<li class="noindent"><strong>Buy an enclosure.</strong> You can also find a plethora of inexpensive project boxes on the web. One of my favorite sources is Jameco Electronics (<em><a href="https://www.jameco.com/">https://www.jameco.com/</a></em>), which offers different sizes and levels of durability. As with the repurposed box, you’ll need to <span epub:type="pagebreak" id="page_79"/>be aware of how much space the project’s guts will take up. An 8 × 6 × 3 project box like Jameco P/N 18869 does the trick.</li>
<li class="noindent"><strong>Build one out of LEGO bricks.</strong> Chances are, you already have a great enclosure in your house, kept in a bucket in the basement next to the holiday boxes. I’m talking about LEGO! Simply build a box the right size, leaving holes for the switch, button, LED matrices, and power cord.</li>
</ul>
<h3 class="h3" id="lev64"><strong>USE IT</strong></h3>
<p class="noindent">Simply power the dice roller by plugging your wall wart or 9 V power adapter into the power jack, and press the button every time you want to roll a die, using the magnet on either reed switch depending on your diabolical goals.</p>
<p class="indent">I disguised my magnet by taking a gaming figure with a hollow plastic base and hot-gluing the magnet into the base, as shown in <a href="ch03.xhtml#ch03fig13">Figure 3-13</a>. The reed switches are positioned close to the top of the castle, and to trigger them you simply place the magnetized figure next to the battlements along with some innocuous figures. During the course of the game you move the figures around the “castle,” making sure to move the triggering figure to the correct spot as needed.</p>
<div class="image"><a id="ch03fig13"/><img src="../images/f0079-01.jpg" alt="image"/></div>
<p class="figcap"><strong>FIGURE 3-13:</strong> Hot-glue a magnet to the base of a gaming figure and use it to trigger your dice roller.</p>
<h3 class="h3" id="lev65"><strong>SUMMARY</strong></h3>
<p class="noindent">When you complete the hardware and software portion of this project, it should look something like the photo on page 65, or a variation thereof with your own imaginative design.</p>
<p class="indent">Hopefully, you’re also wrestling with the morals of hoodwinking your gaming associates. Good luck with this project!</p>
</div>
  </body>
</html>
