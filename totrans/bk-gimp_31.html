<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;Vision and Image Representation"><div class="titlepage"><div><div><h1 class="title"><a id="vision_and_image_representation"/>Appendix A. Vision and Image Representation</h1></div></div></div><p><a id="iddle1414" class="indexterm"/><a id="iddle1911" class="indexterm"/><a id="iddle2757" class="indexterm"/><a id="iddle4728" class="indexterm"/><a id="iddle5170" class="indexterm"/><a id="iddle5969" class="indexterm"/>In this appendix, we’ll explore the nature of vision, image perception, and the re-creation of images in print and on screen. This subject is complicated and technical, but we’ll try to present it in an intuitive and easy-to-follow way.</p></div>
<div class="sect1" title="A.1 The Physiology of Vision"><div class="titlepage"><div><div><h1 class="title"><a id="adot1_the_physiology_of_vision"/>A.1 The Physiology of Vision</h1></div></div></div><p>An image does not really exist if we can’t see it. We’re able to see things thanks to the complex and precise organ known as the eye. Our eyes produce the images we see by interpreting a small range of the electromagnetic spectrum known as the <span class="emphasis"><em>visible spectrum</em></span>.</p><div class="sect2" title="How the Human Eye Works"><div class="titlepage"><div><div><h2 class="title"><a id="how_the_human_eye_works"/>How the Human Eye Works</h2></div></div></div><p><a class="xref" href="apas01.html#human_eye" title="Figure A-1. The human eye">Figure A-1</a> is a diagram of the human eye, showing its main components. Light enters the eye through the pupil and is focused by the crystalline lens, and an image is formed in the back of the eye on the retina. The lens is flexible, and small muscles around it allow it to deform to change its focal length. This allows us to focus on objects at various distances. The diameter of the pupil is also variable, which provides a way to regulate the amount of light that enters the eye.</p><div class="figure"><a id="human_eye"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01737"/><img src="httpatomoreillycomsourcenostarchimages1457512.png.jpg" alt="The human eye"/></div></div><p class="title">Figure A-1. The human eye</p></div><p><a class="xref" href="apas01.html#cross_section_of_the_retina" title="Figure A-2. A cross section of the retina">Figure A-2</a> shows a cross section of the retina. Its structure is a very complicated network of sensitive nerve cells. The cells that sense color and light are the <span class="emphasis"><em>rods</em></span> and the <span class="emphasis"><em>cones</em></span>. The main bodies of these cells are buried inside the retina. Light within the visible spectrum is received by the tail ends of the cells, shown on the far right of the cross section in <a class="xref" href="apas01.html#cross_section_of_the_retina" title="Figure A-2. A cross section of the retina">Figure A-2</a>.</p><p>The rods in each eye number from 120 to 150 million and are located primarily on the periphery of the retina. Cones number only 6 to 7 million and are located primarily in the center of the retina, in the area called the <span class="emphasis"><em>fovea</em></span>. <a class="xref" href="apas01.html#distribution_of_rods_left_parenthesisdar" title="Figure A-3. Distribution of rods (dark red) and cones (blue) on the retina">Figure A-3</a> shows this variable distribution. It also shows the <span class="emphasis"><em>blind spot</em></span>, which is the place in the retina where the optic nerve emerges from the eye.</p><div class="figure"><a id="cross_section_of_the_retina"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01738"/><img src="httpatomoreillycomsourcenostarchimages1457514.png.jpg" alt="A cross section of the retina"/><div class="caption"><p><a id="iddle1415" class="indexterm"/><a id="iddle1472" class="indexterm"/>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-2. A cross section of the retina</p></div><div class="figure"><a id="distribution_of_rods_left_parenthesisdar"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01739"/><img src="httpatomoreillycomsourcenostarchimages1457516.png.jpg" alt="Distribution of rods (dark red) and cones (blue) on the retina"/></div></div><p class="title">Figure A-3. Distribution of rods (dark red) and cones (blue) on the retina</p></div><p>You’re probably not aware of the blind spots that exist in your field of vision. Try this experiment to observe their effect: Close one eye, and look at a fixed point in front of you. Place a small object (such as your forefinger) in front of you at eye level and on the same side as your open eye (the distance between this object and your eye should be between 12 and 20 inches). Now slowly move the object toward your nose. When the angle between the fixed point in front of you and the moving object is about 15°, the object should disappear. Note that your perceptual and cognitive systems usually keep you from noticing this blind spot—your brain can reconstitute the missing information and fill in the gap.</p><div class="figure"><a id="sensitivity_of_the_three_categories_of_c"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01740"/><img src="httpatomoreillycomsourcenostarchimages1457518.png.jpg" alt="Sensitivity of the three categories of cones"/></div></div><p class="title">Figure A-4. Sensitivity of the three categories of cones</p></div></div><div class="sect2" title="Color Perception"><div class="titlepage"><div><div><h2 class="title"><a id="color_perception"/>Color Perception</h2></div></div></div><p>Rods and cones differ in another very important way. Rods are quite sensitive to brightness but not to differences in wavelength. On the other hand, cones just need enough light to work, but they’re really sensitive to wavelength. Cones are divided into three categories, depending on the wavelength they’re sensitive to. As <a class="xref" href="apas01.html#sensitivity_of_the_three_categories_of_c" title="Figure A-4. Sensitivity of the three categories of cones">Figure A-4</a> shows, blue cones are most sensitive to a wavelength of around 420 nanometers (nm), which corresponds to the color blue. Green cones are most sensitive at around 534 nm, and red cones are most sensitive around 564 nm (which is actually yellow, not red). Also, blue cones represent only 1/50 of the total number; green cones represent approximately 2/5 of the total, and red cones represent approximately 3/5. The black <a id="iddle1473" class="indexterm"/><a id="iddle3835" class="indexterm"/><a id="iddle5171" class="indexterm"/><a id="iddle5970" class="indexterm"/>curve in <a class="xref" href="apas01.html#sensitivity_of_the_three_categories_of_c" title="Figure A-4. Sensitivity of the three categories of cones">Figure A-4</a> illustrates the sensitivity range of rod cells.</p><p>This distribution of rods and cones has some interesting consequences:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>When not enough light is available, we can’t distinguish different colors. For instance, imagine that you’re sitting in a garden just before dawn. Several cats are prowling around, and they all appear to be gray. When dawn arrives, the cats slowly regain their color—brown and orange—and the grass grows progressively greener as the sky brightens.</p></li><li class="listitem"><p>Only the center of the retina can perceive colors. But our cognitive system infers the colors in the periphery of our vision and adds them, so we don’t usually notice this limitation.</p></li><li class="listitem"><p>We have very few cones that are sensitive to blue (only 1/50 of the total), yet these cones are responsible for a relatively large range of wavelengths. This means that looking at a picture or landscape whose colors are primarily purple or blue is more tiresome for the eye, especially if the image contains a lot of fine detail. Distinguishing differences in brightness in a scene that contains a lot of blue is also more difficult.</p></li></ul></div><p>So our perception of color results from the differences among signals sent to the brain by cones sensitive to different wavelengths of light. The color range we can see is defined by the wavelength range our cones are sensitive to. As you will see later, most colors are not defined by a single wavelength; such <span class="emphasis"><em>monochromatic</em></span> colors can be generated by artificial devices, but natural colors are generally a mixture of various wavelengths. We can only sense monochromatic colors that correspond to one of the three cone types. For example, our eyes can’t distinguish a monochromatic yellow from a yellow made by combining red and green light. Because we don’t have cones specifically sensitive to yellow, the resulting signals from our red and green cones are the same regardless of whether the yellow is made from red and green light or from pure yellow light.</p><div class="figure"><a id="visible_spectrum_left_parenthesistraditi"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01741"/><img src="httpatomoreillycomsourcenostarchimages1457520.png.jpg" alt="The visible spectrum (traditional view)"/></div></div><p class="title">Figure A-5. The visible spectrum (traditional view)</p></div><p>If we consider the visible spectrum as it’s traditionally represented (see <a class="xref" href="apas01.html#visible_spectrum_left_parenthesistraditi" title="Figure A-5. The visible spectrum (traditional view)">Figure A-5</a>), we might get the impression that it’s precisely bound on both sides and that it contains seven discrete colors. This overly simple view is not based on science. A more accurate illustration is shown in <a class="xref" href="apas01.html#visible_spectrum_in_the_electromagnetic" title="Figure A-6. The visible spectrum in the electromagnetic spectrum">Figure A-6</a>. The visible spectrum is a tiny subrange of the electromagnetic spectrum, without a blunt beginning or end. The visible spectrum has no real indigo color, and the red area is much larger than the others. The limits of the visible spectrum are fuzzy because the violet color disappears into ultraviolet, and the red color disappears into infrared. Additionally, the visible spectrum differs for some species: Birds and some insects can see ultraviolet.</p><p>Light coming from the sun is absorbed by Earth’s atmosphere at rates that vary depending on the wavelength. The visible spectrum is the segment of the electromagnetic spectrum that is best able to navigate through Earth’s atmosphere and reach its surface and the objects on it. But the atmosphere does scatter blue light more than red light, which explains why the sky looks blue to us (weather permitting).</p></div><div class="sect2" title="Color Blindness"><div class="titlepage"><div><div><h2 class="title"><a id="color_blindness"/>Color Blindness</h2></div></div></div><p>Our perception of colors depends on a lot of factors, including our cognitive system. As we see in <a class="xref" href="apas01.html#visible_spectrum_in_the_electromagnetic" title="Figure A-6. The visible spectrum in the electromagnetic spectrum">Figure A-6</a>, red colors cover almost half of the visible spectrum, and red light has the longest wavelength of the visible colors. But our eye’s cones that are sensitive to the long wavelengths <a id="iddle1819" class="indexterm"/><a id="iddle2034" class="indexterm"/><a id="iddle2072" class="indexterm"/><a id="iddle4502" class="indexterm"/><a id="iddle5868" class="indexterm"/>mainly perceive yellow. Despite this, we are normally able to distinguish a variety of different reds as well as orange and yellow.</p><div class="figure"><a id="visible_spectrum_in_the_electromagnetic"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01742"/><img src="httpatomoreillycomsourcenostarchimages1457522.png.jpg" alt="The visible spectrum in the electromagnetic spectrum"/></div></div><p class="title">Figure A-6. The visible spectrum in the electromagnetic spectrum</p></div><div class="figure"><a id="test_for_color_blindness"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01743"/><img src="httpatomoreillycomsourcenostarchimages1457524.png.jpg" alt="A test for color blindness"/></div></div><p class="title">Figure A-7. A test for color blindness</p></div><p>Thus we see that our perception of colors is not simply a reception of signals emitted by the retina cells but rather a complex interpretation that occurs in the brain. When it works normally, this process allows us to differentiate colors and appreciate the effect of various color combinations.</p><p>The most common abnormality of visual perception is called <span class="emphasis"><em>color blindness</em></span>. You may have seen tests for color blindness before, such as those in <a class="xref" href="apas01.html#test_for_color_blindness" title="Figure A-7. A test for color blindness">Figure A-7</a> and <a class="xref" href="apas01.html#another_test_for_color_blindness" title="Figure A-8. Another test for color blindness">Figure A-8</a>.</p><p>The human eye normally contains three types of cones. But sometimes one or more of these is missing. (Many animals have only two types of cones.) If the red cones are missing, a person has a disorder called <span class="emphasis"><em>daltonism</em></span>, also known as <span class="emphasis"><em>protanopia</em></span>. <a class="xref" href="apas01.html#traditional_color_rainbow" title="Figure A-9. The traditional color rainbow">Figure A-9</a> shows the colors of the rainbow as most people see them, and <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_protano" title="Figure A-10. The rainbow as seen by a person with protanopia">Figure A-10</a> shows how someone with protanopia sees them. This is the most frequent type of color blindness and is characterized by the dark appearance of the color red.</p><div class="figure"><a id="another_test_for_color_blindness"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01744"/><img src="httpatomoreillycomsourcenostarchimages1457526.png.jpg" alt="Another test for color blindness"/></div></div><p class="title">Figure A-8. Another test for color blindness</p></div><div class="figure"><a id="traditional_color_rainbow"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01745"/><img src="httpatomoreillycomsourcenostarchimages1457528.png" alt="The traditional color rainbow"/></div></div><p class="title">Figure A-9. The traditional color rainbow</p></div><p>Missing green cones result in a disorder called <span class="emphasis"><em>deuteranopia</em></span> (illustrated in <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_deutera" title="Figure A-11. The rainbow as seen by a person with deuteranopia">Figure A-11</a>). This type of color blindness is about as common as protanopia. Missing blue cones result in <span class="emphasis"><em>tritanopia</em></span> (illustrated in <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_tritano" title="Figure A-12. The rainbow as seen by a person with tritanopia">Figure A-12</a>). Tritanopia is extremely rare.</p><div class="figure"><a id="rainbow_as_seen_by_a_person_with_protano"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01746"/><img src="httpatomoreillycomsourcenostarchimages1457530.png" alt="The rainbow as seen by a person with protanopia"/></div></div><p class="title">Figure A-10. The rainbow as seen by a person with protanopia</p></div><div class="figure"><a id="rainbow_as_seen_by_a_person_with_deutera"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01747"/><img src="httpatomoreillycomsourcenostarchimages1457532.png" alt="The rainbow as seen by a person with deuteranopia"/></div></div><p class="title">Figure A-11. The rainbow as seen by a person with deuteranopia</p></div><div class="figure"><a id="rainbow_as_seen_by_a_person_with_tritano"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01748"/><img src="httpatomoreillycomsourcenostarchimages1457534.png" alt="The rainbow as seen by a person with tritanopia"/></div></div><p class="title">Figure A-12. The rainbow as seen by a person with tritanopia</p></div><div class="figure"><a id="rainbow_as_seen_by_a_person_with_monochr"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01749"/><img src="httpatomoreillycomsourcenostarchimages1457536.png.jpg" alt="The rainbow as seen by a person with monochromacy"/></div></div><p class="title">Figure A-13. The rainbow as seen by a person with monochromacy</p></div><p><a id="iddle1820" class="indexterm"/><a id="iddle1945" class="indexterm"/><a id="iddle2073" class="indexterm"/><a id="iddle4059" class="indexterm"/><a id="iddle4503" class="indexterm"/><a id="iddle5036" class="indexterm"/>Anomalies also occur when all three types of cones are present but some of them are malformed and, as a result, inactive. Because they’re inactive, the malformed cones result in the same types of color blindness that missing cones do. There is also a very rare disorder called <span class="emphasis"><em>monochromacy</em></span>, or total color blindness, which occurs when all the cones are missing or inactive. <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_monochr" title="Figure A-13. The rainbow as seen by a person with monochromacy">Figure A-13</a> shows what a rainbow would look like to someone with monochromacy.</p><p>Be aware of these abnormalities because they can affect the accessibility of images, books, and websites. For example, an image that depends entirely on the contrast between orange and green would be meaningless to a person with protanopia or deuteranopia. These two types of color blindness are present in 2% of all males, which is a significant number of people.</p></div><div class="sect2" title="Optical Illusions"><div class="titlepage"><div><div><h2 class="title"><a id="optical_illusions"/>Optical Illusions</h2></div></div></div><p>Whereas color blindness is a deficiency that affects a minority of the population, an optical illusion works on the majority of people. Optical illusions occur when our perception system partially fails and causes us to interpret something in a way that contradicts reality. Optical illusions are interesting for several reasons:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>They provide hints that help us understand how our cognitive processes work.</p></li><li class="listitem"><p>They have inspired many artists to create fascinating pictures, for example, M.C. Escher, Salvador Dalí, Giuseppe Arcimboldo, and Victor Vasarely.</p></li><li class="listitem"><p>They are fun to create and experience and can be made with the help of GIMP.</p></li></ul></div><p>A <span class="emphasis"><em>literal optical illusion</em></span> occurs when we see an image other than the one that was created. One of the best examples of this is Adelson’s checker-shadow illusion, shown in <a class="xref" href="apas01.html#adelsonapostrophes_checker-shadow_illusi" title="Figure A-14. Adelson’s checker-shadow illusion">Figure A-14</a>. The square labeled A appears to be much darker than the square labeled B, but they are actually the exact same shade of gray. We interpret the color of the second square based on the fact that it lies in the shadow of the green cylinder. The only way for most people to see the reality of the image is to create (using GIMP, of course) a parallelogram that links squares A and B and to fill in the parallelogram with the common shade of gray (see <a class="xref" href="apas01.html#demystifying_the_illusion" title="Figure A-15. Demystifying the illusion">Figure A-15</a>).</p><div class="figure"><a id="adelsonapostrophes_checker-shadow_illusi"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01750"/><img src="httpatomoreillycomsourcenostarchimages1457538.png.jpg" alt="Adelson’s checker-shadow illusion"/><div class="caption"><p><a id="iddle3713" class="indexterm"/>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-14. Adelson’s checker-shadow illusion</p></div><div class="figure"><a id="demystifying_the_illusion"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01751"/><img src="httpatomoreillycomsourcenostarchimages1457540.png.jpg" alt="Demystifying the illusion"/></div></div><p class="title">Figure A-15. Demystifying the illusion</p></div><p><span class="emphasis"><em>Physiological illusions</em></span> occur due to excessive stimulation of some type, either of the eye itself or of the brain. For example, <a class="xref" href="apas01.html#scintillating_grid_illusion" title="Figure A-16. The scintillating grid illusion">Figure A-16</a> shows the scintillating grid illusion. The intersections of the gray lines are white dots, but if you look at the center of the grid, you see black dots in distant intersections, appearing and disappearing quickly and at random. The Hermann grid is a similar illusion, but the white dots at the intersections are absent.</p><p>A third type of optical illusion is the <span class="emphasis"><em>cognitive illusion</em></span>, which occurs due to unconscious inferences resulting from our assumptions about the world. Cognitive illusions can be divided into four categories.</p><p>Rubin’s vase, illustrated in <a class="xref" href="apas01.html#ambiguous_illusion" title="Figure A-17. An ambiguous illusion">Figure A-17</a>, is an example of the cognitive illusion known as an <span class="emphasis"><em>ambiguous illusion</em></span>. This image can appear to be a vase or two facing profiles, depending on what the viewer perceives as the subject versus the background. The representation of a cube as a line drawing is another example of an ambiguous illusion. When you draw a simple cube, telling for certain which side is closest to the viewer and which is farthest away is impossible.</p><div class="figure"><a id="scintillating_grid_illusion"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01752"/><img src="httpatomoreillycomsourcenostarchimages1457542.png.jpg" alt="The scintillating grid illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-16. The scintillating grid illusion</p></div><div class="figure"><a id="ambiguous_illusion"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01753"/><img src="httpatomoreillycomsourcenostarchimages1457544.png.jpg" alt="An ambiguous illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-17. An ambiguous illusion</p></div><p>The café wall illusion, illustrated in <a class="xref" href="apas01.html#cafeacute_wall_illusion_a_distorting_ill" title="Figure A-18. The café wall illusion: a distorting illusion">Figure A-18</a>, is a striking example of another type of cognitive illusion: a <span class="emphasis"><em>distorting illusion</em></span>. The variable positions of the black squares create the illusion that the horizontal lines are curved, rather than parallel. To check that they are actually parallel, hold a ruler up to the image, with the zero at the top line, and move it along the lines. The distance between the lines is the same all the way across.</p><p>Fraser’s spiral, shown in <a class="xref" href="apas01.html#fraserapostrophes_spiral_another_distort" title="Figure A-19. Fraser’s spiral: another distorting illusion">Figure A-19</a>, is another distorting illusion. Although it looks like a spiral, the image is actually composed of a set <a id="iddle2125" class="indexterm"/>of concentric circles. If you’re skeptical, follow the outline of one of the circles with a pencil or place a circular object on top of the image.</p><div class="figure"><a id="cafeacute_wall_illusion_a_distorting_ill"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01754"/><img src="httpatomoreillycomsourcenostarchimages1457546.png" alt="The café wall illusion: a distorting illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-18. The café wall illusion: a distorting illusion</p></div><div class="figure"><a id="fraserapostrophes_spiral_another_distort"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01755"/><img src="httpatomoreillycomsourcenostarchimages1457548.png.jpg" alt="Fraser’s spiral: another distorting illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-19. Fraser’s spiral: another distorting illusion</p></div><div class="figure"><a id="penroseapostrophes_triangle_a_paradox_il"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01756"/><img src="httpatomoreillycomsourcenostarchimages1457550.png.jpg" alt="Penrose’s triangle: a paradox illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-20. Penrose’s triangle: a paradox illusion</p></div><p>Penrose’s triangle, illustrated in <a class="xref" href="apas01.html#penroseapostrophes_triangle_a_paradox_il" title="Figure A-20. Penrose’s triangle: a paradox illusion">Figure A-20</a>, is an example of the cognitive illusion known as a <span class="emphasis"><em>paradox illusion</em></span>. A paradox illusion appears to represent a three-dimensional solid form, but the form that it represents is actually impossible. M.C. Escher created some celebrated artwork that relied on this idea, like the impossible staircase shown in <a class="xref" href="apas01.html#impossible_stairs_another_paradox_illusi" title="Figure A-21. The impossible stairs: another paradox illusion">Figure A-21</a>. The blivet, shown in <a class="xref" href="apas01.html#blivet_yet_another_paradox_illusion" title="Figure A-22. The blivet: yet another paradox illusion">Figure A-22</a>, is another example of a paradox illusion.</p><div class="figure"><a id="impossible_stairs_another_paradox_illusi"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01757"/><img src="httpatomoreillycomsourcenostarchimages1457552.png.jpg" alt="The impossible stairs: another paradox illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-21. The impossible stairs: another paradox illusion</p></div><div class="figure"><a id="blivet_yet_another_paradox_illusion"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01758"/><img src="httpatomoreillycomsourcenostarchimages1457554.png.jpg" alt="The blivet: yet another paradox illusion"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-22. The blivet: yet another paradox illusion</p></div></div></div>
<div class="sect1" title="A.2 Image Representation"><div class="titlepage"><div><div><h1 class="title"><a id="adot2_image_representation"/>A.2 Image Representation</h1></div></div></div><p>Now that you’ve seen how colors and images in the real world are perceived by your visual and cognitive systems, we’ll discuss how they’re represented on the computer.</p><div class="sect2" title="Discretization"><div class="titlepage"><div><div><h2 class="title"><a id="discretization"/>Discretization</h2></div></div></div><p>Although it seems counterintuitive, all images are represented discretely, rather than continuously. This is referred to as <span class="emphasis"><em>discretization</em></span>. Images are composed of a large number of tiny, discrete dots, all very close to each other. Because they’re so small and so close, we can’t distinguish these dots, and so they create the illusion of a continuous image. Consider the following image representations:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>A visual image:</em></span> When an image is focused in our eye, the wavelength and intensity of light <a id="iddle1912" class="indexterm"/><a id="iddle2095" class="indexterm"/><a id="iddle2097" class="indexterm"/><a id="iddle2758" class="indexterm"/><a id="iddle3420" class="indexterm"/><a id="iddle3512" class="indexterm"/><a id="iddle4277" class="indexterm"/><a id="iddle4302" class="indexterm"/><a id="iddle4303" class="indexterm"/><a id="iddle4334" class="indexterm"/><a id="iddle4436" class="indexterm"/><a id="iddle4452" class="indexterm"/><a id="iddle4460" class="indexterm"/>are sensed by the rod and cone cells in the retina. Although these cells are extremely small and close together, they are discrete receptors.</p><div class="figure"><a id="digital_image"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01759"/><img src="httpatomoreillycomsourcenostarchimages1457556.png.jpg" alt="A digital image"/></div></div><p class="title">Figure A-23. A digital image</p></div></li><li class="listitem"><p><span class="emphasis"><em>A digital image:</em></span> In a digital camera, an image, like the one in <a class="xref" href="apas02.html#digital_image" title="Figure A-23. A digital image">Figure A-23</a>, is focused on a matrix of photoreceptors. These photoreceptors are very similar to the retina, although the density of receptors is much lower than the density of cones in the fovea.</p></li><li class="listitem"><p><span class="emphasis"><em>A photograph:</em></span> On photographic paper, the image is represented with crystals of silver salt, which are very small but discrete. In fact, you can see the grain on a traditional photograph with a good magnifying glass.</p></li><li class="listitem"><p><span class="emphasis"><em>A printout:</em></span> On a printed document, discretization is represented by carbon grains (for a laser printer) or by ink spots (for an inkjet printer).</p></li><li class="listitem"><p><span class="emphasis"><em>A computer screen:</em></span> On a computer screen, the pixels that constitute the screen surface are discrete. You can clearly see this in <a class="xref" href="apas02.html#zooming_in_on_part_of_the_image" title="Figure A-24. Zooming in on part of the image">Figure A-24</a>, which shows an extreme close-up of a small part of <a class="xref" href="apas02.html#digital_image" title="Figure A-23. A digital image">Figure A-23</a>.</p></li></ul></div><p>Color is also discretized:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <span class="emphasis"><em>eye</em></span> has specialized cones that each perceive a single color of light.</p><div class="figure"><a id="zooming_in_on_part_of_the_image"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01760"/><img src="httpatomoreillycomsourcenostarchimages1457558.png.jpg" alt="Zooming in on part of the image"/></div></div><p class="title">Figure A-24. Zooming in on part of the image</p></div></li><li class="listitem"><p>The <span class="emphasis"><em>digital camera</em></span> has three types of photoreceptors, and each is sensitive to a specific color (red, green, or blue).</p></li><li class="listitem"><p><span class="emphasis"><em>Photographic paper</em></span> is made up of three layers, one for each fundamental color (red, green, and blue), and each layer is partially transparent.</p></li><li class="listitem"><p><span class="emphasis"><em>Printers</em></span> juxtapose colored dots, sometimes in layers with partial transparency. A printer must have at least three different ink colors but usually has more, for reasons we discuss in <a class="xref" href="apas03.html#subtractive_model" title="Figure A-39. The subtractive model">Figure A-39</a>.</p></li><li class="listitem"><p>On a <span class="emphasis"><em>computer screen</em></span>, each pixel is actually composed of three subpixels in the three fundamental colors: red, green, and blue.</p></li></ul></div><p>No image is truly continuous, although many appear as though they are, so all representations are only approximations of reality and our perception relies strongly on the capabilities of our cognitive system.</p></div><div class="sect2" title="Digitalization"><div class="titlepage"><div><div><h2 class="title"><a id="digitalization"/>Digitalization</h2></div></div></div><p>In the previous section, we discussed five different situations in which an image is discretely represented. In the eye and the digital camera, each receptor generates a number to represent the intensity of the received signal. (Admittedly, this isn’t exactly the case with the retina, but the signal can be measured and quantified.) On photo paper, printed documents, and computer screens, the dots (or pixels) emit light according <a id="iddle1913" class="indexterm"/><a id="iddle3137" class="indexterm"/><a id="iddle3836" class="indexterm"/><a id="iddle4294" class="indexterm"/><a id="iddle4304" class="indexterm"/><a id="iddle4306" class="indexterm"/><a id="iddle4469" class="indexterm"/><a id="iddle5172" class="indexterm"/><a id="iddle5971" class="indexterm"/>to some signal strength, which, in turn, can be represented with a number.</p><p>Using one number to represent signal strength is enough as long as we’re only dealing with grayscale images, for example, if we only consider the signal of rod cells or if we’re printing in black and white. If we introduce color, we need at least three values for each pixel or three types of cones in the retina.</p><p>An image on a computer requires one number per pixel to represent a grayscale image or (at least) three numbers per pixel to represent a color image. To keep the representation of a pixel from taking up too much space, all representations use integer numbers in a limited subrange. The subrange for pixel values is [0 to 255]. This subrange was chosen because it fits exactly into 1 byte of memory, which means a single color pixel will occupy 3 bytes.</p><p>So in a grayscale image, you have 256 possible gray levels for each pixel. In a color image, you have 256 possible values for each color, so you have 256 × 256 × 256, or 16, 777, 216 different color values. But professional photographers often prefer to use 2 bytes for each pixel, which results in the value subrange [0 to 65, 536]. Recall that 1 byte results in 2<sup>8</sup> × 256 possible values, so 2 bytes leads to 2<sup>16</sup> or 65,536 values. Whether our eyes can even distinguish such an enormous range of different values is open to debate.</p><p>Although most images can be stored in 3 bytes (one for each fundamental color), a pixel frequently uses 32 bits (or 4 bytes) because that size is more natural for a computer; it’s the size of the main processor’s registers (for most machines), and it’s a power of 2 (think binary). The extra byte may be used to represent other things, such as transparency.</p><p>Now you know that color pixels are represented by three numbers, but does this really allow you to represent all visible colors? Although this question is actually very complicated, the answer is—unfortunately—no.</p><div class="figure"><a id="color_wavelengths"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01761"/><img src="httpatomoreillycomsourcenostarchimages1457560.png.jpg" alt="Color Wavelengths"/></div></div><p class="title">Figure A-25. Color Wavelengths</p></div><p>A simple (or <span class="emphasis"><em>monochromatic</em></span>) color is characterized by its wavelength, and the wavelength ranges in the visible spectrum have common names. In <a class="xref" href="apas02.html#color_wavelengths" title="Figure A-25. Color Wavelengths">Figure A-25</a>, they are given in nanometers (nm). Note that these ranges are arbitrary approximations and are irregular: For instance, the range for violet is 60 nm, for yellow it’s 25 nm, and for red it’s 150 nm.</p><p>In addition, our visual perception system is not designed to distinguish between simple colors and complex colors. For example, pure light at 580 nm is yellow. But the eye cannot distinguish this pure yellow from a yellow obtained by a specific blend of red and green. Also, most colors in nature are not simple colors. You can’t find pink, brown, or purple in the rainbow. And white, black, and all shades of gray are also “colors” that appear in images because we can perceive them.</p><p>So most real colors are not monochromatic, and our perception system can’t distinguish between a monochromatic and a properly blended color anyway. The problem is that the representation using three numbers in a limited subrange does not allow us to represent all visible colors. For example, imagine these three numbers as coordinates in three-dimensional space. Because the coordinates are limited to the subrange [0 to 255], every point will lie inside a cube whose sides are 256 units long. The sides and corners of this cube have different meanings depending on the model used, as we’ll discuss in the next section. But points outside of the cube simply cannot be represented.</p><div class="figure"><a id="cie_chromaticity_diagram"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01762"/><img src="httpatomoreillycomsourcenostarchimages1457562.png.jpg" alt="The CIE chromaticity diagram"/><div class="caption"><p><a id="iddle1891" class="indexterm"/><a id="iddle1901" class="indexterm"/><a id="iddle1905" class="indexterm"/><a id="iddle1908" class="indexterm"/><a id="iddle2102" class="indexterm"/><a id="iddle2951" class="indexterm"/><a id="iddle3125" class="indexterm"/><a id="iddle3421" class="indexterm"/><a id="iddle3513" class="indexterm"/><a id="iddle3659" class="indexterm"/><a id="iddle3738" class="indexterm"/><a id="iddle3742" class="indexterm"/><a id="iddle3839" class="indexterm"/><a id="iddle4293" class="indexterm"/><a id="iddle4310" class="indexterm"/><a id="iddle4453" class="indexterm"/><a id="iddle4461" class="indexterm"/><a id="iddle4489" class="indexterm"/><a id="iddle4859" class="indexterm"/><a id="iddle4863" class="indexterm"/><a id="iddle4870" class="indexterm"/><a id="iddle6005" class="indexterm"/>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-26. The CIE chromaticity diagram</p></div><p>The full subset of colors that can be represented in a given system is called a <span class="emphasis"><em>(color) gamut</em></span>. The Commission Internationale de l’Éclairage (CIE; the International Commission on Illumination) defined a model for the visible colors, represented in <a class="xref" href="apas02.html#cie_chromaticity_diagram" title="Figure A-26. The CIE chromaticity diagram">Figure A-26</a>. Along the horseshoe curve we find the fully saturated colors of the rainbow, with blue numbers that indicate the corresponding wavelengths in nanometers [400-700]. The straight line at the bottom is the purple boundary. The content of the diagram is the whole set of visible colors based on normal human vision.</p><p>Material colors, obtained by mixing colored paints, for example, have more possibilities (a larger gamut) because black or white can be mixed with the colors. They would, therefore, require another dimension with values from black to white in the diagram.</p><p>This diagram is actually impossible to represent with complete accuracy, especially in a printed book. (It gives too much prominence to green and not enough to yellow, and the white point, located somewhere in the center, is not really white.) But the chromaticity diagram can be used to show the color gamuts of devices (also shown in <a class="xref" href="apas02.html#cie_chromaticity_diagram" title="Figure A-26. The CIE chromaticity diagram">Figure A-26</a>). Some devices have a larger gamut than others, but all of them are smaller than the full visible gamut. The smallest one is that of the common inkjet printer, which is especially bad at representing vivid colors. The black triangle corresponds to cathode ray tube (CRT) monitors, but the gamut of a liquid crystal display device is very similar.</p></div><div class="sect2" title="Compression"><div class="titlepage"><div><div><h2 class="title"><a id="compression"/>Compression</h2></div></div></div><p>Being aware of the size of an image file is important, whether the image is stored in memory, on a disk, on a CD, or on a USB stick. Excessively large files can fill up a small storage space or slow down a processor. But even more important is to be aware of the size of the image that will be displayed on a screen, or printed, because an image file is created to be displayed.</p><p>For example, suppose we have an image that’s 1024 × 768 pixels (i.e., the size of a rather small computer screen). This image contains 786,432 pixels. If the image is grayscale (sometimes improperly called monochrome or black and white), its file size in bytes is the same as the number of pixels (around 768KB). If the image is in color, you need at least 3 bytes for each pixel, and the file size would be about 2.3MB.</p><p>On an LCD screen with a definition of 100 pixels per inch, this image displays as an approximately 10 × 8 inch rectangle. But on a laser printer with a definition of 600 pixels per inch, the image will be only 1.7 × 1.28 inches.</p><p>The definition of the representation device (such as a printer) is fundamental, and to make nice prints that are larger than a thumbnail, you must build rather large files. Modern digital cameras can capture 10 million pixels or more for a single image. A color image taken with one of these cameras is at least 30MB. At that size, only 25 photos would fit on a normal CD, and fewer than 150 would fit on a DVD. That’s also too large a file to send easily to friends and family via email.</p><p>Because of this, compressing images is necessary. There are two main compression techniques: <span class="emphasis"><em>lossless compression</em></span>, where no data is lost and the image maintains its exact initial state, and <span class="emphasis"><em>lossy compression</em></span>, where some data loss <a id="iddle1137" class="indexterm"/><a id="iddle1757" class="indexterm"/><a id="iddle1892" class="indexterm"/><a id="iddle1902" class="indexterm"/><a id="iddle1906" class="indexterm"/><a id="iddle2117" class="indexterm"/><a id="iddle2981" class="indexterm"/><a id="iddle3011" class="indexterm"/><a id="iddle3396" class="indexterm"/><a id="iddle3406" class="indexterm"/><a id="iddle3411" class="indexterm"/><a id="iddle3475" class="indexterm"/><a id="iddle3480" class="indexterm"/><a id="iddle3483" class="indexterm"/><a id="iddle3714" class="indexterm"/><a id="iddle3739" class="indexterm"/><a id="iddle3743" class="indexterm"/><a id="iddle4370" class="indexterm"/><a id="iddle4378" class="indexterm"/><a id="iddle4381" class="indexterm"/><a id="iddle4383" class="indexterm"/>occurs and the resulting image is lower quality than the original.</p><div class="figure"><a id="image_with_continuous_color_variation"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01763"/><img src="httpatomoreillycomsourcenostarchimages1457564.png.jpg" alt="An image with continuous color variation"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-27. An image with continuous color variation</p></div><div class="figure"><a id="same_image_reduced_to_256_colors"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01764"/><img src="httpatomoreillycomsourcenostarchimages1457566.png.jpg" alt="The same image reduced to 256 colors"/></div></div><p class="title">Figure A-28. The same image reduced to 256 colors</p></div><p>Lossless compression reduces the image size in a meaningful way only if the image contains a large amount of redundant information. This typically occurs if the image file uses <span class="emphasis"><em>indexed representation</em></span>. The number of different colors in an indexed image is limited, and these colors are stored in a <span class="emphasis"><em>colormap</em></span>. The pixels are represented as indexes in this colormap, which results in an image with many identical pixels. The advantage of indexing is that the lossless compression rate is excellent, although the overall image quality is inherently worse than with direct representation. For example, <a class="xref" href="apas02.html#image_with_continuous_color_variation" title="Figure A-27. An image with continuous color variation">Figure A-27</a> shows an image with a continuous color variation. <a class="xref" href="apas02.html#same_image_reduced_to_256_colors" title="Figure A-28. The same image reduced to 256 colors">Figure A-28</a> shows the same image after converting it to indexed mode with 256 colors (the maximum). For more information on indexing and colormaps, see <a class="xref" href="ch12.html" title="Chapter 12. Color">Chapter 12</a> and <a class="xref" href="ch20.html" title="Chapter 20. Image Formats">Chapter 20</a>.</p><p>Many image compression formats are available, but we cover only three here:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>GIF is an indexed format with all the drawbacks that implies. It provides lossless compression, but if an image with continuous color variation is exported as a GIF, information is lost during indexing. GIF images also cannot contain continuous transparency. The format is best suited for diagrams, line drawings, and simple animations.</p></li><li class="listitem"><p>JPEG is a nonindexed format that uses a lossy compression technique, with a compression rate that the user can adjust. JPEG is the format of choice for photographs and is used as an output format by most digital cameras.</p></li><li class="listitem"><p>PNG can be used for both indexed and nonindexed images. With indexing, PNG has the same properties as GIF but with a better compression rate and the capability to represent continuous transparency. But PNG cannot represent animations. With nonindexed images, it provides lossless compression, which leads to a higher-quality final image than JPEG compression but at a lower compression rate.</p></li></ul></div><p>File formats can have a major impact on image size and quality. Here’s some general advice for choosing the right format for an image:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>If you’ve created the image yourself and it’s composed mostly of lines, text, and flat colors, use indexed PNG. Build the colormap with care.</p></li><li class="listitem"><p>If you create a simple animation, store it as a GIF.</p></li><li class="listitem"><p>If the image is a photograph, choose JPEG in most cases. But if you need to add text to the photograph, choose PNG. Do not increase the quality rate to more than 85 because doing so increases the file size without visible effect. Also, don’t convert the same image to JPEG multiple times because deterioration is cumulative.</p></li></ul></div><div class="figure"><a id="decomposition_of_light_by_refraction"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01765"/><img src="httpatomoreillycomsourcenostarchimages1457568.png.jpg" alt="The decomposition of light by refraction"/><div class="caption"><p><a id="iddle4567" class="indexterm"/><a id="iddle4570" class="indexterm"/><a id="iddle5153" class="indexterm"/><a id="iddle5167" class="indexterm"/>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-29. The decomposition of light by refraction</p></div></div></div>
<div class="sect1" title="A.3 Color Representation"><div class="titlepage"><div><div><h1 class="title"><a id="adot3_color_representation"/>A.3 Color Representation</h1></div></div></div><p>In nature, things are either translucent, reflective, or opaque, and they have a unique hue. Here’s a simple explanation of color: When sunlight strikes an object, the object absorbs a part of the solar spectrum and reflects the rest back at the viewer. The color that the object does not absorb—the color it reflects—is the color that you see. But not all of the visible light that we see comes from the sun. Lightning, fire, and phosphorescent organisms all produce their own light. Additionally, many other natural phenomena lead to visible color.</p><div class="sect2" title="How Colors Are Produced"><div class="titlepage"><div><div><h2 class="title"><a id="how_colors_are_produced"/>How Colors Are Produced</h2></div></div></div><p>Color can be generated in the following ways:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p title="Color by refraction:"><span class="title"><strong><span class="emphasis"><em>Color by refraction:</em></span></strong></span> When light passes through a refractive material, it is split in a pattern that depends on its wavelength. Because white light is made up of a combination of all visible wavelengths, it is split into a rainbow of colors. You’ve probably seen this happen as light passes through a prism whose nonparallel faces increase the light’s refraction (see <a class="xref" href="apas02.html#decomposition_of_light_by_refraction" title="Figure A-29. The decomposition of light by refraction">Figure A-29</a>). But when light passes through a parallelepipedic piece of glass, which has parallel faces, the first face refracts the light, and the second face refocuses it back into white light.</p></li><li class="listitem"><p title="Rainbows:"><span class="title"><strong><span class="emphasis"><em>Rainbows:</em></span></strong></span> A unique case of color by both reflection and refraction is the rainbow. Solar light is refracted by a large number of tiny water drops. These droplets are <a id="iddle2087" class="indexterm"/><a id="iddle3458" class="indexterm"/>spheres, which disperse the colors in a uniform way, as shown in <a class="xref" href="apas03.html#direct_light_propagation_in_a_droplet" title="Figure A-30. Direct light propagation in a droplet">Figure A-30</a> and <a class="xref" href="apas03.html#indirect_light_propagation_in_a_droplet" title="Figure A-31. Indirect light propagation in a droplet">Figure A-31</a>. The direct refraction creates the primary rainbow. A secondary rainbow forms when light that’s reflected on the bottom of a droplet is then indirectly refracted. A double rainbow is illustrated in <a class="xref" href="apas03.html#propagation_of_light_rays_and_reflection" title="Figure A-32. Propagation of light rays and reflection and refraction in cloud droplets">Figure A-32</a>.</p><div class="figure"><a id="direct_light_propagation_in_a_droplet"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01766"/><img src="httpatomoreillycomsourcenostarchimages1457570.png.jpg" alt="Direct light propagation in a droplet"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-30. Direct light propagation in a droplet</p></div><div class="figure"><a id="indirect_light_propagation_in_a_droplet"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01767"/><img src="httpatomoreillycomsourcenostarchimages1457572.png.jpg" alt="Indirect light propagation in a droplet"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-31. Indirect light propagation in a droplet</p></div><div class="figure"><a id="propagation_of_light_rays_and_reflection"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01768"/><img src="httpatomoreillycomsourcenostarchimages1457574.png.jpg" alt="Propagation of light rays and reflection and refraction in cloud droplets"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-32. Propagation of light rays and reflection and refraction in cloud droplets</p></div></li><li class="listitem"><p title="Color by diffusion:"><span class="title"><strong><span class="emphasis"><em>Color by diffusion:</em></span></strong></span> When light passes through a space that contains many small particles, such as the atmosphere, it’s diffused. The dynamics of the diffusion depend on the size of the particles and on the wavelength of the light passing through. Some wavelengths are diffused and reflected in random directions, some are absorbed, and some will pass through. One of the most common cases of color diffusion is the blue sky. As light moves through the atmosphere, most of the longer wavelengths, such as red, orange, and yellow, pass straight through. Much of the shorterwavelength blue light is absorbed by the gas molecules, however. The absorbed blue light is then radiated back out and scattered in every direction. That scattered light fills the sky, making it look blue.</p></li><li class="listitem"><p title="Color by interference:"><span class="title"><strong><span class="emphasis"><em>Color by interference:</em></span></strong></span> Light is partially reflected by the first face of a thin, semitransparent material, and the remaining light passes through and is reflected by the second face at the far side of the material. The reflected light from both faces combines, and depending on the depth of the material (the distance between faces), wavelengths are either amplified or canceled out. The resulting phenomenon is called <span class="emphasis"><em>interference</em></span> and can be seen on soap bubbles, mother of pearl (see <a class="xref" href="apas03.html#color_by_interference_on_a_shell_and_a_b" title="Figure A-33. Color by interference on a shell and a black pearl">Figure A-33</a>), puddles covered with oil, and other shimmery surfaces. The color appears to change depending on the angle of observation and can cause iridescence if the material is barbed. The striking colors of a peacock’s tail (see <a class="xref" href="apas03.html#color_by_interference_on_a_peacockapostr" title="Figure A-34. Color by interference on a peacock’s tail">Figure A-34</a>) are produced by interference, as are those on a butterfly’s wing. Peacock feathers and butterfly wings are both barbed surfaces, so they exhibit iridescence.</p><div class="figure"><a id="color_by_interference_on_a_shell_and_a_b"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01769"/><img src="httpatomoreillycomsourcenostarchimages1457576.png.jpg" alt="Color by interference on a shell and a black pearl"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-33. Color by interference on a shell and a black pearl</p></div><div class="figure"><a id="color_by_interference_on_a_peacockapostr"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01770"/><img src="httpatomoreillycomsourcenostarchimages1457578.png.jpg" alt="Color by interference on a peacock’s tail"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-34. Color by interference on a peacock’s tail</p></div><div class="figure"><a id="color_by_diffraction_on_a_spider_web"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01771"/><img src="httpatomoreillycomsourcenostarchimages1457580.png.jpg" alt="Color by diffraction on a spider web"/><div class="caption"><p>Credit: Wikimedia Commons</p></div></div></div><p class="title">Figure A-35. Color by diffraction on a spider web</p></div></li><li class="listitem"><p title="Color by diffraction:"><span class="title"><strong><span class="emphasis"><em>Color by diffraction:</em></span></strong></span> When light moves around an object, or passes through a very small hole or slot, its path changes, like water flowing around rocks or passing from a narrow creek into a lake. The path that the light takes as it moves past the obstacle depends on the wavelength. White light is split into a rainbow of colors. The effect is often subtle, but you can see colors by diffraction on the threads of a spider web in certain conditions (see <a class="xref" href="apas03.html#color_by_diffraction_on_a_spider_web" title="Figure A-35. Color by diffraction on a spider web">Figure A-35</a>).</p></li></ul></div><p><a id="iddle1003" class="indexterm"/><a id="iddle1032" class="indexterm"/><a id="iddle1761" class="indexterm"/><a id="iddle1914" class="indexterm"/><a id="iddle2009" class="indexterm"/><a id="iddle2088" class="indexterm"/><a id="iddle3459" class="indexterm"/><a id="iddle3660" class="indexterm"/><a id="iddle4335" class="indexterm"/><a id="iddle4568" class="indexterm"/><a id="iddle4571" class="indexterm"/><a id="iddle4689" class="indexterm"/><a id="iddle4851" class="indexterm"/><a id="iddle4858" class="indexterm"/><a id="iddle4871" class="indexterm"/><a id="iddle5154" class="indexterm"/><a id="iddle5168" class="indexterm"/>The main characteristic of colors by refraction, diffusion, interference, or diffraction is that they’re passive and so can yield only a <span class="emphasis"><em>subrange</em></span> of colors from the solar spectrum. If light of a single color undergoes one of these four processes, the result is the same color. No other colors are produced during the process.</p><p>When we artificially create an image to represent something we’ve seen, we can’t use these phenomena because we couldn’t easily produce all the colors we would need. Instead, we use color emitters, like the phosphor on a cathode ray tube, or bodies that are only transparent to certain colors, like the liquid crystals on an LCD screen. We can also use opaque materials, such as paint or mosaic tiles, that reflect only certain colors. Ultimately, the color of a material is determined in one of three ways:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p title="Color by emission:"><span class="title"><strong><span class="emphasis"><em>Color by emission:</em></span></strong></span> The sun appears white because it emits light in all visible frequencies (and many invisible frequencies, too). An incandescent light bulb or a fluorescent tube has a wavelength spectrum similar to that of the sun. A phosphor pixel on a CRT screen emits light at one specific wavelength.</p></li><li class="listitem"><p title="Color by reflection:"><span class="title"><strong><span class="emphasis"><em>Color by reflection:</em></span></strong></span> The wavelengths reflected are the only ones that are visible—the others are all absorbed by the material. The color of the material depends on the light it receives: In normal sunlight, a piece of chalk or a sheet of paper looks white because it receives white light and reflects all wavelengths in the visible range. But in red light, they would appear red.</p></li><li class="listitem"><p title="Color by absorption:"><span class="title"><strong><span class="emphasis"><em>Color by absorption:</em></span></strong></span> For semitransparent materials, such as water and ice, only the wavelengths that pass through the material are visible—the rest are absorbed. For example, if a piece of sea ice absorbs green wavelengths less than other wavelengths, it appears to be green. Once again, a given frequency can only be visible if it’s present in the light that strikes the material.</p></li></ul></div><p>The colors we see are created differently in the three examples just given. With color by reflection, a material that reflects all wavelengths is white, and a material that reflects nothing (absorbs all wavelengths) is black. With color by absorption, a material that absorbs all wavelengths is opaque, and a material that absorbs no wavelengths is transparent. Blue paint reflects the blue frequencies and absorbs the others. Blue glass also absorbs frequencies other than blue, but unlike blue paint, the blue light that gives glass a color passes through the glass to reach us. These concepts lead to the different models of color representation: additive, subtractive, and HSV.</p></div><div class="sect2" title="The Additive Model"><div class="titlepage"><div><div><h2 class="title"><a id="additive_model"/>The Additive Model</h2></div></div></div><p>The <span class="emphasis"><em>additive model</em></span> is not the most intuitive, but it is the most natural. It corresponds to color by emission and to the way our eyes perceive colors.</p><p>We already saw that the retina contains three types of cones that are sensitive to red, green, and blue light. These are the three fundamental colors of the additive model. They are also used on computer screens (both CRTs and LCDs): Each pixel contains three subpixels that emit red, green, or blue light.</p><p>This model is commonly referred to as <span class="emphasis"><em>RGB</em></span>. On the screen, the relative intensity of light in each subpixel determines what color is produced. If the three subpixels are all at maximum intensity, white light is produced. If they’re all at minimum intensity, they produce “black light” (i.e., no light). If they’re all at equal levels somewhere between the minimum and the maximum, gray light is produced. A lower intensity results in a darker final color.</p><p>Note that although the white light emitted by the sun contains the full wavelength range of visible light, we still perceive a white color when only three wavelengths are present. Whenever all three of the cone types are fully stimulated, we perceive something to be white.</p><div class="figure"><a id="additive_model-id00209"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01772"/><img src="httpatomoreillycomsourcenostarchimages1457582.png.jpg" alt="The additive model"/></div></div><p class="title">Figure A-36. The additive model</p></div><div class="figure"><a id="rgb_cube"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01773"/><img src="httpatomoreillycomsourcenostarchimages1457584.png.jpg" alt="The RGB cube"/></div></div><p class="title">Figure A-37. The RGB cube</p></div><p><a id="iddle1033" class="indexterm"/><a id="iddle1762" class="indexterm"/><a id="iddle1874" class="indexterm"/><a id="iddle2076" class="indexterm"/><a id="iddle2952" class="indexterm"/><a id="iddle3837" class="indexterm"/><a id="iddle4636" class="indexterm"/><a id="iddle4664" class="indexterm"/><a id="iddle4860" class="indexterm"/><a id="iddle5155" class="indexterm"/><a id="iddle5169" class="indexterm"/>If light is emitted only by the subpixels of one of the fundamental colors, we see that color. If two different subpixels emit light, we get a <span class="emphasis"><em>complementary color</em></span>, as shown in <a class="xref" href="apas03.html#additive_model-id00209" title="Figure A-36. The additive model">Figure A-36</a>. Red and green produce <span class="emphasis"><em>yellow</em></span>, red and blue produce <span class="emphasis"><em>magenta</em></span>, and green and blue produce <span class="emphasis"><em>cyan</em></span>. The three complementary colors also exist as monochromatic colors: They’re present in the solar spectrum as single wavelengths.</p><p>Because the three fundamental color values are in a limited subrange (usually [0 to 255]), the points they define in three-dimensional space are limited to a cube, as shown in <a class="xref" href="apas03.html#rgb_cube" title="Figure A-37. The RGB cube">Figure A-37</a>. The corners of this cube are labeled with the fundamental colors, the secondary colors, and black and white. The diagonal that links the black corner (coordinates 0,0,0) to the white corner (coordinates 255,255,255) is the <span class="emphasis"><em>diagonal of grays</em></span>. Each point is opposite the point of its <span class="emphasis"><em>complementary color</em></span>.</p><div class="figure"><a id="decomposition_into_the_rgb_channels"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01774"/><img src="httpatomoreillycomsourcenostarchimages1457586.png.jpg" alt="Decomposition into the RGB channels"/></div></div><p class="title">Figure A-38. Decomposition into the RGB channels</p></div><p>The RGB cube defines the gamut of all colors that can be represented on a computer screen. This gamut is smaller than the visible gamut of colors that we can perceive, as shown in <a class="xref" href="apas02.html#cie_chromaticity_diagram" title="Figure A-26. The CIE chromaticity diagram">Figure A-26</a>.</p><p><a class="xref" href="apas03.html#decomposition_into_the_rgb_channels" title="Figure A-38. Decomposition into the RGB channels">Figure A-38</a> shows an image decomposed into its three RGB <span class="emphasis"><em>channels</em></span>. Brighter areas indicate areas where the corresponding channel is more active.</p><p>The RGB model is not intuitive: It requires a leap of faith or some serious thought to accept that adding red to green produces yellow. Most people think of color as pigments. When you mix red and green paint, you get something closer to brown, and if you mix the three fundamental colors, red, green, and blue, you get some darker color, not white. Pigment doesn’t follow the additive model.</p><p>Another challenge of the RGB model is that matching a particular color is difficult. For example, how do we get the color of a pink rose, clean copper, or mahogany wood? The answer could be 248,192,236 for the pink rose; 198, 113,76 for copper; and 100,0,0 for mahogany. All three of these materials appear to be dominated by red, yet pink and copper require a surprising amount of green and blue. (And the mahogany requires only a small amount of red.) Clearly, a more intuitive model would make image creation easier.</p><div class="figure"><a id="subtractive_model"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01775"/><img src="httpatomoreillycomsourcenostarchimages1457588.png.jpg" alt="The subtractive model"/></div></div><p class="title">Figure A-39. The subtractive model</p></div></div><div class="sect2" title="The Subtractive Model"><div class="titlepage"><div><div><h2 class="title"><a id="subtractive_model-id00210"/>The Subtractive Model</h2></div></div></div><p><a id="iddle1004" class="indexterm"/><a id="iddle1675" class="indexterm"/><a id="iddle1685" class="indexterm"/><a id="iddle1796" class="indexterm"/><a id="iddle1875" class="indexterm"/><a id="iddle2953" class="indexterm"/><a id="iddle4431" class="indexterm"/><a id="iddle4470" class="indexterm"/><a id="iddle4665" class="indexterm"/><a id="iddle4701" class="indexterm"/><a id="iddle5229" class="indexterm"/>The <span class="emphasis"><em>subtractive model</em></span> (also known as the <span class="emphasis"><em>CMY model</em></span>) is used to produce color by absorption, as pigments do. Its three fundamental colors are the complementary colors in the RGB model: cyan, magenta, and yellow. Each fundamental color absorbs light of a certain wavelength. If the three colors are all at maximum value, they produce black. If they’re all at zero, they produce white. This model assumes that we’re adding color to a white surface.</p><p><a class="xref" href="apas03.html#subtractive_model" title="Figure A-39. The subtractive model">Figure A-39</a> shows the three fundamental colors and their combinations. The complementary colors of the CMY model are the fundamental colors of the RGB model: Cyan plus magenta is blue, cyan plus yellow is green, and magenta plus yellow is red. When the intensity of all fundamental colors is low, the color is washed out.</p><p>The CMY cube (shown in <a class="xref" href="apas03.html#cmy_cube" title="Figure A-40. The CMY cube">Figure A-40</a>) is complementary to the RGB cube: The same colors are in the corners, but the coordinate values are the complement to the RGB coordinates. The gamut is the same because the cube is the same.</p><p><a class="xref" href="apas03.html#decomposition_into_the_cmy_channels" title="Figure A-41. Decomposition into the CMY channels">Figure A-41</a> shows the same image as <a class="xref" href="apas03.html#decomposition_into_the_rgb_channels" title="Figure A-38. Decomposition into the RGB channels">Figure A-38</a> but decomposed into its three CMY channels. As before, the lighter areas indicate more active channels, but in this case, when all channels are active, an area is darker, which gives the channels a negative appearance.</p><p>The CMY model is the native model for printing. Microscopic dots of the fundamental colors are printed on paper, and their juxtaposition produces the effect of the subtractive method. Transparent inks can also be used in overlapping layers to produce a similar result. But generating a good black color using the three fundamental colors is difficult, and black ink is relatively cheap, so most printers also include black and use the <span class="emphasis"><em>CMYK model</em></span> (<span class="emphasis"><em>K</em></span> stands for black).</p><div class="figure"><a id="cmy_cube"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01776"/><img src="httpatomoreillycomsourcenostarchimages1457590.png.jpg" alt="The CMY cube"/></div></div><p class="title">Figure A-40. The CMY cube</p></div><div class="figure"><a id="decomposition_into_the_cmy_channels"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01777"/><img src="httpatomoreillycomsourcenostarchimages1457592.png.jpg" alt="Decomposition into the CMY channels"/></div></div><p class="title">Figure A-41. Decomposition into the CMY channels</p></div><div class="figure"><a id="decomposition_into_the_cmyk_channels"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01778"/><img src="httpatomoreillycomsourcenostarchimages1457594.png.jpg" alt="Decomposition into the CMYK channels"/></div></div><p class="title">Figure A-42. Decomposition into the CMYK channels</p></div><p>The values of these four channels are easily computed from the CMY values: <span class="emphasis"><em>K</em></span> is the minimum (lowest value) across the three channels in a given pixel, and the other channels are replaced with their value minus <span class="emphasis"><em>K</em></span>. Sometimes the <a id="iddle1638" class="indexterm"/><a id="iddle1639" class="indexterm"/><a id="iddle1676" class="indexterm"/><a id="iddle1686" class="indexterm"/><a id="iddle1778" class="indexterm"/><a id="iddle1797" class="indexterm"/><a id="iddle1866" class="indexterm"/><a id="iddle1915" class="indexterm"/><a id="iddle3230" class="indexterm"/><a id="iddle3276" class="indexterm"/><a id="iddle3422" class="indexterm"/><a id="iddle3746" class="indexterm"/><a id="iddle3838" class="indexterm"/><a id="iddle4429" class="indexterm"/><a id="iddle4432" class="indexterm"/><a id="iddle4454" class="indexterm"/><a id="iddle4465" class="indexterm"/><a id="iddle4475" class="indexterm"/><a id="iddle4703" class="indexterm"/><a id="iddle4706" class="indexterm"/><a id="iddle4772" class="indexterm"/><a id="iddle5230" class="indexterm"/>printer requires a lower value for <span class="emphasis"><em>K</em></span>, with corresponding changes in the other three channels to avoid overly dark, wet prints. In those cases, the values of the other channels are computed in a way that preserves the colors as best as possible.</p><p><a class="xref" href="apas03.html#decomposition_into_the_cmyk_channels" title="Figure A-42. Decomposition into the CMYK channels">Figure A-42</a> shows the same image as <a class="xref" href="apas03.html#decomposition_into_the_cmy_channels" title="Figure A-41. Decomposition into the CMY channels">Figure A-41</a> but decomposed into the four CMYK channels. We see the CMY channels are much darker than in <a class="xref" href="apas03.html#decomposition_into_the_cmy_channels" title="Figure A-41. Decomposition into the CMY channels">Figure A-41</a>, which means that much less ink is needed for printing this image.</p><p>Low-cost inkjet printers use only the four ink colors of the CMYK model. As the quality and cost of printers increase, the number of ink colors generally increases as well. Midrange printers frequently add a light cyan and a light magenta ink. High-cost printers, intended for professional photography, add several gray and black inks, which enhance unsaturated colors.</p></div><div class="sect2" title="The HSV Model"><div class="titlepage"><div><div><h2 class="title"><a id="hsv_model"/>The HSV Model</h2></div></div></div><p>Neither the RGB model nor the CMY models are very intuitive to work with. Determining the purity, intensity, or hue of a given color when using those models is difficult because each color is represented abstractly as three coordinates.</p><p>In fact, some research has indicated that our visual system doesn’t simply transmit the three signals emitted by the three types of cones to the brain. The <span class="emphasis"><em>R</em></span>, <span class="emphasis"><em>G</em></span>, and <span class="emphasis"><em>B</em></span> signals are first combined into <span class="emphasis"><em>R</em></span> + <span class="emphasis"><em>G</em></span>, <span class="emphasis"><em>R</em></span> – <span class="emphasis"><em>G</em></span> and <span class="emphasis"><em>B</em></span> – (<span class="emphasis"><em>R</em></span> + <span class="emphasis"><em>G</em></span>). The <span class="emphasis"><em>R</em></span> + <span class="emphasis"><em>G</em></span> signal corresponds to what is called <span class="emphasis"><em>luminance</em></span>. Luminance is equivalent to the value dimension in pigment colors, which goes from black to white. The blue component doesn’t contribute to the perceived lightness or darkness of a given color, possibly because of the very small proportion of blue cones present in the retina. The two other values (<span class="emphasis"><em>R</em></span> – <span class="emphasis"><em>G</em></span> and <span class="emphasis"><em>B</em></span> – (<span class="emphasis"><em>R</em></span> + <span class="emphasis"><em>G</em></span>)) represent the <span class="emphasis"><em>chrominance</em></span>, or the hue of the color. These concepts contributed to the CIE standards and the chromaticity diagram shown in <a class="xref" href="apas02.html#cie_chromaticity_diagram" title="Figure A-26. The CIE chromaticity diagram">Figure A-26</a>.</p><p>The <span class="emphasis"><em>HSV model</em></span> is based on these concepts and is designed to be a more intuitive way to represent colors. Conversions are required to switch between HSV and the other two models, but any modern computer can easily handle the computations needed. This model is the best one to use when you want to choose a color or build a color scheme for a project. The CMYK model is useful only for printing, and, in fact, most software tools for printing make the necessary conversion at the last minute, using information specific to the printer being used. The RGB model is a very important model because all images are internally represented using it. To sum up, images are stored as RGB, the HSV model provides an intuitive way to choose colors, and printing software usually converts an image to CMYK just before printing it.</p><div class="figure"><a id="hsv_model-id00211"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01779"/><img src="httpatomoreillycomsourcenostarchimages1457596.png.jpg" alt="The HSV model"/></div></div><p class="title">Figure A-43. The HSV model</p></div><p>Now let’s look more closely at the HSV model, which is shown in <a class="xref" href="apas03.html#hsv_model-id00211" title="Figure A-43. The HSV model">Figure A-43</a>. It contains three coordinates:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>H is the <span class="emphasis"><em>hue</em></span>. The hue is a value on a color wheel that ranges from 0 to 360 degrees. Red is 0°, and the hue wavelength decreases as the angle increases.</p><p><a class="xref" href="apas03.html#hsv_model-id00211" title="Figure A-43. The HSV model">Figure A-43</a> represents the color wheel as an unrolled cylinder. The “angle” increases from 0 on the left to 360 on the right. Most of the colors shown are monochromatic, except for purple, which is present at the transition between red and violet.</p></li><li class="listitem"><p>S is the <span class="emphasis"><em>saturation</em></span>. Saturation is represented as a percentage: Full saturation (pure color) is 100%, and white (no color) is 0%. As the percentage decreases, the color becomes more <a id="iddle1640" class="indexterm"/><a id="iddle1779" class="indexterm"/><a id="iddle1867" class="indexterm"/><a id="iddle3126" class="indexterm"/><a id="iddle3218" class="indexterm"/><a id="iddle3231" class="indexterm"/><a id="iddle3747" class="indexterm"/><a id="iddle4666" class="indexterm"/><a id="iddle4704" class="indexterm"/><a id="iddle5918" class="indexterm"/><a id="iddle5955" class="indexterm"/>washed out. In <a class="xref" href="apas03.html#hsv_model-id00211" title="Figure A-43. The HSV model">Figure A-43</a>, the saturation is represented by the vertical dimension of the unrolled cylinder and goes from 0 (at the bottom) to 100 (at the top).</p><div class="figure"><a id="decomposition_into_the_hsv_channels_from"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01780"/><img src="httpatomoreillycomsourcenostarchimages1457598.png.jpg" alt="Decomposition into the HSV channels: From the top left, you see the original image, and its H, S, and V channels."/></div></div><p class="title">Figure A-44. Decomposition into the HSV channels: From the top left, you see the original image, and its H, S, and V channels.</p></div></li><li class="listitem"><p>V is the <span class="emphasis"><em>value</em></span>. Value is also a percentage: Fully luminous is 100%, and black (no luminance) is 0%. When the percentage decreases, the color darkens. In <a class="xref" href="apas03.html#hsv_model-id00211" title="Figure A-43. The HSV model">Figure A-43</a>, the value is the vertical bar on the right, from 0 (at the bottom) to 100 (at the top).</p></li></ul></div><p>The small circle in <a class="xref" href="apas03.html#hsv_model-id00211" title="Figure A-43. The HSV model">Figure A-43</a> specifies a precise color (a slightly desaturated cyan hue). The value bar shows this hue at the top and darkens it as it goes down.</p><p><a class="xref" href="apas03.html#decomposition_into_the_hsv_channels_from" title="Figure A-44. Decomposition into the HSV channels: From the top left, you see the original image, and its H, S, and V channels.">Figure A-44</a> shows the decomposition of an image into the three channels of the HSV model. Because the H and S channels are represented here as grayscale images, they aren’t really meaningful. But the V channel is a good representation of the image in grayscale.</p><p>Graphically representing the relationship between the HSV model and the RGB model is not easy. <a class="xref" href="apas03.html#hsv_model_in_the_rgb_cube" title="Figure A-45. The HSV model in the RGB cube">Figure A-45</a> shows the HSV circle and its vectors inside the RGB cube.</p><p>The space defined by the three values of the HSV model is represented as a cylinder. But black fills the cylinder’s entire bottom. The conical representation, shown in <a class="xref" href="apas02.html#image_with_continuous_color_variation" title="Figure A-27. An image with continuous color variation">Figure A-27</a>, eliminates that redundancy by representing black as the point of the cone and white as the center of the top circle.</p><div class="figure"><a id="hsv_model_in_the_rgb_cube"/><div class="figure-contents"><div class="mediaobject"><a id="med_id01781"/><img src="httpatomoreillycomsourcenostarchimages1457600.png.jpg" alt="The HSV model in the RGB cube"/></div></div><p class="title">Figure A-45. The HSV model in the RGB cube</p></div></div></div>
<div class="sect1" title="A.4 Exercises"><div class="titlepage"><div><div><h1 class="title"><a id="adot4_exercises"/>A.4 Exercises</h1></div></div></div><p>So far, we’ve only presented theoretical information. But the illustrations in this appendix are good examples of what you can do with a tool like GIMP. We created some of these illustrations with a vector graphics program, rather than with GIMP. This is the case, for example, for <a class="xref" href="apas01.html#human_eye" title="Figure A-1. The human eye">Figure A-1</a> and <a class="xref" href="apas03.html#rgb_cube" title="Figure A-37. The RGB cube">Figure A-37</a>. We found other images in the Wikimedia Commons collection. We did, however, build or edit several of the images with GIMP. You can begin to explore the potential of GIMP through the following exercises, although you may not be able to complete them until you’ve read some of the other chapters in this book.</p><p><span class="strong"><strong>Exercise A.1.</strong></span> We created <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_protano" title="Figure A-10. The rainbow as seen by a person with protanopia">Figure A-10</a> through <a class="xref" href="apas01.html#rainbow_as_seen_by_a_person_with_monochr" title="Figure A-13. The rainbow as seen by a person with monochromacy">Figure A-13</a> in GIMP using <a class="xref" href="apas01.html#traditional_color_rainbow" title="Figure A-9. The traditional color rainbow">Figure A-9</a> as a starting point. How would you do this?</p><p><span class="strong"><strong>Exercise A.2.</strong></span> We found the CIE chromatic diagram on Wikimedia Commons. How could you use this original image to make an image similar to <a class="xref" href="apas02.html#cie_chromaticity_diagram" title="Figure A-26. The CIE chromaticity diagram">Figure A-26</a>?</p><p><span class="strong"><strong>Exercise A.3.</strong></span> <a class="xref" href="apas03.html#additive_model-id00209" title="Figure A-36. The additive model">Figure A-36</a> and <a class="xref" href="apas03.html#subtractive_model" title="Figure A-39. The subtractive model">Figure A-39</a> were entirely created with GIMP. Try to re-create them.</p><p><span class="strong"><strong>Exercise A.4.</strong></span> Using a photograph or picture of your own, try to reproduce the figures that show the decomposition of an image into channels, such as <a class="xref" href="apas03.html#decomposition_into_the_rgb_channels" title="Figure A-38. Decomposition into the RGB channels">Figure A-38</a>.</p></div></body></html>