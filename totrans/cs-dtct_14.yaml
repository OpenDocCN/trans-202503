- en: —15—
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: —15—
- en: Iterative Deepening Can Save Your Life
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 迭代加深可以救命
- en: I know that look,” said Mavis. Frank looked up at the *TCP Flyer*’s captain
    in annoyance. He preferred to brood quietly, and this was the second interruption
    in 10 minutes.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: “我知道那个表情，”梅维斯说。弗兰克不耐烦地抬头看了看*TCP Flyer*号的船长。他更喜欢安静地沉思，而这已经是10分钟内的第二次打扰了。
- en: “What look?” he growled.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: “什么表情？”他咆哮道。
- en: “That look,” she said, waving in Frank’s general direction. “You’re questioning
    your search and wondering if you spent too much time on dead ends.”
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: “那个表情，”她说着，手指着弗兰克的方向。“你在质疑你的搜索，想知道自己是不是花太多时间在死胡同上。”
- en: “Why would I be doing that?” Frank asked.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: “我为什么要这么做？”弗兰克问道。
- en: “I heard what the kid said,” Mavis explained. “You’re suddenly on a tight timeline,
    and we have at least another hour before we get back to Usb.”
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: “我听到那小子说的话了，”梅维斯解释道。“你现在有了紧迫的时间限制，而我们至少还有一个小时才能回到Usb。”
- en: Frank nodded. “If this piece of junk—”
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克点了点头。“如果这堆破烂——”
- en: “Hey, now. Just because you’re questioning your search doesn’t give you a reason
    to insult my ship.”
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: “嘿，别这样。你只是质疑自己的搜索，不代表可以侮辱我的船。”
- en: “Yeah. I suppose,” Frank mumbled by way of apology.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: “嗯，我猜是吧。”弗兰克低声道歉。
- en: He had been running through the leads in his mind, wondering if one of them
    would have provided quicker answers. He knew the log entries were good leads—as
    good as he could hope to find in a case like this. But they’d been time-consuming.
    He’d spent almost a full day traveling between ports on the *TCP Flyer*.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 他一直在脑海中回顾线索，想知道其中是否有能够提供更快答案的。虽然他知道这些日志条目是有效的线索——在这种情况下已经是他能找到的最好线索了，但它们却非常耗时。他几乎花了一整天在*TCP
    Flyer*号船的各个港口之间旅行。
- en: With a grunt, Mavis lowered herself and sat next to Frank. “Iterative deepening?”
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯 grunt了一声，坐到弗兰克旁边。“迭代加深？”
- en: Frank shrugged. The thought had occurred to him. Iterative deepening was a cross
    between a pure depth-first search and a breadth-first search. The algorithm searched
    in rounds, each round being a depth-first search that was limited to a given path
    length.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克耸了耸肩。这个想法曾经在他脑海中闪过。迭代加深算法介于纯深度优先搜索和广度优先搜索之间。该算法分为几轮，每一轮都是深度优先搜索，但搜索的深度有限制。
- en: “Never was a fan,” Frank admitted. He’d never been able to stomach repeating
    parts of the search over and over each iteration. So much of the work seemed to
    be wasted.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: “我从来不喜欢这样，”弗兰克承认道。他一直无法忍受每次迭代都要重复搜索的一部分工作。很多时候，感觉这些工作就是浪费时间。
- en: Mavis laughed. “You haven’t faced enough dead ends then.”
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯笑了笑。“那你显然还没遇到足够的死胡同。”
- en: Frank raised an eyebrow. “You’re talking to a private investigator. I run into
    more dead ends than correct paths.”
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克挑了挑眉。“你这是在跟一个私人侦探说话。我的工作就是不断地在死胡同和正确路径之间徘徊。”
- en: “Ever lose a criminal because of one?” asked Mavis.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: “有没有因为一个死胡同丢了犯罪嫌疑人？”梅维斯问。
- en: “A few times,” Frank admitted.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: “几次吧，”弗兰克承认道。
- en: “Then you should appreciate iterative deepening,” said Mavis. “When I first
    saw it in action, I was annoyed by the restarts too. But it’s saved my life more
    than once.”
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: “那你应该理解迭代加深的重要性，”梅维斯说。“当我第一次看到它被应用时，我也为每次重启感到烦恼。但它已经救过我不止一次了。”
- en: “Restarting a search over and over saved your life?” asked Frank.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: “一遍又一遍地重启搜索救了你的命？”弗兰克问道。
- en: “Limiting how far I could explore along the wrong path saved my life,” corrected
    Mavis.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: “限制我沿着错误路径探索的距离救了我的命。”梅维斯纠正道。
- en: “When did iterative deepening save your life?” asked Frank, unable to keep the
    skepticism from his voice.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: “迭代加深什么时候救了你的命？”弗兰克问，语气里无法掩饰怀疑。
- en: Mavis stared out over the ocean. “Well . . . the first time was when I was just
    a kid. I was an apprentice on a cargo vessel called the *Void Star*. It was an
    amazing ship; it could carry anything. Anyway, we were lost in the middle of the
    Razor Ridges—a dense series of volcanic peaks that effectively form a giant maze—and
    we were running out of important provisions.”
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯凝视着远处的大海。“嗯……第一次是在我还是个孩子的时候。我在一艘叫做*Void Star*的货船上当学徒。那是一艘了不起的船，能装下任何东西。总之，我们在‘刀锋脊’中迷路了——那是一系列密集的火山峰，形成了一个巨大的迷宫——而且我们的重要补给已经快没了。”
- en: “Water?” asked Frank.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: “水？”弗兰克问道。
- en: “No,” answered Mavis. “We had at least two weeks’ worth of food and water. We
    were low on coffee, and that was bad news for the ship’s officers. After a single
    day without coffee, the first mate would get twitchy and sing depressing sea shanties.”
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: “不，”梅维斯回答道。“我们至少有两周的食物和水。咖啡快没了，对船员来说那可不是好消息。没了咖啡一天后，副船长就会变得焦躁不安，唱起忧郁的海上歌曲。”
- en: '![image](../images/f0119-01.jpg)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0119-01.jpg)'
- en: “That doesn’t sound too bad.”
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: “听起来还不算太糟。”
- en: “Without coffee, the man’s singing attracted every vicious bird in an eight-mile
    radius.”
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: “没有咖啡，那人的歌声吸引了八英里范围内所有凶猛的鸟类。”
- en: Frank winced at the thought.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克想到这里，不禁皱了皱眉。
- en: “Anyway,” continued Mavis, “coffee was vital for the ship. The captain estimated
    we had less than two days to find an island with a supply station. She knew there
    had to be one close by, but didn’t know exactly where. You see, we’d lost the
    map during an impromptu paper airplane contest. And with the dense fog throughout
    the ridges, we wouldn’t see the station until we were right on top of it.”
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: “总之，”梅维斯继续说道，“咖啡对船来说至关重要。船长估计我们只有不到两天的时间找到一个有补给站的岛屿。她知道附近一定有一个，但不知道具体位置。你看，我们在一场即兴的纸飞机比赛中丢失了地图。再加上山脊上弥漫着浓雾，我们根本看不见补给站，直到我们站在它的正上方。”
- en: '![image](../images/f0119-02.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0119-02.jpg)'
- en: “We started off searching for an island with coffee. I was still green in those
    days and hadn’t heard of iterative deepening, so I boldly suggested a depth-first
    search. The captain just laughed and told me she’d never trust a depth-first search
    in the Razor Ridges—too many long dead ends.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: “我们最初是想找一个有咖啡的岛屿。我那时还很年轻，没听说过迭代加深，所以我大胆地建议使用深度优先搜索。船长只是笑了笑，告诉我她永远不会在刀锋山脊上信任深度优先搜索——那里有太多长长的死路。
- en: “Well. She gridded off the sea into one-mile-square chunks. One mile was about
    as far as you could see through the fog, so we would need to be in the same grid
    square as the supply station to see it. Then we set about exploring with iterative
    deepening. We used a depth-first search, but limited it to a single one-cell step.
    We used a classic north, east, south, west ordering, backtracking to the starting
    location each time. We didn’t find anything in this first step, but at least we
    were efficient about it. Within a few hours, we had eliminated all neighboring
    grid squares.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: “嗯。她将海洋划分成一英里见方的块状。每一英里大约是你在雾中能看到的最大距离，因此我们必须处于与补给站相同的格子里才能看到它。然后我们开始使用迭代加深来探索。我们使用了深度优先搜索，但将其限制为单个单元步长。我们采用了经典的北、东、南、西顺序，每次都回溯到起始位置。我们在第一步中没有找到任何东西，但至少我们高效地进行了探索。几个小时内，我们就排除了所有相邻的格子。”
- en: '![image](../images/f0120-01.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0120-01.jpg)'
- en: Mavis shook her head. “No sign of the supply station at all. So we started over,
    doing another depth-first search from the original starting point. This time we
    explored two steps out and covered a lot more area. We ended up reexploring the
    neighboring squares in the process. Still no sign of a supply station, but we
    were able to eliminate all squares within two steps pretty quickly.”
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯摇了摇头。“完全没有发现补给站的踪迹。所以我们重新开始，从原始起点做另一次深度优先搜索。这次我们探测了两步，覆盖了更多的区域。在这个过程中，我们又重新探索了相邻的格子。依然没有补给站的踪迹，但我们很快就排除了所有两步内的格子。”
- en: '![image](../images/f0121-01.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0121-01.jpg)'
- en: “Why not just use breadth-first search?” asked Frank. “That’s what you were
    effectively doing anyway. Your search explored outward, farther and farther from
    the starting point.”
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: “那为什么不直接用广度优先搜索呢？”弗兰克问道。“反正你们做的就是这个。你们的搜索是向外扩展，越来越远离起点。”
- en: Mavis nodded. “Breadth-first search and iterative deepening have a lot in common.
    But you’re forgetting one key point. *We had lost our map*. It’s really difficult
    to track your unexplored states in breadth-first search when you don’t have a
    map. How do you remember your frontier? Iterative deepening allowed us to explore
    outward without having to explicitly remember all the unexplored states. We just
    followed a depth-limited path.”
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯点了点头。“广度优先搜索和迭代加深有很多相似之处。但你忘了一个关键点。*我们丢失了地图*。在没有地图的情况下，使用广度优先搜索来追踪你尚未探索的状态是非常困难的。你怎么记住你的边界？迭代加深让我们能够向外扩展，而不需要显式地记住所有未探索的状态。我们只需要遵循一个深度有限的路径。”
- en: '![image](../images/f0122-01.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0122-01.jpg)'
- en: “I guess so,” Frank agreed.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: “我想是的，”弗兰克同意道。
- en: “Anyway, we were starting to run low on coffee at that point,” Mavis continued.
    “A group of volunteers, including the captain herself, switched to decaf. But
    we all knew that would only buy us a little time. We pushed on. We restarted the
    depth-first search again, this time allowing ourselves to venture out farther.”
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: “总之，”梅维斯继续说道，“那时我们的咖啡已经快喝完了。一群志愿者，包括船长本人，开始喝脱咖啡因的咖啡。但我们都知道这只能让我们多撑一会儿。我们继续前进。我们又一次重新开始深度优先搜索，这次允许我们探索得更远。”
- en: “Did you find it with a search of length three?” asked Frank.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: “你是用长度为三的搜索找到的吗？”弗兰克问道。
- en: “Luckily, we did,” replied Mavis. “On that iteration we checked everything one,
    two, and three steps away. By that time, the quartermaster, who had absolutely
    no use for decaf, had resorted to reusing the same grounds for a 10th time, but
    the first mate was already singing ‘Sea Slugs on Deck.’ Fortunately, that was
    one of his more upbeat tunes.”
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: “幸运的是，我们成功了，”梅维斯回答道。“在那次迭代中，我们检查了每一个距离一步、两步、三步的地方。那时，军需官，那个完全不需要无咖啡因咖啡的人，已经将咖啡渣重复使用了第十次，但大副已经在唱‘甲板上的海蛞蝓’了。幸运的是，那是他比较愉快的曲调之一。”
- en: '![image](../images/f0123-01.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0123-01.jpg)'
- en: Frank thought about it for a moment. “What if you had skipped the repeated work?
    What if you had just used depth-first search?”
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克想了想。“如果你跳过了重复的工作怎么办？如果你直接用了深度优先搜索呢？”
- en: “We would have gone down a long dead end and run out of coffee,” she replied.
    “Didn’t I start by telling you it saved my life?”
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: “我们本来会走进一条漫长的死胡同，然后咖啡也没了，”她回答道。“我不是一开始就告诉你，它救了我的命吗？”
- en: “Fair enough. But that’s a matter of luck. The nearest supply station could
    have been down a depth-first search of length five.”
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: “公平。但是那是运气问题。最近的补给站可能需要进行一次深度优先搜索，深度为五。”
- en: “Ha! You know better than that, Frank. You can always find lucky or unlucky
    problems. Iterative deepening can help you hedge against really unlucky cases.
    It bounds how far you away you can go on any iteration.”
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: “哈！弗兰克，你比这更聪明。总是能遇到幸运或不幸运的问题。迭代加深可以帮助你规避那些极不幸运的情况。它限定了你在每次迭代中能走多远。”
- en: “Other algorithms do that too,” he countered.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: “其他算法也能做到这一点，”他反驳道。
- en: Mavis scowled. “I didn’t say iterative deepening was the *only* algorithm that
    could have saved us. I said it was the one we used. And I have used it ever since.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯皱了皱眉。“我可没说迭代加深是*唯一*能救我们的算法。我只是说这是我们用的那个。而且我从那以后一直在用它。”
- en: “Once I even used it to track down an angry shoal of squid before they inked
    the capital’s harbor. Oh, it would have been a grand mess. Some days I wonder
    if I should have just let them do it. The king’s reaction would have been priceless.”
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: “有一次我甚至用了它来追踪一群愤怒的鱿鱼，避免它们在首都港口喷墨。哦，那简直会是场大麻烦。有时候我在想，我是不是应该就让它们这么做。国王的反应一定非常精彩。”
- en: Frank thought for a long while, wondering if iterative deepening could have
    saved him time here. By cutting off the search sooner, he could have backtracked
    and followed up on the threads or the mysterious league. But then he wouldn’t
    have been following the highest-priority lead.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 弗兰克沉思了很久，想知道迭代加深是否能在这里为他节省时间。如果早点结束搜索，他本可以回溯并追踪那些线索或神秘的联盟。但那样他就不会跟随最高优先级的线索了。
- en: He shook his head. “I’ll stick with my usual searches,” he said finally.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 他摇了摇头。“我还是坚持用我平常的搜索方式，”他说道，最后决定。
- en: Mavis nodded solemnly and looked out over the ocean. “Fair enough. But be careful,
    Frank. You don’t have much time and long dead ends can be costly. With any algorithm,
    you should at least think about how to protect yourself from running into the
    worst-case problems.”
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 梅维斯庄重地点了点头，望着大海。“公平。但是小心，弗兰克。你时间不多，长时间的死胡同会很昂贵。使用任何算法时，至少应该考虑如何保护自己，避免碰上最坏的情况。”
- en: '**POLICE ALGORITHMS 101: ITERATIVE DEEPENING**'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**警察算法 101：迭代加深**'
- en: '***Excerpt from Professor Drecker’s Lecture***'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '***德雷克教授讲座摘录***'
- en: Iterative deepening is a modification of depth-first search that repeatedly
    performs limited depth-first searches. During iteration (or round) *k* of iterative
    deepening, the algorithm performs a depth-limited search with *max-depth = k*.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 迭代加深是深度优先搜索的一种改进方法，它反复执行有限深度的深度优先搜索。在迭代（或轮次）*k*期间，算法执行一个深度限制为*k*的搜索。
- en: Consider again the example of searching for a suspect starting from city A.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 再考虑一下从城市 A 开始寻找嫌疑人的例子。
- en: '![image](../images/f0125-01.jpg)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0125-01.jpg)'
- en: We start with a depth-first search but cut it off after the first node, A. This
    corresponds to limiting ourselves to searching just the scene of the crime.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从深度优先搜索开始，但在第一个节点 A 之后就结束了搜索。这相当于将我们自己限制在只搜索犯罪现场。
- en: '![image](../images/f0125-02.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0125-02.jpg)'
- en: The next iteration restarts the depth-first search but allows it to explore
    one city away. We cover the close cities, visiting A, B, and D.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 下一次迭代重新开始深度优先搜索，但允许它探索一座城市的距离。我们覆盖了附近的城市，访问了 A、B 和 D。
- en: '![image](../images/f0126-01.jpg)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0126-01.jpg)'
- en: As the search progresses, we have to go farther and farther from the scene of
    the crime. We end up searching the nearby cities multiple times on different iterations
    of our search. In fact, we search A four times and B three times.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 随着搜索的进行，我们不得不离犯罪现场越来越远。我们最终会在不同的搜索迭代中多次搜索附近的城市。事实上，我们搜索了A四次，B三次。
- en: '![image](../images/f0126-02.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/f0126-02.jpg)'
- en: While the repeated work increases computational cost, iterative deepening has
    advantages. It combines the lower memory requirements of depth-first search with
    the abilities of breadth-first search to find short paths and avoid getting stuck
    on some worst-case problems.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然重复的工作增加了计算成本，但迭代加深法有其优点。它结合了深度优先搜索较低的内存需求和广度优先搜索在寻找短路径及避免陷入最坏情况问题上的能力。
