- en: Chapter 13. Lighting
  id: totrans-0
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 第13章. 照明
- en: Lighting is perhaps the aspect of an image that most impacts how we perceive
    it. Lighting can change the tone of an image and make characters and scenery look
    either dark and sinister or warm and inviting. In this chapter, I’ll work on lighting
    the projects I’ve built so far using a variety of techniques, including both Blender
    Internal’s array of lighting options and Cycles’ more physically accurate methods
    for creating different kinds of lights.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 照明可能是影响我们如何感知图像的最重要因素。照明可以改变图像的基调，使人物和场景看起来既可以是阴暗和险恶的，也可以是温暖和诱人的。在本章中，我将使用各种技术为我到目前为止创建的项目添加照明，包括Blender
    Internal的一系列照明选项和Cycles更物理准确的光源创建方法。
- en: Blender Internal vs. Cycles Lighting
  id: totrans-2
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Blender Internal与Cycles照明的比较
- en: Both Blender Internal and Cycles have a wide variety of powerful tools for lighting.
    Blender Internal supports a range of lights that behave in different ways, as
    well as two methods for rendering shadows—using either shadow buffers or ray tracing—both
    of which will be discussed shortly.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Blender Internal和Cycles都拥有多种强大的照明工具。Blender Internal支持多种不同表现方式的灯光，并提供两种渲染阴影的方法——使用阴影缓冲区或光线追踪——这两种方法稍后会讨论。
- en: Cycles uses only ray tracing for lighting, and its results are more realistic
    than those of Blender Internal. It also supports the emission of light from meshes,
    allowing you to create lights of any shape. But while Cycles is the more realistic
    lighting renderer, neither Cycles nor Blender Internal is the right choice for
    everything, and both have advantages. For example, Blender Internal’s lights are
    quick to render and offer a wide variety of uses and styles, while Cycles offers
    a reliable and realistic way of working with lights that doesn’t require much
    tweaking to produce good results. We’ll use both renderers in this chapter as
    we light the Bat Creature for rendering in Blender Internal and the Spider Bot
    and Jungle Temple for rendering in Cycles.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Cycles仅使用光线追踪进行照明，它的效果比Blender Internal更真实。它还支持从网格中发光，允许你创建任何形状的光源。但是，虽然Cycles是更真实的照明渲染器，但Cycles和Blender
    Internal并不适合所有情况，两者各有优缺点。例如，Blender Internal的灯光渲染速度快，使用广泛且风格多样，而Cycles提供了一种可靠且真实的光照方式，不需要大量调试就能获得好的效果。在本章中，我们将使用两种渲染器，在Blender
    Internal中为蝙蝠生物进行渲染，并在Cycles中为蜘蛛机器人和丛林神庙进行渲染。
- en: Lighting in Blender Internal
  id: totrans-5
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Blender Internal中的照明
- en: 'Blender Internal uses Blender’s lamp objects to light a scene. To create a
    lamp, press SHIFT-A in Object mode and choose one of the following under Lamp:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: Blender Internal使用Blender的灯光对象来照亮场景。要创建灯光，请在对象模式下按SHIFT-A，然后在Lamp下选择以下之一：
- en: '****Area****. This creates a square- or rectangular-shaped lamp that emits
    light from all over its area. Area lamps support ray-traced shadows and are well
    suited for creating soft shadows and studiostyle lighting, but they can slow render
    time significantly because they require more samples than other lamp types to
    produce noise-free results.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '****面积灯****。这会创建一个方形或矩形的灯光，从其整个区域发出光线。面积灯支持光线追踪阴影，适合创建柔和的阴影和工作室风格的照明，但由于它们需要更多的样本来生成无噪点的结果，因此可能会显著增加渲染时间。'
- en: '****Hemi****. This lamp lights the entire scene in a diffuse way, similar to
    outdoor light from the sky. Because it doesn’t support shadows, it’s very quick
    to render but of limited use.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '****半球灯****。这种灯光以漫射的方式照亮整个场景，类似于天空中的户外光。由于它不支持阴影，因此渲染非常快速，但用途有限。'
- en: '****Point****. This creates a point light, which emits light in all directions
    from the lamp’s center. It supports ray-traced shadows and is a good general purpose
    lamp.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '****点光源****。这会创建一个点光源，从灯光中心向各个方向发出光线。它支持光线追踪阴影，是一个良好的通用灯光。'
- en: '****Spot****. Spot lamps are like a spotlight at a theater or a flashlight.
    They emit light in a cone from their origin, making them a good tool for lighting
    specific areas. They support both ray-traced shadows and shadow buffers. Shadow
    buffers produce shadows without ray tracing and are generally significantly faster
    to render. This makes them very versatile and useful for scenes that need a high
    degree of control over lighting.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '****聚光灯****。聚光灯就像剧院中的聚光灯或手电筒。它们从原点以锥形发出光线，是照亮特定区域的好工具。它们支持光线追踪阴影和阴影缓冲区。阴影缓冲区在不进行光线追踪的情况下生成阴影，通常渲染速度比光线追踪快得多。这使得它们非常多功能，适用于需要高度控制照明的场景。'
- en: '****Sun****. This lamp lights an entire scene from one direction, just as the
    sun might. It supports ray-traced shadows.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '****太阳****。此光源从一个方向照亮整个场景，就像太阳一样。它支持光线追踪阴影。'
- en: The settings for each lamp can be altered from the Object Data tab of the Properties
    editor, which has a lamp icon when a lamp is selected as the active object. You
    can adjust a lamp’s brightness and *falloff*—the distance over which the strength
    of its light fades—as well as the settings for shadows, colors, and so forth.
    While different lamps—particularly spot lamps—have certain unique features, they
    generally share the same settings. The settings for a point lamp are shown in
    [Figure 13-1](ch13.html#settings_for_a_point_lamp "Figure 13-1. The settings for
    a point lamp") and discussed below.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 每个灯光的设置可以从属性编辑器的对象数据选项卡中进行更改，当灯光被选为活动对象时，该选项卡会显示一个灯光图标。您可以调整灯光的亮度和*衰减*——即光线强度衰减的距离——以及阴影、颜色等设置。尽管不同的灯光——特别是聚光灯——有一些独特的功能，但它们通常共享相同的设置。点光源的设置如[图
    13-1](ch13.html#settings_for_a_point_lamp "图 13-1. 点光源的设置")所示，并在下文中进行讨论。
- en: '****Light Color****. This color picker lets you choose the color of your light.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '****光源颜色****。该颜色选择器允许您选择光源的颜色。'
- en: '****Energy****. This determines the overall intensity of your light.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '****能量****。此选项确定光源的整体强度。'
- en: '****Falloff****. Available only for point and spot lamps, this controls the
    distance and curve over which the strength of the light fades. The drop-down menu
    lets you specify the falloff curve for the fade (choose Inverse Square for realistic
    falloff and experiment with the others). *Distance* lets you specify the overall
    distance for the fade—the higher the setting, the farther the light will spread.
    The *Sphere* setting causes the intensity of the light to fade to zero over the
    determined distance rather than tapering off indefinitely.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '****衰减****。仅适用于点光源和聚光灯，此选项控制光线强度衰减的距离和曲线。下拉菜单允许您为衰减选择衰减曲线（选择反平方以获得逼真的衰减效果，并尝试其他选项）。*距离*让您指定衰减的总体距离——设置越高，光源的扩散越远。*球形*设置使光线强度在确定的距离内逐渐衰减至零，而不是无限期地减弱。'
- en: '![The settings for a point lamp](httpatomoreillycomsourcenostarchimages1538804.png.jpg)Figure 13-1. The
    settings for a point lamp'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '![点光源的设置](httpatomoreillycomsourcenostarchimages1538804.png.jpg)图 13-1. 点光源的设置'
- en: '****Negative****. This turns the light into an *“anti” lamp* that removes light
    from the scene instead of adding it. This setting can be useful for creating dark
    corners or hiding areas of a scene in shadow.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '****负值****。这将光源转变为*“反向”灯*，从场景中去除光线，而不是增加光线。此设置对于创建暗角或隐藏场景中的阴影区域非常有用。'
- en: '****This Layer Only****. This causes lights to illuminate only objects on their
    same layer. This setting can be useful for lighting individual objects.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '****仅此层****。此选项使光源只照亮同一层上的物体。此设置对于单独照亮某些物体非常有用。'
- en: '****Specular/Diffuse****. These settings let you control whether a light will
    contribute to specular and diffuse reflections. It can be handy to turn off a
    lamp’s specular reflections in order to add soft illumination to an area without
    creating highlights. By turning off diffuse reflections, you can position a light
    to place highlights precisely without changing the overall diffuse lighting.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '****镜面反射/漫反射****。这些设置让您控制光源是否对镜面反射和漫反射产生影响。关闭灯光的镜面反射可以将柔和的照明添加到一个区域，而不会产生高光。通过关闭漫反射，您可以将光源精确定位，确保高光的效果而不改变整体的漫反射照明。'
- en: Shadows in Blender Internal
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Blender 内部的阴影
- en: 'Blender offers two ways to render shadows: ray tracing and shadow buffers.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: Blender 提供两种渲染阴影的方式：光线追踪和阴影缓存。
- en: Ray Tracing
  id: totrans-22
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 光线追踪
- en: 'The first method uses ray tracing to determine the parts of a mesh in shadow.
    Ray tracing “fires” rays out from the camera for each pixel in an image and draws
    them to the surface the pixel is facing. Further rays are drawn to the lights
    in the scene to determine whether that point is in light or shadow: If a ray can
    be drawn to the light without intersecting another object, the point is lit; otherwise,
    it is in shadow.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 第一种方法使用光线追踪来确定网格中处于阴影中的部分。光线追踪“发射”射线从相机出发，针对图像中的每个像素并将其绘制到像素面对的表面。进一步的射线会绘制到场景中的光源，以确定该点是处于光照中还是阴影中：如果射线可以直接到达光源而不与其他物体相交，则该点被照亮；否则，它处于阴影中。
- en: When there are multiple lights or soft shadows, multiple rays must be cast per
    pixel, increasing render times. The same goes for ray-traced reflections and transparency,
    where rays may be reflected or refracted multiple times. Ray tracing can produce
    crisp, pixel-perfect shadows as well as soft shadows, and it’s more accurate but
    generally slower than shadow buffers.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 当存在多个光源或软阴影时，每个像素必须投射多个光线，从而增加渲染时间。光线追踪反射和透明度也是如此，其中光线可能会被反射或折射多次。光线追踪能够生成清晰的像素完美阴影以及软阴影，它比阴影缓冲更准确，但通常渲染速度较慢。
- en: Shadow Buffers
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阴影缓冲
- en: 'The other method uses shadow buffers and is only available for spot lamps.
    Shadow buffers take advantage of the spot lamp’s restricted cone of illumination
    to create a map of which areas are in shadow over the range of angles that the
    lamp covers. Essentially, Blender creates a basic render of the scene from the
    lamp’s point of view: Areas that can be seen from the lamp’s viewpoint are lit,
    while areas that cannot are in shadow.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方法是使用阴影缓冲，这仅适用于聚光灯。阴影缓冲利用聚光灯的受限光照锥来创建一个贴图，显示灯光覆盖的角度范围内哪些区域处于阴影中。实质上，Blender
    从灯光的视角生成场景的基础渲染：可以从灯光视角看到的区域被照亮，而看不见的区域则处于阴影中。
- en: Shadow-buffer shadows are generally faster to render than ray-traced ones and
    are also compatible with the strand renderer for hair. In fact, the deep shadow-buffer
    option for spot lamps is ideally suited to rendering shadows cast by hair. But
    getting accurate buffered shadows, which you do by increasing the resolution of
    the shadow-buffer map, can use a lot of memory, and the borders of low-resolution
    buffered shadows can look jagged (see [Figure 13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "Figure 13-2. Shadow-buffer biasing artifacts are shown here with a low shadow-buffer
    size to exaggerate the effect. Increasing the Bias value avoids these artifacts,
    but high settings can cause you to lose shadows that should be there.")), so be
    sure to set them up correctly.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 阴影缓冲阴影通常比光线追踪阴影渲染更快，而且与毛发的 strand 渲染器兼容。实际上，聚光灯的深度阴影缓冲选项非常适合渲染毛发投射的阴影。但要获得准确的缓冲阴影，通常需要通过提高阴影缓冲贴图的分辨率来实现，这会占用大量内存，且低分辨率的缓冲阴影边缘可能会显得锯齿状（参见[图13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "图13-2. 显示了低阴影缓冲大小的阴影缓冲偏差伪影，以夸大效果。增大偏差值可以避免这些伪影，但高设置可能导致丧失应有的阴影。")），因此一定要正确设置它们。
- en: Common Shadow Options
  id: totrans-28
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 常见的阴影选项
- en: In the Shadow panel of the lamp settings, the following options are common to
    both ray-traced and buffer shadows.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 在灯光设置的阴影面板中，以下选项适用于光线追踪阴影和缓冲阴影。
- en: '****Shadow Color****. This option lets you set a color for the shadow. Of course,
    in reality, shadows have no color, so this is actually a trick designed to help
    change the aesthetic of your lighting. Leave it set to *Black* for normal (uncolored)
    shadows.'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: '****阴影颜色****。 该选项允许你为阴影设置颜色。当然，实际上阴影是没有颜色的，因此这实际上是一种技巧，旨在帮助改变照明的美学。将其设置为*黑色*即可获得正常（无色）阴影。'
- en: '****This Layer Only****. This causes only objects on the same layer as the
    lamp to cast shadows, though objects on any layer may be lit by the lamp as long
    as the corresponding option isn’t turned on in the Lamp panel.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: '****仅此图层****。 这会使得只有与灯光在同一图层的物体才会投射阴影，尽管任何图层上的物体都可以被灯光照亮，只要在灯光面板中没有启用相应的选项。'
- en: '****Only Shadow****. This causes the lamp to cast only shadows, meaning that
    you will need other lights in your scene to light your objects. This option can
    be used to create a shadow in a specific place without affecting the overall look
    of your lighting.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '****仅阴影****。 这会使灯光仅投射阴影，意味着你需要其他光源来照亮场景中的物体。此选项可用于在特定位置创建阴影，而不影响整体的光照效果。'
- en: Ray-Traced Shadow Options
  id: totrans-33
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 光线追踪阴影选项
- en: 'Enabling Ray Shadow for a lamp gives the following options:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 启用灯光的光线阴影选项时，会出现以下选项：
- en: '****Samples****. This determines the number of samples taken per pixel for
    soft shadows in order to determine the amount of shadowing. Higher sample numbers
    give less noisy results. Setting Samples to 1 gives hard-edged shadows regardless
    of the Soft Size setting.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '****采样数****。 这决定了每个像素用于软阴影的采样数量，以确定阴影的强度。较高的采样数会产生更少噪声的结果。将采样数设置为1时，无论软阴影大小如何，阴影的边缘都会是硬的。'
- en: '****Soft Size****. This setting is designed to produce soft shadows by spreading
    out the area the light comes from. The larger the soft size, the softer and less
    defined shadows become. Larger sizes require higher numbers of samples to produce
    noise-free results.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '****软尺寸****。此设置旨在通过扩展光源的面积来生成柔和的阴影。软尺寸越大，阴影就越柔和，轮廓也越不清晰。较大的尺寸需要更高的样本数量才能产生无噪声的结果。'
- en: '****Adaptive/Constant QMC****. This sets the sampling method used to determine
    whether a point on a surface is in shadow. For *Constant QMC*, the number of samples
    taken is always that specified by the Samples setting. For *Adaptive QMC*, fewer
    samples may be taken for areas that are obviously either in or out of shadow.
    The *threshold* value dictates the level of certainty required to determine how
    many samples are needed: Higher threshold values are more tolerant and faster,
    but they can produce noisier results.'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '****自适应/常量 QMC****。此设置用于确定一个表面上的点是否处于阴影中。对于*常量 QMC*，采样的数量始终是由样本设置指定的数量。对于*自适应
    QMC*，对于明显处于阴影中或不在阴影中的区域，可能会采取更少的样本。*阈值*值决定了确定需要多少样本的确定性要求：较高的阈值更宽容且速度更快，但可能产生更嘈杂的结果。'
- en: Shadow-Buffer Options
  id: totrans-38
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 阴影缓冲区选项
- en: 'Opting for shadow-buffer shadows for spot lamps gives the following options:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 为聚光灯选择阴影缓冲区阴影时，会出现以下选项：
- en: '****Buffer Type (Classical/Classic-Halfway/Irregular/Deep)****. The specifics
    of these types are quite technical (you can find the details with a bit of googling),
    but the differences are really pretty straightforward.'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '****缓冲区类型（经典/经典-半途/不规则/深度）****。这些类型的具体技术细节相当复杂（你可以通过一些谷歌搜索找到详细信息），但它们之间的区别其实非常简单明了。'
- en: '****Classical****. These buffers are the simplest and can suffer from biasing
    artifacts (see [Figure 13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "Figure 13-2. Shadow-buffer biasing artifacts are shown here with a low shadow-buffer
    size to exaggerate the effect. Increasing the Bias value avoids these artifacts,
    but high settings can cause you to lose shadows that should be there.")).'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****经典****。这些缓冲区是最简单的，可能会受到偏差伪影的影响（请参见[图 13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "图13-2展示了低阴影缓冲区大小下的阴影缓冲区偏差伪影，以夸大效果。增加偏差值可以避免这些伪影，但较高的设置可能会导致丢失应有的阴影。")）。'
- en: '****Classical-Halfway****. These buffers improve on Classical and suffer less
    from biasing artifacts.'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****经典-半途****。这些缓冲区在经典阴影缓冲区的基础上进行了改进，减少了偏差伪影的出现。'
- en: '****Irregular****. These shadow buffers always produce crisp, clean shadows
    with no aliasing, but they can’t be used to produce soft shadows, and the shadows
    they create don’t show up in ray-traced reflections.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****不规则****。这些阴影缓冲区始终产生清晰、干净的阴影且没有锯齿，但不能用来生成柔和的阴影，而且它们创建的阴影不会出现在光线追踪反射中。'
- en: '****Deep****. These shadow buffers are the most advanced and can store transparency
    information, allowing for partial shadowing from transparent objects. They are
    ideal for rendering shadows from materials like hair and fur, as well as volumetric
    materials.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '****深度****。这些阴影缓冲区是最先进的，可以存储透明度信息，从而实现透明物体的部分阴影效果。它们非常适合渲染头发、毛发等材料的阴影，以及体积材质的阴影。'
- en: '****Filter Type****. The filter type used to blend shadow borders. *Gauss*
    gives the smoothest results.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: '****滤镜类型****。用于混合阴影边缘的滤镜类型。*高斯*滤镜提供最平滑的效果。'
- en: '****Soft****. This sets the softness of your shadows in terms of the size of
    the lamp used to cast shadows. Larger values give softer shadows but require more
    samples.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '****柔和****。此设置根据用于投射阴影的灯具的大小来调整阴影的柔和度。较大的数值会产生更柔和的阴影，但需要更多的样本。'
- en: '****Bias****. This adjusts how the shadow buffer is calculated. It’s used to
    prevent artifacts that are caused by faces at a low angle to the lamp casting
    shadows on themselves (see [Figure 13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "Figure 13-2. Shadow-buffer biasing artifacts are shown here with a low shadow-buffer
    size to exaggerate the effect. Increasing the Bias value avoids these artifacts,
    but high settings can cause you to lose shadows that should be there.")). Higher
    values reduce bias artifacts but can cause some parts of a mesh not to cast shadows
    where they should, so set this as low as you can without introducing artifacts.'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: '****偏置****。此项调整阴影缓冲区的计算方式。它用于防止由于灯光与物体表面夹角较低而导致的阴影伪影（见[图13-2](ch13.html#shadow-buffer_biasing_artifacts_are_show
    "图13-2。这里展示了低阴影缓冲区大小下的阴影缓冲偏置伪影，以夸大效果。增加偏置值可以避免这些伪影，但过高的设置可能会导致一些应有阴影的丢失。")）。更高的值可以减少偏置伪影，但也可能导致网格的某些部分无法投射应有的阴影，因此在不引入伪影的情况下应尽量将此值设置为最低。'
- en: '****Sample Buffers****. This determines the number of shadow buffers that are
    rendered. Higher values give better anti-aliasing of hard-edged shadows, but more
    buffers use more memory, so tread carefully.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '****采样缓冲区****。此项决定渲染的阴影缓冲区数量。较高的值能够提供更好的硬边阴影的抗锯齿效果，但更多的缓冲区会占用更多内存，因此使用时需要谨慎。'
- en: '****Size****. This sets the resolution of the shadow-buffer map (see [Figure 13-3](ch13.html#shadow-buffer_size_setting_affects_the_d
    "Figure 13-3. The shadow-buffer Size setting affects the definition of shadows
    and reduces aliasing of shadow borders. Here, some very overstretched shadow buffers
    are shown in increasing resolutions.")). The higher the value, the greater the
    detail that can be captured in the map and the more memory required for rendering.
    If you want soft shadows, you won’t be able to see that much detail in them anyway,
    so use high resolutions only for harder shadows.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '****大小****。此项设置阴影缓冲区贴图的分辨率（见[图13-3](ch13.html#shadow-buffer_size_setting_affects_the_d
    "图13-3。阴影缓冲区大小设置影响阴影的定义，并减少阴影边缘的锯齿。此处展示了分辨率逐渐增加的过度拉伸阴影缓冲区。")）。数值越高，贴图中能够捕捉到的细节越多，渲染所需的内存也越多。如果你想要柔和的阴影，实际上你不会在阴影中看到太多细节，因此高分辨率仅用于需要更硬阴影的场景。'
- en: '****Clip Start/End****. These settings define the range of distances over which
    objects will cast shadows in the shadow buffer. Objects outside this range will
    still be lit by the spot lamp but will not cast shadows. The extent of this range
    is displayed in the 3D Viewport as a solid line extending outward from the lamp’s
    center between the clip-start and clip-end distances (see [Figure 13-4](ch13.html#spot_lamp_in_the_3d_viewport_showing_the
    "Figure 13-4. A spot lamp in the 3D Viewport showing the clipping range")).'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '****裁剪开始/结束****。这些设置定义了阴影缓冲区中对象投射阴影的距离范围。超出此范围的物体仍会被聚光灯照亮，但不会投射阴影。这个范围的大小在3D视口中以从灯光中心向外延伸的实线显示，介于裁剪开始和裁剪结束距离之间（见[图13-4](ch13.html#spot_lamp_in_the_3d_viewport_showing_the
    "图13-4。3D视口中的聚光灯，显示裁剪范围"))。'
- en: '![Shadow-buffer biasing artifacts are shown here with a low shadow-buffer size
    to exaggerate the effect. Increasing the Bias value avoids these artifacts, but
    high settings can cause you to lose shadows that should be there.](httpatomoreillycomsourcenostarchimages1538806.png.jpg)Figure 13-2. Shadow-buffer
    biasing artifacts are shown here with a low shadow-buffer size to exaggerate the
    effect. Increasing the Bias value avoids these artifacts, but high settings can
    cause you to lose shadows that should be there.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '![这里展示了低阴影缓冲区大小下的阴影缓冲偏置伪影，以夸大效果。增加偏置值可以避免这些伪影，但过高的设置可能会导致一些应有阴影的丢失。](httpatomoreillycomsourcenostarchimages1538806.png.jpg)图13-2。这里展示了低阴影缓冲区大小下的阴影缓冲偏置伪影，以夸大效果。增加偏置值可以避免这些伪影，但过高的设置可能会导致一些应有阴影的丢失。'
- en: '****Autoclip Start/End****. Turning on these options leaves it to Blender to
    set the clip-start and clip-end distances automatically based on the vertices
    visible from the point of view of the lamp.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '****自动裁剪开始/结束****。启用这些选项后，由Blender自动根据灯光视角下可见的顶点来设置裁剪开始和结束距离。'
- en: Lighting in Cycles
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Cycles中的照明
- en: In Cycles, lighting is broadly similar to that of Blender Internal but with
    fewer options. Setting up lighting in Cycles is easier because you get instant
    feedback from the render preview. Lights in Cycles are node based and consist
    of shaders, just as with materials. In fact, Cycles allows you to incorporate
    the emission of light into materials *and* lamp objects. We’ll discuss both here.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在Cycles中，光照设置与Blender Internal非常相似，但选项较少。在Cycles中设置光照更为简便，因为你可以立即通过渲染预览获取反馈。Cycles中的光源基于节点，并由着色器构成，和材质一样。事实上，Cycles允许你将光的发射整合到材质*和*灯光物体中。我们将在此讨论这两者。
- en: '![The shadow-buffer Size setting affects the definition of shadows and reduces
    aliasing of shadow borders. Here, some very overstretched shadow buffers are shown
    in increasing resolutions.](httpatomoreillycomsourcenostarchimages1538808.png.jpg)Figure 13-3. The
    shadow-buffer Size setting affects the definition of shadows and reduces aliasing
    of shadow borders. Here, some very overstretched shadow buffers are shown in increasing
    resolutions.![A spot lamp in the 3D Viewport showing the clipping range](httpatomoreillycomsourcenostarchimages1538810.png.jpg)Figure 13-4. A
    spot lamp in the 3D Viewport showing the clipping range'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '![阴影缓冲区大小设置会影响阴影的定义，并减少阴影边缘的锯齿。在这里，展示了在逐渐增加的分辨率下，部分过度拉伸的阴影缓冲区。](httpatomoreillycomsourcenostarchimages1538808.png.jpg)图13-3。阴影缓冲区大小设置会影响阴影的定义，并减少阴影边缘的锯齿。在这里，展示了在逐渐增加的分辨率下，部分过度拉伸的阴影缓冲区。![3D视图中的聚光灯，显示裁剪范围](httpatomoreillycomsourcenostarchimages1538810.png.jpg)图13-4。3D视图中的聚光灯，显示裁剪范围'
- en: Lamp Objects in Cycles
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cycles中的灯光物体
- en: Cycles supports most of the same lamp types as Blender Internal, except for
    Hemi lamps. Adding a new lamp object in Cycles adds a standard emission shader
    connected to the lamp’s output node, as shown in [Figure 13-5](ch13.html#emission_shader_is_used_for_both_lamp_ob
    "Figure 13-5. The emission shader is used for both lamp objects and mesh-emitter
    objects in Cycles."). This shader can be used to adjust the intensity and color
    of the light. To adjust the softness of the shadows the lamp generates, use the
    lamp’s Size setting in the Object Data tab of the Properties editor.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: Cycles支持大多数与Blender Internal相同的灯光类型，除了Hemi灯光。在Cycles中添加新的灯光物体时，会自动为灯光的输出节点添加一个标准的发射着色器，如[图13-5](ch13.html#emission_shader_is_used_for_both_lamp_ob
    "图13-5。发射着色器在Cycles中同时用于灯光物体和网格发射物体。")所示。这个着色器可用于调整光照的强度和颜色。要调整灯光生成的阴影的柔和度，请使用灯光的“大小”设置，该设置位于属性编辑器的对象数据标签中。
- en: Note
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*Avoid setting the size of a lamp to 0, as this can cause “fireflies”—a kind
    of noise consisting of single bright pixels. If you want sharp shadows, just set
    the size to something very small but not 0.*'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '*避免将灯光的大小设置为0，因为这会导致“萤火虫”现象——一种由单个亮点像素组成的噪声。如果你需要锐利的阴影，只需将大小设置为非常小的值，但不要设置为0。*'
- en: '![The emission shader is used for both lamp objects and mesh-emitter objects
    in Cycles.](httpatomoreillycomsourcenostarchimages1538812.png.jpg)Figure 13-5. The
    emission shader is used for both lamp objects and mesh-emitter objects in Cycles.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '![发射着色器在Cycles中同时用于灯光物体和网格发射物体。](httpatomoreillycomsourcenostarchimages1538812.png.jpg)图13-5。发射着色器在Cycles中同时用于灯光物体和网格发射物体。'
- en: Mesh-Emitter Objects in Cycles
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cycles中的网格发射物体
- en: Cycles supports the emission of light from materials, meaning that you can turn
    any mesh into a light by applying a material that contains an emission shader.
    This feature is great for creating unique lighting setups and for lights that
    appear in glossy reflections. (We’ll look deeper into this when lighting the Spider
    Bot.) In the case of mesh emitters, you can combine emission shaders with other
    shaders using the Add and Mix nodes (as discussed in [Chapter 12](ch12.html "Chapter 12. Materials")).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: Cycles支持材质的光照发射，这意味着你可以通过应用包含发射着色器的材质，将任何网格变成光源。这个功能非常适合创建独特的光照设置以及在光泽反射中出现的光源。（我们将在为蜘蛛机器人设置光照时深入探讨这个功能。）对于网格发射器，你可以将发射着色器与其他着色器结合使用，通过Add和Mix节点（如[第12章](ch12.html
    "第12章 材质")所讨论）来实现。
- en: World Settings and Ambient Light and Occlusion
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 世界设置和环境光与遮挡
- en: In [Chapter 10](ch10.html "Chapter 10. Texture Baking"), we baked ambient occlusion
    maps for our projects. Ambient occlusion maps are textures that mimic the effect
    of light coming from all around an object that is occluded, or blocked, by parts
    of the object itself. This effect is similar to what we see in the sky on a sunny
    day. The main source of light is the sun, but light also scatters throughout the
    atmosphere so that it comes from all directions and even illuminates the shadows.
    (This effect is even more apparent on an overcast day when the lack of direct
    sunlight means things are lit more evenly from all directions.)
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第10章](ch10.html "第10章. 纹理烘焙")中，我们为项目烘焙了环境光遮蔽贴图。环境光遮蔽贴图是一种模拟光线从物体周围各个方向照射并被物体本身遮挡的效果的纹理。这种效果类似于我们在阳光明媚的日子里看到的天空效果。主要光源是太阳，但光线也会在大气中散射，使其从各个方向照射，甚至照亮阴影。（这种效果在阴天尤为明显，因为缺乏直射阳光，物体的光照更均匀地来自各个方向。）
- en: To achieve the effect of light coming from a scene’s surroundings, we can use
    Blender’s World settings, accessible from the World tab of the Properties editor.
    These settings determine the look of your scene’s background and how the background
    contributes to the scene’s lighting. Both Blender Internal and Cycles support
    world lighting, though in slightly different ways.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现从场景周围环境中照射的光线效果，我们可以使用Blender的世界设置，这些设置可以通过属性编辑器的“世界”标签访问。此设置决定了场景背景的外观以及背景如何影响场景的照明效果。Blender
    Internal和Cycles都支持世界光照，尽管方式略有不同。
- en: World Settings in Blender Internal
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Blender Internal中的世界设置
- en: 'Blender Internal’s World settings are shown in [Figure 13-6](ch13.html#blender_internalapostrophes_world_settin
    "Figure 13-6. Blender Internal’s World settings"). The most important ones are
    as follows:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: Blender Internal的世界设置如[图13-6](ch13.html#blender_internalapostrophes_world_settin
    "图13-6. Blender Internal的世界设置")所示。最重要的设置如下：
- en: '****Horizon Color/Zenith Color/Ambient Color****. By default, the sky in a
    scene will simply be the *Horizon Color*. The *Zenith Color* is used when Blend
    Sky is turned on, rendering the background as a gradient from the horizon color
    to the zenith color. The *Ambient Color* is a fixed color that is added to the
    lighting of every surface in the scene, brightening the shadows, but the effect
    is very unrealistic, so it’s best to leave this set to black.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '****地平线颜色/天顶颜色/环境光颜色****。默认情况下，场景中的天空将简单地是*地平线颜色*。当开启Blend Sky时，将使用*天顶颜色*，渲染出从地平线颜色到天顶颜色的渐变背景。*环境光颜色*是一个固定颜色，它被添加到场景中每个表面的照明中，亮化阴影，但这种效果非常不真实，因此最好将其设置为黑色。'
- en: '****Paper Sky/Real Sky****. *Paper Sky* applies any texture or blend applied
    to the background to the camera coordinates. This can be useful when you have
    a background photo or image that you want to use as is, without distortion. *Real
    Sky* creates a background with a real horizon in the plane of the scene’s global
    coordinates so that any textures remain static as the camera is rotated and any
    blend in the sky occurs from the “real” horizon upward (and downward). Real Sky
    is useful when panoramic or mirror-ball textures are used as backgrounds.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '****纸天/真实天****。*纸天*将应用于背景的任何纹理或混合模式应用到相机坐标上。当你有一张背景照片或图像想要保持原样不失真的时候，这会非常有用。*真实天*则在场景的全局坐标平面中创建一个带有真实地平线的背景，使得任何纹理在旋转相机时保持静止，天空中的任何混合效果都发生在“真实”的地平线以上（以及以下）。当使用全景或镜面球纹理作为背景时，真实天非常有用。'
- en: '![Blender Internal’s World settings](httpatomoreillycomsourcenostarchimages1538814.png.jpg)Figure 13-6. Blender
    Internal’s World settings'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '![Blender Internal的世界设置](httpatomoreillycomsourcenostarchimages1538814.png.jpg)图13-6.
    Blender Internal的世界设置'
- en: '****Ambient Occlusion****. We encountered ambient occlusion in [Chapter 10](ch10.html
    "Chapter 10. Texture Baking"). Ambient occlusion lights or adds shadows to a surface
    based on the surrounding geometry. Areas with geometry around them that blocks
    light will be darkened, while the exposed parts of a mesh will remain well lit.
    The Ambient Occlusion option can be set to *Add* or *Multiply* with the other
    lighting in the scene. Additive ambient occlusion brightens the existing lighting,
    while Multiply adds shadows. Multiply is the more “realistic” option and is more
    suitable to most scenes. (The environment lighting settings offer better tools
    for adding further light to the scene anyway.)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '****Environment Lighting****. This adds light to a scene, coming from all directions
    (though blocked by nearby geometry, as with ambient occlusion). The Environment
    Lighting setting can be used to mimic scattered light from the sky in an outdoor
    scene or to approximate the effect of light bouncing around and illuminating a
    scene. The color of the environment lighting can be set to white, to the sky color
    (where it will use the horizon color or both the horizon and zenith colors if
    you have a blend sky), or the sky texture if you are using a background texture.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: '****Indirect Lighting****. This setting allows Blender Internal to simulate
    the effect of light bouncing repeatedly, and thus illuminating more of a scene,
    before entering the camera or eye. The result can be color bleeding, where the
    color of a brightly colored diffuse material is reflected onto nearby objects
    (as shown in [Figure 13-7](ch13.html#color_bleeding_from_indirect_lightingdot
    "Figure 13-7. Color bleeding from indirect lighting. Here, the red sphere reflects
    red light onto its surroundings. This is most visible on the gray inner sphere.
    This is a subtle effect, so indirect light alone is shown on the right. The surroundings
    also contribute indirect light, shown as grayish colors in the image on the right.")).
    The method is only compatible with the Approximate Gather method (discussed below).
    The *Factor* setting affects the strength of this effect, and the *Bounces* setting
    determines how many times light may bounce off a surface and still be rendered.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: '****Gather (Ray Trace and Approximate)****. These settings let you choose between
    Blender Internal’s two options for rendering world lighting. As with lamps, *Ray
    Trace* takes multiple ray-traced samples per pixel to determine the amount of
    world lighting. This process gives more accurate results, typically at the cost
    of extra render time and noise (if the number of samples is set too low). The
    *Approximate* setting does not require ray tracing and is noise free, but it can
    produce other artifacts, such as overocclusion in some areas. Turning up the number
    of passes and setting the error value lower gives better results but takes more
    time to preprocess when rendering. Alternatively, using the Correction parameter
    reduces the strength of the occlusion to compensate for the artifacts. When using
    the Approximate Gather method, turning on Pixel Cache generally gives much faster
    results.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: '****收集（光线追踪和近似）****。这些设置允许你在 Blender 内部的两种世界光照渲染选项之间进行选择。与灯光类似，*光线追踪*通过每个像素多次光线追踪采样来确定世界光照的强度。这个过程提供了更准确的结果，通常会增加渲染时间和噪点（如果采样次数设置得太低）。*近似*设置不需要光线追踪，并且没有噪点，但可能会产生其他伪影，例如某些区域的过度遮挡。增加渲染次数并将误差值设置得更低可以得到更好的结果，但渲染时需要更多的预处理时间。或者，使用修正参数可以减小遮挡强度，以补偿伪影。当使用近似收集方法时，开启像素缓存通常会得到更快的结果。'
- en: '****Attenuation****. The *Falloff* setting under Attenuation causes ambient
    occlusion, environment lighting, and indirect lighting to fade out over a certain
    distance, reducing the effect of far away geometry on a surface and lightening
    the surface. Falloff also speeds up rendering because calculating the lighting
    for a surface point only requires taking nearby geometry into account. The *Strength*
    setting determines how strong the attenuation is, while the *Distance* setting
    (only with the Ray-Trace Gather method) determines the range of the falloff.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '****衰减****。衰减下的*衰减值*设置使得环境光照、环境照明和间接光照在一定距离内逐渐减弱，减少远距离几何体对表面影响的程度，并使表面变亮。衰减还加速了渲染，因为计算一个表面点的光照时，只需要考虑附近的几何体。*强度*设置决定了衰减的强度，而*距离*设置（仅适用于光线追踪收集方法）决定了衰减的范围。'
- en: '![Color bleeding from indirect lighting. Here, the red sphere reflects red
    light onto its surroundings. This is most visible on the gray inner sphere. This
    is a subtle effect, so indirect light alone is shown on the right. The surroundings
    also contribute indirect light, shown as grayish colors in the image on the right.](httpatomoreillycomsourcenostarchimages1538816.png.jpg)Figure 13-7. Color
    bleeding from indirect lighting. Here, the red sphere reflects red light onto
    its surroundings. This is most visible on the gray inner sphere. This is a subtle
    effect, so indirect light alone is shown on the right. The surroundings also contribute
    indirect light, shown as grayish colors in the image on the right.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '![间接光照中的色彩溢出。这里，红色球体将红色光反射到周围环境中。这在灰色内球上最为明显。这是一个微妙的效果，因此右侧只显示了间接光照。周围环境也贡献了间接光照，如右侧图像中的灰色调显示。](httpatomoreillycomsourcenostarchimages1538816.png.jpg)图13-7.
    间接光照中的色彩溢出。这里，红色球体将红色光反射到周围环境中。这在灰色内球上最为明显。这是一个微妙的效果，因此右侧只显示了间接光照。周围环境也贡献了间接光照，如右侧图像中的灰色调显示。'
- en: World Settings in Cycles
  id: totrans-77
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Cycles中的世界设置
- en: In Cycles, World settings are node based and use the same shader system as do
    materials and lights. The World settings use the Background Shader node exclusively,
    which lights the scene and sets the background color or texture (depending on
    the inputs you supply it with) and the strength of the lighting that the background
    contributes. The standard background node tree is shown in [Figure 13-8](ch13.html#standard_node_tree_for_world_settings_in
    "Figure 13-8. The standard node tree for World settings in Cycles").
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Cycles 中，世界设置是基于节点的，并使用与材质和灯光相同的着色器系统。世界设置仅使用背景着色器节点，它为场景提供光照，并设置背景颜色或纹理（取决于你提供的输入），以及背景光照的强度。标准的背景节点树如[图13-8](ch13.html#standard_node_tree_for_world_settings_in
    "图13-8. Cycles中世界设置的标准节点树")所示。
- en: 'You can influence the color of the background as with other materials by using
    textures, images, and colors. Particularly useful for this are the Sky Texture
    and Environment Texture nodes. The Sky Texture node creates a procedural sky,
    using the direction you set by dragging the sphere input of the node, with the
    level of atmospheric scattering determined by the Turbidity setting. This effect
    works particularly well when combined with a sun lamp with a yellow-orange (sunlight)
    color to get some basic outdoor lighting (see [Figure 13-9](ch13.html#combining_the_sky_shader_for_the_backgro
    "Figure 13-9. Combining the sky shader for the background with a sun lamp gives
    a decent approximation of outdoor lighting. Left: The sky shader. Right: Illumination
    from the sky combined with a sun lamp.")).'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: '![The standard node tree for World settings in Cycles](httpatomoreillycomsourcenostarchimages1538818.png.jpg)Figure 13-8. The
    standard node tree for World settings in Cycles![Combining the sky shader for
    the background with a sun lamp gives a decent approximation of outdoor lighting.
    Left: The sky shader. Right: Illumination from the sky combined with a sun lamp.](httpatomoreillycomsourcenostarchimages1538820.png.jpg)Figure 13-9. Combining
    the sky shader for the background with a sun lamp gives a decent approximation
    of outdoor lighting. Left: The sky shader. Right: Illumination from the sky combined
    with a sun lamp.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: Cycles also supports ambient occlusion, which can be used to add white ambient
    light to a scene, with occlusion based on the distance between faces. You can
    turn this effect on in the World tab of the Properties editor by using the Ambient
    Occlusion tab.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: 'Also in the World tab under Settings is the option to sample the background
    as a lamp. Enable this when using a textured background, particularly when using
    HDRI (high-dynamic-range image) maps for background lighting to dramatically speed
    up rendering (see [Figure 13-10](ch13.html#turning_on_sample_as_lamp_for_background
    "Figure 13-10. Turning on Sample as Lamp for backgrounds with texture information
    speeds up reduction of noise while rendering. Here, an HDRI map has been used
    to light the scene. Left: Sample as Lamp turned off (30 passes). Right: Sample
    as Lamp turned on with map resolution set to 256 (again, after 30 passes).")).'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: Lighting the Bat Creature
  id: totrans-83
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For the Bat Creature, I wanted dramatic lighting to make the character look
    dangerous and foreboding. I needed some dark shadows and stark lighting that wouldn’t
    give too much away. To create this effect, I used a three-point lighting setup,
    which is commonly used to light characters and portraits. Additionally, I needed
    to set up my lights to create good shadows with the creature’s hair and to light
    the creature from behind so that light would be seen scattering through the skin
    of the wings (using the subsurface scattering material we created in [Chapter 12](ch12.html
    "Chapter 12. Materials")).
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: '![Turning on Sample as Lamp for backgrounds with texture information speeds
    up reduction of noise while rendering. Here, an HDRI map has been used to light
    the scene. Left: Sample as Lamp turned off (30 passes). Right: Sample as Lamp
    turned on with map resolution set to 256 (again, after 30 passes).](httpatomoreillycomsourcenostarchimages1538822.png.jpg)Figure 13-10. Turning
    on Sample as Lamp for backgrounds with texture information speeds up reduction
    of noise while rendering. Here, an HDRI map has been used to light the scene.
    Left: Sample as Lamp turned off (30 passes). Right: Sample as Lamp turned on with
    map resolution set to 256 (again, after 30 passes).'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '![启用“背景纹理信息”作为灯光可以加速在渲染时减少噪声的过程。在此，使用了HDRI地图来照亮场景。左图：关闭“背景纹理信息”作为灯光（30次通道）。右图：启用“背景纹理信息”作为灯光，且地图分辨率设置为256（同样是在30次通道后）。](httpatomoreillycomsourcenostarchimages1538822.png.jpg)图
    13-10. 启用“背景纹理信息”作为灯光可以加速在渲染时减少噪声的过程。在此，使用了HDRI地图来照亮场景。左图：关闭“背景纹理信息”作为灯光（30次通道）。右图：启用“背景纹理信息”作为灯光，且地图分辨率设置为256（同样是在30次通道后）。'
- en: Three-Point Lighting
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 三点式照明
- en: Three-point lighting is considered the “standard” lighting setup for a lot of
    portraiture and cinematography because the use of three lights achieves a pleasant,
    natural look that can be adapted to many circumstances with good results.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 三点式照明被认为是许多肖像和电影摄影的“标准”照明布置，因为使用三盏灯光能够获得一种宜人、自然的外观，可以适应许多不同的环境并取得良好的效果。
- en: The Key Light
  id: totrans-88
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 主光源
- en: The first of the three lights—the *key light*—is the main source of light in
    a scene and is generally placed so that it lights the subject from the side and
    slightly above to provide some interesting illumination.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 三盏光源中的第一盏——*主光源*——是场景中的主要光源，通常放置在稍微高于主体的一侧，以提供一些有趣的照明。
- en: For the Bat Creature, I added a spot lamp above and slightly to the left (from
    the camera’s perspective) of the character, as shown in [Figure 13-11](ch13.html#effect_of_the_key_light
    "Figure 13-11. The effect of the key light"). The key light would provide most
    of the illumination, so I set its intensity quite high (to about 12) and the distance
    low (around 3) so that the intensity of the light would fade relatively quickly.
    I gave the light a bluish tint, as shown in the figure.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蝙蝠生物，我在角色的上方并略微偏左（从相机的角度看）添加了一个聚光灯，如[图 13-11](ch13.html#effect_of_the_key_light
    "图 13-11. 主光源的效果")所示。主光源将提供大部分照明，因此我将其强度设置得很高（大约为12），并将距离设置得很低（大约为3），使得光的强度能够相对快速地衰减。我给光源加上了蓝色的色调，如图所示。
- en: '![The effect of the key light](httpatomoreillycomsourcenostarchimages1538824.png.jpg)Figure 13-11. The
    effect of the key light'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '![主光源的效果](httpatomoreillycomsourcenostarchimages1538824.png.jpg)图 13-11. 主光源的效果'
- en: The Fill Light
  id: totrans-92
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 辅光
- en: The next light—the *fill light*—is placed opposite the key light, usually illuminating
    the subject from the other side and generally adding some subtle light to the
    shadows cast by the key light. Because I wanted the Bat Creature to have really
    dark shadows, I set the intensity of the fill light to 0.5 and its distance to
    6\. I set its color to a reddish hue to contrast with the blue key light. The
    effect of the fill light is shown in [Figure 13-12](ch13.html#fill_light_adds_subtle_illumination_to_t
    "Figure 13-12. The fill light adds subtle illumination to the shadows.").
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个光源——*辅光*——通常放置在主光源的对面，通常从另一侧照亮主体，通常为主光源投射的阴影添加一些微妙的光线。由于我希望蝙蝠生物的阴影非常深，我将辅光的强度设置为0.5，距离设置为6。我将其颜色设置为红色调，以与蓝色的主光源形成对比。辅光的效果如[图
    13-12](ch13.html#fill_light_adds_subtle_illumination_to_t "图 13-12. 辅光为阴影增加了微妙的照明。")所示。
- en: Note
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '*While the fill light usually comes from the opposite side of a subject, I
    placed the fill light to the character’s right (camera left) because the Bat Creature’s
    left wing (camera right) shields the body.*'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '*虽然辅光通常来自主体的对面，但我将辅光放置在角色的右侧（相机的左侧），因为蝙蝠生物的左翼（相机右侧）遮挡了身体。*'
- en: The Back Light
  id: totrans-96
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 背光
- en: The back light (sometimes called a *rim light*) lights a subject from behind,
    usually adding a subtle highlight around the edges of a subject on one side. This
    light was especially important for the Bat Creature because it provided scattered
    back lighting through the wings and ears. I set its intensity high (to 10) and
    its distance to 10 to give the light enough brightness to shine through the wings
    (see [Figure 13-13](ch13.html#back_light_provides_highlights_around_th "Figure 13-13. The
    back light provides highlights around the outline of the character (that is, on
    the shoulders and the back of the head). In this case, it also scatters light
    through the wings and ears.")). Together, the key, fill, and back lights produce
    the final lighting, as shown in [Figure 13-14](ch13.html#all_three_lights_contribute_to_the_final
    "Figure 13-14. All three lights contribute to the final lighting.").
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 背光（有时也叫做*轮廓光*）是从背后照亮一个对象，通常会在对象的边缘添加微妙的高光。这种光源对蝙蝠生物尤其重要，因为它通过翅膀和耳朵散射光线。我将其强度设置为高（到10），距离设置为10，以便光线足够明亮，能够透过翅膀照射（见[图13-13](ch13.html#back_light_provides_highlights_around_th
    "图13-13。背光源在角色的轮廓周围提供高光（即在肩膀和后脑勺）。在这种情况下，它还通过翅膀和耳朵散射光线。")）。总的来说，关键光、填充光和背光共同产生了最终的照明效果，如[图13-14](ch13.html#all_three_lights_contribute_to_the_final
    "图13-14。三种光源共同作用，形成最终的照明效果。")所示。
- en: Positioning the Lights
  id: totrans-98
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 灯光定位
- en: Positioning the three lights involves thinking about what aspects of your model
    you want to light and where you want the light to come from and then exercising
    a bit of trial and error. To help with the process and to get quicker feedback
    on how your lights look (without having to render each time), use Blender’s GLSL
    shading mode to see how your lights will look in real time in the 3D Viewport
    (see [Figure 13-15](ch13.html#positioning_lights_using_glsl_shading_fo "Figure 13-15. Positioning
    lights using GLSL shading for feedback")). This works particularly well for spot
    lamps as GLSL also supports buffered shadows, meaning the GLSL preview will look
    pretty close to your final renders. Turn on this shading mode by going to the
    3D Viewport header and setting the shading to **Textured**. Then, look in the
    Properties region under Display and set the shading type to **GLSL** (press **N**
    to bring up the properties region in the 3D Viewport). You can then move your
    lights around as you please and get instant feedback on how they look.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 定位三种光源时，需要考虑你希望照亮模型的哪些部分，以及你希望光线从哪里来，然后进行一些反复试验。为了帮助这一过程，并且能更快地获得关于灯光效果的反馈（而不需要每次都渲染），可以使用Blender的GLSL着色模式来实时查看灯光在3D视图中的效果（见[图13-15](ch13.html#positioning_lights_using_glsl_shading_fo
    "图13-15。使用GLSL着色模式进行灯光位置调整反馈")）。这对于聚光灯尤其有效，因为GLSL也支持缓冲阴影，这意味着GLSL预览的效果会接近最终渲染效果。通过进入3D视图窗口顶部设置并将着色模式设置为**纹理**，可以开启此着色模式。然后，在属性区域的显示选项中，将着色类型设置为**GLSL**（按**N**键显示3D视图中的属性区域）。之后，你可以自由移动光源，并实时查看其效果。
- en: '![The fill light adds subtle illumination to the shadows.](httpatomoreillycomsourcenostarchimages1538826.png.jpg)Figure 13-12. The
    fill light adds subtle illumination to the shadows.![The back light provides highlights
    around the outline of the character (that is, on the shoulders and the back of
    the head). In this case, it also scatters light through the wings and ears.](httpatomoreillycomsourcenostarchimages1538828.png.jpg)Figure 13-13. The
    back light provides highlights around the outline of the character (that is, on
    the shoulders and the back of the head). In this case, it also scatters light
    through the wings and ears.![All three lights contribute to the final lighting.](httpatomoreillycomsourcenostarchimages1538830.png.jpg)Figure 13-14. All
    three lights contribute to the final lighting.![Positioning lights using GLSL
    shading for feedback](httpatomoreillycomsourcenostarchimages1538832.png.jpg)Figure 13-15. Positioning
    lights using GLSL shading for feedback'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '![填充光源为阴影增加了微妙的照明。](httpatomoreillycomsourcenostarchimages1538826.png.jpg)图13-12。填充光源为阴影增加了微妙的照明。![背光源在角色的轮廓周围提供高光（即在肩膀和后脑勺）。在这种情况下，它还通过翅膀和耳朵散射光线。](httpatomoreillycomsourcenostarchimages1538828.png.jpg)图13-13。背光源在角色的轮廓周围提供高光（即在肩膀和后脑勺）。在这种情况下，它还通过翅膀和耳朵散射光线。![三种光源共同作用，形成最终的照明效果。](httpatomoreillycomsourcenostarchimages1538830.png.jpg)图13-14。三种光源共同作用，形成最终的照明效果。![使用GLSL着色模式进行灯光位置调整反馈](httpatomoreillycomsourcenostarchimages1538832.png.jpg)图13-15。使用GLSL着色模式进行灯光位置调整反馈'
- en: GLSL shading supports all but area lights, though it only renders shadows for
    spot lamps with buffered shadows.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: GLSL着色支持除了面积光源外的所有光源，尽管它仅为带有缓存阴影的聚光灯渲染阴影。
- en: Clay Renders and Material Override
  id: totrans-102
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 黏土渲染和材质重载
- en: Another way to get a feel for how your lighting is working is by rendering your
    scene and applying the same material (usually a flat, diffuse one) to every object.
    Often called a *clay render*, this lets you see how the lighting is working in
    isolation and can be useful for checking whether an issue with your renders is
    due to lighting or materials.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种了解你的光照效果的方法是通过渲染场景并将相同的材质（通常是平面漫反射材质）应用于每个物体。通常称为*黏土渲染*，这可以让你看到光照在孤立情况下的表现，并且有助于检查你的渲染问题是由于光照还是材质造成的。
- en: To quickly set up a clay render, use the Material Override option in the Render
    tab of the Properties editor. Create a new, flat, gray material (just use the
    default material and turn down the specularity) and assign it to the Material
    Override option in the Layers panel to render the scene without textures and materials,
    as shown in [Figure 13-16](ch13.html#clay_render_of_the_bat_creature_using_th
    "Figure 13-16. A clay render of the Bat Creature using the Material Override setting.
    Here, I’ve created a material called Flat and assigned it to the material override
    in the Render Layers panel. This technique lets you see the lighting of your model
    in isolation."). Press F12 to render. (See [Chapter 14](ch14.html "Chapter 14. Rendering
    and Compositing") for more on rendering.)
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 要快速设置黏土渲染，可以在属性编辑器的渲染选项卡中使用材质重载选项。创建一个新的平面灰色材质（只需使用默认材质并降低高光度），并将其分配给层面板中的材质重载选项，以便在不使用纹理和材质的情况下渲染场景，如[图13-16](ch13.html#clay_render_of_the_bat_creature_using_th
    "图13-16. 使用材质重载设置的蝙蝠生物黏土渲染图")所示。按F12进行渲染。（有关渲染的更多内容，请参阅[第14章](ch14.html "第14章.
    渲染与合成")）
- en: '![A clay render of the Bat Creature using the Material Override setting. Here,
    I’ve created a material called Flat and assigned it to the material override in
    the Render Layers panel. This technique lets you see the lighting of your model
    in isolation.](httpatomoreillycomsourcenostarchimages1538834.png.jpg)Figure 13-16. A
    clay render of the Bat Creature using the Material Override setting. Here, I’ve
    created a material called Flat and assigned it to the material override in the
    Render Layers panel. This technique lets you see the lighting of your model in
    isolation.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用材质重载设置的蝙蝠生物黏土渲染图。在这里，我创建了一个名为Flat的材质，并将其分配给渲染层面板中的材质重载选项。这个技巧可以让你看到模型在孤立情况下的光照效果。](httpatomoreillycomsourcenostarchimages1538834.png.jpg)图13-16.
    使用材质重载设置的蝙蝠生物黏土渲染图。在这里，我创建了一个名为Flat的材质，并将其分配给渲染层面板中的材质重载选项。这个技巧可以让你看到模型在孤立情况下的光照效果。'
- en: Shadows and Fur
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 阴影和毛发
- en: While ray-traced or buffered shadows would both be appropriate for most of the
    Bat Creature, our fur has more specific lighting requirements. For best results,
    use deep shadow buffers on each of the key, fill, and back lights and adjust the
    other settings as shown in [Table 13-1](ch13.html#settings_for_the_shadow_buffer_spot_lamp
    "Table 13-1. Settings for the Shadow Buffer Spot Lamps in the Bat Creature Scene").
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然光线追踪或缓存阴影对于大多数蝙蝠生物来说都很合适，但我们的毛发有更具体的光照要求。为了获得最佳效果，请在每个关键、填充和背景光源上使用深阴影缓存，并根据[表13-1](ch13.html#settings_for_the_shadow_buffer_spot_lamp
    "表13-1. 蝙蝠生物场景中的阴影缓存聚光灯设置")中所示的其他设置进行调整。
- en: Table 13-1. Settings for the Shadow Buffer Spot Lamps in the Bat Creature Scene
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 表13-1. 蝙蝠生物场景中的阴影缓存聚光灯设置
- en: '|   | Key | Fill | Back |'
  id: totrans-109
  prefs: []
  type: TYPE_TB
  zh: '|   | 关键 | 填充 | 背景 |'
- en: '| --- | --- | --- | --- |'
  id: totrans-110
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| Filter type | Gauss | Gauss | Gauss |'
  id: totrans-111
  prefs: []
  type: TYPE_TB
  zh: '| 滤镜类型 | 高斯 | 高斯 | 高斯 |'
- en: '| Soft | 12 | 30 | 10 |'
  id: totrans-112
  prefs: []
  type: TYPE_TB
  zh: '| 软 | 12 | 30 | 10 |'
- en: '| Bias | 0.2 | 0.2 | 0.2 |'
  id: totrans-113
  prefs: []
  type: TYPE_TB
  zh: '| 偏差 | 0.2 | 0.2 | 0.2 |'
- en: '| Sample buffers | 1 | 1 | 1 |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 样本缓存 | 1 | 1 | 1 |'
- en: '| Size | 2048 | 2048 | 2048 |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| 大小 | 2048 | 2048 | 2048 |'
- en: '| Samples | 16 | 16 | 16 |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| 样本数 | 16 | 16 | 16 |'
- en: Lighting the Eyes
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 眼睛的光照
- en: Eyes are a critical part of most characters, and it’s important to make sure
    they’re lit as you want them. Sometimes this can mean cheating by adding some
    separate lighting to the eyes to get the look you want. For the Bat Creature,
    I placed the two eye objects on their own layer (press **M** to move objects to
    other layers) and pointed a Hemi lamp at them. I set the lamp’s intensity low
    (to about 0.05) so that the lighting would come predominantly from the existing
    spot lamps. Then, I turned off the light’s Specular option to prevent it from
    contributing to specular reflections. Next, I turned on This Layer Only in the
    lamp’s settings so that the lamp would light only the eye objects, adding a bit
    of extra illumination to the eyes to help them stand out more.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 眼睛是大多数角色的重要部分，确保它们被正确照明非常关键。有时，这意味着通过为眼睛添加单独的光源来“作弊”，从而获得你想要的效果。对于蝙蝠生物，我将两个眼睛对象放置到自己的图层上（按**M**将对象移动到其他图层），然后将一盏Hemi灯照向它们。我将灯的强度设置得较低（大约为0.05），这样光源主要来自现有的聚光灯。接着，我关闭了灯的镜面反射选项，以防它对镜面反射产生影响。然后，我在灯的设置中开启了“仅此图层”，这样灯光只会照亮眼睛对象，增加了一些额外的光照，使眼睛更加突出。
- en: Floor Shadows
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 地面阴影
- en: While I didn’t create a backdrop for the Bat Creature, I knew some shadow around
    his feet would improve my final render. To produce the shadows on their own, I
    used the Only Shadows option for materials. I added a plane to the scene and assigned
    a new material to it. Then, in the materials settings, I turned on Transparency
    (set to Mask), and in the Shadows panel, I turned on Only Shadows. This new material
    (shown in [Figure 13-17](ch13.html#using_an_only_shadows_material_to_cast_s "Figure 13-17. Using
    an Only Shadows material to cast shadows on the floor, shown here on a white background"))
    then renders as just the shadows cast by other objects, with the rest of the mesh
    rendering completely transparent. Later on, this will allow me to easily composite
    these shadows onto the background of the final render. I scaled the plane up to
    pick up all the shadows from the Bat Creature, using the GLSL shading mode as
    a guide.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然我没有为蝙蝠生物创建背景，但我知道在它的脚下加入一些阴影会改善最终渲染效果。为了单独生成阴影，我使用了材料的“仅阴影”选项。我向场景中添加了一个平面，并为其分配了一个新材料。然后，在材料设置中，我开启了透明度（设置为遮罩），并在阴影面板中开启了“仅阴影”选项。这个新材料（见[图13-17](ch13.html#using_an_only_shadows_material_to_cast_s
    "图13-17. 使用仅阴影材料在地面投射阴影，此处显示的是白色背景")）只会渲染其他物体投射的阴影，其余的网格部分将完全透明。稍后，这将使我能够轻松地将这些阴影合成到最终渲染的背景中。我将平面缩放到足以接收蝙蝠生物的所有阴影，并使用GLSL着色模式作为参考。
- en: '![Using an Only Shadows material to cast shadows on the floor, shown here on
    a white background](httpatomoreillycomsourcenostarchimages1538836.png.jpg)Figure 13-17. Using
    an Only Shadows material to cast shadows on the floor, shown here on a white background'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: '![使用仅阴影材料在地面投射阴影，白色背景上显示](httpatomoreillycomsourcenostarchimages1538836.png.jpg)图13-17.
    使用仅阴影材料在地面投射阴影，白色背景上显示'
- en: World Settings for the Bat Creature
  id: totrans-122
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 蝙蝠生物的世界设置
- en: I didn’t need to do much in the way of World settings for the Bat Creature since
    I would be compositing in a simple background later; I just needed to turn on
    Ambient Occlusion. To do so, I enabled Ambient Occlusion in the World tab of the
    Properties panel and set it to Multiply with a factor of 1.0\. For the Gather
    method, I chose Approximate. I set the number of passes to 1 and turned on Falloff
    with a strength of 1\. These settings work well with hair, and using them meant
    that I wouldn’t have to do any ray tracing when rendering since I was using buffer
    shadows for the rest of my lighting.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 对于蝙蝠生物，我不需要做太多的世界设置，因为我稍后会合成一个简单的背景；我只需要开启环境光遮蔽。为此，我在属性面板的世界选项卡中启用了环境光遮蔽，并将其设置为乘法模式，因子为1.0。对于采样方法，我选择了近似（Approximate）。我将通道数设置为1，并开启了衰减（Falloff），强度为1。这些设置与头发效果非常兼容，使用这些设置意味着在渲染时我不需要做光线追踪，因为我已经为其他光源使用了缓冲阴影。
- en: This completes lighting the Bat Creature. We’ll return to rendering it in [Chapter 14](ch14.html
    "Chapter 14. Rendering and Compositing").
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这完成了蝙蝠生物的光照设置。我们将在[第14章](ch14.html "第14章 渲染与合成")中回到渲染部分。
- en: Lighting the Spider Bot
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 点亮蜘蛛机器人
- en: We’ll be rendering the Spider Bot with Cycles. For this project, I wanted bright,
    dynamic lighting to show off the character’s shiny surface. I accomplished this
    with a mix of mesh lights and lamp objects. Since I wouldn’t be using world lighting,
    I set the color of the world background to black in the World tab of the Properties
    editor, and I set its intensity to 0 before continuing.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用Cycles渲染Spider Bot。在这个项目中，我希望有明亮、动态的光照来展示角色的光滑表面。我通过混合网格灯光和灯光对象达到了这一效果。由于我不会使用世界光源，因此在属性编辑器的世界选项卡中，我将世界背景的颜色设置为黑色，并将其强度设置为0，然后继续操作。
- en: The principal lighting for the Spider Bot comes from the right from a point-lamp
    object with an orange color and high strength, as shown in [Figure 13-18](ch13.html#adding_lights_to_the_spider_bot_scenedot
    "Figure 13-18. Adding lights to the Spider Bot scene. To the right of the Spider
    Bot is the orange point lamp, and above it is the grid of mesh lights with their
    material visible in the Node editor on the left. The Cycles render preview is
    a great way to get instant feedback on your lighting."). This lamp is supplemented
    by a mesh light overhead that is composed of multiple planes with a light-emitting
    material. To create this light, I added a new plane object and moved it above
    the scene. Then, I duplicated the face several times in Edit mode, using Blender’s
    snapping tools (set to Increment) to keep the planes aligned in a grid. I then
    scaled the whole array of planes along the *x*-axis to make them rectangular.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Spider Bot的主要光源来自右侧的一个点光源对象，该光源具有橙色和高强度，如[图13-18](ch13.html#adding_lights_to_the_spider_bot_scenedot
    "图13-18. 向Spider Bot场景添加光源。Spider Bot右侧是橙色点光源，光源上方是网格灯光，其材质在左侧的节点编辑器中可见。Cycles渲染预览是一种获取灯光即时反馈的好方法。")所示。这个光源由上方的一个网格灯光补充，网格灯光由多个带有发光材质的平面组成。为了创建这种光源，我添加了一个新的平面对象并将其移动到场景上方。接着，在编辑模式下，我多次复制了这个面，并使用Blender的捕捉工具（设置为增量）将平面对齐为网格。然后，我沿着*x*轴缩放整个平面阵列，使其呈现矩形。
- en: To make these planes emit light, I assigned a new material to them, and in the
    Node editor, I added an Emission Shader node and attached its output to the Material
    Output node (see [Figure 13-18](ch13.html#adding_lights_to_the_spider_bot_scenedot
    "Figure 13-18. Adding lights to the Spider Bot scene. To the right of the Spider
    Bot is the orange point lamp, and above it is the grid of mesh lights with their
    material visible in the Node editor on the left. The Cycles render preview is
    a great way to get instant feedback on your lighting.")). I gave the Emission
    shader a bluish color and set its strength to 10\. Because these lights are meshes,
    not only do they light the scene, but they also show up in the reflections on
    the Spider Bot’s shiny green surfaces, particularly on the back, as seen in the
    figure.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让这些平面发光，我为它们分配了一个新的材质，并在节点编辑器中添加了一个发射着色器节点，并将其输出连接到材质输出节点（见[图13-18](ch13.html#adding_lights_to_the_spider_bot_scenedot
    "图13-18. 向Spider Bot场景添加光源。Spider Bot右侧是橙色点光源，光源上方是网格灯光，其材质在左侧的节点编辑器中可见。Cycles渲染预览是一种获取灯光即时反馈的好方法。")）。我为发射着色器设置了蓝色，并将强度设置为10。由于这些光源是网格，而不仅仅是光源，它们不仅照亮了场景，还在Spider
    Bot光滑的绿色表面上产生了反射，特别是在背部，如图所示。
- en: It’s simple to tweak the strength and color of lights in Cycles, thanks to the
    render preview shading mode of the 3D Viewport, which can give instant feedback
    on how your lighting looks as you adjust lights. (For more on the 3D Viewport
    render preview, see [Chapter 14](ch14.html "Chapter 14. Rendering and Compositing").)
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 通过Cycles中的渲染预览着色模式，调整光源的强度和颜色变得非常简单。3D视口的渲染预览可以在调整灯光时提供即时的反馈，帮助你查看灯光效果。（有关3D视口渲染预览的更多内容，请参见[第14章](ch14.html
    "第14章 渲染与合成")。）
- en: '![Adding lights to the Spider Bot scene. To the right of the Spider Bot is
    the orange point lamp, and above it is the grid of mesh lights with their material
    visible in the Node editor on the left. The Cycles render preview is a great way
    to get instant feedback on your lighting.](httpatomoreillycomsourcenostarchimages1538838.png.jpg)Figure 13-18. Adding
    lights to the Spider Bot scene. To the right of the Spider Bot is the orange point
    lamp, and above it is the grid of mesh lights with their material visible in the
    Node editor on the left. The Cycles render preview is a great way to get instant
    feedback on your lighting.'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
- en: Lighting the Jungle Temple
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Jungle Temple required a more complex lighting setup, but again, we have
    the Cycles render preview to give instant feedback on how our lighting looks.
    For this scene, I wanted to create a nighttime atmosphere with a bright, fiery
    orange light coming from the entrance to the temple.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: World Background
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Because I would be lighting the Jungle Temple scene without world lighting,
    I set the world background color to black with 0 intensity.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: Temple Entrance Lighting
  id: totrans-135
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Let’s start with the light coming from the temple entrance, as this is the light
    source with the most impact on the scene. I used a couple of light sources to
    create this lighting. The first is a mesh emitter at the end of the tunnel (out
    of sight of the camera); I assigned red and orange emission materials to it to
    provide orangish light throughout the tunnel and a bit beyond. I set the intensity
    of these emission materials to about 40.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
- en: To help spread this light further into the surroundings, I created a point-lamp
    object with a yellow-orange color nearer the mouth of the tunnel. I gave it a
    high intensity to light more of the surrounding areas and set the point-light
    size to 1.5 to give soft shadows. These lights can be seen in [Figure 13-19](ch13.html#lighting_of_the_temple_entrance
    "Figure 13-19. The lighting of the temple entrance").
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: Fill Lighting
  id: totrans-138
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: To add further light, I created a soft (large size) point lamp hovering over
    the middle of the scene to provide some general lighting. I also added a harder
    (small size) light behind the camera and off to one side to illuminate the foreground
    objects a bit. I gave both lamps a bluish color, which lent the scene a blue,
    moonlit look where it was not illuminated by the orange light from the tunnel.
    (Blue and orange also oppose one another nicely.) These lights can be seen in
    [Figure 13-20](ch13.html#temple_entrance_lighting_combined_with_s "Figure 13-20. The
    temple entrance lighting combined with some blue fill lighting").
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
- en: Back Light
  id: totrans-140
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'I also added some illumination from the right, coming from behind the temple,
    to highlight the leaves and give a slight rim light to the rocks of the temple
    walls. This light comes from two lights: a long, shallow mesh light that illuminates
    mainly the backs of the leaves and a point light that provides some extra illumination
    from this direction (see [Figure 13-21](ch13.html#back_lighting_from_one_mesh_light_and_a
    "Figure 13-21. The back lighting from one mesh light and a point lamp")). The
    overall effect is shown in [Figure 13-22](ch13.html#lighting_for_the_jungle_temple_scenedot
    "Figure 13-22. The lighting for the Jungle Temple scene. This will later be tweaked
    with some compositing in Chapter 14.").'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: '![The lighting of the temple entrance](httpatomoreillycomsourcenostarchimages1538840.png.jpg)Figure 13-19. The
    lighting of the temple entrance'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
- en: A Note on Soft Shadows
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: While soft shadows look nice, they can really bump up your render times. I ended
    up using quite a few lamps with soft shadows for this scene, and as a result,
    it took quite a while to render. This isn’t really a problem for stills, but bear
    it in mind if you want to render an animation or if you want quick results, and
    consider using lights with harder shadows or having some lights that don’t cast
    ray-traced shadows at all.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '![The temple entrance lighting combined with some blue fill lighting](httpatomoreillycomsourcenostarchimages1538842.png.jpg)Figure 13-20. The
    temple entrance lighting combined with some blue fill lighting![The back lighting
    from one mesh light and a point lamp](httpatomoreillycomsourcenostarchimages1538844.png.jpg)Figure 13-21. The
    back lighting from one mesh light and a point lamp'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
- en: General Lighting Tips
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Lighting makes a big difference to the feel of an image, and you can do a lot
    with lighting to change how your subject is perceived. Here are some tips to make
    your lighting render more efficiently and work better artistically.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
- en: '****Experiment.**** I tried a lot of different lighting setups for all of my
    projects. For the Jungle Temple scene, I tried both daylight and nighttime lighting,
    and for the Bat Creature and Spider Bot, I experimented with many directions and
    colors. Coming up with something good requires experimentation.'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
- en: '****Use test renders and previews.**** Use Blender Internal’s GLSL shading
    and Cycles’s render preview for real-time previews of your lighting. Do test renders
    to make sure your lighting works.'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: '****Less is more.**** Try to use fewer lights where possible to simplify the
    process of tweaking your lighting and to make it easier to see which lights most
    influence your image.'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
- en: '![The lighting for the Jungle Temple scene. This will later be tweaked with
    some compositing in .](httpatomoreillycomsourcenostarchimages1538846.png.jpg)Figure 13-22. The
    lighting for the Jungle Temple scene. This will later be tweaked with some compositing
    in [Chapter 14](ch14.html "Chapter 14. Rendering and Compositing").'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
- en: '****Shadow settings.**** While it can be tempting to turn up all the settings
    for your lamps to try to get the nicest shadows, it’s often not necessary to do
    so. Experiment and try to minimize the use of settings that increase render time
    significantly, such as shadow samples and shadow-buffer sizes. For example, soft
    shadows don’t need high-resolution shadow buffers, and crisp, hard-edged shadows
    don’t need lots of samples. Once you have lighting you like, try to determine
    which settings you can turn down without affecting the look of your lighting in
    order to speed up renders.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
- en: '****Make the most of shadow buffers.**** The resolution of a shadow-buffer
    lamp is spread out over the lamp’s cone. To make the most of it, restrict the
    lamp by reducing its angle to cover only the model (go to Size under Spot Shape
    in the Object Data tab) and to make sure that you’re not wasting any of the shadow
    buffer’s resolution on areas that aren’t casting shadows.'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: '****Use opposing colors.**** Use color theory to your advantage when lighting.
    Often, opposing colors (pairs of colors on opposite sides of the color wheel,
    such as orange and blue or green and purple) work well when used as opposing key
    and fill lights (see [Figure 13-23](ch13.html#opposing_colors_often_make_for_pleasant
    "Figure 13-23. Opposing colors often make for pleasant lighting schemes. Left
    to right: Orange key light and a blue fill, blue key light and an orange fill,
    green key light and a purple fill.")). Natural light often follows this example:
    Sunlight is orange, while scattered light from the atmosphere is blue.'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: '****Directional lighting and characters.**** The direction you choose to light
    a character from can change the way it’s perceived. Lighting from above often
    looks regal and dignified, while lighting from below looks scary and menacing.
    A few examples are shown in [Figure 13-24](ch13.html#lighting_direction_changes_how_we_percei
    "Figure 13-24. Lighting direction changes how we perceive characters. Left to
    right: Lighting from above looks dignified, lighting from below looks spooky,
    and a rim light from behind gives an ominous silhouette.").'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
- en: '![Opposing colors often make for pleasant lighting schemes. Left to right:
    Orange key light and a blue fill, blue key light and an orange fill, green key
    light and a purple fill.](httpatomoreillycomsourcenostarchimages1538848.png.jpg)Figure 13-23. Opposing
    colors often make for pleasant lighting schemes. Left to right: Orange key light
    and a blue fill, blue key light and an orange fill, green key light and a purple
    fill.![Lighting direction changes how we perceive characters. Left to right: Lighting
    from above looks dignified, lighting from below looks spooky, and a rim light
    from behind gives an ominous silhouette.](httpatomoreillycomsourcenostarchimages1538850.png.jpg)Figure 13-24. Lighting
    direction changes how we perceive characters. Left to right: Lighting from above
    looks dignified, lighting from below looks spooky, and a rim light from behind
    gives an ominous silhouette.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: In Review
  id: totrans-157
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this chapter, we looked at lighting for both Blender Internal and Cycles,
    beginning with a discussion of the different types of lamps that Blender offers
    and their functional differences in Blender Internal and Cycles. We examined different
    methods for dealing with shadows, both ray traced and buffered, and explored their
    advantages and disadvantages. We also looked at Blender’s World settings and how
    they impact lighting.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
- en: For the Bat Creature, we covered creating a three-point light setup to give
    dramatic flair to the model and looked at how best to set up shadows for characters
    with hair. For the Spider Bot and Jungle Temple projects, I lit the scenes using
    a mix of lights and mesh-emitter objects to create dynamically lit scenes. When
    I worked with lighting in Cycles, the Cycles render preview came in handy for
    getting real-time feedback on the effect of our lights. And even in Blender Internal,
    I used GLSL shading to get some rudimentary feedback on the lighting and shadows
    in the scene.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we’ll render the scenes and do some final color correction
    and compositing for our projects. I will cover render options for both Cycles
    and Blender Internal and how best to optimize render times while getting the best
    possible renders. We’ll look at node-based compositing using Blender’s compositor,
    as well as creating backgrounds and doing final tweaks in GIMP.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
